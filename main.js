/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var ps=Object.defineProperty;var ul=Object.getOwnPropertyDescriptor;var hl=Object.getOwnPropertyNames;var dl=Object.prototype.hasOwnProperty;var fl=(n,e)=>{for(var t in e)ps(n,t,{get:e[t],enumerable:!0})},gl=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of hl(e))!dl.call(n,s)&&s!==t&&ps(n,s,{get:()=>e[s],enumerable:!(i=ul(e,s))||i.enumerable});return n};var ml=n=>gl(ps({},"__esModule",{value:!0}),n);var Dd={};fl(Dd,{default:()=>fs});module.exports=ml(Dd);var Re=require("obsidian");var rt=require("obsidian");var zn=require("obsidian");var jn=require("obsidian");var ne="top",ce="bottom",ae="right",oe="left",di="auto",et=[ne,ce,ae,oe],je="start",dt="end",In="clippingParents",fi="viewport",It="popper",Dn="reference",ys=et.reduce(function(n,e){return n.concat([e+"-"+je,e+"-"+dt])},[]),gi=[].concat(et,[di]).reduce(function(n,e){return n.concat([e,e+"-"+je,e+"-"+dt])},[]),pl="beforeRead",yl="read",Tl="afterRead",xl="beforeMain",El="main",vl="afterMain",Sl="beforeWrite",Al="write",Ll="afterWrite",Cn=[pl,yl,Tl,xl,El,vl,Sl,Al,Ll];function de(n){return n?(n.nodeName||"").toLowerCase():null}function ie(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ie(n){var e=ie(n).Element;return n instanceof e||n instanceof Element}function ue(n){var e=ie(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Dt(n){if(typeof ShadowRoot=="undefined")return!1;var e=ie(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function bl(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!ue(r)||!de(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function Rl(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!ue(s)||!de(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}var wn={name:"applyStyles",enabled:!0,phase:"write",fn:bl,effect:Rl,requires:["computeStyles"]};function fe(n){return n.split("-")[0]}var Pe=Math.max,ft=Math.min,ze=Math.round;function Ct(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Kt(){return!/^((?!chrome|android).)*safari/i.test(Ct())}function De(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&ue(n)&&(s=n.offsetWidth>0&&ze(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&ze(i.height)/n.offsetHeight||1);var o=Ie(n)?ie(n):window,a=o.visualViewport,l=!Kt()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,h=i.width/s,d=i.height/r;return{width:h,height:d,top:u,right:c+h,bottom:u+d,left:c,x:c,y:u}}function gt(n){var e=De(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Wt(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Dt(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ve(n){return ie(n).getComputedStyle(n)}function Ts(n){return["table","td","th"].indexOf(de(n))>=0}function xe(n){return((Ie(n)?n.ownerDocument:n.document)||window.document).documentElement}function Xe(n){return de(n)==="html"?n:n.assignedSlot||n.parentNode||(Dt(n)?n.host:null)||xe(n)}function kn(n){return!ue(n)||ve(n).position==="fixed"?null:n.offsetParent}function Il(n){var e=/firefox/i.test(Ct()),t=/Trident/i.test(Ct());if(t&&ue(n)){var i=ve(n);if(i.position==="fixed")return null}var s=Xe(n);for(Dt(s)&&(s=s.host);ue(s)&&["html","body"].indexOf(de(s))<0;){var r=ve(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Oe(n){for(var e=ie(n),t=kn(n);t&&Ts(t)&&ve(t).position==="static";)t=kn(t);return t&&(de(t)==="html"||de(t)==="body"&&ve(t).position==="static")?e:t||Il(n)||e}function mt(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function pt(n,e,t){return Pe(n,ft(e,t))}function _n(n,e,t){var i=pt(n,e,t);return i>t?t:i}function Yt(){return{top:0,right:0,bottom:0,left:0}}function qt(n){return Object.assign({},Yt(),n)}function jt(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Dl=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,qt(typeof e!="number"?e:jt(e,et))};function Cl(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=fe(t.placement),l=mt(a),c=[oe,ae].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=Dl(s.padding,t),d=gt(r),f=l==="y"?ne:oe,g=l==="y"?ce:ae,m=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],y=o[l]-t.rects.reference[l],T=Oe(r),v=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,E=m/2-y/2,S=h[f],x=v-d[u]-h[g],A=v/2-d[u]/2+E,b=pt(S,A,x),C=l;t.modifiersData[i]=(e={},e[C]=b,e.centerOffset=b-A,e)}}function wl(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Wt(e.elements.popper,s)&&(e.elements.arrow=s))}var Pn={name:"arrow",enabled:!0,phase:"main",fn:Cl,effect:wl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ce(n){return n.split("-")[1]}var kl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _l(n,e){var t=n.x,i=n.y,s=e.devicePixelRatio||1;return{x:ze(t*s)/s||0,y:ze(i*s)/s||0}}function On(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,d=o.x,f=d===void 0?0:d,g=o.y,m=g===void 0?0:g,y=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var T=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),E=oe,S=ne,x=window;if(c){var A=Oe(t),b="clientHeight",C="clientWidth";if(A===ie(t)&&(A=xe(t),ve(A).position!=="static"&&a==="absolute"&&(b="scrollHeight",C="scrollWidth")),A=A,s===ne||(s===oe||s===ae)&&r===dt){S=ce;var _=h&&A===x&&x.visualViewport?x.visualViewport.height:A[b];m-=_-i.height,m*=l?1:-1}if(s===oe||(s===ne||s===ce)&&r===dt){E=ae;var D=h&&A===x&&x.visualViewport?x.visualViewport.width:A[C];f-=D-i.width,f*=l?1:-1}}var w=Object.assign({position:a},c&&kl),B=u===!0?_l({x:f,y:m},ie(t)):{x:f,y:m};if(f=B.x,m=B.y,l){var P;return Object.assign({},w,(P={},P[S]=v?"0":"",P[E]=T?"0":"",P.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",P))}return Object.assign({},w,(e={},e[S]=v?m+"px":"",e[E]=T?f+"px":"",e.transform="",e))}function Pl(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:fe(e.placement),variation:Ce(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,On(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,On(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Fn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pl,data:{}};var mi={passive:!0};function Ol(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=ie(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",t.update,mi)}),a&&l.addEventListener("resize",t.update,mi),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",t.update,mi)}),a&&l.removeEventListener("resize",t.update,mi)}}var Mn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ol,data:{}};var Fl={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(n){return n.replace(/left|right|bottom|top/g,function(e){return Fl[e]})}var Ml={start:"end",end:"start"};function pi(n){return n.replace(/start|end/g,function(e){return Ml[e]})}function yt(n){var e=ie(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Tt(n){return De(xe(n)).left+yt(n).scrollLeft}function xs(n,e){var t=ie(n),i=xe(n),s=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=Kt();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Tt(n),y:l}}function Es(n){var e,t=xe(n),i=yt(n),s=(e=n.ownerDocument)==null?void 0:e.body,r=Pe(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Pe(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Tt(n),l=-i.scrollTop;return ve(s||t).direction==="rtl"&&(a+=Pe(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function xt(n){var e=ve(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function yi(n){return["html","body","#document"].indexOf(de(n))>=0?n.ownerDocument.body:ue(n)&&xt(n)?n:yi(Xe(n))}function tt(n,e){var t;e===void 0&&(e=[]);var i=yi(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),r=ie(i),o=s?[r].concat(r.visualViewport||[],xt(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(tt(Xe(o)))}function kt(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Nl(n,e){var t=De(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Nn(n,e,t){return e===fi?kt(xs(n,t)):Ie(e)?Nl(e,t):kt(Es(xe(n)))}function Bl(n){var e=tt(Xe(n)),t=["absolute","fixed"].indexOf(ve(n).position)>=0,i=t&&ue(n)?Oe(n):n;return Ie(i)?e.filter(function(s){return Ie(s)&&Wt(s,i)&&de(s)!=="body"}):[]}function vs(n,e,t,i){var s=e==="clippingParents"?Bl(n):[].concat(e),r=[].concat(s,[t]),o=r[0],a=r.reduce(function(l,c){var u=Nn(n,c,i);return l.top=Pe(u.top,l.top),l.right=ft(u.right,l.right),l.bottom=ft(u.bottom,l.bottom),l.left=Pe(u.left,l.left),l},Nn(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zt(n){var e=n.reference,t=n.element,i=n.placement,s=i?fe(i):null,r=i?Ce(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case ne:l={x:o,y:e.y-t.height};break;case ce:l={x:o,y:e.y+e.height};break;case ae:l={x:e.x+e.width,y:a};break;case oe:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?mt(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case je:l[c]=l[c]-(e[u]/2-t[u]/2);break;case dt:l[c]=l[c]+(e[u]/2-t[u]/2);break;default:}}return l}function Fe(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,r=t.strategy,o=r===void 0?n.strategy:r,a=t.boundary,l=a===void 0?In:a,c=t.rootBoundary,u=c===void 0?fi:c,h=t.elementContext,d=h===void 0?It:h,f=t.altBoundary,g=f===void 0?!1:f,m=t.padding,y=m===void 0?0:m,T=qt(typeof y!="number"?y:jt(y,et)),v=d===It?Dn:It,E=n.rects.popper,S=n.elements[g?v:d],x=vs(Ie(S)?S:S.contextElement||xe(n.elements.popper),l,u,o),A=De(n.elements.reference),b=zt({reference:A,element:E,strategy:"absolute",placement:s}),C=kt(Object.assign({},E,b)),_=d===It?C:A,D={top:x.top-_.top+T.top,bottom:_.bottom-x.bottom+T.bottom,left:x.left-_.left+T.left,right:_.right-x.right+T.right},w=n.modifiersData.offset;if(d===It&&w){var B=w[s];Object.keys(D).forEach(function(P){var $=[ae,ce].indexOf(P)>=0?1:-1,U=[ne,ce].indexOf(P)>=0?"y":"x";D[P]+=B[U]*$})}return D}function Ss(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?gi:l,u=Ce(i),h=u?a?ys:ys.filter(function(g){return Ce(g)===u}):et,d=h.filter(function(g){return c.indexOf(g)>=0});d.length===0&&(d=h);var f=d.reduce(function(g,m){return g[m]=Fe(n,{placement:m,boundary:s,rootBoundary:r,padding:o})[fe(m)],g},{});return Object.keys(f).sort(function(g,m){return f[g]-f[m]})}function Ul(n){if(fe(n)===di)return[];var e=wt(n);return[pi(n),e,pi(e)]}function $l(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,h=t.rootBoundary,d=t.altBoundary,f=t.flipVariations,g=f===void 0?!0:f,m=t.allowedAutoPlacements,y=e.options.placement,T=fe(y),v=T===y,E=l||(v||!g?[wt(y)]:Ul(y)),S=[y].concat(E).reduce(function(Z,ee){return Z.concat(fe(ee)===di?Ss(e,{placement:ee,boundary:u,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:m}):ee)},[]),x=e.rects.reference,A=e.rects.popper,b=new Map,C=!0,_=S[0],D=0;D<S.length;D++){var w=S[D],B=fe(w),P=Ce(w)===je,$=[ne,ce].indexOf(B)>=0,U=$?"width":"height",N=Fe(e,{placement:w,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),K=$?P?ae:oe:P?ce:ne;x[U]>A[U]&&(K=wt(K));var X=wt(K),F=[];if(r&&F.push(N[B]<=0),a&&F.push(N[K]<=0,N[X]<=0),F.every(function(Z){return Z})){_=w,C=!1;break}b.set(w,F)}if(C)for(var O=g?3:1,q=function(ee){var re=S.find(function(Te){var be=b.get(Te);if(be)return be.slice(0,ee).every(function(ut){return ut})});if(re)return _=re,"break"},W=O;W>0;W--){var j=q(W);if(j==="break")break}e.placement!==_&&(e.modifiersData[i]._skip=!0,e.placement=_,e.reset=!0)}}var Bn={name:"flip",enabled:!0,phase:"main",fn:$l,requiresIfExists:["offset"],data:{_skip:!1}};function Un(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function $n(n){return[ne,ae,ce,oe].some(function(e){return n[e]>=0})}function Gl(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=Fe(e,{elementContext:"reference"}),a=Fe(e,{altBoundary:!0}),l=Un(o,i),c=Un(a,s,r),u=$n(l),h=$n(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var Gn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gl};function Hl(n,e,t){var i=fe(n),s=[oe,ne].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[oe,ae].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Vl(n){var e=n.state,t=n.options,i=n.name,s=t.offset,r=s===void 0?[0,0]:s,o=gi.reduce(function(u,h){return u[h]=Hl(h,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var Hn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vl};function Kl(n){var e=n.state,t=n.name;e.modifiersData[t]=zt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Vn={name:"popperOffsets",enabled:!0,phase:"read",fn:Kl,data:{}};function As(n){return n==="x"?"y":"x"}function Wl(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,h=t.padding,d=t.tether,f=d===void 0?!0:d,g=t.tetherOffset,m=g===void 0?0:g,y=Fe(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),T=fe(e.placement),v=Ce(e.placement),E=!v,S=mt(T),x=As(S),A=e.modifiersData.popperOffsets,b=e.rects.reference,C=e.rects.popper,_=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,D=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(A){if(r){var P,$=S==="y"?ne:oe,U=S==="y"?ce:ae,N=S==="y"?"height":"width",K=A[S],X=K+y[$],F=K-y[U],O=f?-C[N]/2:0,q=v===je?b[N]:C[N],W=v===je?-C[N]:-b[N],j=e.elements.arrow,Z=f&&j?gt(j):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Yt(),re=ee[$],Te=ee[U],be=pt(0,b[N],Z[N]),ut=E?b[N]/2-O-be-re-D.mainAxis:q-be-re-D.mainAxis,rl=E?-b[N]/2+O+be+Te+D.mainAxis:W+be+Te+D.mainAxis,gs=e.elements.arrow&&Oe(e.elements.arrow),nl=gs?S==="y"?gs.clientTop||0:gs.clientLeft||0:0,Tn=(P=w==null?void 0:w[S])!=null?P:0,ol=K+ut-Tn-nl,al=K+rl-Tn,xn=pt(f?ft(X,ol):X,K,f?Pe(F,al):F);A[S]=xn,B[S]=xn-K}if(a){var En,ll=S==="x"?ne:oe,cl=S==="x"?ce:ae,ht=A[x],hi=x==="y"?"height":"width",vn=ht+y[ll],Sn=ht-y[cl],ms=[ne,oe].indexOf(T)!==-1,An=(En=w==null?void 0:w[x])!=null?En:0,Ln=ms?vn:ht-b[hi]-C[hi]-An+D.altAxis,bn=ms?ht+b[hi]+C[hi]-An-D.altAxis:Sn,Rn=f&&ms?_n(Ln,ht,bn):pt(f?Ln:vn,ht,f?bn:Sn);A[x]=Rn,B[x]=Rn-ht}e.modifiersData[i]=B}}var Kn={name:"preventOverflow",enabled:!0,phase:"main",fn:Wl,requiresIfExists:["offset"]};function Ls(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function bs(n){return n===ie(n)||!ue(n)?yt(n):Ls(n)}function Yl(n){var e=n.getBoundingClientRect(),t=ze(e.width)/n.offsetWidth||1,i=ze(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Rs(n,e,t){t===void 0&&(t=!1);var i=ue(e),s=ue(e)&&Yl(e),r=xe(e),o=De(n,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((de(e)!=="body"||xt(r))&&(a=bs(e)),ue(e)?(l=De(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Tt(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ql(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||s(r)}),i}function Is(n){var e=ql(n);return Cn.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function Ds(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Cs(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Wn={placement:"bottom",modifiers:[],strategy:"absolute"};function Yn(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function qn(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?Wn:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wn,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],d=!1,f={state:u,setOptions:function(T){var v=typeof T=="function"?T(u.options):T;m(),u.options=Object.assign({},r,u.options,v),u.scrollParents={reference:Ie(a)?tt(a):a.contextElement?tt(a.contextElement):[],popper:tt(l)};var E=Is(Cs([].concat(i,u.options.modifiers)));return u.orderedModifiers=E.filter(function(S){return S.enabled}),g(),f.update()},forceUpdate:function(){if(!d){var T=u.elements,v=T.reference,E=T.popper;if(Yn(v,E)){u.rects={reference:Rs(v,Oe(E),u.options.strategy==="fixed"),popper:gt(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var x=u.orderedModifiers[S],A=x.fn,b=x.options,C=b===void 0?{}:b,_=x.name;typeof A=="function"&&(u=A({state:u,options:C,name:_,instance:f})||u)}}}},update:Ds(function(){return new Promise(function(y){f.forceUpdate(),y(u)})}),destroy:function(){m(),d=!0}};if(!Yn(a,l))return f;f.setOptions(c).then(function(y){!d&&c.onFirstUpdate&&c.onFirstUpdate(y)});function g(){u.orderedModifiers.forEach(function(y){var T=y.name,v=y.options,E=v===void 0?{}:v,S=y.effect;if(typeof S=="function"){var x=S({state:u,name:T,instance:f,options:E}),A=function(){};h.push(x||A)}})}function m(){h.forEach(function(y){return y()}),h=[]}return f}}var jl=[Mn,Vn,Fn,wn,Hn,Bn,Kn,Pn,Gn],ws=qn({defaultModifiers:jl});var zl=(n,e)=>(n%e+e)%e,ks=class{constructor(e,t,i){this.owner=e,this.containerEl=t,t.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),t.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),i.register([],"ArrowUp",s=>{if(!s.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),i.register([],"ArrowDown",s=>{if(!s.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),i.register([],"Enter",s=>{if(!s.isComposing)return this.useSelectedItem(s),!1})}onSuggestionClick(e,t){e.preventDefault();let i=this.suggestions.indexOf(t);this.setSelectedItem(i,!1),this.useSelectedItem(e)}onSuggestionMouseover(e,t){let i=this.suggestions.indexOf(t);this.setSelectedItem(i,!1)}setSuggestions(e){this.containerEl.empty();let t=[];e.forEach(i=>{let s=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(i,s),t.push(s)}),this.values=e,this.suggestions=t,this.setSelectedItem(0,!1)}useSelectedItem(e){let t=this.values[this.selectedItem];t&&this.owner.selectSuggestion(t,e)}setSelectedItem(e,t){let i=zl(e,this.suggestions.length),s=this.suggestions[this.selectedItem],r=this.suggestions[i];s==null||s.removeClass("is-selected"),r==null||r.addClass("is-selected"),this.selectedItem=i,t&&r.scrollIntoView(!1)}},_t=class{constructor(e){this.inputEl=e,this.scope=new jn.Scope,this.suggestEl=createDiv("suggestion-container");let t=this.suggestEl.createDiv("suggestion");this.suggest=new ks(this,t,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",i=>{i.preventDefault()})}onInputChanged(){let e=this.inputEl.value,t=this.getSuggestions(e);if(!t){this.close();return}t.length>0?(this.suggest.setSuggestions(t),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(e,t){app.keymap.pushScope(this.scope),e.appendChild(this.suggestEl),this.popper=ws(t,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:i,instance:s})=>{let r=`${i.rects.reference.width}px`;i.styles.popper.width!==r&&(i.styles.popper.width=r,s.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}};var Ti=class extends _t{getSuggestions(e){let t=app.vault.getAllLoadedFiles(),i=[],s=e.toLowerCase();return t.forEach(r=>{r instanceof zn.TFolder&&r.path.toLowerCase().contains(s)&&i.push(r)}),i}renderSuggestion(e,t){t.setText(e.path)}selectSuggestion(e){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close()}};var eo=require("obsidian");var Xn=require("obsidian");function Qn(n){let e=new Xn.Notice("",8e3);n instanceof it&&n.console_msg?(e.noticeEl.innerHTML=`<b>Templater Error</b>:<br/>${n.message}<br/>Check console for more information`,console.error("Templater Error:",n.message,`
`,n.console_msg)):e.noticeEl.innerHTML=`<b>Templater Error</b>:<br/>${n.message}`}var it=class extends Error{constructor(t,i){super(t);this.console_msg=i;this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};function Jn(n,e){try{return n()}catch(t){return Qn(new it(e,t.message)),null}}var st=require("obsidian");function Xl(n){n=(0,st.normalizePath)(n);let e=app.vault.getAbstractFileByPath(n);if(!e)throw new it(`Folder "${n}" doesn't exist`);if(!(e instanceof st.TFolder))throw new it(`${n} is a file, not a folder`);return e}function Zn(n){let e=Xl(n),t=[];return st.Vault.recurseChildren(e,i=>{i instanceof st.TFile&&t.push(i)}),t.sort((i,s)=>i.basename.localeCompare(s.basename)),t}var xi=class extends _t{constructor(t,i,s){super(t);this.inputEl=t;this.plugin=i;this.mode=s}get_folder(t){return""}get_error_msg(t){switch(t){case 0:return"Templates folder doesn't exist";case 1:return"User Scripts folder doesn't exist"}}getSuggestions(t){let i=Jn(()=>Zn(this.get_folder(this.mode)),this.get_error_msg(this.mode));if(!i)return[];let s=[],r=t.toLowerCase();return i.forEach(o=>{o instanceof eo.TFile&&o.extension==="md"&&o.path.toLowerCase().contains(r)&&s.push(o)}),s}renderSuggestion(t,i){i.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};var Ei=class extends rt.PluginSettingTab{constructor(t,i){super(t,i)}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Functions"}),this.addToggle("\u6FC0\u6D3B\u590D\u5236\u5757","\u662F\u5426\u542F\u7528\u590D\u5236\u5757\u7684\u70B9\u51FB\u590D\u5236\u529F\u80FD","enable_clickCopy_block"),this.addToggle("\u81EA\u52A8\u56FA\u5B9A\u7B14\u8BB0","\u5728\u542F\u52A8\u5E93\u65F6\u56FA\u5B9A\u6240\u6709\u7B14\u8BB0\u9875\u9762","enable_auto_pin"),this.addToggle("\u81EA\u52A8\u89E3\u6790 m3u8 ","\u5C06 .m3u8\u89C6 \u9891\u89E3\u6790\u4E3A .mp4 \u64AD\u653E","enable_parse_m3u8"),this.addToggle("\u542F\u7528\u60AC\u6D6E\u5C55\u5F00","\u662F\u5426\u9ED8\u8BA4\u542F\u7528\u60AC\u6D6E\u5C55\u5F00\u4FA7\u8FB9\u680F\u529F\u80FD","setup_enable_hover_sider"),t.createEl("h2",{text:"Notes"}),this.addToggle("\u989C\u8272\u5C55\u5ECA","\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u53EF\u89C6\u5316\u53EF\u4EA4\u4E92\u7684\u989C\u8272\u5C55\u793A\u5ECA\u7B14\u8BB0\u9875\u9762","enable_color_gallery"),this.addFileSuggest("\u989C\u8272\u5C55\u5ECA\u7684\u7B14\u8BB0\u8DEF\u5F84","\u5728\u8FD9\u91CC\u6307\u5B9A\u989C\u8272\u5C55\u5ECA\u7684\u7B14\u8BB0\u8DEF\u5F84","folder_color_gallery"),t.createEl("hr"),this.addToggle("\u56FE\u6807\u5C55\u5ECA","\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u53EF\u89C6\u5316\u7684\u56FE\u6807\u5C55\u793A\u5ECA\u7B14\u8BB0\u9875\u9762","enable_icon_gallery"),this.addFileSuggest("\u56FE\u6807\u5C55\u5ECA\u7684\u7B14\u8BB0\u8DEF\u5F84","\u5728\u8FD9\u91CC\u6307\u5B9A\u56FE\u6807\u5C55\u5ECA\u7684\u7B14\u8BB0\u8DEF\u5F84","folder_icon_gallery")}addDropdown(t,i){new rt.Setting(this.containerEl).setName(t).setDesc(i).addDropdown(s=>s.addOption("none","").addOption("none2",""))}addFileSuggest(t,i,s,r="\u793A\u4F8B\uFF1Afolder1/folder2/file1"){new rt.Setting(this.containerEl).setName(t).setDesc(i).addSearch(o=>{new xi(o.inputEl,this.plugin,0),o.setPlaceholder(r).setValue(this.plugin.settings[s]).onChange(a=>{this.plugin.settings[s]=a,this.plugin.saveSettings()}),o.containerEl.addClass("templater_search")})}addFolderSuggest(t,i,s,r="\u793A\u4F8B\uFF1Afolder1/folder2"){new rt.Setting(this.containerEl).setName(t).setDesc(i).addSearch(o=>{new Ti(o.inputEl),o.setPlaceholder(r).setValue(this.plugin.settings[s]).onChange(a=>{this.plugin.settings[s]=a,this.plugin.saveSettings()}),o.containerEl.addClass("templater_search")})}addToggle(t,i,s,r,o){let a=new rt.Setting(this.containerEl).setName(t).setDesc(i).addToggle(l=>l.setValue(this.plugin.settings[s]).onChange(async c=>{this.plugin.settings[s]=c,this.plugin.saveSettings(),o&&o(c)}));r&&a.addText(l=>l.setPlaceholder(r))}addText(t,i,s,r,o){new rt.Setting(this.containerEl).setName(t).setDesc(i).addText(a=>a.setPlaceholder(s).setValue(this.plugin.settings[r]).onChange(async l=>{this.plugin.settings[r]=l,this.plugin.saveSettings(),o&&o(l)}))}};var _s={setup_enable_hover_sider:!1,enable_clickCopy_block:!0,enable_auto_pin:!1,enable_parse_m3u8:!0,enable_color_gallery:!0,folder_color_gallery:"",enable_icon_gallery:!0,folder_icon_gallery:""};var so=require("obsidian");var Et=require("obsidian");function to(n){navigator.clipboard.writeText(n).then(()=>{new Et.Notice("\u{1F600}Text copied: "+n)}).catch(e=>{new Et.Notice("copy text error: ",e)})}function io(n){let e=new Image;e.crossOrigin="anonymous",e.src=n.src,e.onload=()=>{let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");i&&(i.fillStyle="#fff",i.fillRect(0,0,t.width,t.height),i.drawImage(e,0,0));try{t.toBlob(async s=>{await navigator.clipboard.write([new ClipboardItem({"image/png":s})]).then(()=>{new Et.Notice("\u{1F601}Copied to clipboard: ![["+n.alt+"]]")},()=>{new Et.Notice("\u{1F62D}COPY IMAGE ERROR...")})})}catch(s){new Et.Notice("\u{1F62D}COPY IMAGE ERROR..."),console.error(s)}},e.onerror=()=>{new Et.Notice("\u{1F62D}COPY IMAGE ERROR...")}}var Xt=class extends so.MarkdownRenderChild{constructor(t,i){super(i);this.settings=t;this.renderedDiv=i}async onload(){this.renderClickCopyBlock(this.containerEl)}renderClickCopyBlock(t){let i=t.findAll(".cpb"),s=this.settings.enable_clickCopy_block;for(let r of i)s?(r.removeEventListener("click",this.clickHandler),r.addEventListener("click",this.clickHandler)):r.removeEventListener("click",this.clickHandler)}clickHandler(t){var r,o;let i=(r=t.target)==null?void 0:r.closest("span.cpb:not(:has(*))"),s=(o=t.target)==null?void 0:o.closest(":is(.cpb span) img");i&&!s&&to(i.innerText),s&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey&&io(s)}};var vi=require("obsidian"),Qt=class extends vi.MarkdownRenderChild{constructor(t,i){super(i);this.settings=t;this.renderedDiv=i}async onload(){this.renderColorGallery()}renderColorGallery(){var i;let t=this.containerEl.findAll("li > ul > li");for(let s of t){let r=(i=s.textContent)!=null?i:"";if(!r)return;let o=createEl("button");o.style.backgroundColor=r,o.setAttribute("data-colorValue",r),o.setAttribute("aria-label",r),o.addEventListener("click",()=>{navigator.clipboard.writeText(r),new vi.Notice("\u989C\u8272\u503C\u6210\u529F\u590D\u5236\uFF1A"+r)}),o.addEventListener("mouseover",()=>{let a=s.parentElement.parentElement;a.classList.add("transition-effects"),a.style.backgroundColor=r,a.style.borderColor=`${r}`}),o.addEventListener("mouseout",()=>{let a=s.parentElement.parentElement;a.style.backgroundColor="",a.style.borderColor=""}),s.innerHTML="",s.appendChild(o)}}};var Si=require("obsidian"),Jt=class extends Si.MarkdownRenderChild{constructor(t,i){super(i);this.settings=t;this.renderedDiv=i}async onload(){this.renderIconGallery()}renderIconGallery(){var i;let t=this.containerEl.findAll("div > ul > li");for(let s of t){let r=h=>h.replace(/&amp;|&lt;|&gt;|&quot;|&#x27;/g,d=>({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"})[d]||d),o=s.find("p"),l=o.find("code").innerHTML.toString();l=r(l),o.outerHTML=l,s.addEventListener("click",()=>{navigator.clipboard.writeText(l),new Si.Notice("\u56FE\u6807\u503C\u6210\u529F\u590D\u5236\uFF01")});let c=s.find("ul > li");if(!c)return;let u=(i=c.textContent)!=null?i:"";if(!u)return;s.setAttribute("aria-label",u)}}};function Ql(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zo={exports:{}};(function(n,e){(function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var h=a.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=a.normalizePath(h.path),a.buildURLFromParts(h)}var d=a.parseURL(c);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return u.alwaysNormalize?(d.path=a.normalizePath(d.path),a.buildURLFromParts(d)):c;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var g=s.exec(f.path);f.netLoc=g[1],f.path=g[2]}f.netLoc&&!f.path&&(f.path="/");var m={scheme:f.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(m.netLoc=f.netLoc,d.path[0]!=="/"))if(!d.path)m.path=f.path,d.params||(m.params=f.params,d.query||(m.query=f.query));else{var y=f.path,T=y.substring(0,y.lastIndexOf("/")+1)+d.path;m.path=a.normalizePath(T)}return m.path===null&&(m.path=u.alwaysNormalize?a.normalizePath(d.path):d.path),a.buildURLFromParts(m)},parseURL:function(l){var c=i.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(r,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};n.exports=a})()})(Zo);var on=Zo.exports;function ro(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ye(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ro(Object(t),!0).forEach(function(i){ec(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ro(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jl(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zl(n){var e=Jl(n,"string");return typeof e=="symbol"?e:String(e)}function ec(n,e,t){return e=Zl(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function le(){return le=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},le.apply(this,arguments)}var M=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},tc=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=ic},ic=Number.MAX_SAFE_INTEGER||9007199254740991,p=function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",n}({}),V=function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n}({}),I=function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.UNKNOWN="unknown",n}({}),St=function(){},Js={trace:St,debug:St,log:St,warn:St,info:St,error:St},ei=Js;function sc(n){let e=self.console[n];return e?e.bind(self.console,`[${n}] >`):St}function rc(n,...e){e.forEach(function(t){ei[t]=n[t]?n[t].bind(n):sc(t)})}function nc(n,e){if(typeof console=="object"&&n===!0||typeof n=="object"){rc(n,"debug","log","info","warn","error");try{ei.log(`Debug logs enabled for "${e}" in hls.js version 1.5.13`)}catch(t){ei=Js}}else ei=Js}var L=ei,oc=/^(\d+)x(\d+)$/,no=/(.+?)=(".*?"|.*?)(?:,|$)/g,te=class{constructor(e){typeof e=="string"&&(e=te.parseAttrList(e)),le(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){let t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;let i=new Uint8Array(t.length/2);for(let s=0;s<t.length/2;s++)i[s]=parseInt(t.slice(s*2,s*2+2),16);return i}else return null}hexadecimalIntegerAsNumber(e){let t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){let i=this[e];return i?parseFloat(i):t}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){let t=oc.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t,i={},s='"';for(no.lastIndex=0;(t=no.exec(e))!==null;){let r=t[2];r.indexOf(s)===0&&r.lastIndexOf(s)===r.length-1&&(r=r.slice(1,-1));let o=t[1].trim();i[o]=r}return i}};function ac(n){return n!=="ID"&&n!=="CLASS"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function lc(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"}var $i=class{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){let i=t.attr;for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==i[s]){L.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=le(new te({}),i,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){let i=new Date(this.attr["END-DATE"]);M(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;let e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){let e=this.attr.decimalFloatingPoint("DURATION");if(M(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&M(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}},Gt=class{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},Q={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},Gi=class{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Q.AUDIO]:null,[Q.VIDEO]:null,[Q.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,t){let i=e.split("@",2),s;i.length===1?s=(t==null?void 0:t.byteRangeEndOffset)||0:s=parseInt(i[1]),this._byteRange=[s,parseInt(i[0])+s]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=on.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}},ti=class extends Gi{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Gt,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){let{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){let t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{let i=Object.keys(this.levelkeys);if(i.length===1)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!M(this.programDateTime))return null;let e=M(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){let t=Object.keys(this.levelkeys),i=t.length;if(i>1||i===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){let t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,i,s,r,o=!1){let{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:t,endPTS:i,startDTS:s,endDTS:r,partial:o};return}l.startPTS=Math.min(l.startPTS,t),l.endPTS=Math.max(l.endPTS,i),l.startDTS=Math.min(l.startDTS,s),l.endDTS=Math.max(l.endDTS,r)}clearElementaryStreamInfo(){let{elementaryStreams:e}=this;e[Q.AUDIO]=null,e[Q.VIDEO]=null,e[Q.AUDIOVIDEO]=null}},Zs=class extends Gi{constructor(e,t,i,s,r){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Gt,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=s;let o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){let{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}},cc=10,er=class{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}let t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?M(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||cc}get drift(){let e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}};function an(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function uc(n){let e=tr(n).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function hc(n){let e=function(i,s,r){let o=i[s];i[s]=i[r],i[r]=o};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function dc(n){let e=n.split(":"),t=null;if(e[0]==="data"&&e.length===2){let i=e[1].split(";"),s=i[i.length-1].split(",");if(s.length===2){let r=s[0]==="base64",o=s[1];r?(i.splice(-1,1),t=an(o)):t=uc(o)}}return t}function tr(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}var Ht=typeof self!="undefined"?self:void 0,se={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Le={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function oo(n){switch(n){case Le.FAIRPLAY:return se.FAIRPLAY;case Le.PLAYREADY:return se.PLAYREADY;case Le.WIDEVINE:return se.WIDEVINE;case Le.CLEARKEY:return se.CLEARKEY}}var ea={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function fc(n){if(n===ea.WIDEVINE)return se.WIDEVINE}function ao(n){switch(n){case se.FAIRPLAY:return Le.FAIRPLAY;case se.PLAYREADY:return Le.PLAYREADY;case se.WIDEVINE:return Le.WIDEVINE;case se.CLEARKEY:return Le.CLEARKEY}}function Ps(n){let{drmSystems:e,widevineLicenseUrl:t}=n,i=e?[se.FAIRPLAY,se.WIDEVINE,se.PLAYREADY,se.CLEARKEY].filter(s=>!!e[s]):[];return!i[se.WIDEVINE]&&t&&i.push(se.WIDEVINE),i}var ta=function(n){return Ht!=null&&(n=Ht.navigator)!=null&&n.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function gc(n,e,t,i){let s;switch(n){case se.FAIRPLAY:s=["cenc","sinf"];break;case se.WIDEVINE:case se.PLAYREADY:s=["cenc"];break;case se.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return mc(s,e,t,i)}function mc(n,e,t,i){return[{initDataTypes:n,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map(r=>({contentType:`audio/mp4; codecs="${r}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:t.map(r=>({contentType:`video/mp4; codecs="${r}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function Lt(n,e,t){return Uint8Array.prototype.slice?n.slice(e,t):new Uint8Array(Array.prototype.slice.call(n,e,t))}var ln=(n,e)=>e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,ia=(n,e)=>e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,si=(n,e)=>{let t=e,i=0;for(;ln(n,e);){i+=10;let s=ds(n,e+6);i+=s,ia(n,e+10)&&(i+=10),e+=i}if(i>0)return n.subarray(t,t+i)},ds=(n,e)=>{let t=0;return t=(n[e]&127)<<21,t|=(n[e+1]&127)<<14,t|=(n[e+2]&127)<<7,t|=n[e+3]&127,t},pc=(n,e)=>ln(n,e)&&ds(n,e+6)+10<=n.length-e,cn=n=>{let e=ra(n);for(let t=0;t<e.length;t++){let i=e[t];if(sa(i))return Sc(i)}},sa=n=>n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp",yc=n=>{let e=String.fromCharCode(n[0],n[1],n[2],n[3]),t=ds(n,4),i=10;return{type:e,size:t,data:n.subarray(i,i+t)}},ra=n=>{let e=0,t=[];for(;ln(n,e);){let i=ds(n,e+6);e+=10;let s=e+i;for(;e+8<s;){let r=yc(n.subarray(e)),o=Tc(r);o&&t.push(o),e+=r.size+10}ia(n,e)&&(e+=10)}return t},Tc=n=>n.type==="PRIV"?xc(n):n.type[0]==="W"?vc(n):Ec(n),xc=n=>{if(n.size<2)return;let e=Ye(n.data,!0),t=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:t.buffer}},Ec=n=>{if(n.size<2)return;if(n.type==="TXXX"){let t=1,i=Ye(n.data.subarray(t),!0);t+=i.length+1;let s=Ye(n.data.subarray(t));return{key:n.type,info:i,data:s}}let e=Ye(n.data.subarray(1));return{key:n.type,data:e}},vc=n=>{if(n.type==="WXXX"){if(n.size<2)return;let t=1,i=Ye(n.data.subarray(t),!0);t+=i.length+1;let s=Ye(n.data.subarray(t));return{key:n.type,info:i,data:s}}let e=Ye(n.data);return{key:n.type,data:e}},Sc=n=>{if(n.data.byteLength===8){let e=new Uint8Array(n.data),t=e[3]&1,i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,t&&(i+=4772185884e-2),Math.round(i)}},Ye=(n,e=!1)=>{let t=Ac();if(t){let c=t.decode(n);if(e){let u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}let i=n.length,s,r,o,a="",l=0;for(;l<i;){if(s=n[l++],s===0&&e)return a;if(s===0||s===3)continue;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(s);break;case 12:case 13:r=n[l++],a+=String.fromCharCode((s&31)<<6|r&63);break;case 14:r=n[l++],o=n[l++],a+=String.fromCharCode((s&15)<<12|(r&63)<<6|(o&63)<<0);break}}return a},Os;function Ac(){if(!navigator.userAgent.includes("PlayStation 4"))return!Os&&typeof self.TextDecoder!="undefined"&&(Os=new self.TextDecoder("utf-8")),Os}var He={hexDump:function(n){let e="";for(let t=0;t<n.length;t++){let i=n[t].toString(16);i.length<2&&(i="0"+i),e+=i}return e}},Hi=Math.pow(2,32)-1,Lc=[].push,na={video:1,audio:2,id3:3,text:4};function he(n){return String.fromCharCode.apply(null,n)}function oa(n,e){let t=n[e]<<8|n[e+1];return t<0?65536+t:t}function G(n,e){let t=aa(n,e);return t<0?4294967296+t:t}function lo(n,e){let t=G(n,e);return t*=Math.pow(2,32),t+=G(n,e+4),t}function aa(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function Fs(n,e,t){n[e]=t>>24,n[e+1]=t>>16&255,n[e+2]=t>>8&255,n[e+3]=t&255}function bc(n){let e=n.byteLength;for(let t=0;t<e;){let i=G(n,t);if(i>8&&n[t+4]===109&&n[t+5]===111&&n[t+6]===111&&n[t+7]===102)return!0;t=i>1?t+i:e}return!1}function Y(n,e){let t=[];if(!e.length)return t;let i=n.byteLength;for(let s=0;s<i;){let r=G(n,s),o=he(n.subarray(s+4,s+8)),a=r>1?s+r:i;if(o===e[0])if(e.length===1)t.push(n.subarray(s+8,a));else{let l=Y(n.subarray(s+8,a),e.slice(1));l.length&&Lc.apply(t,l)}s=a}return t}function Rc(n){let e=[],t=n[0],i=8,s=G(n,i);i+=4;let r=0,o=0;t===0?(r=G(n,i),o=G(n,i+4),i+=8):(r=lo(n,i),o=lo(n,i+8),i+=16),i+=2;let a=n.length+o,l=oa(n,i);i+=2;for(let c=0;c<l;c++){let u=i,h=G(n,u);u+=4;let d=h&2147483647;if((h&2147483648)>>>31===1)return L.warn("SIDX has hierarchical references (not supported)"),null;let g=G(n,u);u+=4,e.push({referenceSize:d,subsegmentDuration:g,info:{duration:g/s,start:a,end:a+d-1}}),a+=d,u+=4,i=u}return{earliestPresentationTime:r,timescale:s,version:t,referencesCount:l,references:e}}function la(n){let e=[],t=Y(n,["moov","trak"]);for(let s=0;s<t.length;s++){let r=t[s],o=Y(r,["tkhd"])[0];if(o){let a=o[0],l=G(o,a===0?12:20),c=Y(r,["mdia","mdhd"])[0];if(c){a=c[0];let u=G(c,a===0?12:20),h=Y(r,["mdia","hdlr"])[0];if(h){let d=he(h.subarray(8,12)),f={soun:Q.AUDIO,vide:Q.VIDEO}[d];if(f){let g=Y(r,["mdia","minf","stbl","stsd"])[0],m=Ic(g);e[l]={timescale:u,type:f},e[f]=ye({timescale:u,id:l},m)}}}}}return Y(n,["moov","mvex","trex"]).forEach(s=>{let r=G(s,4),o=e[r];o&&(o.default={duration:G(s,12),flags:G(s,20)})}),e}function Ic(n){let e=n.subarray(8),t=e.subarray(8+78),i=he(e.subarray(4,8)),s=i,r=i==="enca"||i==="encv";if(r){let a=Y(e,[i])[0].subarray(i==="enca"?28:78);Y(a,["sinf"]).forEach(c=>{let u=Y(c,["schm"])[0];if(u){let h=he(u.subarray(4,8));if(h==="cbcs"||h==="cenc"){let d=Y(c,["frma"])[0];d&&(s=he(d))}}})}switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{let o=Y(t,["avcC"])[0];s+="."+Ai(o[1])+Ai(o[2])+Ai(o[3]);break}case"mp4a":{let o=Y(e,[i])[0],a=Y(o.subarray(28),["esds"])[0];if(a&&a.length>12){let l=4;if(a[l++]!==3)break;l=Ms(a,l),l+=2;let c=a[l++];if(c&128&&(l+=2),c&64&&(l+=a[l++]),a[l++]!==4)break;l=Ms(a,l);let u=a[l++];if(u===64)s+="."+Ai(u);else break;if(l+=12,a[l++]!==5)break;l=Ms(a,l);let h=a[l++],d=(h&248)>>3;d===31&&(d+=1+((h&7)<<3)+((a[l]&224)>>5)),s+="."+d}break}case"hvc1":case"hev1":{let o=Y(t,["hvcC"])[0],a=o[1],l=["","A","B","C"][a>>6],c=a&31,u=G(o,2),h=(a&32)>>5?"H":"L",d=o[12],f=o.subarray(6,12);s+="."+l+c,s+="."+u.toString(16).toUpperCase(),s+="."+h+d;let g="";for(let m=f.length;m--;){let y=f[m];(y||g)&&(g="."+y.toString(16).toUpperCase()+g)}s+=g;break}case"dvh1":case"dvhe":{let o=Y(t,["dvcC"])[0],a=o[2]>>1&127,l=o[2]<<5&32|o[3]>>3&31;s+="."+Ge(a)+"."+Ge(l);break}case"vp09":{let o=Y(t,["vpcC"])[0],a=o[4],l=o[5],c=o[6]>>4&15;s+="."+Ge(a)+"."+Ge(l)+"."+Ge(c);break}case"av01":{let o=Y(t,["av1C"])[0],a=o[1]>>>5,l=o[1]&31,c=o[2]>>>7?"H":"M",u=(o[2]&64)>>6,h=(o[2]&32)>>5,d=a===2&&u?h?12:10:u?10:8,f=(o[2]&16)>>4,g=(o[2]&8)>>3,m=(o[2]&4)>>2,y=o[2]&3,T=1,v=1,E=1,S=0;s+="."+a+"."+Ge(l)+c+"."+Ge(d)+"."+f+"."+g+m+y+"."+Ge(T)+"."+Ge(v)+"."+Ge(E)+"."+S;break}}return{codec:s,encrypted:r}}function Ms(n,e){let t=e+5;for(;n[e++]&128&&e<t;);return e}function Ai(n){return("0"+n.toString(16).toUpperCase()).slice(-2)}function Ge(n){return(n<10?"0":"")+n}function Dc(n,e){if(!n||!e)return n;let t=e.keyId;return t&&e.isCommonEncryption&&Y(n,["moov","trak"]).forEach(s=>{let o=Y(s,["mdia","minf","stbl","stsd"])[0].subarray(8),a=Y(o,["enca"]),l=a.length>0;l||(a=Y(o,["encv"])),a.forEach(c=>{let u=l?c.subarray(28):c.subarray(78);Y(u,["sinf"]).forEach(d=>{let f=ca(d);if(f){let g=f.subarray(8,24);g.some(m=>m!==0)||(L.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${He.hexDump(g)} -> ${He.hexDump(t)}`),f.set(t,8))}})})}),n}function ca(n){let e=Y(n,["schm"])[0];if(e){let t=he(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return Y(n,["schi","tenc"])[0]}return L.error("[eme] missing 'schm' box"),null}function Cc(n,e){return Y(e,["moof","traf"]).reduce((t,i)=>{let s=Y(i,["tfdt"])[0],r=s[0],o=Y(i,["tfhd"]).reduce((a,l)=>{let c=G(l,4),u=n[c];if(u){let h=G(s,4);if(r===1){if(h===Hi)return L.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;h*=Hi+1,h+=G(s,8)}let d=u.timescale||9e4,f=h/d;if(M(f)&&(a===null||f<a))return f}return a},null);return o!==null&&M(o)&&(t===null||o<t)?o:t},null)}function wc(n,e){let t=0,i=0,s=0,r=Y(n,["moof","traf"]);for(let o=0;o<r.length;o++){let a=r[o],l=Y(a,["tfhd"])[0],c=G(l,4),u=e[c];if(!u)continue;let h=u.default,d=G(l,0)|(h==null?void 0:h.flags),f=h==null?void 0:h.duration;d&8&&(d&2?f=G(l,12):f=G(l,8));let g=u.timescale||9e4,m=Y(a,["trun"]);for(let y=0;y<m.length;y++){if(t=kc(m[y]),!t&&f){let T=G(m[y],4);t=f*T}u.type===Q.VIDEO?i+=t/g:u.type===Q.AUDIO&&(s+=t/g)}}if(i===0&&s===0){let o=1/0,a=0,l=0,c=Y(n,["sidx"]);for(let u=0;u<c.length;u++){let h=Rc(c[u]);if(h!=null&&h.references){o=Math.min(o,h.earliestPresentationTime/h.timescale);let d=h.references.reduce((f,g)=>f+g.info.duration||0,0);a=Math.max(a,d+h.earliestPresentationTime/h.timescale),l=a-o}}if(l&&M(l))return l}return i||s}function kc(n){let e=G(n,0),t=8;e&1&&(t+=4),e&4&&(t+=4);let i=0,s=G(n,4);for(let r=0;r<s;r++){if(e&256){let o=G(n,t);i+=o,t+=4}e&512&&(t+=4),e&1024&&(t+=4),e&2048&&(t+=4)}return i}function _c(n,e,t){Y(e,["moof","traf"]).forEach(i=>{Y(i,["tfhd"]).forEach(s=>{let r=G(s,4),o=n[r];if(!o)return;let a=o.timescale||9e4;Y(i,["tfdt"]).forEach(l=>{let c=l[0],u=t*a;if(u){let h=G(l,4);if(c===0)h-=u,h=Math.max(h,0),Fs(l,4,h);else{h*=Math.pow(2,32),h+=G(l,8),h-=u,h=Math.max(h,0);let d=Math.floor(h/(Hi+1)),f=Math.floor(h%(Hi+1));Fs(l,4,d),Fs(l,8,f)}}})})})}function Pc(n){let e={valid:null,remainder:null},t=Y(n,["moof"]);if(t.length<2)return e.remainder=n,e;let i=t[t.length-1];return e.valid=Lt(n,0,i.byteOffset-8),e.remainder=Lt(n,i.byteOffset-8),e}function _e(n,e){let t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function co(n,e){let t=[],i=e.samples,s=e.timescale,r=e.id,o=!1;return Y(i,["moof"]).map(l=>{let c=l.byteOffset-8;Y(l,["traf"]).map(h=>{let d=Y(h,["tfdt"]).map(f=>{let g=f[0],m=G(f,4);return g===1&&(m*=Math.pow(2,32),m+=G(f,8)),m/s})[0];return d!==void 0&&(n=d),Y(h,["tfhd"]).map(f=>{let g=G(f,4),m=G(f,0)&16777215,y=(m&1)!==0,T=(m&2)!==0,v=(m&8)!==0,E=0,S=(m&16)!==0,x=0,A=(m&32)!==0,b=8;g===r&&(y&&(b+=8),T&&(b+=4),v&&(E=G(f,b),b+=4),S&&(x=G(f,b),b+=4),A&&(b+=4),e.type==="video"&&(o=Oc(e.codec)),Y(h,["trun"]).map(C=>{let _=C[0],D=G(C,0)&16777215,w=(D&1)!==0,B=0,P=(D&4)!==0,$=(D&256)!==0,U=0,N=(D&512)!==0,K=0,X=(D&1024)!==0,F=(D&2048)!==0,O=0,q=G(C,4),W=8;w&&(B=G(C,W),W+=4),P&&(W+=4);let j=B+c;for(let Z=0;Z<q;Z++){if($?(U=G(C,W),W+=4):U=E,N?(K=G(C,W),W+=4):K=x,X&&(W+=4),F&&(_===0?O=G(C,W):O=aa(C,W),W+=4),e.type===Q.VIDEO){let ee=0;for(;ee<K;){let re=G(i,j);if(j+=4,Fc(o,i[j])){let Te=i.subarray(j,j+re);ua(Te,o?2:1,n+O/s,t)}j+=re,ee+=re+4}}n+=U/s}}))})})}),t}function Oc(n){if(!n)return!1;let e=n.indexOf("."),t=e<0?n:n.substring(0,e);return t==="hvc1"||t==="hev1"||t==="dvh1"||t==="dvhe"}function Fc(n,e){if(n){let t=e>>1&63;return t===39||t===40}else return(e&31)===6}function ua(n,e,t,i){let s=ha(n),r=0;r+=e;let o=0,a=0,l=0;for(;r<s.length;){o=0;do{if(r>=s.length)break;l=s[r++],o+=l}while(l===255);a=0;do{if(r>=s.length)break;l=s[r++],a+=l}while(l===255);let c=s.length-r,u=r;if(a<c)r+=a;else if(a>c){L.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(s[u++]===181){let d=oa(s,u);if(u+=2,d===49){let f=G(s,u);if(u+=4,f===1195456820){let g=s[u++];if(g===3){let m=s[u++],y=31&m,T=64&m,v=T?2+y*3:0,E=new Uint8Array(v);if(T){E[0]=m;for(let S=1;S<v;S++)E[S]=s[u++]}i.push({type:g,payloadType:o,pts:t,bytes:E})}}}}}else if(o===5&&a>16){let h=[];for(let g=0;g<16;g++){let m=s[u++].toString(16);h.push(m.length==1?"0"+m:m),(g===3||g===5||g===7||g===9)&&h.push("-")}let d=a-16,f=new Uint8Array(d);for(let g=0;g<d;g++)f[g]=s[u++];i.push({payloadType:o,pts:t,uuid:h.join(""),userData:Ye(f),userDataBytes:f})}}}function ha(n){let e=n.byteLength,t=[],i=1;for(;i<e-2;)n[i]===0&&n[i+1]===0&&n[i+2]===3?(t.push(i+2),i+=2):i++;if(t.length===0)return n;let s=e-t.length,r=new Uint8Array(s),o=0;for(i=0;i<s;o++,i++)o===t[0]&&(o++,t.shift()),r[i]=n[o];return r}function Mc(n){let e=n[0],t="",i="",s=0,r=0,o=0,a=0,l=0,c=0;if(e===0){for(;he(n.subarray(c,c+1))!=="\0";)t+=he(n.subarray(c,c+1)),c+=1;for(t+=he(n.subarray(c,c+1)),c+=1;he(n.subarray(c,c+1))!=="\0";)i+=he(n.subarray(c,c+1)),c+=1;i+=he(n.subarray(c,c+1)),c+=1,s=G(n,12),r=G(n,16),a=G(n,20),l=G(n,24),c=28}else if(e===1){c+=4,s=G(n,c),c+=4;let h=G(n,c);c+=4;let d=G(n,c);for(c+=4,o=2**32*h+d,tc(o)||(o=Number.MAX_SAFE_INTEGER,L.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=G(n,c),c+=4,l=G(n,c),c+=4;he(n.subarray(c,c+1))!=="\0";)t+=he(n.subarray(c,c+1)),c+=1;for(t+=he(n.subarray(c,c+1)),c+=1;he(n.subarray(c,c+1))!=="\0";)i+=he(n.subarray(c,c+1)),c+=1;i+=he(n.subarray(c,c+1)),c+=1}let u=n.subarray(c,n.byteLength);return{schemeIdUri:t,value:i,timeScale:s,presentationTime:o,presentationTimeDelta:r,eventDuration:a,id:l,payload:u}}function Nc(n,...e){let t=e.length,i=8,s=t;for(;s--;)i+=e[s].byteLength;let r=new Uint8Array(i);for(r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=i&255,r.set(n,4),s=0,i=8;s<t;s++)r.set(e[s],i),i+=e[s].byteLength;return r}function Bc(n,e,t){if(n.byteLength!==16)throw new RangeError("Invalid system id");let i,s;if(e){i=1,s=new Uint8Array(e.length*16);for(let a=0;a<e.length;a++){let l=e[a];if(l.byteLength!==16)throw new RangeError("Invalid key");s.set(l,a*16)}}else i=0,s=new Uint8Array;let r;i>0?(r=new Uint8Array(4),e.length>0&&new DataView(r.buffer).setUint32(0,e.length,!1)):r=new Uint8Array;let o=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(o.buffer).setUint32(0,t.byteLength,!1),Nc([112,115,115,104],new Uint8Array([i,0,0,0]),n,r,s,o,t||new Uint8Array)}function Uc(n){if(!(n instanceof ArrayBuffer)||n.byteLength<32)return null;let e={version:0,systemId:"",kids:null,data:null},t=new DataView(n),i=t.getUint32(0);if(n.byteLength!==i&&i>44||t.getUint32(4)!==1886614376||(e.version=t.getUint32(8)>>>24,e.version>1))return null;e.systemId=He.hexDump(new Uint8Array(n,12,16));let r=t.getUint32(28);if(e.version===0){if(i-32<r)return null;e.data=new Uint8Array(n,32,r)}else if(e.version===1){e.kids=[];for(let o=0;o<r;o++)e.kids.push(new Uint8Array(n,32+o*16,16))}return e}var Li={},bt=class{static clearKeyUriToKeyIdMap(){Li={}}constructor(e,t,i,s=[1],r=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=i,this.keyFormatVersions=s,this.iv=r,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Le.FAIRPLAY:case Le.WIDEVINE:case Le.PLAYREADY:case Le.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&L.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);let i=$c(e);return new bt(this.method,this.uri,"identity",this.keyFormatVersions,i)}let t=dc(this.uri);if(t)switch(this.keyFormat){case Le.WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Le.PLAYREADY:{let i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Bc(i,null,t);let s=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(s)),o=r.substring(r.indexOf("<"),r.length),c=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(c){let u=c.childNodes[0]?c.childNodes[0].nodeValue:c.getAttribute("VALUE");if(u){let h=an(u).subarray(0,16);hc(h),this.keyId=h}}break}default:{let i=t.subarray(0,16);if(i.length!==16){let s=new Uint8Array(16);s.set(i,16-i.length),i=s}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=Li[this.uri];if(!i){let s=Object.keys(Li).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,s),Li[this.uri]=i}this.keyId=i}return this}};function $c(n){let e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=n>>8*(15-t)&255;return e}var da=/\{\$([a-zA-Z0-9-_]+)\}/g;function uo(n){return da.test(n)}function Se(n,e,t){if(n.variableList!==null||n.hasVariableRefs)for(let i=t.length;i--;){let s=t[i],r=e[s];r&&(e[s]=ir(n,r))}}function ir(n,e){if(n.variableList!==null||n.hasVariableRefs){let t=n.variableList;return e.replace(da,i=>{let s=i.substring(2,i.length-1),r=t==null?void 0:t[s];return r===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),i):r})}return e}function ho(n,e,t){let i=n.variableList;i||(n.variableList=i={});let s,r;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{let o=new self.URL(t).searchParams;if(o.has(s))r=o.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${t}"`)}catch(o){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else s=e.NAME,r=e.VALUE;s in i?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):i[s]=r||""}function Gc(n,e,t){let i=e.IMPORT;if(t&&i in t){let s=n.variableList;s||(n.variableList=s={}),s[i]=t[i]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function Rt(n=!0){return typeof self=="undefined"?void 0:(n||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Hc(n){return typeof self!="undefined"&&n===self.ManagedMediaSource}var Vi={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Vc(n,e){let t=Vi[e];return!!t&&!!t[n.slice(0,4)]}function Ns(n,e,t=!0){return!n.split(",").some(i=>!fa(i,e,t))}function fa(n,e,t=!0){var i;let s=Rt(t);return(i=s==null?void 0:s.isTypeSupported(ri(n,e)))!=null?i:!1}function ri(n,e){return`${e}/mp4;codecs="${n}"`}function fo(n){if(n){let e=n.substring(0,4);return Vi.video[e]}return 2}function Ki(n){return n.split(",").reduce((e,t)=>{let i=Vi.video[t];return i?(i*2+e)/(e?3:2):(Vi.audio[t]+e)/(e?2:1)},0)}var Bs={};function Kc(n,e=!0){if(Bs[n])return Bs[n];let t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[n];for(let i=0;i<t.length;i++)if(fa(t[i],"audio",e))return Bs[n]=t[i],t[i];return n}var Wc=/flac|opus/i;function Wi(n,e=!0){return n.replace(Wc,t=>Kc(t.toLowerCase(),e))}function go(n,e){return n&&n!=="mp4a"?n:e&&e.split(",")[0]}function Yc(n){let e=n.split(",");for(let t=0;t<e.length;t++){let i=e[t].split(".");if(i.length>2){let s=i.shift()+".";s+=parseInt(i.shift()).toString(16),s+=("000"+parseInt(i.shift()).toString(16)).slice(-4),e[t]=s}}return e.join(",")}var mo=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,po=/#EXT-X-MEDIA:(.*)/g,qc=/^#EXT(?:INF|-X-TARGETDURATION):/m,yo=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),jc=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),ke=class{static findGroup(e,t){for(let i=0;i<e.length;i++){let s=e[i];if(s.id===t)return s}}static resolve(e,t){return on.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return qc.test(e)}static parseMasterPlaylist(e,t){let i=uo(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},r=[];mo.lastIndex=0;let o;for(;(o=mo.exec(e))!=null;)if(o[1]){var a;let c=new te(o[1]);Se(s,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);let u=ir(s,o[2]),h={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:ke.resolve(u,t)},d=c.decimalResolution("RESOLUTION");d&&(h.width=d.width,h.height=d.height),zc(c.CODECS,h),(a=h.unknownCodecs)!=null&&a.length||r.push(h),s.levels.push(h)}else if(o[3]){let c=o[3],u=o[4];switch(c){case"SESSION-DATA":{let h=new te(u);Se(s,h,["DATA-ID","LANGUAGE","VALUE","URI"]);let d=h["DATA-ID"];d&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[d]=h);break}case"SESSION-KEY":{let h=To(u,t,s);h.encrypted&&h.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(h)):L.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{let h=new te(u);Se(s,h,["NAME","VALUE","QUERYPARAM"]),ho(s,h,t)}break}case"CONTENT-STEERING":{let h=new te(u);Se(s,h,["SERVER-URI","PATHWAY-ID"]),s.contentSteering={uri:ke.resolve(h["SERVER-URI"],t),pathwayId:h["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=xo(u);break}}}let l=r.length>0&&r.length<s.levels.length;return s.levels=l?r:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,t,i){let s,r={},o=i.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]},l=0;for(po.lastIndex=0;(s=po.exec(e))!==null;){let c=new te(s[1]),u=c.TYPE;if(u){let h=a[u],d=r[u]||[];r[u]=d,Se(i,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);let f=c.LANGUAGE,g=c["ASSOC-LANGUAGE"],m=c.CHANNELS,y=c.CHARACTERISTICS,T=c["INSTREAM-ID"],v={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||f||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:f,url:c.URI?ke.resolve(c.URI,t):""};if(g&&(v.assocLang=g),m&&(v.channels=m),y&&(v.characteristics=y),T&&(v.instreamId=T),h!=null&&h.length){let E=ke.findGroup(h,v.groupId)||h[0];Eo(v,E,"audioCodec"),Eo(v,E,"textCodec")}d.push(v)}}return r}static parseLevelPlaylist(e,t,i,s,r,o){let a=new er(t),l=a.fragments,c=null,u=0,h=0,d=0,f=0,g=null,m=new ti(s,t),y,T,v,E=-1,S=!1,x=null;for(yo.lastIndex=0,a.m3u8=e,a.hasVariableRefs=uo(e);(y=yo.exec(e))!==null;){S&&(S=!1,m=new ti(s,t),m.start=d,m.sn=u,m.cc=f,m.level=i,c&&(m.initSegment=c,m.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,x&&(m.setByteRange(x),x=null)));let _=y[1];if(_){m.duration=parseFloat(_);let D=(" "+y[2]).slice(1);m.title=D||null,m.tagList.push(D?["INF",_,D]:["INF",_])}else if(y[3]){if(M(m.duration)){m.start=d,v&&Ao(m,v,a),m.sn=u,m.level=i,m.cc=f,l.push(m);let D=(" "+y[3]).slice(1);m.relurl=ir(a,D),vo(m,g),g=m,d+=m.duration,u++,h=0,S=!0}}else if(y[4]){let D=(" "+y[4]).slice(1);g?m.setByteRange(D,g):m.setByteRange(D)}else if(y[5])m.rawProgramDateTime=(" "+y[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),E===-1&&(E=l.length);else{if(y=y[0].match(jc),!y){L.warn("No matches on slow regex match for level playlist!");continue}for(T=1;T<y.length&&typeof y[T]=="undefined";T++);let D=(" "+y[T]).slice(1),w=(" "+y[T+1]).slice(1),B=y[T+2]?(" "+y[T+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":a.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":u=a.startSN=parseInt(w);break;case"SKIP":{let P=new te(w);Se(a,P,["RECENTLY-REMOVED-DATERANGES"]);let $=P.decimalInteger("SKIPPED-SEGMENTS");if(M($)){a.skippedSegments=$;for(let N=$;N--;)l.unshift(null);u+=$}let U=P.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(a.recentlyRemovedDateranges=U.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(w),1);break;case"VERSION":a.version=parseInt(w);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(w||B)&&m.tagList.push(B?[w,B]:[w]);break;case"DISCONTINUITY":f++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([D]);break;case"BITRATE":m.tagList.push([D,w]);break;case"DATERANGE":{let P=new te(w);Se(a,P,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Se(a,P,P.clientAttrs);let $=new $i(P,a.dateRanges[P.ID]);$.isValid||a.skippedSegments?a.dateRanges[$.id]=$:L.warn(`Ignoring invalid DATERANGE tag: "${w}"`),m.tagList.push(["EXT-X-DATERANGE",w]);break}case"DEFINE":{{let P=new te(w);Se(a,P,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in P?Gc(a,P,o):ho(a,P,t)}break}case"DISCONTINUITY-SEQUENCE":f=parseInt(w);break;case"KEY":{let P=To(w,t,a);if(P.isSupported()){if(P.method==="NONE"){v=void 0;break}v||(v={}),v[P.keyFormat]&&(v=le({},v)),v[P.keyFormat]=P}else L.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${w}"`);break}case"START":a.startTimeOffset=xo(w);break;case"MAP":{let P=new te(w);if(Se(a,P,["BYTERANGE","URI"]),m.duration){let $=new ti(s,t);So($,P,i,v),c=$,m.initSegment=c,c.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=c.rawProgramDateTime)}else{let $=m.byteRangeEndOffset;if($){let U=m.byteRangeStartOffset;x=`${$-U}@${U}`}else x=null;So(m,P,i,v),c=m,S=!0}break}case"SERVER-CONTROL":{let P=new te(w);a.canBlockReload=P.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=P.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&P.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=P.optionalFloat("PART-HOLD-BACK",0),a.holdBack=P.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{let P=new te(w);a.partTarget=P.decimalFloatingPoint("PART-TARGET");break}case"PART":{let P=a.partList;P||(P=a.partList=[]);let $=h>0?P[P.length-1]:void 0,U=h++,N=new te(w);Se(a,N,["BYTERANGE","URI"]);let K=new Zs(N,m,t,U,$);P.push(K),m.duration+=K.duration;break}case"PRELOAD-HINT":{let P=new te(w);Se(a,P,["URI"]),a.preloadHint=P;break}case"RENDITION-REPORT":{let P=new te(w);Se(a,P,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(P);break}default:L.warn(`line parsed but not handled: ${y}`);break}}}g&&!g.relurl?(l.pop(),d-=g.duration,a.partList&&(a.fragmentHint=g)):a.partList&&(vo(m,g),m.cc=f,a.fragmentHint=m,v&&Ao(m,v,a));let A=l.length,b=l[0],C=l[A-1];if(d+=a.skippedSegments*a.targetduration,d>0&&A&&C){a.averagetargetduration=d/A;let _=C.sn;a.endSN=_!=="initSegment"?_:0,a.live||(C.endList=!0),b&&(a.startCC=b.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(d+=a.fragmentHint.duration),a.totalduration=d,a.endCC=f,E>0&&Xc(l,E),a}};function To(n,e,t){var i,s;let r=new te(n);Se(t,r,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);let o=(i=r.METHOD)!=null?i:"",a=r.URI,l=r.hexadecimalInteger("IV"),c=r.KEYFORMATVERSIONS,u=(s=r.KEYFORMAT)!=null?s:"identity";a&&r.IV&&!l&&L.error(`Invalid IV: ${r.IV}`);let h=a?ke.resolve(a,e):"",d=(c||"1").split("/").map(Number).filter(Number.isFinite);return new bt(o,h,u,d,l)}function xo(n){let t=new te(n).decimalFloatingPoint("TIME-OFFSET");return M(t)?t:null}function zc(n,e){let t=(n||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{let s=t.filter(r=>Vc(r,i));s.length&&(e[`${i}Codec`]=s.join(","),t=t.filter(r=>s.indexOf(r)===-1))}),e.unknownCodecs=t}function Eo(n,e,t){let i=e[t];i&&(n[t]=i)}function Xc(n,e){let t=n[e];for(let i=e;i--;){let s=n[i];if(!s)return;s.programDateTime=t.programDateTime-s.duration*1e3,t=s}}function vo(n,e){n.rawProgramDateTime?n.programDateTime=Date.parse(n.rawProgramDateTime):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime),M(n.programDateTime)||(n.programDateTime=null,n.rawProgramDateTime=null)}function So(n,e,t,i){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=t,n.sn="initSegment",i&&(n.levelkeys=i),n.initSegment=null}function Ao(n,e,t){n.levelkeys=e;let{encryptedFragments:i}=t;(!i.length||i[i.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&i.push(n)}var z={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},H={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function Lo(n){let{type:e}=n;switch(e){case z.AUDIO_TRACK:return H.AUDIO;case z.SUBTITLE_TRACK:return H.SUBTITLE;default:return H.MAIN}}function Us(n,e){let t=n.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}var sr=class{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){let{hls:e}=this;e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.LEVEL_LOADING,this.onLevelLoading,this),e.on(p.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(p.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){let{hls:e}=this;e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.LEVEL_LOADING,this.onLevelLoading,this),e.off(p.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(p.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){let t=this.hls.config,i=t.pLoader,s=t.loader,r=i||s,o=new r(t);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(let e in this.loaders){let t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){let{url:i}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:z.MANIFEST,url:i,deliveryDirectives:null})}onLevelLoading(e,t){let{id:i,level:s,pathwayId:r,url:o,deliveryDirectives:a}=t;this.load({id:i,level:s,pathwayId:r,responseType:"text",type:z.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,t){let{id:i,groupId:s,url:r,deliveryDirectives:o}=t;this.load({id:i,groupId:s,level:null,responseType:"text",type:z.AUDIO_TRACK,url:r,deliveryDirectives:o})}onSubtitleTrackLoading(e,t){let{id:i,groupId:s,url:r,deliveryDirectives:o}=t;this.load({id:i,groupId:s,level:null,responseType:"text",type:z.SUBTITLE_TRACK,url:r,deliveryDirectives:o})}load(e){var t;let i=this.hls.config,s=this.getInternalLoader(e);if(s){let c=s.context;if(c&&c.url===e.url&&c.level===e.level){L.trace("[playlist-loader]: playlist request ongoing");return}L.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let r;if(e.type===z.MANIFEST?r=i.manifestLoadPolicy.default:r=le({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),M((t=e.deliveryDirectives)==null?void 0:t.part)){let c;if(e.type===z.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===z.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===z.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){let u=c.partTarget,h=c.targetduration;if(u&&h){let d=Math.max(u*3,h*.8)*1e3;r=le({},r,{maxTimeToFirstByteMs:Math.min(d,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,r.maxTimeToFirstByteMs)})}}}let o=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,h,d)=>{let f=this.getInternalLoader(h);this.resetInternalLoader(h.type);let g=c.data;if(g.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,h,new Error("no EXTM3U delimiter"),d||null,u);return}u.parsing.start=performance.now(),ke.isMediaPlaylist(g)?this.handleTrackOrLevelPlaylist(c,u,h,d||null,f):this.handleMasterPlaylist(c,u,h,d)},onError:(c,u,h,d)=>{this.handleNetworkError(u,h,!1,c,d)},onTimeout:(c,u,h)=>{this.handleNetworkError(u,h,!0,void 0,c)}};s.load(e,a,l)}handleMasterPlaylist(e,t,i,s){let r=this.hls,o=e.data,a=Us(e,i),l=ke.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,i,l.playlistParsingError,s,t);return}let{contentSteering:c,levels:u,sessionData:h,sessionKeys:d,startTimeOffset:f,variableList:g}=l;this.variableList=g;let{AUDIO:m=[],SUBTITLES:y,"CLOSED-CAPTIONS":T}=ke.parseMasterPlaylistMedia(o,a,l);m.length&&!m.some(E=>!E.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(L.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new te({}),bitrate:0,url:""})),r.trigger(p.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:y,captions:T,contentSteering:c,url:a,stats:t,networkDetails:s,sessionData:h,sessionKeys:d,startTimeOffset:f,variableList:g})}handleTrackOrLevelPlaylist(e,t,i,s,r){let o=this.hls,{id:a,level:l,type:c}=i,u=Us(e,i),h=0,d=M(l)?l:M(a)?a:0,f=Lo(i),g=ke.parseLevelPlaylist(e.data,u,d,f,h,this.variableList);if(c===z.MANIFEST){let m={attrs:new te({}),bitrate:0,details:g,name:"",url:u};o.trigger(p.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:t,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=g,this.handlePlaylistLoaded(g,e,t,i,s,r)}handleManifestParsingError(e,t,i,s,r){this.hls.trigger(p.ERROR,{type:V.NETWORK_ERROR,details:I.MANIFEST_PARSING_ERROR,fatal:t.type===z.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:s,stats:r})}handleNetworkError(e,t,i=!1,s,r){let o=`A network ${i?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===z.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===z.AUDIO_TRACK||e.type===z.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);let a=new Error(o);L.warn(`[playlist-loader]: ${o}`);let l=I.UNKNOWN,c=!1,u=this.getInternalLoader(e);switch(e.type){case z.MANIFEST:l=i?I.MANIFEST_LOAD_TIMEOUT:I.MANIFEST_LOAD_ERROR,c=!0;break;case z.LEVEL:l=i?I.LEVEL_LOAD_TIMEOUT:I.LEVEL_LOAD_ERROR,c=!1;break;case z.AUDIO_TRACK:l=i?I.AUDIO_TRACK_LOAD_TIMEOUT:I.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case z.SUBTITLE_TRACK:l=i?I.SUBTITLE_TRACK_LOAD_TIMEOUT:I.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);let h={type:V.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:a,networkDetails:t,stats:r};if(s){let d=(t==null?void 0:t.url)||e.url;h.response=ye({url:d,data:void 0},s)}this.hls.trigger(p.ERROR,h)}handlePlaylistLoaded(e,t,i,s,r,o){let a=this.hls,{type:l,level:c,id:u,groupId:h,deliveryDirectives:d}=s,f=Us(t,s),g=Lo(s),m=typeof s.level=="number"&&g===H.MAIN?c:void 0;if(!e.fragments.length){let T=new Error("No Segments found in Playlist");a.trigger(p.ERROR,{type:V.NETWORK_ERROR,details:I.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:T,reason:T.message,response:t,context:s,level:m,parent:g,networkDetails:r,stats:i});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));let y=e.playlistParsingError;if(y){a.trigger(p.ERROR,{type:V.NETWORK_ERROR,details:I.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:y,reason:y.message,response:t,context:s,level:m,parent:g,networkDetails:r,stats:i});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case z.MANIFEST:case z.LEVEL:a.trigger(p.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:i,networkDetails:r,deliveryDirectives:d});break;case z.AUDIO_TRACK:a.trigger(p.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:h||"",stats:i,networkDetails:r,deliveryDirectives:d});break;case z.SUBTITLE_TRACK:a.trigger(p.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:h||"",stats:i,networkDetails:r,deliveryDirectives:d});break}}};function ga(n,e){let t;try{t=new Event("addtrack")}catch(i){t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=n,e.dispatchEvent(t)}function ma(n,e){let t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(i){L.debug(`[texttrack-utils]: ${i}`);try{let s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,n.addCue(s)}catch(s){L.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}t==="disabled"&&(n.mode=t)}function Nt(n){let e=n.mode;if(e==="disabled"&&(n.mode="hidden"),n.cues)for(let t=n.cues.length;t--;)n.removeCue(n.cues[t]);e==="disabled"&&(n.mode=e)}function rr(n,e,t,i){let s=n.mode;if(s==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){let r=Jc(n.cues,e,t);for(let o=0;o<r.length;o++)(!i||i(r[o]))&&n.removeCue(r[o])}s==="disabled"&&(n.mode=s)}function Qc(n,e){if(e<n[0].startTime)return 0;let t=n.length-1;if(e>n[t].endTime)return-1;let i=0,s=t;for(;i<=s;){let r=Math.floor((s+i)/2);if(e<n[r].startTime)s=r-1;else if(e>n[r].startTime&&i<t)i=r+1;else return r}return n[i].startTime-e<e-n[s].startTime?i:s}function Jc(n,e,t){let i=[],s=Qc(n,e);if(s>-1)for(let r=s,o=n.length;r<o;r++){let a=n[r];if(a.startTime>=e&&a.endTime<=t)i.push(a);else if(a.startTime>t)return i}return i}function Pi(n){let e=[];for(let t=0;t<n.length;t++){let i=n[t];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&e.push(n[t])}return e}var Ue={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"},Zc=.25;function nr(){if(typeof self!="undefined")return self.VTTCue||self.TextTrackCue}function bo(n,e,t,i,s){let r=new n(e,t,"");try{r.value=i,s&&(r.type=s)}catch(o){r=new n(e,t,JSON.stringify(s?ye({type:s},i):i))}return r}var bi=(()=>{let n=nr();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function $s(n,e){return n.getTime()/1e3-e}function eu(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var or=class{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(p.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(p.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Nt(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){let t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){let i=e[t];if(i.kind==="metadata"&&i.label==="id3")return ga(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;let{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:s}}}=this;if(!i&&!s)return;let{samples:r}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));let o=nr();if(o)for(let a=0;a<r.length;a++){let l=r[a].type;if(l===Ue.emsg&&!i||!s)continue;let c=ra(r[a].data);if(c){let u=r[a].pts,h=u+r[a].duration;h>bi&&(h=bi),h-u<=0&&(h=u+Zc);for(let f=0;f<c.length;f++){let g=c[f];if(!sa(g)){this.updateId3CueEnds(u,l);let m=bo(o,u,h,g,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,t){var i;let s=(i=this.id3Track)==null?void 0:i.cues;if(s)for(let r=s.length;r--;){let o=s[r];o.type===t&&o.startTime<e&&o.endTime===bi&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:i,type:s}){let{id3Track:r,hls:o}=this;if(!o)return;let{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(r&&(a||l)){let c;s==="audio"?c=u=>u.type===Ue.audioId3&&l:s==="video"?c=u=>u.type===Ue.emsg&&a:c=u=>u.type===Ue.audioId3&&l||u.type===Ue.emsg&&a,rr(r,t,i,c)}}onLevelUpdated(e,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;let{dateRangeCuesAppended:i,id3Track:s}=this,{dateRanges:r}=t,o=Object.keys(r);if(s){let u=Object.keys(i).filter(h=>!o.includes(h));for(let h=u.length;h--;){let d=u[h];Object.keys(i[d].cues).forEach(f=>{s.removeCue(i[d].cues[f])}),delete i[d]}}let a=t.fragments[t.fragments.length-1];if(o.length===0||!M(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));let l=a.programDateTime/1e3-a.start,c=nr();for(let u=0;u<o.length;u++){let h=o[u],d=r[h],f=$s(d.startDate,l),g=i[h],m=(g==null?void 0:g.cues)||{},y=(g==null?void 0:g.durationKnown)||!1,T=bi,v=d.endDate;if(v)T=$s(v,l),y=!0;else if(d.endOnNext&&!y){let S=o.reduce((x,A)=>{if(A!==d.id){let b=r[A];if(b.class===d.class&&b.startDate>d.startDate&&(!x||d.startDate<x.startDate))return b}return x},null);S&&(T=$s(S.startDate,l),y=!0)}let E=Object.keys(d.attr);for(let S=0;S<E.length;S++){let x=E[S];if(!ac(x))continue;let A=m[x];if(A)y&&!g.durationKnown&&(A.endTime=T);else if(c){let b=d.attr[x];lc(x)&&(b=eu(b));let C=bo(c,f,T,{key:x,data:b},Ue.dateRange);C&&(C.id=h,this.id3Track.addCue(C),m[x]=C)}}i[h]={cues:m,dateRange:d,durationKnown:y}}}},ar=class{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){let{config:e,levelDetails:t}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){let{levelDetails:e}=this;if(e===null)return null;let{holdBack:t,partHoldBack:i,targetduration:s}=e,{liveSyncDuration:r,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig,c=a&&i||t;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=r!==void 0?r:o*s);let u=s,h=1;return c+Math.min(this.stallCount*h,u)}get liveSyncPosition(){let e=this.estimateLiveEdge(),t=this.targetLatency,i=this.levelDetails;if(e===null||t===null||i===null)return null;let s=i.edge,r=e-t-this.edgeStalled,o=s-i.totalduration,a=s-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o,r),a)}get drift(){let{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){let{levelDetails:e}=this;if(e===null)return 0;let t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){let{media:e,levelDetails:t}=this;if(!e||!t)return 0;let i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(p.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(p.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(p.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(p.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var i;t.details===I.BUFFER_STALLED_ERROR&&(this.stallCount++,(i=this.levelDetails)!=null&&i.live&&L.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){let{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;let i=this.computeLatency();if(i===null)return;this._latency=i;let{lowLatencyMode:s,maxLiveSyncPlaybackRate:r}=this.config;if(!s||r===1||!t.live)return;let o=this.targetLatency;if(o===null)return;let a=i-o,l=Math.min(this.maxLatency,o+t.targetduration);if(a<l&&a>.05&&this.forwardBufferLength>1){let u=Math.min(2,Math.max(1,r)),h=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,h))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){let{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){let e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}},lr=["NONE","TYPE-0","TYPE-1",null];function tu(n){return lr.indexOf(n)>-1}var Yi=["SDR","PQ","HLG"];function iu(n){return!!n&&Yi.indexOf(n)>-1}var Oi={No:"",Yes:"YES",v2:"v2"};function Ro(n){let{canSkipUntil:e,canSkipDateRanges:t,age:i}=n,s=i<e/2;return e&&s?t?Oi.v2:Oi.Yes:Oi.No}var qi=class{constructor(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}addDirectives(e){let t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}},lt=class{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(t=>!!t).map(t=>t.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return Io(this._audioGroups,e)}hasSubtitleGroup(e){return Io(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(t)===-1&&i.push(t)}else if(e==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(t)===-1&&i.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}};function Io(n,e){return!e||!n?!1:n.indexOf(e)!==-1}function Gs(n,e){let t=e.startPTS;if(M(t)){let i=0,s;e.sn>n.sn?(i=t-n.start,s=n):(i=n.start-t,s=e),s.duration!==i&&(s.duration=i)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.start=n.start+(n.minEndPTS-n.start):e.start=n.start+n.duration:e.start=Math.max(n.start-e.duration,0)}function pa(n,e,t,i,s,r){i-t<=0&&(L.warn("Fragment should have a positive duration",e),i=t+e.duration,r=s+e.duration);let a=t,l=i,c=e.startPTS,u=e.endPTS;if(M(c)){let y=Math.abs(c-t);M(e.deltaPTS)?e.deltaPTS=Math.max(y,e.deltaPTS):e.deltaPTS=y,a=Math.max(t,c),t=Math.min(t,c),s=Math.min(s,e.startDTS),l=Math.min(i,u),i=Math.max(i,u),r=Math.max(r,e.endDTS)}let h=t-e.start;e.start!==0&&(e.start=t),e.duration=i-e.start,e.startPTS=t,e.maxStartPTS=a,e.startDTS=s,e.endPTS=i,e.minEndPTS=l,e.endDTS=r;let d=e.sn;if(!n||d<n.startSN||d>n.endSN)return 0;let f,g=d-n.startSN,m=n.fragments;for(m[g]=e,f=g;f>0;f--)Gs(m[f],m[f-1]);for(f=g;f<m.length-1;f++)Gs(m[f],m[f+1]);return n.fragmentHint&&Gs(m[m.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,h}function su(n,e){let t=null,i=n.fragments;for(let l=i.length-1;l>=0;l--){let c=i[l].initSegment;if(c){t=c;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let s=0,r;if(ou(n,e,(l,c)=>{l.relurl&&(s=l.cc-c.cc),M(l.startPTS)&&M(l.endPTS)&&(c.start=c.startPTS=l.startPTS,c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.duration=l.endPTS-l.startPTS,c.duration&&(r=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=l.elementaryStreams,c.loader=l.loader,c.stats=l.stats,l.initSegment&&(c.initSegment=l.initSegment,t=l.initSegment)}),t&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(c=>{var u;c&&(!c.initSegment||c.initSegment.relurl===((u=t)==null?void 0:u.relurl))&&(c.initSegment=t)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){L.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=ru(n.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));let o=e.fragments;if(s){L.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<o.length;l++)o[l].cc+=s}e.skippedSegments&&(e.startCC=e.fragments[0].cc),nu(n.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),r?pa(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):ya(n,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;let a=e.advancedDateTime;if(e.advanced&&a){let l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime}function ru(n,e,t){let i=le({},n);return t&&t.forEach(s=>{delete i[s]}),Object.keys(e).forEach(s=>{let r=new $i(e[s].attr,i[s]);r.isValid?i[s]=r:L.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[s].attr)}"`)}),i}function nu(n,e,t){if(n&&e){let i=0;for(let s=0,r=n.length;s<=r;s++){let o=n[s],a=e[s+i];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?t(o,a):i--}}}function ou(n,e,t){let i=e.skippedSegments,s=Math.max(n.startSN,e.startSN)-e.startSN,r=(n.fragmentHint?1:0)+(i?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,o=e.startSN-n.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let c=s;c<=r;c++){let u=l[o+c],h=a[c];i&&!h&&c<i&&(h=e.fragments[c]=u),u&&h&&t(u,h)}}function ya(n,e){let t=e.startSN+e.skippedSegments-n.startSN,i=n.fragments;t<0||t>=i.length||cr(e,i[t].start)}function cr(n,e){if(e){let t=n.fragments;for(let i=n.skippedSegments;i<t.length;i++)t[i].start+=e;n.fragmentHint&&(n.fragmentHint.start+=e)}}function au(n,e=1/0){let t=1e3*n.targetduration;if(n.updated){let i=n.fragments,s=4;if(i.length&&t*s>e){let r=i[i.length-1].duration*1e3;r<t&&(t=r)}}else t/=2;return Math.round(t)}function lu(n,e,t){if(!(n!=null&&n.details))return null;let i=n.details,s=i.fragments[e-i.startSN];return s||(s=i.fragmentHint,s&&s.sn===e)?s:e<i.startSN&&t&&t.sn===e?t:null}function Do(n,e,t){var i;return n!=null&&n.details?Ta((i=n.details)==null?void 0:i.partList,e,t):null}function Ta(n,e,t){if(n)for(let i=n.length;i--;){let s=n[i];if(s.index===t&&s.fragment.sn===e)return s}return null}function xa(n){n.forEach((e,t)=>{let{details:i}=e;i!=null&&i.fragments&&i.fragments.forEach(s=>{s.level=t})})}function ji(n){switch(n.details){case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_TIMEOUT:case I.LEVEL_LOAD_TIMEOUT:case I.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Co(n,e){let t=ji(e);return n.default[`${t?"timeout":"error"}Retry`]}function un(n,e){let t=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*n.retryDelayMs,n.maxRetryDelayMs)}function wo(n){return ye(ye({},n),{errorRetry:null,timeoutRetry:null})}function zi(n,e,t,i){if(!n)return!1;let s=i==null?void 0:i.code,r=e<n.maxNumRetry&&(cu(s)||!!t);return n.shouldRetry?n.shouldRetry(n,e,t,i,r):r}function cu(n){return n===0&&navigator.onLine===!1||!!n&&(n<400||n>499)}var Ea={search:function(n,e){let t=0,i=n.length-1,s=null,r=null;for(;t<=i;){s=(t+i)/2|0,r=n[s];let o=e(r);if(o>0)t=s+1;else if(o<0)i=s-1;else return r}return null}};function uu(n,e,t){if(e===null||!Array.isArray(n)||!n.length||!M(e))return null;let i=n[0].programDateTime;if(e<(i||0))return null;let s=n[n.length-1].endProgramDateTime;if(e>=(s||0))return null;t=t||0;for(let r=0;r<n.length;++r){let o=n[r];if(du(e,t,o))return o}return null}function Xi(n,e,t=0,i=0,s=.005){let r=null;if(n){r=e[n.sn-e[0].sn+1]||null;let a=n.endDTS-t;a>0&&a<15e-7&&(t+=15e-7)}else t===0&&e[0].start===0&&(r=e[0]);if(r&&((!n||n.level===r.level)&&ur(t,i,r)===0||hu(r,n,Math.min(s,i))))return r;let o=Ea.search(e,ur.bind(null,t,i));return o&&(o!==n||!r)?o:r}function hu(n,e,t){if(e&&e.start===0&&e.level<n.level&&(e.endPTS||0)>0){let i=e.tagList.reduce((s,r)=>(r[0]==="INF"&&(s+=parseFloat(r[1])),s),t);return n.start<=i}return!1}function ur(n=0,e=0,t){if(t.start<=n&&t.start+t.duration>n)return 0;let i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-i<=n?1:t.start-i>n&&t.start?-1:0}function du(n,e,t){let i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-i>n}function fu(n,e){return Ea.search(n,t=>t.cc<e?1:t.cc>e?-1:0)}var me={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Me={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4},hr=class{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=L.log.bind(L,"[info]:"),this.warn=L.warn.bind(L,"[warning]:"),this.error=L.error.bind(L,"[error]:"),this.registerListeners()}registerListeners(){let e=this.hls;e.on(p.ERROR,this.onError,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){let e=this.hls;e&&(e.off(p.ERROR,this.onError,this),e.off(p.ERROR,this.onErrorOut,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===H.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var i,s;if(t.fatal)return;let r=this.hls,o=t.context;switch(t.details){case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case I.FRAG_PARSING_ERROR:if((i=t.frag)!=null&&i.gap){t.errorAction={action:me.DoNothing,flags:Me.None};return}case I.FRAG_GAP:case I.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=me.SendAlternateToPenaltyBox;return}case I.LEVEL_EMPTY_ERROR:case I.LEVEL_PARSING_ERROR:{var a,l;let c=t.parent===H.MAIN?t.level:r.loadLevel;t.details===I.LEVEL_EMPTY_ERROR&&((a=t.context)!=null&&(l=a.levelDetails)!=null&&l.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,c):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,c))}return;case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.level));return;case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.SUBTITLE_LOAD_ERROR:case I.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){let c=r.levels[r.loadLevel];if(c&&(o.type===z.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===z.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.loadLevel),t.errorAction.action=me.SendAlternateToPenaltyBox,t.errorAction.flags=Me.MoveAllAlternatesMatchingHost;return}}return;case I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{let c=r.levels[r.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?t.errorAction={action:me.SendAlternateToPenaltyBox,flags:Me.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(t)}return;case I.BUFFER_ADD_CODEC_ERROR:case I.REMUX_ALLOC_ERROR:case I.BUFFER_APPEND_ERROR:t.errorAction=this.getLevelSwitchAction(t,(s=t.level)!=null?s:r.loadLevel);return;case I.INTERNAL_EXCEPTION:case I.BUFFER_APPENDING_ERROR:case I.BUFFER_FULL_ERROR:case I.LEVEL_SWITCH_ERROR:case I.BUFFER_STALLED_ERROR:case I.BUFFER_SEEK_OVER_HOLE:case I.BUFFER_NUDGE_ON_STALL:t.errorAction={action:me.DoNothing,flags:Me.None};return}t.type===V.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){let t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){let i=this.hls,s=Co(i.config.playlistLoadPolicy,e),r=this.playlistError++;if(zi(s,r,ji(e),e.response))return{action:me.RetryRequest,flags:Me.None,retryConfig:s,retryCount:r};let a=this.getLevelSwitchAction(e,t);return s&&(a.retryConfig=s,a.retryCount=r),a}getFragRetryOrSwitchAction(e){let t=this.hls,i=this.getVariantLevelIndex(e.frag),s=t.levels[i],{fragLoadPolicy:r,keyLoadPolicy:o}=t.config,a=Co(e.details.startsWith("key")?o:r,e),l=t.levels.reduce((u,h)=>u+h.fragmentError,0);if(s&&(e.details!==I.FRAG_GAP&&s.fragmentError++,zi(a,l,ji(e),e.response)))return{action:me.RetryRequest,flags:Me.None,retryConfig:a,retryCount:l};let c=this.getLevelSwitchAction(e,i);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,t){let i=this.hls;t==null&&(t=i.loadLevel);let s=this.hls.levels[t];if(s){var r,o;let c=e.details;s.loadError++,c===I.BUFFER_APPEND_ERROR&&s.fragmentError++;let u=-1,{levels:h,loadLevel:d,minAutoLevel:f,maxAutoLevel:g}=i;i.autoLevelEnabled||(i.loadLevel=-1);let m=(r=e.frag)==null?void 0:r.type,T=(m===H.AUDIO&&c===I.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===I.BUFFER_ADD_CODEC_ERROR||c===I.BUFFER_APPEND_ERROR))&&h.some(({audioCodec:A})=>s.audioCodec!==A),E=e.sourceBufferName==="video"&&(c===I.BUFFER_ADD_CODEC_ERROR||c===I.BUFFER_APPEND_ERROR)&&h.some(({codecSet:A,audioCodec:b})=>s.codecSet!==A&&s.audioCodec===b),{type:S,groupId:x}=(o=e.context)!=null?o:{};for(let A=h.length;A--;){let b=(A+d)%h.length;if(b!==d&&b>=f&&b<=g&&h[b].loadError===0){var a,l;let C=h[b];if(c===I.FRAG_GAP&&m===H.MAIN&&e.frag){let _=h[b].details;if(_){let D=Xi(e.frag,_.fragments,e.frag.start);if(D!=null&&D.gap)continue}}else{if(S===z.AUDIO_TRACK&&C.hasAudioGroup(x)||S===z.SUBTITLE_TRACK&&C.hasSubtitleGroup(x))continue;if(m===H.AUDIO&&(a=s.audioGroups)!=null&&a.some(_=>C.hasAudioGroup(_))||m===H.SUBTITLE&&(l=s.subtitleGroups)!=null&&l.some(_=>C.hasSubtitleGroup(_))||T&&s.audioCodec===C.audioCodec||!T&&s.audioCodec!==C.audioCodec||E&&s.codecSet===C.codecSet)continue}u=b;break}}if(u>-1&&i.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:me.SendAlternateToPenaltyBox,flags:Me.None,nextAutoLevel:u}}return{action:me.SendAlternateToPenaltyBox,flags:Me.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var i;switch((i=t.errorAction)==null?void 0:i.action){case me.DoNothing:break;case me.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==I.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break;case me.RetryRequest:break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){let t=this.hls,i=e.errorAction;if(!i)return;let{flags:s,hdcpLevel:r,nextAutoLevel:o}=i;switch(s){case Me.None:this.switchLevel(e,o);break;case Me.MoveAllAlternatesMatchingHDCP:r&&(t.maxHdcpLevel=lr[lr.indexOf(r)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}i.resolved||this.switchLevel(e,o)}switchLevel(e,t){t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},ni=class{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=L.log.bind(L,`${t}:`),this.warn=L.warn.bind(L,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,i){let s=t==null?void 0:t.renditionReports;if(s){let r=-1;for(let o=0;o<s.length;o++){let a=s[o],l;try{l=new self.URL(a.URI,t.url).href}catch(c){L.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){r=o;break}else l===e.substring(0,l.length)&&(r=o)}if(r!==-1){let o=s[r],a=parseInt(o["LAST-MSN"])||(t==null?void 0:t.lastPartSn),l=parseInt(o["LAST-PART"])||(t==null?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){let u=Math.min(t.age-t.partTarget,t.targetduration);l>=0&&u>t.partTarget&&(l+=1)}let c=i&&Ro(i);return new qi(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,i){let{details:s,stats:r}=t,o=self.performance.now(),a=r.loading.first?Math.max(0,o-r.loading.first):0;if(s.advancedDateTime=Date.now()-a,s.live||i!=null&&i.live){if(s.reloaded(i),i&&this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),i&&s.fragments.length>0&&su(i,s),!this.canLoad||!s.live)return;let l,c,u;if(s.canBlockReload&&s.endSN&&s.advanced){let y=this.hls.config.lowLatencyMode,T=s.lastPartSn,v=s.endSN,E=s.lastPartIndex,S=E!==-1,x=T===v,A=y?0:E;S?(c=x?v+1:T,u=x?A:E+1):c=v+1;let b=s.age,C=b+s.ageHeader,_=Math.min(C-s.partTarget,s.targetduration*1.5);if(_>0){if(i&&_>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${_} with playlist age: ${s.age}`),_=0;else{let D=Math.floor(_/s.targetduration);if(c+=D,u!==void 0){let w=Math.round(_%s.targetduration/s.partTarget);u+=w}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${b.toFixed(2)}s goal: ${_} skip sn ${D} to part ${u}`)}s.tuneInGoal=_}if(l=this.getDeliveryDirectives(s,t.deliveryDirectives,c,u),y||!x){this.loadPlaylist(l);return}}else(s.canBlockReload||s.canSkipUntil)&&(l=this.getDeliveryDirectives(s,t.deliveryDirectives,c,u));let h=this.hls.mainForwardBufferInfo,d=h?h.end-h.len:0,f=(s.edge-d)*1e3,g=au(s,f);s.updated&&o>this.requestScheduled+g&&(this.requestScheduled=r.loading.start),c!==void 0&&s.canBlockReload?this.requestScheduled=r.loading.first+g-(s.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+g<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=g);let m=this.requestScheduled-o;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,t,i,s){let r=Ro(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,s=t.part,r=Oi.No),new qi(i,s,r)}checkRetry(e){let t=e.details,i=ji(e),s=e.errorAction,{action:r,retryCount:o=0,retryConfig:a}=s||{},l=!!s&&!!a&&(r===me.RetryRequest||!s.resolved&&r===me.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(i&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{let u=un(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${t}" in ${u}ms`)}e.levelRetry=!0,s.resolved=!0}return l}},ot=class{constructor(e,t=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}sample(e,t){let i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){let e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}},dr=class{constructor(e,t,i,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ot(e),this.fast_=new ot(t),this.defaultTTFB_=s,this.ttfb_=new ot(e)}update(e,t){let{slow_:i,fast_:s,ttfb_:r}=this;i.halfLife!==e&&(this.slow_=new ot(e,i.getEstimate(),i.getTotalWeight())),s.halfLife!==t&&(this.fast_=new ot(t,s.getEstimate(),s.getTotalWeight())),r.halfLife!==e&&(this.ttfb_=new ot(e,r.getEstimate(),r.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);let i=8*t,s=e/1e3,r=i/s;this.fast_.sample(s,r),this.slow_.sample(s,r)}sampleTTFB(e){let t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}},va={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},ko={};function gu(n,e,t,i,s,r){let o=n.audioCodec?n.audioGroups:null,a=r==null?void 0:r.audioCodec,l=r==null?void 0:r.channels,c=l?parseInt(l):a?1/0:2,u=null;if(o!=null&&o.length)try{o.length===1&&o[0]?u=e.groups[o[0]].channels:u=o.reduce((h,d)=>{if(d){let f=e.groups[d];if(!f)throw new Error(`Audio track group ${d} not found`);Object.keys(f.channels).forEach(g=>{h[g]=(h[g]||0)+f.channels[g]})}return h},{2:0})}catch(h){return!0}return n.videoCodec!==void 0&&(n.width>1920&&n.height>1088||n.height>1920&&n.width>1088||n.frameRate>Math.max(i,30)||n.videoRange!=="SDR"&&n.videoRange!==t||n.bitrate>Math.max(s,8e6))||!!u&&M(c)&&Object.keys(u).some(h=>parseInt(h)>c)}function mu(n,e,t){let i=n.videoCodec,s=n.audioCodec;if(!i||!s||!t)return Promise.resolve(va);let r={width:n.width,height:n.height,bitrate:Math.ceil(Math.max(n.bitrate*.9,n.averageBitrate)),framerate:n.frameRate||30},o=n.videoRange;o!=="SDR"&&(r.transferFunction=o.toLowerCase());let a=i.split(",").map(l=>({type:"media-source",video:ye(ye({},r),{},{contentType:ri(l,"video")})}));return s&&n.audioGroups&&n.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){let h=u.channels||"",d=parseFloat(h);M(d)&&d>2&&a.push.apply(a,s.split(",").map(f=>({type:"media-source",audio:{contentType:ri(f,"audio"),channels:""+d}})))}}))}),Promise.all(a.map(l=>{let c=pu(l);return ko[c]||(ko[c]=t.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:a,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:a,decodingInfoResults:[],error:l}))}function pu(n){let{audio:e,video:t}=n,i=t||e;if(i){let s=i.contentType.split('"')[1];if(t)return`r${t.height}x${t.width}f${Math.ceil(t.framerate)}${t.transferFunction||"sd"}_${s}_${Math.ceil(t.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${s}`}return""}function yu(){if(typeof matchMedia=="function"){let n=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(n.media!==e.media)return n.matches===!0}return!1}function Tu(n,e){let t=!1,i=[];return n&&(t=n!=="SDR",i=[n]),e&&(i=e.allowedVideoRanges||Yi.slice(0),t=e.preferHDR!==void 0?e.preferHDR:yu(),t?i=i.filter(s=>s!=="SDR"):i=["SDR"]),{preferHDR:t,allowedVideoRanges:i}}function xu(n,e,t,i,s){let r=Object.keys(n),o=i==null?void 0:i.channels,a=i==null?void 0:i.audioCodec,l=o&&parseInt(o)===2,c=!0,u=!1,h=1/0,d=1/0,f=1/0,g=0,m=[],{preferHDR:y,allowedVideoRanges:T}=Tu(e,s);for(let x=r.length;x--;){let A=n[r[x]];c=A.channels[2]>0,h=Math.min(h,A.minHeight),d=Math.min(d,A.minFramerate),f=Math.min(f,A.minBitrate);let b=T.filter(C=>A.videoRanges[C]>0);b.length>0&&(u=!0,m=b)}h=M(h)?h:0,d=M(d)?d:0;let v=Math.max(1080,h),E=Math.max(30,d);return f=M(f)?f:t,t=Math.max(f,t),u||(e=void 0,m=[]),{codecSet:r.reduce((x,A)=>{let b=n[A];if(A===x)return x;if(b.minBitrate>t)return Qe(A,`min bitrate of ${b.minBitrate} > current estimate of ${t}`),x;if(!b.hasDefaultAudio)return Qe(A,"no renditions with default or auto-select sound found"),x;if(a&&A.indexOf(a.substring(0,4))%5!==0)return Qe(A,`audio codec preference "${a}" not found`),x;if(o&&!l){if(!b.channels[o])return Qe(A,`no renditions with ${o} channel sound found (channels options: ${Object.keys(b.channels)})`),x}else if((!a||l)&&c&&b.channels[2]===0)return Qe(A,"no renditions with stereo sound found"),x;return b.minHeight>v?(Qe(A,`min resolution of ${b.minHeight} > maximum of ${v}`),x):b.minFramerate>E?(Qe(A,`min framerate of ${b.minFramerate} > maximum of ${E}`),x):m.some(C=>b.videoRanges[C]>0)?b.maxScore<g?(Qe(A,`max score of ${b.maxScore} < selected max of ${g}`),x):x&&(Ki(A)>=Ki(x)||b.fragmentError>n[x].fragmentError)?x:(g=b.maxScore,A):(Qe(A,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),x)},void 0),videoRanges:m,preferHDR:y,minFramerate:d,minBitrate:f}}function Qe(n,e){L.log(`[abr] start candidates with "${n}" ignored because ${e}`)}function Eu(n){return n.reduce((e,t)=>{let i=e.groups[t.groupId];i||(i=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(t);let s=t.channels||"2";return i.channels[s]=(i.channels[s]||0)+1,i.hasDefault=i.hasDefault||t.default,i.hasAutoSelect=i.hasAutoSelect||t.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function vu(n,e,t,i){return n.slice(t,i+1).reduce((s,r)=>{if(!r.codecSet)return s;let o=r.audioGroups,a=s[r.codecSet];a||(s[r.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,r.bitrate);let l=Math.min(r.height,r.width);return a.minHeight=Math.min(a.minHeight,l),a.minFramerate=Math.min(a.minFramerate,r.frameRate),a.maxScore=Math.max(a.maxScore,r.score),a.fragmentError+=r.fragmentError,a.videoRanges[r.videoRange]=(a.videoRanges[r.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;let u=e.groups[c];u&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(h=>{a.channels[h]=(a.channels[h]||0)+u.channels[h]}))}),s},{})}function We(n,e,t){if("attrs"in n){let i=e.indexOf(n);if(i!==-1)return i}for(let i=0;i<e.length;i++){let s=e[i];if(Ut(n,s,t))return i}return-1}function Ut(n,e,t){let{groupId:i,name:s,lang:r,assocLang:o,characteristics:a,default:l}=n,c=n.forced;return(i===void 0||e.groupId===i)&&(s===void 0||e.name===s)&&(r===void 0||e.lang===r)&&(r===void 0||e.assocLang===o)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(a===void 0||Su(a,e.characteristics))&&(t===void 0||t(n,e))}function Su(n,e=""){let t=n.split(","),i=e.split(",");return t.length===i.length&&!t.some(s=>i.indexOf(s)===-1)}function Pt(n,e){let{audioCodec:t,channels:i}=n;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(i===void 0||i===(e.channels||"2"))}function Au(n,e,t,i,s){let r=e[i],a=e.reduce((d,f,g)=>{let m=f.uri;return(d[m]||(d[m]=[])).push(g),d},{})[r.uri];a.length>1&&(i=Math.max.apply(Math,a));let l=r.videoRange,c=r.frameRate,u=r.codecSet.substring(0,4),h=_o(e,i,d=>{if(d.videoRange!==l||d.frameRate!==c||d.codecSet.substring(0,4)!==u)return!1;let f=d.audioGroups,g=t.filter(m=>!f||f.indexOf(m.groupId)!==-1);return We(n,g,s)>-1});return h>-1?h:_o(e,i,d=>{let f=d.audioGroups,g=t.filter(m=>!f||f.indexOf(m.groupId)!==-1);return We(n,g,s)>-1})}function _o(n,e,t){for(let i=e;i;i--)if(t(n[i]))return i;for(let i=e+1;i<n.length;i++)if(t(n[i]))return i;return-1}var fr=class{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{let{fragCurrent:t,partCurrent:i,hls:s}=this,{autoLevelEnabled:r,media:o}=s;if(!t||!o)return;let a=performance.now(),l=i?i.stats:t.stats,c=i?i.duration:t.duration,u=a-l.loading.start,h=s.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||t.level<=h){this.clearTimer(),this._nextAutoLevel=-1;return}if(!r||o.paused||!o.playbackRate||!o.readyState)return;let d=s.mainForwardBufferInfo;if(d===null)return;let f=this.bwEstimator.getEstimateTTFB(),g=Math.abs(o.playbackRate);if(u<=Math.max(f,1e3*(c/(g*2))))return;let m=d.len/g,y=l.loading.first?l.loading.first-l.loading.start:-1,T=l.loaded&&y>-1,v=this.getBwEstimate(),E=s.levels,S=E[t.level],x=l.total||Math.max(l.loaded,Math.round(c*S.averageBitrate/8)),A=T?u-y:u;A<1&&T&&(A=Math.min(u,l.loaded*8/v));let b=T?l.loaded*1e3/A:0,C=b?(x-l.loaded)/b:x*8/v+f/1e3;if(C<=m)return;let _=b?b*8:v,D=Number.POSITIVE_INFINITY,w;for(w=t.level-1;w>h;w--){let P=E[w].maxBitrate;if(D=this.getTimeToLoadFrag(f/1e3,_,c*P,!E[w].details),D<m)break}if(D>=C||D>c*10)return;s.nextLoadLevel=s.nextAutoLevel=w,T?this.bwEstimator.sample(u-Math.min(f,y),l.loaded):this.bwEstimator.sampleTTFB(u);let B=E[w].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>B&&this.resetEstimator(B),this.clearTimer(),L.warn(`[abr] Fragment ${t.sn}${i?" part "+i.index:""} of level ${t.level} is loading too slowly;
      Time to underbuffer: ${m.toFixed(3)} s
      Estimated load time for current fragment: ${C.toFixed(3)} s
      Estimated load time for down switch fragment: ${D.toFixed(3)} s
      TTFB estimate: ${y|0} ms
      Current BW estimate: ${M(v)?v|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${w} @ ${B|0} bps`),s.trigger(p.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:i,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(L.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){let e=this.hls.config;return new dr(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){let{hls:e}=this;e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.FRAG_LOADING,this.onFragLoading,this),e.on(p.FRAG_LOADED,this.onFragLoaded,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this),e.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(p.LEVEL_LOADED,this.onLevelLoaded,this),e.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(p.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(p.ERROR,this.onError,this)}unregisterListeners(){let{hls:e}=this;e&&(e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.FRAG_LOADING,this.onFragLoading,this),e.off(p.FRAG_LOADED,this.onFragLoaded,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this),e.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(p.LEVEL_LOADED,this.onLevelLoaded,this),e.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(p.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(p.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){let i=t.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var s;this.fragCurrent=i,this.partCurrent=(s=t.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case I.BUFFER_ADD_CODEC_ERROR:case I.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case I.FRAG_LOAD_TIMEOUT:{let i=t.frag,{fragCurrent:s,partCurrent:r}=this;if(i&&s&&i.sn===s.sn&&i.level===s.level){let o=performance.now(),a=r?r.stats:i.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){let h=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(h,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,t,i,s){let r=e+i/t,o=s?this.lastLevelLoadSec:0;return r+o}onLevelLoaded(e,t){let i=this.hls.config,{loading:s}=t.stats,r=s.end-s.start;M(r)&&(this.lastLevelLoadSec=r/1e3),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}onFragLoaded(e,{frag:t,part:i}){let s=i?i.stats:t.stats;if(t.type===H.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){let r=i?i.duration:t.duration,o=this.hls.levels[t.level],a=(o.loaded?o.loaded.bytes:0)+s.loaded,l=(o.loaded?o.loaded.duration:0)+r;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(t.bitrateTest){let r={stats:s,frag:t,part:i,id:t.type};this.onFragBuffered(p.FRAG_BUFFERED,r),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){let{frag:i,part:s}=t,r=s!=null&&s.stats.loaded?s.stats:i.stats;if(r.aborted||this.ignoreFragment(i))return;let o=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,r.loaded),r.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==H.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){let{maxAutoLevel:e,minAutoLevel:t}=this.hls,i=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,r=this.findBestLevel(i,t,e,0,s,1,1);if(r>-1)return r;let o=this.hls.firstLevel,a=Math.min(Math.max(o,t),e);return L.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){let e=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!i||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;let r=i&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){let o=this.hls.levels;if(o.length>Math.max(e,r)&&o[e].loadError<=o[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){let{fragCurrent:e,partCurrent:t,hls:i}=this,{maxAutoLevel:s,config:r,minAutoLevel:o}=i,a=t?t.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay(),u=r.abrBandWidthFactor,h=r.abrBandWidthUpFactor;if(c){let y=this.findBestLevel(l,o,s,c,0,u,h);if(y>=0)return y}let d=a?Math.min(a,r.maxStarvationDelay):r.maxStarvationDelay;if(!c){let y=this.bitrateTestDelay;y&&(d=(a?Math.min(a,r.maxLoadingDelay):r.maxLoadingDelay)-y,L.info(`[abr] bitrate test took ${Math.round(1e3*y)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),u=h=1)}let f=this.findBestLevel(l,o,s,c,d,u,h);if(L.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${f}`),f>-1)return f;let g=i.levels[o],m=i.levels[i.loadLevel];return(g==null?void 0:g.bitrate)<(m==null?void 0:m.bitrate)?o:i.loadLevel}getStarvationDelay(){let e=this.hls,t=e.media;if(!t)return 1/0;let i=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,i,s,r,o,a){var l;let c=s+r,u=this.lastLoadedFragLevel,h=u===-1?this.hls.firstLevel:u,{fragCurrent:d,partCurrent:f}=this,{levels:g,allAudioTracks:m,loadLevel:y,config:T}=this.hls;if(g.length===1)return 0;let v=g[h],E=!!(v!=null&&(l=v.details)!=null&&l.live),S=y===-1||u===-1,x,A="SDR",b=(v==null?void 0:v.frameRate)||0,{audioPreference:C,videoPreference:_}=T,D=this.audioTracksByGroup||(this.audioTracksByGroup=Eu(m));if(S){if(this.firstSelection!==-1)return this.firstSelection;let U=this.codecTiers||(this.codecTiers=vu(g,D,t,i)),N=xu(U,A,e,C,_),{codecSet:K,videoRanges:X,minFramerate:F,minBitrate:O,preferHDR:q}=N;x=K,A=q?X[X.length-1]:X[0],b=F,e=Math.max(e,O),L.log(`[abr] picked start tier ${JSON.stringify(N)}`)}else x=v==null?void 0:v.codecSet,A=v==null?void 0:v.videoRange;let w=f?f.duration:d?d.duration:0,B=this.bwEstimator.getEstimateTTFB()/1e3,P=[];for(let U=i;U>=t;U--){var $;let N=g[U],K=U>h;if(!N)continue;if(T.useMediaCapabilities&&!N.supportedResult&&!N.supportedPromise){let Z=navigator.mediaCapabilities;typeof(Z==null?void 0:Z.decodingInfo)=="function"&&gu(N,D,A,b,e,C)?(N.supportedPromise=mu(N,D,Z),N.supportedPromise.then(ee=>{if(!this.hls)return;N.supportedResult=ee;let re=this.hls.levels,Te=re.indexOf(N);ee.error?L.warn(`[abr] MediaCapabilities decodingInfo error: "${ee.error}" for level ${Te} ${JSON.stringify(ee)}`):ee.supported||(L.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${Te} ${JSON.stringify(ee)}`),Te>-1&&re.length>1&&(L.log(`[abr] Removing unsupported level ${Te}`),this.hls.removeLevel(Te)))})):N.supportedResult=va}if(x&&N.codecSet!==x||A&&N.videoRange!==A||K&&b>N.frameRate||!K&&b>0&&b<N.frameRate||N.supportedResult&&!(($=N.supportedResult.decodingInfoResults)!=null&&$[0].smooth)){P.push(U);continue}let X=N.details,F=(f?X==null?void 0:X.partTarget:X==null?void 0:X.averagetargetduration)||w,O;K?O=a*e:O=o*e;let q=w&&s>=w*2&&r===0?g[U].averageBitrate:g[U].maxBitrate,W=this.getTimeToLoadFrag(B,O,q*F,X===void 0);if(O>=q&&(U===u||N.loadError===0&&N.fragmentError===0)&&(W<=B||!M(W)||E&&!this.bitrateTestDelay||W<c)){let Z=this.forcedAutoLevel;return U!==y&&(Z===-1||Z!==y)&&(P.length&&L.trace(`[abr] Skipped level(s) ${P.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${g[P[0]].codecs}" ${g[P[0]].videoRange}; not compatible with "${v.codecs}" ${A}`),L.info(`[abr] switch candidate:${h}->${U} adjustedbw(${Math.round(O)})-bitrate=${Math.round(O-q)} ttfb:${B.toFixed(1)} avgDuration:${F.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${W.toFixed(1)} firstSelection:${S} codecSet:${x} videoRange:${A} hls.loadLevel:${y}`)),S&&(this.firstSelection=U),U}}return-1}set nextAutoLevel(e){let{maxAutoLevel:t,minAutoLevel:i}=this.hls,s=Math.min(Math.max(e,i),t);this._nextAutoLevel!==s&&(this.nextAutoLevelKey="",this._nextAutoLevel=s)}},gr=class{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}},pe={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},mr=class{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){let{hls:e}=this;e.on(p.BUFFER_APPENDED,this.onBufferAppended,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this),e.on(p.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.BUFFER_APPENDED,this.onBufferAppended,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this),e.off(p.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){let i=this.activePartLists[t];if(i)for(let s=i.length;s--;){let r=i[s];if(!r)break;let o=r.end;if(r.start<=e&&o!==null&&e<=o)return r}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){let{fragments:i}=this,s=Object.keys(i);for(let r=s.length;r--;){let o=i[s[r]];if((o==null?void 0:o.body.type)===t&&o.buffered){let a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,t,i,s){this.timeRanges&&(this.timeRanges[e]=t);let r=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{let a=this.fragments[o];if(!a||r>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===i&&this.removeFragment(a.body);return}let l=a.range[e];l&&l.time.some(c=>{let u=!this.isTimeBuffered(c.startPTS,c.endPTS,t);return u&&this.removeFragment(a.body),u})})}detectPartialFragments(e){let t=this.timeRanges,{frag:i,part:s}=e;if(!t||i.sn==="initSegment")return;let r=Ot(i),o=this.fragments[r];if(!o||o.buffered&&i.gap)return;let a=!i.relurl;Object.keys(t).forEach(l=>{let c=i.elementaryStreams[l];if(!c)return;let u=t[l],h=a||c.partial===!0;o.range[l]=this.getBufferedTimes(i,s,h,u)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=i.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),Ri(o)||this.removeParts(i.sn-1,i.type)):this.removeFragment(o.body)}removeParts(e,t){let i=this.activePartLists[t];i&&(this.activePartLists[t]=i.filter(s=>s.fragment.sn>=e))}fragBuffered(e,t){let i=Ot(e),s=this.fragments[i];!s&&t&&(s=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)}getBufferedTimes(e,t,i,s){let r={time:[],partial:i},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let u=0;u<s.length;u++){let h=s.start(u)-this.bufferPadding,d=s.end(u)+this.bufferPadding;if(c>=h&&l<=d){r.time.push({startPTS:Math.max(o,s.start(u)),endPTS:Math.min(a,s.end(u))});break}else if(o<d&&a>h){let f=Math.max(o,s.start(u)),g=Math.min(a,s.end(u));g>f&&(r.partial=!0,r.time.push({startPTS:f,endPTS:g}))}else if(a<=h)break}return r}getPartialFragment(e){let t=null,i,s,r,o=0,{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{let u=l[c];u&&Ri(u)&&(s=u.body.start-a,r=u.body.end+a,e>=s&&e<=r&&(i=Math.min(e-s,r-e),o<=i&&(t=u.body,o=i)))}),t}isEndListAppended(e){let t=this.endListFragments[e];return t!==void 0&&(t.buffered||Ri(t))}getState(e){let t=Ot(e),i=this.fragments[t];return i?i.buffered?Ri(i)?pe.PARTIAL:pe.OK:pe.APPENDING:pe.NOT_LOADED}isTimeBuffered(e,t,i){let s,r;for(let o=0;o<i.length;o++){if(s=i.start(o)-this.bufferPadding,r=i.end(o)+this.bufferPadding,e>=s&&t<=r)return!0;if(t<=s)return!1}return!1}onFragLoaded(e,t){let{frag:i,part:s}=t;if(i.sn==="initSegment"||i.bitrateTest)return;let r=s?null:t,o=Ot(i);this.fragments[o]={body:i,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){let{frag:i,part:s,timeRanges:r}=t;if(i.sn==="initSegment")return;let o=i.type;if(s){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(s)}this.timeRanges=r,Object.keys(r).forEach(a=>{let l=r[a];this.detectEvictedFragments(a,l,o,s)})}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){let t=Ot(e);return!!this.fragments[t]}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,i,s,r){s&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{let a=this.fragments[o];if(!a)return;let l=a.body;l.type!==i||s&&!l.gap||l.start<t&&l.end>e&&(a.buffered||r)&&this.removeFragment(l)})}removeFragment(e){let t=Ot(e);e.stats.loaded=0,e.clearElementaryStreamInfo();let i=this.activePartLists[e.type];if(i){let s=e.sn;this.activePartLists[e.type]=i.filter(r=>r.fragment.sn!==s)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}};function Ri(n){var e,t,i;return n.buffered&&(n.body.gap||((e=n.range.video)==null?void 0:e.partial)||((t=n.range.audio)==null?void 0:t.partial)||((i=n.range.audiovideo)==null?void 0:i.partial))}function Ot(n){return`${n.type}_${n.level}_${n.sn}`}var Lu={length:0,start:()=>0,end:()=>0},J=class{static isBuffered(e,t){try{if(e){let i=J.getBuffered(e);for(let s=0;s<i.length;s++)if(t>=i.start(s)&&t<=i.end(s))return!0}}catch(i){}return!1}static bufferInfo(e,t,i){try{if(e){let s=J.getBuffered(e),r=[],o;for(o=0;o<s.length;o++)r.push({start:s.start(o),end:s.end(o)});return this.bufferedInfo(r,t,i)}}catch(s){}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,i){t=Math.max(0,t),e.sort(function(c,u){let h=c.start-u.start;return h||u.end-c.end});let s=[];if(i)for(let c=0;c<e.length;c++){let u=s.length;if(u){let h=s[u-1].end;e[c].start-h<i?e[c].end>h&&(s[u-1].end=e[c].end):s.push(e[c])}else s.push(e[c])}else s=e;let r=0,o,a=t,l=t;for(let c=0;c<s.length;c++){let u=s[c].start,h=s[c].end;if(t+i>=u&&t<h)a=u,l=h,r=l-t;else if(t+i<u){o=u;break}}return{len:r,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(t){return L.log("failed to get media.buffered",t),Lu}}},oi=class{constructor(e,t,i,s=0,r=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Ii(),this.buffering={audio:Ii(),video:Ii(),audiovideo:Ii()},this.level=e,this.sn=t,this.id=i,this.size=s,this.part=r,this.partial=o}};function Ii(){return{start:0,executeStart:0,executeEnd:0,end:0}}function Fi(n,e){for(let i=0,s=n.length;i<s;i++){var t;if(((t=n[i])==null?void 0:t.cc)===e)return n[i]}return null}function bu(n,e,t){return!!(e&&(t.endCC>t.startCC||n&&n.cc<t.startCC))}function Ru(n,e){let t=n.fragments,i=e.fragments;if(!i.length||!t.length){L.log("No fragments to align");return}let s=Fi(t,i[0].cc);if(!s||s&&!s.startPTS){L.log("No frag in previous level to align on");return}return s}function Po(n,e){if(n){let t=n.start+e;n.start=n.startPTS=t,n.endPTS=t+n.duration}}function Sa(n,e){let t=e.fragments;for(let i=0,s=t.length;i<s;i++)Po(t[i],n);e.fragmentHint&&Po(e.fragmentHint,n),e.alignedSliding=!0}function Iu(n,e,t){e&&(Du(n,t,e),!t.alignedSliding&&e&&Qi(t,e),!t.alignedSliding&&e&&!t.skippedSegments&&ya(e,t))}function Du(n,e,t){if(bu(n,t,e)){let i=Ru(t,e);i&&M(i.start)&&(L.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),Sa(i.start,e))}}function Qi(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;let t=n.fragments,i=e.fragments;if(!t.length||!i.length)return;let s,r,o=Math.min(e.endCC,n.endCC);e.startCC<o&&n.startCC<o&&(s=Fi(i,o),r=Fi(t,o)),(!s||!r)&&(s=i[Math.floor(i.length/2)],r=Fi(t,s.cc)||t[Math.floor(t.length/2)]);let a=s.programDateTime,l=r.programDateTime;if(!a||!l)return;let c=(l-a)/1e3-(r.start-s.start);Sa(c,n)}var Oo=Math.pow(2,17),pr=class{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){let i=e.url;if(!i)return Promise.reject(new Be({type:V.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();let s=this.config,r=s.fLoader,o=s.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(f=>f[0]==="GAP")){l(Mo(e));return}else e.gap=!1;let c=this.loader=e.loader=r?new r(s):new o(s),u=Fo(e),h=wo(s.fragLoadPolicy.default),d={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:Oo};e.stats=c.stats,c.load(u,d,{onSuccess:(f,g,m,y)=>{this.resetLoader(e,c);let T=f.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(T.slice(0,16)),T=T.slice(16)),a({frag:e,part:null,payload:T,networkDetails:y})},onError:(f,g,m,y)=>{this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ye({url:i,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:m,stats:y}))},onAbort:(f,g,m)=>{this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:f}))},onTimeout:(f,g,m)=>{this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:f}))},onProgress:(f,g,m,y)=>{t&&t({frag:e,part:null,payload:m,networkDetails:y})}})})}loadPart(e,t,i){this.abort();let s=this.config,r=s.fLoader,o=s.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){l(Mo(e,t));return}let c=this.loader=e.loader=r?new r(s):new o(s),u=Fo(e,t),h=wo(s.fragLoadPolicy.default),d={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Oo};t.stats=c.stats,c.load(u,d,{onSuccess:(f,g,m,y)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,t);let T={frag:e,part:t,payload:f.data,networkDetails:y};i(T),a(T)},onError:(f,g,m,y)=>{this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ye({url:u.url,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:m,stats:y}))},onAbort:(f,g,m)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:m,stats:f}))},onTimeout:(f,g,m)=>{this.resetLoader(e,c),l(new Be({type:V.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:f}))}})})}updateStatsFromPart(e,t){let i=e.stats,s=t.stats,r=s.total;if(i.loaded+=s.loaded,r){let l=Math.round(e.duration/t.duration),c=Math.min(Math.round(i.loaded/r),l),h=(l-c)*Math.round(i.loaded/c);i.total=i.loaded+h}else i.total=Math.max(i.loaded,i.total);let o=i.loading,a=s.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}};function Fo(n,e=null){let t=e||n,i={frag:n,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},s=t.byteRangeStartOffset,r=t.byteRangeEndOffset;if(M(s)&&M(r)){var o;let a=s,l=r;if(n.sn==="initSegment"&&((o=n.decryptdata)==null?void 0:o.method)==="AES-128"){let c=r-s;c%16&&(l=r+(16-c%16)),s!==0&&(i.resetIV=!0,a=s-16)}i.rangeStart=a,i.rangeEnd=l}return i}function Mo(n,e){let t=new Error(`GAP ${n.gap?"tag":"attribute"} found`),i={type:V.MEDIA_ERROR,details:I.FRAG_GAP,fatal:!1,frag:n,error:t,networkDetails:null};return e&&(i.part=e),(e||n).stats.aborted=!0,new Be(i)}var Be=class extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}},yr=class{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}},Tr=class{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}};function Cu(n){let e=n.byteLength,t=e&&new DataView(n.buffer).getUint8(e-1);return t?Lt(n,0,e-t):n}var xr=class{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){let t=new DataView(e),i=new Uint32Array(4);for(let s=0;s<4;s++)i[s]=t.getUint32(s*4);return i}initTable(){let e=this.sBox,t=this.invSBox,i=this.subMix,s=i[0],r=i[1],o=i[2],a=i[3],l=this.invSubMix,c=l[0],u=l[1],h=l[2],d=l[3],f=new Uint32Array(256),g=0,m=0,y=0;for(y=0;y<256;y++)y<128?f[y]=y<<1:f[y]=y<<1^283;for(y=0;y<256;y++){let T=m^m<<1^m<<2^m<<3^m<<4;T=T>>>8^T&255^99,e[g]=T,t[T]=g;let v=f[g],E=f[v],S=f[E],x=f[T]*257^T*16843008;s[g]=x<<24|x>>>8,r[g]=x<<16|x>>>16,o[g]=x<<8|x>>>24,a[g]=x,x=S*16843009^E*65537^v*257^g*16843008,c[T]=x<<24|x>>>8,u[T]=x<<16|x>>>16,h[T]=x<<8|x>>>24,d[T]=x,g?(g=v^f[f[f[S^v]]],m^=f[f[m]]):g=m=1}}expandKey(e){let t=this.uint8ArrayToUint32Array_(e),i=!0,s=0;for(;s<t.length&&i;)i=t[s]===this.key[s],s++;if(i)return;this.key=t;let r=this.keySize=t.length;if(r!==4&&r!==6&&r!==8)throw new Error("Invalid aes key size="+r);let o=this.ksRows=(r+6+1)*4,a,l,c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),h=this.sBox,d=this.rcon,f=this.invSubMix,g=f[0],m=f[1],y=f[2],T=f[3],v,E;for(a=0;a<o;a++){if(a<r){v=c[a]=t[a];continue}E=v,a%r===0?(E=E<<8|E>>>24,E=h[E>>>24]<<24|h[E>>>16&255]<<16|h[E>>>8&255]<<8|h[E&255],E^=d[a/r|0]<<24):r>6&&a%r===4&&(E=h[E>>>24]<<24|h[E>>>16&255]<<16|h[E>>>8&255]<<8|h[E&255]),c[a]=v=(c[a-r]^E)>>>0}for(l=0;l<o;l++)a=o-l,l&3?E=c[a]:E=c[a-4],l<4||a<=4?u[l]=E:u[l]=g[h[E>>>24]]^m[h[E>>>16&255]]^y[h[E>>>8&255]]^T[h[E&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,i){let s=this.keySize+6,r=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],u=a[2],h=a[3],d=this.uint8ArrayToUint32Array_(i),f=d[0],g=d[1],m=d[2],y=d[3],T=new Int32Array(e),v=new Int32Array(T.length),E,S,x,A,b,C,_,D,w,B,P,$,U,N,K=this.networkToHostOrderSwap;for(;t<T.length;){for(w=K(T[t]),B=K(T[t+1]),P=K(T[t+2]),$=K(T[t+3]),b=w^r[0],C=$^r[1],_=P^r[2],D=B^r[3],U=4,N=1;N<s;N++)E=l[b>>>24]^c[C>>16&255]^u[_>>8&255]^h[D&255]^r[U],S=l[C>>>24]^c[_>>16&255]^u[D>>8&255]^h[b&255]^r[U+1],x=l[_>>>24]^c[D>>16&255]^u[b>>8&255]^h[C&255]^r[U+2],A=l[D>>>24]^c[b>>16&255]^u[C>>8&255]^h[_&255]^r[U+3],b=E,C=S,_=x,D=A,U=U+4;E=o[b>>>24]<<24^o[C>>16&255]<<16^o[_>>8&255]<<8^o[D&255]^r[U],S=o[C>>>24]<<24^o[_>>16&255]<<16^o[D>>8&255]<<8^o[b&255]^r[U+1],x=o[_>>>24]<<24^o[D>>16&255]<<16^o[b>>8&255]<<8^o[C&255]^r[U+2],A=o[D>>>24]<<24^o[b>>16&255]<<16^o[C>>8&255]<<8^o[_&255]^r[U+3],v[t]=K(E^f),v[t+1]=K(A^g),v[t+2]=K(x^m),v[t+3]=K(S^y),f=w,g=B,m=P,y=$,t=t+4}return v.buffer}},wu=16,ai=class{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{let i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(i){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){let{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;let i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Cu(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,i){return this.useSoftware?new Promise((s,r)=>{this.softwareDecrypt(new Uint8Array(e),t,i);let o=this.flush();o?s(o.buffer):r(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,i)}softwareDecrypt(e,t,i){let{currentIV:s,currentResult:r,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=_e(o,e),this.remainderData=null);let a=this.getValidChunk(e);if(!a.length)return null;s&&(i=s);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new xr),l.expandKey(t);let c=r;return this.currentResult=l.decrypt(a.buffer,0,i),this.currentIV=Lt(a,-16).buffer,c||null}webCryptoDecrypt(e,t,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,i));this.key=t,this.fastAesKey=new Tr(this.subtle,t)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new yr(this.subtle,new Uint8Array(i)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(L.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,t,i)))}onWebCryptoError(e,t,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i);let s=this.flush();if(s)return s.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e,i=e.length-e.length%wu;return i!==e.length&&(t=Lt(e,0,i),this.remainderData=Lt(e,i)),t}logOnce(e){this.logEnabled&&(L.log(`[decrypter]: ${e}`),this.logEnabled=!1)}},ku={toString:function(n){let e="",t=n.length;for(let i=0;i<t;i++)e+=`[${n.start(i).toFixed(3)}-${n.end(i).toFixed(3)}]`;return e}},k={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},li=class extends gr{constructor(e,t,i,s,r){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=k.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=r,this.logPrefix=s,this.log=L.log.bind(L,`${s}:`),this.warn=L.warn.bind(L,`${s}:`),this.hls=e,this.fragmentLoader=new pr(e.config),this.keyLoader=i,this.fragmentTracker=t,this.config=e.config,this.decrypter=new ai(e.config),e.on(p.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);let e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=k.STOPPED}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;let i=t.partList;if(i!=null&&i.length){let r=i[i.length-1];return J.isBuffered(this.media,r.start+r.duration/2)}let s=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(s)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,t){let i=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);let s=this.config;this.levels&&s.autoStartLoad&&this.state===k.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(){let e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){let{config:e,fragCurrent:t,media:i,mediaBuffer:s,state:r}=this,o=i?i.currentTime:0,a=J.bufferInfo(s||i,o,e.maxBufferHole);if(this.log(`media seeking to ${M(o)?o.toFixed(3):o}, state: ${r}`),this.state===k.ENDED)this.resetLoadingState();else if(t){let l=e.maxFragLookUpTolerance,c=t.start-l,u=t.start+t.duration+l;if(!a.len||u<a.start||c>a.end){let h=o>u;(o<c||h)&&(h&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=k.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,i){this._loadFragForPlayback(e,t,i)}_loadFragForPlayback(e,t,i){let s=r=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${r.part?" p: "+r.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(r)};this._doFragLoad(e,t,i,s).then(r=>{if(!r)return;let o=this.state;if(this.fragContextChanged(e)){(o===k.FRAG_LOADING||!this.fragCurrent&&o===k.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=k.IDLE);return}"payload"in r&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(p.FRAG_LOADED,r)),this._handleFragmentLoadComplete(r)}).catch(r=>{this.state===k.STOPPED||this.state===k.ERROR||(this.warn(`Frag error: ${(r==null?void 0:r.message)||r}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;let{fragmentTracker:i}=this;if(i.getState(e)===pe.APPENDING){let r=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,r),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&i.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===pe.PARTIAL&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){let t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t,i=null){if(!(e-t))return;let s={startOffset:e,endOffset:t,type:i};this.hls.trigger(p.BUFFER_FLUSHING,s)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(i=>{if(!i||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{let{hls:s}=this,{payload:r}=i,o=e.decryptdata;if(r&&r.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){let a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),o.key.buffer,o.iv.buffer).catch(l=>{throw s.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{let c=self.performance.now();return s.trigger(p.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:c}}),i.payload=l,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===k.STOPPED||this.state===k.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){let{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");let i=e.frag.stats;this.state=k.IDLE,e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){let{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var i,s,r,o;let a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===H.MAIN?"level":"track"} ${e.level} (frag:[${((i=e.startPTS)!=null?i:NaN).toFixed(3)}-${((s=e.endPTS)!=null?s:NaN).toFixed(3)}] > buffer:${a?ku.toString(J.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==H.SUBTITLE){let u=e.elementaryStreams;if(!Object.keys(u).some(h=>!!u[h])){this.state=k.IDLE;return}}let c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=k.IDLE,a&&(!this.loadedmetadata&&e.type==H.MAIN&&a.buffered.length&&((r=this.fragCurrent)==null?void 0:r.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){let{transmuxer:t}=this;if(!t)return;let{frag:i,part:s,partsLoaded:r}=e,o=!r||r.length===0||r.some(l=>!l),a=new oi(i.level,i.sn,i.stats.chunkCount+1,0,s?s.index:-1,!o);t.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,i=null,s){var r;let o=t==null?void 0:t.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((r=e.decryptdata)!=null&&r.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=k.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(p.KEY_LOADED,u),this.state===k.KEY_LOADING&&(this.state=k.IDLE),u}),this.hls.trigger(p.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){let u=o.partList;if(u&&s){i>e.end&&o.fragmentHint&&(e=o.fragmentHint);let h=this.getNextPart(u,e,i);if(h>-1){let d=u[h];this.log(`Loading part sn: ${e.sn} p: ${d.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${h}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=d.start+d.duration,this.state=k.FRAG_LOADING;let f;return a?f=a.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,d,t,s)).catch(g=>this.handleFragLoadError(g)):f=this.doFragPartsLoad(e,d,t,s).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(p.FRAG_LOADING,{frag:e,part:d,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):f}else if(!e.url||this.loadedEndOfParts(u,i))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),M(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=k.FRAG_LOADING;let l=this.config.progressive,c;return l&&a?c=a.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,s)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?s:void 0),a]).then(([u])=>(!l&&u&&s&&s(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(p.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,t,i,s){return new Promise((r,o)=>{var a;let l=[],c=(a=i.details)==null?void 0:a.partList,u=h=>{this.fragmentLoader.loadPart(e,h,s).then(d=>{l[h.index]=d;let f=d.part;this.hls.trigger(p.FRAG_LOADED,d);let g=Do(i,e.sn,h.index+1)||Ta(c,e.sn,h.index+1);if(g)u(g);else return r({frag:e,part:f,partsLoaded:l})}).catch(o)};u(t)})}handleFragLoadError(e){if("data"in e){let t=e.data;e.data&&t.details===I.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(p.ERROR,t)}else this.hls.trigger(p.ERROR,{type:V.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){let t=this.getCurrentContext(e);if(!t||this.state!==k.PARSING){!this.fragCurrent&&this.state!==k.STOPPED&&this.state!==k.ERROR&&(this.state=k.IDLE);return}let{frag:i,part:s,level:r}=t,o=self.performance.now();i.stats.parsing.end=o,s&&(s.stats.parsing.end=o),this.updateLevelTiming(i,s,r,e.partial)}getCurrentContext(e){let{levels:t,fragCurrent:i}=this,{level:s,sn:r,part:o}=e;if(!(t!=null&&t[s]))return this.warn(`Levels object was unset while buffering fragment ${r} of level ${s}. The current chunk will not be buffered.`),null;let a=t[s],l=o>-1?Do(a,r,o):null,c=l?l.fragment:lu(a,r,i);return c?(i&&i!==c&&(c.stats=i.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,t,i,s,r){var o;if(!e||this.state!==k.PARSING)return;let{data1:a,data2:l}=e,c=a;if(a&&l&&(c=_e(a,l)),!((o=c)!=null&&o.length))return;let u={type:e.type,frag:t,part:i,chunkMeta:s,parent:t.type,data:c};if(this.hls.trigger(p.BUFFER_APPENDING,u),e.dropped&&e.independent&&!i){if(r)return;this.flushBufferGap(t)}}flushBufferGap(e){let t=this.media;if(!t)return;if(!J.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}let i=t.currentTime,s=J.bufferInfo(t,i,0),r=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,r*.25),a=Math.max(Math.min(e.start-o,s.end-o),i+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,t){let i=this.getLoadPosition();return M(i)?this.getFwdBufferInfoAtPos(e,i,t):null}getFwdBufferInfoAtPos(e,t,i){let{config:{maxBufferHole:s}}=this,r=J.bufferInfo(e,t,s);if(r.len===0&&r.nextStart!==void 0){let o=this.fragmentTracker.getBufferedFrag(t,i);if(o&&r.nextStart<o.end)return J.bufferInfo(e,t,Math.max(r.nextStart,s))}return r}getMaxBufferLength(e){let{config:t}=this,i;return e?i=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):i=t.maxBufferLength,Math.min(i,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){let i=this.config,s=Math.max(Math.min(e-t,i.maxBufferLength),t),r=Math.max(e-t*3,i.maxMaxBufferLength/2,s);return r>=s?(i.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0):!1}getAppendedFrag(e,t=H.MAIN){let i=this.fragmentTracker.getAppendedFrag(e,H.MAIN);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){let i=t.fragments,s=i.length;if(!s)return null;let{config:r}=this,o=i[0].start,a;if(t.live){let l=r.initialLiveManifestSize;if(s<l)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${l})`),null;(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(t,i),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=i[0]);if(!a){let l=r.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,t){let i=this.fragmentTracker.getState(e);return(i===pe.OK||i===pe.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,i,s,r){let o=e.gap,a=this.getNextFragment(this.nextLoadPosition,t);if(a===null)return a;if(e=a,o&&e&&!e.gap&&i.nextStart){let l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,s);if(l!==null&&i.len+l.len>=r)return this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,i){let s=-1,r=!1,o=!0;for(let a=0,l=e.length;a<l;a++){let c=e[a];if(o=o&&!c.independent,s>-1&&i<c.start)break;let u=c.loaded;u?s=-1:(r||c.independent||o)&&c.fragment===t&&(s=a),r=u}return s}loadedEndOfParts(e,t){let i=e[e.length-1];return i&&t>i.start&&i.loaded}getInitialLiveFragment(e,t){let i=this.fragPrevious,s=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),s=uu(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){let r=i.sn+1;if(r>=e.startSN&&r<=e.endSN){let o=t[r-e.startSN];i.cc===o.cc&&(s=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=fu(t,i.cc),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{let r=this.hls.liveSyncPosition;r!==null&&(s=this.getFragmentAtPosition(r,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,t,i){let{config:s}=this,{fragPrevious:r}=this,{fragments:o,endSN:a}=i,{fragmentHint:l}=i,{maxFragLookUpTolerance:c}=s,u=i.partList,h=!!(s.lowLatencyMode&&u!=null&&u.length&&l);h&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let d;if(e<t){let f=e>t-c?0:c;d=Xi(r,o,e,f)}else d=o[o.length-1];if(d){let f=d.sn-i.startSN,g=this.fragmentTracker.getState(d);if((g===pe.OK||g===pe.PARTIAL&&d.gap)&&(r=d),r&&d.sn===r.sn&&(!h||u[0].fragment.sn>d.sn)&&r&&d.level===r.level){let y=o[f+1];d.sn<a&&this.fragmentTracker.getState(y)!==pe.OK?d=y:d=null}}return d}synchronizeToLiveEdge(e){let{config:t,media:i}=this;if(!i)return;let s=this.hls.liveSyncPosition,r=i.currentTime,o=e.fragments[0].start,a=e.edge,l=r>=o-t.maxFragLookUpTolerance&&r<=a;if(s!==null&&i.duration>s&&(r<s||!l)){let c=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!l&&i.readyState<4||r<a-c)&&(this.loadedmetadata||(this.nextLoadPosition=s),i.readyState&&(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${s.toFixed(3)}`),i.currentTime=s))}}alignPlaylists(e,t,i){let s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;let r=e.fragments[0].start,o=!t,a=e.alignedSliding&&M(r);if(o||!a&&!r){let{fragPrevious:l}=this;Iu(l,i,e);let c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${s}`),c}return r}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let i=this.startPosition;if(i<t&&(i=-1),i===-1||this.lastCurrentTime===-1){let s=this.startTimeOffset!==null,r=s?this.startTimeOffset:e.startTimeOffset;r!==null&&M(r)?(i=t+r,r<0&&(i+=e.totalduration),i=Math.min(Math.max(t,i),t+e.totalduration),this.log(`Start time offset ${r} found in ${s?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||t:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){let{media:e}=this,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==k.FRAG_LOADING_WAITING_RETRY)&&(this.state=k.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){let u=this.getCurrentContext(t.chunkMeta);u&&(t.frag=u.frag)}let i=t.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var s;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}let r=t.details===I.FRAG_GAP;r&&this.fragmentTracker.fragBuffered(i,!0);let o=t.errorAction,{action:a,retryCount:l=0,retryConfig:c}=o||{};if(o&&a===me.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);let u=un(c,l);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${t.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),o.resolved=!0,this.retryDate=self.performance.now()+u,this.state=k.FRAG_LOADING_WAITING_RETRY}else if(c&&o)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!r&&a!==me.RemoveAlternatePermanently&&(o.resolved=!0);else{L.warn(`${t.details} reached or exceeded max retry (${l})`);return}else(o==null?void 0:o.action)===me.SendAlternateToPenaltyBox?this.state=k.WAITING_LEVEL:this.state=k.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===k.PARSING||this.state===k.PARSED){let t=e.frag,i=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,i),r=s&&s.len>.5;r&&this.reduceMaxBufferLength(s.len,(t==null?void 0:t.duration)||10);let o=!r;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${i} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===H.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==k.STOPPED&&(this.state=k.IDLE)}afterBufferFlushed(e,t,i){if(!e)return;let s=J.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,s,i),this.state===k.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=k.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;let t=e?e.details:null;t!=null&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,i,s){var r;let o=i.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{let u=e.elementaryStreams[c];if(u){let h=u.endPTS-u.startPTS;if(h<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${h})`),l||!1;let d=s?0:pa(o,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(p.LEVEL_PTS_UPDATED,{details:o,level:i,drift:d,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((r=this.transmuxer)==null?void 0:r.error)===null){let l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(i.fragmentError===0&&(i.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=k.PARSED,this.hls.trigger(p.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){let t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}},Ji=class{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){let{chunks:e,dataLength:t}=this,i;if(e.length)e.length===1?i=e[0]:i=_u(e,t);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}};function _u(n,e){let t=new Uint8Array(e),i=0;for(let s=0;s<n.length;s++){let r=n[s];t.set(r,i),i+=r.length}return t}function Pu(){return typeof __HLS_WORKER_BUNDLE__=="function"}function Ou(){let n=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(n);return{worker:new self.Worker(e),objectURL:e}}function Fu(n){let e=new self.URL(n,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Ve(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var ci=class{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,i,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,i){}demux(e,t){this.cachedData&&(e=_e(this.cachedData,e),this.cachedData=null);let i=si(e,0),s=i?i.length:0,r,o=this._audioTrack,a=this._id3Track,l=i?cn(i):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&M(l))&&(this.basePTS=Mu(l,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Ue.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(e,s)){let u=this.appendFrame(o,e,s);u?(this.frameIndex++,this.lastPTS=u.sample.pts,s+=u.length,r=s):s=c}else pc(e,s)?(i=si(e,s),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Ue.audioId3,duration:Number.POSITIVE_INFINITY}),s+=i.length,r=s):s++;if(s===c&&r!==c){let u=Lt(e,r);this.cachedData?this.cachedData=_e(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:Ve(),id3Track:a,textTrack:Ve()}}demuxSampleAes(e,t,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){let t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Ve(),id3Track:this._id3Track,textTrack:Ve()}}destroy(){}},Mu=(n,e,t)=>{if(M(n))return n*90;let i=t?t.baseTime*9e4/t.timescale:0;return e*9e4+i};function Nu(n,e,t,i){let s,r,o,a,l=navigator.userAgent.toLowerCase(),c=i,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=((e[t+2]&192)>>>6)+1;let h=(e[t+2]&60)>>>2;if(h>u.length-1){let d=new Error(`invalid ADTS sampling index:${h}`);n.emit(p.ERROR,p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!0,error:d,reason:d.message});return}return o=(e[t+2]&1)<<2,o|=(e[t+3]&192)>>>6,L.log(`manifest codec:${i}, ADTS type:${s}, samplingIndex:${h}`),/firefox/i.test(l)?h>=6?(s=5,a=new Array(4),r=h-3):(s=2,a=new Array(2),r=h):l.indexOf("android")!==-1?(s=2,a=new Array(2),r=h):(s=5,a=new Array(4),i&&(i.indexOf("mp4a.40.29")!==-1||i.indexOf("mp4a.40.5")!==-1)||!i&&h>=6?r=h-3:((i&&i.indexOf("mp4a.40.2")!==-1&&(h>=6&&o===1||/vivaldi/i.test(l))||!i&&o===1)&&(s=2,a=new Array(2)),r=h)),a[0]=s<<3,a[0]|=(h&14)>>1,a[1]|=(h&1)<<7,a[1]|=o<<3,s===5&&(a[1]|=(r&14)>>1,a[2]=(r&1)<<7,a[2]|=2<<2,a[3]=0),{config:a,samplerate:u[h],channelCount:o,codec:"mp4a.40."+s,manifestCodec:c}}function Aa(n,e){return n[e]===255&&(n[e+1]&246)===240}function La(n,e){return n[e+1]&1?7:9}function hn(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function Bu(n,e){return e+5<n.length}function Zi(n,e){return e+1<n.length&&Aa(n,e)}function Uu(n,e){return Bu(n,e)&&Aa(n,e)&&hn(n,e)<=n.length-e}function $u(n,e){if(Zi(n,e)){let t=La(n,e);if(e+t>=n.length)return!1;let i=hn(n,e);if(i<=t)return!1;let s=e+i;return s===n.length||Zi(n,s)}return!1}function ba(n,e,t,i,s){if(!n.samplerate){let r=Nu(e,t,i,s);if(!r)return;n.config=r.config,n.samplerate=r.samplerate,n.channelCount=r.channelCount,n.codec=r.codec,n.manifestCodec=r.manifestCodec,L.log(`parsed codec:${n.codec}, rate:${r.samplerate}, channels:${r.channelCount}`)}}function Ra(n){return 1024*9e4/n}function Gu(n,e){let t=La(n,e);if(e+t<=n.length){let i=hn(n,e)-t;if(i>0)return{headerLength:t,frameLength:i}}}function Ia(n,e,t,i,s){let r=Ra(n.samplerate),o=i+s*r,a=Gu(e,t),l;if(a){let{frameLength:h,headerLength:d}=a,f=d+h,g=Math.max(0,t+f-e.length);g?(l=new Uint8Array(f-d),l.set(e.subarray(t+d,e.length),0)):l=e.subarray(t+d,t+f);let m={unit:l,pts:o};return g||n.samples.push(m),{sample:m,length:f,missing:g}}let c=e.length-t;return l=new Uint8Array(c),l.set(e.subarray(t,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}var Di=null,Hu=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Vu=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ku=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Wu=[0,1,1,4];function Da(n,e,t,i,s){if(t+24>e.length)return;let r=Ca(e,t);if(r&&t+r.frameLength<=e.length){let o=r.samplesPerFrame*9e4/r.sampleRate,a=i+s*o,l={unit:e.subarray(t,t+r.frameLength),pts:a,dts:a};return n.config=[],n.channelCount=r.channelCount,n.samplerate=r.sampleRate,n.samples.push(l),{sample:l,length:r.frameLength,missing:0}}}function Ca(n,e){let t=n[e+1]>>3&3,i=n[e+1]>>1&3,s=n[e+2]>>4&15,r=n[e+2]>>2&3;if(t!==1&&s!==0&&s!==15&&r!==3){let o=n[e+2]>>1&1,a=n[e+3]>>6,l=t===3?3-i:i===3?3:4,c=Hu[l*14+s-1]*1e3,h=Vu[(t===3?0:t===2?1:2)*3+r],d=a===3?1:2,f=Ku[t][i],g=Wu[i],m=f*8*g,y=Math.floor(f*c/h+o)*g;if(Di===null){let E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Di=E?parseInt(E[1]):0}return!!Di&&Di<=87&&i===2&&c>=224e3&&a===0&&(n[e+3]=n[e+3]|128),{sampleRate:h,channelCount:d,frameLength:y,samplesPerFrame:m}}}function dn(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function wa(n,e){return e+1<n.length&&dn(n,e)}function Yu(n,e){return dn(n,e)&&4<=n.length-e}function ka(n,e){if(e+1<n.length&&dn(n,e)){let i=Ca(n,e),s=4;i!=null&&i.frameLength&&(s=i.frameLength);let r=e+s;return r===n.length||wa(n,r)}return!1}var Er=class extends ci{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,i,s){super.resetInitSegment(e,t,i,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let t=si(e,0),i=(t==null?void 0:t.length)||0;if(ka(e,i))return!1;for(let s=e.length;i<s;i++)if($u(e,i))return L.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return Uu(e,t)}appendFrame(e,t,i){ba(e,this.observer,t,i,e.manifestCodec);let s=Ia(e,t,i,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}},qu=/\/emsg[-/]ID3/i,vr=class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,i,s){let r=this.videoTrack=Ve("video",1),o=this.audioTrack=Ve("audio",1),a=this.txtTrack=Ve("text",1);if(this.id3Track=Ve("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;let l=la(e);if(l.video){let{id:c,timescale:u,codec:h}=l.video;r.id=c,r.timescale=a.timescale=u,r.codec=h}if(l.audio){let{id:c,timescale:u,codec:h}=l.audio;o.id=c,o.timescale=u,o.codec=h}a.id=na.text,r.sampleDuration=0,r.duration=o.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return bc(e)}demux(e,t){this.timeOffset=t;let i=e,s=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=_e(this.remainderData,e));let a=Pc(i);this.remainderData=a.remainder,s.samples=a.valid||new Uint8Array}else s.samples=i;let o=this.extractID3Track(s,t);return r.samples=co(t,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){let e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;let s=this.extractID3Track(t,this.timeOffset);return i.samples=co(e,t),{videoTrack:t,audioTrack:Ve(),id3Track:s,textTrack:Ve()}}extractID3Track(e,t){let i=this.id3Track;if(e.samples.length){let s=Y(e.samples,["emsg"]);s&&s.forEach(r=>{let o=Mc(r);if(qu.test(o.schemeIdUri)){let a=M(o.presentationTime)?o.presentationTime/o.timeScale:t+o.presentationTimeDelta/o.timeScale,l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);let c=o.payload;i.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:Ue.emsg,duration:l})}})}return i}demuxSampleAes(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},_a=(n,e)=>{let t=0,i=5;e+=i;let s=new Uint32Array(1),r=new Uint32Array(1),o=new Uint8Array(1);for(;i>0;){o[0]=n[e];let a=Math.min(i,8),l=8-a;r[0]=4278190080>>>24+l<<l,s[0]=(o[0]&r[0])>>l,t=t?t<<a|s[0]:s[0],e+=1,i-=a}return t},Sr=class extends ci{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,i,s){super.resetInitSegment(e,t,i,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,i){let s=Pa(e,t,i,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;let t=si(e,0);if(!t)return!1;let i=t.length;return e[i]===11&&e[i+1]===119&&cn(t)!==void 0&&_a(e,i)<16}};function Pa(n,e,t,i,s){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;let r=e[t+4]>>6;if(r>=3)return-1;let a=[48e3,44100,32e3][r],l=e[t+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+r]*2;if(t+u>e.length)return-1;let h=e[t+6]>>5,d=0;h===2?d+=2:(h&1&&h!==1&&(d+=2),h&4&&(d+=2));let f=(e[t+6]<<8|e[t+7])>>12-d&1,m=[2,1,2,3,3,4,4,5][h]+f,y=e[t+5]>>3,T=e[t+5]&7,v=new Uint8Array([r<<6|y<<1|T>>2,(T&3)<<6|h<<3|f<<2|l>>4,l<<4&224]),E=1536/a*9e4,S=i+s*E,x=e.subarray(t,t+u);return n.config=v,n.channelCount=m,n.samplerate=a,n.samples.push({unit:x,pts:S}),u}var Ar=class{constructor(){this.VideoSample=null}createVideoSample(e,t,i,s){return{key:e,frame:!1,pts:t,dts:i,units:[],debug:s,length:0}}getLastNalUnit(e){var t;let i=this.VideoSample,s;if((!i||i.units.length===0)&&(i=e[e.length-1]),(t=i)!=null&&t.units){let r=i.units;s=r[r.length-1]}return s}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){let i=t.samples,s=i.length;if(s){let r=i[s-1];e.pts=r.pts,e.dts=r.dts}else{t.dropped++;return}}t.samples.push(e)}e.debug.length&&L.log(e.pts+"/"+e.dts+":"+e.debug)}},es=class{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){let e=this.data,t=this.bytesAvailable,i=e.byteLength-t,s=new Uint8Array(4),r=Math.min(4,t);if(r===0)throw new Error("no bytes available");s.set(e.subarray(i,i+r)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=r*8,this.bytesAvailable-=r}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;if(e>32&&L.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){let e=this.skipLZ();return this.readBits(e+1)-1}readEG(){let e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t=8,i=8,s;for(let r=0;r<e;r++)i!==0&&(s=this.readEG(),i=(t+s+256)%256),t=i===0?t:i}readSPS(){let e=0,t=0,i=0,s=0,r,o,a,l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),h=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),g=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();let y=l();if(c(5),d(3),l(),g(),y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128){let A=u();if(A===3&&d(1),g(),g(),d(1),h())for(o=A!==3?8:12,a=0;a<o;a++)h()&&(a<6?m(16):m(64))}g();let T=u();if(T===0)u();else if(T===1)for(d(1),f(),f(),r=u(),a=0;a<r;a++)f();g(),d(1);let v=u(),E=u(),S=c(1);S===0&&d(1),d(1),h()&&(e=u(),t=u(),i=u(),s=u());let x=[1,1];if(h()&&h())switch(l()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:{x=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((v+1)*16-e*2-t*2),height:(2-S)*(E+1)*16-(S?2:4)*(i+s),pixelRatio:x}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}},Lr=class extends Ar{parseAVCPES(e,t,i,s,r){let o=this.parseAVCNALu(e,i.data),a=this.VideoSample,l,c=!1;i.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"")),o.forEach(u=>{var h;switch(u.type){case 1:{let m=!1;l=!0;let y=u.data;if(c&&y.length>4){let T=new es(y).readSliceType();(T===2||T===4||T===7||T===9)&&(m=!0)}if(m){var d;(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),a.frame=!0,a.key=m;break}case 5:l=!0,(h=a)!=null&&h.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,ua(u.data,1,i.pts,t.samples);break}case 7:{var f,g;l=!0,c=!0;let m=u.data,T=new es(m).readSPS();if(!e.sps||e.width!==T.width||e.height!==T.height||((f=e.pixelRatio)==null?void 0:f[0])!==T.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==T.pixelRatio[1]){e.width=T.width,e.height=T.height,e.pixelRatio=T.pixelRatio,e.sps=[m],e.duration=r;let v=m.subarray(1,4),E="avc1.";for(let S=0;S<3;S++){let x=v[S].toString(16);x.length<2&&(x="0"+x),E+=x}e.codec=E}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+u.type+" ");break}a&&l&&a.units.push(u)}),s&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,t){let i=t.byteLength,s=e.naluState||0,r=s,o=[],a=0,l,c,u,h=-1,d=0;for(s===-1&&(h=0,d=t[0]&31,s=0,a=1);a<i;){if(l=t[a++],!s){s=l?0:1;continue}if(s===1){s=l?0:2;continue}if(!l)s=3;else if(l===1){if(c=a-s-1,h>=0){let f={data:t.subarray(h,c),type:d};o.push(f)}else{let f=this.getLastNalUnit(e.samples);f&&(r&&a<=4-r&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-r)),c>0&&(f.data=_e(f.data,t.subarray(0,c)),f.state=0))}a<i?(u=t[a]&31,h=a,d=u,s=0):s=-1}else s=0}if(h>=0&&s>=0){let f={data:t.subarray(h,i),type:d,state:s};o.push(f)}if(o.length===0){let f=this.getLastNalUnit(e.samples);f&&(f.data=_e(f.data,t))}return e.naluState=s,o}},br=class{constructor(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new ai(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,i){let s=e[t].unit;if(s.length<=16)return;let r=s.subarray(16,s.length-s.length%16),o=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(o).then(a=>{let l=new Uint8Array(a);s.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,i)})}decryptAacSamples(e,t,i){for(;;t++){if(t>=e.length){i();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){let t=Math.floor((e.length-48)/160)*16+16,i=new Int8Array(t),s=0;for(let r=32;r<e.length-16;r+=160,s+=16)i.set(e.subarray(r,r+16),s);return i}getAvcDecryptedUnit(e,t){let i=new Uint8Array(t),s=0;for(let r=32;r<e.length-16;r+=160,s+=16)e.set(i.subarray(s,s+16),r);return e}decryptAvcSample(e,t,i,s,r){let o=ha(r.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{r.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,t,i+1,s)})}decryptAvcSamples(e,t,i,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length){s();return}let r=e[t].units;for(;!(i>=r.length);i++){let o=r[i];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,t,i,s,o),!this.decrypter.isSync()))return}}}},ge=188,Ke=class{constructor(e,t,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.videoParser=new Lr}static probe(e){let t=Ke.syncOffset(e);return t>0&&L.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),t!==-1}static syncOffset(e){let t=e.length,i=Math.min(ge*5,t-ge)+1,s=0;for(;s<i;){let r=!1,o=-1,a=0;for(let l=s;l<t;l+=ge)if(e[l]===71&&(t-l===ge||e[l+ge]===71)){if(a++,o===-1&&(o=l,o!==0&&(i=Math.min(o+ge*99,e.length-ge)+1)),r||(r=Rr(e,l)===0),r&&a>1&&(o===0&&a>2||l+ge>i))return o}else{if(a)return-1;break}s++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:na[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,i,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Ke.createTrack("video"),this._audioTrack=Ke.createTrack("audio",s),this._id3Track=Ke.createTrack("id3"),this._txtTrack=Ke.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=i,this._duration=s}resetTimeStamp(){}resetContiguity(){let{_audioTrack:e,_videoTrack:t,_id3Track:i}=this;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,i=!1,s=!1){i||(this.sampleAes=null);let r,o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack,u=o.pid,h=o.pesData,d=a.pid,f=l.pid,g=a.pesData,m=l.pesData,y=null,T=this.pmtParsed,v=this._pmtId,E=e.length;if(this.remainderData&&(e=_e(this.remainderData,e),E=e.length,this.remainderData=null),E<ge&&!s)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};let S=Math.max(0,Ke.syncOffset(e));E-=(E-S)%ge,E<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,E,e.buffer.byteLength-E));let x=0;for(let b=S;b<E;b+=ge)if(e[b]===71){let C=!!(e[b+1]&64),_=Rr(e,b),D=(e[b+3]&48)>>4,w;if(D>1){if(w=b+5+e[b+4],w===b+ge)continue}else w=b+4;switch(_){case u:C&&(h&&(r=Ft(h))&&this.videoParser.parseAVCPES(o,c,r,!1,this._duration),h={data:[],size:0}),h&&(h.data.push(e.subarray(w,b+ge)),h.size+=b+ge-w);break;case d:if(C){if(g&&(r=Ft(g)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,r);break;case"mp3":this.parseMPEGPES(a,r);break;case"ac3":this.parseAC3PES(a,r);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(w,b+ge)),g.size+=b+ge-w);break;case f:C&&(m&&(r=Ft(m))&&this.parseID3PES(l,r),m={data:[],size:0}),m&&(m.data.push(e.subarray(w,b+ge)),m.size+=b+ge-w);break;case 0:C&&(w+=e[w]+1),v=this._pmtId=ju(e,w);break;case v:{C&&(w+=e[w]+1);let B=zu(e,w,this.typeSupported,i,this.observer);u=B.videoPid,u>0&&(o.pid=u,o.segmentCodec=B.segmentVideoCodec),d=B.audioPid,d>0&&(a.pid=d,a.segmentCodec=B.segmentAudioCodec),f=B.id3Pid,f>0&&(l.pid=f),y!==null&&!T&&(L.warn(`MPEG-TS PMT found at ${b} after unknown PID '${y}'. Backtracking to sync byte @${S} to parse all TS packets.`),y=null,b=S-188),T=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=_;break}}else x++;x>0&&ts(this.observer,new Error(`Found ${x} TS packet/s that do not start with 0x47`)),o.pesData=h,a.pesData=g,l.pesData=m;let A={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return s&&this.extractRemainingSamples(A),A}flush(){let{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){let{audioTrack:t,videoTrack:i,id3Track:s,textTrack:r}=e,o=i.pesData,a=t.pesData,l=s.pesData,c;if(o&&(c=Ft(o))?(this.videoParser.parseAVCPES(i,r,c,!0,this._duration),i.pesData=null):i.pesData=o,a&&(c=Ft(a))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,c);break;case"mp3":this.parseMPEGPES(t,c);break;case"ac3":this.parseAC3PES(t,c);break}t.pesData=null}else a!=null&&a.size&&L.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=a;l&&(c=Ft(l))?(this.parseID3PES(s,c),s.pesData=null):s.pesData=l}demuxSampleAes(e,t,i){let s=this.demux(e,i,!0,!this.config.progressive),r=this.sampleAes=new br(this.observer,this.config,t);return this.decrypt(s,r)}decrypt(e,t){return new Promise(i=>{let{audioTrack:s,videoTrack:r}=e;s.samples&&s.segmentCodec==="aac"?t.decryptAacSamples(s.samples,0,()=>{r.samples?t.decryptAvcSamples(r.samples,0,0,()=>{i(e)}):i(e)}):r.samples&&t.decryptAvcSamples(r.samples,0,0,()=>{i(e)})})}destroy(){this._duration=0}parseAACPES(e,t){let i=0,s=this.aacOverFlow,r=t.data;if(s){this.aacOverFlow=null;let h=s.missing,d=s.sample.unit.byteLength;if(h===-1)r=_e(s.sample.unit,r);else{let f=d-h;s.sample.unit.set(r.subarray(0,h),f),e.samples.push(s.sample),i=s.missing}}let o,a;for(o=i,a=r.length;o<a-1&&!Zi(r,o);o++);if(o!==i){let h,d=o<a-1;if(d?h=`AAC PES did not start with ADTS header,offset:${o}`:h="No ADTS header found in AAC PES",ts(this.observer,new Error(h),d),!d)return}ba(e,this.observer,r,o,this.audioCodec);let l;if(t.pts!==void 0)l=t.pts;else if(s){let h=Ra(e.samplerate);l=s.sample.pts+h}else{L.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;o<a;)if(u=Ia(e,r,o,l,c),o+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;o<a-1&&!Zi(r,o);o++);}parseMPEGPES(e,t){let i=t.data,s=i.length,r=0,o=0,a=t.pts;if(a===void 0){L.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<s;)if(wa(i,o)){let l=Da(e,i,o,a,r);if(l)o+=l.length,r++;else break}else o++}parseAC3PES(e,t){{let i=t.data,s=t.pts;if(s===void 0){L.warn("[tsdemuxer]: AC3 PES unknown PTS");return}let r=i.length,o=0,a=0,l;for(;a<r&&(l=Pa(e,i,a,s,o++))>0;)a+=l}}parseID3PES(e,t){if(t.pts===void 0){L.warn("[tsdemuxer]: ID3 PES unknown PTS");return}let i=le({},t,{type:this._videoTrack?Ue.emsg:Ue.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}};function Rr(n,e){return((n[e+1]&31)<<8)+n[e+2]}function ju(n,e){return(n[e+10]&31)<<8|n[e+11]}function zu(n,e,t,i,s){let r={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(n[e+1]&15)<<8|n[e+2],a=e+3+o-4,l=(n[e+10]&15)<<8|n[e+11];for(e+=12+l;e<a;){let c=Rr(n,e),u=(n[e+3]&15)<<8|n[e+4];switch(n[e]){case 207:if(!i){Hs("ADTS AAC");break}case 15:r.audioPid===-1&&(r.audioPid=c);break;case 21:r.id3Pid===-1&&(r.id3Pid=c);break;case 219:if(!i){Hs("H.264");break}case 27:r.videoPid===-1&&(r.videoPid=c,r.segmentVideoCodec="avc");break;case 3:case 4:!t.mpeg&&!t.mp3?L.log("MPEG audio found, not supported in this browser"):r.audioPid===-1&&(r.audioPid=c,r.segmentAudioCodec="mp3");break;case 193:if(!i){Hs("AC-3");break}case 129:t.ac3?r.audioPid===-1&&(r.audioPid=c,r.segmentAudioCodec="ac3"):L.log("AC-3 audio found, not supported in this browser");break;case 6:if(r.audioPid===-1&&u>0){let h=e+5,d=u;for(;d>2;){switch(n[h]){case 106:t.ac3!==!0?L.log("AC-3 audio found, not supported in this browser for now"):(r.audioPid=c,r.segmentAudioCodec="ac3");break}let g=n[h+1]+2;h+=g,d-=g}}break;case 194:case 135:return ts(s,new Error("Unsupported EC-3 in M2TS found")),r;case 36:return ts(s,new Error("Unsupported HEVC in M2TS found")),r}e+=u+5}return r}function ts(n,e,t){L.warn(`parsing error: ${e.message}`),n.emit(p.ERROR,p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Hs(n){L.log(`${n} with AES-128-CBC encryption found in unencrypted stream`)}function Ft(n){let e=0,t,i,s,r,o,a=n.data;if(!n||n.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=_e(a[0],a[1]),a.splice(1,1);if(t=a[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(i=(t[4]<<8)+t[5],i&&i>n.size-6)return null;let c=t[7];c&192&&(r=(t[9]&14)*536870912+(t[10]&255)*4194304+(t[11]&254)*16384+(t[12]&255)*128+(t[13]&254)/2,c&64?(o=(t[14]&14)*536870912+(t[15]&255)*4194304+(t[16]&254)*16384+(t[17]&255)*128+(t[18]&254)/2,r-o>60*9e4&&(L.warn(`${Math.round((r-o)/9e4)}s delta between PTS and DTS, align them`),r=o)):o=r),s=t[8];let u=s+9;if(n.size<=u)return null;n.size-=u;let h=new Uint8Array(n.size);for(let d=0,f=a.length;d<f;d++){t=a[d];let g=t.byteLength;if(u)if(u>g){u-=g;continue}else t=t.subarray(u),g-=u,u=0;h.set(t,e),e+=g}return i&&(i-=s+3),{data:h,pts:r,dts:o,len:i}}return null}var Ir=class extends ci{resetInitSegment(e,t,i,s){super.resetInitSegment(e,t,i,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let t=si(e,0),i=(t==null?void 0:t.length)||0;if(t&&e[i]===11&&e[i+1]===119&&cn(t)!==void 0&&_a(e,i)<=16)return!1;for(let s=e.length;i<s;i++)if(ka(e,i))return L.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return Yu(e,t)}appendFrame(e,t,i){if(this.basePTS!==null)return Da(e,t,i,this.basePTS,this.frameIndex)}},is=class{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}},nt=Math.pow(2,32)-1,R=class{static init(){R.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in R.types)R.types.hasOwnProperty(e)&&(R.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);R.HDLR_TYPES={video:t,audio:i};let s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);R.STTS=R.STSC=R.STCO=r,R.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),R.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),R.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);let o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);R.FTYP=R.box(R.types.ftyp,o,l,o,a),R.DINF=R.box(R.types.dinf,R.box(R.types.dref,s))}static box(e,...t){let i=8,s=t.length,r=s;for(;s--;)i+=t[s].byteLength;let o=new Uint8Array(i);for(o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=i&255,o.set(e,4),s=0,i=8;s<r;s++)o.set(t[s],i),i+=t[s].byteLength;return o}static hdlr(e){return R.box(R.types.hdlr,R.HDLR_TYPES[e])}static mdat(e){return R.box(R.types.mdat,e)}static mdhd(e,t){t*=e;let i=Math.floor(t/(nt+1)),s=Math.floor(t%(nt+1));return R.box(R.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return R.box(R.types.mdia,R.mdhd(e.timescale,e.duration),R.hdlr(e.type),R.minf(e))}static mfhd(e){return R.box(R.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?R.box(R.types.minf,R.box(R.types.smhd,R.SMHD),R.DINF,R.stbl(e)):R.box(R.types.minf,R.box(R.types.vmhd,R.VMHD),R.DINF,R.stbl(e))}static moof(e,t,i){return R.box(R.types.moof,R.mfhd(e),R.traf(i,t))}static moov(e){let t=e.length,i=[];for(;t--;)i[t]=R.trak(e[t]);return R.box.apply(null,[R.types.moov,R.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(R.mvex(e)))}static mvex(e){let t=e.length,i=[];for(;t--;)i[t]=R.trex(e[t]);return R.box.apply(null,[R.types.mvex,...i])}static mvhd(e,t){t*=e;let i=Math.floor(t/(nt+1)),s=Math.floor(t%(nt+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return R.box(R.types.mvhd,r)}static sdtp(e){let t=e.samples||[],i=new Uint8Array(4+t.length),s,r;for(s=0;s<t.length;s++)r=t[s].flags,i[s+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return R.box(R.types.sdtp,i)}static stbl(e){return R.box(R.types.stbl,R.stsd(e),R.box(R.types.stts,R.STTS),R.box(R.types.stsc,R.STSC),R.box(R.types.stsz,R.STSZ),R.box(R.types.stco,R.STCO))}static avc1(e){let t=[],i=[],s,r,o;for(s=0;s<e.sps.length;s++)r=e.sps[s],o=r.byteLength,t.push(o>>>8&255),t.push(o&255),t=t.concat(Array.prototype.slice.call(r));for(s=0;s<e.pps.length;s++)r=e.pps[s],o=r.byteLength,i.push(o>>>8&255),i.push(o&255),i=i.concat(Array.prototype.slice.call(r));let a=R.box(R.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(i))),l=e.width,c=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return R.box(R.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,R.box(R.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),R.box(R.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,h>>24,h>>16&255,h>>8&255,h&255])))}static esds(e){let t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){let t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return R.box(R.types.mp4a,R.audioStsd(e),R.box(R.types.esds,R.esds(e)))}static mp3(e){return R.box(R.types[".mp3"],R.audioStsd(e))}static ac3(e){return R.box(R.types["ac-3"],R.audioStsd(e),R.box(R.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?R.box(R.types.stsd,R.STSD,R.mp3(e)):e.segmentCodec==="ac3"?R.box(R.types.stsd,R.STSD,R.ac3(e)):R.box(R.types.stsd,R.STSD,R.mp4a(e)):R.box(R.types.stsd,R.STSD,R.avc1(e))}static tkhd(e){let t=e.id,i=e.duration*e.timescale,s=e.width,r=e.height,o=Math.floor(i/(nt+1)),a=Math.floor(i%(nt+1));return R.box(R.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,r>>8&255,r&255,0,0]))}static traf(e,t){let i=R.sdtp(e),s=e.id,r=Math.floor(t/(nt+1)),o=Math.floor(t%(nt+1));return R.box(R.types.traf,R.box(R.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),R.box(R.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,o>>24,o>>16&255,o>>8&255,o&255])),R.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,R.box(R.types.trak,R.tkhd(e),R.mdia(e))}static trex(e){let t=e.id;return R.box(R.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){let i=e.samples||[],s=i.length,r=12+16*s,o=new Uint8Array(r),a,l,c,u,h,d;for(t+=8+r,o.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),a=0;a<s;a++)l=i[a],c=l.duration,u=l.size,h=l.flags,d=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&240<<8,h.degradPrio&15,d>>>24&255,d>>>16&255,d>>>8&255,d&255],12+16*a);return R.box(R.types.trun,o)}static initSegment(e){R.types||R.init();let t=R.moov(e);return _e(R.FTYP,t)}};R.types=void 0;R.HDLR_TYPES=void 0;R.STTS=void 0;R.STSC=void 0;R.STCO=void 0;R.STSZ=void 0;R.VMHD=void 0;R.SMHD=void 0;R.STSD=void 0;R.FTYP=void 0;R.DINF=void 0;var Oa=9e4;function fn(n,e,t=1,i=!1){let s=n*e*t;return i?Math.round(s):s}function Xu(n,e,t=1,i=!1){return fn(n,e,1/t,i)}function Zt(n,e=!1){return fn(n,1e3,1/Oa,e)}function Qu(n,e=1){return fn(n,Oa,1/e)}var Ju=10*1e3,No=1024,Zu=1152,eh=1536,Mt=null,Vs=null,$t=class{constructor(e,t,i,s=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.ISGenerated=!1,Mt===null){let o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Mt=o?parseInt(o[1]):0}if(Vs===null){let r=navigator.userAgent.match(/Safari\/(\d+)/i);Vs=r?parseInt(r[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){L.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){L.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){L.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1,i=e.reduce((s,r)=>{let o=r.pts-s;return o<-4294967296?(t=!0,we(s,r.pts)):o>0?s:r.pts},e[0].pts);return t&&L.debug("PTS rollover detected"),i}remux(e,t,i,s,r,o,a,l){let c,u,h,d,f,g,m=r,y=r,T=e.pid>-1,v=t.pid>-1,E=t.samples.length,S=e.samples.length>0,x=a&&E>0||E>1;if((!T||S)&&(!v||x)||this.ISGenerated||a){if(this.ISGenerated){var b,C,_,D;let $=this.videoTrackConfig;$&&(t.width!==$.width||t.height!==$.height||((b=t.pixelRatio)==null?void 0:b[0])!==((C=$.pixelRatio)==null?void 0:C[0])||((_=t.pixelRatio)==null?void 0:_[1])!==((D=$.pixelRatio)==null?void 0:D[1]))&&this.resetInitSegment()}else h=this.generateIS(e,t,r,o);let w=this.isVideoContiguous,B=-1,P;if(x&&(B=th(t.samples),!w&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,B>0){L.warn(`[mp4-remuxer]: Dropped ${B} out of ${E} video samples due to a missing keyframe`);let $=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(B),t.dropped+=B,y+=(t.samples[0].pts-$)/t.inputTimeScale,P=y}else B===-1&&(L.warn(`[mp4-remuxer]: No keyframe found out of ${E} video samples`),g=!1);if(this.ISGenerated){if(S&&x){let $=this.getVideoStartPts(t.samples),N=(we(e.samples[0].pts,$)-$)/t.inputTimeScale;m+=Math.max(0,N),y+=Math.max(0,-N)}if(S){if(e.samplerate||(L.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,t,r,o)),u=this.remuxAudio(e,m,this.isAudioContiguous,o,v||x||l===H.AUDIO?y:void 0),x){let $=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(L.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,t,r,o)),c=this.remuxVideo(t,y,w,$)}}else x&&(c=this.remuxVideo(t,y,w,0));c&&(c.firstKeyFrame=B,c.independent=B!==-1,c.firstKeyFramePTS=P)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(f=Fa(i,r,this._initPTS,this._initDTS)),s.samples.length&&(d=Ma(s,r,this._initPTS))),{audio:u,video:c,initSegment:h,independent:g,text:d,id3:f}}generateIS(e,t,i,s){let r=e.samples,o=t.samples,a=this.typeSupported,l={},c=this._initPTS,u=!c||s,h="audio/mp4",d,f,g;if(u&&(d=f=1/0),e.config&&r.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(h="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:h,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):R.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(g=e.inputTimeScale,!c||g!==c.timescale?d=f=r[0].pts-Math.round(g*i):u=!1)}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:R.initSegment([t]),metadata:{width:t.width,height:t.height}},u)if(g=t.inputTimeScale,!c||g!==c.timescale){let m=this.getVideoStartPts(o),y=Math.round(g*i);f=Math.min(f,we(o[0].dts,m)-y),d=Math.min(d,m-y)}else u=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:d,timescale:g},this._initDTS={baseTime:f,timescale:g}):d=g=void 0,{tracks:l,initPTS:d,timescale:g}}remuxVideo(e,t,i,s){let r=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS,u=this.nextAvcDts,h=8,d=this.videoSampleDuration,f,g,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,T=!1;if(!i||u===null){let F=t*r,O=o[0].pts-we(o[0].dts,o[0].pts);Mt&&u!==null&&Math.abs(F-O-u)<15e3?i=!0:u=F-O}let v=c.baseTime*r/c.timescale;for(let F=0;F<l;F++){let O=o[F];O.pts=we(O.pts-v,u),O.dts=we(O.dts-v,u),O.dts<o[F>0?F-1:F].dts&&(T=!0)}T&&o.sort(function(F,O){let q=F.dts-O.dts,W=F.pts-O.pts;return q||W}),f=o[0].dts,g=o[o.length-1].dts;let E=g-f,S=E?Math.round(E/(l-1)):d||e.inputTimeScale/30;if(i){let F=f-u,O=F>S,q=F<-1;if((O||q)&&(O?L.warn(`AVC: ${Zt(F,!0)} ms (${F}dts) hole between fragments detected at ${t.toFixed(3)}`):L.warn(`AVC: ${Zt(-F,!0)} ms (${F}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!q||u>=o[0].pts||Mt)){f=u;let W=o[0].pts-F;if(O)o[0].dts=f,o[0].pts=W;else for(let j=0;j<o.length&&!(o[j].dts>W);j++)o[j].dts-=F,o[j].pts-=F;L.log(`Video: Initial PTS/DTS adjusted: ${Zt(W,!0)}/${Zt(f,!0)}, delta: ${Zt(F,!0)} ms`)}}f=Math.max(0,f);let x=0,A=0,b=f;for(let F=0;F<l;F++){let O=o[F],q=O.units,W=q.length,j=0;for(let Z=0;Z<W;Z++)j+=q[Z].data.length;A+=j,x+=W,O.length=j,O.dts<b?(O.dts=b,b+=S/4|0||1):b=O.dts,m=Math.min(O.pts,m),y=Math.max(O.pts,y)}g=o[l-1].dts;let C=A+4*x+8,_;try{_=new Uint8Array(C)}catch(F){this.observer.emit(p.ERROR,p.ERROR,{type:V.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:F,bytes:C,reason:`fail allocating video mdat ${C}`});return}let D=new DataView(_.buffer);D.setUint32(0,C),_.set(R.types.mdat,4);let w=!1,B=Number.POSITIVE_INFINITY,P=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,U=Number.NEGATIVE_INFINITY;for(let F=0;F<l;F++){let O=o[F],q=O.units,W=0;for(let ee=0,re=q.length;ee<re;ee++){let Te=q[ee],be=Te.data,ut=Te.data.byteLength;D.setUint32(h,ut),h+=4,_.set(be,h),h+=ut,W+=4+ut}let j;if(F<l-1)d=o[F+1].dts-O.dts,j=o[F+1].pts-O.pts;else{let ee=this.config,re=F>0?O.dts-o[F-1].dts:S;if(j=F>0?O.pts-o[F-1].pts:S,ee.stretchShortVideoTrack&&this.nextAudioPts!==null){let Te=Math.floor(ee.maxBufferHole*r),be=(s?m+s*r:this.nextAudioPts)-O.pts;be>Te?(d=be-re,d<0?d=re:w=!0,L.log(`[mp4-remuxer]: It is approximately ${be/90} ms to the next segment; using duration ${d/90} ms for the last video frame.`)):d=re}else d=re}let Z=Math.round(O.pts-O.dts);B=Math.min(B,d),$=Math.max($,d),P=Math.min(P,j),U=Math.max(U,j),a.push(new ss(O.key,d,W,Z))}if(a.length){if(Mt){if(Mt<70){let F=a[0].flags;F.dependsOn=2,F.isNonSync=0}}else if(Vs&&U-P<$-B&&S/$<.025&&a[0].cts===0){L.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let F=f;for(let O=0,q=a.length;O<q;O++){let W=F+a[O].duration,j=F+a[O].cts;if(O<q-1){let Z=W+a[O+1].cts;a[O].duration=Z-j}else a[O].duration=O?a[O-1].duration:S;a[O].cts=0,F=W}}}d=w||!d?S:d,this.nextAvcDts=u=g+d,this.videoSampleDuration=d,this.isVideoContiguous=!0;let N=R.moof(e.sequenceNumber++,f,le({},e,{samples:a})),K="video",X={data1:N,data2:_,startPTS:m/r,endPTS:(y+d)/r,startDTS:f/r,endDTS:u/r,type:K,hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,X}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return Zu;case"ac3":return eh;default:return No}}remuxAudio(e,t,i,s,r){let o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),u=c*l,h=this._initPTS,d=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,f=[],g=r!==void 0,m=e.samples,y=d?0:8,T=this.nextAudioPts||-1,v=t*o,E=h.baseTime*o/h.timescale;if(this.isAudioContiguous=i=i||m.length&&T>0&&(s&&Math.abs(v-T)<9e3||Math.abs(we(m[0].pts-E,v)-T)<20*u),m.forEach(function(N){N.pts=we(N.pts-E,v)}),!i||T<0){if(m=m.filter(N=>N.pts>=0),!m.length)return;r===0?T=0:s&&!g?T=Math.max(0,v):T=m[0].pts}if(e.segmentCodec==="aac"){let N=this.config.maxAudioFramesDrift;for(let K=0,X=T;K<m.length;K++){let F=m[K],O=F.pts,q=O-X,W=Math.abs(1e3*q/o);if(q<=-N*u&&g)K===0&&(L.warn(`Audio frame @ ${(O/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*q/o)} ms.`),this.nextAudioPts=T=X=O);else if(q>=N*u&&W<Ju&&g){let j=Math.round(q/u);X=O-j*u,X<0&&(j--,X+=u),K===0&&(this.nextAudioPts=T=X),L.warn(`[mp4-remuxer]: Injecting ${j} audio frame @ ${(X/o).toFixed(3)}s due to ${Math.round(1e3*q/o)} ms gap.`);for(let Z=0;Z<j;Z++){let ee=Math.max(X,0),re=is.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);re||(L.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),re=F.unit.subarray()),m.splice(K,0,{unit:re,pts:ee}),X+=u,K++}}F.pts=X,X+=u}}let S=null,x=null,A,b=0,C=m.length;for(;C--;)b+=m[C].unit.byteLength;for(let N=0,K=m.length;N<K;N++){let X=m[N],F=X.unit,O=X.pts;if(x!==null){let W=f[N-1];W.duration=Math.round((O-x)/l)}else if(i&&e.segmentCodec==="aac"&&(O=T),S=O,b>0){b+=y;try{A=new Uint8Array(b)}catch(W){this.observer.emit(p.ERROR,p.ERROR,{type:V.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:W,bytes:b,reason:`fail allocating audio mdat ${b}`});return}d||(new DataView(A.buffer).setUint32(0,b),A.set(R.types.mdat,4))}else return;A.set(F,y);let q=F.byteLength;y+=q,f.push(new ss(!0,c,q,0)),x=O}let _=f.length;if(!_)return;let D=f[f.length-1];this.nextAudioPts=T=x+l*D.duration;let w=d?new Uint8Array(0):R.moof(e.sequenceNumber++,S/l,le({},e,{samples:f}));e.samples=[];let B=S/o,P=T/o,U={data1:w,data2:A,startPTS:B,endPTS:P,startDTS:B,endDTS:P,type:"audio",hasAudio:!0,hasVideo:!1,nb:_};return this.isAudioContiguous=!0,U}remuxEmptyAudio(e,t,i,s){let r=e.inputTimeScale,o=e.samplerate?e.samplerate:r,a=r/o,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,h=(l!==null?l:s.startDTS*r)+u,d=s.endDTS*r+u,f=a*No,g=Math.ceil((d-h)/f),m=is.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(L.warn("[mp4-remuxer]: remux empty Audio"),!m){L.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}let y=[];for(let T=0;T<g;T++){let v=h+T*f;y.push({unit:m,pts:v,dts:v})}return e.samples=y,this.remuxAudio(e,t,i,!1)}};function we(n,e){let t;if(e===null)return n;for(e<n?t=-8589934592:t=8589934592;Math.abs(n-e)>4294967296;)n+=t;return n}function th(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function Fa(n,e,t,i){let s=n.samples.length;if(!s)return;let r=n.inputTimeScale;for(let a=0;a<s;a++){let l=n.samples[a];l.pts=we(l.pts-t.baseTime*r/t.timescale,e*r)/r,l.dts=we(l.dts-i.baseTime*r/i.timescale,e*r)/r}let o=n.samples;return n.samples=[],{samples:o}}function Ma(n,e,t){let i=n.samples.length;if(!i)return;let s=n.inputTimeScale;for(let o=0;o<i;o++){let a=n.samples[o];a.pts=we(a.pts-t.baseTime*s/t.timescale,e*s)/s}n.samples.sort((o,a)=>o.pts-a.pts);let r=n.samples;return n.samples=[],{samples:r}}var ss=class{constructor(e,t,i,s){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=i,this.cts=s,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}},Dr=class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,i,s){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(Dc(e,s)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}let s=this.initData=la(e);s.audio&&(t=Bo(s.audio,Q.AUDIO)),s.video&&(i=Bo(s.video,Q.VIDEO));let r={};s.audio&&s.video?r.audiovideo={container:"video/mp4",codec:t+","+i,initSegment:e,id:"main"}:s.audio?r.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:s.video?r.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:L.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}remux(e,t,i,s,r,o){var a,l;let{initPTS:c,lastEndTime:u}=this,h={audio:void 0,video:void 0,text:s,id3:i,initSegment:void 0};M(u)||(u=this.lastEndTime=r||0);let d=t.samples;if(!(d!=null&&d.length))return h;let f={initPTS:void 0,timescale:1},g=this.initData;if((a=g)!=null&&a.length||(this.generateInitSegment(d),g=this.initData),!((l=g)!=null&&l.length))return L.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);let m=wc(d,g),y=Cc(g,d),T=y===null?r:y;(ih(c,T,r,m)||f.timescale!==c.timescale&&o)&&(f.initPTS=T-r,c&&c.timescale===1&&L.warn(`Adjusting initPTS by ${f.initPTS-c.baseTime}`),this.initPTS=c={baseTime:f.initPTS,timescale:1});let v=e?T-c.baseTime/c.timescale:u,E=v+m;_c(g,d,c.baseTime/c.timescale),m>0?this.lastEndTime=E:(L.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());let S=!!g.audio,x=!!g.video,A="";S&&(A+="audio"),x&&(A+="video");let b={data1:d,startPTS:v,startDTS:v,endPTS:E,endDTS:E,type:A,hasAudio:S,hasVideo:x,nb:1,dropped:0};return h.audio=b.type==="audio"?b:void 0,h.video=b.type!=="audio"?b:void 0,h.initSegment=f,h.id3=Fa(i,r,c,c),s.samples.length&&(h.text=Ma(s,r,c)),h}};function ih(n,e,t,i){if(n===null)return!0;let s=Math.max(i,1),r=e-n.baseTime/n.timescale;return Math.abs(r-t)>s}function Bo(n,e){let t=n==null?void 0:n.codec;if(t&&t.length>4)return t;if(e===Q.AUDIO){if(t==="ec-3"||t==="ac-3"||t==="alac")return t;if(t==="fLaC"||t==="Opus")return Wi(t,!1);let i="mp4a.40.5";return L.info(`Parsed audio codec "${t}" or audio object type not handled. Using "${i}"`),i}return L.warn(`Unhandled video codec "${t}"`),t==="hvc1"||t==="hev1"?"hvc1.1.6.L120.90":t==="av01"?"av01.0.04M.08":"avc1.42e01e"}var Ze;try{Ze=self.performance.now.bind(self.performance)}catch(n){L.debug("Unable to use Performance API on this environment"),Ze=Ht==null?void 0:Ht.Date.now}var Mi=[{demux:vr,remux:Dr},{demux:Ke,remux:$t},{demux:Er,remux:$t},{demux:Ir,remux:$t}];Mi.splice(2,0,{demux:Sr,remux:$t});var rs=class{constructor(e,t,i,s,r){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=i,this.vendor=s,this.id=r}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,i,s){let r=i.transmuxing;r.executeStart=Ze();let o=new Uint8Array(e),{currentTransmuxState:a,transmuxConfig:l}=this;s&&(this.currentTransmuxState=s);let{contiguous:c,discontinuity:u,trackSwitch:h,accurateTimeOffset:d,timeOffset:f,initSegmentChange:g}=s||a,{audioCodec:m,videoCodec:y,defaultInitPts:T,duration:v,initSegmentData:E}=l,S=sh(o,t);if(S&&S.method==="AES-128"){let C=this.getDecrypter();if(C.isSync()){let _=C.softwareDecrypt(o,S.key.buffer,S.iv.buffer);if(i.part>-1&&(_=C.flush()),!_)return r.executeEnd=Ze(),Ks(i);o=new Uint8Array(_)}else return this.decryptionPromise=C.webCryptoDecrypt(o,S.key.buffer,S.iv.buffer).then(_=>{let D=this.push(_,null,i);return this.decryptionPromise=null,D}),this.decryptionPromise}let x=this.needsProbing(u,h);if(x){let C=this.configureTransmuxer(o);if(C)return L.warn(`[transmuxer] ${C.message}`),this.observer.emit(p.ERROR,p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message}),r.executeEnd=Ze(),Ks(i)}(u||h||g||x)&&this.resetInitSegment(E,m,y,v,t),(u||g||x)&&this.resetInitialTimestamp(T),c||this.resetContiguity();let A=this.transmux(o,S,f,d,i),b=this.currentTransmuxState;return b.contiguous=!0,b.discontinuity=!1,b.trackSwitch=!1,r.executeEnd=Ze(),A}flush(e){let t=e.transmuxing;t.executeStart=Ze();let{decrypter:i,currentTransmuxState:s,decryptionPromise:r}=this;if(r)return r.then(()=>this.flush(e));let o=[],{timeOffset:a}=s;if(i){let h=i.flush();h&&o.push(this.push(h,null,e))}let{demuxer:l,remuxer:c}=this;if(!l||!c)return t.executeEnd=Ze(),[Ks(e)];let u=l.flush(a);return Ni(u)?u.then(h=>(this.flushRemux(o,h,e),o)):(this.flushRemux(o,u,e),o)}flushRemux(e,t,i){let{audioTrack:s,videoTrack:r,id3Track:o,textTrack:a}=t,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;L.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);let u=this.remuxer.remux(s,r,o,a,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:i}),i.transmuxing.executeEnd=Ze()}resetInitialTimestamp(e){let{demuxer:t,remuxer:i}=this;!t||!i||(t.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){let{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,i,s,r){let{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,t,i,s),a.resetInitSegment(e,t,i,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,i,s,r){let o;return t&&t.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,t,i,s,r):o=this.transmuxUnencrypted(e,i,s,r),o}transmuxUnencrypted(e,t,i,s){let{audioTrack:r,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,o,a,l,t,i,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,t,i,s,r){return this.demuxer.demuxSampleAes(e,t,i).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,i,s,!1,this.id),chunkMeta:r}))}configureTransmuxer(e){let{config:t,observer:i,typeSupported:s,vendor:r}=this,o;for(let d=0,f=Mi.length;d<f;d++){var a;if((a=Mi[d].demux)!=null&&a.probe(e)){o=Mi[d];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");let l=this.demuxer,c=this.remuxer,u=o.remux,h=o.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(i,t,s,r)),(!l||!(l instanceof h))&&(this.demuxer=new h(i,t,s),this.probe=h.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new ai(this.config)),e}};function sh(n,e){let t=null;return n.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}var Ks=n=>({remuxResult:{},chunkMeta:n});function Ni(n){return"then"in n&&n.then instanceof Function}var Cr=class{constructor(e,t,i,s,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=s,this.defaultInitPts=r||null}},wr=class{constructor(e,t,i,s,r,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=s,this.timeOffset=r,this.initSegmentChange=o}},Na={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function r(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,h||l,d),g=t?t+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,g=new Array(f);d<f;d++)g[d]=h[d].fn;return g},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,g){var m=t?t+c:c;if(!this._events[m])return!1;var y=this._events[m],T=arguments.length,v,E;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),T){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,d),!0;case 5:return y.fn.call(y.context,u,h,d,f),!0;case 6:return y.fn.call(y.context,u,h,d,f,g),!0}for(E=1,v=new Array(T-1);E<T;E++)v[E-1]=arguments[E];y.fn.apply(y.context,v)}else{var S=y.length,x;for(E=0;E<S;E++)switch(y[E].once&&this.removeListener(c,y[E].fn,void 0,!0),T){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,u);break;case 3:y[E].fn.call(y[E].context,u,h);break;case 4:y[E].fn.call(y[E].context,u,h,d);break;default:if(!v)for(x=1,v=new Array(T-1);x<T;x++)v[x-1]=arguments[x];y[E].fn.apply(y[E].context,v)}}return!0},a.prototype.on=function(c,u,h){return r(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return r(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!d||g.once)&&(!h||g.context===h)&&o(this,f);else{for(var m=0,y=[],T=g.length;m<T;m++)(g[m].fn!==u||d&&!g[m].once||h&&g[m].context!==h)&&y.push(g[m]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(Na);var rh=Na.exports,gn=Ql(rh),ns=class{constructor(e,t,i,s){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;let r=e.config;this.hls=e,this.id=t,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=i,this.onFlush=s;let o=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===p.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new gn,this.observer.on(p.FRAG_DECRYPTED,o),this.observer.on(p.ERROR,o);let a=Rt(r.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker!="undefined"&&(r.workerPath||Pu())){try{r.workerPath?(L.log(`loading Web Worker ${r.workerPath} for "${t}"`),this.workerContext=Fu(r.workerPath)):(L.log(`injecting Web Worker for "${t}"`),this.workerContext=Ou()),this.onwmsg=h=>this.onWorkerMessage(h);let{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=h=>{let d=new Error(`${h.message}  (${h.filename}:${h.lineno})`);r.enableWorker=!1,L.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(p.ERROR,{type:V.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:t,config:JSON.stringify(r)})}catch(u){L.warn(`Error setting up "${t}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new rs(this.observer,l,r,"",t)}return}this.transmuxer=new rs(this.observer,l,r,"",t)}resetWorker(){if(this.workerContext){let{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{let t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}let e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,i,s,r,o,a,l,c,u){var h,d;c.transmuxing.start=self.performance.now();let{transmuxer:f}=this,g=o?o.start:r.start,m=r.decryptdata,y=this.frag,T=!(y&&r.cc===y.cc),v=!(y&&c.level===y.level),E=y?c.sn-y.sn:-1,S=this.part?c.part-this.part.index:-1,x=E===0&&c.id>1&&c.id===(y==null?void 0:y.stats.chunkCount),A=!v&&(E===1||E===0&&(S===1||x&&S<=0)),b=self.performance.now();(v||E||r.stats.parsing.start===0)&&(r.stats.parsing.start=b),o&&(S||!A)&&(o.stats.parsing.start=b);let C=!(y&&((h=r.initSegment)==null?void 0:h.url)===((d=y.initSegment)==null?void 0:d.url)),_=new wr(T,A,l,v,g,C);if(!A||T||C){L.log(`[transmuxer-interface, ${r.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${T}
        trackSwitch: ${v}
        contiguous: ${A}
        accurateTimeOffset: ${l}
        timeOffset: ${g}
        initSegmentChange: ${C}`);let D=new Cr(i,s,t,a,u);this.configureTransmuxer(D)}if(this.frag=r,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:_},e instanceof ArrayBuffer?[e]:[]);else if(f){let D=f.push(e,m,c,_);Ni(D)?(f.async=!0,D.then(w=>{this.handleTransmuxComplete(w)}).catch(w=>{this.transmuxerError(w,c,"transmuxer-interface push error")})):(f.async=!1,this.handleTransmuxComplete(D))}}flush(e){e.transmuxing.start=self.performance.now();let{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let i=t.flush(e);Ni(i)||t.async?(Ni(i)||(i=Promise.resolve(i)),i.then(r=>{this.handleFlushResult(r,e)}).catch(r=>{this.transmuxerError(r,e,"transmuxer-interface flush error")})):this.handleFlushResult(i,e)}}transmuxerError(e,t,i){this.hls&&(this.error=e,this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,t){e.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(t)}onWorkerMessage(e){let t=e.data;if(!(t!=null&&t.event)){L.warn(`worker message received with no ${t?"event name":"data"}`);return}let i=this.hls;if(this.hls)switch(t.event){case"init":{var s;let r=(s=this.workerContext)==null?void 0:s.objectURL;r&&self.URL.revokeObjectURL(r);break}case"transmuxComplete":{this.handleTransmuxComplete(t.data);break}case"flush":{this.onFlush(t.data);break}case"workerLog":L[t.data.logType]&&L[t.data.logType](t.data.message);break;default:{t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data);break}}}configureTransmuxer(e){let{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}};function Ba(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Vt(n[t].attrs,e[t].attrs))return!1;return!0}function Vt(n,e,t){let i=n["STABLE-RENDITION-ID"];return i&&!t?i===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>n[s]!==e[s])}function kr(n,e){return e.label.toLowerCase()===n.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(n.lang||"").toLowerCase())}var Uo=100,_r=class extends li{constructor(e,t,i){super(e,t,i,"[audio-stream-controller]",H.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.LEVEL_LOADED,this.onLevelLoaded,this),e.on(p.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(p.ERROR,this.onError,this),e.on(p.BUFFER_RESET,this.onBufferReset,this),e.on(p.BUFFER_CREATED,this.onBufferCreated,this),e.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(p.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(p.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.LEVEL_LOADED,this.onLevelLoaded,this),e.off(p.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(p.ERROR,this.onError,this),e.off(p.BUFFER_RESET,this.onBufferReset,this),e.off(p.BUFFER_CREATED,this.onBufferCreated,this),e.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(p.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(p.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:t,id:i,initPTS:s,timescale:r}){if(i==="main"){let o=t.cc;this.initPTS[t.cc]={baseTime:s,timescale:r},this.log(`InitPTS for cc: ${o} found from main: ${s}`),this.videoTrackCC=o,this.state===k.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=k.STOPPED;return}let t=this.lastCurrentTime;this.stopLoad(),this.setInterval(Uo),t>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=k.IDLE):(this.loadedmetadata=!1,this.state=k.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case k.IDLE:this.doTickIdle();break;case k.WAITING_TRACK:{var e;let{levels:i,trackId:s}=this,r=i==null||(e=i[s])==null?void 0:e.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=k.WAITING_INIT_PTS}break}case k.FRAG_LOADING_WAITING_RETRY:{var t;let i=performance.now(),s=this.retryDate;if(!s||i>=s||(t=this.media)!=null&&t.seeking){let{levels:r,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((r==null?void 0:r[o])||null),this.state=k.IDLE}break}case k.WAITING_INIT_PTS:{let i=this.waitingData;if(i){let{frag:s,part:r,cache:o,complete:a}=i;if(this.initPTS[s.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=k.FRAG_LOADING;let l=o.flush(),c={frag:s,part:r,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),a&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${s.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{let l=this.getLoadPosition(),c=J.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);ur(c.end,this.config.maxFragLookUpTolerance,s)<0&&(this.log(`Waiting fragment cc (${s.cc}) @ ${s.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=k.IDLE}}this.onTickEnd()}clearWaitingFragment(){let e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=k.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){let{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){let{hls:e,levels:t,media:i,trackId:s}=this,r=e.config;if(!i&&(this.startFragRequested||!r.startFragPrefetch)||!(t!=null&&t[s]))return;let o=t[s],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=k.WAITING_TRACK;return}let l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,Q.AUDIO,H.AUDIO));let c=this.getFwdBufferInfo(l,H.AUDIO);if(c===null)return;let{bufferedTrack:u,switchingTrack:h}=this;if(!h&&this._streamEnded(c,a)){e.trigger(p.BUFFER_EOS,{type:"audio"}),this.state=k.ENDED;return}let d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,H.MAIN),f=c.len,g=this.getMaxBufferLength(d==null?void 0:d.len),m=a.fragments,y=m[0].start,T=this.flushing?this.getLoadPosition():c.end;if(h&&i){let x=this.getLoadPosition();u&&!Vt(h.attrs,u.attrs)&&(T=x),a.PTSKnown&&x<y&&(c.end>y||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=y+.05)}if(f>=g&&!h&&T<m[m.length-1].start)return;let v=this.getNextFragment(T,a),E=!1;if(v&&this.isLoopLoading(v,T)&&(E=!!v.gap,v=this.getNextFragmentLoopLoading(v,a,c,H.MAIN,g)),!v){this.bufferFlushed=!0;return}let S=d&&v.start>d.end+a.targetduration;if(S||!(d!=null&&d.len)&&c.len){let x=this.getAppendedFrag(v.start,H.MAIN);if(x===null||(E||(E=!!x.gap||!!S&&d.len===0),S&&!E||E&&c.nextStart&&c.nextStart<x.end))return}this.loadFragment(v,o,T)}getMaxBufferLength(e){let t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(i=>new lt(i))}onAudioTrackSwitching(e,t){let i=!!t.url;this.trackId=t.id;let{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),i?this.setInterval(Uo):this.resetTransmuxer(),i?(this.switchingTrack=t,this.state=k.IDLE,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=k.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(p.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var i;if(this.mainDetails==null){this.cachedTrackLoadedData=t;return}let{levels:s}=this,{details:r,id:o}=t;if(!s){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);let a=s[o],l=0;if(r.live||(i=a.details)!=null&&i.live){this.checkLiveUpdate(r);let u=this.mainDetails;if(r.deltaUpdateFailed||!u)return;if(!a.details&&r.hasProgramDateTime&&u.hasProgramDateTime)Qi(r,u),l=r.fragments[0].start;else{var c;l=this.alignPlaylists(r,a.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}a.details=r,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!r.live)&&this.setStartPosition(this.mainDetails||r,l),this.state===k.WAITING_TRACK&&!this.waitForCdnTuneIn(r)&&(this.state=k.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;let{frag:i,part:s,payload:r}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}let c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}let u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}let h=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new ns(this.hls,H.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));let f=this.initPTS[i.cc],g=(t=i.initSegment)==null?void 0:t.data;if(f!==void 0){let y=s?s.index:-1,T=y!==-1,v=new oi(i.level,i.sn,i.stats.chunkCount,r.byteLength,y,T);d.push(r,g,h,"",i,s,u.totalduration,!1,v,f)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);let{cache:m}=this.waitingData=this.waitingData||{frag:i,part:s,cache:new Ji,complete:!1};m.push(new Uint8Array(r)),this.waitingVideoCC=this.videoTrackCC,this.state=k.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){let i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){let{frag:i,part:s}=t;if(i.type!==H.AUDIO){if(!this.loadedmetadata&&i.type===H.MAIN){let r=this.videoBuffer||this.media;r&&J.getBuffered(r).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${s?" p: "+s.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(i.sn!=="initSegment"){this.fragPrevious=i;let r=this.switchingTrack;r&&(this.bufferedTrack=r,this.switchingTrack=null,this.hls.trigger(p.AUDIO_TRACK_SWITCHED,ye({},r)))}this.fragBufferedComplete(i,s)}onError(e,t){var i;if(t.fatal){this.state=k.ERROR;return}switch(t.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(H.AUDIO,t);break;case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===k.WAITING_TRACK&&((i=t.context)==null?void 0:i.type)===z.AUDIO_TRACK&&(this.state=k.IDLE);break;case I.BUFFER_APPEND_ERROR:case I.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="audio")return;if(t.details===I.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Q.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Q.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===k.ENDED&&(this.state=k.IDLE);let i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,t,H.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;let i="audio",{hls:s}=this,{remuxResult:r,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}let{frag:l,part:c,level:u}=a,{details:h}=u,{audio:d,text:f,id3:g,initSegment:m}=r;if(this.fragContextChanged(l)||!h){this.fragmentTracker.removeFragment(l);return}if(this.state=k.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){let y=l.initSegment||l;this._bufferInitSegment(u,m.tracks,y,o),s.trigger(p.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:i,tracks:m.tracks})}if(d){let{startPTS:y,endPTS:T,startDTS:v,endDTS:E}=d;c&&(c.elementaryStreams[Q.AUDIO]={startPTS:y,endPTS:T,startDTS:v,endDTS:E}),l.setElementaryStreamInfo(Q.AUDIO,y,T,v,E),this.bufferFragmentData(d,l,c,o)}if(g!=null&&(t=g.samples)!=null&&t.length){let y=le({id:i,frag:l,details:h},g);s.trigger(p.FRAG_PARSING_METADATA,y)}if(f){let y=le({id:i,frag:l,details:h},f);s.trigger(p.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,t,i,s){if(this.state!==k.PARSING)return;t.video&&delete t.video;let r=t.audio;if(!r)return;r.id="audio";let o=e.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${o}/${r.codec}]`),o&&o.split(",").length===1&&(r.levelCodec=o),this.hls.trigger(p.BUFFER_CODECS,t);let a=r.initSegment;if(a!=null&&a.byteLength){let l={type:"audio",frag:i,part:null,chunkMeta:s,parent:i.type,data:a};this.hls.trigger(p.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,t,i){let s=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||s===pe.NOT_LOADED||s===pe.PARTIAL){var r;if(e.sn==="initSegment")this._loadInitSegment(e,t);else if((r=t.details)!=null&&r.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=k.WAITING_INIT_PTS;let o=this.mainDetails;o&&o.fragments[0].start!==t.details.fragments[0].start&&Qi(t.details,o)}else this.startFragRequested=!0,super.loadFragment(e,t,i)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){let{media:t,bufferedTrack:i}=this,s=i==null?void 0:i.attrs,r=e.attrs;t&&s&&(s.CHANNELS!==r.CHANNELS||i.name!==e.name||i.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){let{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(p.AUDIO_TRACK_SWITCHED,ye({},e))}},Pr=class extends ni{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){let{hls:e}=this;e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.LEVEL_LOADING,this.onLevelLoading,this),e.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(p.ERROR,this.onError,this)}unregisterListeners(){let{hls:e}=this;e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.LEVEL_LOADING,this.onLevelLoading,this),e.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(p.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){let{id:i,groupId:s,details:r}=t,o=this.tracksInGroup[i];if(!o||o.groupId!==s){this.warn(`Audio track with id:${i} and group:${s} not found in active group ${o==null?void 0:o.groupId}`);return}let a=o.details;o.details=t.details,this.log(`Audio track ${i} "${o.name}" lang:${o.lang} group:${s} loaded [${r.startSN}-${r.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){let t=this.hls.levels[e];if(!t)return;let i=t.audioGroups||null,s=this.groupIds,r=this.currentTrack;if(!i||(s==null?void 0:s.length)!==(i==null?void 0:i.length)||i!=null&&i.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;let a=this.tracks.filter(d=>!i||i.indexOf(d.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(d=>d.default)&&(this.selectDefaultTrack=!1),a.forEach((d,f)=>{d.id=f});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=a;let l=this.hls.config.audioPreference;if(!r&&l){let d=We(l,a,Pt);if(d>-1)r=a[d];else{let f=We(l,this.tracks);r=this.tracks[f]}}let c=this.findTrackId(r);c===-1&&r&&(c=this.findTrackId(null));let u={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${i==null?void 0:i.join(",")}`),this.hls.trigger(p.AUDIO_TRACKS_UPDATED,u);let h=this.trackId;if(c!==-1&&h===-1)this.setAudioTrack(c);else if(a.length&&h===-1){var o;let d=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(d.message),this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:d})}}else this.shouldReloadPlaylist(r)&&this.setAudioTrack(this.trackId)}onError(e,t){t.fatal||!t.context||t.context.type===z.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(t))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){let t=this.hls;if(t.config.audioPreference=e,e){let i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){let s=this.currentTrack;if(s&&Ut(e,s,Pt))return s;let r=We(e,this.tracksInGroup,Pt);if(r>-1){let o=this.tracksInGroup[r];return this.setAudioTrack(r),o}else if(s){let o=t.loadLevel;o===-1&&(o=t.firstAutoLevel);let a=Au(e,t.levels,i,o,Pt);if(a===-1)return null;t.nextLoadLevel=a}if(e.channels||e.audioCodec){let o=We(e,i);if(o>-1)return i[o]}}}return null}setAudioTrack(e){let t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;let i=this.currentTrack,s=t[e],r=s.details&&!s.details.live;if(e===this.trackId&&s===i&&r||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(p.AUDIO_TRACK_SWITCHING,ye({},s)),r))return;let o=this.switchParams(s.url,i==null?void 0:i.details,s.details);this.loadPlaylist(o)}findTrackId(e){let t=this.tracksInGroup;for(let i=0;i<t.length;i++){let s=t[i];if(!(this.selectDefaultTrack&&!s.default)&&(!e||Ut(e,s,Pt)))return i}if(e){let{name:i,lang:s,assocLang:r,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<t.length;c++){let u=t[c];if(Ut({name:i,lang:s,assocLang:r,characteristics:o,audioCodec:a,channels:l},u,Pt))return c}for(let c=0;c<t.length;c++){let u=t[c];if(Vt(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<t.length;c++){let u=t[c];if(Vt(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){let t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();let i=t.id,s=t.groupId,r=t.url;if(e)try{r=e.addDirectives(r)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${i} "${t.name}" lang:${t.lang} group:${s}`),this.clearTimer(),this.hls.trigger(p.AUDIO_TRACK_LOADING,{url:r,id:i,groupId:s,deliveryDirectives:e||null})}}},$o=500,Or=class extends li{constructor(e,t,i){super(e,t,i,"[subtitle-stream-controller]",H.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.LEVEL_LOADED,this.onLevelLoaded,this),e.on(p.ERROR,this.onError,this),e.on(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(p.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(p.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.LEVEL_LOADED,this.onLevelLoaded,this),e.off(p.ERROR,this.onError,this),e.off(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(p.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(p.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=k.IDLE,this.setInterval($o),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){let{frag:i,success:s}=t;if(this.fragPrevious=i,this.state=k.IDLE,!s)return;let r=this.tracksBuffered[this.currentTrackId];if(!r)return;let o,a=i.start;for(let c=0;c<r.length;c++)if(a>=r[c].start&&a<=r[c].end){o=r[c];break}let l=i.start+i.duration;o?o.end=l:(o={start:a,end:l},r.push(o)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null)}onBufferFlushing(e,t){let{startOffset:i,endOffset:s}=t;if(i===0&&s!==Number.POSITIVE_INFINITY){let r=s-1;if(r<=0)return;t.endOffsetSubtitles=Math.max(0,r),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=r){o.shift();continue}else if(o[a].start<r)o[a].start=r;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(i,r,H.SUBTITLE)}}onFragBuffered(e,t){if(!this.loadedmetadata&&t.frag.type===H.MAIN){var i;(i=this.media)!=null&&i.buffered.length&&(this.loadedmetadata=!0)}}onError(e,t){let i=t.frag;(i==null?void 0:i.type)===H.SUBTITLE&&(t.details===I.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==k.STOPPED&&(this.state=k.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&Ba(this.levels,t)){this.levels=t.map(i=>new lt(i));return}this.tracksBuffered=[],this.levels=t.map(i=>{let s=new lt(i);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,H.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var i;if(this.currentTrackId=t.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}let s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.setInterval($o)}onSubtitleTrackLoaded(e,t){var i;let{currentTrackId:s,levels:r}=this,{details:o,id:a}=t;if(!r){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}let l=r[a];if(a>=r.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(i=l.details)!=null&&i.live){let h=this.mainDetails;if(o.deltaUpdateFailed||!h)return;let d=h.fragments[0];if(!l.details)o.hasProgramDateTime&&h.hasProgramDateTime?(Qi(o,h),c=o.fragments[0].start):d&&(c=d.start,cr(o,c));else{var u;c=this.alignPlaylists(o,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&d&&(c=d.start,cr(o,c))}}l.details=o,this.levelLastLoaded=l,a===s&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===k.IDLE&&(Xi(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){let{frag:t,payload:i}=e,s=t.decryptdata,r=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&s!=null&&s.key&&s.iv&&s.method==="AES-128"){let o=performance.now();this.decrypter.decrypt(new Uint8Array(i),s.key.buffer,s.iv.buffer).catch(a=>{throw r.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:t}),a}).then(a=>{let l=performance.now();r.trigger(p.FRAG_DECRYPTED,{frag:t,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=k.IDLE})}}doTick(){if(!this.media){this.state=k.IDLE;return}if(this.state===k.IDLE){let{currentTrackId:e,levels:t}=this,i=t==null?void 0:t[e];if(!i||!t.length||!i.details)return;let{config:s}=this,r=this.getLoadPosition(),o=J.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,s.maxBufferHole),{end:a,len:l}=o,c=this.getFwdBufferInfo(this.media,H.MAIN),u=i.details,h=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>h)return;let d=u.fragments,f=d.length,g=u.edge,m=null,y=this.fragPrevious;if(a<g){let T=s.maxFragLookUpTolerance,v=a>g-T?0:T;m=Xi(y,d,Math.max(d[0].start,a),v),!m&&y&&y.start<d[0].start&&(m=d[0])}else m=d[f-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){let T=m.sn-u.startSN,v=d[T-1];v&&v.cc===m.cc&&this.fragmentTracker.getState(v)===pe.NOT_LOADED&&(m=v)}this.fragmentTracker.getState(m)===pe.NOT_LOADED&&this.loadFragment(m,i,a)}}getMaxBufferLength(e){let t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,i){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,i))}get mediaBufferTimeRanges(){return new Fr(this.tracksBuffered[this.currentTrackId]||[])}},Fr=class{constructor(e){this.buffered=void 0;let t=(i,s,r)=>{if(s=s>>>0,s>r-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${r})`);return e[s][i]};this.buffered={get length(){return e.length},end(i){return t("end",i,e.length)},start(i){return t("start",i,e.length)}}}},Mr=class extends ni{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null,i=Pi(this.media.textTracks);for(let r=0;r<i.length;r++)if(i[r].mode==="hidden")t=i[r];else if(i[r].mode==="showing"){t=i[r];break}let s=this.findTrackForTextTrack(t);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.LEVEL_LOADING,this.onLevelLoading,this),e.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(p.ERROR,this.onError,this)}unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.LEVEL_LOADING,this.onLevelLoading,this),e.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(p.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Pi(this.media.textTracks).forEach(t=>{Nt(t)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){let{id:i,groupId:s,details:r}=t,o=this.tracksInGroup[i];if(!o||o.groupId!==s){this.warn(`Subtitle track with id:${i} and group:${s} not found in active group ${o==null?void 0:o.groupId}`);return}let a=o.details;o.details=t.details,this.log(`Subtitle track ${i} "${o.name}" lang:${o.lang} group:${s} loaded [${r.startSN}-${r.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){let t=this.hls.levels[e];if(!t)return;let i=t.subtitleGroups||null,s=this.groupIds,r=this.currentTrack;if(!i||(s==null?void 0:s.length)!==(i==null?void 0:i.length)||i!=null&&i.some(o=>(s==null?void 0:s.indexOf(o))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;let o=this.tracks.filter(u=>!i||i.indexOf(u.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),o.forEach((u,h)=>{u.id=h});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=o;let a=this.hls.config.subtitlePreference;if(!r&&a){this.selectDefaultTrack=!1;let u=We(a,o);if(u>-1)r=o[u];else{let h=We(a,this.tracks);r=this.tracks[h]}}let l=this.findTrackId(r);l===-1&&r&&(l=this.findTrackId(null));let c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${i==null?void 0:i.join(",")}" group-id`),this.hls.trigger(p.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){let t=this.tracksInGroup,i=this.selectDefaultTrack;for(let s=0;s<t.length;s++){let r=t[s];if(!(i&&!r.default||!i&&!e)&&(!e||Ut(r,e)))return s}if(e){for(let s=0;s<t.length;s++){let r=t[s];if(Vt(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<t.length;s++){let r=t[s];if(Vt(e.attrs,r.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){let t=this.tracksInGroup;for(let i=0;i<t.length;i++){let s=t[i];if(kr(s,e))return i}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===z.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){let t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){let i=this.currentTrack;if(i&&Ut(e,i))return i;let s=We(e,this.tracksInGroup);if(s>-1){let r=this.tracksInGroup[s];return this.setSubtitleTrack(s),r}else{if(i)return null;{let r=We(e,t);if(r>-1)return t[r]}}}}return null}loadPlaylist(e){super.loadPlaylist();let t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){let i=t.id,s=t.groupId,r=t.url;if(e)try{r=e.addDirectives(r)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(p.SUBTITLE_TRACK_LOADING,{url:r,id:i,groupId:s,deliveryDirectives:e||null})}}toggleTrackModes(){let{media:e}=this;if(!e)return;let t=Pi(e.textTracks),i=this.currentTrack,s;if(i&&(s=t.filter(r=>kr(i,r))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(t).forEach(r=>{r.mode!=="disabled"&&r!==s&&(r.mode="disabled")}),s){let r=this.subtitleDisplay?"showing":"hidden";s.mode!==r&&(s.mode=r)}}setSubtitleTrack(e){let t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!M(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;let i=this.currentTrack,s=t[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(p.SUBTITLE_TRACK_SWITCH,{id:e});return}let r=!!s.details&&!s.details.live;if(e===this.trackId&&s===i&&r)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));let{id:o,groupId:a="",name:l,type:c,url:u}=s;this.hls.trigger(p.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:u});let h=this.switchParams(s.url,i==null?void 0:i.details,s.details);this.loadPlaylist(h)}},Nr=class{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,i){let s=this.queues[t];s.push(e),s.length===1&&!i&&this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t,i=new Promise(r=>{t=r}),s={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(s,e),i}executeNext(e){let t=this.queues[e];if(t.length){let i=t[0];try{i.execute()}catch(s){L.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${s}`),i.onError(s);let r=this.buffers[e];r!=null&&r.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}},Go=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Br=class{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=i=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{let{media:i,mediaSource:s}=this;this.log("Media source opened"),i&&(i.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(p.MEDIA_ATTACHED,{media:i,mediaSource:s})),s&&s.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{let{mediaSrc:i,_objectUrl:s}=this;i!==s&&L.error(`Media element src was set while attaching MediaSource (${s} > ${i})`)},this.hls=e;let t="[buffer-controller]";this.appendSource=Hc(Rt(e.config.preferManagedMediaSource)),this.log=L.log.bind(L,t),this.warn=L.warn.bind(L,t),this.error=L.error.bind(L,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.BUFFER_RESET,this.onBufferReset,this),e.on(p.BUFFER_APPENDING,this.onBufferAppending,this),e.on(p.BUFFER_CODECS,this.onBufferCodecs,this),e.on(p.BUFFER_EOS,this.onBufferEos,this),e.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(p.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(p.FRAG_PARSED,this.onFragParsed,this),e.on(p.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.BUFFER_RESET,this.onBufferReset,this),e.off(p.BUFFER_APPENDING,this.onBufferAppending,this),e.off(p.BUFFER_CODECS,this.onBufferCodecs,this),e.off(p.BUFFER_EOS,this.onBufferEos,this),e.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(p.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(p.FRAG_PARSED,this.onFragParsed,this),e.off(p.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Nr(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){let i=this.media=t.media,s=Rt(this.appendSource);if(i&&s){var r;let o=this.mediaSource=new s;this.log(`created media source: ${(r=o.constructor)==null?void 0:r.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));let a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{i.removeAttribute("src");let l=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||l&&o instanceof l,Ho(i),nh(i,a),i.load()}catch(l){i.src=a}else i.src=a;i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){let{media:e,mediaSource:t,_objectUrl:i}=this;if(t){if(this.log("media source detaching"),t.readyState==="open")try{t.endOfStream()}catch(s){this.warn(`onMediaDetaching: ${s.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),this.mediaSrc===i?(e.removeAttribute("src"),this.appendSource&&Ho(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(p.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){let t=this.sourceBuffer[e];try{if(t){var i;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}}catch(s){this.warn(`onBufferReset ${e}`,s)}}onBufferCodecs(e,t){let i=this.getSourceBufferTypes().length,s=Object.keys(t);if(s.forEach(o=>{if(i){let l=this.tracks[o];if(l&&typeof l.buffer.changeType=="function"){var a;let{id:c,codec:u,levelCodec:h,container:d,metadata:f}=t[o],g=go(l.codec,l.levelCodec),m=g==null?void 0:g.replace(Go,"$1"),y=go(u,h),T=(a=y)==null?void 0:a.replace(Go,"$1");if(y&&m!==T){o.slice(0,5)==="audio"&&(y=Wi(y,this.appendSource));let v=`${d};codecs=${y}`;this.appendChangeType(o,v),this.log(`switching codec ${g} to ${y}`),this.tracks[o]={buffer:l.buffer,codec:u,container:d,levelCodec:h,metadata:f,id:c}}}}else this.pendingTracks[o]=t[o]}),i)return;let r=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==r&&(this.log(`${r} bufferCodec event(s) expected ${s.join(",")}`),this.bufferCodecEventsExpected=r),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,t){let{operationQueue:i}=this,s={execute:()=>{let r=this.sourceBuffer[e];r&&(this.log(`changing ${e} sourceBuffer type to ${t}`),r.changeType(t)),i.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:r=>{this.warn(`Failed to change ${e} SourceBuffer type`,r)}};i.append(s,e,!!this.pendingTracks[e])}onBufferAppending(e,t){let{hls:i,operationQueue:s,tracks:r}=this,{data:o,type:a,frag:l,part:c,chunkMeta:u}=t,h=u.buffering[a],d=self.performance.now();h.start=d;let f=l.stats.buffering,g=c?c.stats.buffering:null;f.start===0&&(f.start=d),g&&g.start===0&&(g.start=d);let m=r.audio,y=!1;a==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(y=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);let T=l.start,v={execute:()=>{if(h.executeStart=self.performance.now(),y){let E=this.sourceBuffer[a];if(E){let S=T-E.timestampOffset;Math.abs(S)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${T} (delta: ${S}) sn: ${l.sn})`),E.timestampOffset=T)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{let E=self.performance.now();h.executeEnd=h.end=E,f.first===0&&(f.first=E),g&&g.first===0&&(g.first=E);let{sourceBuffer:S}=this,x={};for(let A in S)x[A]=J.getBuffered(S[A]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(p.BUFFER_APPENDED,{type:a,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:x})},onError:E=>{let S={type:V.MEDIA_ERROR,parent:l.type,details:I.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:l,part:c,chunkMeta:u,error:E,err:E,fatal:!1};if(E.code===DOMException.QUOTA_EXCEEDED_ERR)S.details=I.BUFFER_FULL_ERROR;else{let x=++this.appendErrors[a];S.details=I.BUFFER_APPEND_ERROR,this.warn(`Failed ${x}/${i.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),x>=i.config.appendErrorMaxRetry&&(S.fatal=!0)}i.trigger(p.ERROR,S)}};s.append(v,a,!!this.pendingTracks[a])}onBufferFlushing(e,t){let{operationQueue:i}=this,s=r=>({execute:this.removeExecutor.bind(this,r,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(p.BUFFER_FLUSHED,{type:r})},onError:o=>{this.warn(`Failed to remove from ${r} SourceBuffer`,o)}});t.type?i.append(s(t.type),t.type):this.getSourceBufferTypes().forEach(r=>{i.append(s(r),r)})}onFragParsed(e,t){let{frag:i,part:s}=t,r=[],o=s?s.elementaryStreams:i.elementaryStreams;o[Q.AUDIOVIDEO]?r.push("audiovideo"):(o[Q.AUDIO]&&r.push("audio"),o[Q.VIDEO]&&r.push("video"));let a=()=>{let l=self.performance.now();i.stats.buffering.end=l,s&&(s.stats.buffering.end=l);let c=s?s.stats:i.stats;this.hls.trigger(p.FRAG_BUFFERED,{frag:i,part:s,stats:c,id:i.type})};r.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(a,r)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce((s,r)=>{let o=this.sourceBuffer[r];return o&&(!t.type||t.type===r)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${r} sourceBuffer now EOS`))),s&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(r=>{let o=this.sourceBuffer[r];o&&(o.ending=!1)});let{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream()}))}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){let{hls:e,details:t,media:i}=this;if(!i||t===null||!this.getSourceBufferTypes().length)return;let r=e.config,o=i.currentTime,a=t.levelTargetDuration,l=t.live&&r.liveBackBufferLength!==null?r.liveBackBufferLength:r.backBufferLength;if(M(l)&&l>0){let c=Math.max(l,a),u=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,u)}if(M(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){let c=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),u=Math.max(c,a),h=Math.floor(o/a)*a+u;this.flushFrontBuffer(o,a,h)}}flushBackBuffer(e,t,i){let{details:s,sourceBuffer:r}=this;this.getSourceBufferTypes().forEach(a=>{let l=r[a];if(l){let c=J.getBuffered(l);if(c.length>0&&i>c.start(0)){if(this.hls.trigger(p.BACK_BUFFER_REACHED,{bufferEnd:i}),s!=null&&s.live)this.hls.trigger(p.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(l.ended&&c.end(c.length-1)-e<t*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(p.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:a})}}})}flushFrontBuffer(e,t,i){let{sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(o=>{let a=s[o];if(a){let l=J.getBuffered(a),c=l.length;if(c<2)return;let u=l.start(c-1),h=l.end(c-1);if(i>u||e>=u&&e<=h)return;if(a.ended&&e-h<2*t){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(p.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;let{details:e,hls:t,media:i,mediaSource:s}=this,r=e.fragments[0].start+e.totalduration,o=i.duration,a=M(s.duration)?s.duration:0;e.live&&t.config.liveDurationInfinity?(s.duration=1/0,this.updateSeekableRange(e)):(r>a&&r>o||!M(o))&&(this.log(`Updating Media Source duration to ${r.toFixed(3)}`),s.duration=r)}updateSeekableRange(e){let t=this.mediaSource,i=e.fragments;if(i.length&&e.live&&t!=null&&t.setLiveSeekableRange){let r=Math.max(0,i[0].start),o=Math.max(r,r+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${r}-${o}.`),t.setLiveSeekableRange(r,o)}}checkPendingTracks(){let{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:i}=this,s=Object.keys(i).length;if(s&&(!e||s===2||"audiovideo"in i)){this.createSourceBuffers(i),this.pendingTracks={};let r=this.getSourceBufferTypes();if(r.length)this.hls.trigger(p.BUFFER_CREATED,{tracks:this.tracks}),r.forEach(o=>{t.executeNext(o)});else{let o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){let{sourceBuffer:t,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(let r in e)if(!t[r]){var s;let o=e[r];if(!o)throw Error(`source buffer exists for track ${r}, however track does not`);let a=((s=o.levelCodec)==null?void 0:s.indexOf(","))===-1?o.levelCodec:o.codec;a&&r.slice(0,5)==="audio"&&(a=Wi(a,this.appendSource));let l=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${l})`);try{let c=t[r]=i.addSourceBuffer(l),u=r;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(h,d)=>{let f=d.removedRanges;f!=null&&f.length&&this.hls.trigger(p.BUFFER_FLUSHED,{type:r})}),this.tracks[r]={buffer:c,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:r,mimeType:l})}}}get mediaSrc(){var e;let t=((e=this.media)==null?void 0:e.firstChild)||this.media;return t==null?void 0:t.src}_onSBUpdateStart(e){let{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}let{operationQueue:i}=this;i.current(e).onComplete(),i.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var i;let s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${s}`,t),this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});let r=this.operationQueue.current(e);r&&r.onError(s)}removeExecutor(e,t,i){let{media:s,mediaSource:r,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!s||!r||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}let c=M(s.duration)?s.duration:1/0,u=M(r.duration)?r.duration:1/0,h=Math.max(0,t),d=Math.min(i,c,u);d>h&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${h},${d}] from the ${e} SourceBuffer`),l.remove(h,d)):o.shiftAndExecuteNext(e)}appendExecutor(e,t){let i=this.sourceBuffer[t];if(!i){if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);return}i.ended=!1,i.appendBuffer(e)}blockBuffers(e,t=this.getSourceBufferTypes()){if(!t.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}let{operationQueue:i}=this,s=t.map(r=>i.appendBlocker(r));Promise.all(s).then(()=>{e(),t.forEach(r=>{let o=this.sourceBuffer[r];o!=null&&o.updating||i.shiftAndExecuteNext(r)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,i){let s=this.sourceBuffer[e];if(!s)return;let r=i.bind(this,e);this.listeners[e].push({event:t,listener:r}),s.addEventListener(t,r)}removeBufferListeners(e){let t=this.sourceBuffer[e];t&&this.listeners[e].forEach(i=>{t.removeEventListener(i.event,i.listener)})}};function Ho(n){let e=n.querySelectorAll("source");[].slice.call(e).forEach(t=>{n.removeChild(t)})}function nh(n,e){let t=self.document.createElement("source");t.type="video/mp4",t.src=e,n.appendChild(t)}var oh={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ua=n=>String.fromCharCode(oh[n]||n),Ne=15,Je=100,ah={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},lh={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ch={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},uh={25:2,26:4,29:6,30:8,31:10,27:13,28:15},hh=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Ur=class{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){let i=typeof t=="function"?t():t;L.log(`${this.time} [${e}] ${i}`)}}},vt=function(e){let t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(16));return t},os=class{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){let t=["foreground","underline","italics","background","flash"];for(let i=0;i<t.length;i++){let s=t[i];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},$r=class{constructor(){this.uchar=" ",this.penState=new os}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}},Gr=class{constructor(e){this.chars=[],this.pos=0,this.currPenState=new os,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Je;t++)this.chars.push(new $r);this.logger=e}equals(e){for(let t=0;t<Je;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Je;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Je;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Je&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Je)}moveCursor(e){let t=this.pos+e;if(e>1)for(let i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();let t=Ua(e);if(this.pos>=Je){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Je;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){let e=[],t=!0;for(let i=0;i<Je;i++){let s=this.chars[i].uchar;s!==" "&&(t=!1),e.push(s)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}},ii=class{constructor(e){this.rows=[],this.currRow=Ne-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Ne;t++)this.rows.push(new Gr(e));this.logger=e}reset(){for(let e=0;e<Ne;e++)this.rows[e].clear();this.currRow=Ne-1}equals(e){let t=!0;for(let i=0;i<Ne;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}copy(e){for(let t=0;t<Ne;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Ne;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let a=0;a<Ne;a++)this.rows[a].clear();let r=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){let a=o.rows[r].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(o.rows[r+c])}}this.currRow=t;let i=this.rows[this.currRow];if(e.indent!==null){let r=e.indent,o=Math.max(r-1,0);i.setCursor(e.indent),e.color=i.chars[o].penState.foreground}let s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());let e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;let t=[],i="",s=-1;for(let r=0;r<Ne;r++){let o=this.rows[r].getTextString();o&&(s=r+1,e?t.push("Row "+s+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(e?i="["+t.join(" | ")+"]":i=t.join(`
`)),i}getTextAndFormat(){return this.rows}},as=class{constructor(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new ii(i),this.nonDisplayedMemory=new ii(i),this.lastOutputScreen=new ii(i),this.currRollUpRow=this.displayedMemory.rows[Ne-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Ne-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);let t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){let e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){let t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{let i=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=s[i]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){let t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}},ls=class{constructor(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=fh(),this.logger=void 0;let s=this.logger=new Ur;this.channels=[null,new as(e,t,s),new as(e+1,i,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let i=0;i<t.length;i+=2){let s=t[i]&127,r=t[i+1]&127,o=!1,a=null;if(s===0&&r===0)continue;this.logger.log(3,()=>"["+vt([t[i],t[i+1]])+"] -> ("+vt([s,r])+")");let l=this.cmdHistory;if(s>=16&&s<=31){if(dh(s,r,l)){Ci(null,null,l),this.logger.log(3,()=>"Repeated command ("+vt([s,r])+") is dropped");continue}Ci(s,r,this.cmdHistory),o=this.parseCmd(s,r),o||(o=this.parseMidrow(s,r)),o||(o=this.parsePAC(s,r)),o||(o=this.parseBackgroundAttributes(s,r))}else Ci(null,null,l);if(!o&&(a=this.parseChars(s,r),a)){let u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+vt([s,r])+" orig: "+vt([t[i],t[i+1]]))}}parseCmd(e,t){let i=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=33&&t<=35;if(!(i||s))return!1;let r=e===20||e===21||e===23?1:2,o=this.channels[r];return e===20||e===21||e===28||e===29?t===32?o.ccRCL():t===33?o.ccBS():t===34?o.ccAOF():t===35?o.ccAON():t===36?o.ccDER():t===37?o.ccRU(2):t===38?o.ccRU(3):t===39?o.ccRU(4):t===40?o.ccFON():t===41?o.ccRDC():t===42?o.ccTR():t===43?o.ccRTD():t===44?o.ccEDM():t===45?o.ccCR():t===46?o.ccENM():t===47&&o.ccEOC():o.ccTO(t-32),this.currentChannel=r,!0}parseMidrow(e,t){let i=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;let s=this.channels[i];return s?(s.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+vt([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let i,s=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,r=(e===16||e===24)&&t>=64&&t<=95;if(!(s||r))return!1;let o=e<=23?1:2;t>=64&&t<=95?i=o===1?ah[e]:ch[e]:i=o===1?lh[e]:uh[e];let a=this.channels[o];return a?(a.setPAC(this.interpretPAC(i,t)),this.currentChannel=o,!0):!1}interpretPAC(e,t){let i,s={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?i=t-96:i=t-64,s.underline=(i&1)===1,i<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((i-16)/2)*4,s}parseChars(e,t){let i,s=null,r=null;if(e>=25?(i=2,r=e-8):(i=1,r=e),r>=17&&r<=19){let o;r===17?o=t+80:r===18?o=t+112:o=t+144,this.logger.log(2,()=>"Special char '"+Ua(o)+"' in channel "+i),s=[o]}else e>=32&&e<=127&&(s=t===0?[e]:[e,t]);return s&&this.logger.log(3,()=>"Char codes =  "+vt(s).join(",")),s}parseBackgroundAttributes(e,t){let i=(e===16||e===24)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=45&&t<=47;if(!(i||s))return!1;let r,o={};e===16||e===24?(r=Math.floor((t-32)/2),o.background=hh[r],t%2===1&&(o.background=o.background+"_semi")):t===45?o.background="transparent":(o.foreground="black",t===47&&(o.underline=!0));let a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){let t=this.channels[e];t&&t.reset()}Ci(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){let i=this.channels[t];i&&i.cueSplitAtTime(e)}}};function Ci(n,e,t){t.a=n,t.b=e}function dh(n,e,t){return t.a===n&&t.b===e}function fh(){return{a:null,b:null}}var Bt=class{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,i){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}},mn=function(){if(Ht!=null&&Ht.VTTCue)return self.VTTCue;let n=["","lr","rl"],e=["start","middle","end","left","right"];function t(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;let c=l.toLowerCase();return~a.indexOf(c)?c:!1}function i(a){return t(n,a)}function s(a){return t(e,a)}function r(a,...l){let c=1;for(;c<arguments.length;c++){let u=arguments[c];for(let h in u)a[h]=u[h]}return a}function o(a,l,c){let u=this,h={enumerable:!0};u.hasBeenReset=!1;let d="",f=!1,g=a,m=l,y=c,T=null,v="",E=!0,S="auto",x="start",A=50,b="middle",C=50,_="middle";Object.defineProperty(u,"id",r({},h,{get:function(){return d},set:function(D){d=""+D}})),Object.defineProperty(u,"pauseOnExit",r({},h,{get:function(){return f},set:function(D){f=!!D}})),Object.defineProperty(u,"startTime",r({},h,{get:function(){return g},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");g=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",r({},h,{get:function(){return m},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");m=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",r({},h,{get:function(){return y},set:function(D){y=""+D,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",r({},h,{get:function(){return T},set:function(D){T=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",r({},h,{get:function(){return v},set:function(D){let w=i(D);if(w===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",r({},h,{get:function(){return E},set:function(D){E=!!D,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",r({},h,{get:function(){return S},set:function(D){if(typeof D!="number"&&D!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",r({},h,{get:function(){return x},set:function(D){let w=s(D);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");x=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",r({},h,{get:function(){return A},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");A=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",r({},h,{get:function(){return b},set:function(D){let w=s(D);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");b=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",r({},h,{get:function(){return C},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");C=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",r({},h,{get:function(){return _},set:function(D){let w=s(D);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");_=w,this.hasBeenReset=!0}})),u.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}(),Hr=class{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}};function $a(n){function e(i,s,r,o){return(i|0)*3600+(s|0)*60+(r|0)+parseFloat(o||0)}let t=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}var Vr=class{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,i){for(let s=0;s<i.length;++s)if(t===i[s]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){let i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}};function Ga(n,e,t,i){let s=i?n.split(i):[n];for(let r in s){if(typeof s[r]!="string")continue;let o=s[r].split(t);if(o.length!==2)continue;let a=o[0],l=o[1];e(a,l)}}var Kr=new mn(0,0,""),wi=Kr.align==="middle"?"middle":"center";function gh(n,e,t){let i=n;function s(){let a=$a(n);if(a===null)throw new Error("Malformed timestamp: "+i);return n=n.replace(/^[^\sa-zA-Z-]+/,""),a}function r(a,l){let c=new Vr;Ga(a,function(d,f){let g;switch(d){case"region":for(let m=t.length-1;m>=0;m--)if(t[m].id===f){c.set(d,t[m].region);break}break;case"vertical":c.alt(d,f,["rl","lr"]);break;case"line":g=f.split(","),c.integer(d,g[0]),c.percent(d,g[0])&&c.set("snapToLines",!1),c.alt(d,g[0],["auto"]),g.length===2&&c.alt("lineAlign",g[1],["start",wi,"end"]);break;case"position":g=f.split(","),c.percent(d,g[0]),g.length===2&&c.alt("positionAlign",g[1],["start",wi,"end","line-left","line-right","auto"]);break;case"size":c.percent(d,f);break;case"align":c.alt(d,f,["start",wi,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&Kr.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",wi);let h=c.get("position","auto");h==="auto"&&Kr.position===50&&(h=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=h}function o(){n=n.replace(/^\s+/,"")}if(o(),e.startTime=s(),o(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);n=n.slice(3),o(),e.endTime=s(),o(),r(n,e)}function Ha(n){return n.replace(/<br(?: \/)?>/gi,`
`)}var Wr=class{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Hr,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){let t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function i(){let r=t.buffer,o=0;for(r=Ha(r);o<r.length&&r[o]!=="\r"&&r[o]!==`
`;)++o;let a=r.slice(0,o);return r[o]==="\r"&&++o,r[o]===`
`&&++o,t.buffer=r.slice(o),a}function s(r){Ga(r,function(o,a){},/:/)}try{let r="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;r=i();let a=r.match(/^()?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let o=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:r=i(),t.state){case"HEADER":/:/.test(r)?s(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new mn(0,0,""),t.state="CUE",r.indexOf("-->")===-1){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{gh(r,t.cue,t.regionList)}catch(a){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{let a=r.indexOf("-->")!==-1;if(!r||a&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=r}continue;case"BADCUE":r||(t.state="ID")}}}catch(r){t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){let e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}},mh=/\r\n|\n\r|\n|\r/g,Ws=function(e,t,i=0){return e.slice(i,i+t.length)===t},ph=function(e){let t=parseInt(e.slice(-3)),i=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),r=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!M(t)||!M(i)||!M(s)||!M(r))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*i,t+=60*1e3*s,t+=60*60*1e3*r,t},Ys=function(e){let t=5381,i=e.length;for(;i;)t=t*33^e.charCodeAt(--i);return(t>>>0).toString()};function pn(n,e,t){return Ys(n.toString())+Ys(e.toString())+Ys(t)}var yh=function(e,t,i){let s=e[t],r=e[s.prevCC];if(!r||!r.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(o=r)!=null&&o.new;){var o;e.ccOffset+=s.start-r.start,s.new=!1,s=r,r=e[s.prevCC]}e.presentationOffset=i};function Th(n,e,t,i,s,r,o){let a=new Wr,l=Ye(new Uint8Array(n)).trim().replace(mh,`
`).split(`
`),c=[],u=e?Qu(e.baseTime,e.timescale):0,h="00:00.000",d=0,f=0,g,m=!0;a.oncue=function(y){let T=t[i],v=t.ccOffset,E=(d-u)/9e4;if(T!=null&&T.new&&(f!==void 0?v=t.ccOffset=T.start:yh(t,i,E)),E){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}v=E-t.presentationOffset}let S=y.endTime-y.startTime,x=we((y.startTime+v-f)*9e4,s*9e4)/9e4;y.startTime=Math.max(x,0),y.endTime=Math.max(x+S,0);let A=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(A)),y.id||(y.id=pn(y.startTime,y.endTime,A)),y.endTime>0&&c.push(y)},a.onparsingerror=function(y){g=y},a.onflush=function(){if(g){o(g);return}r(c)},l.forEach(y=>{if(m)if(Ws(y,"X-TIMESTAMP-MAP=")){m=!1,y.slice(16).split(",").forEach(T=>{Ws(T,"LOCAL:")?h=T.slice(6):Ws(T,"MPEGTS:")&&(d=parseInt(T.slice(7)))});try{f=ph(h)/1e3}catch(T){g=T}return}else y===""&&(m=!1);a.parse(y+`
`)}),a.flush()}var qs="stpp.ttml.im1t",Va=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ka=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,xh={left:"start",center:"center",right:"end",start:"start",end:"end"};function Vo(n,e,t,i){let s=Y(new Uint8Array(n),["mdat"]);if(s.length===0){i(new Error("Could not parse IMSC1 mdat"));return}let r=s.map(a=>Ye(a)),o=Xu(e.baseTime,1,e.timescale);try{r.forEach(a=>t(Eh(a,o)))}catch(a){i(a)}}function Eh(n,e){let s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");let r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(r).reduce((h,d)=>(h[d]=s.getAttribute(`ttp:${d}`)||r[d],h),{}),a=s.getAttribute("xml:space")!=="preserve",l=Ko(js(s,"styling","style")),c=Ko(js(s,"layout","region")),u=js(s,"body","[begin]");return[].map.call(u,h=>{let d=Wa(h,a);if(!d||!h.hasAttribute("begin"))return null;let f=Xs(h.getAttribute("begin"),o),g=Xs(h.getAttribute("dur"),o),m=Xs(h.getAttribute("end"),o);if(f===null)throw Wo(h);if(m===null){if(g===null)throw Wo(h);m=f+g}let y=new mn(f-e,m-e,d);y.id=pn(y.startTime,y.endTime,y.text);let T=c[h.getAttribute("region")],v=l[h.getAttribute("style")],E=vh(T,v,l),{textAlign:S}=E;if(S){let x=xh[S];x&&(y.lineAlign=x),y.align=S}return le(y,E),y}).filter(h=>h!==null)}function js(n,e,t){let i=n.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(t)):[]}function Ko(n){return n.reduce((e,t)=>{let i=t.getAttribute("xml:id");return i&&(e[i]=t),e},{})}function Wa(n,e){return[].slice.call(n.childNodes).reduce((t,i,s)=>{var r;return i.nodeName==="br"&&s?t+`
`:(r=i.childNodes)!=null&&r.length?Wa(i,e):e?t+i.textContent.trim().replace(/\s+/g," "):t+i.textContent},"")}function vh(n,e,t){let i="http://www.w3.org/ns/ttml#styling",s=null,r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return o&&t.hasOwnProperty(o)&&(s=t[o]),r.reduce((a,l)=>{let c=zs(e,i,l)||zs(n,i,l)||zs(s,i,l);return c&&(a[l]=c),a},{})}function zs(n,e,t){return n&&n.hasAttributeNS(e,t)?n.getAttributeNS(e,t):null}function Wo(n){return new Error(`Could not parse ttml timestamp ${n}`)}function Xs(n,e){if(!n)return null;let t=$a(n);return t===null&&(Va.test(n)?t=Sh(n,e):Ka.test(n)&&(t=Ah(n,e))),t}function Sh(n,e){let t=Va.exec(n),i=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+i/e.frameRate}function Ah(n,e){let t=Ka.exec(n),i=Number(t[1]);switch(t[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}var Yr=class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=qo(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(p.FRAG_LOADING,this.onFragLoading,this),e.on(p.FRAG_LOADED,this.onFragLoaded,this),e.on(p.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(p.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(p.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(p.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){let{hls:e}=this;e.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(p.FRAG_LOADING,this.onFragLoading,this),e.off(p.FRAG_LOADED,this.onFragLoaded,this),e.off(p.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(p.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(p.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(p.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){let e=new Bt(this,"textTrack1"),t=new Bt(this,"textTrack2"),i=new Bt(this,"textTrack3"),s=new Bt(this,"textTrack4");this.cea608Parser1=new ls(1,e,t),this.cea608Parser2=new ls(3,i,s)}}addCues(e,t,i,s,r){let o=!1;for(let a=r.length;a--;){let l=r[a],c=Lh(l[0],l[1],t,i);if(c>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],i),o=!0,c/(i-t)>.5))return}if(o||r.push([t,i]),this.config.renderTextTracksNatively){let a=this.captionsTracks[e];this.Cues.newCue(a,t,i,s)}else{let a=this.Cues.newCue(null,t,i,s);this.hls.trigger(p.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:t,id:i,initPTS:s,timescale:r}){let{unparsedVttFrags:o}=this;i==="main"&&(this.initPTS[t.cc]={baseTime:s,timescale:r}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(p.FRAG_LOADED,a)}))}getExistingTrack(e,t){let{media:i}=this;if(i)for(let s=0;s<i.textTracks.length;s++){let r=i.textTracks[s];if(Yo(r,{name:e,lang:t,attrs:{}}))return r}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;let{captionsProperties:t,captionsTracks:i,media:s}=this,{label:r,languageCode:o}=t[e],a=this.getExistingTrack(r,o);if(a)i[e]=a,Nt(i[e]),ga(i[e],s);else{let l=this.createTextTrack("captions",r,o);l&&(l[e]=!0,i[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;let t=this.captionsProperties[e];if(!t)return;let i=t.label,s={_id:e,label:i,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,t,i){let s=this.media;if(s)return s.addTextTrack(e,t,i)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){let{captionsTracks:e}=this;Object.keys(e).forEach(t=>{Nt(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=qo(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){let{media:e}=this;if(!e)return;let t=e.textTracks;if(t)for(let i=0;i<t.length;i++)Nt(t[i])}onSubtitleTracksUpdated(e,t){let i=t.subtitleTracks||[],s=i.some(r=>r.textCodec===qs);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(Ba(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){let o=this.media,a=o?Pi(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(a){let h=null;for(let d=0;d<a.length;d++)if(a[d]&&Yo(a[d],l)){h=a[d],a[d]=null;break}h&&(u=h)}if(u)Nt(u);else{let h=Ya(l);u=this.createTextTrack(h,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),a!=null&&a.length){let l=a.filter(c=>c!==null).map(c=>c.label);l.length&&L.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){let o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(i=>{let s=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!s)return;let r=`textTrack${s[1]}`,o=this.captionsProperties[r];o&&(o.label=i.name,i.lang&&(o.languageCode=i.lang),o.media=i)})}closedCaptionsForLevel(e){let t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===H.MAIN){var i,s;let{cea608Parser1:r,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=t.frag,u=(i=(s=t.part)==null?void 0:s.index)!=null?i:-1;r&&o&&(c!==a+1||c===a&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(r.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,t){let{frag:i,payload:s}=t;if(i.type===H.SUBTITLE)if(s.byteLength){let r=i.decryptdata,o="stats"in t;if(r==null||!r.encrypted||o){let a=this.tracks[i.level],l=this.vttCCs;l[i.cc]||(l[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),a&&a.textCodec===qs?this._parseIMSC1(i,s):this._parseVTTs(t)}}else this.hls.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){let i=this.hls;Vo(t,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),i.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{L.log(`Failed to parse IMSC1: ${s}`),i.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var t;let{frag:i,payload:s}=e,{initPTS:r,unparsedVttFrags:o}=this,a=r.length-1;if(!r[i.cc]&&a===-1){o.push(e);return}let l=this.hls,c=(t=i.initSegment)!=null&&t.data?_e(i.initSegment.data,new Uint8Array(s)):s;Th(c,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,u=>{this._appendCues(u,i.level),l.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},u=>{let h=u.message==="Missing initPTS for VTT MPEGTS";h?o.push(e):this._fallbackToIMSC1(i,s),L.log(`Failed to parse VTT cue: ${u}`),!(h&&a>i.cc)&&l.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:u})})}_fallbackToIMSC1(e,t){let i=this.tracks[e.level];i.textCodec||Vo(t,this.initPTS[e.cc],()=>{i.textCodec=qs,this._parseIMSC1(e,t)},()=>{i.textCodec="wvtt"})}_appendCues(e,t){let i=this.hls;if(this.config.renderTextTracksNatively){let s=this.textTracks[t];if(!s||s.mode==="disabled")return;e.forEach(r=>ma(s,r))}else{let s=this.tracks[t];if(!s)return;let r=s.default?"default":"subtitles"+t;i.trigger(p.CUES_PARSED,{type:"subtitles",cues:e,track:r})}}onFragDecrypted(e,t){let{frag:i}=t;i.type===H.SUBTITLE&&this.onFragLoaded(p.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();let{cea608Parser1:i,cea608Parser2:s}=this;if(!this.enabled||!i||!s)return;let{frag:r,samples:o}=t;if(!(r.type===H.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let a=0;a<o.length;a++){let l=o[a].bytes;if(l){let c=this.extractCea608Data(l);i.addData(o[a].pts,c[0]),s.addData(o[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:i,endOffsetSubtitles:s,type:r}){let{media:o}=this;if(!(!o||o.currentTime<i)){if(!r||r==="video"){let{captionsTracks:a}=this;Object.keys(a).forEach(l=>rr(a[l],t,i))}if(this.config.renderTextTracksNatively&&t===0&&s!==void 0){let{textTracks:a}=this;Object.keys(a).forEach(l=>rr(a[l],t,s))}}}extractCea608Data(e){let t=[[],[]],i=e[0]&31,s=2;for(let r=0;r<i;r++){let o=e[s++],a=127&e[s++],l=127&e[s++];if(a===0&&l===0)continue;if((4&o)!==0){let u=3&o;(u===0||u===1)&&(t[u].push(a),t[u].push(l))}}return t}};function Ya(n){return n.characteristics&&/transcribes-spoken-dialog/gi.test(n.characteristics)&&/describes-music-and-sound/gi.test(n.characteristics)?"captions":"subtitles"}function Yo(n,e){return!!n&&n.kind===Ya(e)&&kr(e,n)}function Lh(n,e,t,i){return Math.min(e,i)-Math.max(n,t)}function qo(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}var ui=class{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){let{hls:e}=this;e.on(p.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(p.BUFFER_CODECS,this.onBufferCodecs,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){let{hls:e}=this;e.off(p.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(p.BUFFER_CODECS,this.onBufferCodecs,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){let i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){let i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&M(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}let e=this.hls.levels;if(e.length){let t=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&L.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=i,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){let t=this.hls.levels;if(!t.length)return-1;let i=t.filter((s,r)=>this.isLevelAllowed(s)&&r<=e);return this.clientRect=null,ui.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;let e=this.media,t={width:0,height:0};if(e){let i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,!t.width&&!t.height&&(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}isLevelAllowed(e){return!this.restrictedLevels.some(i=>e.bitrate===i.bitrate&&e.width===i.width&&e.height===i.height)}static getMaxLevelByMediaSize(e,t,i){if(!(e!=null&&e.length))return-1;let s=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0,r=e.length-1,o=Math.max(t,i);for(let a=0;a<e.length;a+=1){let l=e[a];if((l.width>=o||l.height>=o)&&s(l,e[a+1])){r=a;break}}return r}},qr=class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){let i=this.hls.config;if(i.capLevelOnFPSDrop){let s=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,i){let s=performance.now();if(t){if(this.lastTime){let r=s-this.lastTime,o=i-this.lastDroppedFrames,a=t-this.lastDecodedFrames,l=1e3*o/r,c=this.hls;if(c.trigger(p.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:i}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let u=c.currentLevel;L.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(p.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}checkFPSInterval(){let e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){let t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},ki="[eme]",at=class{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=at.CDMCleanupPromise?[at.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=L.debug.bind(L,ki),this.log=L.log.bind(L,ki),this.warn=L.warn.bind(L,ki),this.error=L.error.bind(L,ki),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();let e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(p.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(p.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(p.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(p.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){let{drmSystems:t,widevineLicenseUrl:i}=this.config,s=t[e];if(s)return s.licenseUrl;if(e===se.WIDEVINE&&i)return i;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){let{drmSystems:t}=this.config,i=t[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){let t=this.hls.levels,i=(o,a,l)=>!!o&&l.indexOf(o)===a,s=t.map(o=>o.audioCodec).filter(i),r=t.map(o=>o.videoCodec).filter(i);return s.length+r.length===0&&r.push("avc1.42e01e"),new Promise((o,a)=>{let l=c=>{let u=c.shift();this.getMediaKeysPromise(u,s,r).then(h=>o({keySystem:u,mediaKeys:h})).catch(h=>{c.length?l(c):h instanceof Ae?a(h):a(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_ACCESS,error:h,fatal:!0},h.message))})};l(e)})}requestMediaKeySystemAccess(e,t){let{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${i}`;return ta===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return i(e,t)}getMediaKeysPromise(e,t,i){let s=gc(e,t,i,this.config.drmSystemOptions),r=this.keySystemAccessPromises[e],o=r==null?void 0:r.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(s)}`),o=this.requestMediaKeySystemAccess(e,s);let a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);let c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(h=>h?this.setMediaKeysServerCertificate(u,e,h):u))),a.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),a.mediaKeys})}return o.then(()=>r.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:i}){this.log(`Creating key-system session "${t}" keyId: ${He.hexDump(e.keyId||[])}`);let s=i.createSession(),r={decryptdata:e,keySystem:t,mediaKeys:i,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(e){let t=e.decryptdata;if(t.pssh){let i=this.createMediaKeySessionContext(e),s=this.getKeyIdString(t),r="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(i,r,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return He.hexDump(e.keyId)}updateKeySession(e,t){var i;let s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyID ${He.hexDump(((i=e.decryptdata)==null?void 0:i.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),s.update(t)}selectKeySystemFormat(e){let t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((t,i)=>{let s=Ps(this.config),r=e.map(oo).filter(o=>!!o&&s.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(r).then(({keySystem:o})=>{let a=ao(o);a?t(a):i(new Error(`Unable to find format for key-system "${o}"`))}).catch(i)})}loadKey(e){let t=e.keyInfo.decryptdata,i=this.getKeyIdString(t),s=`(keyId: ${i} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${s}`);let r=this.keyIdToKeySessionPromise[i];return r||(r=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(t).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();let l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:t}),c="cenc";return this.generateRequestWithPreferredKeySession(l,c,t.pssh,"playlist-key")}))),r.catch(o=>this.handleError(o))),r}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ae?this.hls.trigger(p.ERROR,e.data):this.hls.trigger(p.ERROR,{type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){let t=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[t];if(!i){let s=oo(e.keyFormat),r=s?[s]:Ps(this.config);return this.attemptKeySystemAccess(r)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=Ps(this.config)),e.length===0)throw new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){let{initDataType:t,initData:i}=e;if(this.debug(`"${e.type}" event: init data type: "${t}"`),i===null)return;let s,r;if(t==="sinf"&&this.config.drmSystems[se.FAIRPLAY]){let u=he(new Uint8Array(i));try{let h=an(JSON.parse(u).sinf),d=ca(new Uint8Array(h));if(!d)return;s=d.subarray(8,24),r=se.FAIRPLAY}catch(h){this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{let u=Uc(i);if(u===null)return;u.version===0&&u.systemId===ea.WIDEVINE&&u.data&&(s=u.data.subarray(8,24)),r=fc(u.systemId)}if(!r||!s)return;let o=He.hexDump(s),{keyIdToKeySessionPromise:a,mediaKeySessions:l}=this,c=a[o];for(let u=0;u<l.length;u++){let h=l[u],d=h.decryptdata;if(d.pssh||!d.keyId)continue;let f=He.hexDump(d.keyId);if(o===f||d.uri.replace(/-/g,"").indexOf(o)!==-1){c=a[f],delete a[f],d.pssh=new Uint8Array(i),d.keyId=s,c=a[o]=c.then(()=>this.generateRequestWithPreferredKeySession(h,t,i,"encrypted-event-key-match"));break}}c||(c=a[o]=this.getKeySystemSelectionPromise([r]).then(({keySystem:u,mediaKeys:h})=>{var d;this.throwIfDestroyed();let f=new bt("ISO-23001-7",o,(d=ao(u))!=null?d:"");return f.pssh=new Uint8Array(i),f.keyId=s,this.attemptSetMediaKeys(u,h).then(()=>{this.throwIfDestroyed();let g=this.createMediaKeySessionContext({decryptdata:f,keySystem:u,mediaKeys:h});return this.generateRequestWithPreferredKeySession(g,t,i,"encrypted-event-no-match")})})),c.catch(u=>this.handleError(u))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,t){let i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);let s=Promise.all(i).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),i.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(r=>i.indexOf(r)===-1)})}generateRequestWithPreferredKeySession(e,t,i,s){var r,o;let a=(r=this.config.drmSystems)==null||(o=r[e.keySystem])==null?void 0:o.generateRequest;if(a)try{let g=a.call(this.hls,t,i,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");t=g.initDataType,i=e.decryptdata.pssh=g.initData?new Uint8Array(g.initData):null}catch(g){var l;if(this.warn(g.message),(l=this.hls)!=null&&l.config.debug)throw g}if(i===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);let c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${s}": ${c} (init data type: ${t} length: ${i?i.byteLength:null})`);let u=new gn,h=e._onmessage=g=>{let m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}let{messageType:y,message:T}=g;this.log(`"${y}" message event for session "${m.sessionId}" message size: ${T.byteLength}`),y==="license-request"||y==="license-renewal"?this.renewLicense(e,T).catch(v=>{this.handleError(v),u.emit("error",v)}):y==="license-release"?e.keySystem===se.FAIRPLAY&&(this.updateKeySession(e,tr("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${y}"`)},d=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);let y=e.keyStatus;u.emit("keyStatus",y),y==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",h),e.mediaKeysSession.addEventListener("keystatuseschange",d);let f=new Promise((g,m)=>{u.on("error",m),u.on("keyStatus",y=>{y.startsWith("usable")?g():y==="output-restricted"?m(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):y==="internal-error"?m(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${y}"`)):y==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${y}"`)})});return e.mediaKeysSession.generateRequest(t,i).then(()=>{var g;this.log(`Request generated for key-session "${(g=e.mediaKeysSession)==null?void 0:g.sessionId}" keyId: ${c}`)}).catch(g=>{throw new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_SESSION,error:g,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>f).catch(g=>{throw u.removeAllListeners(),this.removeSession(e),g}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,i)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${He.hexDump("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${He.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){let t=this.config,i=t.loader,s=new i(t),r=this.getServerCertificateUrl(e);return r?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{let l={responseType:"arraybuffer",url:r},c=t.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(d,f,g,m)=>{o(d.data)},onError:(d,f,g,m)=>{a(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:ye({url:l.url,data:void 0},d)},`"${e}" certificate request failed (${r}). Status: ${d.code} (${d.text})`))},onTimeout:(d,f,g)=>{a(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${r})`))},onAbort:(d,f,g)=>{a(new Error("aborted"))}};s.load(l,u,h)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,i){return new Promise((s,r)=>{e.setServerCertificate(i).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${i==null?void 0:i.byteLength}) on "${t}"`),s(e)}).catch(o=>{r(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(i=>this.updateKeySession(e,new Uint8Array(i)).catch(s=>{throw new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:s,fatal:!0},s.message)}))}unpackPlayReadyKeyMessage(e,t){let i=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;let s=new DOMParser().parseFromString(i,"application/xml"),r=s.querySelectorAll("HttpHeader");if(r.length>0){let u;for(let h=0,d=r.length;h<d;h++){var o,a;u=r[h];let f=(o=u.querySelector("name"))==null?void 0:o.textContent,g=(a=u.querySelector("value"))==null?void 0:a.textContent;f&&g&&e.setRequestHeader(f,g)}}let l=s.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return tr(atob(c))}setupLicenseXHR(e,t,i,s){let r=this.config.licenseXhrSetup;return r?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return r.call(this.hls,e,t,i,s)}).catch(o=>{if(!i.decryptdata)throw o;return e.open("POST",t,!0),r.call(this.hls,e,t,i,s)}).then(o=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:o||s})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,t){let i=this.config.keyLoadPolicy.default;return new Promise((s,r)=>{let o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);let a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return r(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);let c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(u){this.error(u)}s(l)}else{let l=i.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)r(new Ae({type:V.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{let u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,t).then(s,r)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,t).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==se.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,t){if(!this.config.emeEnabled)return;let i=t.media;this.media=i,i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){let e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},bt.clearKeyUriToKeyIdMap();let i=t.length;at.CDMCleanupPromise=Promise.all(t.map(s=>this.removeSession(s)).concat(e==null?void 0:e.setMediaKeys(null).catch(s=>{this.log(`Could not clear media keys: ${s}`)}))).then(()=>{i&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)}).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){let i=t.reduce((s,r)=>(s.indexOf(r.keyFormat)===-1&&s.push(r.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(e){let{mediaKeysSession:t,licenseXhr:i}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;let s=this.mediaKeySessions.indexOf(e);return s>-1&&this.mediaKeySessions.splice(s,1),t.remove().catch(r=>{this.log(`Could not remove session: ${r}`)}).then(()=>t.close()).catch(r=>{this.log(`Could not close session: ${r}`)})}}};at.CDMCleanupPromise=void 0;var Ae=class extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}},Ee;(function(n){n.MANIFEST="m",n.AUDIO="a",n.VIDEO="v",n.MUXED="av",n.INIT="i",n.CAPTION="c",n.TIMED_TEXT="tt",n.KEY="k",n.OTHER="o"})(Ee||(Ee={}));var jr;(function(n){n.DASH="d",n.HLS="h",n.SMOOTH="s",n.OTHER="o"})(jr||(jr={}));var At;(function(n){n.OBJECT="CMCD-Object",n.REQUEST="CMCD-Request",n.SESSION="CMCD-Session",n.STATUS="CMCD-Status"})(At||(At={}));var bh={[At.OBJECT]:["br","d","ot","tb"],[At.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[At.SESSION]:["cid","pr","sf","sid","st","v"],[At.STATUS]:["bs","rtp"]},ct=class{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(i=>i instanceof ct?i:new ct(i))),this.value=e,this.params=t}},cs=class{constructor(e){this.description=void 0,this.description=e}},Rh="Dict";function Ih(n){return Array.isArray(n)?JSON.stringify(n):n instanceof Map?"Map{}":n instanceof Set?"Set{}":typeof n=="object"?JSON.stringify(n):String(n)}function Dh(n,e,t,i){return new Error(`failed to ${n} "${Ih(e)}" as ${t}`,{cause:i})}var jo="Bare Item",Ch="Boolean",wh="Byte Sequence",kh="Decimal",_h="Integer";function Ph(n){return n<-999999999999999||999999999999999<n}var Oh=/[\x00-\x1f\x7f]+/,Fh="Token",Mh="Key";function qe(n,e,t){return Dh("serialize",n,e,t)}function Nh(n){if(typeof n!="boolean")throw qe(n,Ch);return n?"?1":"?0"}function Bh(n){return btoa(String.fromCharCode(...n))}function Uh(n){if(ArrayBuffer.isView(n)===!1)throw qe(n,wh);return`:${Bh(n)}:`}function qa(n){if(Ph(n))throw qe(n,_h);return n.toString()}function $h(n){return`@${qa(n.getTime()/1e3)}`}function ja(n,e){if(n<0)return-ja(-n,e);let t=Math.pow(10,e);if(Math.abs(n*t%1-.5)<Number.EPSILON){let s=Math.floor(n*t);return(s%2===0?s:s+1)/t}else return Math.round(n*t)/t}function Gh(n){let e=ja(n,3);if(Math.floor(Math.abs(e)).toString().length>12)throw qe(n,kh);let t=e.toString();return t.includes(".")?t:`${t}.0`}var Hh="String";function Vh(n){if(Oh.test(n))throw qe(n,Hh);return`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Kh(n){return n.description||n.toString().slice(7,-1)}function zo(n){let e=Kh(n);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw qe(e,Fh);return e}function zr(n){switch(typeof n){case"number":if(!M(n))throw qe(n,jo);return Number.isInteger(n)?qa(n):Gh(n);case"string":return Vh(n);case"symbol":return zo(n);case"boolean":return Nh(n);case"object":if(n instanceof Date)return $h(n);if(n instanceof Uint8Array)return Uh(n);if(n instanceof cs)return zo(n);default:throw qe(n,jo)}}function Xr(n){if(/^[a-z*][a-z0-9\-_.*]*$/.test(n)===!1)throw qe(n,Mh);return n}function yn(n){return n==null?"":Object.entries(n).map(([e,t])=>t===!0?`;${Xr(e)}`:`;${Xr(e)}=${zr(t)}`).join("")}function za(n){return n instanceof ct?`${zr(n.value)}${yn(n.params)}`:zr(n)}function Wh(n){return`(${n.value.map(za).join(" ")})${yn(n.params)}`}function Yh(n,e={whitespace:!0}){if(typeof n!="object")throw qe(n,Rh);let t=n instanceof Map?n.entries():Object.entries(n),i=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([s,r])=>{r instanceof ct||(r=new ct(r));let o=Xr(s);return r.value===!0?o+=yn(r.params):(o+="=",Array.isArray(r.value)?o+=Wh(r):o+=za(r)),o}).join(`,${i}`)}function qh(n,e){return Yh(n,e)}var jh=n=>n==="ot"||n==="sf"||n==="st",zh=n=>typeof n=="number"?M(n):n!=null&&n!==""&&n!==!1;function Xh(n,e){let t=new URL(n),i=new URL(e);if(t.origin!==i.origin)return n;let s=t.pathname.split("/").slice(1),r=i.pathname.split("/").slice(1,-1);for(;s[0]===r[0];)s.shift(),r.shift();for(;r.length;)r.shift(),s.unshift("..");return s.join("/")}function Qh(){try{return crypto.randomUUID()}catch(n){try{let e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{let r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(s=="x"?r:r&3|8).toString(16)})}}}var Bi=n=>Math.round(n),Jh=(n,e)=>(e!=null&&e.baseUrl&&(n=Xh(n,e.baseUrl)),encodeURIComponent(n)),_i=n=>Bi(n/100)*100,Zh={br:Bi,d:Bi,bl:_i,dl:_i,mtp:_i,nor:Jh,rtp:_i,tb:Bi};function ed(n,e){let t={};if(n==null||typeof n!="object")return t;let i=Object.keys(n).sort(),s=le({},Zh,e==null?void 0:e.formatters),r=e==null?void 0:e.filter;return i.forEach(o=>{if(r!=null&&r(o))return;let a=n[o],l=s[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||zh(a)&&(jh(o)&&typeof a=="string"&&(a=new cs(a)),t[o]=a))}),t}function Xa(n,e={}){return n?qh(ed(n,e),le({whitespace:!1},e)):""}function td(n,e={}){if(!n)return{};let t=Object.entries(n),i=Object.entries(bh).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=t.reduce((r,o)=>{var a,l;let[c,u]=o,h=((a=i.find(d=>d[1].includes(c)))==null?void 0:a[0])||At.REQUEST;return(l=r[h])!=null||(r[h]={}),r[h][c]=u,r},{});return Object.entries(s).reduce((r,[o,a])=>(r[o]=Xa(a,e),r),{})}function id(n,e,t){return le(n,td(e,t))}var sd="CMCD";function rd(n,e={}){if(!n)return"";let t=Xa(n,e);return`${sd}=${encodeURIComponent(t)}`}var Xo=/CMCD=[^&#]+/;function nd(n,e,t){let i=rd(e,t);if(!i)return n;if(Xo.test(n))return n.replace(Xo,i);let s=n.includes("?")?"&":"?";return`${n}${s}${i}`}var Qr=class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:Ee.MANIFEST,su:!this.initialized})}catch(r){L.warn("Could not generate manifest CMCD data.",r)}},this.applyFragmentData=s=>{try{let r=s.frag,o=this.hls.levels[r.level],a=this.getObjectType(r),l={d:r.duration*1e3,ot:a};(a===Ee.VIDEO||a===Ee.AUDIO||a==Ee.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(s,l)}catch(r){L.warn("Could not generate segment CMCD data.",r)}},this.hls=e;let t=this.config=e.config,{cmcd:i}=t;i!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||Qh(),this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){let e=this.hls;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHED,this.onMediaDetached,this),e.on(p.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){let e=this.hls;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHED,this.onMediaDetached,this),e.off(p.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var i,s;this.audioBuffer=(i=t.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(s=t.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:jr.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){le(t,this.createData());let i=t.ot===Ee.INIT||t.ot===Ee.VIDEO||t.ot===Ee.MUXED;this.starved&&i&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);let{includeKeys:s}=this;s&&(t=Object.keys(t).reduce((r,o)=>(s.includes(o)&&(r[o]=t[o]),r),{})),this.useHeaders?(e.headers||(e.headers={}),id(e.headers,t)):e.url=nd(e.url,t)}getObjectType(e){let{type:t}=e;if(t==="subtitle")return Ee.TIMED_TEXT;if(e.sn==="initSegment")return Ee.INIT;if(t==="audio")return Ee.AUDIO;if(t==="main")return this.hls.audioTracks.length?Ee.VIDEO:Ee.MUXED}getTopBandwidth(e){let t=0,i,s=this.hls;if(e===Ee.AUDIO)i=s.audioTracks;else{let r=s.maxAutoLevel,o=r>-1?r+1:s.levels.length;i=s.levels.slice(0,o)}for(let r of i)r.bitrate>t&&(t=r.bitrate);return t>0?t:NaN}getBufferLength(e){let t=this.hls.media,i=e===Ee.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!t?NaN:J.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){let{pLoader:e}=this.config,t=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new i(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,o,a){t(r),this.loader.load(r,o,a)}}}createFragmentLoader(){let{fLoader:e}=this.config,t=this.applyFragmentData,i=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new i(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,o,a){t(r),this.loader.load(r,o,a)}}}},od=3e5,Jr=class{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=L.log.bind(L,"[content-steering]:"),this.registerListeners()}registerListeners(){let e=this.hls;e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.ERROR,this.onError,this)}unregisterListeners(){let e=this.hls;e&&(e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){let e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){let t=this.levels;t&&(this.levels=t.filter(i=>i!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){let{contentSteering:i}=t;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){let{errorAction:i}=t;if((i==null?void 0:i.action)===me.SendAlternateToPenaltyBox&&i.flags===Me.MoveAllAlternatesMatchingHost){let s=this.levels,r=this.pathwayPriority,o=this.pathwayId;if(t.context){let{groupId:a,pathwayId:l,type:c}=t.context;a&&s?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!r&&s&&(r=s.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),r&&r.length>1&&(this.updatePathwayPriority(r),i.resolved=this.pathwayId!==o),i.resolved||L.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${o} levels: ${s&&s.length} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){let i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length?(this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let t,i=this.penalizedPathways,s=performance.now();Object.keys(i).forEach(r=>{s-i[r]>od&&delete i[r]});for(let r=0;r<e.length;r++){let o=e[r];if(o in i)continue;if(o===this.pathwayId)return;let a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(t=this.getLevelsForPathway(o),t.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,xa(t),this.hls.trigger(p.LEVELS_UPDATED,{levels:t});let c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,t,i){let s=this.getLevelsForPathway(i).concat(this.levels||[]);for(let r=0;r<s.length;r++)if(t===z.AUDIO_TRACK&&s[r].hasAudioGroup(e)||t===z.SUBTITLE_TRACK&&s[r].hasSubtitleGroup(e))return s[r].pathwayId;return i}clonePathways(e){let t=this.levels;if(!t)return;let i={},s={};e.forEach(r=>{let{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=r;if(t.some(u=>u.pathwayId===o))return;let c=this.getLevelsForPathway(a).map(u=>{let h=new te(u.attrs);h["PATHWAY-ID"]=o;let d=h.AUDIO&&`${h.AUDIO}_clone_${o}`,f=h.SUBTITLES&&`${h.SUBTITLES}_clone_${o}`;d&&(i[h.AUDIO]=d,h.AUDIO=d),f&&(s[h.SUBTITLES]=f,h.SUBTITLES=f);let g=Qa(u.uri,h["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new lt({attrs:h,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:g,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let y=1;y<u.audioGroups.length;y++)m.addGroupId("audio",`${u.audioGroups[y]}_clone_${o}`);if(u.subtitleGroups)for(let y=1;y<u.subtitleGroups.length;y++)m.addGroupId("text",`${u.subtitleGroups[y]}_clone_${o}`);return m});t.push(...c),Qo(this.audioTracks,i,l,o),Qo(this.subtitleTracks,s,l,o)})}loadSteeringManifest(e){let t=this.hls.config,i=t.loader;this.loader&&this.loader.destroy(),this.loader=new i(t);let s;try{s=new self.URL(e)}catch(u){this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){let u=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+u)}let r={responseType:"json",url:s.href},o=t.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,h,d,f)=>{this.log(`Loaded steering manifest: "${s}"`);let g=u.data;if(g.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;let{"RELOAD-URI":m,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":T}=g;if(m)try{this.uri=new self.URL(m,s).href}catch(E){this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||d.url),y&&this.clonePathways(y);let v={steeringManifest:g,url:s.toString()};this.hls.trigger(p.STEERING_MANIFEST_LOADED,v),T&&this.updatePathwayPriority(T)},onError:(u,h,d,f)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${h.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${h.url} no longer available`);return}let g=this.timeToLoad*1e3;if(u.code===429){let m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){let y=m.getResponseHeader("Retry-After");y&&(g=parseFloat(y)*1e3)}this.log(`Steering manifest ${h.url} rate limited`);return}this.scheduleRefresh(this.uri||h.url,g)},onTimeout:(u,h,d)=>{this.log(`Timeout loading steering manifest (${h.url})`),this.scheduleRefresh(this.uri||h.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(r,l,c)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;let s=(i=this.hls)==null?void 0:i.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}};function Qo(n,e,t,i){n&&Object.keys(e).forEach(s=>{let r=n.filter(o=>o.groupId===s).map(o=>{let a=le({},o);return a.details=void 0,a.attrs=new te(a.attrs),a.url=a.attrs.URI=Qa(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),a.groupId=a.attrs["GROUP-ID"]=e[s],a.attrs["PATHWAY-ID"]=i,a});n.push(...r)})}function Qa(n,e,t,i){let{HOST:s,PARAMS:r,[t]:o}=i,a;e&&(a=o==null?void 0:o[e],a&&(n=a));let l=new self.URL(n);return s&&!a&&(l.host=s),r&&Object.keys(r).sort().forEach(c=>{c&&l.searchParams.set(c,r[c])}),l.href}var ad=/^age:\s*[\d.]+\s*$/im,us=class{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Gt,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){let e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}loadInternal(){let{config:e,context:t}=this;if(!e||!t)return;let i=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;let r=this.xhrSetup;r?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return r(i,t.url)}).catch(o=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",t.url,!0),r(i,t.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,t,e)}).catch(o=>{this.callbacks.onError({code:i.status,text:o.message},t,i,s)}):this.openAndSendXhr(i,t,e)}openAndSendXhr(e,t,i){e.readyState||e.open("GET",t.url,!0);let s=t.headers,{maxTimeToFirstByteMs:r,maxLoadTimeMs:o}=i.loadPolicy;if(s)for(let a in s)e.setRequestHeader(a,s[a]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=r&&M(r)?r:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){let{context:e,loader:t,stats:i}=this;if(!e||!t)return;let s=t.readyState,r=this.config;if(!i.aborted&&s>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;let o=t.status,a=t.responseType!=="text";if(o>=200&&o<300&&(a&&t.response||t.responseText!==null)){i.loading.end=Math.max(self.performance.now(),i.loading.first);let l=a?t.response:t.responseText,c=t.responseType==="arraybuffer"?l.byteLength:l.length;if(i.loaded=i.total=c,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first),!this.callbacks)return;let u=this.callbacks.onProgress;if(u&&u(i,e,l,t),!this.callbacks)return;let h={url:t.responseURL,data:l,code:o};this.callbacks.onSuccess(h,i,e,t)}else{let l=r.loadPolicy.errorRetry,c=i.retry,u={url:e.url,data:void 0,code:o};zi(l,c,!1,u)?this.retry(l):(L.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:t.statusText},e,t,i))}}}loadtimeout(){if(!this.config)return;let e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(zi(e,t,!0))this.retry(e);else{var i;L.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);let s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){let{context:t,stats:i}=this;this.retryDelay=un(e,i.retry),i.retry++,L.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){let t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&ad.test(this.loader.getAllResponseHeaders())){let t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}};function ld(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(n){}return!1}var cd=/(\d+)-(\d+)\/(\d+)/,hs=class{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||fd,this.controller=new self.AbortController,this.stats=new Gt}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,i){let s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();let r=ud(e,this.controller.signal),o=i.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,r),self.clearTimeout(this.requestTimeout),t.timeout=c&&M(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(s,e,this.response)},t.timeout),self.fetch(this.request).then(h=>{this.response=this.loader=h;let d=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(s,e,this.response)},u-(d-s.loading.start)),!h.ok){let{status:f,statusText:g}=h;throw new Zr(g||"fetch, bad network response",f,h)}return s.loading.first=d,s.total=dd(h.headers)||s.total,o&&M(t.highWaterMark)?this.loadProgressively(h,s,e,t.highWaterMark,o):a?h.arrayBuffer():e.responseType==="json"?h.json():h.text()}).then(h=>{let d=this.response;if(!d)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);let f=h[l];f&&(s.loaded=s.total=f);let g={url:d.url,data:h,code:d.status};o&&!M(t.highWaterMark)&&o(s,e,h,d),i.onSuccess(g,s,e,d)}).catch(h=>{if(self.clearTimeout(this.requestTimeout),s.aborted)return;let d=h&&h.code||0,f=h?h.message:null;i.onError({code:d,text:f},e,h?h.details:null,s)})}getCacheAge(){let e=null;if(this.response){let t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,i,s=0,r){let o=new Ji,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&r(t,i,o.flush(),e),Promise.resolve(new ArrayBuffer(0));let u=c.value,h=u.length;return t.loaded+=h,h<s||o.dataLength?(o.push(u),o.dataLength>=s&&r(t,i,o.flush(),e)):r(t,i,u,e),l()}).catch(()=>Promise.reject());return l()}};function ud(n,e){let t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(le({},n.headers))};return n.rangeEnd&&t.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),t}function hd(n){let e=cd.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function dd(n){let e=n.get("Content-Range");if(e){let i=hd(e);if(M(i))return i}let t=n.get("Content-Length");if(t)return parseInt(t)}function fd(n,e){return new self.Request(n.url,e)}var Zr=class extends Error{constructor(e,t,i){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=i}},gd=/\s/,md={newCue(n,e,t,i){let s=[],r,o,a,l,c,u=self.VTTCue||self.TextTrackCue;for(let d=0;d<i.rows.length;d++)if(r=i.rows[d],a=!0,l=0,c="",!r.isEmpty()){var h;for(let m=0;m<r.chars.length;m++)gd.test(r.chars[m].uchar)&&a?l++:(c+=r.chars[m].uchar,a=!1);r.cueStartTime=e,e===t&&(t+=1e-4),l>=16?l--:l++;let f=Ha(c.trim()),g=pn(e,t,f);n!=null&&(h=n.cues)!=null&&h.getCueById(g)||(o=new u(e,t,f),o.id=g,o.line=d+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),s.push(o))}return n&&s.length&&(s.sort((d,f)=>d.line==="auto"||f.line==="auto"?0:d.line>8&&f.line>8?f.line-d.line:d.line-f.line),s.forEach(d=>ma(n,d))),s}},pd={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},Ja=ye(ye({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:us,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:fr,bufferController:Br,capLevelController:ui,errorController:hr,fpsController:qr,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ta,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:pd},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},yd()),{},{subtitleStreamController:Or,subtitleTrackController:Mr,timelineController:Yr,audioStreamController:_r,audioTrackController:Pr,emeController:at,cmcdController:Qr,contentSteeringController:Jr});function yd(){return{cueHandler:md,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Td(n,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');let t=en(n),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(r=>{let o=`${r==="level"?"playlist":r}LoadPolicy`,a=e[o]===void 0,l=[];s.forEach(c=>{let u=`${r}Loading${c}`,h=e[u];if(h!==void 0&&a){l.push(u);let d=t[o].default;switch(e[o]={default:d},c){case"TimeOut":d.maxLoadTimeMs=h,d.maxTimeToFirstByteMs=h;break;case"MaxRetry":d.errorRetry.maxNumRetry=h,d.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":d.errorRetry.retryDelayMs=h,d.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":d.errorRetry.maxRetryDelayMs=h,d.timeoutRetry.maxRetryDelayMs=h;break}}}),l.length&&L.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),ye(ye({},t),e)}function en(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(en):Object.keys(n).reduce((e,t)=>(e[t]=en(n[t]),e),{}):n}function xd(n){let e=n.loader;e!==hs&&e!==us?(L.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):ld()&&(n.loader=hs,n.progressive=!0,n.enableSoftwareAES=!0,L.log("[config]: Progressive streaming enabled, using FetchLoader"))}var Qs,tn=class extends ni{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){let{hls:e}=this;e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(p.LEVEL_LOADED,this.onLevelLoaded,this),e.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this),e.on(p.ERROR,this.onError,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(p.LEVEL_LOADED,this.onLevelLoaded,this),e.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this),e.off(p.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){let i=this.hls.config.preferManagedMediaSource,s=[],r={},o={},a=!1,l=!1,c=!1;t.levels.forEach(u=>{var h,d;let f=u.attrs,{audioCodec:g,videoCodec:m}=u;((h=g)==null?void 0:h.indexOf("mp4a.40.34"))!==-1&&(Qs||(Qs=/chrome|firefox/i.test(navigator.userAgent)),Qs&&(u.audioCodec=g=void 0)),g&&(u.audioCodec=g=Wi(g,i)),((d=m)==null?void 0:d.indexOf("avc1"))===0&&(m=u.videoCodec=Yc(m));let{width:y,height:T,unknownCodecs:v}=u;if(a||(a=!!(y&&T)),l||(l=!!m),c||(c=!!g),v!=null&&v.length||g&&!Ns(g,"audio",i)||m&&!Ns(m,"video",i))return;let{CODECS:E,"FRAME-RATE":S,"HDCP-LEVEL":x,"PATHWAY-ID":A,RESOLUTION:b,"VIDEO-RANGE":C}=f,D=`${`${A||"."}-`}${u.bitrate}-${b}-${S}-${E}-${C}-${x}`;if(r[D])if(r[D].uri!==u.url&&!u.attrs["PATHWAY-ID"]){let w=o[D]+=1;u.attrs["PATHWAY-ID"]=new Array(w+1).join(".");let B=new lt(u);r[D]=B,s.push(B)}else r[D].addGroupId("audio",f.AUDIO),r[D].addGroupId("text",f.SUBTITLES);else{let w=new lt(u);r[D]=w,o[D]=1,s.push(w)}}),this.filterAndSortMediaOptions(s,t,a,l,c)}filterAndSortMediaOptions(e,t,i,s,r){let o=[],a=[],l=e;if((i||s)&&r&&(l=l.filter(({videoCodec:g,videoRange:m,width:y,height:T})=>(!!g||!!(y&&T))&&iu(m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);let g=new Error("no level with compatible codecs found in manifest");this.hls.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:g,reason:g.message})}});return}if(t.audioTracks){let{preferManagedMediaSource:g}=this.hls.config;o=t.audioTracks.filter(m=>!m.audioCodec||Ns(m.audioCodec,"audio",g)),Jo(o)}t.subtitles&&(a=t.subtitles,Jo(a));let c=l.slice(0);l.sort((g,m)=>{if(g.attrs["HDCP-LEVEL"]!==m.attrs["HDCP-LEVEL"])return(g.attrs["HDCP-LEVEL"]||"")>(m.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&g.height!==m.height)return g.height-m.height;if(g.frameRate!==m.frameRate)return g.frameRate-m.frameRate;if(g.videoRange!==m.videoRange)return Yi.indexOf(g.videoRange)-Yi.indexOf(m.videoRange);if(g.videoCodec!==m.videoCodec){let y=fo(g.videoCodec),T=fo(m.videoCodec);if(y!==T)return T-y}if(g.uri===m.uri&&g.codecSet!==m.codecSet){let y=Ki(g.codecSet),T=Ki(m.codecSet);if(y!==T)return T-y}return g.averageBitrate!==m.averageBitrate?g.averageBitrate-m.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let g=0;g<c.length;g++)if(c[g].pathwayId===l[0].pathwayId){u=c[g];break}}this._levels=l;for(let g=0;g<l.length;g++)if(l[g]===u){var h;this._firstLevel=g;let m=u.bitrate,y=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${m}`),((h=this.hls.userConfig)==null?void 0:h.abrEwmaDefaultEstimate)===void 0){let T=Math.min(m,this.hls.config.abrEwmaDefaultEstimateMax);T>y&&y===Ja.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=T)}break}let d=r&&!s,f={levels:l,audioTracks:o,subtitleTracks:a,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:r,video:s,altAudio:!d&&o.some(g=>!!g.url)};this.hls.trigger(p.MANIFEST_PARSED,f),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){let t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){let u=new Error("invalid level idx"),h=e<0;if(this.hls.trigger(p.ERROR,{type:V.OTHER_ERROR,details:I.LEVEL_SWITCH_ERROR,level:e,fatal:h,error:u,reason:u.message}),h)return;e=Math.min(e,t.length-1)}let i=this.currentLevelIndex,s=this.currentLevel,r=s?s.attrs["PATHWAY-ID"]:void 0,o=t[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,i===e&&o.details&&s&&r===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${i}${r?" with Pathway "+r:""}`);let l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(p.LEVEL_SWITCHING,l);let c=o.details;if(!c||c.live){let u=this.switchParams(o.uri,s==null?void 0:s.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){let e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){t.fatal||!t.context||t.context.type===z.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===H.MAIN){let i=t.elementaryStreams;if(!Object.keys(i).some(r=>!!i[r]))return;let s=this._levels[t.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,t){var i;let{level:s,details:r}=t,o=this._levels[s];if(!o){var a;this.warn(`Invalid level index ${s}`),(a=t.deliveryDirectives)!=null&&a.skip&&(r.deltaUpdateFailed=!0);return}s===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(s,t,o.details)):(i=t.deliveryDirectives)!=null&&i.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();let t=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){let s=i.uri;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}let r=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${r?" Pathway "+r:""} ${s}`),this.clearTimer(),this.hls.trigger(p.LEVEL_LOADING,{url:s,level:t,pathwayId:i.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;let i=this._levels.filter((s,r)=>r!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(o=>o.level=-1)),!1));xa(i),this._levels=i,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(p.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){let{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(p.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}};function Jo(n){let e={};n.forEach(t=>{let i=t.groupId||"";t.id=e[i]=e[i]||0,e[i]++})}var sn=class{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(let i in this.keyUriToKeyInfo){let s=this.keyUriToKeyInfo[i].loader;if(s){var t;if(e&&e!==((t=s.context)==null?void 0:t.frag.type))return;s.abort()}}}detach(){for(let e in this.keyUriToKeyInfo){let t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(let e in this.keyUriToKeyInfo){let t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=I.KEY_LOAD_ERROR,i,s,r){return new Be({type:V.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:r,error:i,networkDetails:s})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){let{sn:i,cc:s}=e;for(let r=0;r<t.length;r++){let o=t[r];if(s<=o.cc&&(i==="initSegment"||o.sn==="initSegment"||i<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var i,s;t&&e.setKeyFormat(t);let r=e.decryptdata;if(!r){let c=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,I.KEY_LOAD_ERROR,c))}let o=r.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,I.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((i=a)!=null&&i.decryptdata.key)return r.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((s=a)!=null&&s.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(r.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return r.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,I.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(e,t){let i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){let s=this.emeController.loadKey(i);if(s)return(e.keyLoadPromise=s.then(r=>(e.mediaKeySessionContext=r,i))).catch(r=>{throw e.keyLoadPromise=null,r})}return Promise.resolve(i)}loadKeyHTTP(e,t){let i=this.config,s=i.loader,r=new s(i);return t.keyLoader=e.loader=r,e.keyLoadPromise=new Promise((o,a)=>{let l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},c=i.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(d,f,g,m)=>{let{frag:y,keyInfo:T,url:v}=g;if(!y.decryptdata||T!==this.keyUriToKeyInfo[v])return a(this.createKeyLoadError(y,I.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));T.decryptdata.key=y.decryptdata.key=new Uint8Array(d.data),y.keyLoader=null,T.loader=null,o({frag:y,keyInfo:T})},onError:(d,f,g,m)=>{this.resetLoader(f),a(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,new Error(`HTTP Error ${d.code} loading key ${d.text}`),g,ye({url:l.url,data:void 0},d)))},onTimeout:(d,f,g)=>{this.resetLoader(f),a(this.createKeyLoadError(t,I.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(d,f,g)=>{this.resetLoader(f),a(this.createKeyLoadError(t,I.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};r.load(l,u,h)})}resetLoader(e){let{frag:t,keyInfo:i,url:s}=e,r=i.loader;t.keyLoader===r&&(t.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[s],r&&r.destroy()}};function Za(){return self.SourceBuffer||self.WebKitSourceBuffer}function el(){if(!Rt())return!1;let e=Za();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function Ed(){if(!el())return!1;let n=Rt();return typeof(n==null?void 0:n.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>n.isTypeSupported(ri(e,"video")))||["mp4a.40.2","fLaC"].some(e=>n.isTypeSupported(ri(e,"audio"))))}function vd(){var n;let e=Za();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}var Sd=250,Ui=2,Ad=.1,Ld=.05,rn=class{constructor(e,t,i,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=i,this.hls=s}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){let{config:i,media:s,stalled:r}=this;if(s===null)return;let{currentTime:o,seeking:a}=s,l=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),r!==null){if(this.stallReported){let y=self.performance.now()-r;L.warn(`playback not stuck anymore @${o}, after ${Math.round(y)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(s.paused&&!a||s.ended||s.playbackRate===0||!J.getBuffered(s).length){this.nudgeRetry=0;return}let u=J.bufferInfo(s,o,0),h=u.nextStart||0;if(a){let y=u.len>Ui,T=!h||t&&t.start<=o||h-o>Ui&&!this.fragmentTracker.getPartialFragment(o);if(y||T)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var d;if(!(u.len>0)&&!h)return;let T=Math.max(h,u.start||0)-o,v=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=(v==null||(d=v.details)==null?void 0:d.live)?v.details.targetduration*2:Ui,x=this.fragmentTracker.getPartialFragment(o);if(T>0&&(T<=S||x)){s.paused||this._trySkipBufferHole(x);return}}let f=self.performance.now();if(r===null){this.stalled=f;return}let g=f-r;if(!a&&g>=Sd&&(this._reportStall(u),!this.media))return;let m=J.bufferInfo(s,o,i.maxBufferHole);this._tryFixBufferStall(m,g)}_tryFixBufferStall(e,t){let{config:i,fragmentTracker:s,media:r}=this;if(r===null)return;let o=r.currentTime,a=s.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-o<i.maxBufferHole)&&t>i.highBufferWatchdogPeriod*1e3&&(L.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){let{hls:t,media:i,stallReported:s}=this;if(!s&&i){this.stallReported=!0;let r=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(e)})`);L.warn(r.message),t.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}}_trySkipBufferHole(e){let{config:t,hls:i,media:s}=this;if(s===null)return 0;let r=s.currentTime,o=J.bufferInfo(s,r,0),a=r<o.start?o.start:o.nextStart;if(a){let l=o.len<=t.maxBufferHole,c=o.len>0&&o.len<1&&s.readyState<3,u=a-r;if(u>0&&(l||c)){if(u>t.maxBufferHole){let{fragmentTracker:d}=this,f=!1;if(r===0){let g=d.getAppendedFrag(0,H.MAIN);g&&a<g.end&&(f=!0)}if(!f){let g=e||d.getAppendedFrag(r,H.MAIN);if(g){let m=!1,y=g.end;for(;y<a;){let T=d.getPartialFragment(y);if(T)y+=T.duration;else{m=!0;break}}if(m)return 0}}}let h=Math.max(a+Ld,r+Ad);if(L.warn(`skipping hole, adjusting currentTime from ${r} to ${h}`),this.moved=!0,this.stalled=null,s.currentTime=h,e&&!e.gap){let d=new Error(`fragment loaded with buffer holes, seeking from ${r} to ${h}`);i.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:e})}return h}}return 0}_tryNudgeBuffer(){let{config:e,hls:t,media:i,nudgeRetry:s}=this;if(i===null)return;let r=i.currentTime;if(this.nudgeRetry++,s<e.nudgeMaxRetry){let o=r+(s+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${r} to ${o}`);L.warn(a.message),i.currentTime=o,t.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{let o=new Error(`Playhead still not moving while enough data buffered @${r} after ${e.nudgeMaxRetry} nudges`);L.error(o.message),t.trigger(p.ERROR,{type:V.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}},bd=100,nn=class extends li{constructor(e,t,i){super(e,t,i,"[stream-controller]",H.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){let{hls:e}=this;e.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(p.MANIFEST_LOADING,this.onManifestLoading,this),e.on(p.MANIFEST_PARSED,this.onManifestParsed,this),e.on(p.LEVEL_LOADING,this.onLevelLoading,this),e.on(p.LEVEL_LOADED,this.onLevelLoaded,this),e.on(p.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(p.ERROR,this.onError,this),e.on(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(p.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(p.BUFFER_CREATED,this.onBufferCreated,this),e.on(p.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){let{hls:e}=this;e.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(p.MANIFEST_LOADING,this.onManifestLoading,this),e.off(p.MANIFEST_PARSED,this.onManifestParsed,this),e.off(p.LEVEL_LOADED,this.onLevelLoaded,this),e.off(p.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(p.ERROR,this.onError,this),e.off(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(p.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(p.BUFFER_CREATED,this.onBufferCreated,this),e.off(p.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){let{lastCurrentTime:t,hls:i}=this;if(this.stopLoad(),this.setInterval(bd),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this.loadedmetadata=!1}t>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=k.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=k.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case k.WAITING_LEVEL:{let{levels:t,level:i}=this,s=t==null?void 0:t[i],r=s==null?void 0:s.details;if(r&&(!r.live||this.levelLastLoaded===s)){if(this.waitForCdnTuneIn(r))break;this.state=k.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=k.IDLE;break}break}case k.FRAG_LOADING_WAITING_RETRY:{var e;let t=self.performance.now(),i=this.retryDate;if(!i||t>=i||(e=this.media)!=null&&e.seeking){let{levels:s,level:r}=this,o=s==null?void 0:s[r];this.resetStartWhenNotLoaded(o||null),this.state=k.IDLE}}break}this.state===k.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){let{hls:e,levelLastLoaded:t,levels:i,media:s}=this;if(t===null||!s&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;let r=e.nextLoadLevel;if(!(i!=null&&i[r]))return;let o=i[r],a=this.getMainFwdBufferInfo();if(a===null)return;let l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){let m={};this.altAudio&&(m.type="video"),this.hls.trigger(p.BUFFER_EOS,m),this.state=k.ENDED;return}e.loadLevel!==r&&e.manualLevel===-1&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=e.nextLoadLevel=r;let c=o.details;if(!c||this.state===k.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o){this.level=r,this.state=k.WAITING_LEVEL;return}let u=a.len,h=this.getMaxBufferLength(o.maxBitrate);if(u>=h)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);let d=this.backtrackFragment?this.backtrackFragment.start:a.end,f=this.getNextFragment(d,c);if(this.couldBacktrack&&!this.fragPrevious&&f&&f.sn!=="initSegment"&&this.fragmentTracker.getState(f)!==pe.OK){var g;let y=((g=this.backtrackFragment)!=null?g:f).sn-c.startSN,T=c.fragments[y-1];T&&f.cc===T.cc&&(f=T,this.fragmentTracker.removeFragment(T))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,d)){if(!f.gap){let y=this.audioOnly&&!this.altAudio?Q.AUDIO:Q.VIDEO,T=(y===Q.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;T&&this.afterBufferFlushed(T,y,H.MAIN)}f=this.getNextFragmentLoopLoading(f,c,a,H.MAIN,h)}f&&(f.initSegment&&!f.initSegment.data&&!this.bitrateTest&&(f=f.initSegment),this.loadFragment(f,o,d))}loadFragment(e,t,i){let s=this.fragmentTracker.getState(e);this.fragCurrent=e,s===pe.NOT_LOADED||s===pe.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,i)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,H.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){let{levels:e,media:t}=this;if(t!=null&&t.readyState){let i,s=this.getAppendedFrag(t.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);let r=this.getLevelDetails();if(r!=null&&r.live){let a=this.getMainFwdBufferInfo();if(!a||a.len<r.targetduration*2)return}if(!t.paused&&e){let a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?i=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:i=0}else i=0;let o=this.getBufferedFrag(t.currentTime+i);if(o){let a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();let l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){let e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case k.KEY_LOADING:case k.FRAG_LOADING:case k.FRAG_LOADING_WAITING_RETRY:case k.PARSING:case k.PARSED:this.state=k.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);let i=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new rn(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){let{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){let e=this.media,t=e?e.currentTime:null;M(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);let i=this.getMainFwdBufferInfo();if(i===null||i.len===0){this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(p.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let i=!1,s=!1;t.levels.forEach(r=>{let o=r.audioCodec;o&&(i=i||o.indexOf("mp4a.40.2")!==-1,s=s||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=i&&s&&!vd(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){let{levels:i}=this;if(!i||this.state!==k.IDLE)return;let s=i[t.level];(!s.details||s.details.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(s.details))&&(this.state=k.WAITING_LEVEL)}onLevelLoaded(e,t){var i;let{levels:s}=this,r=t.level,o=t.details,a=o.totalduration;if(!s){this.warn(`Levels were reset while loading level ${r}`);return}this.log(`Level ${r} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);let l=s[r],c=this.fragCurrent;c&&(this.state===k.FRAG_LOADING||this.state===k.FRAG_LOADING_WAITING_RETRY)&&c.level!==t.level&&c.loader&&this.abortCurrentFrag();let u=0;if(o.live||(i=l.details)!=null&&i.live){var h;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,l.details,(h=this.levelLastLoaded)==null?void 0:h.details)}if(l.details=o,this.levelLastLoaded=l,this.hls.trigger(p.LEVEL_UPDATED,{details:o,level:r}),this.state===k.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=k.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick()}_handleFragmentLoadProgress(e){var t;let{frag:i,part:s,payload:r}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}let a=o[i.level],l=a.details;if(!l){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}let c=a.videoCodec,u=l.PTSKnown||!l.live,h=(t=i.initSegment)==null?void 0:t.data,d=this._getAudioCodec(a),f=this.transmuxer=this.transmuxer||new ns(this.hls,H.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=s?s.index:-1,m=g!==-1,y=new oi(i.level,i.sn,i.stats.chunkCount,r.byteLength,g,m),T=this.initPTS[i.cc];f.push(r,h,d,c,i,s,l.totalduration,u,y,T)}onAudioTrackSwitching(e,t){let i=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;let o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();let r=this.hls;i&&(r.trigger(p.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),r.trigger(p.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){let i=t.id,s=!!this.hls.audioTracks[i].url;if(s){let r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=s,this.tick()}onBufferCreated(e,t){let i=t.tracks,s,r,o=!1;for(let a in i){let l=i[a];if(l.id==="main"){if(r=a,s=l,a==="video"){let c=i[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&s?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){let{frag:i,part:s}=t;if(i&&i.type!==H.MAIN)return;if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${s?" p: "+s.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===k.PARSED&&(this.state=k.IDLE);return}let r=s?s.stats:i.stats;this.fragLastKbps=Math.round(8*r.total/(r.buffering.end-r.loading.first)),i.sn!=="initSegment"&&(this.fragPrevious=i),this.fragBufferedComplete(i,s)}onError(e,t){var i;if(t.fatal){this.state=k.ERROR;return}switch(t.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(H.MAIN,t);break;case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===k.WAITING_LEVEL&&((i=t.context)==null?void 0:i.type)===z.LEVEL&&(this.state=k.IDLE);break;case I.BUFFER_APPEND_ERROR:case I.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="main")return;if(t.details===I.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}checkBuffer(){let{media:e,gapController:t}=this;if(!(!e||!t||!e.readyState)){if(this.loadedmetadata||!J.getBuffered(e).length){let i=this.state!==k.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,i)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=k.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Q.AUDIO||this.audioOnly&&!this.altAudio){let i=(t===Q.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,t,H.MAIN),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){let{media:e}=this;if(!e)return;let t=e.currentTime,i=this.startPosition;if(i>=0&&t<i){if(e.seeking){this.log(`could not seek to ${i}, already seeking at ${t}`);return}let s=J.getBuffered(e),o=(s.length?s.start(0):0)-i;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),i+=o,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${t}`),e.currentTime=i}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(i=>{let{hls:s}=this;if(!i||this.fragContextChanged(e))return;t.fragmentError=0,this.state=k.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;let r=e.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),s.trigger(p.FRAG_LOADED,i),e.bitrateTest=!1})}_handleTransmuxComplete(e){var t;let i="main",{hls:s}=this,{remuxResult:r,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}let{frag:l,part:c,level:u}=a,{video:h,text:d,id3:f,initSegment:g}=r,{details:m}=u,y=this.altAudio?void 0:r.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=k.PARSING,g){if(g!=null&&g.tracks){let E=l.initSegment||l;this._bufferInitSegment(u,g.tracks,E,o),s.trigger(p.FRAG_PARSING_INIT_SEGMENT,{frag:E,id:i,tracks:g.tracks})}let T=g.initPTS,v=g.timescale;M(T)&&(this.initPTS[l.cc]={baseTime:T,timescale:v},s.trigger(p.INIT_PTS_FOUND,{frag:l,id:i,initPTS:T,timescale:v}))}if(h&&m&&l.sn!=="initSegment"){let T=m.fragments[l.sn-1-m.startSN],v=l.sn===m.startSN,E=!T||l.cc>T.cc;if(r.independent!==!1){let{startPTS:S,endPTS:x,startDTS:A,endDTS:b}=h;if(c)c.elementaryStreams[h.type]={startPTS:S,endPTS:x,startDTS:A,endDTS:b};else if(h.firstKeyFrame&&h.independent&&o.id===1&&!E&&(this.couldBacktrack=!0),h.dropped&&h.independent){let C=this.getMainFwdBufferInfo(),_=(C?C.end:this.getLoadPosition())+this.config.maxBufferHole,D=h.firstKeyFramePTS?h.firstKeyFramePTS:S;if(!v&&_<D-this.config.maxBufferHole&&!E){this.backtrack(l);return}else E&&(l.gap=!0);l.setElementaryStreamInfo(h.type,l.start,x,l.start,b,!0)}else v&&S>Ui&&(l.gap=!0);l.setElementaryStreamInfo(h.type,S,x,A,b),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(h,l,c,o,v||E)}else if(v||E)l.gap=!0;else{this.backtrack(l);return}}if(y){let{startPTS:T,endPTS:v,startDTS:E,endDTS:S}=y;c&&(c.elementaryStreams[Q.AUDIO]={startPTS:T,endPTS:v,startDTS:E,endDTS:S}),l.setElementaryStreamInfo(Q.AUDIO,T,v,E,S),this.bufferFragmentData(y,l,c,o)}if(m&&f!=null&&(t=f.samples)!=null&&t.length){let T={id:i,frag:l,details:m,samples:f.samples};s.trigger(p.FRAG_PARSING_METADATA,T)}if(m&&d){let T={id:i,frag:l,details:m,samples:d.samples};s.trigger(p.FRAG_PARSING_USERDATA,T)}}_bufferInitSegment(e,t,i,s){if(this.state!==k.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;let{audio:r,video:o,audiovideo:a}=t;if(r){let l=e.audioCodec,c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");let u=r.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&r.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),r.levelCodec=l,r.id="main",this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${r.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(p.BUFFER_CODECS,t),Object.keys(t).forEach(l=>{let u=t[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(p.BUFFER_APPENDING,{type:l,data:u,frag:i,part:null,chunkMeta:s,parent:i.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,H.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=k.IDLE}checkFragmentChanged(){let e=this.media,t=null;if(e&&e.readyState>1&&e.seeking===!1){let i=e.currentTime;if(J.isBuffered(e,i)?t=this.getAppendedFrag(i):J.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;let s=this.fragPlaying,r=t.level;(!s||t.sn!==s.sn||s.level!==r)&&(this.fragPlaying=t,this.hls.trigger(p.FRAG_CHANGED,{frag:t}),(!s||s.level!==r)&&this.hls.trigger(p.LEVEL_SWITCHED,{level:r}))}}}get nextLevel(){let e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){let e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){let e=this.media;if(e){let t=e.currentTime,i=this.currentFrag;if(i&&M(t)&&M(i.programDateTime)){let s=i.programDateTime+(t-i.start)*1e3;return new Date(s)}}return null}get currentLevel(){let e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){let e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}},$e=class{static get version(){return"1.5.13"}static isMSESupported(){return el()}static isSupported(){return Ed()}static getMediaSource(){return Rt()}static get Events(){return p}static get ErrorTypes(){return V}static get ErrorDetails(){return I}static get DefaultConfig(){return $e.defaultConfig?$e.defaultConfig:Ja}static set DefaultConfig(e){$e.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new gn,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,nc(e.debug||!1,"Hls instance");let t=this.config=Td($e.DefaultConfig,e);this.userConfig=e,t.progressive&&xd(t);let{abrController:i,bufferController:s,capLevelController:r,errorController:o,fpsController:a}=t,l=new o(this),c=this.abrController=new i(this),u=this.bufferController=new s(this),h=this.capLevelController=new r(this),d=new a(this),f=new sr(this),g=new or(this),m=t.contentSteeringController,y=m?new m(this):null,T=this.levelController=new tn(this,y),v=new mr(this),E=new sn(this.config),S=this.streamController=new nn(this,v,E);h.setStreamController(S),d.setStreamController(S);let x=[f,T,S];y&&x.splice(1,0,y),this.networkControllers=x;let A=[c,u,h,d,g,v];this.audioTrackController=this.createController(t.audioTrackController,x);let b=t.audioStreamController;b&&x.push(new b(this,v,E)),this.subtitleTrackController=this.createController(t.subtitleTrackController,x);let C=t.subtitleStreamController;C&&x.push(new C(this,v,E)),this.createController(t.timelineController,A),E.emeController=this.emeController=this.createController(t.emeController,A),this.cmcdController=this.createController(t.cmcdController,A),this.latencyController=this.createController(ar,A),this.coreComponents=A,x.push(l);let _=l.onErrorOut;typeof _=="function"&&this.on(p.ERROR,_,l)}createController(e,t){if(e){let i=new e(this);return t&&t.push(i),i}return null}on(e,t,i=this){this._emitter.on(e,t,i)}once(e,t,i=this){this._emitter.once(e,t,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,i=this,s){this._emitter.off(e,t,i,s)}listeners(e){return this._emitter.listeners(e)}emit(e,t,i){return this._emitter.emit(e,t,i)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){if(L.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;let s=e===p.ERROR;this.trigger(p.ERROR,{type:V.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:s,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){L.log("destroy"),this.trigger(p.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;let e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){L.log("attachMedia"),this._media=e,this.trigger(p.MEDIA_ATTACHING,{media:e})}detachMedia(){L.log("detachMedia"),this.trigger(p.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();let t=this.media,i=this.url,s=this.url=on.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,L.log(`loadSource:${s}`),t&&i&&(i!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(p.MANIFEST_LOADING,{url:e})}startLoad(e=-1){L.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(t=>{t.startLoad(e)})}stopLoad(){L.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){L.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){L.log("recoverMediaError");let e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){let e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){L.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){L.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){L.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){L.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){let e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){L.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){let t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){let{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){let{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(L.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){tu(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){let{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;let i=e.length;for(let s=0;s<i;s++)if(e[s].maxBitrate>=t)return s;return 0}get maxAutoLevel(){let{levels:e,autoLevelCapping:t,maxHdcpLevel:i}=this,s;if(t===-1&&e!=null&&e.length?s=e.length-1:s=t,i)for(let r=s;r--;){let o=e[r].attrs["HDCP-LEVEL"];if(o&&o<=i)return r}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return(t=this.audioTrackController)==null?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return(t=this.subtitleTrackController)==null||t.setSubtitleOption(e),null}get allAudioTracks(){let e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){let e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){let e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){let t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){let e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){let e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){let e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){let t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){let e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){let t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}};$e.defaultConfig=void 0;var Rd=/^(.*\.m3u8)/,Id=/#t=(\d+)(?:,(\d+))?/;function il(n){let e=n.querySelector("source");if(!e)return null;let t=e.src;return{sourceElement:e,src:t,linkMatch:t.match(Rd),timestampMatch:t.match(Id)}}function sl(n){n.querySelectorAll("video").forEach(e=>{let t=il(e);!t||!t.linkMatch||(tl(e,t.timestampMatch),e.addEventListener("error",()=>{console.log(`[cyu-tool-kit] Error occurred in video: ${e.src}. Retrying...`),tl(e,t.timestampMatch)}))})}function tl(n,e){let t=il(n);if(!t)return;let i=0,s=null;if(e&&(i=Number(e[1]),e[2]&&(s=Number(e[2])),n.addEventListener("loadedmetadata",function(){n.currentTime=i}),n.addEventListener("timeupdate",function(){s!==null&&n.currentTime>=s&&n.pause()})),$e.isSupported()){let r=new $e;r.loadSource(t.src),r.attachMedia(n)}}var fs=class extends Re.Plugin{constructor(){super(...arguments);this.settings=_s;this.eventsRegistered=!this.settings.setup_enable_hover_sider;this.toggleMode=0;this.audioCache=new Map;this.registerEvents=async()=>{this.renderClickCopyBlock(),this.renderGallerys(),this.registerMarkdownPostProcessor((t,i)=>{!(0,Re.parseFrontMatterEntry)(i.frontmatter,"ignore-modify-external-image")&&this.altExternalImageTags(t),this.settings.enable_parse_m3u8&&sl(t),this.setupSpeakerClickEvent(t)}),this.autoPinned()};this.renderClickCopyBlock=()=>{this.registerMarkdownPostProcessor((t,i)=>{i.addChild(new Xt(this.settings,t))})};this.toggleLeftSidebar=()=>{this.app.workspace.leftSplit.collapsed&&this.app.workspace.leftSplit.toggle()};this.toggleMiddleSidebar=()=>{window.setTimeout(()=>{this.app.workspace.leftSplit.collapsed||this.app.workspace.leftSplit.toggle(),this.app.workspace.rightSplit.collapsed||this.app.workspace.rightSplit.toggle()},200)};this.toggleRightSidebar=()=>{this.app.workspace.rightSplit.collapsed&&this.app.workspace.rightSplit.toggle()}}async onload(){await this.loadSettings(),this.addSettingTab(new Ei(this.app,this)),this.app.workspace.onLayoutReady(()=>{this.leftRibbon=document.querySelector(".side-dock-settings"),this.rightRibbon=document.querySelector(".workspace-ribbon.side-dock-ribbon.mod-right"),this.middleArea=document.querySelector(".mod-root"),this.settings.setup_enable_hover_sider&&this.hoverToggleSidebars(),this.registerCommands()}),this.registerEvents()}createWaveAnimation(){let t=document.createElement("style");t.type="text/css",t.innerHTML=`
		  .wave-svg {
			pointer-events: none;
			position: fixed;
			left: 0;
			bottom: 0;
			width: 100vw;
			height: 88px;
			z-index: 1;
		  }
		  .wave-main > use {
			animation: wave-move 12s linear infinite;
		  }
		  .wave-main > use:nth-child(1) {
			animation-delay: -2s;
		  }
		  .wave-main > use:nth-child(2) {
			animation-delay: -2s;
			animation-duration: 5s;
		  }
		  .wave-main > use:nth-child(3) {
			animation-delay: -4s;
			animation-duration: 3s;
		  }
		  @keyframes wave-move {
			0% { transform: translate(-90px, 0); }
			100% { transform: translate(85px, 0); }
		  }
		`,document.head.appendChild(t);let i=`
		  <svg class="wave-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
			   viewBox="0 24 150 28" preserveAspectRatio="none">
			<defs>
			  <path id="wave-path" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
			</defs>
			<g class="wave-main">
			  <use xlink:href="#wave-path" x="50" y="0" fill="rgba(224,233,239,.5)" />
			  <use xlink:href="#wave-path" x="50" y="3" fill="rgba(224,233,239,.5)" />
			  <use xlink:href="#wave-path" x="50" y="6" fill="rgba(224,233,239,.5)" />
			</g>
		  </svg>
		`,o=new DOMParser().parseFromString(i,"image/svg+xml").querySelector("svg");o&&document.body.appendChild(o)}renderGallerys(){this.registerMarkdownPostProcessor((t,i)=>{let s=this.app.workspace.getActiveViewOfType(Re.MarkdownView),r=i.sourcePath===this.settings.folder_color_gallery,o=i.sourcePath===this.settings.folder_icon_gallery;s&&r&&i.addChild(new Qt(this.settings,t)),s&&o&&i.addChild(new Jt(this.settings,t))})}autoPinned(){if(!this.settings.enable_auto_pin)return;this.app.workspace.getLeavesOfType("markdown").forEach(s=>{s.getViewState().pinned||s.setPinned(!0)})}setupSpeakerClickEvent(t){let i=t.querySelectorAll("[data-speaker]"),s="https://tts-proxy.cyuhaonan.workers.dev/?url=",r=!1;i.forEach(async o=>{let a=o.getAttribute("data-speaker");if(!a)return;let l=document.createElement("a");l.href="javascript:void(0)",l.textContent="\u{1F50A}",l.style.marginLeft="4px",l.style.textDecoration="none",l.style.cursor="pointer";let c=`https://translate.google.com/translate_tts?ie=UTF-8&client=gtx&q=${encodeURIComponent(a)}&tl=en`,u=s+encodeURIComponent(c);try{let h=await fetch(u);if(!h.ok)throw new Error(`\u8BF7\u6C42\u5931\u8D25: ${h.statusText}`);let d=await h.blob(),f=URL.createObjectURL(d),g=new Audio(f);this.audioCache.set(a,g),l.addEventListener("mouseenter",()=>{if(r)return;r=!0;let m=this.audioCache.get(a);m&&(m.currentTime=0,m.volume=1,m.play().catch(y=>{console.warn(`\u97F3\u9891\u64AD\u653E\u5931\u8D25\uFF1A${y.message}`),new Re.Notice(`\u97F3\u9891\u64AD\u653E\u5931\u8D25\uFF1A${y.message}`),r=!1}),m.onended=()=>{r=!1})})}catch(h){console.warn(`\u97F3\u9891\u9884\u52A0\u8F7D\u5931\u8D25: ${h.message}`),new Re.Notice(`\u97F3\u9891\u9884\u52A0\u8F7D\u5931\u8D25: ${h.message}`)}o.insertAdjacentElement("afterend",l)})}altExternalImageTags(t){var s;let i=t.findAll("img[referrerpolicy]");for(let r of i){if(r.classList.contains("banner-image")||r.parentNode instanceof HTMLSpanElement)return;let o=document.createElement("span"),a=r.getAttribute("src"),l=r.alt;a&&o.setAttribute("src",a),l&&o.setAttribute("alt",l.split("|")[1]||l),o.setAttribute("id","external-link-image"),o.classList.add("image-embed"),(s=r.parentNode)==null||s.insertBefore(o,r),o.appendChild(r)}}removeIframeScrollbars(t){t.querySelectorAll("iframe").forEach(s=>{s.setAttribute("scrolling","no")})}sortHeadings(){let t=this.app.vault,i=this.app.workspace.getActiveFile();if(i)return t.process(i,s=>{let r=0,o=0,a=["I","II","III","IV","V","VI","VII","VIII","IX","X"],l=Array.from({length:20},(A,b)=>`${b+1}.`),c=Array.from({length:20},(A,b)=>`${b+1}`),u=["\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469"],h=new Array(10).fill(0),d=new Array(10).fill(0),f=-1,g=-1,m=!1,y=A=>{let b=/(?:I|II|III|IV|V|VI|VII|VIII|IX|X)/g,C=/[]/g,_=/[] /g;return A.replace(/^(#) .*?/g,"$1").replace(/^(#|##|###) (\[\[.*?\|)\d{1,2}\.?\d?\.?\d?\s+/u,"$1 $2").replace(/^(#|##|###) (\[\[.*?\])\d{1,2}\.?\d?\.?\d?\s+/u,"$1 $2").replace(/^(#|##|###) (\[)\d{1,2}\.?\d?\.?\d?\s+/u,"$1 $2").replace(/^(#|##|###) \d{1,2}\.?\d?\.?\d?\s+/u,"$1 ").replace(/^(#|##|###) \d{1,2}\.?\d?\.?\d?\s+/u,"$1 ").replace(b,"").replace(_,"").replace(C,"")},T=(A,b)=>b.replace(A,(C,_,D)=>`# ${_||""}${a[r++]}\u3001${D}`),v=(A,b)=>b.replace(A,(C,_,D)=>`## ${_||""}${l[o++]} ${D}`),E=(A,b,C,_)=>b.replace(A,(D,w,B)=>`### ${w||""}${_===!0?`${u[h[f]++]} ${B}`:`${C}.${c[h[f]++]} ${B}`}`),S=s.split(`
`),x=!1;for(let A=0;A<S.length;A++){if(S[A],/^```/.test(S[A])){m=!m;continue}if(!m){if(S[A]=y(S[A]),/^# (\[\[.*?\|)?(.*?)]?$/.test(S[A])){x=/[@]/.test(S[A]),g=r,o=0,S[A]=T(/^# (?!\[\[)(\[)?(.*?)]?$/,S[A]),S[A]=T(/^# (\[\[)([^\|]+)$/,S[A]),S[A]=T(/^# (\[\[.*?\|)(.*?)?$/,S[A]);continue}if(/^## /.test(S[A])&&o<20){if(x=/[@]/.test(S[A]),x)continue;f=o,h[f]=0,S[A]=v(/^## (?!\[\[)(\[)?(.*?)]?$/,S[A]),S[A]=v(/^## (\[\[)([^\|]+)$/,S[A]),S[A]=v(/^## (\[\[.*?\|)(.*?)?$/,S[A]);continue}if(/^### /.test(S[A])&&f!==-1){if(/[@]/.test(S[A]))continue;h[f]<10&&(S[A]=E(/^### (?!\[\[)(\[)?(.*?)]?$/,S[A],o,x),S[A]=E(/^### (\[\[)([^\|]+)$/,S[A],o,x),S[A]=E(/^### (\[\[.*?\|)(.*?)?$/,S[A],o,x))}}}return S.join(`
`)})}onunload(){}hoverToggleSidebars(){this.leftRibbon&&this.middleArea&&this.rightRibbon&&(this.leftRibbon.addEventListener("mouseenter",this.toggleLeftSidebar),this.middleArea.addEventListener("mouseenter",this.toggleMiddleSidebar),this.rightRibbon.addEventListener("mouseenter",this.toggleRightSidebar))}clickToggleSidebars(){this.leftRibbon&&this.middleArea&&this.rightRibbon&&(this.leftRibbon.addEventListener("click",this.toggleLeftSidebar),this.middleArea.addEventListener("click",this.toggleMiddleSidebar),this.rightRibbon.addEventListener("click",this.toggleRightSidebar))}removeHoverToggleSidebars(){this.leftRibbon&&this.middleArea&&this.rightRibbon&&(this.leftRibbon.removeEventListener("mouseenter",this.toggleLeftSidebar),this.middleArea.removeEventListener("mouseenter",this.toggleMiddleSidebar),this.rightRibbon.removeEventListener("mouseenter",this.toggleRightSidebar))}registerCommands(){this.addCommand({id:"hover-toggle-sidebars-toggle",name:"hover toggle sidebars toggle",hotkeys:[{modifiers:["Ctrl","Alt"],key:"W"}],callback:()=>{var i,s;(i=this.removeHoverToggleSidebars)==null||i.call(this),this.toggleMode===0?((s=this.hoverToggleSidebars)==null||s.call(this),new Re.Notice("\u5DF2\u6539\u4E3A \u201C\u60AC\u6D6E\u89E6\u53D1\u201D")):new Re.Notice("\u5DF2\u6539\u4E3A \u201C\u4E0D\u89E6\u53D1\u201D"),this.toggleMode=(this.toggleMode+1)%2}}),this.addCommand({id:"auto-pin-note",name:"auto pin all notes",callback:()=>{this.autoPinned()}}),this.addCommand({id:"add-word-comment-in-source",name:"\u6E90\u7801\u6A21\u5F0F\u4E0B\u6392\u5E8F\u5217\u8868",hotkeys:[{modifiers:["Ctrl","Shift"],key:"Q"}],editorCallback:(i,s)=>{this.sortHeadings()}}),this.addCommand({id:"open-specific-note",name:"\u6253\u5F00\u4E3B\u9875\u7B14\u8BB0",hotkeys:[{modifiers:["Alt"],key:"`"}],callback:async()=>{t("Kanban/Home/Home.kanban.md")}});let t=async i=>{let s=this.app.vault.getAbstractFileByPath(i);if(!(s instanceof Re.TFile)){console.warn("\u672A\u627E\u5230\u6709\u6548\u7684 Markdown \u6587\u4EF6:",i);return}let r=s,o=this.app.workspace.getLeaf("tab");await o.openFile(r,{active:!0}),window.setTimeout(()=>{this.app.workspace.setActiveLeaf(o,{focus:!0})},0),o.getViewState().pinned||o.setPinned(!0)}}async loadSettings(){this.settings=Object.assign({},_s,await this.loadData())}async saveSettings(){this.saveData(this.settings)}};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzL3NldHRpbmdzVGFiLnRzIiwgInNyYy9zZXR0aW5ncy9zdWdnZXN0ZXJzL0ZvbGRlclN1Z2dlc3Rlci50cyIsICJzcmMvc2V0dGluZ3Mvc3VnZ2VzdGVycy9zdWdnZXN0LnRzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZW51bXMuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2luc3RhbmNlT2YuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvYXBwbHlTdHlsZXMuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWF0aC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3VzZXJBZ2VudC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pc0xheW91dFZpZXdwb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRMYXlvdXRSZWN0LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2NvbnRhaW5zLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNUYWJsZUVsZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRFbGVtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFBhcmVudE5vZGUuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvd2l0aGluLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VQYWRkaW5nT2JqZWN0LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2Fycm93LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0VmFyaWF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRPcHBvc2l0ZVBsYWNlbWVudC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvd1Njcm9sbC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFZpZXdwb3J0UmVjdC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXREb2N1bWVudFJlY3QuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNTY3JvbGxQYXJlbnQuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0U2Nyb2xsUGFyZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2xpc3RTY3JvbGxQYXJlbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvcmVjdFRvQ2xpZW50UmVjdC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRDbGlwcGluZ1JlY3QuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9jb21wdXRlT2Zmc2V0cy5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZUF1dG9QbGFjZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZmxpcC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9oaWRlLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL29mZnNldC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9wb3BwZXJPZmZzZXRzLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0QWx0QXhpcy5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9wcmV2ZW50T3ZlcmZsb3cuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0SFRNTEVsZW1lbnRTY3JvbGwuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZVNjcm9sbC5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRDb21wb3NpdGVSZWN0LmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvb3JkZXJNb2RpZmllcnMuanMiLCAibm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9kZWJvdW5jZS5qcyIsICJub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlQnlOYW1lLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvY3JlYXRlUG9wcGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvcG9wcGVyLmpzIiwgInNyYy9zZXR0aW5ncy9zdWdnZXN0ZXJzL0ZpbGVTdWdnZXN0ZXIudHMiLCAic3JjL3V0aWxzL0xvZy50cyIsICJzcmMvdXRpbHMvRXJyb3IudHMiLCAic3JjL3V0aWxzL1V0aWxzLnRzIiwgInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGEudHMiLCAic3JjL2NvcmUvQ2xpY2tDb3B5QmxvY2sudHMiLCAic3JjL3V0aWxzL0hhbmRsZUNvcHkudHMiLCAic3JjL2NvcmUvQ29sb3JHYWxsZXJ5LnRzIiwgInNyYy9jb3JlL0ljb25HYWxsZXJ5LnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvcG9seWZpbGxzL251bWJlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2V2ZW50cy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2Vycm9ycy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2xvZ2dlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2F0dHItbGlzdC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2xvYWRlci9kYXRlLXJhbmdlLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvbG9hZGVyL2xvYWQtc3RhdHMudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIvZnJhZ21lbnQudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIvbGV2ZWwtZGV0YWlscy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL251bWVyaWMtZW5jb2RpbmctdXRpbHMudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9rZXlzeXN0ZW0tdXRpbC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2dsb2JhbC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL21lZGlha2V5cy1oZWxwZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy90eXBlZC1hcnJheS50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L2lkMy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2hleC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL21wNC10b29scy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2xvYWRlci9sZXZlbC1rZXkudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy92YXJpYWJsZS1zdWJzdGl0dXRpb24udHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9jb2RlY3MudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIvbTN1OC1wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy90eXBlcy9sb2FkZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIvcGxheWxpc3QtbG9hZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvdGV4dHRyYWNrLXV0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdHlwZXMvZGVtdXhlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvaWQzLXRyYWNrLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2xhdGVuY3ktY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3R5cGVzL2xldmVsLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvbGV2ZWwtaGVscGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvZXJyb3ItaGVscGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtZmluZGVycy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvZXJyb3ItY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvYmFzZS1wbGF5bGlzdC1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvZXdtYS50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2V3bWEtYmFuZHdpZHRoLWVzdGltYXRvci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL21lZGlhY2FwYWJpbGl0aWVzLWhlbHBlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2hkci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL3JlbmRpdGlvbi1oZWxwZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2Fici1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdGFzay1sb29wLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY29udHJvbGxlci9mcmFnbWVudC10cmFja2VyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3R5cGVzL3RyYW5zbXV4ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9kaXNjb250aW51aXRpZXMudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY3J5cHQvYWVzLWNyeXB0by50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NyeXB0L2Zhc3QtYWVzLWtleS50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NyeXB0L2Flcy1kZWNyeXB0b3IudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jcnlwdC9kZWNyeXB0ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy90aW1lLXJhbmdlcy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvYmFzZS1zdHJlYW0tY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L2NodW5rLWNhY2hlLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvaW5qZWN0LXdvcmtlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L2R1bW15LWRlbXV4ZWQtdHJhY2sudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC9hdWRpby9iYXNlLWF1ZGlvLWRlbXV4ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC9hdWRpby9hZHRzLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvYXVkaW8vbXBlZ2F1ZGlvLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvYXVkaW8vYWFjZGVtdXhlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L21wNGRlbXV4ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC9hdWRpby9kb2xieS50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L2F1ZGlvL2FjMy1kZW11eGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvdmlkZW8vYmFzZS12aWRlby1wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC92aWRlby9leHAtZ29sb21iLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvdmlkZW8vYXZjLXZpZGVvLXBhcnNlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L3NhbXBsZS1hZXMudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC90c2RlbXV4ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9kZW11eC9hdWRpby9tcDNkZW11eGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvcmVtdXgvYWFjLWhlbHBlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy90aW1lc2NhbGUtY29udmVyc2lvbi50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3JlbXV4L21wNC1yZW11eGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2RlbXV4L3RyYW5zbXV4ZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvZGVtdXgvdHJhbnNtdXhlci1pbnRlcmZhY2UudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9tZWRpYS1vcHRpb24tYXR0cmlidXRlcy50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXN0cmVhbS1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS10cmFjay1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY29udHJvbGxlci9idWZmZXItb3BlcmF0aW9uLXF1ZXVlLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY29udHJvbGxlci9idWZmZXItY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2NlYS02MDgtcGFyc2VyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMvb3V0cHV0LWZpbHRlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL3Z0dGN1ZS50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL3Z0dHBhcnNlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL3dlYnZ0dC1wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy91dGlscy9pbXNjMS10dG1sLXBhcnNlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvY29udHJvbGxlci9lbWUtY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY3RhL0NtT2JqZWN0VHlwZS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY3RhL0NtU3RyZWFtaW5nRm9ybWF0LmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9jbWNkL0NtY2RIZWFkZXJGaWVsZC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC9DbWNkSGVhZGVyTWFwLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvU2ZJdGVtLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvU2ZUb2tlbi5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3V0aWxzL0RJQ1QuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC91dGlscy90aHJvd0Vycm9yLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvdXRpbHMvQkFSRV9JVEVNLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvdXRpbHMvQk9PTEVBTi5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3V0aWxzL0JZVEVTLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvdXRpbHMvREVDSU1BTC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3V0aWxzL0lOVEVHRVIuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC91dGlscy9pc0ludmFsaWRJbnQuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC91dGlscy9TVFJJTkdfUkVHRVguanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC91dGlscy9UT0tFTi5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3V0aWxzL0tFWS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVFcnJvci5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVCb29sZWFuLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC91dGlscy9iYXNlNjRlbmNvZGUuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9zZXJpYWxpemUvc2VyaWFsaXplQnl0ZVNlcXVlbmNlLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvc2VyaWFsaXplL3NlcmlhbGl6ZUludGVnZXIuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9zZXJpYWxpemUvc2VyaWFsaXplRGF0ZS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvdXRpbHMvcm91bmRUb0V2ZW4uanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9zZXJpYWxpemUvc2VyaWFsaXplRGVjaW1hbC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3V0aWxzL1NUUklORy5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVTdHJpbmcuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L2N0YS91dGlscy9zeW1ib2xUb1N0ci5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVUb2tlbi5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVCYXJlSXRlbS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3Qvc3RydWN0dXJlZGZpZWxkL3NlcmlhbGl6ZS9zZXJpYWxpemVLZXkuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9zZXJpYWxpemUvc2VyaWFsaXplUGFyYW1zLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvc2VyaWFsaXplL3NlcmlhbGl6ZUl0ZW0uanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9zZXJpYWxpemUvc2VyaWFsaXplSW5uZXJMaXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9zdHJ1Y3R1cmVkZmllbGQvc2VyaWFsaXplL3NlcmlhbGl6ZURpY3QuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L3N0cnVjdHVyZWRmaWVsZC9lbmNvZGVTZkRpY3QuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L2N0YS91dGlscy9pc1Rva2VuRmllbGQuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L2N0YS91dGlscy9pc1ZhbGlkLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC91dGlscy91cmxUb1JlbGF0aXZlUGF0aC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvdXRpbHMvdXVpZC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC9DbWNkRm9ybWF0dGVycy5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC91dGlscy9wcm9jZXNzQ21jZC5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC9lbmNvZGVDbWNkLmpzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9ub2RlX21vZHVsZXMvQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvZGlzdC9jbWNkL3RvQ21jZEhlYWRlcnMuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L2NtY2QvYXBwZW5kQ21jZEhlYWRlcnMuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L25vZGVfbW9kdWxlcy9Ac3Z0YS9jb21tb24tbWVkaWEtbGlicmFyeS9kaXN0L2NtY2QvQ01DRF9QQVJBTS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC90b0NtY2RRdWVyeS5qcyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvbm9kZV9tb2R1bGVzL0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2Rpc3QvY21jZC9hcHBlbmRDbWNkUXVlcnkuanMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2NtY2QtY29udHJvbGxlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvY29udGVudC1zdGVlcmluZy1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvdXRpbHMveGhyLWxvYWRlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2ZldGNoLWxvYWRlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL3V0aWxzL2N1ZXMudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb25maWcudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL2xldmVsLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9sb2FkZXIva2V5LWxvYWRlci50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2lzLXN1cHBvcnRlZC50cyIsICJub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3Qvc3JjL2NvbnRyb2xsZXIvZ2FwLWNvbnRyb2xsZXIudHMiLCAibm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L3NyYy9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9zcmMvaGxzLnRzIiwgInNyYy9jb3JlL3BhcnNlVmlkZW9TcmMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xyXG5pbXBvcnQge1xyXG5cdEVkaXRvcixcclxuXHRNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0LFxyXG5cdE1hcmtkb3duVmlldyxcclxuXHROb3RpY2UsXHJcblx0UGx1Z2luLFxyXG5cdFRGaWxlLFxyXG5cdFdvcmtzcGFjZUxlYWYsXHJcblx0V29ya3NwYWNlUm9vdCxcclxuXHRXb3Jrc3BhY2VTaWRlZG9jayxcclxuXHRwYXJzZUZyb250TWF0dGVyRW50cnksXHJcblx0cGFyc2VGcm9udE1hdHRlclN0cmluZ0FycmF5LFxyXG59IGZyb20gJ29ic2lkaWFuJ1xyXG5pbXBvcnQgeyBDeXVUb29sa2l0U2V0dGluZ1RhYiB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3NUYWInXHJcbmltcG9ydCB7IEN5dVRvb2tpdFNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnc3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YSdcclxuaW1wb3J0IENsaWNrQ29weUJsb2NrIGZyb20gJy4vY29yZS9DbGlja0NvcHlCbG9jaydcclxuaW1wb3J0IHJlbmRlckNvbG9yR2FsbGVyeSBmcm9tICcuL2NvcmUvQ29sb3JHYWxsZXJ5J1xyXG5pbXBvcnQgcmVuZGVySWNvbkdhbGxlcnkgZnJvbSAnLi9jb3JlL0ljb25HYWxsZXJ5J1xyXG5pbXBvcnQgeyBwYXJzZU0zdThWaWRlbyB9IGZyb20gJy4vY29yZS9wYXJzZVZpZGVvU3JjJ1xyXG5pbXBvcnQgQXJ0R2FsbGVyeSBmcm9tICcuL2NvcmUvQXJ0R2FsbGVyeSdcclxuaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gJ3RpbWVycy9wcm9taXNlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN5dVRvb2xraXRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBDeXVUb29raXRTZXR0aW5ncyA9IERFRkFVTFRfU0VUVElOR1NcclxuXHRldmVudHNSZWdpc3RlcmVkOiBib29sZWFuID0gIXRoaXMuc2V0dGluZ3Muc2V0dXBfZW5hYmxlX2hvdmVyX3NpZGVyIC8vIFx1OEJCMFx1NUY1NVx1NEU4Qlx1NEVGNlx1NjYyRlx1NTQyNlx1NURGMlx1NkNFOFx1NTE4Q1xyXG5cdHRvZ2dsZU1vZGU6IG51bWJlciA9IDAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU3MkI2XHU2MDAxXHU0RTNBMFx1RkYwOGhvdmVyXHVGRjA5XHJcblx0bGVmdFJpYmJvbjogSFRNTEVsZW1lbnQgfCBudWxsXHJcblx0cmlnaHRSaWJib246IEhUTUxFbGVtZW50IHwgbnVsbFxyXG5cdG1pZGRsZUFyZWE6IEhUTUxFbGVtZW50IHwgbnVsbFxyXG5cclxuXHRhdWRpb0NhY2hlID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxBdWRpb0VsZW1lbnQ+KCkgLy8gXHU3NTI4XHU2NzY1XHU3RjEzXHU1QjU4XHU5N0YzXHU5ODkxXHU2NTg3XHU0RUY2XHJcblxyXG5cdC8vIHByaXZhdGUgbGVuaXM/OiBMZW5pc1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHQvLyBcdTUyQTBcdThGN0RcdThCQkVcdTdGNkVcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKClcclxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1OEJCRVx1N0Y2RVx1OTc2Mlx1Njc3RlxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDeXVUb29sa2l0U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpXHJcblxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmxlZnRSaWJib24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1kb2NrLXNldHRpbmdzJylcclxuXHRcdFx0dGhpcy5yaWdodFJpYmJvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0Jy53b3Jrc3BhY2UtcmliYm9uLnNpZGUtZG9jay1yaWJib24ubW9kLXJpZ2h0J1xyXG5cdFx0XHQpXHJcblx0XHRcdHRoaXMubWlkZGxlQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2Qtcm9vdCcpXHJcblxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zZXR1cF9lbmFibGVfaG92ZXJfc2lkZXIpIHRoaXMuaG92ZXJUb2dnbGVTaWRlYmFycygpXHJcblx0XHRcdC8vIGVsc2UgdGhpcy5jbGlja1RvZ2dsZVNpZGViYXJzKClcclxuXHJcblx0XHRcdC8vIFx1NkNFOFx1NTE4Q1x1NTQ3RFx1NEVFNFxyXG5cdFx0XHR0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKVxyXG5cdFx0fSlcclxuXHJcblx0XHQvLyBcdThGRDBcdTg4NENcdTU0MDRcdTc5Q0RcdTUyOUZcdTgwRkRcdTUxRkRcdTY1NzBcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudHMoKVxyXG5cclxuXHRcdC8qXHJcblx0XHRsZXQgdmVsb2NpdHkgPSAwIC8vIFx1OTAxRlx1NUVBNlxyXG5cdFx0bGV0IHRpY2tpbmcgPSBmYWxzZVxyXG5cclxuXHRcdC8vIFx1NTcyOFx1NTkxNlx1OTBFOFx1NUI5QVx1NEU0OXNtb290aFNjcm9sbFx1RkYwQ1x1Nzg2RVx1NEZERFx1NUI4M1x1ODBGRFx1OEJCRlx1OTVFRXZlbG9jaXR5XHU1NDhDdGlja2luZ1xyXG5cdFx0Y29uc3Qgc21vb3RoU2Nyb2xsID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoTWF0aC5hYnModmVsb2NpdHkpIDwgMC4xKSB7XHJcblx0XHRcdFx0dGlja2luZyA9IGZhbHNlXHJcblx0XHRcdFx0cmV0dXJuIC8vIFx1OTAxRlx1NUVBNlx1NTkyQVx1NUMwRlx1NTA1Q1x1NkI2Mlx1NkVEQVx1NTJBOFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBcdTY2RjRcdTdFQzZcdTgxN0JcdTc2ODRcdTZFREFcdTUyQThcclxuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEJ5KDAsIHZlbG9jaXR5KVxyXG5cclxuXHRcdFx0Ly8gXHU1MkEwXHU1RjNBXHU2MEVGXHU2MDI3XHU2NTQ4XHU2NzlDXHVGRjBDXHU0RjdGXHU1Rjk3XHU2QkNGXHU2QjIxXHU2NkY0XHU2NUIwXHU2NkY0XHU3RUM2XHU4MTdCXHJcblx0XHRcdHZlbG9jaXR5ICo9IDAuOTUgLy8gXHU1ODlFXHU1OTI3XHU2MEVGXHU2MDI3XHVGRjBDXHU5NjREXHU0RjRFXHU4ODcwXHU1MUNGXHU3Q0ZCXHU2NTcwXHJcblxyXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc21vb3RoU2Nyb2xsKSAvLyBcdTY2RjRcdTlBRDhcdTk4OTFcdTczODdcdThDMDNcdTc1MjhcdTUyQThcdTc1M0JcdTVFMjdcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTZDRThcdTUxOENcdTZFREFcdThGNkVcdTRFOEJcdTRFRjZcclxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChcclxuXHRcdFx0ZG9jdW1lbnQsXHJcblx0XHRcdCd3aGVlbCcsXHJcblx0XHRcdChldmVudCkgPT4ge1xyXG5cdFx0XHRcdGlmIChldmVudC5jdHJsS2V5KSByZXR1cm4gLy8gXHU5NjMyXHU2QjYyXHU3RjI5XHU2NTNFXHJcblxyXG5cdFx0XHRcdC8vIFx1ODlFNlx1NTNEMVx1Njc2MVx1NEVGNlx1NTQ4Q1x1NkVEQVx1NTJBOFx1OTAxRlx1NUVBNlx1NjZGNFx1NzA3NVx1NjU0RlxyXG5cdFx0XHRcdGNvbnN0IHNob3VsZFByZXZlbnREZWZhdWx0ID0gTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA+IDVcclxuXHJcblx0XHRcdFx0aWYgKHNob3VsZFByZXZlbnREZWZhdWx0KSB7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpIC8vIFx1Nzk4MVx1NkI2Mlx1OUVEOFx1OEJBNFx1NkVEQVx1NTJBOFxyXG5cclxuXHRcdFx0XHRcdC8vIFx1NTg5RVx1NTJBMFx1NjZGNFx1NUMwRlx1NzY4NFx1NkVEQVx1NTJBOFx1NkI2NVx1OTU3Rlx1RkYwQ1x1NTg5RVx1NTJBMFx1NUUyN1x1NjU3MFxyXG5cdFx0XHRcdFx0dmVsb2NpdHkgKz0gZXZlbnQuZGVsdGFZICogMC4wMiAvLyBcdTZCQ0ZcdTZCMjFcdTZFREFcdTUyQThcdTZCNjVcdTk1N0ZcdTY2RjRcdTVDMEZcdUZGMENcdTU4OUVcdTUyQTBcdTVFMjdcdTY1NzBcclxuXHJcblx0XHRcdFx0XHRpZiAoIXRpY2tpbmcpIHtcclxuXHRcdFx0XHRcdFx0dGlja2luZyA9IHRydWVcclxuXHRcdFx0XHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNtb290aFNjcm9sbCkgLy8gXHU1ODlFXHU1RjNBXHU1MkE4XHU3NTNCXHU1RTI3XHU5ODkxXHU3Mzg3XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IHBhc3NpdmU6IHRydWUgfVxyXG5cdFx0KVxyXG5cdFx0Ki9cclxuXHR9XHJcblxyXG5cdHJlZ2lzdGVyRXZlbnRzID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0Ly8gY2xpY2stY29weSBibG9ja1xyXG5cdFx0dGhpcy5yZW5kZXJDbGlja0NvcHlCbG9jaygpXHJcblxyXG5cdFx0Ly8gcmVuZGVyIHBhZ2VzXHJcblx0XHR0aGlzLnJlbmRlckdhbGxlcnlzKClcclxuXHRcdC8vIHRoaXMucmVuZGVyQXJ0R2FsbGVyeSgpXHJcblxyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3NvcihcclxuXHRcdFx0KGVsOiBIVE1MRWxlbWVudCwgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0KSA9PiB7XHJcblx0XHRcdFx0Ly8gQWRkIGEgbGF5ZXIgb2Ygb3V0ZXIgPHNwYW4+IGZvciBhIHNlcGFyYXRlIDxpbWc+IGZvciBhIG5ldHdvcmsgaW1hZ2VcclxuXHRcdFx0XHRjb25zdCBpc05lZWRVcGRhdGVFeHRlcm5hbEltYWdlVGFncyA9ICEocGFyc2VGcm9udE1hdHRlckVudHJ5KFxyXG5cdFx0XHRcdFx0Y3R4LmZyb250bWF0dGVyLFxyXG5cdFx0XHRcdFx0J2lnbm9yZS1tb2RpZnktZXh0ZXJuYWwtaW1hZ2UnXHJcblx0XHRcdFx0KSBhcyBib29sZWFuKVxyXG5cdFx0XHRcdC8vIG5ldyBOb3RpY2UoYCR7aXNOZWVkVXBkYXRlRXh0ZXJuYWxJbWFnZVRhZ3N9YClcclxuXHRcdFx0XHRpZiAoaXNOZWVkVXBkYXRlRXh0ZXJuYWxJbWFnZVRhZ3MpIHRoaXMuYWx0RXh0ZXJuYWxJbWFnZVRhZ3MoZWwpXHJcblxyXG5cdFx0XHRcdC8vIHBhcnNlIC5tM3U4IHRvIC5tcDRcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVfcGFyc2VfbTN1OCkgcGFyc2VNM3U4VmlkZW8oZWwpXHJcblxyXG5cdFx0XHRcdC8vIGNsaWNrIHRvIHByb251bmNpYXRpb25cclxuXHRcdFx0XHR0aGlzLnNldHVwU3BlYWtlckNsaWNrRXZlbnQoZWwpXHJcblxyXG5cdFx0XHRcdC8vIHJlbW92ZSB0aGUgaWZyYW1lIHNjcm9sbCBiYXJcclxuXHRcdFx0XHQvLyB0aGlzLnJlbW92ZUlmcmFtZVNjcm9sbGJhcnMoZWwpXHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdC8vIGF1dG8gcGluIG5vdGVzXHJcblx0XHR0aGlzLmF1dG9QaW5uZWQoKVxyXG5cclxuXHRcdC8vIHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdC8vIFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbignY2hhbmdlZCcsICgpID0+IHsgfSlcclxuXHRcdC8vIFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdhY3RpdmUtbGVhZi1jaGFuZ2UnLCAobGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwpID0+IHt9KVxyXG5cdFx0Ly8gKVxyXG5cclxuXHRcdC8vIFx1OEMwM1x1NzUyOFx1NTM3M1x1NTNFRlx1NjYzRVx1NzkzQVx1NkNFMlx1NkQ2QVx1NTJBOFx1NzUzQlxyXG5cdFx0Ly8gdGhpcy5jcmVhdGVXYXZlQW5pbWF0aW9uKClcclxuXHR9XHJcblxyXG5cdGNyZWF0ZVdhdmVBbmltYXRpb24oKTogdm9pZCB7XHJcblx0XHQvLyBcdTZDRThcdTUxNjUgQ1NTIFx1NjgzN1x1NUYwRlxyXG5cdFx0Y29uc3Qgc3R5bGU6IEhUTUxTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXHJcblx0XHRzdHlsZS50eXBlID0gJ3RleHQvY3NzJ1xyXG5cdFx0c3R5bGUuaW5uZXJIVE1MID0gYFxyXG5cdFx0ICAud2F2ZS1zdmcge1xyXG5cdFx0XHRwb2ludGVyLWV2ZW50czogbm9uZTtcclxuXHRcdFx0cG9zaXRpb246IGZpeGVkO1xyXG5cdFx0XHRsZWZ0OiAwO1xyXG5cdFx0XHRib3R0b206IDA7XHJcblx0XHRcdHdpZHRoOiAxMDB2dztcclxuXHRcdFx0aGVpZ2h0OiA4OHB4O1xyXG5cdFx0XHR6LWluZGV4OiAxO1xyXG5cdFx0ICB9XHJcblx0XHQgIC53YXZlLW1haW4gPiB1c2Uge1xyXG5cdFx0XHRhbmltYXRpb246IHdhdmUtbW92ZSAxMnMgbGluZWFyIGluZmluaXRlO1xyXG5cdFx0ICB9XHJcblx0XHQgIC53YXZlLW1haW4gPiB1c2U6bnRoLWNoaWxkKDEpIHtcclxuXHRcdFx0YW5pbWF0aW9uLWRlbGF5OiAtMnM7XHJcblx0XHQgIH1cclxuXHRcdCAgLndhdmUtbWFpbiA+IHVzZTpudGgtY2hpbGQoMikge1xyXG5cdFx0XHRhbmltYXRpb24tZGVsYXk6IC0ycztcclxuXHRcdFx0YW5pbWF0aW9uLWR1cmF0aW9uOiA1cztcclxuXHRcdCAgfVxyXG5cdFx0ICAud2F2ZS1tYWluID4gdXNlOm50aC1jaGlsZCgzKSB7XHJcblx0XHRcdGFuaW1hdGlvbi1kZWxheTogLTRzO1xyXG5cdFx0XHRhbmltYXRpb24tZHVyYXRpb246IDNzO1xyXG5cdFx0ICB9XHJcblx0XHQgIEBrZXlmcmFtZXMgd2F2ZS1tb3ZlIHtcclxuXHRcdFx0MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtOTBweCwgMCk7IH1cclxuXHRcdFx0MTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlKDg1cHgsIDApOyB9XHJcblx0XHQgIH1cclxuXHRcdGBcclxuXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpXHJcblxyXG5cdFx0Ly8gXHU1MjFCXHU1RUZBIFNWRyBcdTZDRTJcdTZENkFcclxuXHRcdGNvbnN0IHN2Z0hUTUw6IHN0cmluZyA9IGBcclxuXHRcdCAgPHN2ZyBjbGFzcz1cIndhdmUtc3ZnXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXHJcblx0XHRcdCAgIHZpZXdCb3g9XCIwIDI0IDE1MCAyOFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCI+XHJcblx0XHRcdDxkZWZzPlxyXG5cdFx0XHQgIDxwYXRoIGlkPVwid2F2ZS1wYXRoXCIgZD1cIk0tMTYwIDQ0YzMwIDAgNTgtMTggODgtMThzNTggMTggODggMTggNTgtMTggODgtMTggNTggMTggODggMTggdjQ0aC0zNTJ6XCI+PC9wYXRoPlxyXG5cdFx0XHQ8L2RlZnM+XHJcblx0XHRcdDxnIGNsYXNzPVwid2F2ZS1tYWluXCI+XHJcblx0XHRcdCAgPHVzZSB4bGluazpocmVmPVwiI3dhdmUtcGF0aFwiIHg9XCI1MFwiIHk9XCIwXCIgZmlsbD1cInJnYmEoMjI0LDIzMywyMzksLjUpXCIgLz5cclxuXHRcdFx0ICA8dXNlIHhsaW5rOmhyZWY9XCIjd2F2ZS1wYXRoXCIgeD1cIjUwXCIgeT1cIjNcIiBmaWxsPVwicmdiYSgyMjQsMjMzLDIzOSwuNSlcIiAvPlxyXG5cdFx0XHQgIDx1c2UgeGxpbms6aHJlZj1cIiN3YXZlLXBhdGhcIiB4PVwiNTBcIiB5PVwiNlwiIGZpbGw9XCJyZ2JhKDIyNCwyMzMsMjM5LC41KVwiIC8+XHJcblx0XHRcdDwvZz5cclxuXHRcdCAgPC9zdmc+XHJcblx0XHRgXHJcblx0XHRjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKClcclxuXHRcdGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnSFRNTCwgJ2ltYWdlL3N2Zyt4bWwnKVxyXG5cdFx0Y29uc3Qgc3ZnRWxlbWVudDogU1ZHU1ZHRWxlbWVudCB8IG51bGwgPSBkb2MucXVlcnlTZWxlY3Rvcignc3ZnJylcclxuXHJcblx0XHRpZiAoc3ZnRWxlbWVudCkge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN2Z0VsZW1lbnQpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBcdTZFMzJcdTY3RDNcdTcwQjlcdTUxRkJcdTU5MERcdTUyMzZcdTU3NTdcclxuXHRyZW5kZXJDbGlja0NvcHlCbG9jayA9ICgpID0+IHtcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoXHJcblx0XHRcdChlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkgPT4ge1xyXG5cdFx0XHRcdGN0eC5hZGRDaGlsZChuZXcgQ2xpY2tDb3B5QmxvY2sodGhpcy5zZXR0aW5ncywgZWwpKVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fVxyXG5cclxuXHQvLyBcdTZFMzJcdTY3RDNcdTgyN0FcdTY3MkZcdTc1M0JcdTVFQ0FcclxuXHQvLyByZW5kZXJBcnRHYWxsZXJ5ID0gYXN5bmMgKCkgPT4ge1xyXG5cdC8vIFx0bGV0IHByZUVsZU1hcCA9IG5ldyBNYXA8SFRNTERpdkVsZW1lbnQsIEhUTUxEaXZFbGVtZW50PigpXHJcblx0Ly8gXHRsZXQgaDJFbGVtTWFwID0gbmV3IE1hcDxIVE1MRGl2RWxlbWVudCwgSFRNTERpdkVsZW1lbnQ+KClcclxuXHJcblx0Ly8gXHRsZXQgdWxMaXN0QXJyOiBIVE1MRGl2RWxlbWVudFtdID0gW11cclxuXHQvLyBcdGxldCBwcmVFbGVBcnI6IEhUTUxEaXZFbGVtZW50W10gPSBbXVxyXG5cdC8vIFx0bGV0IGgyRWxlbUFycjogSFRNTERpdkVsZW1lbnRbXSA9IFtdXHJcblx0Ly8gXHRsZXQgY3VySDJFbGVtOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG5cdC8vIFx0bGV0IGluZGV4ID0gLTFcclxuXHQvLyBcdC8vIGxldCBpc1N0YXJ0ID0gdHJ1ZVxyXG5cclxuXHQvLyBcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoXHJcblx0Ly8gXHRcdChlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkgPT4ge1xyXG5cdC8vIFx0XHRcdGNvbnN0IGNzc2NsYXNzZXMgPSBwYXJzZUZyb250TWF0dGVyU3RyaW5nQXJyYXkoXHJcblx0Ly8gXHRcdFx0XHRjdHguZnJvbnRtYXR0ZXIsXHJcblx0Ly8gXHRcdFx0XHQnY3NzY2xhc3NlcycsXHJcblx0Ly8gXHRcdFx0XHR0cnVlXHJcblx0Ly8gXHRcdFx0KVxyXG5cdC8vIFx0XHRcdGNvbnN0IGlzQXJ0R2FsbGVyeSA9XHJcblx0Ly8gXHRcdFx0XHRBcnJheS5pc0FycmF5KGNzc2NsYXNzZXMpICYmIGNzc2NsYXNzZXMuaW5jbHVkZXMoJ3IzNC1wcm9maWxlJylcclxuXHQvLyBcdFx0XHRpZiAoIWlzQXJ0R2FsbGVyeSkgcmV0dXJuXHJcblxyXG5cdC8vIFx0XHRcdC8vIGlmICghaXNTdGFydCkgcmV0dXJuXHJcblxyXG5cdC8vIFx0XHRcdGlmIChcclxuXHQvLyBcdFx0XHRcdCFoMkVsZW1BcnIuaW5jbHVkZXMoZWwgYXMgSFRNTERpdkVsZW1lbnQpICYmXHJcblx0Ly8gXHRcdFx0XHRlbC5jbGFzc0xpc3QubGVuZ3RoID09IDEgJiZcclxuXHQvLyBcdFx0XHRcdGVsLmNsYXNzTGlzdC5jb250YWlucygnZWwtaDInKVxyXG5cdC8vIFx0XHRcdCkge1xyXG5cdC8vIFx0XHRcdFx0Y3VySDJFbGVtID0gZWwgYXMgSFRNTERpdkVsZW1lbnRcclxuXHQvLyBcdFx0XHR9XHJcblxyXG5cdC8vIFx0XHRcdC8vIFx1Nzg2RVx1NEZERCB1bExpc3REaXYgXHU0RTBEXHU5MUNEXHU1OTBEXHU2REZCXHU1MkEwXHJcblx0Ly8gXHRcdFx0aWYgKCF1bExpc3RBcnIuaW5jbHVkZXMoZWwgYXMgSFRNTERpdkVsZW1lbnQpICYmIGVsLmNsYXNzTGlzdC5jb250YWlucygnZWwtdWwnKSkge1xyXG5cdC8vIFx0XHRcdFx0aW5kZXgrK1xyXG5cdC8vIFx0XHRcdFx0dWxMaXN0QXJyLnB1c2goZWwgYXMgSFRNTERpdkVsZW1lbnQpXHJcblx0Ly8gXHRcdFx0XHRoMkVsZW1BcnIucHVzaChjdXJIMkVsZW0gYXMgSFRNTERpdkVsZW1lbnQpXHJcblx0Ly8gXHRcdFx0XHRoMkVsZW1NYXAuc2V0KHVsTGlzdEFycltpbmRleF0sIGgyRWxlbUFycltpbmRleF0pXHJcblx0Ly8gXHRcdFx0fVxyXG5cclxuXHQvLyBcdFx0XHRpZiAoXHJcblx0Ly8gXHRcdFx0XHQhcHJlRWxlQXJyLmluY2x1ZGVzKGVsIGFzIEhUTUxEaXZFbGVtZW50KSAmJlxyXG5cdC8vIFx0XHRcdFx0ZWwuY2xhc3NMaXN0Lmxlbmd0aCA9PSAxICYmXHJcblx0Ly8gXHRcdFx0XHRlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2VsLXByZScpXHJcblx0Ly8gXHRcdFx0KSB7XHJcblx0Ly8gXHRcdFx0XHRwcmVFbGVBcnIucHVzaChlbCBhcyBIVE1MRGl2RWxlbWVudClcclxuXHQvLyBcdFx0XHRcdHByZUVsZU1hcC5zZXQodWxMaXN0QXJyW2luZGV4XSwgcHJlRWxlQXJyW2luZGV4XSlcclxuXHQvLyBcdFx0XHR9XHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdClcclxuXHJcblx0Ly8gXHQvLyB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0Ly8gXHQvLyBcdGlzU3RhcnQgPSBmYWxzZVxyXG5cdC8vIFx0Ly8gfSwgNTAwMClcclxuXHJcblx0Ly8gXHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKFxyXG5cdC8vIFx0XHQoZWw6IEhUTUxFbGVtZW50LCBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpID0+IHtcclxuXHQvLyBcdFx0XHRpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnZWwtdWwnKSkgcmV0dXJuXHJcblxyXG5cdC8vIFx0XHRcdGNvbnN0IGNzc2NsYXNzZXMgPSBwYXJzZUZyb250TWF0dGVyU3RyaW5nQXJyYXkoXHJcblx0Ly8gXHRcdFx0XHRjdHguZnJvbnRtYXR0ZXIsXHJcblx0Ly8gXHRcdFx0XHQnY3NzY2xhc3NlcycsXHJcblx0Ly8gXHRcdFx0XHR0cnVlXHJcblx0Ly8gXHRcdFx0KVxyXG5cclxuXHQvLyBcdFx0XHRjb25zdCBpc0FydEdhbGxlcnkgPVxyXG5cdC8vIFx0XHRcdFx0QXJyYXkuaXNBcnJheShjc3NjbGFzc2VzKSAmJiBjc3NjbGFzc2VzLmluY2x1ZGVzKCdyMzQtcHJvZmlsZScpXHJcblxyXG5cdC8vIFx0XHRcdGlmICghaXNBcnRHYWxsZXJ5KSByZXR1cm5cclxuXHQvLyBcdFx0XHRjdHguYWRkQ2hpbGQoXHJcblx0Ly8gXHRcdFx0XHRuZXcgQXJ0R2FsbGVyeShcclxuXHQvLyBcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyxcclxuXHQvLyBcdFx0XHRcdFx0ZWwsXHJcblx0Ly8gXHRcdFx0XHRcdGgyRWxlbU1hcC5nZXQoZWwgYXMgSFRNTERpdkVsZW1lbnQpLFxyXG5cdC8vIFx0XHRcdFx0XHRwcmVFbGVNYXAuZ2V0KGVsIGFzIEhUTUxEaXZFbGVtZW50KVxyXG5cdC8vIFx0XHRcdFx0KVxyXG5cdC8vIFx0XHRcdClcclxuXHQvLyBcdFx0XHQvLyBuZXcgTm90aWNlKGAke2gyRWxlbU1hcC5oYXMoZWwgYXMgSFRNTERpdkVsZW1lbnQpfWApXHJcblx0Ly8gXHRcdFx0Ly8gbmV3IE5vdGljZShgJHtwcmVFbGVNYXAuaGFzKGVsIGFzIEhUTUxEaXZFbGVtZW50KX1gKVxyXG5cdC8vIFx0XHRcdC8vIG5ldyBOb3RpY2UoYC0tLS0tLS0tLWApXHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdClcclxuXHQvLyB9XHJcblxyXG5cdC8vIFx1NkUzMlx1NjdEM1x1OTg5Q1x1ODI3Mlx1NUU5M1xyXG5cdHJlbmRlckdhbGxlcnlzKCkge1xyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3NvcihcclxuXHRcdFx0KGVsOiBIVE1MRWxlbWVudCwgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgYWN0aXZlTGVhZlZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcblx0XHRcdFx0Y29uc3QgaXNDb2xvckdhbGxlcnkgPSBjdHguc291cmNlUGF0aCA9PT0gdGhpcy5zZXR0aW5ncy5mb2xkZXJfY29sb3JfZ2FsbGVyeVxyXG5cdFx0XHRcdGNvbnN0IGlzSWNvbkdhbGxlcnkgPSBjdHguc291cmNlUGF0aCA9PT0gdGhpcy5zZXR0aW5ncy5mb2xkZXJfaWNvbl9nYWxsZXJ5XHJcblxyXG5cdFx0XHRcdGlmIChhY3RpdmVMZWFmVmlldyAmJiBpc0NvbG9yR2FsbGVyeSkge1xyXG5cdFx0XHRcdFx0Y3R4LmFkZENoaWxkKG5ldyByZW5kZXJDb2xvckdhbGxlcnkodGhpcy5zZXR0aW5ncywgZWwpKVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGFjdGl2ZUxlYWZWaWV3ICYmIGlzSWNvbkdhbGxlcnkpIHtcclxuXHRcdFx0XHRcdGN0eC5hZGRDaGlsZChuZXcgcmVuZGVySWNvbkdhbGxlcnkodGhpcy5zZXR0aW5ncywgZWwpKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0Ly8gXHU4MUVBXHU1MkE4XHU1NkZBXHU1QjlBXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwXHJcblx0YXV0b1Bpbm5lZCgpIHtcclxuXHRcdGNvbnN0IGVuYWJsZV9hdXRvX3BpbiA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlX2F1dG9fcGluXHJcblx0XHRpZiAoIWVuYWJsZV9hdXRvX3BpbikgcmV0dXJuXHJcblxyXG5cdFx0Ly8gXHU4M0I3XHU1M0Q2XHU1REU1XHU0RjVDXHU1MzNBXHU0RTJEXHU3Njg0XHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwXHU5ODc1XHU5NzYyXHJcblx0XHRjb25zdCBhbGxMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdtYXJrZG93bicpXHJcblxyXG5cdFx0Ly8gXHU0RTNBXHU2QkNGXHU0RTJBXHU3QjE0XHU4QkIwXHU5ODc1XHU5NzYyXHU4QkJFXHU3RjZFIHBpbm5lZCBcdTcyQjZcdTYwMDFcclxuXHRcdGFsbExlYXZlcy5mb3JFYWNoKChsZWFmKSA9PiB7XHJcblx0XHRcdGlmICghbGVhZi5nZXRWaWV3U3RhdGUoKS5waW5uZWQpIHtcclxuXHRcdFx0XHRsZWFmLnNldFBpbm5lZCh0cnVlKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0Ly8gXHU3MEI5XHU1MUZCXHU1M0QxXHU5N0YzXHJcblx0c2V0dXBTcGVha2VyQ2xpY2tFdmVudChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzcGVha2VyRWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc3BlYWtlcl0nKVxyXG5cdFx0Y29uc3QgcHJveHlQcmVmaXggPSAnaHR0cHM6Ly90dHMtcHJveHkuY3l1aGFvbmFuLndvcmtlcnMuZGV2Lz91cmw9J1xyXG5cclxuXHRcdGxldCBpc1BsYXlpbmcgPSBmYWxzZVxyXG5cclxuXHRcdHNwZWFrZXJFbGVtZW50cy5mb3JFYWNoKGFzeW5jIChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHdvcmQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zcGVha2VyJylcclxuXHRcdFx0aWYgKCF3b3JkKSByZXR1cm5cclxuXHJcblx0XHRcdGNvbnN0IHBsYXlMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcblx0XHRcdHBsYXlMaW5rLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApJ1xyXG5cdFx0XHRwbGF5TGluay50ZXh0Q29udGVudCA9ICdcdUQ4M0RcdUREMEEnXHJcblx0XHRcdHBsYXlMaW5rLnN0eWxlLm1hcmdpbkxlZnQgPSAnNHB4J1xyXG5cdFx0XHRwbGF5TGluay5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICdub25lJ1xyXG5cdFx0XHRwbGF5TGluay5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcidcclxuXHJcblx0XHRcdGNvbnN0IHR0c1VybCA9IGBodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY29tL3RyYW5zbGF0ZV90dHM/aWU9VVRGLTgmY2xpZW50PWd0eCZxPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG5cdFx0XHRcdHdvcmRcclxuXHRcdFx0KX0mdGw9ZW5gXHJcblx0XHRcdGNvbnN0IHByb3hpZWRVcmwgPSBwcm94eVByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudCh0dHNVcmwpXHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocHJveGllZFVybClcclxuXHRcdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFx1OEJGN1x1NkM0Mlx1NTkzMVx1OEQyNTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcblxyXG5cdFx0XHRcdGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKClcclxuXHRcdFx0XHRjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxyXG5cclxuXHRcdFx0XHRjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhibG9iVXJsKVxyXG5cdFx0XHRcdHRoaXMuYXVkaW9DYWNoZS5zZXQod29yZCwgYXVkaW8pXHJcblxyXG5cdFx0XHRcdHBsYXlMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoaXNQbGF5aW5nKSByZXR1cm5cclxuXHRcdFx0XHRcdGlzUGxheWluZyA9IHRydWVcclxuXHJcblx0XHRcdFx0XHRjb25zdCBjYWNoZWRBdWRpbyA9IHRoaXMuYXVkaW9DYWNoZS5nZXQod29yZClcclxuXHRcdFx0XHRcdGlmIChjYWNoZWRBdWRpbykge1xyXG5cdFx0XHRcdFx0XHRjYWNoZWRBdWRpby5jdXJyZW50VGltZSA9IDBcclxuXHRcdFx0XHRcdFx0Y2FjaGVkQXVkaW8udm9sdW1lID0gMVxyXG5cdFx0XHRcdFx0XHRjYWNoZWRBdWRpby5wbGF5KCkuY2F0Y2goKGVycjogRXJyb3IpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oYFx1OTdGM1x1OTg5MVx1NjRBRFx1NjUzRVx1NTkzMVx1OEQyNVx1RkYxQSR7ZXJyLm1lc3NhZ2V9YClcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBcdTk3RjNcdTk4OTFcdTY0QURcdTY1M0VcdTU5MzFcdThEMjVcdUZGMUEke2Vyci5tZXNzYWdlfWApXHJcblx0XHRcdFx0XHRcdFx0aXNQbGF5aW5nID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0Y2FjaGVkQXVkaW8ub25lbmRlZCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpc1BsYXlpbmcgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oYFx1OTdGM1x1OTg5MVx1OTg4NFx1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNTogJHtlcnIubWVzc2FnZX1gKVxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFx1OTdGM1x1OTg5MVx1OTg4NFx1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNTogJHtlcnIubWVzc2FnZX1gKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBwbGF5TGluaylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQvLyBcdTRFM0FcdTU5MTZcdTkwRThcdTU2RkVcdTcyNDdcdTZERkJcdTUyQTAgc3BhblxyXG5cdGFsdEV4dGVybmFsSW1hZ2VUYWdzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGltZ3MgPSBjb250YWluZXIuZmluZEFsbCgnaW1nW3JlZmVycmVycG9saWN5XScpIGFzIEhUTUxJbWFnZUVsZW1lbnRbXVxyXG5cdFx0Zm9yIChjb25zdCBpbWcgb2YgaW1ncykge1xyXG5cdFx0XHRpZiAoaW1nLmNsYXNzTGlzdC5jb250YWlucygnYmFubmVyLWltYWdlJykpIHJldHVybiAvLyBcdTkwN0ZcdTUxNERcdTVGNzFcdTU0Q0QgYmFubmVycyBcdTYzRDJcdTRFRjZcclxuXHRcdFx0aWYgKGltZy5wYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTFNwYW5FbGVtZW50KSByZXR1cm4gLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU0RTg2IHNwYW5cclxuXHJcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVxyXG5cdFx0XHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcblx0XHRcdC8vIGNvbnN0IGltZ1dpZCA9IGltZy53aWR0aC50b1N0cmluZygpXHJcblx0XHRcdGNvbnN0IGltZ1NyYyA9IGltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcblx0XHRcdGNvbnN0IGltZ0FsdCA9IGltZy5hbHRcclxuXHJcblx0XHRcdC8vIGlmIChpbWdXaWQpIHNwYW4uc2V0QXR0cmlidXRlKCd3aWR0aCcsIGltZ1dpZClcclxuXHRcdFx0aWYgKGltZ1NyYykgc3Bhbi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZ1NyYylcclxuXHRcdFx0aWYgKGltZ0FsdCkgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGltZ0FsdC5zcGxpdCgnfCcpWzFdIHx8IGltZ0FsdClcclxuXHJcblx0XHRcdHNwYW4uc2V0QXR0cmlidXRlKCdpZCcsICdleHRlcm5hbC1saW5rLWltYWdlJylcclxuXHRcdFx0c3Bhbi5jbGFzc0xpc3QuYWRkKCdpbWFnZS1lbWJlZCcpXHJcblx0XHRcdC8vIEFydEdhbGxlcnkuaWRlbnRpZnlVbmhvc3RlZEltYWdlcyhzcGFuLCBpbWcpXHJcblxyXG5cdFx0XHQvLyBcdTYzRDJcdTUxNjVcclxuXHRcdFx0aW1nLnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZShzcGFuLCBpbWcpXHJcblx0XHRcdHNwYW4uYXBwZW5kQ2hpbGQoaW1nKVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NEUzQVx1NTkxNlx1OTBFOFx1ODlDNlx1OTg5MVx1NkRGQlx1NTJBMCBzcGFuXHJcblx0XHQvKlxyXG5cdFx0Y29uc3Qgc291cmNlcyA9IGNvbnRhaW5lci5maW5kQWxsKCdzb3VyY2UnKSBhcyBIVE1MU291cmNlRWxlbWVudFtdXHJcblx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XHJcblx0XHRcdGlmICghc291cmNlLnNyYykgcmV0dXJuXHJcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVxyXG5cdFx0XHRjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcblx0XHRcdHNwYW4uc2V0QXR0cmlidXRlKCdpZCcsICdzcGFuLXZpZGVvJylcclxuXHJcblx0XHRcdGNvbnN0IHZpZGVvID0gc291cmNlLnBhcmVudEVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxyXG5cdFx0XHQvLyBBcnRHYWxsZXJ5LmlkZW50aWZ5VW5ob3N0ZWRWaWRlb3Moc3Bhbiwgc291cmNlKVxyXG5cclxuXHRcdFx0Ly8gXHU2M0QyXHU1MTY1XHJcblx0XHRcdHZpZGVvLnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZShzcGFuLCB2aWRlbylcclxuXHRcdFx0c3Bhbi5hcHBlbmRDaGlsZCh2aWRlbylcclxuXHRcdH1cclxuXHRcdCovXHJcblx0fVxyXG5cclxuXHQvLyBcdTc5RkJcdTk2NjQgaWZyYW1lIFx1NkVEQVx1NTJBOFx1Njc2MVxyXG5cdHJlbW92ZUlmcmFtZVNjcm9sbGJhcnMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaWZyYW1lczogTm9kZUxpc3RPZjxIVE1MSUZyYW1lRWxlbWVudD4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaWZyYW1lJylcclxuXHJcblx0XHRpZnJhbWVzLmZvckVhY2goKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQpID0+IHtcclxuXHRcdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnc2Nyb2xsaW5nJywgJ25vJylcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQvLyBcdTZFOTBcdTc4MDFcdTZBMjFcdTVGMEZcdTRFMEJcdTYzOTJcdTVFOEZcdTY4MDdcdTk4OThcclxuXHRzb3J0SGVhZGluZ3MoKSB7XHJcblx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwLnZhdWx0XHJcblx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG5cdFx0aWYgKCFmaWxlKSByZXR1cm5cclxuXHJcblx0XHRyZXR1cm4gdmF1bHQucHJvY2VzcyhmaWxlLCAoZGF0YSkgPT4ge1xyXG5cdFx0XHRsZXQgaDFDb3VudCA9IDAgLy8gXHU4QkIwXHU1RjU1XHU0RTAwXHU3RUE3XHU2ODA3XHU5ODk4XHU3Njg0XHU2NTcwXHU5MUNGXHJcblx0XHRcdGxldCBoMkNvdW50ID0gMCAvLyBcdTRFOENcdTdFQTdcdTY4MDdcdTk4OThcdTc2ODRcdTUxNjhcdTVDNDBcdTVFOEZcdTUzRjdcdUZGMDhcdTc1MjhcdTRFOEVcdTY2M0VcdTc5M0FcdTdGMTZcdTUzRjdcdUZGMDlcclxuXHRcdFx0Ly8gY29uc3QgaDFOdW1iZXJzID0gWydcdTRFMDAnLCAnXHU0RThDJywgJ1x1NEUwOScsICdcdTU2REInLCAnXHU0RTk0JywgJ1x1NTE2RCcsICdcdTRFMDMnLCAnXHU1MTZCJywgJ1x1NEU1RCcsICdcdTUzNDEnXVxyXG5cdFx0XHRjb25zdCBoMU51bWJlcnMgPSBbJ0knLCAnSUknLCAnSUlJJywgJ0lWJywgJ1YnLCAnVkknLCAnVklJJywgJ1ZJSUknLCAnSVgnLCAnWCddXHJcblx0XHRcdGNvbnN0IGgyTnVtYmVycyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sIChfLCBpKSA9PiBgJHtpICsgMX0uYClcclxuXHRcdFx0Y29uc3QgaDNOdW1iZXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKF8sIGkpID0+IGAke2kgKyAxfWApXHJcblx0XHRcdGNvbnN0IGgzTnVtYmVyczIgPSBbJ1x1MjQ2MCcsICdcdTI0NjEnLCAnXHUyNDYyJywgJ1x1MjQ2MycsICdcdTI0NjQnLCAnXHUyNDY1JywgJ1x1MjQ2NicsICdcdTI0NjcnLCAnXHUyNDY4JywgJ1x1MjQ2OSddXHJcblxyXG5cdFx0XHRsZXQgaDNDb3VudGVyczogbnVtYmVyW10gPSBuZXcgQXJyYXkoMTApLmZpbGwoMClcclxuXHRcdFx0bGV0IGgyQ291bnRlcnM6IG51bWJlcltdID0gbmV3IEFycmF5KDEwKS5maWxsKDApXHJcblx0XHRcdGxldCBjdXJIMkluZGV4ID0gLTFcclxuXHRcdFx0bGV0IGN1ckgxSW5kZXggPSAtMVxyXG5cdFx0XHRsZXQgaW5zaWRlQ29kZUJsb2NrID0gZmFsc2UgLy8gXHU2ODA3XHU4QkIwXHU2NjJGXHU1NDI2XHU1NzI4XHU0RUUzXHU3ODAxXHU1NzU3XHU1MTg1XHJcblxyXG5cdFx0XHQvLyBcdTZFMDVcdTc0MDZcdTY4MDdcdTk4OThcclxuXHRcdFx0Y29uc3QgY2xlYW5IZWFkaW5nID0gKGxpbmU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGgxUmVnZXggPSAvKD86SVx1MzAwMXxJSVx1MzAwMXxJSUlcdTMwMDF8SVZcdTMwMDF8Vlx1MzAwMXxWSVx1MzAwMXxWSUlcdTMwMDF8VklJSVx1MzAwMXxJWFx1MzAwMXxYXHUzMDAxKS9nXHJcblx0XHRcdFx0Y29uc3QgaDNSZWdleCA9IC9bXHUyNDYwXHUyNDYxXHUyNDYyXHUyNDYzXHUyNDY0XHUyNDY1XHUyNDY2XHUyNDY3XHUyNDY4XHUyNDY5XS9nXHJcblx0XHRcdFx0Y29uc3QgaDNSZWdleDIgPSAvW1x1MjQ2MFx1MjQ2MVx1MjQ2Mlx1MjQ2M1x1MjQ2NFx1MjQ2NVx1MjQ2Nlx1MjQ2N1x1MjQ2OFx1MjQ2OV0gL2dcclxuXHRcdFx0XHRyZXR1cm4gbGluZVxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoL14oIykgXHU3QjJDLio/XHU3QUUwL2csICckMScpIC8vIFx1NTIyMFx1OTY2NFx1MjAxQ1x1N0IyQ1x1MjAyNlx1N0FFMFx1MjAxRFx1N0VEM1x1Njc4NFxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoL14oI3wjI3wjIyMpIChcXFtcXFsuKj9cXHwpXFxkezEsMn1cXC4/XFxkP1xcLj9cXGQ/XFxzKy91LCAnJDEgJDInKSAvLyBgW1tcdTdCMTRcdThCQjBcdTU0MERcdTc5RjB8My4gXHU2ODA3XHU5ODk4XV1gXHJcblx0XHRcdFx0XHQucmVwbGFjZSgvXigjfCMjfCMjIykgKFxcW1xcWy4qP1xcXSlcXGR7MSwyfVxcLj9cXGQ/XFwuP1xcZD9cXHMrL3UsICckMSAkMicpIC8vIGBbWzMuIFx1NjgwN1x1OTg5OF1dYFxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoL14oI3wjI3wjIyMpIChcXFspXFxkezEsMn1cXC4/XFxkP1xcLj9cXGQ/XFxzKy91LCAnJDEgJDInKSAvLyBgIyBbMy4gXHU2ODA3XHU5ODk4XShcdTk0RkVcdTYzQTVcdTY1ODdcdTY3MkMpYFxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoL14oI3wjI3wjIyMpIFxcZHsxLDJ9XFwuP1xcZD9cXC4/XFxkP1xccysvdSwgJyQxICcpIC8vIGAjIDMuIFx1NjgwN1x1OTg5OGBcclxuXHRcdFx0XHRcdC5yZXBsYWNlKC9eKCN8IyN8IyMjKSBcXGR7MSwyfVxcLj9cXGQ/XFwuP1xcZD9cXHMrL3UsICckMSAnKSAvLyBgIyAzLiBcdTY4MDdcdTk4OThgXHJcblx0XHRcdFx0XHQucmVwbGFjZShoMVJlZ2V4LCAnJylcclxuXHRcdFx0XHRcdC5yZXBsYWNlKGgzUmVnZXgyLCAnJykgLy8gXHU4RkQ5XHU0RTI0XHU0RTJBXHU3Njg0XHU5ODdBXHU1RThGXHU0RTBEXHU4MEZEXHU2NTM5XHU1M0Q4XHJcblx0XHRcdFx0XHQucmVwbGFjZShoM1JlZ2V4LCAnJylcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgdGVzdEFuZFJlcGxhY2VIMSA9IChwYXR0ZXJuOiBSZWdFeHAsIHRleHQ6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdHJldHVybiB0ZXh0LnJlcGxhY2UoXHJcblx0XHRcdFx0XHRwYXR0ZXJuLFxyXG5cdFx0XHRcdFx0KF8sIHByZWZpeCwgdGl0bGUpID0+IGAjICR7cHJlZml4IHx8ICcnfSR7aDFOdW1iZXJzW2gxQ291bnQrK119XHUzMDAxJHt0aXRsZX1gXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB0ZXN0QW5kUmVwbGFjZUgyID0gKHBhdHRlcm46IFJlZ0V4cCwgdGV4dDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHRleHQucmVwbGFjZShcclxuXHRcdFx0XHRcdHBhdHRlcm4sXHJcblx0XHRcdFx0XHQoXywgcHJlZml4LCB0aXRsZSkgPT4gYCMjICR7cHJlZml4IHx8ICcnfSR7aDJOdW1iZXJzW2gyQ291bnQrK119ICR7dGl0bGV9YFxyXG5cdFx0XHRcdClcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgdGVzdEFuZFJlcGxhY2VIMyA9IChcclxuXHRcdFx0XHRwYXR0ZXJuOiBSZWdFeHAsXHJcblx0XHRcdFx0dGV4dDogc3RyaW5nLFxyXG5cdFx0XHRcdGgyUHJlZml4OiBudW1iZXIsXHJcblx0XHRcdFx0aXNTa2lwOiBib29sZWFuXHJcblx0XHRcdCkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiB0ZXh0LnJlcGxhY2UoXHJcblx0XHRcdFx0XHRwYXR0ZXJuLFxyXG5cdFx0XHRcdFx0KF8sIHByZWZpeCwgdGl0bGUpID0+XHJcblx0XHRcdFx0XHRcdGAjIyMgJHtwcmVmaXggfHwgJyd9JHtcclxuXHRcdFx0XHRcdFx0XHRpc1NraXAgPT09IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdD8gYCR7aDNOdW1iZXJzMltoM0NvdW50ZXJzW2N1ckgySW5kZXhdKytdfSAke3RpdGxlfWAgLy8gXHU1OTgyXHU2NzlDXHU5NzAwXHU4OTgxXHU4REYzXHU4RkM3XHVGRjBDXHU1MjE5XHU0RjdGXHU3NTI4IGgzTnVtYmVyczJcclxuXHRcdFx0XHRcdFx0XHRcdDogYCR7aDJQcmVmaXh9LiR7aDNOdW1iZXJzW2gzQ291bnRlcnNbY3VySDJJbmRleF0rK119ICR7dGl0bGV9YCAvLyBcdTU0MjZcdTUyMTlcdTRGN0ZcdTc1MjggaDNOdW1iZXJzXHJcblx0XHRcdFx0XHRcdH1gXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBsaW5lcyA9IGRhdGEuc3BsaXQoJ1xcbicpXHJcblx0XHRcdC8vIFx1OTA0RFx1NTM4Nlx1NkJDRlx1NEUwMFx1ODg0Q1xyXG5cdFx0XHRsZXQgaXNTa2lwID0gZmFsc2VcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxpbmVzW2ldXHJcblx0XHRcdFx0aWYgKC9eYGBgLy50ZXN0KGxpbmVzW2ldKSkge1xyXG5cdFx0XHRcdFx0aW5zaWRlQ29kZUJsb2NrID0gIWluc2lkZUNvZGVCbG9jayAvLyBcdTUyMDdcdTYzNjJcdTRFRTNcdTc4MDFcdTU3NTdcdTcyQjZcdTYwMDFcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChpbnNpZGVDb2RlQmxvY2spIGNvbnRpbnVlIC8vIFx1OERGM1x1OEZDN1x1NEVFM1x1NzgwMVx1NTc1N1x1NEUyRFx1NzY4NFx1NjI0MFx1NjcwOVx1NTE4NVx1NUJCOVxyXG5cclxuXHRcdFx0XHRsaW5lc1tpXSA9IGNsZWFuSGVhZGluZyhsaW5lc1tpXSlcclxuXHJcblx0XHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU0RTAwXHU3RUE3XHU2ODA3XHU5ODk4IGAjYFxyXG5cdFx0XHRcdGlmICgvXiMgKFxcW1xcWy4qP1xcfCk/KC4qPyldPyQvLnRlc3QobGluZXNbaV0pKSB7XHJcblx0XHRcdFx0XHRpc1NraXAgPSAvW1x1MjcyNlx1MjYwNVx1MjYwNlx1MjcyN0BdLy50ZXN0KGxpbmVzW2ldKVxyXG5cclxuXHRcdFx0XHRcdGN1ckgxSW5kZXggPSBoMUNvdW50XHJcblx0XHRcdFx0XHRoMkNvdW50ID0gMCAvLyBcdTkwNDdcdTUyMzBcdTY1QjBcdTc2ODQgSDFcdUZGMENIMiBcdThCQTFcdTY1NzBcdTZFMDVcdTk2RjZcclxuXHJcblx0XHRcdFx0XHRsaW5lc1tpXSA9IHRlc3RBbmRSZXBsYWNlSDEoL14jICg/IVxcW1xcWykoXFxbKT8oLio/KV0/JC8sIGxpbmVzW2ldKVxyXG5cdFx0XHRcdFx0bGluZXNbaV0gPSB0ZXN0QW5kUmVwbGFjZUgxKC9eIyAoXFxbXFxbKShbXlxcfF0rKSQvLCBsaW5lc1tpXSlcclxuXHRcdFx0XHRcdGxpbmVzW2ldID0gdGVzdEFuZFJlcGxhY2VIMSgvXiMgKFxcW1xcWy4qP1xcfCkoLio/KT8kLywgbGluZXNbaV0pXHJcblx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU0RThDXHU3RUE3XHU2ODA3XHU5ODk4IGAjI2BcclxuXHRcdFx0XHRpZiAoL14jIyAvLnRlc3QobGluZXNbaV0pICYmIGgyQ291bnQgPCAyMCkge1xyXG5cdFx0XHRcdFx0aXNTa2lwID0gL1tcdTI3MjZcdTI2MDVcdTI2MDZcdTI3MjdAXS8udGVzdChsaW5lc1tpXSlcclxuXHRcdFx0XHRcdGlmIChpc1NraXApIGNvbnRpbnVlXHJcblxyXG5cdFx0XHRcdFx0Y3VySDJJbmRleCA9IGgyQ291bnRcclxuXHRcdFx0XHRcdGgzQ291bnRlcnNbY3VySDJJbmRleF0gPSAwIC8vIFx1OTFDRFx1N0Y2RSBoMyBcdThCQTFcdTY1NzBcclxuXHJcblx0XHRcdFx0XHRsaW5lc1tpXSA9IHRlc3RBbmRSZXBsYWNlSDIoL14jIyAoPyFcXFtcXFspKFxcWyk/KC4qPyldPyQvLCBsaW5lc1tpXSkgLy8gYCMgXHU2ODA3XHU5ODk4YFx1MzAwMWAjIFtcdTY4MDdcdTk4OThdKFx1OTRGRVx1NjNBNVx1NjU4N1x1NjcyQylgXHJcblx0XHRcdFx0XHRsaW5lc1tpXSA9IHRlc3RBbmRSZXBsYWNlSDIoL14jIyAoXFxbXFxbKShbXlxcfF0rKSQvLCBsaW5lc1tpXSkgLy8gYCMgW1tcdTY4MDdcdTk4OThdXWAoXHU0RTBEXHU1RTI2IGB8YCBcdTc2ODQpXHJcblx0XHRcdFx0XHRsaW5lc1tpXSA9IHRlc3RBbmRSZXBsYWNlSDIoL14jIyAoXFxbXFxbLio/XFx8KSguKj8pPyQvLCBsaW5lc1tpXSkgLy8gYCMgW1tcdTdCMTRcdThCQjBcdTU0MERcdTc5RjB8XHU2ODA3XHU5ODk4XV1gIChcdTVFMjYgYHxgIFx1NzY4NClcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBcdTU5MDRcdTc0MDZcdTRFMDlcdTdFQTdcdTY4MDdcdTk4OTggYCMjI2BcclxuXHRcdFx0XHRpZiAoL14jIyMgLy50ZXN0KGxpbmVzW2ldKSAmJiBjdXJIMkluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0aWYgKC9bXHUyNzI2XHUyNjA1XHUyNjA2XHUyNzI3QF0vLnRlc3QobGluZXNbaV0pKSBjb250aW51ZVxyXG5cclxuXHRcdFx0XHRcdGlmIChoM0NvdW50ZXJzW2N1ckgySW5kZXhdIDwgMTApIHtcclxuXHRcdFx0XHRcdFx0bGluZXNbaV0gPSB0ZXN0QW5kUmVwbGFjZUgzKFxyXG5cdFx0XHRcdFx0XHRcdC9eIyMjICg/IVxcW1xcWykoXFxbKT8oLio/KV0/JC8sXHJcblx0XHRcdFx0XHRcdFx0bGluZXNbaV0sXHJcblx0XHRcdFx0XHRcdFx0aDJDb3VudCxcclxuXHRcdFx0XHRcdFx0XHRpc1NraXBcclxuXHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRsaW5lc1tpXSA9IHRlc3RBbmRSZXBsYWNlSDMoL14jIyMgKFxcW1xcWykoW15cXHxdKykkLywgbGluZXNbaV0sIGgyQ291bnQsIGlzU2tpcClcclxuXHRcdFx0XHRcdFx0bGluZXNbaV0gPSB0ZXN0QW5kUmVwbGFjZUgzKFxyXG5cdFx0XHRcdFx0XHRcdC9eIyMjIChcXFtcXFsuKj9cXHwpKC4qPyk/JC8sXHJcblx0XHRcdFx0XHRcdFx0bGluZXNbaV0sXHJcblx0XHRcdFx0XHRcdFx0aDJDb3VudCxcclxuXHRcdFx0XHRcdFx0XHRpc1NraXBcclxuXHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7fVxyXG5cclxuXHRob3ZlclRvZ2dsZVNpZGViYXJzKCkge1xyXG5cdFx0aWYgKHRoaXMubGVmdFJpYmJvbiAmJiB0aGlzLm1pZGRsZUFyZWEgJiYgdGhpcy5yaWdodFJpYmJvbikge1xyXG5cdFx0XHQvLyBcdTVERTZcdTRGQTdcdTVDNTVcdTVGMDAvXHU2NTM2XHU3RjI5XHU5MDNCXHU4RjkxXHJcblx0XHRcdHRoaXMubGVmdFJpYmJvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy50b2dnbGVMZWZ0U2lkZWJhcilcclxuXHJcblx0XHRcdC8vIFx1NEUyRFx1OTVGNFx1NTMzQVx1NTdERlx1NUM1NVx1NUYwMC9cdTY1MzZcdTdGMjlcdTkwM0JcdThGOTFcclxuXHRcdFx0dGhpcy5taWRkbGVBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLnRvZ2dsZU1pZGRsZVNpZGViYXIpXHJcblxyXG5cdFx0XHQvLyBcdTUzRjNcdTRGQTdcdTVDNTVcdTVGMDAvXHU2NTM2XHU3RjI5XHU5MDNCXHU4RjkxXHJcblx0XHRcdHRoaXMucmlnaHRSaWJib24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMudG9nZ2xlUmlnaHRTaWRlYmFyKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y2xpY2tUb2dnbGVTaWRlYmFycygpIHtcclxuXHRcdGlmICh0aGlzLmxlZnRSaWJib24gJiYgdGhpcy5taWRkbGVBcmVhICYmIHRoaXMucmlnaHRSaWJib24pIHtcclxuXHRcdFx0Ly8gXHU1REU2XHU0RkE3XHU1QzU1XHU1RjAwL1x1NjUzNlx1N0YyOVx1OTAzQlx1OEY5MVxyXG5cdFx0XHR0aGlzLmxlZnRSaWJib24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZUxlZnRTaWRlYmFyKVxyXG5cclxuXHRcdFx0Ly8gXHU0RTJEXHU5NUY0XHU1MzNBXHU1N0RGXHU1QzU1XHU1RjAwL1x1NjUzNlx1N0YyOVx1OTAzQlx1OEY5MVxyXG5cdFx0XHR0aGlzLm1pZGRsZUFyZWEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZU1pZGRsZVNpZGViYXIpXHJcblxyXG5cdFx0XHQvLyBcdTUzRjNcdTRGQTdcdTVDNTVcdTVGMDAvXHU2NTM2XHU3RjI5XHU5MDNCXHU4RjkxXHJcblx0XHRcdHRoaXMucmlnaHRSaWJib24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZVJpZ2h0U2lkZWJhcilcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlbW92ZUhvdmVyVG9nZ2xlU2lkZWJhcnMoKSB7XHJcblx0XHRpZiAodGhpcy5sZWZ0UmliYm9uICYmIHRoaXMubWlkZGxlQXJlYSAmJiB0aGlzLnJpZ2h0UmliYm9uKSB7XHJcblx0XHRcdHRoaXMubGVmdFJpYmJvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy50b2dnbGVMZWZ0U2lkZWJhcilcclxuXHRcdFx0dGhpcy5taWRkbGVBcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLnRvZ2dsZU1pZGRsZVNpZGViYXIpXHJcblx0XHRcdHRoaXMucmlnaHRSaWJib24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMudG9nZ2xlUmlnaHRTaWRlYmFyKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gcmVtb3ZlQ2xpY2tUb2dnbGVTaWRlYmFycygpIHtcclxuXHQvLyBcdGlmICh0aGlzLmxlZnRSaWJib24gJiYgdGhpcy5taWRkbGVBcmVhICYmIHRoaXMucmlnaHRSaWJib24pIHtcclxuXHQvLyBcdFx0dGhpcy5sZWZ0UmliYm9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVMZWZ0U2lkZWJhcilcclxuXHQvLyBcdFx0dGhpcy5taWRkbGVBcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVNaWRkbGVTaWRlYmFyKVxyXG5cdC8vIFx0XHR0aGlzLnJpZ2h0UmliYm9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVSaWdodFNpZGViYXIpXHJcblx0Ly8gXHR9XHJcblx0Ly8gfVxyXG5cclxuXHR0b2dnbGVMZWZ0U2lkZWJhciA9ICgpID0+IHtcclxuXHRcdGNvbnN0IGlzTGVmdENvbGxhcHNlZCA9IHRoaXMuYXBwLndvcmtzcGFjZS5sZWZ0U3BsaXQuY29sbGFwc2VkXHJcblx0XHRpZiAoaXNMZWZ0Q29sbGFwc2VkKSB0aGlzLmFwcC53b3Jrc3BhY2UubGVmdFNwbGl0LnRvZ2dsZSgpXHJcblx0fVxyXG5cclxuXHR0b2dnbGVNaWRkbGVTaWRlYmFyID0gKCkgPT4ge1xyXG5cdFx0d2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBpc0xlZnRDb2xsYXBzZWQgPSB0aGlzLmFwcC53b3Jrc3BhY2UubGVmdFNwbGl0LmNvbGxhcHNlZFxyXG5cdFx0XHRpZiAoIWlzTGVmdENvbGxhcHNlZCkgdGhpcy5hcHAud29ya3NwYWNlLmxlZnRTcGxpdC50b2dnbGUoKVxyXG5cclxuXHRcdFx0Y29uc3QgaXNSaWdodENvbGxhcHNlZCA9IHRoaXMuYXBwLndvcmtzcGFjZS5yaWdodFNwbGl0LmNvbGxhcHNlZFxyXG5cdFx0XHRpZiAoIWlzUmlnaHRDb2xsYXBzZWQpIHRoaXMuYXBwLndvcmtzcGFjZS5yaWdodFNwbGl0LnRvZ2dsZSgpXHJcblx0XHR9LCAyMDApXHJcblx0fVxyXG5cclxuXHR0b2dnbGVSaWdodFNpZGViYXIgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBpc1JpZ2h0Q29sbGFwc2VkID0gdGhpcy5hcHAud29ya3NwYWNlLnJpZ2h0U3BsaXQuY29sbGFwc2VkXHJcblx0XHRpZiAoaXNSaWdodENvbGxhcHNlZCkge1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmlnaHRTcGxpdC50b2dnbGUoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVnaXN0ZXJDb21tYW5kcygpIHtcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnaG92ZXItdG9nZ2xlLXNpZGViYXJzLXRvZ2dsZScsXHJcblx0XHRcdG5hbWU6ICdob3ZlciB0b2dnbGUgc2lkZWJhcnMgdG9nZ2xlJyxcclxuXHRcdFx0aG90a2V5czogW3sgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnQWx0J10sIGtleTogJ1cnIH1dLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdC8vIFx1NTE0OFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1x1RkYwOFx1Nzg2RVx1NEZERFx1NEUwRFx1NEYxQVx1OTFDRFx1NTkwRFx1NkNFOFx1NTE4Q1x1RkYwOVxyXG5cdFx0XHRcdHRoaXMucmVtb3ZlSG92ZXJUb2dnbGVTaWRlYmFycz8uKClcclxuXHRcdFx0XHQvLyB0aGlzLnJlbW92ZUNsaWNrVG9nZ2xlU2lkZWJhcnM/LigpXHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLnRvZ2dsZU1vZGUgPT09IDApIHtcclxuXHRcdFx0XHRcdHRoaXMuaG92ZXJUb2dnbGVTaWRlYmFycz8uKClcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1NURGMlx1NjUzOVx1NEUzQSBcdTIwMUNcdTYwQUNcdTZENkVcdTg5RTZcdTUzRDFcdTIwMUQnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBlbHNlIGlmICh0aGlzLnRvZ2dsZU1vZGUgPT09IDEpIHtcclxuXHRcdFx0XHQvLyBcdHRoaXMuY2xpY2tUb2dnbGVTaWRlYmFycz8uKClcclxuXHRcdFx0XHQvLyBcdG5ldyBOb3RpY2UoJ1x1NURGMlx1NjUzOVx1NEUzQSBcdTIwMUNcdTcwQjlcdTUxRkJcdTg5RTZcdTUzRDFcdTIwMUQnKVxyXG5cdFx0XHRcdC8vIH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1NURGMlx1NjUzOVx1NEUzQSBcdTIwMUNcdTRFMERcdTg5RTZcdTUzRDFcdTIwMUQnKVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gXHU3MkI2XHU2MDAxXHU1MjA3XHU2MzYyXHVGRjA4MCBcdTIxOTIgMSBcdTIxOTIgMiBcdTIxOTIgMFx1RkYwOVxyXG5cdFx0XHRcdC8vIHRoaXMudG9nZ2xlTW9kZSA9ICh0aGlzLnRvZ2dsZU1vZGUgKyAxKSAlIDNcclxuXHJcblx0XHRcdFx0dGhpcy50b2dnbGVNb2RlID0gKHRoaXMudG9nZ2xlTW9kZSArIDEpICUgMlxyXG5cdFx0XHR9LFxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2F1dG8tcGluLW5vdGUnLFxyXG5cdFx0XHRuYW1lOiAnYXV0byBwaW4gYWxsIG5vdGVzJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmF1dG9QaW5uZWQoKVxyXG5cdFx0XHR9LFxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2FkZC13b3JkLWNvbW1lbnQtaW4tc291cmNlJyxcclxuXHRcdFx0bmFtZTogJ1x1NkU5MFx1NzgwMVx1NkEyMVx1NUYwRlx1NEUwQlx1NjM5Mlx1NUU4Rlx1NTIxN1x1ODg2OCcsXHJcblx0XHRcdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sIGtleTogJ1EnIH1dLFxyXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKF9lZGl0b3I6IEVkaXRvciwgX21hcmtkb3duVmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcblx0XHRcdFx0dGhpcy5zb3J0SGVhZGluZ3MoKVxyXG5cdFx0XHR9LFxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW4tc3BlY2lmaWMtbm90ZScsXHJcblx0XHRcdG5hbWU6ICdcdTYyNTNcdTVGMDBcdTRFM0JcdTk4NzVcdTdCMTRcdThCQjAnLFxyXG5cdFx0XHRob3RrZXlzOiBbeyBtb2RpZmllcnM6IFsnQWx0J10sIGtleTogJ2AnIH1dLFxyXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdG9wZW5Ob3RlQnlQYXRoKCdLYW5iYW4vSG9tZS9Ib21lLmthbmJhbi5tZCcpIC8vIFx1MjE5MCBcdTRGRUVcdTY1MzlcdTYyMTBcdTRGNjBcdTc2ODRcdThERUZcdTVGODRcclxuXHJcblx0XHRcdFx0LypcclxuXHRcdFx0XHRjb25zdCBsZWZ0bW9zdExlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSlcclxuXHRcdFx0XHRjb25zdCBuZXdMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmNyZWF0ZUxlYWZCeVNwbGl0KGxlZnRtb3N0TGVhZiwgZmFsc2UpXHJcblxyXG5cdFx0XHRcdGNvbnN0IGFic3RyYWN0RmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcclxuXHRcdFx0XHRcdCdLYW5iYW4vSG9tZS9Ib21lLmthbmJhbi5tZCdcclxuXHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdGlmIChhYnN0cmFjdEZpbGUgJiYgYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHRcdC8vIFx1OEZEOVx1OTFDQ1x1Nzg2RVx1NUI5QVx1NjYyRlx1NjU4N1x1NEVGNlxyXG5cdFx0XHRcdFx0YXdhaXQgbmV3TGVhZi5vcGVuRmlsZShhYnN0cmFjdEZpbGUpXHJcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uuc2V0QWN0aXZlTGVhZihuZXdMZWFmLCB7IGZvY3VzOiB0cnVlIH0pXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdcdTYzMDdcdTVCOUFcdThERUZcdTVGODRcdTRFMERcdTY2MkZcdTY1ODdcdTRFRjZcdUZGMENcdTYyMTZcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjgnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQqL1xyXG5cdFx0XHR9LFxyXG5cdFx0fSlcclxuXHJcblx0XHRjb25zdCBvcGVuTm90ZUJ5UGF0aCA9IGFzeW5jIChub3RlUGF0aDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdGNvbnN0IGFic3RyYWN0RmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3RlUGF0aClcclxuXHRcdFx0aWYgKCEoYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdcdTY3MkFcdTYyN0VcdTUyMzBcdTY3MDlcdTY1NDhcdTc2ODQgTWFya2Rvd24gXHU2NTg3XHU0RUY2OicsIG5vdGVQYXRoKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmaWxlID0gYWJzdHJhY3RGaWxlIGFzIFRGaWxlXHJcblxyXG5cdFx0XHQvLyBcdTI3MDUgXHU0RTNCXHU1MzNBXHU1N0RGXHU2NUIwXHU1RUZBXHU0RTAwXHU0RTJBIGxlYWZcdUZGMDhcdTY1QjAgdGFiXHVGRjA5XHJcblx0XHRcdGNvbnN0IG5ld0xlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJylcclxuXHJcblx0XHRcdC8qXHJcblx0XHRcdC8vIFx1MjcwNSBcdTgzQjdcdTUzRDZcdTcyMzZcdTVCQjlcdTU2NjhcdUZGMDhcdTkwMUFcdTVFMzhcdTY2MkYgV29ya3NwYWNlU3BsaXRcdUZGMDlcdUZGMENcdTVDMDZcdTY1QjAgbGVhZiBcdTYzRDJcdTUxNjVcdTY3MDBcdTVERTZcdTRGQTdcclxuXHRcdFx0Y29uc3QgcGFyZW50ID0gKG5ld0xlYWYgYXMgYW55KS5wYXJlbnRcclxuXHRcdFx0aWYgKHBhcmVudCAmJiBwYXJlbnQuY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheShwYXJlbnQuY2hpbGRyZW4pKSB7XHJcblx0XHRcdFx0Ly8gXHU2MjhBIG5ld0xlYWYgXHU0RUNFXHU1RjUzXHU1MjREXHU0RjREXHU3RjZFXHU3OUZCXHU5NjY0XHJcblx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihuZXdMZWFmKVxyXG5cdFx0XHRcdGlmIChpbmRleCA+IC0xKSBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKVxyXG5cdFx0XHRcdC8vIFx1NjNEMlx1NTE2NVx1NTIzMFx1N0IyQ1x1NEUwMFx1NEUyQVx1NEY0RFx1N0Y2RVxyXG5cdFx0XHRcdHBhcmVudC5jaGlsZHJlbi51bnNoaWZ0KG5ld0xlYWYpXHJcblx0XHRcdH1cclxuXHRcdFx0Ki9cclxuXHJcblx0XHRcdC8vIFx1MjcwNSBcdTU3MjhcdTY1QjBcdTVFRkFcdTc2ODQgbGVhZiBcdTRFMkRcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcclxuXHRcdFx0YXdhaXQgbmV3TGVhZi5vcGVuRmlsZShmaWxlLCB7IGFjdGl2ZTogdHJ1ZSB9KVxyXG5cclxuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5zZXRBY3RpdmVMZWFmKG5ld0xlYWYsIHsgZm9jdXM6IHRydWUgfSlcclxuXHRcdFx0fSwgMCkgLy8gNTBtcyBcdTkwMUFcdTVFMzhcdTU5MUZcdTc1MjhcdUZGMENcdTU5ODJcdTY3OUNcdTRFMERcdTg4NENcdTUzRUZcdTRFRTVcdThDMDNcdTU5MjdcdTcwQjlcclxuXHJcblx0XHRcdGlmICghbmV3TGVhZi5nZXRWaWV3U3RhdGUoKS5waW5uZWQpIHtcclxuXHRcdFx0XHRuZXdMZWFmLnNldFBpbm5lZCh0cnVlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKVxyXG5cdH1cclxufVxyXG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXHJcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cclxuaW1wb3J0IHsgQXBwLCBTZXR0aW5nLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nVGFiIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCBDeXVUb29sa2l0UGx1Z2luIGZyb20gJ3NyYy9tYWluJ1xyXG5pbXBvcnQgeyBGb2xkZXJTdWdnZXN0IH0gZnJvbSAnLi9zdWdnZXN0ZXJzL0ZvbGRlclN1Z2dlc3RlcidcclxuaW1wb3J0IHsgRmlsZVN1Z2dlc3QsIEZpbGVTdWdnZXN0TW9kZSB9IGZyb20gJy4vc3VnZ2VzdGVycy9GaWxlU3VnZ2VzdGVyJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEN5dVRvb2xraXRTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBDeXVUb29sa2l0UGx1Z2luXHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEN5dVRvb2xraXRQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKVxyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXNcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpXHJcblxyXG5cdFx0Ly8gRnVuY3Rpb25zIGFyZWFcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0Z1bmN0aW9ucycgfSlcclxuXHRcdHRoaXMuYWRkVG9nZ2xlKCdcdTZGQzBcdTZEM0JcdTU5MERcdTUyMzZcdTU3NTcnLCAnXHU2NjJGXHU1NDI2XHU1NDJGXHU3NTI4XHU1OTBEXHU1MjM2XHU1NzU3XHU3Njg0XHU3MEI5XHU1MUZCXHU1OTBEXHU1MjM2XHU1MjlGXHU4MEZEJywgJ2VuYWJsZV9jbGlja0NvcHlfYmxvY2snKVxyXG5cdFx0dGhpcy5hZGRUb2dnbGUoJ1x1ODFFQVx1NTJBOFx1NTZGQVx1NUI5QVx1N0IxNFx1OEJCMCcsICdcdTU3MjhcdTU0MkZcdTUyQThcdTVFOTNcdTY1RjZcdTU2RkFcdTVCOUFcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjBcdTk4NzVcdTk3NjInLCAnZW5hYmxlX2F1dG9fcGluJylcclxuXHRcdHRoaXMuYWRkVG9nZ2xlKCdcdTgxRUFcdTUyQThcdTg5RTNcdTY3OTAgbTN1OCAnLCAnXHU1QzA2IC5tM3U4XHU4OUM2IFx1OTg5MVx1ODlFM1x1Njc5MFx1NEUzQSAubXA0IFx1NjRBRFx1NjUzRScsICdlbmFibGVfcGFyc2VfbTN1OCcpXHJcblx0XHR0aGlzLmFkZFRvZ2dsZShcclxuXHRcdFx0J1x1NTQyRlx1NzUyOFx1NjBBQ1x1NkQ2RVx1NUM1NVx1NUYwMCcsXHJcblx0XHRcdCdcdTY2MkZcdTU0MjZcdTlFRDhcdThCQTRcdTU0MkZcdTc1MjhcdTYwQUNcdTZENkVcdTVDNTVcdTVGMDBcdTRGQTdcdThGQjlcdTY4MEZcdTUyOUZcdTgwRkQnLFxyXG5cdFx0XHQnc2V0dXBfZW5hYmxlX2hvdmVyX3NpZGVyJ1xyXG5cdFx0KVxyXG5cclxuXHRcdC8vIE5vdGVzIGFyZWFcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ05vdGVzJyB9KVxyXG5cclxuXHRcdHRoaXMuYWRkVG9nZ2xlKFxyXG5cdFx0XHQnXHU5ODlDXHU4MjcyXHU1QzU1XHU1RUNBJyxcclxuXHRcdFx0J1x1NzUyOFx1NEU4RVx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NTNFRlx1ODlDNlx1NTMxNlx1NTNFRlx1NEVBNFx1NEU5Mlx1NzY4NFx1OTg5Q1x1ODI3Mlx1NUM1NVx1NzkzQVx1NUVDQVx1N0IxNFx1OEJCMFx1OTg3NVx1OTc2MicsXHJcblx0XHRcdCdlbmFibGVfY29sb3JfZ2FsbGVyeSdcclxuXHRcdClcclxuXHRcdHRoaXMuYWRkRmlsZVN1Z2dlc3QoXHJcblx0XHRcdCdcdTk4OUNcdTgyNzJcdTVDNTVcdTVFQ0FcdTc2ODRcdTdCMTRcdThCQjBcdThERUZcdTVGODQnLFxyXG5cdFx0XHQnXHU1NzI4XHU4RkQ5XHU5MUNDXHU2MzA3XHU1QjlBXHU5ODlDXHU4MjcyXHU1QzU1XHU1RUNBXHU3Njg0XHU3QjE0XHU4QkIwXHU4REVGXHU1Rjg0JyxcclxuXHRcdFx0J2ZvbGRlcl9jb2xvcl9nYWxsZXJ5J1xyXG5cdFx0KVxyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicpXHJcblxyXG5cdFx0dGhpcy5hZGRUb2dnbGUoXHJcblx0XHRcdCdcdTU2RkVcdTY4MDdcdTVDNTVcdTVFQ0EnLFxyXG5cdFx0XHQnXHU3NTI4XHU0RThFXHU1MjFCXHU1RUZBXHU0RTAwXHU0RTJBXHU1M0VGXHU4OUM2XHU1MzE2XHU3Njg0XHU1NkZFXHU2ODA3XHU1QzU1XHU3OTNBXHU1RUNBXHU3QjE0XHU4QkIwXHU5ODc1XHU5NzYyJyxcclxuXHRcdFx0J2VuYWJsZV9pY29uX2dhbGxlcnknXHJcblx0XHQpXHJcblx0XHR0aGlzLmFkZEZpbGVTdWdnZXN0KFxyXG5cdFx0XHQnXHU1NkZFXHU2ODA3XHU1QzU1XHU1RUNBXHU3Njg0XHU3QjE0XHU4QkIwXHU4REVGXHU1Rjg0JyxcclxuXHRcdFx0J1x1NTcyOFx1OEZEOVx1OTFDQ1x1NjMwN1x1NUI5QVx1NTZGRVx1NjgwN1x1NUM1NVx1NUVDQVx1NzY4NFx1N0IxNFx1OEJCMFx1OERFRlx1NUY4NCcsXHJcblx0XHRcdCdmb2xkZXJfaWNvbl9nYWxsZXJ5J1xyXG5cdFx0KVxyXG5cclxuXHRcdC8vIHRoaXMuYWRkVGV4dChcclxuXHRcdC8vIFx0J0F1dG8gcGlubmVkIG5vdGVzJyxcclxuXHRcdC8vIFx0J3BpbiBhbGwgbm90ZXMgYXQgc3RhcnR1cCcsXHJcblx0XHQvLyBcdCdFeGFtcGxlOiAxMDAnLFxyXG5cdFx0Ly8gXHQnc3RhcnR1cG1zIChtcyknXHJcblx0XHQvLyApXHJcblx0fVxyXG5cclxuXHRhZGREcm9wZG93bihuYW1lOiBzdHJpbmcsIGRlc2M6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0bmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0LnNldERlc2MoZGVzYylcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4gZHJvcGRvd24uYWRkT3B0aW9uKCdub25lJywgJycpLmFkZE9wdGlvbignbm9uZTInLCAnJykpXHJcblx0fVxyXG5cclxuXHRhZGRGaWxlU3VnZ2VzdChcclxuXHRcdG5hbWU6IHN0cmluZyxcclxuXHRcdGRlc2M6IHN0cmluZyxcclxuXHRcdHNldHRpbmc6IHN0cmluZyxcclxuXHRcdHBsYWNlaG9sZGVyID0gJ1x1NzkzQVx1NEY4Qlx1RkYxQWZvbGRlcjEvZm9sZGVyMi9maWxlMSdcclxuXHQpIHtcclxuXHRcdG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKG5hbWUpXHJcblx0XHRcdC5zZXREZXNjKGRlc2MpXHJcblx0XHRcdC5hZGRTZWFyY2goKGZzKSA9PiB7XHJcblx0XHRcdFx0bmV3IEZpbGVTdWdnZXN0KGZzLmlucHV0RWwsIHRoaXMucGx1Z2luLCBGaWxlU3VnZ2VzdE1vZGUuVGVtcGxhdGVGaWxlcylcclxuXHRcdFx0XHRmcy5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcilcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5nc1tzZXR0aW5nXSBhcyBzdHJpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKG5ld19mb2xkZXIpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Nbc2V0dGluZ10gPSBuZXdfZm9sZGVyXHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcclxuXHRcdFx0XHRmcy5jb250YWluZXJFbC5hZGRDbGFzcygndGVtcGxhdGVyX3NlYXJjaCcpXHJcblx0XHRcdH0pXHJcblx0fVxyXG5cclxuXHRhZGRGb2xkZXJTdWdnZXN0KFxyXG5cdFx0bmFtZTogc3RyaW5nLFxyXG5cdFx0ZGVzYzogc3RyaW5nLFxyXG5cdFx0c2V0dGluZzogc3RyaW5nLFxyXG5cdFx0cGxhY2Vob2xkZXIgPSAnXHU3OTNBXHU0RjhCXHVGRjFBZm9sZGVyMS9mb2xkZXIyJ1xyXG5cdCkge1xyXG5cdFx0bmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0LnNldERlc2MoZGVzYylcclxuXHRcdFx0LmFkZFNlYXJjaCgoZnMpID0+IHtcclxuXHRcdFx0XHRuZXcgRm9sZGVyU3VnZ2VzdChmcy5pbnB1dEVsKVxyXG5cdFx0XHRcdGZzLnNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzW3NldHRpbmddIGFzIHN0cmluZylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgobmV3X2ZvbGRlcikgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5nc1tzZXR0aW5nXSA9IG5ld19mb2xkZXJcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0XHRcdGZzLmNvbnRhaW5lckVsLmFkZENsYXNzKCd0ZW1wbGF0ZXJfc2VhcmNoJylcclxuXHRcdFx0fSlcclxuXHR9XHJcblxyXG5cdGFkZFRvZ2dsZShcclxuXHRcdG5hbWU6IHN0cmluZyxcclxuXHRcdGRlc2M6IHN0cmluZyxcclxuXHRcdHNldHRpbmc6IHN0cmluZyxcclxuXHRcdGFkZHRleHQ/OiBzdHJpbmcsXHJcblx0XHRjYWxsYmFjaz86ICh2OiBhbnkpID0+IGFueVxyXG5cdCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgdG9nZ2xlID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0LnNldERlc2MoZGVzYylcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzW3NldHRpbmddIGFzIGJvb2xlYW4pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzW3NldHRpbmddID0gdmFsdWVcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSBjYWxsYmFjayh2YWx1ZSlcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdClcclxuXHJcblx0XHRpZiAoYWRkdGV4dCkge1xyXG5cdFx0XHR0b2dnbGUuYWRkVGV4dCgodGV4dCkgPT4gdGV4dC5zZXRQbGFjZWhvbGRlcihhZGR0ZXh0KSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFkZFRleHQoXHJcblx0XHRuYW1lOiBzdHJpbmcsXHJcblx0XHRkZXNjOiBzdHJpbmcsXHJcblx0XHRwbGFjZWhvbGRlcjogc3RyaW5nLFxyXG5cdFx0c2V0dGluZzogc3RyaW5nLFxyXG5cdFx0Y2FsbGJhY2s/OiAodjogYW55KSA9PiBhbnlcclxuXHQpOiB2b2lkIHtcclxuXHRcdG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKG5hbWUpXHJcblx0XHRcdC5zZXREZXNjKGRlc2MpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcilcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5nc1tzZXR0aW5nXSBhcyBzdHJpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzW3NldHRpbmddID0gdmFsdWVcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcclxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSBjYWxsYmFjayh2YWx1ZSlcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdClcclxuXHR9XHJcbn1cclxuIiwgIi8vIENyZWRpdHMgZ28gdG8gTGlhbSdzIFBlcmlvZGljIE5vdGVzIFBsdWdpbjogaHR0cHM6Ly9naXRodWIuY29tL2xpYW1jYWluL29ic2lkaWFuLXBlcmlvZGljLW5vdGVzXHJcblxyXG5pbXBvcnQgeyBUQWJzdHJhY3RGaWxlLCBURm9sZGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IFRleHRJbnB1dFN1Z2dlc3QgfSBmcm9tIFwiLi9zdWdnZXN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9sZGVyU3VnZ2VzdCBleHRlbmRzIFRleHRJbnB1dFN1Z2dlc3Q8VEZvbGRlcj4ge1xyXG4gICAgZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHI6IHN0cmluZyk6IFRGb2xkZXJbXSB7XHJcbiAgICAgICAgY29uc3QgYWJzdHJhY3RGaWxlcyA9IGFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpO1xyXG4gICAgICAgIGNvbnN0IGZvbGRlcnM6IFRGb2xkZXJbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZUlucHV0U3RyID0gaW5wdXRTdHIudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgYWJzdHJhY3RGaWxlcy5mb3JFYWNoKChmb2xkZXI6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlciAmJlxyXG4gICAgICAgICAgICAgICAgZm9sZGVyLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhsb3dlckNhc2VJbnB1dFN0cilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnB1c2goZm9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZm9sZGVycztcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJTdWdnZXN0aW9uKGZpbGU6IFRGb2xkZXIsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGVsLnNldFRleHQoZmlsZS5wYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RTdWdnZXN0aW9uKGZpbGU6IFRGb2xkZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmlucHV0RWwudmFsdWUgPSBmaWxlLnBhdGg7XHJcbiAgICAgICAgdGhpcy5pbnB1dEVsLnRyaWdnZXIoXCJpbnB1dFwiKTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwgIi8vIENyZWRpdHMgZ28gdG8gTGlhbSdzIFBlcmlvZGljIE5vdGVzIFBsdWdpbjogaHR0cHM6Ly9naXRodWIuY29tL2xpYW1jYWluL29ic2lkaWFuLXBlcmlvZGljLW5vdGVzXHJcblxyXG5pbXBvcnQgeyBJU3VnZ2VzdE93bmVyLCBTY29wZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQb3BwZXIsIEluc3RhbmNlIGFzIFBvcHBlckluc3RhbmNlIH0gZnJvbSBcIkBwb3BwZXJqcy9jb3JlXCI7XHJcblxyXG5jb25zdCB3cmFwQXJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHNpemU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gKCh2YWx1ZSAlIHNpemUpICsgc2l6ZSkgJSBzaXplO1xyXG59O1xyXG5cclxuY2xhc3MgU3VnZ2VzdDxUPiB7XHJcbiAgICBwcml2YXRlIG93bmVyOiBJU3VnZ2VzdE93bmVyPFQ+O1xyXG4gICAgcHJpdmF0ZSB2YWx1ZXM6IFRbXTtcclxuICAgIHByaXZhdGUgc3VnZ2VzdGlvbnM6IEhUTUxEaXZFbGVtZW50W107XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkSXRlbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgb3duZXI6IElTdWdnZXN0T3duZXI8VD4sXHJcbiAgICAgICAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxyXG4gICAgICAgIHNjb3BlOiBTY29wZVxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwgPSBjb250YWluZXJFbDtcclxuXHJcbiAgICAgICAgY29udGFpbmVyRWwub24oXHJcbiAgICAgICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAgICAgXCIuc3VnZ2VzdGlvbi1pdGVtXCIsXHJcbiAgICAgICAgICAgIHRoaXMub25TdWdnZXN0aW9uQ2xpY2suYmluZCh0aGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29udGFpbmVyRWwub24oXHJcbiAgICAgICAgICAgIFwibW91c2Vtb3ZlXCIsXHJcbiAgICAgICAgICAgIFwiLnN1Z2dlc3Rpb24taXRlbVwiLFxyXG4gICAgICAgICAgICB0aGlzLm9uU3VnZ2VzdGlvbk1vdXNlb3Zlci5iaW5kKHRoaXMpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgc2NvcGUucmVnaXN0ZXIoW10sIFwiQXJyb3dVcFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5pc0NvbXBvc2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0odGhpcy5zZWxlY3RlZEl0ZW0gLSAxLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY29wZS5yZWdpc3RlcihbXSwgXCJBcnJvd0Rvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQuaXNDb21wb3NpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKHRoaXMuc2VsZWN0ZWRJdGVtICsgMSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2NvcGUucmVnaXN0ZXIoW10sIFwiRW50ZXJcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQuaXNDb21wb3NpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlU2VsZWN0ZWRJdGVtKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3VnZ2VzdGlvbkNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50LCBlbDogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zdWdnZXN0aW9ucy5pbmRleE9mKGVsKTtcclxuICAgICAgICB0aGlzLnNldFNlbGVjdGVkSXRlbShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy51c2VTZWxlY3RlZEl0ZW0oZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3VnZ2VzdGlvbk1vdXNlb3ZlcihfZXZlbnQ6IE1vdXNlRXZlbnQsIGVsOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnN1Z2dlc3Rpb25zLmluZGV4T2YoZWwpO1xyXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKGl0ZW0sIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdWdnZXN0aW9ucyh2YWx1ZXM6IFRbXSkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBzdWdnZXN0aW9uRWxzOiBIVE1MRGl2RWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9uRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdihcInN1Z2dlc3Rpb24taXRlbVwiKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW5kZXJTdWdnZXN0aW9uKHZhbHVlLCBzdWdnZXN0aW9uRWwpO1xyXG4gICAgICAgICAgICBzdWdnZXN0aW9uRWxzLnB1c2goc3VnZ2VzdGlvbkVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XHJcbiAgICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25FbHM7XHJcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW0oMCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZVNlbGVjdGVkSXRlbShldmVudDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlc1t0aGlzLnNlbGVjdGVkSXRlbV07XHJcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnNlbGVjdFN1Z2dlc3Rpb24oY3VycmVudFZhbHVlLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFNlbGVjdGVkSXRlbShzZWxlY3RlZEluZGV4OiBudW1iZXIsIHNjcm9sbEludG9WaWV3OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEluZGV4ID0gd3JhcEFyb3VuZChcclxuICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCxcclxuICAgICAgICAgICAgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGhcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHByZXZTZWxlY3RlZFN1Z2dlc3Rpb24gPSB0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc2VsZWN0ZWRJdGVtXTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFN1Z2dlc3Rpb24gPSB0aGlzLnN1Z2dlc3Rpb25zW25vcm1hbGl6ZWRJbmRleF07XHJcblxyXG4gICAgICAgIHByZXZTZWxlY3RlZFN1Z2dlc3Rpb24/LnJlbW92ZUNsYXNzKFwiaXMtc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgc2VsZWN0ZWRTdWdnZXN0aW9uPy5hZGRDbGFzcyhcImlzLXNlbGVjdGVkXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG5vcm1hbGl6ZWRJbmRleDtcclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbEludG9WaWV3KSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkU3VnZ2VzdGlvbi5zY3JvbGxJbnRvVmlldyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGV4dElucHV0U3VnZ2VzdDxUPiBpbXBsZW1lbnRzIElTdWdnZXN0T3duZXI8VD4ge1xyXG4gICAgcHJvdGVjdGVkIGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgcG9wcGVyOiBQb3BwZXJJbnN0YW5jZTtcclxuICAgIHByaXZhdGUgc2NvcGU6IFNjb3BlO1xyXG4gICAgcHJpdmF0ZSBzdWdnZXN0RWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBzdWdnZXN0OiBTdWdnZXN0PFQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlucHV0RWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dEVsID0gaW5wdXRFbDtcclxuICAgICAgICB0aGlzLnNjb3BlID0gbmV3IFNjb3BlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3VnZ2VzdEVsID0gY3JlYXRlRGl2KFwic3VnZ2VzdGlvbi1jb250YWluZXJcIik7XHJcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbiA9IHRoaXMuc3VnZ2VzdEVsLmNyZWF0ZURpdihcInN1Z2dlc3Rpb25cIik7XHJcbiAgICAgICAgdGhpcy5zdWdnZXN0ID0gbmV3IFN1Z2dlc3QodGhpcywgc3VnZ2VzdGlvbiwgdGhpcy5zY29wZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoW10sIFwiRXNjYXBlXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgdGhpcy5vbklucHV0Q2hhbmdlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMub25JbnB1dENoYW5nZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwub24oXHJcbiAgICAgICAgICAgIFwibW91c2Vkb3duXCIsXHJcbiAgICAgICAgICAgIFwiLnN1Z2dlc3Rpb24tY29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgb25JbnB1dENoYW5nZWQoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRTdHIgPSB0aGlzLmlucHV0RWwudmFsdWU7XHJcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmdldFN1Z2dlc3Rpb25zKGlucHV0U3RyKTtcclxuXHJcbiAgICAgICAgaWYgKCFzdWdnZXN0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdC5zZXRTdWdnZXN0aW9ucyhzdWdnZXN0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbihhcHAuZG9tLmFwcENvbnRhaW5lckVsLCB0aGlzLmlucHV0RWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbihjb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnB1dEVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgYXBwLmtleW1hcC5wdXNoU2NvcGUodGhpcy5zY29wZSk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnN1Z2dlc3RFbCk7XHJcbiAgICAgICAgdGhpcy5wb3BwZXIgPSBjcmVhdGVQb3BwZXIoaW5wdXRFbCwgdGhpcy5zdWdnZXN0RWwsIHtcclxuICAgICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxyXG4gICAgICAgICAgICBtb2RpZmllcnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInNhbWVXaWR0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZm46ICh7IHN0YXRlLCBpbnN0YW5jZSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHBvc2l0aW9uaW5nIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQgdHdpY2UgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCBwYXNzIC0gcG9zaXRpb25pbmcgaXQgYWNjb3JkaW5nIHRvIHRoZSB3aWR0aCBvZiB0aGUgcG9wcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlY29uZCBwYXNzIC0gcG9zaXRpb24gaXQgd2l0aCB0aGUgd2lkdGggYm91bmQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZWFybHkgZXhpdCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFdpZHRoID0gYCR7c3RhdGUucmVjdHMucmVmZXJlbmNlLndpZHRofXB4YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnN0eWxlcy5wb3BwZXIud2lkdGggPT09IHRhcmdldFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3R5bGVzLnBvcHBlci53aWR0aCA9IHRhcmdldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlOiBcImJlZm9yZVdyaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXM6IFtcImNvbXB1dGVTdHlsZXNcIl0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCk6IHZvaWQge1xyXG4gICAgICAgIGFwcC5rZXltYXAucG9wU2NvcGUodGhpcy5zY29wZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3VnZ2VzdC5zZXRTdWdnZXN0aW9ucyhbXSk7XHJcbiAgICAgICAgaWYgKHRoaXMucG9wcGVyKSB0aGlzLnBvcHBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5zdWdnZXN0RWwuZGV0YWNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0U3VnZ2VzdGlvbnMoaW5wdXRTdHI6IHN0cmluZyk6IFRbXTtcclxuICAgIGFic3RyYWN0IHJlbmRlclN1Z2dlc3Rpb24oaXRlbTogVCwgZWw6IEhUTUxFbGVtZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IHNlbGVjdFN1Z2dlc3Rpb24oaXRlbTogVCk6IHZvaWQ7XHJcbn1cclxuIiwgImV4cG9ydCB2YXIgdG9wID0gJ3RvcCc7XG5leHBvcnQgdmFyIGJvdHRvbSA9ICdib3R0b20nO1xuZXhwb3J0IHZhciByaWdodCA9ICdyaWdodCc7XG5leHBvcnQgdmFyIGxlZnQgPSAnbGVmdCc7XG5leHBvcnQgdmFyIGF1dG8gPSAnYXV0byc7XG5leHBvcnQgdmFyIGJhc2VQbGFjZW1lbnRzID0gW3RvcCwgYm90dG9tLCByaWdodCwgbGVmdF07XG5leHBvcnQgdmFyIHN0YXJ0ID0gJ3N0YXJ0JztcbmV4cG9ydCB2YXIgZW5kID0gJ2VuZCc7XG5leHBvcnQgdmFyIGNsaXBwaW5nUGFyZW50cyA9ICdjbGlwcGluZ1BhcmVudHMnO1xuZXhwb3J0IHZhciB2aWV3cG9ydCA9ICd2aWV3cG9ydCc7XG5leHBvcnQgdmFyIHBvcHBlciA9ICdwb3BwZXInO1xuZXhwb3J0IHZhciByZWZlcmVuY2UgPSAncmVmZXJlbmNlJztcbmV4cG9ydCB2YXIgdmFyaWF0aW9uUGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9iYXNlUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQgKyBcIi1cIiArIHN0YXJ0LCBwbGFjZW1lbnQgKyBcIi1cIiArIGVuZF0pO1xufSwgW10pO1xuZXhwb3J0IHZhciBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL1tdLmNvbmNhdChiYXNlUGxhY2VtZW50cywgW2F1dG9dKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQsIHBsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7IC8vIG1vZGlmaWVycyB0aGF0IG5lZWQgdG8gcmVhZCB0aGUgRE9NXG5cbmV4cG9ydCB2YXIgYmVmb3JlUmVhZCA9ICdiZWZvcmVSZWFkJztcbmV4cG9ydCB2YXIgcmVhZCA9ICdyZWFkJztcbmV4cG9ydCB2YXIgYWZ0ZXJSZWFkID0gJ2FmdGVyUmVhZCc7IC8vIHB1cmUtbG9naWMgbW9kaWZpZXJzXG5cbmV4cG9ydCB2YXIgYmVmb3JlTWFpbiA9ICdiZWZvcmVNYWluJztcbmV4cG9ydCB2YXIgbWFpbiA9ICdtYWluJztcbmV4cG9ydCB2YXIgYWZ0ZXJNYWluID0gJ2FmdGVyTWFpbic7IC8vIG1vZGlmaWVyIHdpdGggdGhlIHB1cnBvc2UgdG8gd3JpdGUgdG8gdGhlIERPTSAob3Igd3JpdGUgaW50byBhIGZyYW1ld29yayBzdGF0ZSlcblxuZXhwb3J0IHZhciBiZWZvcmVXcml0ZSA9ICdiZWZvcmVXcml0ZSc7XG5leHBvcnQgdmFyIHdyaXRlID0gJ3dyaXRlJztcbmV4cG9ydCB2YXIgYWZ0ZXJXcml0ZSA9ICdhZnRlcldyaXRlJztcbmV4cG9ydCB2YXIgbW9kaWZpZXJQaGFzZXMgPSBbYmVmb3JlUmVhZCwgcmVhZCwgYWZ0ZXJSZWFkLCBiZWZvcmVNYWluLCBtYWluLCBhZnRlck1haW4sIGJlZm9yZVdyaXRlLCB3cml0ZSwgYWZ0ZXJXcml0ZV07IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE5vZGVOYW1lKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgPyAoZWxlbWVudC5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKSA6IG51bGw7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gIGlmIChub2RlID09IG51bGwpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgaWYgKG5vZGUudG9TdHJpbmcoKSAhPT0gJ1tvYmplY3QgV2luZG93XScpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICByZXR1cm4gb3duZXJEb2N1bWVudCA/IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93IDogd2luZG93O1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59IiwgImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkhUTUxFbGVtZW50O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc1NoYWRvd1Jvb3Qobm9kZSkge1xuICAvLyBJRSAxMSBoYXMgbm8gU2hhZG93Um9vdFxuICBpZiAodHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuU2hhZG93Um9vdDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290O1xufVxuXG5leHBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9OyIsICJpbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4uL2RvbS11dGlscy9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiOyAvLyBUaGlzIG1vZGlmaWVyIHRha2VzIHRoZSBzdHlsZXMgcHJlcGFyZWQgYnkgdGhlIGBjb21wdXRlU3R5bGVzYCBtb2RpZmllclxuLy8gYW5kIGFwcGxpZXMgdGhlbSB0byB0aGUgSFRNTEVsZW1lbnRzIHN1Y2ggYXMgcG9wcGVyIGFuZCBhcnJvd1xuXG5mdW5jdGlvbiBhcHBseVN0eWxlcyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG4gIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHN0eWxlID0gc3RhdGUuc3R5bGVzW25hbWVdIHx8IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVzID0gc3RhdGUuYXR0cmlidXRlc1tuYW1lXSB8fCB7fTtcbiAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHNcblxuICAgIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAhZ2V0Tm9kZU5hbWUoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEZsb3cgZG9lc24ndCBzdXBwb3J0IHRvIGV4dGVuZCB0aGlzIHByb3BlcnR5LCBidXQgaXQncyB0aGUgbW9zdFxuICAgIC8vIGVmZmVjdGl2ZSB3YXkgdG8gYXBwbHkgc3R5bGVzIHRvIGFuIEhUTUxFbGVtZW50XG4gICAgLy8gJEZsb3dGaXhNZVtjYW5ub3Qtd3JpdGVdXG5cblxuICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuICB2YXIgaW5pdGlhbFN0eWxlcyA9IHtcbiAgICBwb3BwZXI6IHtcbiAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgbGVmdDogJzAnLFxuICAgICAgdG9wOiAnMCcsXG4gICAgICBtYXJnaW46ICcwJ1xuICAgIH0sXG4gICAgYXJyb3c6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfSxcbiAgICByZWZlcmVuY2U6IHt9XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3RhdGUuZWxlbWVudHMucG9wcGVyLnN0eWxlLCBpbml0aWFsU3R5bGVzLnBvcHBlcik7XG4gIHN0YXRlLnN0eWxlcyA9IGluaXRpYWxTdHlsZXM7XG5cbiAgaWYgKHN0YXRlLmVsZW1lbnRzLmFycm93KSB7XG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5hcnJvdy5zdHlsZSwgaW5pdGlhbFN0eWxlcy5hcnJvdyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdO1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzdGF0ZS5hdHRyaWJ1dGVzW25hbWVdIHx8IHt9O1xuICAgICAgdmFyIHN0eWxlUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHN0YXRlLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHN0YXRlLnN0eWxlc1tuYW1lXSA6IGluaXRpYWxTdHlsZXNbbmFtZV0pOyAvLyBTZXQgYWxsIHZhbHVlcyB0byBhbiBlbXB0eSBzdHJpbmcgdG8gdW5zZXQgdGhlbVxuXG4gICAgICB2YXIgc3R5bGUgPSBzdHlsZVByb3BlcnRpZXMucmVkdWNlKGZ1bmN0aW9uIChzdHlsZSwgcHJvcGVydHkpIHtcbiAgICAgICAgc3R5bGVbcHJvcGVydHldID0gJyc7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgIH0sIHt9KTsgLy8gYXJyb3cgaXMgb3B0aW9uYWwgKyB2aXJ0dWFsIGVsZW1lbnRzXG5cbiAgICAgIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCAhZ2V0Tm9kZU5hbWUoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdhcHBseVN0eWxlcycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnd3JpdGUnLFxuICBmbjogYXBwbHlTdHlsZXMsXG4gIGVmZmVjdDogZWZmZWN0LFxuICByZXF1aXJlczogWydjb21wdXRlU3R5bGVzJ11cbn07IiwgImltcG9ydCB7IGF1dG8gfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbn0iLCAiZXhwb3J0IHZhciBtYXggPSBNYXRoLm1heDtcbmV4cG9ydCB2YXIgbWluID0gTWF0aC5taW47XG5leHBvcnQgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDsiLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VUFTdHJpbmcoKSB7XG4gIHZhciB1YURhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcblxuICBpZiAodWFEYXRhICE9IG51bGwgJiYgdWFEYXRhLmJyYW5kcyAmJiBBcnJheS5pc0FycmF5KHVhRGF0YS5icmFuZHMpKSB7XG4gICAgcmV0dXJuIHVhRGF0YS5icmFuZHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5icmFuZCArIFwiL1wiICsgaXRlbS52ZXJzaW9uO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xufSIsICJpbXBvcnQgZ2V0VUFTdHJpbmcgZnJvbSBcIi4uL3V0aWxzL3VzZXJBZ2VudC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNMYXlvdXRWaWV3cG9ydCgpIHtcbiAgcmV0dXJuICEvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KGdldFVBU3RyaW5nKCkpO1xufSIsICJpbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGluY2x1ZGVTY2FsZSwgaXNGaXhlZFN0cmF0ZWd5KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzRml4ZWRTdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZFN0cmF0ZWd5ID0gZmFsc2U7XG4gIH1cblxuICB2YXIgY2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzY2FsZVggPSAxO1xuICB2YXIgc2NhbGVZID0gMTtcblxuICBpZiAoaW5jbHVkZVNjYWxlICYmIGlzSFRNTEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBzY2FsZVggPSBlbGVtZW50Lm9mZnNldFdpZHRoID4gMCA/IHJvdW5kKGNsaWVudFJlY3Qud2lkdGgpIC8gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAxIDogMTtcbiAgICBzY2FsZVkgPSBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDAgPyByb3VuZChjbGllbnRSZWN0LmhlaWdodCkgLyBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAxIDogMTtcbiAgfVxuXG4gIHZhciBfcmVmID0gaXNFbGVtZW50KGVsZW1lbnQpID8gZ2V0V2luZG93KGVsZW1lbnQpIDogd2luZG93LFxuICAgICAgdmlzdWFsVmlld3BvcnQgPSBfcmVmLnZpc3VhbFZpZXdwb3J0O1xuXG4gIHZhciBhZGRWaXN1YWxPZmZzZXRzID0gIWlzTGF5b3V0Vmlld3BvcnQoKSAmJiBpc0ZpeGVkU3RyYXRlZ3k7XG4gIHZhciB4ID0gKGNsaWVudFJlY3QubGVmdCArIChhZGRWaXN1YWxPZmZzZXRzICYmIHZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCA6IDApKSAvIHNjYWxlWDtcbiAgdmFyIHkgPSAoY2xpZW50UmVjdC50b3AgKyAoYWRkVmlzdWFsT2Zmc2V0cyAmJiB2aXN1YWxWaWV3cG9ydCA/IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCA6IDApKSAvIHNjYWxlWTtcbiAgdmFyIHdpZHRoID0gY2xpZW50UmVjdC53aWR0aCAvIHNjYWxlWDtcbiAgdmFyIGhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0IC8gc2NhbGVZO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0b3A6IHksXG4gICAgcmlnaHQ6IHggKyB3aWR0aCxcbiAgICBib3R0b206IHkgKyBoZWlnaHQsXG4gICAgbGVmdDogeCxcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn0iLCAiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjsgLy8gUmV0dXJucyB0aGUgbGF5b3V0IHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byBpdHMgb2Zmc2V0UGFyZW50LiBMYXlvdXRcbi8vIG1lYW5zIGl0IGRvZXNuJ3QgdGFrZSBpbnRvIGFjY291bnQgdHJhbnNmb3Jtcy5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TGF5b3V0UmVjdChlbGVtZW50KSB7XG4gIHZhciBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpOyAvLyBVc2UgdGhlIGNsaWVudFJlY3Qgc2l6ZXMgaWYgaXQncyBub3QgYmVlbiB0cmFuc2Zvcm1lZC5cbiAgLy8gRml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy8xMjIzXG5cbiAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gIGlmIChNYXRoLmFicyhjbGllbnRSZWN0LndpZHRoIC0gd2lkdGgpIDw9IDEpIHtcbiAgICB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGg7XG4gIH1cblxuICBpZiAoTWF0aC5hYnMoY2xpZW50UmVjdC5oZWlnaHQgLSBoZWlnaHQpIDw9IDEpIHtcbiAgICBoZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogZWxlbWVudC5vZmZzZXRMZWZ0LFxuICAgIHk6IGVsZW1lbnQub2Zmc2V0VG9wLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufSIsICJpbXBvcnQgeyBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciByb290Tm9kZSA9IGNoaWxkLmdldFJvb3ROb2RlICYmIGNoaWxkLmdldFJvb3ROb2RlKCk7IC8vIEZpcnN0LCBhdHRlbXB0IHdpdGggZmFzdGVyIG5hdGl2ZSBtZXRob2RcblxuICBpZiAocGFyZW50LmNvbnRhaW5zKGNoaWxkKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIHRoZW4gZmFsbGJhY2sgdG8gY3VzdG9tIGltcGxlbWVudGF0aW9uIHdpdGggU2hhZG93IERPTSBzdXBwb3J0XG4gIGVsc2UgaWYgKHJvb3ROb2RlICYmIGlzU2hhZG93Um9vdChyb290Tm9kZSkpIHtcbiAgICAgIHZhciBuZXh0ID0gY2hpbGQ7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG5leHQgJiYgcGFyZW50LmlzU2FtZU5vZGUobmV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ106IG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzLi4uXG5cblxuICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlIHx8IG5leHQuaG9zdDtcbiAgICAgIH0gd2hpbGUgKG5leHQpO1xuICAgIH0gLy8gR2l2ZSB1cCwgdGhlIHJlc3VsdCBpcyBmYWxzZVxuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsICJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0iLCAiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5kZXhPZihnZXROb2RlTmFtZShlbGVtZW50KSkgPj0gMDtcbn0iLCAiaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogYXNzdW1lIGJvZHkgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICByZXR1cm4gKChpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50Lm93bmVyRG9jdW1lbnQgOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgZWxlbWVudC5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQ7XG59IiwgImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCB7IGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkge1xuICBpZiAoZ2V0Tm9kZU5hbWUoZWxlbWVudCkgPT09ICdodG1sJykge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuICgvLyB0aGlzIGlzIGEgcXVpY2tlciAoYnV0IGxlc3MgdHlwZSBzYWZlKSB3YXkgdG8gc2F2ZSBxdWl0ZSBzb21lIGJ5dGVzIGZyb20gdGhlIGJ1bmRsZVxuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl1cbiAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICBlbGVtZW50LmFzc2lnbmVkU2xvdCB8fCAvLyBzdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZVxuICAgIGVsZW1lbnQucGFyZW50Tm9kZSB8fCAoIC8vIERPTSBFbGVtZW50IGRldGVjdGVkXG4gICAgaXNTaGFkb3dSb290KGVsZW1lbnQpID8gZWxlbWVudC5ob3N0IDogbnVsbCkgfHwgLy8gU2hhZG93Um9vdCBkZXRlY3RlZFxuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdOiBIVE1MRWxlbWVudCBpcyBhIE5vZGVcbiAgICBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkgLy8gZmFsbGJhY2tcblxuICApO1xufSIsICJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50LCBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgaXNUYWJsZUVsZW1lbnQgZnJvbSBcIi4vaXNUYWJsZUVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRVQVN0cmluZyBmcm9tIFwiLi4vdXRpbHMvdXNlckFnZW50LmpzXCI7XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy84MzdcbiAgZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xufSAvLyBgLm9mZnNldFBhcmVudGAgcmVwb3J0cyBgbnVsbGAgZm9yIGZpeGVkIGVsZW1lbnRzLCB3aGlsZSBhYnNvbHV0ZSBlbGVtZW50c1xuLy8gcmV0dXJuIHRoZSBjb250YWluaW5nIGJsb2NrXG5cblxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgdmFyIGlzRmlyZWZveCA9IC9maXJlZm94L2kudGVzdChnZXRVQVN0cmluZygpKTtcbiAgdmFyIGlzSUUgPSAvVHJpZGVudC9pLnRlc3QoZ2V0VUFTdHJpbmcoKSk7XG5cbiAgaWYgKGlzSUUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIEluIElFIDksIDEwIGFuZCAxMSBmaXhlZCBlbGVtZW50cyBjb250YWluaW5nIGJsb2NrIGlzIGFsd2F5cyBlc3RhYmxpc2hlZCBieSB0aGUgdmlld3BvcnRcbiAgICB2YXIgZWxlbWVudENzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudENzcy5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcblxuICBpZiAoaXNTaGFkb3dSb290KGN1cnJlbnROb2RlKSkge1xuICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgfVxuXG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiBbJ2h0bWwnLCAnYm9keSddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoY3VycmVudE5vZGUpKSA8IDApIHtcbiAgICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7IC8vIFRoaXMgaXMgbm9uLWV4aGF1c3RpdmUgYnV0IGNvdmVycyB0aGUgbW9zdCBjb21tb24gQ1NTIHByb3BlcnRpZXMgdGhhdFxuICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5pbmcgYmxvY2suXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcblxuICAgIGlmIChjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgY3NzLmNvbnRhaW4gPT09ICdwYWludCcgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnXS5pbmRleE9mKGNzcy53aWxsQ2hhbmdlKSAhPT0gLTEgfHwgaXNGaXJlZm94ICYmIGNzcy53aWxsQ2hhbmdlID09PSAnZmlsdGVyJyB8fCBpc0ZpcmVmb3ggJiYgY3NzLmZpbHRlciAmJiBjc3MuZmlsdGVyICE9PSAnbm9uZScpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSAvLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuXG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgaWYgKG9mZnNldFBhcmVudCAmJiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2h0bWwnIHx8IGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSA+PSAwID8gJ3gnIDogJ3knO1xufSIsICJpbXBvcnQgeyBtYXggYXMgbWF0aE1heCwgbWluIGFzIG1hdGhNaW4gfSBmcm9tIFwiLi9tYXRoLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gd2l0aGluKG1pbiwgdmFsdWUsIG1heCkge1xuICByZXR1cm4gbWF0aE1heChtaW4sIG1hdGhNaW4odmFsdWUsIG1heCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbk1heENsYW1wKG1pbiwgdmFsdWUsIG1heCkge1xuICB2YXIgdiA9IHdpdGhpbihtaW4sIHZhbHVlLCBtYXgpO1xuICByZXR1cm4gdiA+IG1heCA/IG1heCA6IHY7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbn0iLCAiaW1wb3J0IGdldEZyZXNoU2lkZU9iamVjdCBmcm9tIFwiLi9nZXRGcmVzaFNpZGVPYmplY3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlUGFkZGluZ09iamVjdChwYWRkaW5nT2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBnZXRGcmVzaFNpZGVPYmplY3QoKSwgcGFkZGluZ09iamVjdCk7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4cGFuZFRvSGFzaE1hcCh2YWx1ZSwga2V5cykge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGhhc2hNYXAsIGtleSkge1xuICAgIGhhc2hNYXBba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBoYXNoTWFwO1xuICB9LCB7fSk7XG59IiwgImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi4vZG9tLXV0aWxzL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHdpdGhpbiB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4uL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi4vdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzXCI7XG5pbXBvcnQgeyBsZWZ0LCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHRvcCwgYm90dG9tIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHRvUGFkZGluZ09iamVjdCA9IGZ1bmN0aW9uIHRvUGFkZGluZ09iamVjdChwYWRkaW5nLCBzdGF0ZSkge1xuICBwYWRkaW5nID0gdHlwZW9mIHBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyBwYWRkaW5nKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogcGFkZGluZztcbiAgcmV0dXJuIG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG59O1xuXG5mdW5jdGlvbiBhcnJvdyhfcmVmKSB7XG4gIHZhciBfc3RhdGUkbW9kaWZpZXJzRGF0YSQ7XG5cbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7XG4gIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7XG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIGlmICghYXJyb3dFbGVtZW50IHx8ICFwb3BwZXJPZmZzZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdPYmplY3QgPSB0b1BhZGRpbmdPYmplY3Qob3B0aW9ucy5wYWRkaW5nLCBzdGF0ZSk7XG4gIHZhciBhcnJvd1JlY3QgPSBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCk7XG4gIHZhciBtaW5Qcm9wID0gYXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgdmFyIG1heFByb3AgPSBheGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgdmFyIGVuZERpZmYgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbbGVuXSArIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5wb3BwZXJbbGVuXTtcbiAgdmFyIHN0YXJ0RGlmZiA9IHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gIHZhciBhcnJvd09mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChhcnJvd0VsZW1lbnQpO1xuICB2YXIgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRXaWR0aCB8fCAwIDogMDtcbiAgdmFyIGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyOyAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIHBvcHBlciBpZiB0aGUgY2VudGVyIHBvaW50IGlzXG4gIC8vIG91dHNpZGUgb2YgdGhlIHBvcHBlciBib3VuZHNcblxuICB2YXIgbWluID0gcGFkZGluZ09iamVjdFttaW5Qcm9wXTtcbiAgdmFyIG1heCA9IGNsaWVudFNpemUgLSBhcnJvd1JlY3RbbGVuXSAtIHBhZGRpbmdPYmplY3RbbWF4UHJvcF07XG4gIHZhciBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93UmVjdFtsZW5dIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICB2YXIgb2Zmc2V0ID0gd2l0aGluKG1pbiwgY2VudGVyLCBtYXgpOyAvLyBQcmV2ZW50cyBicmVha2luZyBzeW50YXggaGlnaGxpZ2h0aW5nLi4uXG5cbiAgdmFyIGF4aXNQcm9wID0gYXhpcztcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50LFxuICAgICAgYXJyb3dFbGVtZW50ID0gX29wdGlvbnMkZWxlbWVudCA9PT0gdm9pZCAwID8gJ1tkYXRhLXBvcHBlci1hcnJvd10nIDogX29wdGlvbnMkZWxlbWVudDtcblxuICBpZiAoYXJyb3dFbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ1NTIHNlbGVjdG9yXG5cblxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0YXRlLmVsZW1lbnRzLmFycm93ID0gYXJyb3dFbGVtZW50O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnYXJyb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogYXJyb3csXG4gIGVmZmVjdDogZWZmZWN0LFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J11cbn07IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFZhcmlhdGlvbihwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xufSIsICJpbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20sIGVuZCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHVuc2V0U2lkZXMgPSB7XG4gIHRvcDogJ2F1dG8nLFxuICByaWdodDogJ2F1dG8nLFxuICBib3R0b206ICdhdXRvJyxcbiAgbGVmdDogJ2F1dG8nXG59OyAvLyBSb3VuZCB0aGUgb2Zmc2V0cyB0byB0aGUgbmVhcmVzdCBzdWl0YWJsZSBzdWJwaXhlbCBiYXNlZCBvbiB0aGUgRFBSLlxuLy8gWm9vbWluZyBjYW4gY2hhbmdlIHRoZSBEUFIsIGJ1dCBpdCBzZWVtcyB0byByZXBvcnQgYSB2YWx1ZSB0aGF0IHdpbGxcbi8vIGNsZWFubHkgZGl2aWRlIHRoZSB2YWx1ZXMgaW50byB0aGUgYXBwcm9wcmlhdGUgc3VicGl4ZWxzLlxuXG5mdW5jdGlvbiByb3VuZE9mZnNldHNCeURQUihfcmVmLCB3aW4pIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgICB5ID0gX3JlZi55O1xuICB2YXIgZHByID0gd2luLmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgcmV0dXJuIHtcbiAgICB4OiByb3VuZCh4ICogZHByKSAvIGRwciB8fCAwLFxuICAgIHk6IHJvdW5kKHkgKiBkcHIpIC8gZHByIHx8IDBcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvU3R5bGVzKF9yZWYyKSB7XG4gIHZhciBfT2JqZWN0JGFzc2lnbjI7XG5cbiAgdmFyIHBvcHBlciA9IF9yZWYyLnBvcHBlcixcbiAgICAgIHBvcHBlclJlY3QgPSBfcmVmMi5wb3BwZXJSZWN0LFxuICAgICAgcGxhY2VtZW50ID0gX3JlZjIucGxhY2VtZW50LFxuICAgICAgdmFyaWF0aW9uID0gX3JlZjIudmFyaWF0aW9uLFxuICAgICAgb2Zmc2V0cyA9IF9yZWYyLm9mZnNldHMsXG4gICAgICBwb3NpdGlvbiA9IF9yZWYyLnBvc2l0aW9uLFxuICAgICAgZ3B1QWNjZWxlcmF0aW9uID0gX3JlZjIuZ3B1QWNjZWxlcmF0aW9uLFxuICAgICAgYWRhcHRpdmUgPSBfcmVmMi5hZGFwdGl2ZSxcbiAgICAgIHJvdW5kT2Zmc2V0cyA9IF9yZWYyLnJvdW5kT2Zmc2V0cyxcbiAgICAgIGlzRml4ZWQgPSBfcmVmMi5pc0ZpeGVkO1xuICB2YXIgX29mZnNldHMkeCA9IG9mZnNldHMueCxcbiAgICAgIHggPSBfb2Zmc2V0cyR4ID09PSB2b2lkIDAgPyAwIDogX29mZnNldHMkeCxcbiAgICAgIF9vZmZzZXRzJHkgPSBvZmZzZXRzLnksXG4gICAgICB5ID0gX29mZnNldHMkeSA9PT0gdm9pZCAwID8gMCA6IF9vZmZzZXRzJHk7XG5cbiAgdmFyIF9yZWYzID0gdHlwZW9mIHJvdW5kT2Zmc2V0cyA9PT0gJ2Z1bmN0aW9uJyA/IHJvdW5kT2Zmc2V0cyh7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0pIDoge1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xuXG4gIHggPSBfcmVmMy54O1xuICB5ID0gX3JlZjMueTtcbiAgdmFyIGhhc1ggPSBvZmZzZXRzLmhhc093blByb3BlcnR5KCd4Jyk7XG4gIHZhciBoYXNZID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneScpO1xuICB2YXIgc2lkZVggPSBsZWZ0O1xuICB2YXIgc2lkZVkgPSB0b3A7XG4gIHZhciB3aW4gPSB3aW5kb3c7XG5cbiAgaWYgKGFkYXB0aXZlKSB7XG4gICAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChwb3BwZXIpO1xuICAgIHZhciBoZWlnaHRQcm9wID0gJ2NsaWVudEhlaWdodCc7XG4gICAgdmFyIHdpZHRoUHJvcCA9ICdjbGllbnRXaWR0aCc7XG5cbiAgICBpZiAob2Zmc2V0UGFyZW50ID09PSBnZXRXaW5kb3cocG9wcGVyKSkge1xuICAgICAgb2Zmc2V0UGFyZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KHBvcHBlcik7XG5cbiAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gIT09ICdzdGF0aWMnICYmIHBvc2l0aW9uID09PSAnYWJzb2x1dGUnKSB7XG4gICAgICAgIGhlaWdodFByb3AgPSAnc2Nyb2xsSGVpZ2h0JztcbiAgICAgICAgd2lkdGhQcm9wID0gJ3Njcm9sbFdpZHRoJztcbiAgICAgIH1cbiAgICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhc3RdOiBmb3JjZSB0eXBlIHJlZmluZW1lbnQsIHdlIGNvbXBhcmUgb2Zmc2V0UGFyZW50IHdpdGggd2luZG93IGFib3ZlLCBidXQgRmxvdyBkb2Vzbid0IGRldGVjdCBpdFxuXG5cbiAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQ7XG5cbiAgICBpZiAocGxhY2VtZW50ID09PSB0b3AgfHwgKHBsYWNlbWVudCA9PT0gbGVmdCB8fCBwbGFjZW1lbnQgPT09IHJpZ2h0KSAmJiB2YXJpYXRpb24gPT09IGVuZCkge1xuICAgICAgc2lkZVkgPSBib3R0b207XG4gICAgICB2YXIgb2Zmc2V0WSA9IGlzRml4ZWQgJiYgb2Zmc2V0UGFyZW50ID09PSB3aW4gJiYgd2luLnZpc3VhbFZpZXdwb3J0ID8gd2luLnZpc3VhbFZpZXdwb3J0LmhlaWdodCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgb2Zmc2V0UGFyZW50W2hlaWdodFByb3BdO1xuICAgICAgeSAtPSBvZmZzZXRZIC0gcG9wcGVyUmVjdC5oZWlnaHQ7XG4gICAgICB5ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTtcbiAgICB9XG5cbiAgICBpZiAocGxhY2VtZW50ID09PSBsZWZ0IHx8IChwbGFjZW1lbnQgPT09IHRvcCB8fCBwbGFjZW1lbnQgPT09IGJvdHRvbSkgJiYgdmFyaWF0aW9uID09PSBlbmQpIHtcbiAgICAgIHNpZGVYID0gcmlnaHQ7XG4gICAgICB2YXIgb2Zmc2V0WCA9IGlzRml4ZWQgJiYgb2Zmc2V0UGFyZW50ID09PSB3aW4gJiYgd2luLnZpc3VhbFZpZXdwb3J0ID8gd2luLnZpc3VhbFZpZXdwb3J0LndpZHRoIDogLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICBvZmZzZXRQYXJlbnRbd2lkdGhQcm9wXTtcbiAgICAgIHggLT0gb2Zmc2V0WCAtIHBvcHBlclJlY3Qud2lkdGg7XG4gICAgICB4ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29tbW9uU3R5bGVzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgcG9zaXRpb246IHBvc2l0aW9uXG4gIH0sIGFkYXB0aXZlICYmIHVuc2V0U2lkZXMpO1xuXG4gIHZhciBfcmVmNCA9IHJvdW5kT2Zmc2V0cyA9PT0gdHJ1ZSA/IHJvdW5kT2Zmc2V0c0J5RFBSKHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfSwgZ2V0V2luZG93KHBvcHBlcikpIDoge1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xuXG4gIHggPSBfcmVmNC54O1xuICB5ID0gX3JlZjQueTtcblxuICBpZiAoZ3B1QWNjZWxlcmF0aW9uKSB7XG4gICAgdmFyIF9PYmplY3QkYXNzaWduO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywgKF9PYmplY3QkYXNzaWduID0ge30sIF9PYmplY3QkYXNzaWduW3NpZGVZXSA9IGhhc1kgPyAnMCcgOiAnJywgX09iamVjdCRhc3NpZ25bc2lkZVhdID0gaGFzWCA/ICcwJyA6ICcnLCBfT2JqZWN0JGFzc2lnbi50cmFuc2Zvcm0gPSAod2luLmRldmljZVBpeGVsUmF0aW8gfHwgMSkgPD0gMSA/IFwidHJhbnNsYXRlKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgpXCIgOiBcInRyYW5zbGF0ZTNkKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgsIDApXCIsIF9PYmplY3QkYXNzaWduKSk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCAoX09iamVjdCRhc3NpZ24yID0ge30sIF9PYmplY3QkYXNzaWduMltzaWRlWV0gPSBoYXNZID8geSArIFwicHhcIiA6ICcnLCBfT2JqZWN0JGFzc2lnbjJbc2lkZVhdID0gaGFzWCA/IHggKyBcInB4XCIgOiAnJywgX09iamVjdCRhc3NpZ24yLnRyYW5zZm9ybSA9ICcnLCBfT2JqZWN0JGFzc2lnbjIpKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVN0eWxlcyhfcmVmNSkge1xuICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmNS5vcHRpb25zO1xuICB2YXIgX29wdGlvbnMkZ3B1QWNjZWxlcmF0ID0gb3B0aW9ucy5ncHVBY2NlbGVyYXRpb24sXG4gICAgICBncHVBY2NlbGVyYXRpb24gPSBfb3B0aW9ucyRncHVBY2NlbGVyYXQgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRncHVBY2NlbGVyYXQsXG4gICAgICBfb3B0aW9ucyRhZGFwdGl2ZSA9IG9wdGlvbnMuYWRhcHRpdmUsXG4gICAgICBhZGFwdGl2ZSA9IF9vcHRpb25zJGFkYXB0aXZlID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkYWRhcHRpdmUsXG4gICAgICBfb3B0aW9ucyRyb3VuZE9mZnNldHMgPSBvcHRpb25zLnJvdW5kT2Zmc2V0cyxcbiAgICAgIHJvdW5kT2Zmc2V0cyA9IF9vcHRpb25zJHJvdW5kT2Zmc2V0cyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHJvdW5kT2Zmc2V0cztcbiAgdmFyIGNvbW1vblN0eWxlcyA9IHtcbiAgICBwbGFjZW1lbnQ6IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KSxcbiAgICB2YXJpYXRpb246IGdldFZhcmlhdGlvbihzdGF0ZS5wbGFjZW1lbnQpLFxuICAgIHBvcHBlcjogc3RhdGUuZWxlbWVudHMucG9wcGVyLFxuICAgIHBvcHBlclJlY3Q6IHN0YXRlLnJlY3RzLnBvcHBlcixcbiAgICBncHVBY2NlbGVyYXRpb246IGdwdUFjY2VsZXJhdGlvbixcbiAgICBpc0ZpeGVkOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5ID09PSAnZml4ZWQnXG4gIH07XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUuc3R5bGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnN0eWxlcy5wb3BwZXIsIG1hcFRvU3R5bGVzKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywge1xuICAgICAgb2Zmc2V0czogc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLFxuICAgICAgcG9zaXRpb246IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3ksXG4gICAgICBhZGFwdGl2ZTogYWRhcHRpdmUsXG4gICAgICByb3VuZE9mZnNldHM6IHJvdW5kT2Zmc2V0c1xuICAgIH0pKSk7XG4gIH1cblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5hcnJvdyAhPSBudWxsKSB7XG4gICAgc3RhdGUuc3R5bGVzLmFycm93ID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLmFycm93LCBtYXBUb1N0eWxlcyhPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIHtcbiAgICAgIG9mZnNldHM6IHN0YXRlLm1vZGlmaWVyc0RhdGEuYXJyb3csXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGFkYXB0aXZlOiBmYWxzZSxcbiAgICAgIHJvdW5kT2Zmc2V0czogcm91bmRPZmZzZXRzXG4gICAgfSkpKTtcbiAgfVxuXG4gIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIsIHtcbiAgICAnZGF0YS1wb3BwZXItcGxhY2VtZW50Jzogc3RhdGUucGxhY2VtZW50XG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnY29tcHV0ZVN0eWxlcycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnYmVmb3JlV3JpdGUnLFxuICBmbjogY29tcHV0ZVN0eWxlcyxcbiAgZGF0YToge31cbn07IiwgImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRXaW5kb3cuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG52YXIgcGFzc2l2ZSA9IHtcbiAgcGFzc2l2ZTogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGluc3RhbmNlID0gX3JlZi5pbnN0YW5jZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRzY3JvbGwgPSBvcHRpb25zLnNjcm9sbCxcbiAgICAgIHNjcm9sbCA9IF9vcHRpb25zJHNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHNjcm9sbCxcbiAgICAgIF9vcHRpb25zJHJlc2l6ZSA9IG9wdGlvbnMucmVzaXplLFxuICAgICAgcmVzaXplID0gX29wdGlvbnMkcmVzaXplID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcmVzaXplO1xuICB2YXIgd2luZG93ID0gZ2V0V2luZG93KHN0YXRlLmVsZW1lbnRzLnBvcHBlcik7XG4gIHZhciBzY3JvbGxQYXJlbnRzID0gW10uY29uY2F0KHN0YXRlLnNjcm9sbFBhcmVudHMucmVmZXJlbmNlLCBzdGF0ZS5zY3JvbGxQYXJlbnRzLnBvcHBlcik7XG5cbiAgaWYgKHNjcm9sbCkge1xuICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXNpemUpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNjcm9sbCkge1xuICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVzaXplKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdGFuY2UudXBkYXRlLCBwYXNzaXZlKTtcbiAgICB9XG4gIH07XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdldmVudExpc3RlbmVycycsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnd3JpdGUnLFxuICBmbjogZnVuY3Rpb24gZm4oKSB7fSxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIGRhdGE6IHt9XG59OyIsICJ2YXIgaGFzaCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn0iLCAidmFyIGhhc2ggPSB7XG4gIHN0YXJ0OiAnZW5kJyxcbiAgZW5kOiAnc3RhcnQnXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufSIsICJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsKG5vZGUpIHtcbiAgdmFyIHdpbiA9IGdldFdpbmRvdyhub2RlKTtcbiAgdmFyIHNjcm9sbExlZnQgPSB3aW4ucGFnZVhPZmZzZXQ7XG4gIHZhciBzY3JvbGxUb3AgPSB3aW4ucGFnZVlPZmZzZXQ7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICB9O1xufSIsICJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpIHtcbiAgLy8gSWYgPGh0bWw+IGhhcyBhIENTUyB3aWR0aCBncmVhdGVyIHRoYW4gdGhlIHZpZXdwb3J0LCB0aGVuIHRoaXMgd2lsbCBiZVxuICAvLyBpbmNvcnJlY3QgZm9yIFJUTC5cbiAgLy8gUG9wcGVyIDEgaXMgYnJva2VuIGluIHRoaXMgY2FzZSBhbmQgbmV2ZXIgaGFkIGEgYnVnIHJlcG9ydCBzbyBsZXQncyBhc3N1bWVcbiAgLy8gaXQncyBub3QgYW4gaXNzdWUuIEkgZG9uJ3QgdGhpbmsgYW55b25lIGV2ZXIgc3BlY2lmaWVzIHdpZHRoIG9uIDxodG1sPlxuICAvLyBhbnl3YXkuXG4gIC8vIEJyb3dzZXJzIHdoZXJlIHRoZSBsZWZ0IHNjcm9sbGJhciBkb2Vzbid0IGNhdXNlIGFuIGlzc3VlIHJlcG9ydCBgMGAgZm9yXG4gIC8vIHRoaXMgKGUuZy4gRWRnZSAyMDE5LCBJRTExLCBTYWZhcmkpXG4gIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgZ2V0V2luZG93U2Nyb2xsKGVsZW1lbnQpLnNjcm9sbExlZnQ7XG59IiwgImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIHZhciB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7XG5cbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgdmFyIGxheW91dFZpZXdwb3J0ID0gaXNMYXlvdXRWaWV3cG9ydCgpO1xuXG4gICAgaWYgKGxheW91dFZpZXdwb3J0IHx8ICFsYXlvdXRWaWV3cG9ydCAmJiBzdHJhdGVneSA9PT0gJ2ZpeGVkJykge1xuICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHggKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpLFxuICAgIHk6IHlcbiAgfTtcbn0iLCAiaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGxCYXJYIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbEJhclguanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgeyBtYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiOyAvLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldERvY3VtZW50UmVjdChlbGVtZW50KSB7XG4gIHZhciBfZWxlbWVudCRvd25lckRvY3VtZW47XG5cbiAgdmFyIGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIHZhciB3aW5TY3JvbGwgPSBnZXRXaW5kb3dTY3JvbGwoZWxlbWVudCk7XG4gIHZhciBib2R5ID0gKF9lbGVtZW50JG93bmVyRG9jdW1lbiA9IGVsZW1lbnQub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50JG93bmVyRG9jdW1lbi5ib2R5O1xuICB2YXIgd2lkdGggPSBtYXgoaHRtbC5zY3JvbGxXaWR0aCwgaHRtbC5jbGllbnRXaWR0aCwgYm9keSA/IGJvZHkuc2Nyb2xsV2lkdGggOiAwLCBib2R5ID8gYm9keS5jbGllbnRXaWR0aCA6IDApO1xuICB2YXIgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keSA/IGJvZHkuc2Nyb2xsSGVpZ2h0IDogMCwgYm9keSA/IGJvZHkuY2xpZW50SGVpZ2h0IDogMCk7XG4gIHZhciB4ID0gLXdpblNjcm9sbC5zY3JvbGxMZWZ0ICsgZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KTtcbiAgdmFyIHkgPSAtd2luU2Nyb2xsLnNjcm9sbFRvcDtcblxuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShib2R5IHx8IGh0bWwpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5jbGllbnRXaWR0aCA6IDApIC0gd2lkdGg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn0iLCAiaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBGaXJlZm94IHdhbnRzIHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBvdmVyZmxvdyA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dZO1xuXG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpO1xufSIsICJpbXBvcnQgZ2V0UGFyZW50Tm9kZSBmcm9tIFwiLi9nZXRQYXJlbnROb2RlLmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlKSB7XG4gIGlmIChbJ2h0bWwnLCAnYm9keScsICcjZG9jdW1lbnQnXS5pbmRleE9mKGdldE5vZGVOYW1lKG5vZGUpKSA+PSAwKSB7XG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogYXNzdW1lIGJvZHkgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIGlmIChpc0hUTUxFbGVtZW50KG5vZGUpICYmIGlzU2Nyb2xsUGFyZW50KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUobm9kZSkpO1xufSIsICJpbXBvcnQgZ2V0U2Nyb2xsUGFyZW50IGZyb20gXCIuL2dldFNjcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuLypcbmdpdmVuIGEgRE9NIGVsZW1lbnQsIHJldHVybiB0aGUgbGlzdCBvZiBhbGwgc2Nyb2xsIHBhcmVudHMsIHVwIHRoZSBsaXN0IG9mIGFuY2Vzb3JzXG51bnRpbCB3ZSBnZXQgdG8gdGhlIHRvcCB3aW5kb3cgb2JqZWN0LiBUaGlzIGxpc3QgaXMgd2hhdCB3ZSBhdHRhY2ggc2Nyb2xsIGxpc3RlbmVyc1xudG8sIGJlY2F1c2UgaWYgYW55IG9mIHRoZXNlIHBhcmVudCBlbGVtZW50cyBzY3JvbGwsIHdlJ2xsIG5lZWQgdG8gcmUtY2FsY3VsYXRlIHRoZVxucmVmZXJlbmNlIGVsZW1lbnQncyBwb3NpdGlvbi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpc3RTY3JvbGxQYXJlbnRzKGVsZW1lbnQsIGxpc3QpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICBpZiAobGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgbGlzdCA9IFtdO1xuICB9XG5cbiAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbGVtZW50KTtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudCA9PT0gKChfZWxlbWVudCRvd25lckRvY3VtZW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRvd25lckRvY3VtZW4uYm9keSk7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coc2Nyb2xsUGFyZW50KTtcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IFt3aW5dLmNvbmNhdCh3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzU2Nyb2xsUGFyZW50KHNjcm9sbFBhcmVudCkgPyBzY3JvbGxQYXJlbnQgOiBbXSkgOiBzY3JvbGxQYXJlbnQ7XG4gIHZhciB1cGRhdGVkTGlzdCA9IGxpc3QuY29uY2F0KHRhcmdldCk7XG4gIHJldHVybiBpc0JvZHkgPyB1cGRhdGVkTGlzdCA6IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdOiBpc0JvZHkgdGVsbHMgdXMgdGFyZ2V0IHdpbGwgYmUgYW4gSFRNTEVsZW1lbnQgaGVyZVxuICB1cGRhdGVkTGlzdC5jb25jYXQobGlzdFNjcm9sbFBhcmVudHMoZ2V0UGFyZW50Tm9kZSh0YXJnZXQpKSk7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlY3RUb0NsaWVudFJlY3QocmVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcmVjdCwge1xuICAgIGxlZnQ6IHJlY3QueCxcbiAgICB0b3A6IHJlY3QueSxcbiAgICByaWdodDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBib3R0b206IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH0pO1xufSIsICJpbXBvcnQgeyB2aWV3cG9ydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldFZpZXdwb3J0UmVjdCBmcm9tIFwiLi9nZXRWaWV3cG9ydFJlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudFJlY3QgZnJvbSBcIi4vZ2V0RG9jdW1lbnRSZWN0LmpzXCI7XG5pbXBvcnQgbGlzdFNjcm9sbFBhcmVudHMgZnJvbSBcIi4vbGlzdFNjcm9sbFBhcmVudHMuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4vZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IHsgaXNFbGVtZW50LCBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi9jb250YWlucy5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgcmVjdFRvQ2xpZW50UmVjdCBmcm9tIFwiLi4vdXRpbHMvcmVjdFRvQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IHsgbWF4LCBtaW4gfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBmYWxzZSwgc3RyYXRlZ3kgPT09ICdmaXhlZCcpO1xuICByZWN0LnRvcCA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRUb3A7XG4gIHJlY3QubGVmdCA9IHJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgcmVjdC5ib3R0b20gPSByZWN0LnRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICByZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmVjdC53aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIHJlY3QuaGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJlY3QueCA9IHJlY3QubGVmdDtcbiAgcmVjdC55ID0gcmVjdC50b3A7XG4gIHJldHVybiByZWN0O1xufVxuXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBjbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpIHtcbiAgcmV0dXJuIGNsaXBwaW5nUGFyZW50ID09PSB2aWV3cG9ydCA/IHJlY3RUb0NsaWVudFJlY3QoZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSkgOiBpc0VsZW1lbnQoY2xpcHBpbmdQYXJlbnQpID8gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KSA6IHJlY3RUb0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkpO1xufSAvLyBBIFwiY2xpcHBpbmcgcGFyZW50XCIgaXMgYW4gb3ZlcmZsb3dhYmxlIGNvbnRhaW5lciB3aXRoIHRoZSBjaGFyYWN0ZXJpc3RpYyBvZlxuLy8gY2xpcHBpbmcgKG9yIGhpZGluZykgb3ZlcmZsb3dpbmcgZWxlbWVudHMgd2l0aCBhIHBvc2l0aW9uIGRpZmZlcmVudCBmcm9tXG4vLyBgaW5pdGlhbGBcblxuXG5mdW5jdGlvbiBnZXRDbGlwcGluZ1BhcmVudHMoZWxlbWVudCkge1xuICB2YXIgY2xpcHBpbmdQYXJlbnRzID0gbGlzdFNjcm9sbFBhcmVudHMoZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7XG4gIHZhciBjYW5Fc2NhcGVDbGlwcGluZyA9IFsnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmRleE9mKGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24pID49IDA7XG4gIHZhciBjbGlwcGVyRWxlbWVudCA9IGNhbkVzY2FwZUNsaXBwaW5nICYmIGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgPyBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkgOiBlbGVtZW50O1xuXG4gIGlmICghaXNFbGVtZW50KGNsaXBwZXJFbGVtZW50KSkge1xuICAgIHJldHVybiBbXTtcbiAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMTQxNFxuXG5cbiAgcmV0dXJuIGNsaXBwaW5nUGFyZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNsaXBwaW5nUGFyZW50KSB7XG4gICAgcmV0dXJuIGlzRWxlbWVudChjbGlwcGluZ1BhcmVudCkgJiYgY29udGFpbnMoY2xpcHBpbmdQYXJlbnQsIGNsaXBwZXJFbGVtZW50KSAmJiBnZXROb2RlTmFtZShjbGlwcGluZ1BhcmVudCkgIT09ICdib2R5JztcbiAgfSk7XG59IC8vIEdldHMgdGhlIG1heGltdW0gYXJlYSB0aGF0IHRoZSBlbGVtZW50IGlzIHZpc2libGUgaW4gZHVlIHRvIGFueSBudW1iZXIgb2Zcbi8vIGNsaXBwaW5nIHBhcmVudHNcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDbGlwcGluZ1JlY3QoZWxlbWVudCwgYm91bmRhcnksIHJvb3RCb3VuZGFyeSwgc3RyYXRlZ3kpIHtcbiAgdmFyIG1haW5DbGlwcGluZ1BhcmVudHMgPSBib3VuZGFyeSA9PT0gJ2NsaXBwaW5nUGFyZW50cycgPyBnZXRDbGlwcGluZ1BhcmVudHMoZWxlbWVudCkgOiBbXS5jb25jYXQoYm91bmRhcnkpO1xuICB2YXIgY2xpcHBpbmdQYXJlbnRzID0gW10uY29uY2F0KG1haW5DbGlwcGluZ1BhcmVudHMsIFtyb290Qm91bmRhcnldKTtcbiAgdmFyIGZpcnN0Q2xpcHBpbmdQYXJlbnQgPSBjbGlwcGluZ1BhcmVudHNbMF07XG4gIHZhciBjbGlwcGluZ1JlY3QgPSBjbGlwcGluZ1BhcmVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2NSZWN0LCBjbGlwcGluZ1BhcmVudCkge1xuICAgIHZhciByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21NaXhlZFR5cGUoZWxlbWVudCwgY2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBmaXJzdENsaXBwaW5nUGFyZW50LCBzdHJhdGVneSkpO1xuICBjbGlwcGluZ1JlY3Qud2lkdGggPSBjbGlwcGluZ1JlY3QucmlnaHQgLSBjbGlwcGluZ1JlY3QubGVmdDtcbiAgY2xpcHBpbmdSZWN0LmhlaWdodCA9IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wO1xuICBjbGlwcGluZ1JlY3QueCA9IGNsaXBwaW5nUmVjdC5sZWZ0O1xuICBjbGlwcGluZ1JlY3QueSA9IGNsaXBwaW5nUmVjdC50b3A7XG4gIHJldHVybiBjbGlwcGluZ1JlY3Q7XG59IiwgImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4vZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCBzdGFydCwgZW5kIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wdXRlT2Zmc2V0cyhfcmVmKSB7XG4gIHZhciByZWZlcmVuY2UgPSBfcmVmLnJlZmVyZW5jZSxcbiAgICAgIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsXG4gICAgICBwbGFjZW1lbnQgPSBfcmVmLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPyBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgdmFyaWF0aW9uID0gcGxhY2VtZW50ID8gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgOiBudWxsO1xuICB2YXIgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGVsZW1lbnQud2lkdGggLyAyO1xuICB2YXIgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBlbGVtZW50LmhlaWdodCAvIDI7XG4gIHZhciBvZmZzZXRzO1xuXG4gIHN3aXRjaCAoYmFzZVBsYWNlbWVudCkge1xuICAgIGNhc2UgdG9wOlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBlbGVtZW50LmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBib3R0b206XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgcmlnaHQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBsZWZ0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBlbGVtZW50LndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG5cbiAgdmFyIG1haW5BeGlzID0gYmFzZVBsYWNlbWVudCA/IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KSA6IG51bGw7XG5cbiAgaWYgKG1haW5BeGlzICE9IG51bGwpIHtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAgIHN3aXRjaCAodmFyaWF0aW9uKSB7XG4gICAgICBjYXNlIHN0YXJ0OlxuICAgICAgICBvZmZzZXRzW21haW5BeGlzXSA9IG9mZnNldHNbbWFpbkF4aXNdIC0gKHJlZmVyZW5jZVtsZW5dIC8gMiAtIGVsZW1lbnRbbGVuXSAvIDIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBlbmQ6XG4gICAgICAgIG9mZnNldHNbbWFpbkF4aXNdID0gb2Zmc2V0c1ttYWluQXhpc10gKyAocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvZmZzZXRzO1xufSIsICJpbXBvcnQgZ2V0Q2xpcHBpbmdSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgY29tcHV0ZU9mZnNldHMgZnJvbSBcIi4vY29tcHV0ZU9mZnNldHMuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuL3JlY3RUb0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCB7IGNsaXBwaW5nUGFyZW50cywgcmVmZXJlbmNlLCBwb3BwZXIsIGJvdHRvbSwgdG9wLCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi4vZG9tLXV0aWxzL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4vbWVyZ2VQYWRkaW5nT2JqZWN0LmpzXCI7XG5pbXBvcnQgZXhwYW5kVG9IYXNoTWFwIGZyb20gXCIuL2V4cGFuZFRvSGFzaE1hcC5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRldGVjdE92ZXJmbG93KHN0YXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgX29wdGlvbnMkcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LFxuICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMkcGxhY2VtZW50ID09PSB2b2lkIDAgPyBzdGF0ZS5wbGFjZW1lbnQgOiBfb3B0aW9ucyRwbGFjZW1lbnQsXG4gICAgICBfb3B0aW9ucyRzdHJhdGVneSA9IF9vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgc3RyYXRlZ3kgPSBfb3B0aW9ucyRzdHJhdGVneSA9PT0gdm9pZCAwID8gc3RhdGUuc3RyYXRlZ3kgOiBfb3B0aW9ucyRzdHJhdGVneSxcbiAgICAgIF9vcHRpb25zJGJvdW5kYXJ5ID0gX29wdGlvbnMuYm91bmRhcnksXG4gICAgICBib3VuZGFyeSA9IF9vcHRpb25zJGJvdW5kYXJ5ID09PSB2b2lkIDAgPyBjbGlwcGluZ1BhcmVudHMgOiBfb3B0aW9ucyRib3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zJHJvb3RCb3VuZGFyeSA9PT0gdm9pZCAwID8gdmlld3BvcnQgOiBfb3B0aW9ucyRyb290Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRlbGVtZW50Q29udGUgPSBfb3B0aW9ucy5lbGVtZW50Q29udGV4dCxcbiAgICAgIGVsZW1lbnRDb250ZXh0ID0gX29wdGlvbnMkZWxlbWVudENvbnRlID09PSB2b2lkIDAgPyBwb3BwZXIgOiBfb3B0aW9ucyRlbGVtZW50Q29udGUsXG4gICAgICBfb3B0aW9ucyRhbHRCb3VuZGFyeSA9IF9vcHRpb25zLmFsdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnkgPSBfb3B0aW9ucyRhbHRCb3VuZGFyeSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRhbHRCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJHBhZGRpbmcgPSBfb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgcGFkZGluZyA9IF9vcHRpb25zJHBhZGRpbmcgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyRwYWRkaW5nO1xuICB2YXIgcGFkZGluZ09iamVjdCA9IG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG4gIHZhciBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09IHBvcHBlciA/IHJlZmVyZW5jZSA6IHBvcHBlcjtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbYWx0Qm91bmRhcnkgPyBhbHRDb250ZXh0IDogZWxlbWVudENvbnRleHRdO1xuICB2YXIgY2xpcHBpbmdDbGllbnRSZWN0ID0gZ2V0Q2xpcHBpbmdSZWN0KGlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IGdldERvY3VtZW50RWxlbWVudChzdGF0ZS5lbGVtZW50cy5wb3BwZXIpLCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5LCBzdHJhdGVneSk7XG4gIHZhciByZWZlcmVuY2VDbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHN0YXRlLmVsZW1lbnRzLnJlZmVyZW5jZSk7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gY29tcHV0ZU9mZnNldHMoe1xuICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlQ2xpZW50UmVjdCxcbiAgICBlbGVtZW50OiBwb3BwZXJSZWN0LFxuICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pO1xuICB2YXIgcG9wcGVyQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoT2JqZWN0LmFzc2lnbih7fSwgcG9wcGVyUmVjdCwgcG9wcGVyT2Zmc2V0cykpO1xuICB2YXIgZWxlbWVudENsaWVudFJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyID8gcG9wcGVyQ2xpZW50UmVjdCA6IHJlZmVyZW5jZUNsaWVudFJlY3Q7IC8vIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIHJlY3RcbiAgLy8gMCBvciBuZWdhdGl2ZSA9IHdpdGhpbiB0aGUgY2xpcHBpbmcgcmVjdFxuXG4gIHZhciBvdmVyZmxvd09mZnNldHMgPSB7XG4gICAgdG9wOiBjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3AsXG4gICAgYm90dG9tOiBlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20sXG4gICAgbGVmdDogY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0LFxuICAgIHJpZ2h0OiBlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHRcbiAgfTtcbiAgdmFyIG9mZnNldERhdGEgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldDsgLy8gT2Zmc2V0cyBjYW4gYmUgYXBwbGllZCBvbmx5IHRvIHRoZSBwb3BwZXIgZWxlbWVudFxuXG4gIGlmIChlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyICYmIG9mZnNldERhdGEpIHtcbiAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0RGF0YVtwbGFjZW1lbnRdO1xuICAgIE9iamVjdC5rZXlzKG92ZXJmbG93T2Zmc2V0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgbXVsdGlwbHkgPSBbcmlnaHQsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAxIDogLTE7XG4gICAgICB2YXIgYXhpcyA9IFt0b3AsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAneScgOiAneCc7XG4gICAgICBvdmVyZmxvd09mZnNldHNba2V5XSArPSBvZmZzZXRbYXhpc10gKiBtdWx0aXBseTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBvdmVyZmxvd09mZnNldHM7XG59IiwgImltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4vZ2V0VmFyaWF0aW9uLmpzXCI7XG5pbXBvcnQgeyB2YXJpYXRpb25QbGFjZW1lbnRzLCBiYXNlUGxhY2VtZW50cywgcGxhY2VtZW50cyBhcyBhbGxQbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4vZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHN0YXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LFxuICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyxcbiAgICAgIF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9IF9vcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50cyA9IF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9PT0gdm9pZCAwID8gYWxsUGxhY2VtZW50cyA6IF9vcHRpb25zJGFsbG93ZWRBdXRvUDtcbiAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihwbGFjZW1lbnQpO1xuICB2YXIgcGxhY2VtZW50cyA9IHZhcmlhdGlvbiA/IGZsaXBWYXJpYXRpb25zID8gdmFyaWF0aW9uUGxhY2VtZW50cyA6IHZhcmlhdGlvblBsYWNlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHZhcmlhdGlvbjtcbiAgfSkgOiBiYXNlUGxhY2VtZW50cztcbiAgdmFyIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHJldHVybiBhbGxvd2VkQXV0b1BsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpID49IDA7XG4gIH0pO1xuXG4gIGlmIChhbGxvd2VkUGxhY2VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBhbGxvd2VkUGxhY2VtZW50cyA9IHBsYWNlbWVudHM7XG4gIH0gLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV06IEZsb3cgc2VlbXMgdG8gaGF2ZSBwcm9ibGVtcyB3aXRoIHR3byBhcnJheSB1bmlvbnMuLi5cblxuXG4gIHZhciBvdmVyZmxvd3MgPSBhbGxvd2VkUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7XG4gICAgYWNjW3BsYWNlbWVudF0gPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmdcbiAgICB9KVtnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCldO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG92ZXJmbG93cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBvdmVyZmxvd3NbYV0gLSBvdmVyZmxvd3NbYl07XG4gIH0pO1xufSIsICJpbXBvcnQgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVBdXRvUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9jb21wdXRlQXV0b1BsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgYm90dG9tLCB0b3AsIHN0YXJ0LCByaWdodCwgbGVmdCwgYXV0byB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGlmIChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8pIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuXG5mdW5jdGlvbiBmbGlwKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdLl9za2lwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcyxcbiAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLFxuICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcyxcbiAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhbHRBeGlzLFxuICAgICAgc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzID0gb3B0aW9ucy5mYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgYm91bmRhcnkgPSBvcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeSA9IG9wdGlvbnMuYWx0Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPSBvcHRpb25zLmZsaXBWYXJpYXRpb25zLFxuICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRmbGlwVmFyaWF0aW8sXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBvcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cztcbiAgdmFyIHByZWZlcnJlZFBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocHJlZmVycmVkUGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9IGJhc2VQbGFjZW1lbnQgPT09IHByZWZlcnJlZFBsYWNlbWVudDtcbiAgdmFyIGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwVmFyaWF0aW9ucyA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHByZWZlcnJlZFBsYWNlbWVudCkpO1xuICB2YXIgcGxhY2VtZW50cyA9IFtwcmVmZXJyZWRQbGFjZW1lbnRdLmNvbmNhdChmYWxsYmFja1BsYWNlbWVudHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8gPyBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgICBmbGlwVmFyaWF0aW9uczogZmxpcFZhcmlhdGlvbnMsXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHM6IGFsbG93ZWRBdXRvUGxhY2VtZW50c1xuICAgIH0pIDogcGxhY2VtZW50KTtcbiAgfSwgW10pO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBjaGVja3NNYXAgPSBuZXcgTWFwKCk7XG4gIHZhciBtYWtlRmFsbGJhY2tDaGVja3MgPSB0cnVlO1xuICB2YXIgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50c1swXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWNlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGxhY2VtZW50ID0gcGxhY2VtZW50c1tpXTtcblxuICAgIHZhciBfYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBpc1N0YXJ0VmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHN0YXJ0O1xuICAgIHZhciBpc1ZlcnRpY2FsID0gW3RvcCwgYm90dG9tXS5pbmRleE9mKF9iYXNlUGxhY2VtZW50KSA+PSAwO1xuICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pO1xuICAgIHZhciBtYWluVmFyaWF0aW9uU2lkZSA9IGlzVmVydGljYWwgPyBpc1N0YXJ0VmFyaWF0aW9uID8gcmlnaHQgOiBsZWZ0IDogaXNTdGFydFZhcmlhdGlvbiA/IGJvdHRvbSA6IHRvcDtcblxuICAgIGlmIChyZWZlcmVuY2VSZWN0W2xlbl0gPiBwb3BwZXJSZWN0W2xlbl0pIHtcbiAgICAgIG1haW5WYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIH1cblxuICAgIHZhciBhbHRWYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIHZhciBjaGVja3MgPSBbXTtcblxuICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICBjaGVja3MucHVzaChvdmVyZmxvd1tfYmFzZVBsYWNlbWVudF0gPD0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrQWx0QXhpcykge1xuICAgICAgY2hlY2tzLnB1c2gob3ZlcmZsb3dbbWFpblZhcmlhdGlvblNpZGVdIDw9IDAsIG92ZXJmbG93W2FsdFZhcmlhdGlvblNpZGVdIDw9IDApO1xuICAgIH1cblxuICAgIGlmIChjaGVja3MuZXZlcnkoZnVuY3Rpb24gKGNoZWNrKSB7XG4gICAgICByZXR1cm4gY2hlY2s7XG4gICAgfSkpIHtcbiAgICAgIGZpcnN0Rml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgIG1ha2VGYWxsYmFja0NoZWNrcyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2hlY2tzTWFwLnNldChwbGFjZW1lbnQsIGNoZWNrcyk7XG4gIH1cblxuICBpZiAobWFrZUZhbGxiYWNrQ2hlY2tzKSB7XG4gICAgLy8gYDJgIG1heSBiZSBkZXNpcmVkIGluIHNvbWUgY2FzZXMgXHUyMDEzIHJlc2VhcmNoIGxhdGVyXG4gICAgdmFyIG51bWJlck9mQ2hlY2tzID0gZmxpcFZhcmlhdGlvbnMgPyAzIDogMTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKF9pKSB7XG4gICAgICB2YXIgZml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudHMuZmluZChmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgICAgIHZhciBjaGVja3MgPSBjaGVja3NNYXAuZ2V0KHBsYWNlbWVudCk7XG5cbiAgICAgICAgaWYgKGNoZWNrcykge1xuICAgICAgICAgIHJldHVybiBjaGVja3Muc2xpY2UoMCwgX2kpLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpdHRpbmdQbGFjZW1lbnQpIHtcbiAgICAgICAgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gZml0dGluZ1BsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgX2kgPSBudW1iZXJPZkNoZWNrczsgX2kgPiAwOyBfaS0tKSB7XG4gICAgICB2YXIgX3JldCA9IF9sb29wKF9pKTtcblxuICAgICAgaWYgKF9yZXQgPT09IFwiYnJlYWtcIikgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnBsYWNlbWVudCAhPT0gZmlyc3RGaXR0aW5nUGxhY2VtZW50KSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXS5fc2tpcCA9IHRydWU7XG4gICAgc3RhdGUucGxhY2VtZW50ID0gZmlyc3RGaXR0aW5nUGxhY2VtZW50O1xuICAgIHN0YXRlLnJlc2V0ID0gdHJ1ZTtcbiAgfVxufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZmxpcCcsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBmbGlwLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddLFxuICBkYXRhOiB7XG4gICAgX3NraXA6IGZhbHNlXG4gIH1cbn07IiwgImltcG9ydCB7IHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuXG5mdW5jdGlvbiBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdCwgcHJldmVudGVkT2Zmc2V0cykge1xuICBpZiAocHJldmVudGVkT2Zmc2V0cyA9PT0gdm9pZCAwKSB7XG4gICAgcHJldmVudGVkT2Zmc2V0cyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCAtIHByZXZlbnRlZE9mZnNldHMueSxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoICsgcHJldmVudGVkT2Zmc2V0cy54LFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQgKyBwcmV2ZW50ZWRPZmZzZXRzLnksXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGggLSBwcmV2ZW50ZWRPZmZzZXRzLnhcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG92ZXJmbG93KSB7XG4gIHJldHVybiBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XS5zb21lKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgcmV0dXJuIG92ZXJmbG93W3NpZGVdID49IDA7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoaWRlKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHByZXZlbnRlZE9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnByZXZlbnRPdmVyZmxvdztcbiAgdmFyIHJlZmVyZW5jZU92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgfSk7XG4gIHZhciBwb3BwZXJBbHRPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgYWx0Qm91bmRhcnk6IHRydWVcbiAgfSk7XG4gIHZhciByZWZlcmVuY2VDbGlwcGluZ09mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhyZWZlcmVuY2VPdmVyZmxvdywgcmVmZXJlbmNlUmVjdCk7XG4gIHZhciBwb3BwZXJFc2NhcGVPZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMocG9wcGVyQWx0T3ZlcmZsb3csIHBvcHBlclJlY3QsIHByZXZlbnRlZE9mZnNldHMpO1xuICB2YXIgaXNSZWZlcmVuY2VIaWRkZW4gPSBpc0FueVNpZGVGdWxseUNsaXBwZWQocmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzKTtcbiAgdmFyIGhhc1BvcHBlckVzY2FwZWQgPSBpc0FueVNpZGVGdWxseUNsaXBwZWQocG9wcGVyRXNjYXBlT2Zmc2V0cyk7XG4gIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0gPSB7XG4gICAgcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzOiByZWZlcmVuY2VDbGlwcGluZ09mZnNldHMsXG4gICAgcG9wcGVyRXNjYXBlT2Zmc2V0czogcG9wcGVyRXNjYXBlT2Zmc2V0cyxcbiAgICBpc1JlZmVyZW5jZUhpZGRlbjogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgaGFzUG9wcGVyRXNjYXBlZDogaGFzUG9wcGVyRXNjYXBlZFxuICB9O1xuICBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyLCB7XG4gICAgJ2RhdGEtcG9wcGVyLXJlZmVyZW5jZS1oaWRkZW4nOiBpc1JlZmVyZW5jZUhpZGRlbixcbiAgICAnZGF0YS1wb3BwZXItZXNjYXBlZCc6IGhhc1BvcHBlckVzY2FwZWRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdoaWRlJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgcmVxdWlyZXNJZkV4aXN0czogWydwcmV2ZW50T3ZlcmZsb3cnXSxcbiAgZm46IGhpZGVcbn07IiwgImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBwbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlQW5kU2tpZGRpbmdUb1hZKHBsYWNlbWVudCwgcmVjdHMsIG9mZnNldCkge1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIGludmVydERpc3RhbmNlID0gW2xlZnQsIHRvcF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8gLTEgOiAxO1xuXG4gIHZhciBfcmVmID0gdHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IG9mZnNldChPYmplY3QuYXNzaWduKHt9LCByZWN0cywge1xuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pKSA6IG9mZnNldCxcbiAgICAgIHNraWRkaW5nID0gX3JlZlswXSxcbiAgICAgIGRpc3RhbmNlID0gX3JlZlsxXTtcblxuICBza2lkZGluZyA9IHNraWRkaW5nIHx8IDA7XG4gIGRpc3RhbmNlID0gKGRpc3RhbmNlIHx8IDApICogaW52ZXJ0RGlzdGFuY2U7XG4gIHJldHVybiBbbGVmdCwgcmlnaHRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPj0gMCA/IHtcbiAgICB4OiBkaXN0YW5jZSxcbiAgICB5OiBza2lkZGluZ1xuICB9IDoge1xuICAgIHg6IHNraWRkaW5nLFxuICAgIHk6IGRpc3RhbmNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9mZnNldChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYyLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRvZmZzZXQgPSBvcHRpb25zLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9vcHRpb25zJG9mZnNldCA9PT0gdm9pZCAwID8gWzAsIDBdIDogX29wdGlvbnMkb2Zmc2V0O1xuICB2YXIgZGF0YSA9IHBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCBzdGF0ZS5yZWN0cywgb2Zmc2V0KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHZhciBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQgPSBkYXRhW3N0YXRlLnBsYWNlbWVudF0sXG4gICAgICB4ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50LngsXG4gICAgICB5ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50Lnk7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnggKz0geDtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSArPSB5O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdvZmZzZXQnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIGZuOiBvZmZzZXRcbn07IiwgImltcG9ydCBjb21wdXRlT2Zmc2V0cyBmcm9tIFwiLi4vdXRpbHMvY29tcHV0ZU9mZnNldHMuanNcIjtcblxuZnVuY3Rpb24gcG9wcGVyT2Zmc2V0cyhfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICAvLyBPZmZzZXRzIGFyZSB0aGUgYWN0dWFsIHBvc2l0aW9uIHRoZSBwb3BwZXIgbmVlZHMgdG8gaGF2ZSB0byBiZVxuICAvLyBwcm9wZXJseSBwb3NpdGlvbmVkIG5lYXIgaXRzIHJlZmVyZW5jZSBlbGVtZW50XG4gIC8vIFRoaXMgaXMgdGhlIG1vc3QgYmFzaWMgcGxhY2VtZW50LCBhbmQgd2lsbCBiZSBhZGp1c3RlZCBieVxuICAvLyB0aGUgbW9kaWZpZXJzIGluIHRoZSBuZXh0IHN0ZXBcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGNvbXB1dGVPZmZzZXRzKHtcbiAgICByZWZlcmVuY2U6IHN0YXRlLnJlY3RzLnJlZmVyZW5jZSxcbiAgICBlbGVtZW50OiBzdGF0ZS5yZWN0cy5wb3BwZXIsXG4gICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwb3BwZXJPZmZzZXRzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdyZWFkJyxcbiAgZm46IHBvcHBlck9mZnNldHMsXG4gIGRhdGE6IHt9XG59OyIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRBbHRBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn0iLCAiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBzdGFydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldEFsdEF4aXMgZnJvbSBcIi4uL3V0aWxzL2dldEFsdEF4aXMuanNcIjtcbmltcG9ydCB7IHdpdGhpbiwgd2l0aGluTWF4Q2xhbXAgfSBmcm9tIFwiLi4vdXRpbHMvd2l0aGluLmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IGdldEZyZXNoU2lkZU9iamVjdCBmcm9tIFwiLi4vdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBtaW4gYXMgbWF0aE1pbiwgbWF4IGFzIG1hdGhNYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRtYWluQXhpcyA9IG9wdGlvbnMubWFpbkF4aXMsXG4gICAgICBjaGVja01haW5BeGlzID0gX29wdGlvbnMkbWFpbkF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRtYWluQXhpcyxcbiAgICAgIF9vcHRpb25zJGFsdEF4aXMgPSBvcHRpb25zLmFsdEF4aXMsXG4gICAgICBjaGVja0FsdEF4aXMgPSBfb3B0aW9ucyRhbHRBeGlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBfb3B0aW9ucyR0ZXRoZXIgPSBvcHRpb25zLnRldGhlcixcbiAgICAgIHRldGhlciA9IF9vcHRpb25zJHRldGhlciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHRldGhlcixcbiAgICAgIF9vcHRpb25zJHRldGhlck9mZnNldCA9IG9wdGlvbnMudGV0aGVyT2Zmc2V0LFxuICAgICAgdGV0aGVyT2Zmc2V0ID0gX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkdGV0aGVyT2Zmc2V0O1xuICB2YXIgb3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgIGFsdEJvdW5kYXJ5OiBhbHRCb3VuZGFyeVxuICB9KTtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9ICF2YXJpYXRpb247XG4gIHZhciBtYWluQXhpcyA9IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KTtcbiAgdmFyIGFsdEF4aXMgPSBnZXRBbHRBeGlzKG1haW5BeGlzKTtcbiAgdmFyIHBvcHBlck9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHM7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IHRldGhlck9mZnNldChPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWN0cywge1xuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pKSA6IHRldGhlck9mZnNldDtcbiAgdmFyIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZSA9IHR5cGVvZiB0ZXRoZXJPZmZzZXRWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHRldGhlck9mZnNldFZhbHVlLFxuICAgIGFsdEF4aXM6IHRldGhlck9mZnNldFZhbHVlXG4gIH0gOiBPYmplY3QuYXNzaWduKHtcbiAgICBtYWluQXhpczogMCxcbiAgICBhbHRBeGlzOiAwXG4gIH0sIHRldGhlck9mZnNldFZhbHVlKTtcbiAgdmFyIG9mZnNldE1vZGlmaWVyU3RhdGUgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldCA/IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0W3N0YXRlLnBsYWNlbWVudF0gOiBudWxsO1xuICB2YXIgZGF0YSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoIXBvcHBlck9mZnNldHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQ7XG5cbiAgICB2YXIgbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgICB2YXIgYWx0U2lkZSA9IG1haW5BeGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc107XG4gICAgdmFyIG1pbiA9IG9mZnNldCArIG92ZXJmbG93W21haW5TaWRlXTtcbiAgICB2YXIgbWF4ID0gb2Zmc2V0IC0gb3ZlcmZsb3dbYWx0U2lkZV07XG4gICAgdmFyIGFkZGl0aXZlID0gdGV0aGVyID8gLXBvcHBlclJlY3RbbGVuXSAvIDIgOiAwO1xuICAgIHZhciBtaW5MZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gcmVmZXJlbmNlUmVjdFtsZW5dIDogcG9wcGVyUmVjdFtsZW5dO1xuICAgIHZhciBtYXhMZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gLXBvcHBlclJlY3RbbGVuXSA6IC1yZWZlcmVuY2VSZWN0W2xlbl07IC8vIFdlIG5lZWQgdG8gaW5jbHVkZSB0aGUgYXJyb3cgaW4gdGhlIGNhbGN1bGF0aW9uIHNvIHRoZSBhcnJvdyBkb2Vzbid0IGdvXG4gICAgLy8gb3V0c2lkZSB0aGUgcmVmZXJlbmNlIGJvdW5kc1xuXG4gICAgdmFyIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLmFycm93O1xuICAgIHZhciBhcnJvd1JlY3QgPSB0ZXRoZXIgJiYgYXJyb3dFbGVtZW50ID8gZ2V0TGF5b3V0UmVjdChhcnJvd0VsZW1lbnQpIDoge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIHZhciBhcnJvd1BhZGRpbmdPYmplY3QgPSBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10gPyBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10ucGFkZGluZyA6IGdldEZyZXNoU2lkZU9iamVjdCgpO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNaW4gPSBhcnJvd1BhZGRpbmdPYmplY3RbbWFpblNpZGVdO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNYXggPSBhcnJvd1BhZGRpbmdPYmplY3RbYWx0U2lkZV07IC8vIElmIHRoZSByZWZlcmVuY2UgbGVuZ3RoIGlzIHNtYWxsZXIgdGhhbiB0aGUgYXJyb3cgbGVuZ3RoLCB3ZSBkb24ndCB3YW50XG4gICAgLy8gdG8gaW5jbHVkZSBpdHMgZnVsbCBzaXplIGluIHRoZSBjYWxjdWxhdGlvbi4gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbFxuICAgIC8vIGFuZCBuZWFyIHRoZSBlZGdlIG9mIGEgYm91bmRhcnksIHRoZSBwb3BwZXIgY2FuIG92ZXJmbG93IGV2ZW4gaWYgdGhlXG4gICAgLy8gcmVmZXJlbmNlIGlzIG5vdCBvdmVyZmxvd2luZyBhcyB3ZWxsIChlLmcuIHZpcnR1YWwgZWxlbWVudHMgd2l0aCBub1xuICAgIC8vIHdpZHRoIG9yIGhlaWdodClcblxuICAgIHZhciBhcnJvd0xlbiA9IHdpdGhpbigwLCByZWZlcmVuY2VSZWN0W2xlbl0sIGFycm93UmVjdFtsZW5dKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiAtIGFkZGl0aXZlIC0gYXJyb3dMZW4gLSBhcnJvd1BhZGRpbmdNaW4gLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtaW5MZW4gLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgbWF4T2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gLXJlZmVyZW5jZVJlY3RbbGVuXSAvIDIgKyBhZGRpdGl2ZSArIGFycm93TGVuICsgYXJyb3dQYWRkaW5nTWF4ICsgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzIDogbWF4TGVuICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXM7XG4gICAgdmFyIGFycm93T2Zmc2V0UGFyZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3cgJiYgZ2V0T2Zmc2V0UGFyZW50KHN0YXRlLmVsZW1lbnRzLmFycm93KTtcbiAgICB2YXIgY2xpZW50T2Zmc2V0ID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBtYWluQXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50VG9wIHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRMZWZ0IHx8IDAgOiAwO1xuICAgIHZhciBvZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJCA9IG9mZnNldE1vZGlmaWVyU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9mZnNldE1vZGlmaWVyU3RhdGVbbWFpbkF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkIDogMDtcbiAgICB2YXIgdGV0aGVyTWluID0gb2Zmc2V0ICsgbWluT2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIGNsaWVudE9mZnNldDtcbiAgICB2YXIgdGV0aGVyTWF4ID0gb2Zmc2V0ICsgbWF4T2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZTtcbiAgICB2YXIgcHJldmVudGVkT2Zmc2V0ID0gd2l0aGluKHRldGhlciA/IG1hdGhNaW4obWluLCB0ZXRoZXJNaW4pIDogbWluLCBvZmZzZXQsIHRldGhlciA/IG1hdGhNYXgobWF4LCB0ZXRoZXJNYXgpIDogbWF4KTtcbiAgICBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldCAtIG9mZnNldDtcbiAgfVxuXG4gIGlmIChjaGVja0FsdEF4aXMpIHtcbiAgICB2YXIgX29mZnNldE1vZGlmaWVyU3RhdGUkMjtcblxuICAgIHZhciBfbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3gnID8gdG9wIDogbGVmdDtcblxuICAgIHZhciBfYWx0U2lkZSA9IG1haW5BeGlzID09PSAneCcgPyBib3R0b20gOiByaWdodDtcblxuICAgIHZhciBfb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1thbHRBeGlzXTtcblxuICAgIHZhciBfbGVuID0gYWx0QXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgdmFyIF9taW4gPSBfb2Zmc2V0ICsgb3ZlcmZsb3dbX21haW5TaWRlXTtcblxuICAgIHZhciBfbWF4ID0gX29mZnNldCAtIG92ZXJmbG93W19hbHRTaWRlXTtcblxuICAgIHZhciBpc09yaWdpblNpZGUgPSBbdG9wLCBsZWZ0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSA9IChfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVthbHRBeGlzXSkgIT0gbnVsbCA/IF9vZmZzZXRNb2RpZmllclN0YXRlJDIgOiAwO1xuXG4gICAgdmFyIF90ZXRoZXJNaW4gPSBpc09yaWdpblNpZGUgPyBfbWluIDogX29mZnNldCAtIHJlZmVyZW5jZVJlY3RbX2xlbl0gLSBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcztcblxuICAgIHZhciBfdGV0aGVyTWF4ID0gaXNPcmlnaW5TaWRlID8gX29mZnNldCArIHJlZmVyZW5jZVJlY3RbX2xlbl0gKyBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcyA6IF9tYXg7XG5cbiAgICB2YXIgX3ByZXZlbnRlZE9mZnNldCA9IHRldGhlciAmJiBpc09yaWdpblNpZGUgPyB3aXRoaW5NYXhDbGFtcChfdGV0aGVyTWluLCBfb2Zmc2V0LCBfdGV0aGVyTWF4KSA6IHdpdGhpbih0ZXRoZXIgPyBfdGV0aGVyTWluIDogX21pbiwgX29mZnNldCwgdGV0aGVyID8gX3RldGhlck1heCA6IF9tYXgpO1xuXG4gICAgcG9wcGVyT2Zmc2V0c1thbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQ7XG4gICAgZGF0YVthbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQgLSBfb2Zmc2V0O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogcHJldmVudE92ZXJmbG93LFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddXG59OyIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFNjcm9sbChlbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgfTtcbn0iLCAiaW1wb3J0IGdldFdpbmRvd1Njcm9sbCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGwuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IGdldEhUTUxFbGVtZW50U2Nyb2xsIGZyb20gXCIuL2dldEhUTUxFbGVtZW50U2Nyb2xsLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXROb2RlU2Nyb2xsKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IGdldFdpbmRvdyhub2RlKSB8fCAhaXNIVE1MRWxlbWVudChub2RlKSkge1xuICAgIHJldHVybiBnZXRXaW5kb3dTY3JvbGwobm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldEhUTUxFbGVtZW50U2Nyb2xsKG5vZGUpO1xuICB9XG59IiwgImltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4vZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZVNjcm9sbCBmcm9tIFwiLi9nZXROb2RlU2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsQmFyWCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGlzU2Nyb2xsUGFyZW50IGZyb20gXCIuL2lzU2Nyb2xsUGFyZW50LmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudFNjYWxlZChlbGVtZW50KSB7XG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNjYWxlWCA9IHJvdW5kKHJlY3Qud2lkdGgpIC8gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAxO1xuICB2YXIgc2NhbGVZID0gcm91bmQocmVjdC5oZWlnaHQpIC8gZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMTtcbiAgcmV0dXJuIHNjYWxlWCAhPT0gMSB8fCBzY2FsZVkgIT09IDE7XG59IC8vIFJldHVybnMgdGhlIGNvbXBvc2l0ZSByZWN0IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gaXRzIG9mZnNldFBhcmVudC5cbi8vIENvbXBvc2l0ZSBtZWFucyBpdCB0YWtlcyBpbnRvIGFjY291bnQgdHJhbnNmb3JtcyBhcyB3ZWxsIGFzIGxheW91dC5cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDb21wb3NpdGVSZWN0KGVsZW1lbnRPclZpcnR1YWxFbGVtZW50LCBvZmZzZXRQYXJlbnQsIGlzRml4ZWQpIHtcbiAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIG9mZnNldFBhcmVudElzU2NhbGVkID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGlzRWxlbWVudFNjYWxlZChvZmZzZXRQYXJlbnQpO1xuICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnRPclZpcnR1YWxFbGVtZW50LCBvZmZzZXRQYXJlbnRJc1NjYWxlZCwgaXNGaXhlZCk7XG4gIHZhciBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgdmFyIG9mZnNldHMgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG5cbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy8xMDc4XG4gICAgaXNTY3JvbGxQYXJlbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIG9mZnNldHMgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlKTtcbiAgICAgIG9mZnNldHMueCArPSBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSArPSBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueCxcbiAgICB5OiByZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3AgLSBvZmZzZXRzLnksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufSIsICJpbXBvcnQgeyBtb2RpZmllclBoYXNlcyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiOyAvLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5ODc1MjU1XG5cbmZ1bmN0aW9uIG9yZGVyKG1vZGlmaWVycykge1xuICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuICB2YXIgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBtYXAuc2V0KG1vZGlmaWVyLm5hbWUsIG1vZGlmaWVyKTtcbiAgfSk7IC8vIE9uIHZpc2l0aW5nIG9iamVjdCwgY2hlY2sgZm9yIGl0cyBkZXBlbmRlbmNpZXMgYW5kIHZpc2l0IHRoZW0gcmVjdXJzaXZlbHlcblxuICBmdW5jdGlvbiBzb3J0KG1vZGlmaWVyKSB7XG4gICAgdmlzaXRlZC5hZGQobW9kaWZpZXIubmFtZSk7XG4gICAgdmFyIHJlcXVpcmVzID0gW10uY29uY2F0KG1vZGlmaWVyLnJlcXVpcmVzIHx8IFtdLCBtb2RpZmllci5yZXF1aXJlc0lmRXhpc3RzIHx8IFtdKTtcbiAgICByZXF1aXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIGlmICghdmlzaXRlZC5oYXMoZGVwKSkge1xuICAgICAgICB2YXIgZGVwTW9kaWZpZXIgPSBtYXAuZ2V0KGRlcCk7XG5cbiAgICAgICAgaWYgKGRlcE1vZGlmaWVyKSB7XG4gICAgICAgICAgc29ydChkZXBNb2RpZmllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXN1bHQucHVzaChtb2RpZmllcik7XG4gIH1cblxuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBpZiAoIXZpc2l0ZWQuaGFzKG1vZGlmaWVyLm5hbWUpKSB7XG4gICAgICAvLyBjaGVjayBmb3IgdmlzaXRlZCBvYmplY3RcbiAgICAgIHNvcnQobW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9yZGVyTW9kaWZpZXJzKG1vZGlmaWVycykge1xuICAvLyBvcmRlciBiYXNlZCBvbiBkZXBlbmRlbmNpZXNcbiAgdmFyIG9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcihtb2RpZmllcnMpOyAvLyBvcmRlciBiYXNlZCBvbiBwaGFzZVxuXG4gIHJldHVybiBtb2RpZmllclBoYXNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGhhc2UpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiBtb2RpZmllci5waGFzZSA9PT0gcGhhc2U7XG4gICAgfSkpO1xuICB9LCBbXSk7XG59IiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlKGZuKSB7XG4gIHZhciBwZW5kaW5nO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcGVuZGluZykge1xuICAgICAgcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVuZGluZztcbiAgfTtcbn0iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VCeU5hbWUobW9kaWZpZXJzKSB7XG4gIHZhciBtZXJnZWQgPSBtb2RpZmllcnMucmVkdWNlKGZ1bmN0aW9uIChtZXJnZWQsIGN1cnJlbnQpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBtZXJnZWRbY3VycmVudC5uYW1lXTtcbiAgICBtZXJnZWRbY3VycmVudC5uYW1lXSA9IGV4aXN0aW5nID8gT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcsIGN1cnJlbnQsIHtcbiAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLm9wdGlvbnMsIGN1cnJlbnQub3B0aW9ucyksXG4gICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZy5kYXRhLCBjdXJyZW50LmRhdGEpXG4gICAgfSkgOiBjdXJyZW50O1xuICAgIHJldHVybiBtZXJnZWQ7XG4gIH0sIHt9KTsgLy8gSUUxMSBkb2VzIG5vdCBzdXBwb3J0IE9iamVjdC52YWx1ZXNcblxuICByZXR1cm4gT2JqZWN0LmtleXMobWVyZ2VkKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBtZXJnZWRba2V5XTtcbiAgfSk7XG59IiwgImltcG9ydCBnZXRDb21wb3NpdGVSZWN0IGZyb20gXCIuL2RvbS11dGlscy9nZXRDb21wb3NpdGVSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qc1wiO1xuaW1wb3J0IGxpc3RTY3JvbGxQYXJlbnRzIGZyb20gXCIuL2RvbS11dGlscy9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgb3JkZXJNb2RpZmllcnMgZnJvbSBcIi4vdXRpbHMvb3JkZXJNb2RpZmllcnMuanNcIjtcbmltcG9ydCBkZWJvdW5jZSBmcm9tIFwiLi91dGlscy9kZWJvdW5jZS5qc1wiO1xuaW1wb3J0IG1lcmdlQnlOYW1lIGZyb20gXCIuL3V0aWxzL21lcmdlQnlOYW1lLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG52YXIgREVGQVVMVF9PUFRJT05TID0ge1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICBtb2RpZmllcnM6IFtdLFxuICBzdHJhdGVneTogJ2Fic29sdXRlJ1xufTtcblxuZnVuY3Rpb24gYXJlVmFsaWRFbGVtZW50cygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiAhYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuICEoZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHBlckdlbmVyYXRvcihnZW5lcmF0b3JPcHRpb25zKSB7XG4gIGlmIChnZW5lcmF0b3JPcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBnZW5lcmF0b3JPcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX2dlbmVyYXRvck9wdGlvbnMgPSBnZW5lcmF0b3JPcHRpb25zLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmID0gX2dlbmVyYXRvck9wdGlvbnMuZGVmYXVsdE1vZGlmaWVycyxcbiAgICAgIGRlZmF1bHRNb2RpZmllcnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYgPT09IHZvaWQgMCA/IFtdIDogX2dlbmVyYXRvck9wdGlvbnMkZGVmLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmMiA9IF9nZW5lcmF0b3JPcHRpb25zLmRlZmF1bHRPcHRpb25zLFxuICAgICAgZGVmYXVsdE9wdGlvbnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyID09PSB2b2lkIDAgPyBERUZBVUxUX09QVElPTlMgOiBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyO1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbScsXG4gICAgICBvcmRlcmVkTW9kaWZpZXJzOiBbXSxcbiAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgZGVmYXVsdE9wdGlvbnMpLFxuICAgICAgbW9kaWZpZXJzRGF0YToge30sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyOiBwb3BwZXJcbiAgICAgIH0sXG4gICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgIHN0eWxlczoge31cbiAgICB9O1xuICAgIHZhciBlZmZlY3RDbGVhbnVwRm5zID0gW107XG4gICAgdmFyIGlzRGVzdHJveWVkID0gZmFsc2U7XG4gICAgdmFyIGluc3RhbmNlID0ge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24gc2V0T3B0aW9ucyhzZXRPcHRpb25zQWN0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHNldE9wdGlvbnNBY3Rpb24gPT09ICdmdW5jdGlvbicgPyBzZXRPcHRpb25zQWN0aW9uKHN0YXRlLm9wdGlvbnMpIDogc2V0T3B0aW9uc0FjdGlvbjtcbiAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICBzdGF0ZS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIHN0YXRlLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogaXNFbGVtZW50KHJlZmVyZW5jZSkgPyBsaXN0U2Nyb2xsUGFyZW50cyhyZWZlcmVuY2UpIDogcmVmZXJlbmNlLmNvbnRleHRFbGVtZW50ID8gbGlzdFNjcm9sbFBhcmVudHMocmVmZXJlbmNlLmNvbnRleHRFbGVtZW50KSA6IFtdLFxuICAgICAgICAgIHBvcHBlcjogbGlzdFNjcm9sbFBhcmVudHMocG9wcGVyKVxuICAgICAgICB9OyAvLyBPcmRlcnMgdGhlIG1vZGlmaWVycyBiYXNlZCBvbiB0aGVpciBkZXBlbmRlbmNpZXMgYW5kIGBwaGFzZWBcbiAgICAgICAgLy8gcHJvcGVydGllc1xuXG4gICAgICAgIHZhciBvcmRlcmVkTW9kaWZpZXJzID0gb3JkZXJNb2RpZmllcnMobWVyZ2VCeU5hbWUoW10uY29uY2F0KGRlZmF1bHRNb2RpZmllcnMsIHN0YXRlLm9wdGlvbnMubW9kaWZpZXJzKSkpOyAvLyBTdHJpcCBvdXQgZGlzYWJsZWQgbW9kaWZpZXJzXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uZW5hYmxlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJ1bk1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgLy8gU3luYyB1cGRhdGUgXHUyMDEzIGl0IHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkLCBldmVuIGlmIG5vdCBuZWNlc3NhcnkuIFRoaXNcbiAgICAgIC8vIGlzIHVzZWZ1bCBmb3IgbG93IGZyZXF1ZW5jeSB1cGRhdGVzIHdoZXJlIHN5bmMgYmVoYXZpb3Igc2ltcGxpZmllcyB0aGVcbiAgICAgIC8vIGxvZ2ljLlxuICAgICAgLy8gRm9yIGhpZ2ggZnJlcXVlbmN5IHVwZGF0ZXMgKGUuZy4gYHJlc2l6ZWAgYW5kIGBzY3JvbGxgIGV2ZW50cyksIGFsd2F5c1xuICAgICAgLy8gcHJlZmVyIHRoZSBhc3luYyBQb3BwZXIjdXBkYXRlIG1ldGhvZFxuICAgICAgZm9yY2VVcGRhdGU6IGZ1bmN0aW9uIGZvcmNlVXBkYXRlKCkge1xuICAgICAgICBpZiAoaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3N0YXRlJGVsZW1lbnRzID0gc3RhdGUuZWxlbWVudHMsXG4gICAgICAgICAgICByZWZlcmVuY2UgPSBfc3RhdGUkZWxlbWVudHMucmVmZXJlbmNlLFxuICAgICAgICAgICAgcG9wcGVyID0gX3N0YXRlJGVsZW1lbnRzLnBvcHBlcjsgLy8gRG9uJ3QgcHJvY2VlZCBpZiBgcmVmZXJlbmNlYCBvciBgcG9wcGVyYCBhcmUgbm90IHZhbGlkIGVsZW1lbnRzXG4gICAgICAgIC8vIGFueW1vcmVcblxuICAgICAgICBpZiAoIWFyZVZhbGlkRWxlbWVudHMocmVmZXJlbmNlLCBwb3BwZXIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFN0b3JlIHRoZSByZWZlcmVuY2UgYW5kIHBvcHBlciByZWN0cyB0byBiZSByZWFkIGJ5IG1vZGlmaWVyc1xuXG5cbiAgICAgICAgc3RhdGUucmVjdHMgPSB7XG4gICAgICAgICAgcmVmZXJlbmNlOiBnZXRDb21wb3NpdGVSZWN0KHJlZmVyZW5jZSwgZ2V0T2Zmc2V0UGFyZW50KHBvcHBlciksIHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCcpLFxuICAgICAgICAgIHBvcHBlcjogZ2V0TGF5b3V0UmVjdChwb3BwZXIpXG4gICAgICAgIH07IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIHJlc2V0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZS4gVGhlXG4gICAgICAgIC8vIG1vc3QgY29tbW9uIHVzZSBjYXNlIGZvciB0aGlzIGlzIHRoZSBgZmxpcGAgbW9kaWZpZXIgY2hhbmdpbmcgdGhlXG4gICAgICAgIC8vIHBsYWNlbWVudCwgd2hpY2ggdGhlbiBuZWVkcyB0byByZS1ydW4gYWxsIHRoZSBtb2RpZmllcnMsIGJlY2F1c2UgdGhlXG4gICAgICAgIC8vIGxvZ2ljIHdhcyBwcmV2aW91c2x5IHJhbiBmb3IgdGhlIHByZXZpb3VzIHBsYWNlbWVudCBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICAgIC8vIHN0YWxlL2luY29ycmVjdFxuXG4gICAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50OyAvLyBPbiBlYWNoIHVwZGF0ZSBjeWNsZSwgdGhlIGBtb2RpZmllcnNEYXRhYCBwcm9wZXJ0eSBmb3IgZWFjaCBtb2RpZmllclxuICAgICAgICAvLyBpcyBmaWxsZWQgd2l0aCB0aGUgaW5pdGlhbCBkYXRhIHNwZWNpZmllZCBieSB0aGUgbW9kaWZpZXIuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gaXQgZG9lc24ndCBwZXJzaXN0IGFuZCBpcyBmcmVzaCBvbiBlYWNoIHVwZGF0ZS5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHBlcnNpc3RlbnQgZGF0YSwgdXNlIGAke25hbWV9I3BlcnNpc3RlbnRgXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5tb2RpZmllcnNEYXRhW21vZGlmaWVyLm5hbWVdID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kaWZpZXIuZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGlmIChzdGF0ZS5yZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX3N0YXRlJG9yZGVyZWRNb2RpZmllID0gc3RhdGUub3JkZXJlZE1vZGlmaWVyc1tpbmRleF0sXG4gICAgICAgICAgICAgIGZuID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLmZuLFxuICAgICAgICAgICAgICBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm9wdGlvbnMsXG4gICAgICAgICAgICAgIF9vcHRpb25zID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllMiA9PT0gdm9pZCAwID8ge30gOiBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyLFxuICAgICAgICAgICAgICBuYW1lID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm5hbWU7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGZuKHtcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICBvcHRpb25zOiBfb3B0aW9ucyxcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICAgICAgICB9KSB8fCBzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBBc3luYyBhbmQgb3B0aW1pc3RpY2FsbHkgb3B0aW1pemVkIHVwZGF0ZSBcdTIwMTMgaXQgd2lsbCBub3QgYmUgZXhlY3V0ZWQgaWZcbiAgICAgIC8vIG5vdCBuZWNlc3NhcnkgKGRlYm91bmNlZCB0byBydW4gYXQgbW9zdCBvbmNlLXBlci10aWNrKVxuICAgICAgdXBkYXRlOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCk7XG4gICAgICAgIGlzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIGlmICghaXNEZXN0cm95ZWQgJiYgb3B0aW9ucy5vbkZpcnN0VXBkYXRlKSB7XG4gICAgICAgIG9wdGlvbnMub25GaXJzdFVwZGF0ZShzdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgYmVmb3JlIHRoZSBmaXJzdFxuICAgIC8vIHVwZGF0ZSBjeWNsZSBydW5zLiBUaGV5IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHVwZGF0ZVxuICAgIC8vIGN5Y2xlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGEgbW9kaWZpZXIgYWRkcyBzb21lIHBlcnNpc3RlbnQgZGF0YSB0aGF0XG4gICAgLy8gb3RoZXIgbW9kaWZpZXJzIG5lZWQgdG8gdXNlLCBidXQgdGhlIG1vZGlmaWVyIGlzIHJ1biBhZnRlciB0aGUgZGVwZW5kZW50XG4gICAgLy8gb25lLlxuXG4gICAgZnVuY3Rpb24gcnVuTW9kaWZpZXJFZmZlY3RzKCkge1xuICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJG9wdGlvbnMsXG4gICAgICAgICAgICBlZmZlY3QgPSBfcmVmLmVmZmVjdDtcblxuICAgICAgICBpZiAodHlwZW9mIGVmZmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBjbGVhbnVwRm4gPSBlZmZlY3Qoe1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBub29wRm4gPSBmdW5jdGlvbiBub29wRm4oKSB7fTtcblxuICAgICAgICAgIGVmZmVjdENsZWFudXBGbnMucHVzaChjbGVhbnVwRm4gfHwgbm9vcEZuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpIHtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9KTtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG59XG5leHBvcnQgdmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3IoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBkZXRlY3RPdmVyZmxvdyB9OyIsICJpbXBvcnQgeyBwb3BwZXJHZW5lcmF0b3IsIGRldGVjdE92ZXJmbG93IH0gZnJvbSBcIi4vY3JlYXRlUG9wcGVyLmpzXCI7XG5pbXBvcnQgZXZlbnRMaXN0ZW5lcnMgZnJvbSBcIi4vbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzXCI7XG5pbXBvcnQgcG9wcGVyT2Zmc2V0cyBmcm9tIFwiLi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanNcIjtcbmltcG9ydCBhcHBseVN0eWxlcyBmcm9tIFwiLi9tb2RpZmllcnMvYXBwbHlTdHlsZXMuanNcIjtcbmltcG9ydCBvZmZzZXQgZnJvbSBcIi4vbW9kaWZpZXJzL29mZnNldC5qc1wiO1xuaW1wb3J0IGZsaXAgZnJvbSBcIi4vbW9kaWZpZXJzL2ZsaXAuanNcIjtcbmltcG9ydCBwcmV2ZW50T3ZlcmZsb3cgZnJvbSBcIi4vbW9kaWZpZXJzL3ByZXZlbnRPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGFycm93IGZyb20gXCIuL21vZGlmaWVycy9hcnJvdy5qc1wiO1xuaW1wb3J0IGhpZGUgZnJvbSBcIi4vbW9kaWZpZXJzL2hpZGUuanNcIjtcbnZhciBkZWZhdWx0TW9kaWZpZXJzID0gW2V2ZW50TGlzdGVuZXJzLCBwb3BwZXJPZmZzZXRzLCBjb21wdXRlU3R5bGVzLCBhcHBseVN0eWxlcywgb2Zmc2V0LCBmbGlwLCBwcmV2ZW50T3ZlcmZsb3csIGFycm93LCBoaWRlXTtcbnZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKHtcbiAgZGVmYXVsdE1vZGlmaWVyczogZGVmYXVsdE1vZGlmaWVyc1xufSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyLCBwb3BwZXJHZW5lcmF0b3IsIGRlZmF1bHRNb2RpZmllcnMsIGRldGVjdE92ZXJmbG93IH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyIGFzIGNyZWF0ZVBvcHBlckxpdGUgfSBmcm9tIFwiLi9wb3BwZXItbGl0ZS5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCAqIGZyb20gXCIuL21vZGlmaWVycy9pbmRleC5qc1wiOyIsICIvLyBDcmVkaXRzIGdvIHRvIExpYW0ncyBQZXJpb2RpYyBOb3RlcyBQbHVnaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9saWFtY2Fpbi9vYnNpZGlhbi1wZXJpb2RpYy1ub3Rlc1xyXG5cclxuaW1wb3J0IHsgVEFic3RyYWN0RmlsZSwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IHsgVGV4dElucHV0U3VnZ2VzdCB9IGZyb20gJy4vc3VnZ2VzdCdcclxuaW1wb3J0IHsgZ2V0X3RmaWxlc19mcm9tX2ZvbGRlciB9IGZyb20gJ3NyYy91dGlscy9VdGlscydcclxuaW1wb3J0IHsgZXJyb3JXcmFwcGVyU3luYyB9IGZyb20gJ3NyYy91dGlscy9FcnJvcidcclxuaW1wb3J0IEN5dVRvb2xraXRQbHVnaW4gZnJvbSAnc3JjL21haW4nXHJcblxyXG5leHBvcnQgZW51bSBGaWxlU3VnZ2VzdE1vZGUge1xyXG5cdFRlbXBsYXRlRmlsZXMsXHJcblx0U2NyaXB0RmlsZXMsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlU3VnZ2VzdCBleHRlbmRzIFRleHRJbnB1dFN1Z2dlc3Q8VEZpbGU+IHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHB1YmxpYyBpbnB1dEVsOiBIVE1MSW5wdXRFbGVtZW50LFxyXG5cdFx0cHJpdmF0ZSBwbHVnaW46IEN5dVRvb2xraXRQbHVnaW4sXHJcblx0XHRwcml2YXRlIG1vZGU6IEZpbGVTdWdnZXN0TW9kZVxyXG5cdCkge1xyXG5cdFx0c3VwZXIoaW5wdXRFbClcclxuXHR9XHJcblxyXG5cdGdldF9mb2xkZXIobW9kZTogRmlsZVN1Z2dlc3RNb2RlKTogc3RyaW5nIHtcclxuXHRcdC8vIHN3aXRjaCAobW9kZSkge1xyXG5cdFx0Ly8gICAgIGNhc2UgRmlsZVN1Z2dlc3RNb2RlLlRlbXBsYXRlRmlsZXM6XHJcblx0XHQvLyAgICAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcnRpY2xlc19mb2xkZXIgPz8gJydcclxuXHRcdC8vICAgICBjYXNlIEZpbGVTdWdnZXN0TW9kZS5TY3JpcHRGaWxlczpcclxuXHRcdC8vICAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJfc2NyaXB0c19mb2xkZXIgPz8gJydcclxuXHRcdC8vIH1cclxuXHRcdHJldHVybiAnJ1xyXG5cdH1cclxuXHJcblx0Z2V0X2Vycm9yX21zZyhtb2RlOiBGaWxlU3VnZ2VzdE1vZGUpOiBzdHJpbmcge1xyXG5cdFx0c3dpdGNoIChtb2RlKSB7XHJcblx0XHRcdGNhc2UgRmlsZVN1Z2dlc3RNb2RlLlRlbXBsYXRlRmlsZXM6XHJcblx0XHRcdFx0cmV0dXJuIGBUZW1wbGF0ZXMgZm9sZGVyIGRvZXNuJ3QgZXhpc3RgXHJcblx0XHRcdGNhc2UgRmlsZVN1Z2dlc3RNb2RlLlNjcmlwdEZpbGVzOlxyXG5cdFx0XHRcdHJldHVybiBgVXNlciBTY3JpcHRzIGZvbGRlciBkb2Vzbid0IGV4aXN0YFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0U3VnZ2VzdGlvbnMoaW5wdXRfc3RyOiBzdHJpbmcpOiBURmlsZVtdIHtcclxuXHRcdGNvbnN0IGFsbF9maWxlcyA9IGVycm9yV3JhcHBlclN5bmMoXHJcblx0XHRcdCgpID0+IGdldF90ZmlsZXNfZnJvbV9mb2xkZXIodGhpcy5nZXRfZm9sZGVyKHRoaXMubW9kZSkpLFxyXG5cdFx0XHR0aGlzLmdldF9lcnJvcl9tc2codGhpcy5tb2RlKVxyXG5cdFx0KVxyXG5cdFx0aWYgKCFhbGxfZmlsZXMpIHtcclxuXHRcdFx0cmV0dXJuIFtdXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSBbXVxyXG5cdFx0Y29uc3QgbG93ZXJfaW5wdXRfc3RyID0gaW5wdXRfc3RyLnRvTG93ZXJDYXNlKClcclxuXHJcblx0XHRhbGxfZmlsZXMuZm9yRWFjaCgoZmlsZTogVEFic3RyYWN0RmlsZSkgPT4ge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmXHJcblx0XHRcdFx0ZmlsZS5leHRlbnNpb24gPT09ICdtZCcgJiZcclxuXHRcdFx0XHRmaWxlLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhsb3dlcl9pbnB1dF9zdHIpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdGZpbGVzLnB1c2goZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gZmlsZXNcclxuXHR9XHJcblxyXG5cdHJlbmRlclN1Z2dlc3Rpb24oZmlsZTogVEZpbGUsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0ZWwuc2V0VGV4dChmaWxlLnBhdGgpXHJcblx0fVxyXG5cclxuXHRzZWxlY3RTdWdnZXN0aW9uKGZpbGU6IFRGaWxlKTogdm9pZCB7XHJcblx0XHR0aGlzLmlucHV0RWwudmFsdWUgPSBmaWxlLnBhdGhcclxuXHRcdHRoaXMuaW5wdXRFbC50cmlnZ2VyKCdpbnB1dCcpXHJcblx0XHR0aGlzLmNsb3NlKClcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZXJFcnJvciB9IGZyb20gXCIuL0Vycm9yXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9nX3VwZGF0ZShtc2c6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3Qgbm90aWNlID0gbmV3IE5vdGljZShcIlwiLCAxNTAwMCk7XHJcbiAgICAvLyBUT0RPOiBGaW5kIGJldHRlciB3YXkgZm9yIHRoaXNcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIG5vdGljZS5ub3RpY2VFbC5pbm5lckhUTUwgPSBgPGI+VGVtcGxhdGVyIHVwZGF0ZTwvYj46PGJyLz4ke21zZ31gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9nX2Vycm9yKGU6IEVycm9yIHwgVGVtcGxhdGVyRXJyb3IpOiB2b2lkIHtcclxuICAgIGNvbnN0IG5vdGljZSA9IG5ldyBOb3RpY2UoXCJcIiwgODAwMCk7XHJcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFRlbXBsYXRlckVycm9yICYmIGUuY29uc29sZV9tc2cpIHtcclxuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSBmb3IgdGhpc1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBub3RpY2Uubm90aWNlRWwuaW5uZXJIVE1MID0gYDxiPlRlbXBsYXRlciBFcnJvcjwvYj46PGJyLz4ke2UubWVzc2FnZX08YnIvPkNoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mb3JtYXRpb25gO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRlbXBsYXRlciBFcnJvcjpgLCBlLm1lc3NhZ2UsIFwiXFxuXCIsIGUuY29uc29sZV9tc2cpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbm90aWNlLm5vdGljZUVsLmlubmVySFRNTCA9IGA8Yj5UZW1wbGF0ZXIgRXJyb3I8L2I+Ojxici8+JHtlLm1lc3NhZ2V9YDtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgbG9nX2Vycm9yIH0gZnJvbSBcIi4vTG9nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtc2c6IHN0cmluZywgcHVibGljIGNvbnNvbGVfbXNnPzogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobXNnKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXJyb3JXcmFwcGVyPFQ+KFxyXG4gICAgZm46ICgpID0+IFByb21pc2U8VD4sXHJcbiAgICBtc2c6IHN0cmluZ1xyXG4pOiBQcm9taXNlPFQgfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBUZW1wbGF0ZXJFcnJvcikpIHtcclxuICAgICAgICAgICAgbG9nX2Vycm9yKG5ldyBUZW1wbGF0ZXJFcnJvcihtc2csIGUubWVzc2FnZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZ19lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcnJvcldyYXBwZXJTeW5jPFQ+KGZuOiAoKSA9PiBULCBtc2c6IHN0cmluZyk6IFQgfCBudWxsIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nX2Vycm9yKG5ldyBUZW1wbGF0ZXJFcnJvcihtc2csIGUubWVzc2FnZSkpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBUZW1wbGF0ZXJFcnJvciB9IGZyb20gJy4vRXJyb3InXHJcbmltcG9ydCB7IEFwcCwgbm9ybWFsaXplUGF0aCwgVEFic3RyYWN0RmlsZSwgVEZpbGUsIFRGb2xkZXIsIFZhdWx0IH0gZnJvbSAnb2JzaWRpYW4nXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVfUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJykgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZV9jb21tYW5kX3JlZ2V4KCk6IFJlZ0V4cCB7XHJcblx0cmV0dXJuIC88JSg/Oi18Xyk/XFxzKlsqfl17MCwxfSgoPzoufFxccykqPykoPzotfF8pPyU+L2dcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlX2R5bmFtaWNfY29tbWFuZF9yZWdleCgpOiBSZWdFeHAge1xyXG5cdHJldHVybiAvKDwlKD86LXxfKT9cXHMqWyp+XXswLDF9KVxcKygoPzoufFxccykqPyU+KS9nXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlX3Rmb2xkZXIoZm9sZGVyX3N0cjogc3RyaW5nKTogVEZvbGRlciB7XHJcblx0Zm9sZGVyX3N0ciA9IG5vcm1hbGl6ZVBhdGgoZm9sZGVyX3N0cilcclxuXHJcblx0Y29uc3QgZm9sZGVyID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJfc3RyKVxyXG5cdGlmICghZm9sZGVyKSB7XHJcblx0XHR0aHJvdyBuZXcgVGVtcGxhdGVyRXJyb3IoYEZvbGRlciBcIiR7Zm9sZGVyX3N0cn1cIiBkb2Vzbid0IGV4aXN0YClcclxuXHR9XHJcblx0aWYgKCEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcclxuXHRcdHRocm93IG5ldyBUZW1wbGF0ZXJFcnJvcihgJHtmb2xkZXJfc3RyfSBpcyBhIGZpbGUsIG5vdCBhIGZvbGRlcmApXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZm9sZGVyXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlX3RmaWxlKGZpbGVfc3RyOiBzdHJpbmcpOiBURmlsZSB7XHJcblx0ZmlsZV9zdHIgPSBub3JtYWxpemVQYXRoKGZpbGVfc3RyKVxyXG5cclxuXHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlX3N0cilcclxuXHRpZiAoIWZpbGUpIHtcclxuXHRcdHRocm93IG5ldyBUZW1wbGF0ZXJFcnJvcihgRmlsZSBcIiR7ZmlsZV9zdHJ9XCIgZG9lc24ndCBleGlzdGApXHJcblx0fVxyXG5cdGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcclxuXHRcdHRocm93IG5ldyBUZW1wbGF0ZXJFcnJvcihgJHtmaWxlX3N0cn0gaXMgYSBmb2xkZXIsIG5vdCBhIGZpbGVgKVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGZpbGVcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF90ZmlsZXNfZnJvbV9mb2xkZXIoZm9sZGVyX3N0cjogc3RyaW5nKTogQXJyYXk8VEZpbGU+IHtcclxuXHRjb25zdCBmb2xkZXIgPSByZXNvbHZlX3Rmb2xkZXIoZm9sZGVyX3N0cilcclxuXHJcblx0Y29uc3QgZmlsZXM6IEFycmF5PFRGaWxlPiA9IFtdXHJcblx0VmF1bHQucmVjdXJzZUNoaWxkcmVuKGZvbGRlciwgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuXHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0ZmlsZXMucHVzaChmaWxlKVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGZpbGVzLnNvcnQoKGEsIGIpID0+IHtcclxuXHRcdHJldHVybiBhLmJhc2VuYW1lLmxvY2FsZUNvbXBhcmUoYi5iYXNlbmFtZSlcclxuXHR9KVxyXG5cclxuXHRyZXR1cm4gZmlsZXNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5bW92ZTxUPihhcnI6IFRbXSwgZnJvbUluZGV4OiBudW1iZXIsIHRvSW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID09PSBhcnIubGVuZ3RoKSB7XHJcblx0XHRyZXR1cm5cclxuXHR9XHJcblx0Y29uc3QgZWxlbWVudCA9IGFycltmcm9tSW5kZXhdXHJcblx0YXJyW2Zyb21JbmRleF0gPSBhcnJbdG9JbmRleF1cclxuXHRhcnJbdG9JbmRleF0gPSBlbGVtZW50XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWN0aXZlX2ZpbGUoYXBwOiBBcHApIHtcclxuXHRyZXR1cm4gYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmZpbGUgPz8gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBwYXRoIE5vcm1hbGl6ZWQgZmlsZSBwYXRoXHJcbiAqIEByZXR1cm5zIEZvbGRlciBwYXRoXHJcbiAqIEBleGFtcGxlXHJcbiAqIGdldF9mb2xkZXJfcGF0aF9mcm9tX3BhdGgobm9ybWFsaXplUGF0aChcInBhdGgvdG8vZm9sZGVyL2ZpbGVcIiwgXCJtZFwiKSkgLy8gcGF0aC90by9mb2xkZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfZm9sZGVyX3BhdGhfZnJvbV9maWxlX3BhdGgocGF0aDogc3RyaW5nKSB7XHJcblx0Y29uc3QgcGF0aF9zZXBhcmF0b3IgPSBwYXRoLmxhc3RJbmRleE9mKCcvJylcclxuXHRpZiAocGF0aF9zZXBhcmF0b3IgIT09IC0xKSByZXR1cm4gcGF0aC5zbGljZSgwLCBwYXRoX3NlcGFyYXRvcilcclxuXHRyZXR1cm4gJydcclxufVxyXG4iLCAiLy8gXHU5RUQ4XHU4QkE0XHU3Njg0XHU4QkJFXHU3RjZFXHU5MDA5XHU5ODc5XHU1QzVFXHU2MDI3XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ3l1VG9va2l0U2V0dGluZ3Mge1xyXG5cdC8vIFx1NkRGQlx1NTJBMFx1NEUwMFx1NEUyQVx1NUI1N1x1N0IyNlx1NEUzMlx1N0QyMlx1NUYxNVx1N0I3RVx1NTQwRFx1RkYwQ1x1NTE0MVx1OEJCOFx1NEY3Rlx1NzUyOFx1NUI1N1x1N0IyNlx1NEUzMlx1Njc2NVx1N0QyMlx1NUYxNVx1NUM1RVx1NjAyN1xyXG5cdFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBzdHJpbmdcclxuXHRzZXR1cF9lbmFibGVfaG92ZXJfc2lkZXI6IGJvb2xlYW5cclxuXHRlbmFibGVfY2xpY2tDb3B5X2Jsb2NrOiBib29sZWFuXHJcblx0ZW5hYmxlX2F1dG9fcGluOiBib29sZWFuXHJcblx0ZW5hYmxlX3BhcnNlX20zdTg6IGJvb2xlYW5cclxuXHRlbmFibGVfY29sb3JfZ2FsbGVyeTogYm9vbGVhblxyXG5cdGZvbGRlcl9jb2xvcl9nYWxsZXJ5OiBzdHJpbmdcclxuXHRlbmFibGVfaWNvbl9nYWxsZXJ5OiBib29sZWFuXHJcblx0Zm9sZGVyX2ljb25fZ2FsbGVyeTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBDeXVUb29raXRTZXR0aW5ncyA9IHtcclxuXHRzZXR1cF9lbmFibGVfaG92ZXJfc2lkZXI6IGZhbHNlLFxyXG5cdGVuYWJsZV9jbGlja0NvcHlfYmxvY2s6IHRydWUsXHJcblx0ZW5hYmxlX2F1dG9fcGluOiBmYWxzZSxcclxuXHRlbmFibGVfcGFyc2VfbTN1ODogdHJ1ZSxcclxuXHRlbmFibGVfY29sb3JfZ2FsbGVyeTogdHJ1ZSxcclxuXHRmb2xkZXJfY29sb3JfZ2FsbGVyeTogJycsXHJcblx0ZW5hYmxlX2ljb25fZ2FsbGVyeTogdHJ1ZSxcclxuXHRmb2xkZXJfaWNvbl9nYWxsZXJ5OiAnJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0hBUEVTID0ge1xyXG5cdGNvcHk6ICc8c3ZnIHQ9XCIxNjkyODA1MzU0NjgxXCIgY2xhc3M9XCJpY29uXCIgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHAtaWQ9XCIyMjIzXCIgd2lkdGg9XCIzMFwiIGhlaWdodD1cIjMwXCI+PHBhdGggZD1cIk03MDQgMjAyLjY2NjY2N2E5NiA5NiAwIDAgMSA5NiA5NnY1NTQuNjY2NjY2YTk2IDk2IDAgMCAxLTk2IDk2SDIxMy4zMzMzMzNBOTYgOTYgMCAwIDEgMTE3LjMzMzMzMyA4NTMuMzMzMzMzVjI5OC42NjY2NjdBOTYgOTYgMCAwIDEgMjEzLjMzMzMzMyAyMDIuNjY2NjY3aDQ5MC42NjY2Njd6IG0wIDY0SDIxMy4zMzMzMzNBMzIgMzIgMCAwIDAgMTgxLjMzMzMzMyAyOTguNjY2NjY3djU1NC42NjY2NjZhMzIgMzIgMCAwIDAgMzIgMzJoNDkwLjY2NjY2N2EzMiAzMiAwIDAgMCAzMi0zMlYyOTguNjY2NjY3YTMyIDMyIDAgMCAwLTMyLTMyelwiIGZpbGw9XCIjMjEyMTIxXCIgcC1pZD1cIjIyMjRcIj48L3BhdGg+PHBhdGggZD1cIk0yNzcuMzMzMzMzIDM2Mi42NjY2NjdtMzIgMGwyOTguNjY2NjY3IDBxMzIgMCAzMiAzMmwwIDBxMCAzMi0zMiAzMmwtMjk4LjY2NjY2NyAwcS0zMiAwLTMyLTMybDAgMHEwLTMyIDMyLTMyWlwiIGZpbGw9XCIjMjEyMTIxXCIgcC1pZD1cIjIyMjVcIj48L3BhdGg+PHBhdGggZD1cIk0yNzcuMzMzMzMzIDUxMm0zMiAwbDI5OC42NjY2NjcgMHEzMiAwIDMyIDMybDAgMHEwIDMyLTMyIDMybC0yOTguNjY2NjY3IDBxLTMyIDAtMzItMzJsMCAwcTAtMzIgMzItMzJaXCIgZmlsbD1cIiMyMTIxMjFcIiBwLWlkPVwiMjIyNlwiPjwvcGF0aD48cGF0aCBkPVwiTTI3Ny4zMzMzMzMgNjYxLjMzMzMzM20zMiAwbDE3MC42NjY2NjcgMHEzMiAwIDMyIDMybDAgMHEwIDMyLTMyIDMybC0xNzAuNjY2NjY3IDBxLTMyIDAtMzItMzJsMCAwcTAtMzIgMzItMzJaXCIgZmlsbD1cIiMyMTIxMjFcIiBwLWlkPVwiMjIyN1wiPjwvcGF0aD48cGF0aCBkPVwiTTMyMCAxMzguNjY2NjY3aDUxMkEzMiAzMiAwIDAgMSA4NjQgMTcwLjY2NjY2N3Y1NzZhMzIgMzIgMCAwIDAgNjQgMFYxNzAuNjY2NjY3QTk2IDk2IDAgMCAwIDgzMiA3NC42NjY2NjdIMzIwYTMyIDMyIDAgMCAwIDAgNjR6XCIgZmlsbD1cIiMyMTIxMjFcIiBwLWlkPVwiMjIyOFwiPjwvcGF0aD48L3N2Zz4nLFxyXG59XHJcbiIsICJpbXBvcnQgeyBNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IEN5dVRvb2tpdFNldHRpbmdzIH0gZnJvbSAnc3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YSdcclxuaW1wb3J0IHsgaGFuZGxlQ29weUltZywgaGFuZGxlQ29weVRleHQgfSBmcm9tICdzcmMvdXRpbHMvSGFuZGxlQ29weSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrQ29weUJsb2NrIGV4dGVuZHMgTWFya2Rvd25SZW5kZXJDaGlsZCB7XHJcblx0Y29uc3RydWN0b3IocHVibGljIHNldHRpbmdzOiBDeXVUb29raXRTZXR0aW5ncywgcHVibGljIHJlbmRlcmVkRGl2OiBIVE1MRWxlbWVudCkge1xyXG5cdFx0c3VwZXIocmVuZGVyZWREaXYpXHJcblx0fVxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHR0aGlzLnJlbmRlckNsaWNrQ29weUJsb2NrKHRoaXMuY29udGFpbmVyRWwpXHJcblx0fVxyXG5cclxuXHRyZW5kZXJDbGlja0NvcHlCbG9jayhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRjb25zdCBjcGJzID0gY29udGFpbmVyLmZpbmRBbGwoJy5jcGInKSBhcyBIVE1MTGFiZWxFbGVtZW50W11cclxuXHRcdGNvbnN0IGVuYWJsZV9jbGlja0NvcHlfYmxvY2sgPSB0aGlzLnNldHRpbmdzLmVuYWJsZV9jbGlja0NvcHlfYmxvY2tcclxuXHJcblx0XHRmb3IgKGNvbnN0IGNwYiBvZiBjcGJzKSB7XHJcblx0XHRcdGlmIChlbmFibGVfY2xpY2tDb3B5X2Jsb2NrKSB7XHJcblx0XHRcdFx0Y3BiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpXHJcblx0XHRcdFx0Y3BiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y3BiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlxyXG5cdGNsaWNrSGFuZGxlcihldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2xpY2tlZFNwYW4gPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KT8uY2xvc2VzdChcclxuXHRcdFx0J3NwYW4uY3BiOm5vdCg6aGFzKCopKSdcclxuXHRcdCkgYXMgSFRNTEVsZW1lbnRcclxuXHJcblx0XHRjb25zdCBjbGlja2VkSW1nID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk/LmNsb3Nlc3QoXHJcblx0XHRcdCc6aXMoLmNwYiBzcGFuKSBpbWcnXHJcblx0XHQpIGFzIEhUTUxJbWFnZUVsZW1lbnRcclxuXHJcblx0XHRpZiAoY2xpY2tlZFNwYW4gJiYgIWNsaWNrZWRJbWcpIHtcclxuXHRcdFx0aGFuZGxlQ29weVRleHQoY2xpY2tlZFNwYW4uaW5uZXJUZXh0KVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NjM5Mlx1OTY2NFx1NTQwQ1x1NjVGNlx1NjMwOVx1NEUwQiBjdHJsIFx1MzAwMXNoaWZ0IFx1MzAwMSBhbHQgXHUzMDAxbWV0YSBcdTk1MkVcclxuXHRcdGlmIChcclxuXHRcdFx0Y2xpY2tlZEltZyAmJlxyXG5cdFx0XHQhZXZlbnQuY3RybEtleSAmJlxyXG5cdFx0XHQhZXZlbnQuc2hpZnRLZXkgJiZcclxuXHRcdFx0IWV2ZW50LmFsdEtleSAmJlxyXG5cdFx0XHQhZXZlbnQubWV0YUtleVxyXG5cdFx0KSB7XHJcblx0XHRcdGhhbmRsZUNvcHlJbWcoY2xpY2tlZEltZylcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJ1xyXG5cclxuLy8gXHU1OTBEXHU1MjM2XHU2NTg3XHU2NzJDXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDb3B5VGV4dCh0ZXh0OiBzdHJpbmcpIHtcclxuXHRuYXZpZ2F0b3IuY2xpcGJvYXJkXHJcblx0XHQud3JpdGVUZXh0KHRleHQpXHJcblx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKFx1RDgzRFx1REUwMFRleHQgY29waWVkOiAnICsgdGV4dCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1x1RDgzRFx1REUwMFRleHQgY29waWVkOiAnICsgdGV4dClcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHQvLyBjb25zb2xlLmVycm9yKCdjb3B5IHRleHQgZXJyb3InLCBlcnIpXHJcblx0XHRcdG5ldyBOb3RpY2UoJ2NvcHkgdGV4dCBlcnJvcjogJywgZXJyKVxyXG5cdFx0fSlcclxufVxyXG5cclxuLy8gXHU1OTBEXHU1MjM2XHU1NkZFXHU3MjQ3XHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDb3B5SW1nKGltZ0VsZTogSFRNTEltYWdlRWxlbWVudCkge1xyXG5cdGNvbnN0IGltYWdlID0gbmV3IEltYWdlKClcclxuXHRpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXHJcblx0aW1hZ2Uuc3JjID0gaW1nRWxlLnNyY1xyXG5cdGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuXHRcdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXHJcblx0XHRjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aFxyXG5cdFx0Y2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodFxyXG5cdFx0Y29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuXHRcdGlmIChjdHgpIHtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9ICcjZmZmJ1xyXG5cdFx0XHRjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxyXG5cdFx0XHRjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKVxyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y2FudmFzLnRvQmxvYihhc3luYyAoYmxvYjogQmxvYikgPT4ge1xyXG5cdFx0XHRcdGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmRcclxuXHRcdFx0XHRcdC53cml0ZShbXHJcblx0XHRcdFx0XHRcdG5ldyBDbGlwYm9hcmRJdGVtKHtcclxuXHRcdFx0XHRcdFx0XHQnaW1hZ2UvcG5nJzogYmxvYixcclxuXHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0XHRdKVxyXG5cdFx0XHRcdFx0LnRoZW4oXHJcblx0XHRcdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdUQ4M0RcdURFMDFDb3BpZWQgdG8gY2xpcGJvYXJkOiAnICsgJyFbWycgKyBpbWdFbGUuYWx0ICsgJ11dJylcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1RDgzRFx1REUyRENPUFkgSU1BR0UgRVJST1IuLi4nKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdH0pXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRuZXcgTm90aWNlKCdcdUQ4M0RcdURFMkRDT1BZIElNQUdFIEVSUk9SLi4uJylcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcilcclxuXHRcdH1cclxuXHR9XHJcblx0aW1hZ2Uub25lcnJvciA9ICgpID0+IHtcclxuXHRcdG5ldyBOb3RpY2UoJ1x1RDgzRFx1REUyRENPUFkgSU1BR0UgRVJST1IuLi4nKVxyXG5cdH1cclxufVxyXG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXHJcbmltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJ1xyXG5pbXBvcnQgeyBDeXVUb29raXRTZXR0aW5ncyB9IGZyb20gJ3NyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGEnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xvckdhbGxlcnkgZXh0ZW5kcyBNYXJrZG93blJlbmRlckNoaWxkIHtcclxuXHRjb25zdHJ1Y3RvcihwdWJsaWMgc2V0dGluZ3M6IEN5dVRvb2tpdFNldHRpbmdzLCBwdWJsaWMgcmVuZGVyZWREaXY6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRzdXBlcihyZW5kZXJlZERpdilcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHRoaXMucmVuZGVyQ29sb3JHYWxsZXJ5KClcclxuXHR9XHJcblxyXG5cdHJlbmRlckNvbG9yR2FsbGVyeSgpIHtcclxuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IHRoaXMuY29udGFpbmVyRWwuZmluZEFsbCgnbGkgPiB1bCA+IGxpJylcclxuXHJcblx0XHRmb3IgKGNvbnN0IGxpc3RJdGVtIG9mIGxpc3RJdGVtcykge1xyXG5cdFx0XHRjb25zdCBjb2xvclZhbHVlID0gbGlzdEl0ZW0udGV4dENvbnRlbnQgPz8gJydcclxuXHRcdFx0aWYgKCFjb2xvclZhbHVlKSByZXR1cm5cclxuXHJcblx0XHRcdGNvbnN0IGNvbG9yQnV0dG9uID0gY3JlYXRlRWwoJ2J1dHRvbicpXHJcblx0XHRcdGNvbG9yQnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yVmFsdWVcclxuXHRcdFx0Y29sb3JCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yVmFsdWUnLCBjb2xvclZhbHVlKVxyXG5cdFx0XHRjb2xvckJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjb2xvclZhbHVlKVxyXG5cdFx0XHRjb2xvckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb2xvclZhbHVlKVxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1OTg5Q1x1ODI3Mlx1NTAzQ1x1NjIxMFx1NTI5Rlx1NTkwRFx1NTIzNlx1RkYxQScgKyBjb2xvclZhbHVlKVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRjb2xvckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcGFyZW50RWxlbWVudCA9IGxpc3RJdGVtLnBhcmVudEVsZW1lbnQhLnBhcmVudEVsZW1lbnQhXHJcblx0XHRcdFx0cGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uLWVmZmVjdHMnKVxyXG5cdFx0XHRcdHBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JWYWx1ZVxyXG5cdFx0XHRcdC8vIHBhcmVudEVsZW1lbnQuc3R5bGUuYm94U2hhZG93ID0gYDBweCA0cHggOHB4ICR7Y29sb3JWYWx1ZX1gXHJcblx0XHRcdFx0cGFyZW50RWxlbWVudC5zdHlsZS5ib3JkZXJDb2xvciA9IGAke2NvbG9yVmFsdWV9YFxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Y29sb3JCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcGFyZW50RWxlbWVudCA9IGxpc3RJdGVtLnBhcmVudEVsZW1lbnQhLnBhcmVudEVsZW1lbnQhXHJcblx0XHRcdFx0cGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJyAvLyBcdTZFMDVcdTk2NjRcdTgwQ0NcdTY2NkZcdTk4OUNcdTgyNzJcclxuXHRcdFx0XHQvLyBwYXJlbnRFbGVtZW50LnN0eWxlLmJveFNoYWRvdyA9ICcnIC8vIFx1NkUwNVx1OTY2NGJveC1zaGFkb3dcclxuXHRcdFx0XHRwYXJlbnRFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gJydcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdGxpc3RJdGVtLmlubmVySFRNTCA9ICcnXHJcblx0XHRcdGxpc3RJdGVtLmFwcGVuZENoaWxkKGNvbG9yQnV0dG9uKVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXHJcbmltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJ1xyXG5pbXBvcnQgeyBDeXVUb29raXRTZXR0aW5ncyB9IGZyb20gJ3NyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGEnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uR2FsbGVyeSBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG5cdGNvbnN0cnVjdG9yKHB1YmxpYyBzZXR0aW5nczogQ3l1VG9va2l0U2V0dGluZ3MsIHB1YmxpYyByZW5kZXJlZERpdjogSFRNTEVsZW1lbnQpIHtcclxuXHRcdHN1cGVyKHJlbmRlcmVkRGl2KVxyXG5cdH1cclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5yZW5kZXJJY29uR2FsbGVyeSgpXHJcblx0fVxyXG5cclxuXHRyZW5kZXJJY29uR2FsbGVyeSgpIHtcclxuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IHRoaXMuY29udGFpbmVyRWwuZmluZEFsbCgnZGl2ID4gdWwgPiBsaScpXHJcblxyXG5cdFx0Zm9yIChjb25zdCBsaXN0SXRlbSBvZiBsaXN0SXRlbXMpIHtcclxuXHRcdFx0Y29uc3QgdW5lc2NhcGVIdG1sID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoLyZhbXA7fCZsdDt8Jmd0O3wmcXVvdDt8JiN4Mjc7L2csIChtYXRjaCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgdW5lc2NhcGVNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XHJcblx0XHRcdFx0XHRcdCcmYW1wOyc6ICcmJyxcclxuXHRcdFx0XHRcdFx0JyZsdDsnOiAnPCcsXHJcblx0XHRcdFx0XHRcdCcmZ3Q7JzogJz4nLFxyXG5cdFx0XHRcdFx0XHQnJnF1b3Q7JzogJ1wiJyxcclxuXHRcdFx0XHRcdFx0JyYjeDI3Oyc6IFwiJ1wiLFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIHVuZXNjYXBlTWFwW21hdGNoXSB8fCBtYXRjaCAvLyBcdThGRDRcdTU2REVcdTVCRjlcdTVFOTRcdTc2ODRcdTUzOUZcdTU5Q0JcdTVCNTdcdTdCMjZcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBpY29uQ29udGFpbmVyID0gbGlzdEl0ZW0uZmluZCgncCcpXHJcblx0XHRcdGNvbnN0IGljb25Db2RlID0gaWNvbkNvbnRhaW5lci5maW5kKCdjb2RlJylcclxuXHRcdFx0bGV0IGljb25UZXh0ID0gaWNvbkNvZGUuaW5uZXJIVE1MLnRvU3RyaW5nKClcclxuXHJcblx0XHRcdC8vIFx1NTNDRFx1OEY2Q1x1NEU0OVx1NUI1N1x1N0IyNlxyXG5cdFx0XHRpY29uVGV4dCA9IHVuZXNjYXBlSHRtbChpY29uVGV4dClcclxuXHJcblx0XHRcdGljb25Db250YWluZXIub3V0ZXJIVE1MID0gaWNvblRleHRcclxuXHJcblx0XHRcdC8vIC0tLVxyXG5cclxuXHRcdFx0bGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoaWNvblRleHQpXHJcblx0XHRcdFx0bmV3IE5vdGljZSgnXHU1NkZFXHU2ODA3XHU1MDNDXHU2MjEwXHU1MjlGXHU1OTBEXHU1MjM2XHVGRjAxJylcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdGNvbnN0IGNvbW1lbnRJdGVtID0gbGlzdEl0ZW0uZmluZCgndWwgPiBsaScpXHJcblx0XHRcdGlmICghY29tbWVudEl0ZW0pIHJldHVyblxyXG5cdFx0XHRjb25zdCBjb21tZW50VGV4dCA9IGNvbW1lbnRJdGVtLnRleHRDb250ZW50ID8/ICcnXHJcblx0XHRcdGlmICghY29tbWVudFRleHQpIHJldHVyblxyXG5cdFx0XHRsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjb21tZW50VGV4dClcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgIi8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTgwOFxuXG4oZnVuY3Rpb24gKHJvb3QpIHtcbiAgdmFyIFVSTF9SRUdFWCA9XG4gICAgL14oPz0oKD86W2EtekEtWjAtOStcXC0uXSs6KT8pKVxcMSg/PSgoPzpcXC9cXC9bXlxcLz8jXSopPykpXFwyKD89KCg/Oig/OltePyNcXC9dKlxcLykqW147PyNcXC9dKik/KSlcXDMoKD86O1tePyNdKik/KShcXD9bXiNdKik/KCNbXl0qKT8kLztcbiAgdmFyIEZJUlNUX1NFR01FTlRfUkVHRVggPSAvXig/PShbXlxcLz8jXSopKVxcMShbXl0qKSQvO1xuICB2YXIgU0xBU0hfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLig/PVxcLykvZztcbiAgdmFyIFNMQVNIX0RPVF9ET1RfUkVHRVggPSAvKD86XFwvfF4pXFwuXFwuXFwvKD8hXFwuXFwuXFwvKVteXFwvXSooPz1cXC8pL2c7XG5cbiAgdmFyIFVSTFRvb2xraXQgPSB7XG4gICAgLy8gSWYgb3B0cy5hbHdheXNOb3JtYWxpemUgaXMgdHJ1ZSB0aGVuIHRoZSBwYXRoIHdpbGwgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgZXZlbiB3aGVuIGl0IHN0YXJ0cyB3aXRoIC8gb3IgLy9cbiAgICAvLyBFLmdcbiAgICAvLyBXaXRoIG9wdHMuYWx3YXlzTm9ybWFsaXplID0gZmFsc2UgKGRlZmF1bHQsIHNwZWMgY29tcGxpYW50KVxuICAgIC8vIGh0dHA6Ly9hLmNvbS9iL2NkICsgL2UvZi8uLi9nID0+IGh0dHA6Ly9hLmNvbS9lL2YvLi4vZ1xuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSB0cnVlIChub3Qgc3BlYyBjb21wbGlhbnQpXG4gICAgLy8gaHR0cDovL2EuY29tL2IvY2QgKyAvZS9mLy4uL2cgPT4gaHR0cDovL2EuY29tL2UvZ1xuICAgIGJ1aWxkQWJzb2x1dGVVUkw6IGZ1bmN0aW9uIChiYXNlVVJMLCByZWxhdGl2ZVVSTCwgb3B0cykge1xuICAgICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgICAvLyByZW1vdmUgYW55IHJlbWFpbmluZyBzcGFjZSBhbmQgQ1JMRlxuICAgICAgYmFzZVVSTCA9IGJhc2VVUkwudHJpbSgpO1xuICAgICAgcmVsYXRpdmVVUkwgPSByZWxhdGl2ZVVSTC50cmltKCk7XG4gICAgICBpZiAoIXJlbGF0aXZlVVJMKSB7XG4gICAgICAgIC8vIDJhKSBJZiB0aGUgZW1iZWRkZWQgVVJMIGlzIGVudGlyZWx5IGVtcHR5LCBpdCBpbmhlcml0cyB0aGVcbiAgICAgICAgLy8gZW50aXJlIGJhc2UgVVJMIChpLmUuLCBpcyBzZXQgZXF1YWwgdG8gdGhlIGJhc2UgVVJMKVxuICAgICAgICAvLyBhbmQgd2UgYXJlIGRvbmUuXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcbiAgICAgICAgICByZXR1cm4gYmFzZVVSTDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVBhcnRzRm9yTm9ybWFsaXNlID0gVVJMVG9vbGtpdC5wYXJzZVVSTChiYXNlVVJMKTtcbiAgICAgICAgaWYgKCFiYXNlUGFydHNGb3JOb3JtYWxpc2UpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4nKTtcbiAgICAgICAgfVxuICAgICAgICBiYXNlUGFydHNGb3JOb3JtYWxpc2UucGF0aCA9IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChcbiAgICAgICAgICBiYXNlUGFydHNGb3JOb3JtYWxpc2UucGF0aFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhiYXNlUGFydHNGb3JOb3JtYWxpc2UpO1xuICAgICAgfVxuICAgICAgdmFyIHJlbGF0aXZlUGFydHMgPSBVUkxUb29sa2l0LnBhcnNlVVJMKHJlbGF0aXZlVVJMKTtcbiAgICAgIGlmICghcmVsYXRpdmVQYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSByZWxhdGl2ZSBVUkwuJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVsYXRpdmVQYXJ0cy5zY2hlbWUpIHtcbiAgICAgICAgLy8gMmIpIElmIHRoZSBlbWJlZGRlZCBVUkwgc3RhcnRzIHdpdGggYSBzY2hlbWUgbmFtZSwgaXQgaXNcbiAgICAgICAgLy8gaW50ZXJwcmV0ZWQgYXMgYW4gYWJzb2x1dGUgVVJMIGFuZCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgaWYgKCFvcHRzLmFsd2F5c05vcm1hbGl6ZSkge1xuICAgICAgICAgIHJldHVybiByZWxhdGl2ZVVSTDtcbiAgICAgICAgfVxuICAgICAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKTtcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRVUkxGcm9tUGFydHMocmVsYXRpdmVQYXJ0cyk7XG4gICAgICB9XG4gICAgICB2YXIgYmFzZVBhcnRzID0gVVJMVG9vbGtpdC5wYXJzZVVSTChiYXNlVVJMKTtcbiAgICAgIGlmICghYmFzZVBhcnRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLicpO1xuICAgICAgfVxuICAgICAgaWYgKCFiYXNlUGFydHMubmV0TG9jICYmIGJhc2VQYXJ0cy5wYXRoICYmIGJhc2VQYXJ0cy5wYXRoWzBdICE9PSAnLycpIHtcbiAgICAgICAgLy8gSWYgbmV0TG9jIG1pc3NpbmcgYW5kIHBhdGggZG9lc24ndCBzdGFydCB3aXRoICcvJywgYXNzdW1lIGV2ZXJ0aGluZyBiZWZvcmUgdGhlIGZpcnN0ICcvJyBpcyB0aGUgbmV0TG9jXG4gICAgICAgIC8vIFRoaXMgY2F1c2VzICdleGFtcGxlLmNvbS9hJyB0byBiZSBoYW5kbGVkIGFzICcvL2V4YW1wbGUuY29tL2EnIGluc3RlYWQgb2YgJy9leGFtcGxlLmNvbS9hJ1xuICAgICAgICB2YXIgcGF0aFBhcnRzID0gRklSU1RfU0VHTUVOVF9SRUdFWC5leGVjKGJhc2VQYXJ0cy5wYXRoKTtcbiAgICAgICAgYmFzZVBhcnRzLm5ldExvYyA9IHBhdGhQYXJ0c1sxXTtcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSBwYXRoUGFydHNbMl07XG4gICAgICB9XG4gICAgICBpZiAoYmFzZVBhcnRzLm5ldExvYyAmJiAhYmFzZVBhcnRzLnBhdGgpIHtcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSAnLyc7XG4gICAgICB9XG4gICAgICB2YXIgYnVpbHRQYXJ0cyA9IHtcbiAgICAgICAgLy8gMmMpIE90aGVyd2lzZSwgdGhlIGVtYmVkZGVkIFVSTCBpbmhlcml0cyB0aGUgc2NoZW1lIG9mXG4gICAgICAgIC8vIHRoZSBiYXNlIFVSTC5cbiAgICAgICAgc2NoZW1lOiBiYXNlUGFydHMuc2NoZW1lLFxuICAgICAgICBuZXRMb2M6IHJlbGF0aXZlUGFydHMubmV0TG9jLFxuICAgICAgICBwYXRoOiBudWxsLFxuICAgICAgICBwYXJhbXM6IHJlbGF0aXZlUGFydHMucGFyYW1zLFxuICAgICAgICBxdWVyeTogcmVsYXRpdmVQYXJ0cy5xdWVyeSxcbiAgICAgICAgZnJhZ21lbnQ6IHJlbGF0aXZlUGFydHMuZnJhZ21lbnQsXG4gICAgICB9O1xuICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLm5ldExvYykge1xuICAgICAgICAvLyAzKSBJZiB0aGUgZW1iZWRkZWQgVVJMJ3MgPG5ldF9sb2M+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xuICAgICAgICAvLyBTdGVwIDcuICBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIDxuZXRfbG9jPlxuICAgICAgICAvLyAoaWYgYW55KSBvZiB0aGUgYmFzZSBVUkwuXG4gICAgICAgIGJ1aWx0UGFydHMubmV0TG9jID0gYmFzZVBhcnRzLm5ldExvYztcbiAgICAgICAgLy8gNCkgSWYgdGhlIGVtYmVkZGVkIFVSTCBwYXRoIGlzIHByZWNlZGVkIGJ5IGEgc2xhc2ggXCIvXCIsIHRoZVxuICAgICAgICAvLyBwYXRoIGlzIG5vdCByZWxhdGl2ZSBhbmQgd2Ugc2tpcCB0byBTdGVwIDcuXG4gICAgICAgIGlmIChyZWxhdGl2ZVBhcnRzLnBhdGhbMF0gIT09ICcvJykge1xuICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXRoKSB7XG4gICAgICAgICAgICAvLyA1KSBJZiB0aGUgZW1iZWRkZWQgVVJMIHBhdGggaXMgZW1wdHkgKGFuZCBub3QgcHJlY2VkZWQgYnkgYVxuICAgICAgICAgICAgLy8gc2xhc2gpLCB0aGVuIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIGJhc2UgVVJMIHBhdGhcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IGJhc2VQYXJ0cy5wYXRoO1xuICAgICAgICAgICAgLy8gNWEpIGlmIHRoZSBlbWJlZGRlZCBVUkwncyA8cGFyYW1zPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cbiAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHBhcmFtcz4gb2YgdGhlIGJhc2VcbiAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmRcbiAgICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgYnVpbHRQYXJ0cy5wYXJhbXMgPSBiYXNlUGFydHMucGFyYW1zO1xuICAgICAgICAgICAgICAvLyA1YikgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxxdWVyeT4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXG4gICAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHF1ZXJ5PiBvZiB0aGUgYmFzZVxuICAgICAgICAgICAgICAvLyBVUkwgKGlmIGFueSkgYW5kIHdlIHNraXAgdG8gc3RlcCA3LlxuICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucXVlcnkpIHtcbiAgICAgICAgICAgICAgICBidWlsdFBhcnRzLnF1ZXJ5ID0gYmFzZVBhcnRzLnF1ZXJ5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDYpIFRoZSBsYXN0IHNlZ21lbnQgb2YgdGhlIGJhc2UgVVJMJ3MgcGF0aCAoYW55dGhpbmdcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyB0aGUgcmlnaHRtb3N0IHNsYXNoIFwiL1wiLCBvciB0aGUgZW50aXJlIHBhdGggaWYgbm9cbiAgICAgICAgICAgIC8vIHNsYXNoIGlzIHByZXNlbnQpIGlzIHJlbW92ZWQgYW5kIHRoZSBlbWJlZGRlZCBVUkwncyBwYXRoIGlzXG4gICAgICAgICAgICAvLyBhcHBlbmRlZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgICAgICB2YXIgYmFzZVVSTFBhdGggPSBiYXNlUGFydHMucGF0aDtcbiAgICAgICAgICAgIHZhciBuZXdQYXRoID1cbiAgICAgICAgICAgICAgYmFzZVVSTFBhdGguc3Vic3RyaW5nKDAsIGJhc2VVUkxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKSArXG4gICAgICAgICAgICAgIHJlbGF0aXZlUGFydHMucGF0aDtcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChuZXdQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChidWlsdFBhcnRzLnBhdGggPT09IG51bGwpIHtcbiAgICAgICAgYnVpbHRQYXJ0cy5wYXRoID0gb3B0cy5hbHdheXNOb3JtYWxpemVcbiAgICAgICAgICA/IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChyZWxhdGl2ZVBhcnRzLnBhdGgpXG4gICAgICAgICAgOiByZWxhdGl2ZVBhcnRzLnBhdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhidWlsdFBhcnRzKTtcbiAgICB9LFxuICAgIHBhcnNlVVJMOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICB2YXIgcGFydHMgPSBVUkxfUkVHRVguZXhlYyh1cmwpO1xuICAgICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjaGVtZTogcGFydHNbMV0gfHwgJycsXG4gICAgICAgIG5ldExvYzogcGFydHNbMl0gfHwgJycsXG4gICAgICAgIHBhdGg6IHBhcnRzWzNdIHx8ICcnLFxuICAgICAgICBwYXJhbXM6IHBhcnRzWzRdIHx8ICcnLFxuICAgICAgICBxdWVyeTogcGFydHNbNV0gfHwgJycsXG4gICAgICAgIGZyYWdtZW50OiBwYXJ0c1s2XSB8fCAnJyxcbiAgICAgIH07XG4gICAgfSxcbiAgICBub3JtYWxpemVQYXRoOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgLy8gVGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIGFyZVxuICAgICAgLy8gdGhlbiBhcHBsaWVkLCBpbiBvcmRlciwgdG8gdGhlIG5ldyBwYXRoOlxuICAgICAgLy8gNmEpIEFsbCBvY2N1cnJlbmNlcyBvZiBcIi4vXCIsIHdoZXJlIFwiLlwiIGlzIGEgY29tcGxldGUgcGF0aFxuICAgICAgLy8gc2VnbWVudCwgYXJlIHJlbW92ZWQuXG4gICAgICAvLyA2YikgSWYgdGhlIHBhdGggZW5kcyB3aXRoIFwiLlwiIGFzIGEgY29tcGxldGUgcGF0aCBzZWdtZW50LFxuICAgICAgLy8gdGhhdCBcIi5cIiBpcyByZW1vdmVkLlxuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKS5yZXBsYWNlKFNMQVNIX0RPVF9SRUdFWCwgJycpO1xuICAgICAgLy8gNmMpIEFsbCBvY2N1cnJlbmNlcyBvZiBcIjxzZWdtZW50Pi8uLi9cIiwgd2hlcmUgPHNlZ21lbnQ+IGlzIGFcbiAgICAgIC8vIGNvbXBsZXRlIHBhdGggc2VnbWVudCBub3QgZXF1YWwgdG8gXCIuLlwiLCBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIFJlbW92YWwgb2YgdGhlc2UgcGF0aCBzZWdtZW50cyBpcyBwZXJmb3JtZWQgaXRlcmF0aXZlbHksXG4gICAgICAvLyByZW1vdmluZyB0aGUgbGVmdG1vc3QgbWF0Y2hpbmcgcGF0dGVybiBvbiBlYWNoIGl0ZXJhdGlvbixcbiAgICAgIC8vIHVudGlsIG5vIG1hdGNoaW5nIHBhdHRlcm4gcmVtYWlucy5cbiAgICAgIC8vIDZkKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCI8c2VnbWVudD4vLi5cIiwgd2hlcmUgPHNlZ21lbnQ+IGlzIGFcbiAgICAgIC8vIGNvbXBsZXRlIHBhdGggc2VnbWVudCBub3QgZXF1YWwgdG8gXCIuLlwiLCB0aGF0XG4gICAgICAvLyBcIjxzZWdtZW50Pi8uLlwiIGlzIHJlbW92ZWQuXG4gICAgICB3aGlsZSAoXG4gICAgICAgIHBhdGgubGVuZ3RoICE9PSAocGF0aCA9IHBhdGgucmVwbGFjZShTTEFTSF9ET1RfRE9UX1JFR0VYLCAnJykpLmxlbmd0aFxuICAgICAgKSB7fVxuICAgICAgcmV0dXJuIHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9LFxuICAgIGJ1aWxkVVJMRnJvbVBhcnRzOiBmdW5jdGlvbiAocGFydHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHBhcnRzLnNjaGVtZSArXG4gICAgICAgIHBhcnRzLm5ldExvYyArXG4gICAgICAgIHBhcnRzLnBhdGggK1xuICAgICAgICBwYXJ0cy5wYXJhbXMgK1xuICAgICAgICBwYXJ0cy5xdWVyeSArXG4gICAgICAgIHBhcnRzLmZyYWdtZW50XG4gICAgICApO1xuICAgIH0sXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFVSTFRvb2xraXQ7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBVUkxUb29sa2l0O1xuICAgIH0pO1xuICBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIGV4cG9ydHNbJ1VSTFRvb2xraXQnXSA9IFVSTFRvb2xraXQ7XG4gIGVsc2Ugcm9vdFsnVVJMVG9vbGtpdCddID0gVVJMVG9vbGtpdDtcbn0pKHRoaXMpO1xuIiwgIi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWphdmFzY3JpcHRfYnVpbHRpbnNfbnVtYmVyX2lzZmluaXRlXG5leHBvcnQgY29uc3QgaXNGaW5pdGVOdW1iZXIgPVxuICBOdW1iZXIuaXNGaW5pdGUgfHxcbiAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuICB9O1xuXG4vLyBodHRwczovL2Nhbml1c2UuY29tL21kbi1qYXZhc2NyaXB0X2J1aWx0aW5zX251bWJlcl9pc3NhZmVpbnRlZ2VyXG5leHBvcnQgY29uc3QgaXNTYWZlSW50ZWdlciA9XG4gIE51bWJlci5pc1NhZmVJbnRlZ2VyIHx8XG4gIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIE1hdGguYWJzKHZhbHVlKSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICB9O1xuXG5leHBvcnQgY29uc3QgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTE7XG4iLCAiaW1wb3J0IHtcbiAgTWFuaWZlc3RMb2FkZWREYXRhLFxuICBNYW5pZmVzdExvYWRpbmdEYXRhLFxuICBNZWRpYUF0dGFjaGVkRGF0YSxcbiAgTWVkaWFBdHRhY2hpbmdEYXRhLFxuICBMZXZlbExvYWRpbmdEYXRhLFxuICBMZXZlbExvYWRlZERhdGEsXG4gIE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgTGV2ZWxVcGRhdGVkRGF0YSxcbiAgTGV2ZWxzVXBkYXRlZERhdGEsXG4gIEZyYWdQYXJzaW5nVXNlcmRhdGFEYXRhLFxuICBGcmFnRGVjcnlwdGVkRGF0YSxcbiAgRnJhZ0xvYWRlZERhdGEsXG4gIEluaXRQVFNGb3VuZERhdGEsXG4gIEN1ZXNQYXJzZWREYXRhLFxuICBTdWJ0aXRsZUZyYWdQcm9jZXNzZWREYXRhLFxuICBOb25OYXRpdmVUZXh0VHJhY2tzRGF0YSxcbiAgRnJhZ0xvYWRpbmdEYXRhLFxuICBBdWRpb1RyYWNrTG9hZGVkRGF0YSxcbiAgU3VidGl0bGVUcmFja0xvYWRlZERhdGEsXG4gIEVycm9yRGF0YSxcbiAgQXVkaW9UcmFja1N3aXRjaGluZ0RhdGEsXG4gIEF1ZGlvVHJhY2tTd2l0Y2hlZERhdGEsXG4gIEtleUxvYWRlZERhdGEsXG4gIEtleUxvYWRpbmdEYXRhLFxuICBTdWJ0aXRsZVRyYWNrU3dpdGNoRGF0YSxcbiAgU3VidGl0bGVUcmFja3NVcGRhdGVkRGF0YSxcbiAgTGV2ZWxTd2l0Y2hlZERhdGEsXG4gIEZyYWdDaGFuZ2VkRGF0YSxcbiAgQnVmZmVyQXBwZW5kaW5nRGF0YSxcbiAgQnVmZmVyQ29kZWNzRGF0YSxcbiAgRnJhZ1BhcnNpbmdNZXRhZGF0YURhdGEsXG4gIEZyYWdQYXJzaW5nSW5pdFNlZ21lbnREYXRhLFxuICBGcmFnQnVmZmVyZWREYXRhLFxuICBCdWZmZXJGbHVzaGluZ0RhdGEsXG4gIEJ1ZmZlckVPU0RhdGEsXG4gIExldmVsU3dpdGNoaW5nRGF0YSxcbiAgTWF4QXV0b0xldmVsVXBkYXRlZERhdGEsXG4gIEZQU0Ryb3BMZXZlbENhcHBpbmdEYXRhLFxuICBGUFNEcm9wRGF0YSxcbiAgQnVmZmVyQ3JlYXRlZERhdGEsXG4gIEJ1ZmZlckFwcGVuZGVkRGF0YSxcbiAgTGV2ZWxQVFNVcGRhdGVkRGF0YSxcbiAgRnJhZ1BhcnNlZERhdGEsXG4gIEF1ZGlvVHJhY2tzVXBkYXRlZERhdGEsXG4gIEZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZERhdGEsXG4gIEJhY2tCdWZmZXJEYXRhLFxuICBMaXZlQmFja0J1ZmZlckRhdGEsXG4gIFRyYWNrTG9hZGluZ0RhdGEsXG4gIEJ1ZmZlckZsdXNoZWREYXRhLFxuICBTdGVlcmluZ01hbmlmZXN0TG9hZGVkRGF0YSxcbn0gZnJvbSAnLi90eXBlcy9ldmVudHMnO1xuXG5leHBvcnQgZW51bSBFdmVudHMge1xuICAvLyBGaXJlZCBiZWZvcmUgTWVkaWFTb3VyY2UgaXMgYXR0YWNoaW5nIHRvIG1lZGlhIGVsZW1lbnRcbiAgTUVESUFfQVRUQUNISU5HID0gJ2hsc01lZGlhQXR0YWNoaW5nJyxcbiAgLy8gRmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudFxuICBNRURJQV9BVFRBQ0hFRCA9ICdobHNNZWRpYUF0dGFjaGVkJyxcbiAgLy8gRmlyZWQgYmVmb3JlIGRldGFjaGluZyBNZWRpYVNvdXJjZSBmcm9tIG1lZGlhIGVsZW1lbnRcbiAgTUVESUFfREVUQUNISU5HID0gJ2hsc01lZGlhRGV0YWNoaW5nJyxcbiAgLy8gRmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBkZXRhY2hlZCBmcm9tIG1lZGlhIGVsZW1lbnRcbiAgTUVESUFfREVUQUNIRUQgPSAnaGxzTWVkaWFEZXRhY2hlZCcsXG4gIC8vIEZpcmVkIHdoZW4gdGhlIGJ1ZmZlciBpcyBnb2luZyB0byBiZSByZXNldFxuICBCVUZGRVJfUkVTRVQgPSAnaGxzQnVmZmVyUmVzZXQnLFxuICAvLyBGaXJlZCB3aGVuIHdlIGtub3cgYWJvdXQgdGhlIGNvZGVjcyB0aGF0IHdlIG5lZWQgYnVmZmVycyBmb3IgdG8gcHVzaCBpbnRvIC0gZGF0YToge3RyYWNrcyA6IHsgY29udGFpbmVyLCBjb2RlYywgbGV2ZWxDb2RlYywgaW5pdFNlZ21lbnQsIG1ldGFkYXRhIH19XG4gIEJVRkZFUl9DT0RFQ1MgPSAnaGxzQnVmZmVyQ29kZWNzJyxcbiAgLy8gZmlyZWQgd2hlbiBzb3VyY2VidWZmZXJzIGhhdmUgYmVlbiBjcmVhdGVkIC0gZGF0YTogeyB0cmFja3MgOiB0cmFja3MgfVxuICBCVUZGRVJfQ1JFQVRFRCA9ICdobHNCdWZmZXJDcmVhdGVkJyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBhcHBlbmQgYSBzZWdtZW50IHRvIHRoZSBidWZmZXIgLSBkYXRhOiB7IHNlZ21lbnQ6IHNlZ21lbnQgb2JqZWN0IH1cbiAgQlVGRkVSX0FQUEVORElORyA9ICdobHNCdWZmZXJBcHBlbmRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIHdlIGFyZSBkb25lIHdpdGggYXBwZW5kaW5nIGEgbWVkaWEgc2VnbWVudCB0byB0aGUgYnVmZmVyIC0gZGF0YSA6IHsgcGFyZW50IDogc2VnbWVudCBwYXJlbnQgdGhhdCB0cmlnZ2VyZWQgQlVGRkVSX0FQUEVORElORywgcGVuZGluZyA6IG5iIG9mIHNlZ21lbnRzIHdhaXRpbmcgZm9yIGFwcGVuZGluZyBmb3IgdGhpcyBzZWdtZW50IHBhcmVudH1cbiAgQlVGRkVSX0FQUEVOREVEID0gJ2hsc0J1ZmZlckFwcGVuZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgc3RyZWFtIGlzIGZpbmlzaGVkIGFuZCB3ZSB3YW50IHRvIG5vdGlmeSB0aGUgbWVkaWEgYnVmZmVyIHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGRhdGEgLSBkYXRhOiB7IH1cbiAgQlVGRkVSX0VPUyA9ICdobHNCdWZmZXJFb3MnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBtZWRpYSBidWZmZXIgc2hvdWxkIGJlIGZsdXNoZWQgLSBkYXRhIHsgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCB9XG4gIEJVRkZFUl9GTFVTSElORyA9ICdobHNCdWZmZXJGbHVzaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBoYXMgYmVlbiBmbHVzaGVkIC0gZGF0YTogeyB9XG4gIEJVRkZFUl9GTFVTSEVEID0gJ2hsc0J1ZmZlckZsdXNoZWQnLFxuICAvLyBmaXJlZCB0byBzaWduYWwgdGhhdCBhIG1hbmlmZXN0IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBtYW5pZmVzdFVSTH1cbiAgTUFOSUZFU1RfTE9BRElORyA9ICdobHNNYW5pZmVzdExvYWRpbmcnLFxuICAvLyBmaXJlZCBhZnRlciBtYW5pZmVzdCBoYXMgYmVlbiBsb2FkZWQgLSBkYXRhOiB7IGxldmVscyA6IFthdmFpbGFibGUgcXVhbGl0eSBsZXZlbHNdLCBhdWRpb1RyYWNrcyA6IFsgYXZhaWxhYmxlIGF1ZGlvIHRyYWNrcyBdLCB1cmwgOiBtYW5pZmVzdFVSTCwgc3RhdHMgOiBMb2FkZXJTdGF0cyB9XG4gIE1BTklGRVNUX0xPQURFRCA9ICdobHNNYW5pZmVzdExvYWRlZCcsXG4gIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIHBhcnNlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGZpcnN0TGV2ZWwgOiBpbmRleCBvZiBmaXJzdCBxdWFsaXR5IGxldmVsIGFwcGVhcmluZyBpbiBNYW5pZmVzdH1cbiAgTUFOSUZFU1RfUEFSU0VEID0gJ2hsc01hbmlmZXN0UGFyc2VkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHN3aXRjaCBpcyByZXF1ZXN0ZWQgLSBkYXRhOiB7IGxldmVsIDogaWQgb2YgbmV3IGxldmVsIH1cbiAgTEVWRUxfU1dJVENISU5HID0gJ2hsc0xldmVsU3dpdGNoaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHN3aXRjaCBpcyBlZmZlY3RpdmUgLSBkYXRhOiB7IGxldmVsIDogaWQgb2YgbmV3IGxldmVsIH1cbiAgTEVWRUxfU1dJVENIRUQgPSAnaGxzTGV2ZWxTd2l0Y2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBwbGF5bGlzdCBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogbGV2ZWwgVVJMLCBsZXZlbCA6IGlkIG9mIGxldmVsIGJlaW5nIGxvYWRlZH1cbiAgTEVWRUxfTE9BRElORyA9ICdobHNMZXZlbExvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgcGxheWxpc3QgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgbG9hZGVkIGxldmVsLCBzdGF0cyA6IExvYWRlclN0YXRzIH1cbiAgTEVWRUxfTE9BREVEID0gJ2hsc0xldmVsTG9hZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsJ3MgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZCBiYXNlZCBvbiBwcmV2aW91cyBkZXRhaWxzLCBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWQgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIHVwZGF0ZWQgbGV2ZWwgfVxuICBMRVZFTF9VUERBVEVEID0gJ2hsc0xldmVsVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCdzIFBUUyBpbmZvcm1hdGlvbiBoYXMgYmVlbiB1cGRhdGVkIGFmdGVyIHBhcnNpbmcgYSBmcmFnbWVudCAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgdXBkYXRlZCBsZXZlbCwgZHJpZnQ6IFBUUyBkcmlmdCBvYnNlcnZlZCB3aGVuIHBhcnNpbmcgbGFzdCBmcmFnbWVudCB9XG4gIExFVkVMX1BUU19VUERBVEVEID0gJ2hsc0xldmVsUHRzVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHRvIG5vdGlmeSB0aGF0IGxldmVscyBoYXZlIGNoYW5nZWQgYWZ0ZXIgcmVtb3ZpbmcgYSBsZXZlbCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10gfVxuICBMRVZFTFNfVVBEQVRFRCA9ICdobHNMZXZlbHNVcGRhdGVkJyxcbiAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgYXVkaW8gdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgYXVkaW9UcmFja3MgOiBhdWRpb1RyYWNrcyB9XG4gIEFVRElPX1RSQUNLU19VUERBVEVEID0gJ2hsc0F1ZGlvVHJhY2tzVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoaW5nIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX1NXSVRDSElORyA9ICdobHNBdWRpb1RyYWNrU3dpdGNoaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBzd2l0Y2ggYWN0dWFsbHkgb2NjdXJzIC0gZGF0YTogeyBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgQVVESU9fVFJBQ0tfU1dJVENIRUQgPSAnaGxzQXVkaW9UcmFja1N3aXRjaGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogYXVkaW8gdHJhY2sgVVJMLCBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgQVVESU9fVFJBQ0tfTE9BRElORyA9ICdobHNBdWRpb1RyYWNrTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogYXVkaW8gdHJhY2sgaWQsIHN0YXRzIDogTG9hZGVyU3RhdHMgfVxuICBBVURJT19UUkFDS19MT0FERUQgPSAnaGxzQXVkaW9UcmFja0xvYWRlZCcsXG4gIC8vIGZpcmVkIHRvIG5vdGlmeSB0aGF0IHN1YnRpdGxlIHRyYWNrIGxpc3RzIGhhcyBiZWVuIHVwZGF0ZWQgLSBkYXRhOiB7IHN1YnRpdGxlVHJhY2tzIDogc3VidGl0bGVUcmFja3MgfVxuICBTVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCA9ICdobHNTdWJ0aXRsZVRyYWNrc1VwZGF0ZWQnLFxuICAvLyBmaXJlZCB0byBub3RpZnkgdGhhdCBzdWJ0aXRsZSB0cmFja3Mgd2VyZSBjbGVhcmVkIGFzIGEgcmVzdWx0IG9mIHN0b3BwaW5nIHRoZSBtZWRpYVxuICBTVUJUSVRMRV9UUkFDS1NfQ0xFQVJFRCA9ICdobHNTdWJ0aXRsZVRyYWNrc0NsZWFyZWQnLFxuICAvLyBmaXJlZCB3aGVuIGFuIHN1YnRpdGxlIHRyYWNrIHN3aXRjaCBvY2N1cnMgLSBkYXRhOiB7IGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICBTVUJUSVRMRV9UUkFDS19TV0lUQ0ggPSAnaGxzU3VidGl0bGVUcmFja1N3aXRjaCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSB0cmFjayBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogc3VidGl0bGUgdHJhY2sgVVJMLCBpZCA6IHN1YnRpdGxlIHRyYWNrIGlkIH1cbiAgU1VCVElUTEVfVFJBQ0tfTE9BRElORyA9ICdobHNTdWJ0aXRsZVRyYWNrTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSB0cmFjayBsb2FkaW5nIGZpbmlzaGVzIC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCwgc3RhdHMgOiBMb2FkZXJTdGF0cyB9XG4gIFNVQlRJVExFX1RSQUNLX0xPQURFRCA9ICdobHNTdWJ0aXRsZVRyYWNrTG9hZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIGZyYWdtZW50IGhhcyBiZWVuIHByb2Nlc3NlZCAtIGRhdGE6IHsgc3VjY2VzcyA6IGJvb2xlYW4sIGZyYWcgOiB0aGUgcHJvY2Vzc2VkIGZyYWcgfVxuICBTVUJUSVRMRV9GUkFHX1BST0NFU1NFRCA9ICdobHNTdWJ0aXRsZUZyYWdQcm9jZXNzZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgc2V0IG9mIFZUVEN1ZXMgdG8gYmUgbWFuYWdlZCBleHRlcm5hbGx5IGhhcyBiZWVuIHBhcnNlZCAtIGRhdGE6IHsgdHlwZTogc3RyaW5nLCB0cmFjazogc3RyaW5nLCBjdWVzOiBbIFZUVEN1ZSBdIH1cbiAgQ1VFU19QQVJTRUQgPSAnaGxzQ3Vlc1BhcnNlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSB0ZXh0IHRyYWNrIHRvIGJlIG1hbmFnZWQgZXh0ZXJuYWxseSBpcyBmb3VuZCAtIGRhdGE6IHsgdHJhY2tzOiBbIHsgbGFiZWw6IHN0cmluZywga2luZDogc3RyaW5nLCBkZWZhdWx0OiBib29sZWFuIH0gXSB9XG4gIE5PTl9OQVRJVkVfVEVYVF9UUkFDS1NfRk9VTkQgPSAnaGxzTm9uTmF0aXZlVGV4dFRyYWNrc0ZvdW5kJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgZmlyc3QgdGltZXN0YW1wIGlzIGZvdW5kIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGluaXRQVFM6IGluaXRQVFMsIHRpbWVzY2FsZTogdGltZXNjYWxlLCBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgSU5JVF9QVFNfRk9VTkQgPSAnaGxzSW5pdFB0c0ZvdW5kJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19MT0FESU5HID0gJ2hsc0ZyYWdMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgaXMgcHJvZ3Jlc3NpbmcgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHsgdHJlcXVlc3QsIHRmaXJzdCwgbG9hZGVkIH0gfVxuICAvLyBGUkFHX0xPQURfUFJPR1JFU1MgPSAnaGxzRnJhZ0xvYWRQcm9ncmVzcycsXG4gIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvYWQgYWJvcnRpbmcgZm9yIGVtZXJnZW5jeSBzd2l0Y2ggZG93biAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCA9ICdobHNGcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBmcmFnbWVudCBwYXlsb2FkLCBzdGF0cyA6IExvYWRlclN0YXRzIH1cbiAgRlJBR19MT0FERUQgPSAnaGxzRnJhZ0xvYWRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBoYXMgZmluaXNoZWQgZGVjcnlwdGluZyAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBmcmFnbWVudCBwYXlsb2FkLCBzdGF0cyA6IHsgdHN0YXJ0LCB0ZGVjcnlwdCB9IH1cbiAgRlJBR19ERUNSWVBURUQgPSAnaGxzRnJhZ0RlY3J5cHRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gSW5pdCBTZWdtZW50IGhhcyBiZWVuIGV4dHJhY3RlZCBmcm9tIGZyYWdtZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgbW9vdiA6IG1vb3YgTVA0IGJveCwgY29kZWNzIDogY29kZWNzIGZvdW5kIHdoaWxlIHBhcnNpbmcgZnJhZ21lbnQgfVxuICBGUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5UID0gJ2hsc0ZyYWdQYXJzaW5nSW5pdFNlZ21lbnQnLFxuICAvLyBmaXJlZCB3aGVuIHBhcnNpbmcgc2VpIHRleHQgaXMgY29tcGxldGVkIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgc2FtcGxlcyA6IFsgc2VpIHNhbXBsZXMgcGVzIF0gfVxuICBGUkFHX1BBUlNJTkdfVVNFUkRBVEEgPSAnaGxzRnJhZ1BhcnNpbmdVc2VyZGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gcGFyc2luZyBpZDMgaXMgY29tcGxldGVkIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgc2FtcGxlcyA6IFsgaWQzIHNhbXBsZXMgcGVzIF0gfVxuICBGUkFHX1BBUlNJTkdfTUVUQURBVEEgPSAnaGxzRnJhZ1BhcnNpbmdNZXRhZGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gZGF0YSBoYXZlIGJlZW4gZXh0cmFjdGVkIGZyb20gZnJhZ21lbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBkYXRhMSA6IG1vb2YgTVA0IGJveCBvciBUUyBmcmFnbWVudHMsIGRhdGEyIDogbWRhdCBNUDQgYm94IG9yIG51bGx9XG4gIC8vIEZSQUdfUEFSU0lOR19EQVRBID0gJ2hsc0ZyYWdQYXJzaW5nRGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gZnJhZ21lbnQgcGFyc2luZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19QQVJTRUQgPSAnaGxzRnJhZ1BhcnNlZCcsXG4gIC8vIGZpcmVkIHdoZW4gZnJhZ21lbnQgcmVtdXhlZCBNUDQgYm94ZXMgaGF2ZSBhbGwgYmVlbiBhcHBlbmRlZCBpbnRvIFNvdXJjZUJ1ZmZlciAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBzdGF0cyA6IExvYWRlclN0YXRzIH1cbiAgRlJBR19CVUZGRVJFRCA9ICdobHNGcmFnQnVmZmVyZWQnLFxuICAvLyBmaXJlZCB3aGVuIGZyYWdtZW50IG1hdGNoaW5nIHdpdGggY3VycmVudCBtZWRpYSBwb3NpdGlvbiBpcyBjaGFuZ2luZyAtIGRhdGEgOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfQ0hBTkdFRCA9ICdobHNGcmFnQ2hhbmdlZCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgRlBTIGRyb3AgZXZlbnQgLSBkYXRhOiB7IGN1cnJlbnREcm9wcGVkLCBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzIH1cbiAgRlBTX0RST1AgPSAnaGxzRnBzRHJvcCcsXG4gIC8vIHRyaWdnZXJlZCB3aGVuIEZQUyBkcm9wIHRyaWdnZXJzIGF1dG8gbGV2ZWwgY2FwcGluZyAtIGRhdGE6IHsgbGV2ZWwsIGRyb3BwZWRMZXZlbCB9XG4gIEZQU19EUk9QX0xFVkVMX0NBUFBJTkcgPSAnaGxzRnBzRHJvcExldmVsQ2FwcGluZycsXG4gIC8vIHRyaWdnZXJlZCB3aGVuIG1heEF1dG9MZXZlbCBjaGFuZ2VzIC0gZGF0YSB7IGF1dG9MZXZlbENhcHBpbmcsIGxldmVscywgbWF4QXV0b0xldmVsLCBtaW5BdXRvTGV2ZWwsIG1heEhkY3BMZXZlbCB9XG4gIE1BWF9BVVRPX0xFVkVMX1VQREFURUQgPSAnaGxzTWF4QXV0b0xldmVsVXBkYXRlZCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGVycm9yIGV2ZW50IC0gZGF0YTogeyB0eXBlIDogZXJyb3IgdHlwZSwgZGV0YWlscyA6IGVycm9yIGRldGFpbHMsIGZhdGFsIDogaWYgdHJ1ZSwgaGxzLmpzIGNhbm5vdC93aWxsIG5vdCB0cnkgdG8gcmVjb3ZlciwgaWYgZmFsc2UsIGhscy5qcyB3aWxsIHRyeSB0byByZWNvdmVyLG90aGVyIGVycm9yIHNwZWNpZmljIGRhdGEgfVxuICBFUlJPUiA9ICdobHNFcnJvcicsXG4gIC8vIGZpcmVkIHdoZW4gaGxzLmpzIGluc3RhbmNlIHN0YXJ0cyBkZXN0cm95aW5nLiBEaWZmZXJlbnQgZnJvbSBNRURJQV9ERVRBQ0hFRCBhcyBvbmUgY291bGQgd2FudCB0byBkZXRhY2ggYW5kIHJlYXR0YWNoIGEgbWVkaWEgdG8gdGhlIGluc3RhbmNlIG9mIGhscy5qcyB0byBoYW5kbGUgbWlkLXJvbGxzIGZvciBleGFtcGxlIC0gZGF0YTogeyB9XG4gIERFU1RST1lJTkcgPSAnaGxzRGVzdHJveWluZycsXG4gIC8vIGZpcmVkIHdoZW4gYSBkZWNyeXB0IGtleSBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEtFWV9MT0FESU5HID0gJ2hsc0tleUxvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIGtleUluZm8gOiBLZXlMb2FkZXJJbmZvIH1cbiAgS0VZX0xPQURFRCA9ICdobHNLZXlMb2FkZWQnLFxuICAvLyBkZXByZWNhdGVkOyBwbGVhc2UgdXNlIEJBQ0tfQlVGRkVSX1JFQUNIRUQgLSBkYXRhIDogeyBidWZmZXJFbmQ6IG51bWJlciB9XG4gIExJVkVfQkFDS19CVUZGRVJfUkVBQ0hFRCA9ICdobHNMaXZlQmFja0J1ZmZlclJlYWNoZWQnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBiYWNrIGJ1ZmZlciBpcyByZWFjaGVkIGFzIGRlZmluZWQgYnkgdGhlIGJhY2tCdWZmZXJMZW5ndGggY29uZmlnIG9wdGlvbiAtIGRhdGEgOiB7IGJ1ZmZlckVuZDogbnVtYmVyIH1cbiAgQkFDS19CVUZGRVJfUkVBQ0hFRCA9ICdobHNCYWNrQnVmZmVyUmVhY2hlZCcsXG4gIC8vIGZpcmVkIGFmdGVyIHN0ZWVyaW5nIG1hbmlmZXN0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgc3RlZXJpbmdNYW5pZmVzdDogU3RlZXJpbmdNYW5pZmVzdCBvYmplY3QsIHVybDogc3RlZXJpbmcgbWFuaWZlc3QgVVJMIH1cbiAgU1RFRVJJTkdfTUFOSUZFU1RfTE9BREVEID0gJ2hsc1N0ZWVyaW5nTWFuaWZlc3RMb2FkZWQnLFxufVxuXG4vKipcbiAqIERlZmluZXMgZWFjaCBFdmVudCB0eXBlIGFuZCBwYXlsb2FkIGJ5IEV2ZW50IG5hbWUuIFVzZWQgaW4ge0BsaW5rIGhscy5qcyNIbHNFdmVudEVtaXR0ZXJ9IHRvIHN0cm9uZ2x5IHR5cGUgdGhlIGV2ZW50IGxpc3RlbmVyIEFQSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIbHNMaXN0ZW5lcnMge1xuICBbRXZlbnRzLk1FRElBX0FUVEFDSElOR106IChcbiAgICBldmVudDogRXZlbnRzLk1FRElBX0FUVEFDSElORyxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5NRURJQV9BVFRBQ0hFRF06IChcbiAgICBldmVudDogRXZlbnRzLk1FRElBX0FUVEFDSEVELFxuICAgIGRhdGE6IE1lZGlhQXR0YWNoZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuTUVESUFfREVUQUNISU5HXTogKGV2ZW50OiBFdmVudHMuTUVESUFfREVUQUNISU5HKSA9PiB2b2lkO1xuICBbRXZlbnRzLk1FRElBX0RFVEFDSEVEXTogKGV2ZW50OiBFdmVudHMuTUVESUFfREVUQUNIRUQpID0+IHZvaWQ7XG4gIFtFdmVudHMuQlVGRkVSX1JFU0VUXTogKGV2ZW50OiBFdmVudHMuQlVGRkVSX1JFU0VUKSA9PiB2b2lkO1xuICBbRXZlbnRzLkJVRkZFUl9DT0RFQ1NdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfQ09ERUNTLFxuICAgIGRhdGE6IEJ1ZmZlckNvZGVjc0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5CVUZGRVJfQ1JFQVRFRF06IChcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9DUkVBVEVELFxuICAgIGRhdGE6IEJ1ZmZlckNyZWF0ZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuQlVGRkVSX0FQUEVORElOR106IChcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9BUFBFTkRJTkcsXG4gICAgZGF0YTogQnVmZmVyQXBwZW5kaW5nRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkJVRkZFUl9BUFBFTkRFRF06IChcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9BUFBFTkRFRCxcbiAgICBkYXRhOiBCdWZmZXJBcHBlbmRlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5CVUZGRVJfRU9TXTogKGV2ZW50OiBFdmVudHMuQlVGRkVSX0VPUywgZGF0YTogQnVmZmVyRU9TRGF0YSkgPT4gdm9pZDtcbiAgW0V2ZW50cy5CVUZGRVJfRkxVU0hJTkddOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfRkxVU0hJTkcsXG4gICAgZGF0YTogQnVmZmVyRmx1c2hpbmdEYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuQlVGRkVSX0ZMVVNIRURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfRkxVU0hFRCxcbiAgICBkYXRhOiBCdWZmZXJGbHVzaGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLk1BTklGRVNUX0xPQURJTkddOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLFxuICAgIGRhdGE6IE1hbmlmZXN0TG9hZGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5NQU5JRkVTVF9MT0FERURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsXG4gICAgZGF0YTogTWFuaWZlc3RMb2FkZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuTUFOSUZFU1RfUEFSU0VEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuTUFOSUZFU1RfUEFSU0VELFxuICAgIGRhdGE6IE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkxFVkVMX1NXSVRDSElOR106IChcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX1NXSVRDSElORyxcbiAgICBkYXRhOiBMZXZlbFN3aXRjaGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5MRVZFTF9TV0lUQ0hFRF06IChcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX1NXSVRDSEVELFxuICAgIGRhdGE6IExldmVsU3dpdGNoZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuTEVWRUxfTE9BRElOR106IChcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX0xPQURJTkcsXG4gICAgZGF0YTogTGV2ZWxMb2FkaW5nRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkxFVkVMX0xPQURFRF06IChcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX0xPQURFRCxcbiAgICBkYXRhOiBMZXZlbExvYWRlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5MRVZFTF9VUERBVEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxfVVBEQVRFRCxcbiAgICBkYXRhOiBMZXZlbFVwZGF0ZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuTEVWRUxfUFRTX1VQREFURURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5MRVZFTF9QVFNfVVBEQVRFRCxcbiAgICBkYXRhOiBMZXZlbFBUU1VwZGF0ZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuTEVWRUxTX1VQREFURURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5MRVZFTFNfVVBEQVRFRCxcbiAgICBkYXRhOiBMZXZlbHNVcGRhdGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkFVRElPX1RSQUNLU19VUERBVEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuQVVESU9fVFJBQ0tTX1VQREFURUQsXG4gICAgZGF0YTogQXVkaW9UcmFja3NVcGRhdGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSElOR106IChcbiAgICBldmVudDogRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSElORyxcbiAgICBkYXRhOiBBdWRpb1RyYWNrU3dpdGNoaW5nRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuQVVESU9fVFJBQ0tfU1dJVENIRUQsXG4gICAgZGF0YTogQXVkaW9UcmFja1N3aXRjaGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkFVRElPX1RSQUNLX0xPQURJTkddOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS19MT0FESU5HLFxuICAgIGRhdGE6IFRyYWNrTG9hZGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5BVURJT19UUkFDS19MT0FERURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS19MT0FERUQsXG4gICAgZGF0YTogQXVkaW9UcmFja0xvYWRlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRF06IChcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLU19VUERBVEVELFxuICAgIGRhdGE6IFN1YnRpdGxlVHJhY2tzVXBkYXRlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5TVUJUSVRMRV9UUkFDS1NfQ0xFQVJFRF06IChcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLU19DTEVBUkVELFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuU1VCVElUTEVfVFJBQ0tfU1dJVENIXTogKFxuICAgIGV2ZW50OiBFdmVudHMuU1VCVElUTEVfVFJBQ0tfU1dJVENILFxuICAgIGRhdGE6IFN1YnRpdGxlVHJhY2tTd2l0Y2hEYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuU1VCVElUTEVfVFJBQ0tfTE9BRElOR106IChcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsXG4gICAgZGF0YTogVHJhY2tMb2FkaW5nRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURFRF06IChcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURFRCxcbiAgICBkYXRhOiBTdWJ0aXRsZVRyYWNrTG9hZGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsXG4gICAgZGF0YTogU3VidGl0bGVGcmFnUHJvY2Vzc2VkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkNVRVNfUEFSU0VEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuQ1VFU19QQVJTRUQsXG4gICAgZGF0YTogQ3Vlc1BhcnNlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5OT05fTkFUSVZFX1RFWFRfVFJBQ0tTX0ZPVU5EXTogKFxuICAgIGV2ZW50OiBFdmVudHMuTk9OX05BVElWRV9URVhUX1RSQUNLU19GT1VORCxcbiAgICBkYXRhOiBOb25OYXRpdmVUZXh0VHJhY2tzRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLklOSVRfUFRTX0ZPVU5EXTogKFxuICAgIGV2ZW50OiBFdmVudHMuSU5JVF9QVFNfRk9VTkQsXG4gICAgZGF0YTogSW5pdFBUU0ZvdW5kRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkZSQUdfTE9BRElOR106IChcbiAgICBldmVudDogRXZlbnRzLkZSQUdfTE9BRElORyxcbiAgICBkYXRhOiBGcmFnTG9hZGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgLy8gW0V2ZW50cy5GUkFHX0xPQURfUFJPR1JFU1NdOiBUb2RvRXZlbnRUeXBlXG4gIFtFdmVudHMuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELFxuICAgIGRhdGE6IEZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5GUkFHX0xPQURFRF06IChcbiAgICBldmVudDogRXZlbnRzLkZSQUdfTE9BREVELFxuICAgIGRhdGE6IEZyYWdMb2FkZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuRlJBR19ERUNSWVBURURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX0RFQ1JZUFRFRCxcbiAgICBkYXRhOiBGcmFnRGVjcnlwdGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlRdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULFxuICAgIGRhdGE6IEZyYWdQYXJzaW5nSW5pdFNlZ21lbnREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuRlJBR19QQVJTSU5HX1VTRVJEQVRBXTogKFxuICAgIGV2ZW50OiBFdmVudHMuRlJBR19QQVJTSU5HX1VTRVJEQVRBLFxuICAgIGRhdGE6IEZyYWdQYXJzaW5nVXNlcmRhdGFEYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuRlJBR19QQVJTSU5HX01FVEFEQVRBXTogKFxuICAgIGV2ZW50OiBFdmVudHMuRlJBR19QQVJTSU5HX01FVEFEQVRBLFxuICAgIGRhdGE6IEZyYWdQYXJzaW5nTWV0YWRhdGFEYXRhLFxuICApID0+IHZvaWQ7XG4gIC8vIFtFdmVudHMuRlJBR19QQVJTSU5HX0RBVEFdOiBUb2RvRXZlbnRUeXBlXG4gIFtFdmVudHMuRlJBR19QQVJTRURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX1BBUlNFRCxcbiAgICBkYXRhOiBGcmFnUGFyc2VkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkZSQUdfQlVGRkVSRURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX0JVRkZFUkVELFxuICAgIGRhdGE6IEZyYWdCdWZmZXJlZERhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5GUkFHX0NIQU5HRURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX0NIQU5HRUQsXG4gICAgZGF0YTogRnJhZ0NoYW5nZWREYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuRlBTX0RST1BdOiAoZXZlbnQ6IEV2ZW50cy5GUFNfRFJPUCwgZGF0YTogRlBTRHJvcERhdGEpID0+IHZvaWQ7XG4gIFtFdmVudHMuRlBTX0RST1BfTEVWRUxfQ0FQUElOR106IChcbiAgICBldmVudDogRXZlbnRzLkZQU19EUk9QX0xFVkVMX0NBUFBJTkcsXG4gICAgZGF0YTogRlBTRHJvcExldmVsQ2FwcGluZ0RhdGEsXG4gICkgPT4gdm9pZDtcbiAgW0V2ZW50cy5NQVhfQVVUT19MRVZFTF9VUERBVEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuTUFYX0FVVE9fTEVWRUxfVVBEQVRFRCxcbiAgICBkYXRhOiBNYXhBdXRvTGV2ZWxVcGRhdGVkRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkVSUk9SXTogKGV2ZW50OiBFdmVudHMuRVJST1IsIGRhdGE6IEVycm9yRGF0YSkgPT4gdm9pZDtcbiAgW0V2ZW50cy5ERVNUUk9ZSU5HXTogKGV2ZW50OiBFdmVudHMuREVTVFJPWUlORykgPT4gdm9pZDtcbiAgW0V2ZW50cy5LRVlfTE9BRElOR106IChcbiAgICBldmVudDogRXZlbnRzLktFWV9MT0FESU5HLFxuICAgIGRhdGE6IEtleUxvYWRpbmdEYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuS0VZX0xPQURFRF06IChldmVudDogRXZlbnRzLktFWV9MT0FERUQsIGRhdGE6IEtleUxvYWRlZERhdGEpID0+IHZvaWQ7XG4gIFtFdmVudHMuTElWRV9CQUNLX0JVRkZFUl9SRUFDSEVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuTElWRV9CQUNLX0JVRkZFUl9SRUFDSEVELFxuICAgIGRhdGE6IExpdmVCYWNrQnVmZmVyRGF0YSxcbiAgKSA9PiB2b2lkO1xuICBbRXZlbnRzLkJBQ0tfQlVGRkVSX1JFQUNIRURdOiAoXG4gICAgZXZlbnQ6IEV2ZW50cy5CQUNLX0JVRkZFUl9SRUFDSEVELFxuICAgIGRhdGE6IEJhY2tCdWZmZXJEYXRhLFxuICApID0+IHZvaWQ7XG4gIFtFdmVudHMuU1RFRVJJTkdfTUFOSUZFU1RfTE9BREVEXTogKFxuICAgIGV2ZW50OiBFdmVudHMuU1RFRVJJTkdfTUFOSUZFU1RfTE9BREVELFxuICAgIGRhdGE6IFN0ZWVyaW5nTWFuaWZlc3RMb2FkZWREYXRhLFxuICApID0+IHZvaWQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEhsc0V2ZW50RW1pdHRlciB7XG4gIG9uPEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnMsIENvbnRleHQgPSB1bmRlZmluZWQ+KFxuICAgIGV2ZW50OiBFLFxuICAgIGxpc3RlbmVyOiBIbHNMaXN0ZW5lcnNbRV0sXG4gICAgY29udGV4dD86IENvbnRleHQsXG4gICk6IHZvaWQ7XG4gIG9uY2U8RSBleHRlbmRzIGtleW9mIEhsc0xpc3RlbmVycywgQ29udGV4dCA9IHVuZGVmaW5lZD4oXG4gICAgZXZlbnQ6IEUsXG4gICAgbGlzdGVuZXI6IEhsc0xpc3RlbmVyc1tFXSxcbiAgICBjb250ZXh0PzogQ29udGV4dCxcbiAgKTogdm9pZDtcblxuICByZW1vdmVBbGxMaXN0ZW5lcnM8RSBleHRlbmRzIGtleW9mIEhsc0xpc3RlbmVycz4oZXZlbnQ/OiBFKTogdm9pZDtcbiAgb2ZmPEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnMsIENvbnRleHQgPSB1bmRlZmluZWQ+KFxuICAgIGV2ZW50OiBFLFxuICAgIGxpc3RlbmVyPzogSGxzTGlzdGVuZXJzW0VdLFxuICAgIGNvbnRleHQ/OiBDb250ZXh0LFxuICAgIG9uY2U/OiBib29sZWFuLFxuICApOiB2b2lkO1xuXG4gIGxpc3RlbmVyczxFIGV4dGVuZHMga2V5b2YgSGxzTGlzdGVuZXJzPihldmVudDogRSk6IEhsc0xpc3RlbmVyc1tFXVtdO1xuICBlbWl0PEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnM+KFxuICAgIGV2ZW50OiBFLFxuICAgIG5hbWU6IEUsXG4gICAgZXZlbnRPYmplY3Q6IFBhcmFtZXRlcnM8SGxzTGlzdGVuZXJzW0VdPlsxXSxcbiAgKTogYm9vbGVhbjtcbiAgbGlzdGVuZXJDb3VudDxFIGV4dGVuZHMga2V5b2YgSGxzTGlzdGVuZXJzPihldmVudDogRSk6IG51bWJlcjtcbn1cbiIsICJleHBvcnQgZW51bSBFcnJvclR5cGVzIHtcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBuZXR3b3JrIGVycm9yIChsb2FkaW5nIGVycm9yIC8gdGltZW91dCAuLi4pXG4gIE5FVFdPUktfRVJST1IgPSAnbmV0d29ya0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtZWRpYSBFcnJvciAodmlkZW8vcGFyc2luZy9tZWRpYXNvdXJjZSBlcnJvcilcbiAgTUVESUFfRVJST1IgPSAnbWVkaWFFcnJvcicsXG4gIC8vIEVNRSAoZW5jcnlwdGVkIG1lZGlhIGV4dGVuc2lvbnMpIGVycm9yc1xuICBLRVlfU1lTVEVNX0VSUk9SID0gJ2tleVN5c3RlbUVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtdXggRXJyb3IgKGRlbXV4aW5nL3JlbXV4aW5nKVxuICBNVVhfRVJST1IgPSAnbXV4RXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbGwgb3RoZXIgZXJyb3JzXG4gIE9USEVSX0VSUk9SID0gJ290aGVyRXJyb3InLFxufVxuXG5leHBvcnQgZW51bSBFcnJvckRldGFpbHMge1xuICBLRVlfU1lTVEVNX05PX0tFWVMgPSAna2V5U3lzdGVtTm9LZXlzJyxcbiAgS0VZX1NZU1RFTV9OT19BQ0NFU1MgPSAna2V5U3lzdGVtTm9BY2Nlc3MnLFxuICBLRVlfU1lTVEVNX05PX1NFU1NJT04gPSAna2V5U3lzdGVtTm9TZXNzaW9uJyxcbiAgS0VZX1NZU1RFTV9OT19DT05GSUdVUkVEX0xJQ0VOU0UgPSAna2V5U3lzdGVtTm9Db25maWd1cmVkTGljZW5zZScsXG4gIEtFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRCA9ICdrZXlTeXN0ZW1MaWNlbnNlUmVxdWVzdEZhaWxlZCcsXG4gIEtFWV9TWVNURU1fU0VSVkVSX0NFUlRJRklDQVRFX1JFUVVFU1RfRkFJTEVEID0gJ2tleVN5c3RlbVNlcnZlckNlcnRpZmljYXRlUmVxdWVzdEZhaWxlZCcsXG4gIEtFWV9TWVNURU1fU0VSVkVSX0NFUlRJRklDQVRFX1VQREFURV9GQUlMRUQgPSAna2V5U3lzdGVtU2VydmVyQ2VydGlmaWNhdGVVcGRhdGVGYWlsZWQnLFxuICBLRVlfU1lTVEVNX1NFU1NJT05fVVBEQVRFX0ZBSUxFRCA9ICdrZXlTeXN0ZW1TZXNzaW9uVXBkYXRlRmFpbGVkJyxcbiAgS0VZX1NZU1RFTV9TVEFUVVNfT1VUUFVUX1JFU1RSSUNURUQgPSAna2V5U3lzdGVtU3RhdHVzT3V0cHV0UmVzdHJpY3RlZCcsXG4gIEtFWV9TWVNURU1fU1RBVFVTX0lOVEVSTkFMX0VSUk9SID0gJ2tleVN5c3RlbVN0YXR1c0ludGVybmFsRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIE1BTklGRVNUX0xPQURfRVJST1IgPSAnbWFuaWZlc3RMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTUFOSUZFU1RfTE9BRF9USU1FT1VUID0gJ21hbmlmZXN0TG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IHBhcnNpbmcgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgTUFOSUZFU1RfUEFSU0lOR19FUlJPUiA9ICdtYW5pZmVzdFBhcnNpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3Qgd2l0aCBvbmx5IGluY29tcGF0aWJsZSBjb2RlY3MgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUiA9ICdtYW5pZmVzdEluY29tcGF0aWJsZUNvZGVjc0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCB3aGljaCBjb250YWlucyBubyBmcmFnbWVudHMgLSBkYXRhOiB7IHVybDogZmF1bHR5IFVSTCwgcmVhc29uOiBcIm5vIGZyYWdtZW50cyBmb3VuZCBpbiBsZXZlbFwiLCBsZXZlbDogaW5kZXggb2YgdGhlIGJhZCBsZXZlbCB9XG4gIExFVkVMX0VNUFRZX0VSUk9SID0gJ2xldmVsRW1wdHlFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgbG9hZCBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTEVWRUxfTE9BRF9FUlJPUiA9ICdsZXZlbExvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgbG9hZCB0aW1lb3V0IC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBMRVZFTF9MT0FEX1RJTUVPVVQgPSAnbGV2ZWxMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgcGFyc2UgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIGVycm9yOiBFcnJvciwgcmVhc29uOiBlcnJvciBtZXNzYWdlIH1cbiAgTEVWRUxfUEFSU0lOR19FUlJPUiA9ICdsZXZlbFBhcnNpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgc3dpdGNoIGVycm9yIC0gZGF0YTogeyBsZXZlbCA6IGZhdWx0eSBsZXZlbCBJZCwgZXZlbnQgOiBlcnJvciBkZXNjcmlwdGlvbn1cbiAgTEVWRUxfU1dJVENIX0VSUk9SID0gJ2xldmVsU3dpdGNoRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBhdWRpbyB0cmFjayBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBBVURJT19UUkFDS19MT0FEX0VSUk9SID0gJ2F1ZGlvVHJhY2tMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBhdWRpbyB0cmFjayBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIEFVRElPX1RSQUNLX0xPQURfVElNRU9VVCA9ICdhdWRpb1RyYWNrTG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIHN1YnRpdGxlIHRyYWNrIGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIFNVQlRJVExFX0xPQURfRVJST1IgPSAnc3VidGl0bGVUcmFja0xvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgc3VidGl0bGUgdHJhY2sgbG9hZCB0aW1lb3V0IC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBTVUJUSVRMRV9UUkFDS19MT0FEX1RJTUVPVVQgPSAnc3VidGl0bGVUcmFja0xvYWRUaW1lT3V0JyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgRlJBR19MT0FEX0VSUk9SID0gJ2ZyYWdMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBmcmFnbWVudCBsb2FkIHRpbWVvdXQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3R9XG4gIEZSQUdfTE9BRF9USU1FT1VUID0gJ2ZyYWdMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgZnJhZ21lbnQgZGVjcnlwdGlvbiBlcnJvciBldmVudCAtIGRhdGE6IHtpZCA6IGRlbXV4ZXIgSWQsZnJhZzogZnJhZ21lbnQgb2JqZWN0LCByZWFzb24gOiBwYXJzaW5nIGVycm9yIGRlc2NyaXB0aW9uIH1cbiAgRlJBR19ERUNSWVBUX0VSUk9SID0gJ2ZyYWdEZWNyeXB0RXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGZyYWdtZW50IHBhcnNpbmcgZXJyb3IgZXZlbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBJZCwgcmVhc29uIDogcGFyc2luZyBlcnJvciBkZXNjcmlwdGlvbiB9XG4gIC8vIHdpbGwgYmUgcmVuYW1lZCBERU1VWF9QQVJTSU5HX0VSUk9SIGFuZCBzd2l0Y2hlZCB0byBNVVhfRVJST1IgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICBGUkFHX1BBUlNJTkdfRVJST1IgPSAnZnJhZ1BhcnNpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgZnJhZ21lbnQgb3IgcGFydCBsb2FkIHNraXBwZWQgYmVjYXVzZSBvZiBhIEdBUCB0YWcgb3IgYXR0cmlidXRlXG4gIEZSQUdfR0FQID0gJ2ZyYWdHYXAnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIHJlbXV4IGFsbG9jIGVycm9yIGV2ZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgSWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIGJ5dGVzIDogbmIgb2YgYnl0ZXMgb24gd2hpY2ggYWxsb2NhdGlvbiBmYWlsZWQgLCByZWFzb24gOiBlcnJvciB0ZXh0IH1cbiAgUkVNVVhfQUxMT0NfRVJST1IgPSAncmVtdXhBbGxvY0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZGVjcnlwdCBrZXkgbG9hZCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgS0VZX0xPQURfRVJST1IgPSAna2V5TG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZGVjcnlwdCBrZXkgbG9hZCB0aW1lb3V0IGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICBLRVlfTE9BRF9USU1FT1VUID0gJ2tleUxvYWRUaW1lT3V0JyxcbiAgLy8gVHJpZ2dlcmVkIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyB3aGlsZSBhZGRpbmcgYSBzb3VyY2VCdWZmZXIgdG8gTWVkaWFTb3VyY2UgLSBkYXRhIDogeyBlcnJvciA6IGV4Y2VwdGlvbiAsIG1pbWVUeXBlIDogbWltZVR5cGUgfVxuICBCVUZGRVJfQUREX0NPREVDX0VSUk9SID0gJ2J1ZmZlckFkZENvZGVjRXJyb3InLFxuICAvLyBUcmlnZ2VyZWQgd2hlbiBzb3VyY2UgYnVmZmVyKHMpIGNvdWxkIG5vdCBiZSBjcmVhdGVkIHVzaW5nIGxldmVsIChtYW5pZmVzdCBDT0RFQ1MgYXR0cmlidXRlKSwgcGFyc2VkIG1lZGlhLCBvciBiZXN0IGd1ZXNzIGNvZGVjKHMpIC0gZGF0YTogeyByZWFzb24gOiBlcnJvciByZWFzb24gfVxuICBCVUZGRVJfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUiA9ICdidWZmZXJJbmNvbXBhdGlibGVDb2RlY3NFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIGFwcGVuZCBlcnJvciAtIGRhdGE6IGFwcGVuZCBlcnJvciBkZXNjcmlwdGlvblxuICBCVUZGRVJfQVBQRU5EX0VSUk9SID0gJ2J1ZmZlckFwcGVuZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgYXBwZW5kaW5nIGVycm9yIGV2ZW50IC0gZGF0YTogYXBwZW5kaW5nIGVycm9yIGRlc2NyaXB0aW9uXG4gIEJVRkZFUl9BUFBFTkRJTkdfRVJST1IgPSAnYnVmZmVyQXBwZW5kaW5nRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBzdGFsbGVkIGVycm9yIGV2ZW50XG4gIEJVRkZFUl9TVEFMTEVEX0VSUk9SID0gJ2J1ZmZlclN0YWxsZWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIGZ1bGwgZXZlbnRcbiAgQlVGRkVSX0ZVTExfRVJST1IgPSAnYnVmZmVyRnVsbEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgc2VlayBvdmVyIGhvbGUgZXZlbnRcbiAgQlVGRkVSX1NFRUtfT1ZFUl9IT0xFID0gJ2J1ZmZlclNlZWtPdmVySG9sZScsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIG51ZGdlIG9uIHN0YWxsIChwbGF5YmFjayBpcyBzdHVjayBhbHRob3VnaCBjdXJyZW50VGltZSBpcyBpbiBhIGJ1ZmZlcmVkIGFyZWEpXG4gIEJVRkZFUl9OVURHRV9PTl9TVEFMTCA9ICdidWZmZXJOdWRnZU9uU3RhbGwnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBpbnRlcm5hbCBleGNlcHRpb24gaGFwcGVuaW5nIGluc2lkZSBobHMuanMgd2hpbGUgaGFuZGxpbmcgYW4gZXZlbnRcbiAgSU5URVJOQUxfRVhDRVBUSU9OID0gJ2ludGVybmFsRXhjZXB0aW9uJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYW4gaW50ZXJuYWwgY2FsbCB0byBhYm9ydCBhIGxvYWRlclxuICBJTlRFUk5BTF9BQk9SVEVEID0gJ2Fib3J0ZWQnLFxuICAvLyBVbmNhdGVnb3JpemVkIGVycm9yXG4gIFVOS05PV04gPSAndW5rbm93bicsXG59XG4iLCAiZXhwb3J0IGludGVyZmFjZSBJTG9nRnVuY3Rpb24ge1xuICAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTG9nZ2VyIHtcbiAgdHJhY2U6IElMb2dGdW5jdGlvbjtcbiAgZGVidWc6IElMb2dGdW5jdGlvbjtcbiAgbG9nOiBJTG9nRnVuY3Rpb247XG4gIHdhcm46IElMb2dGdW5jdGlvbjtcbiAgaW5mbzogSUxvZ0Z1bmN0aW9uO1xuICBlcnJvcjogSUxvZ0Z1bmN0aW9uO1xufVxuXG5jb25zdCBub29wOiBJTG9nRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7fTtcblxuY29uc3QgZmFrZUxvZ2dlcjogSUxvZ2dlciA9IHtcbiAgdHJhY2U6IG5vb3AsXG4gIGRlYnVnOiBub29wLFxuICBsb2c6IG5vb3AsXG4gIHdhcm46IG5vb3AsXG4gIGluZm86IG5vb3AsXG4gIGVycm9yOiBub29wLFxufTtcblxubGV0IGV4cG9ydGVkTG9nZ2VyOiBJTG9nZ2VyID0gZmFrZUxvZ2dlcjtcblxuLy8gbGV0IGxhc3RDYWxsVGltZTtcbi8vIGZ1bmN0aW9uIGZvcm1hdE1zZ1dpdGhUaW1lSW5mbyh0eXBlLCBtc2cpIHtcbi8vICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbi8vICAgY29uc3QgZGlmZiA9IGxhc3RDYWxsVGltZSA/ICcrJyArIChub3cgLSBsYXN0Q2FsbFRpbWUpIDogJzAnO1xuLy8gICBsYXN0Q2FsbFRpbWUgPSBub3c7XG4vLyAgIG1zZyA9IChuZXcgRGF0ZShub3cpKS50b0lTT1N0cmluZygpICsgJyB8IFsnICsgIHR5cGUgKyAnXSA+ICcgKyBtc2cgKyAnICggJyArIGRpZmYgKyAnIG1zICknO1xuLy8gICByZXR1cm4gbXNnO1xuLy8gfVxuXG5mdW5jdGlvbiBjb25zb2xlUHJpbnRGbih0eXBlOiBzdHJpbmcpOiBJTG9nRnVuY3Rpb24ge1xuICBjb25zdCBmdW5jOiBJTG9nRnVuY3Rpb24gPSBzZWxmLmNvbnNvbGVbdHlwZV07XG4gIGlmIChmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmMuYmluZChzZWxmLmNvbnNvbGUsIGBbJHt0eXBlfV0gPmApO1xuICB9XG4gIHJldHVybiBub29wO1xufVxuXG5mdW5jdGlvbiBleHBvcnRMb2dnZXJGdW5jdGlvbnMoXG4gIGRlYnVnQ29uZmlnOiBib29sZWFuIHwgSUxvZ2dlcixcbiAgLi4uZnVuY3Rpb25zOiBzdHJpbmdbXVxuKTogdm9pZCB7XG4gIGZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgZXhwb3J0ZWRMb2dnZXJbdHlwZV0gPSBkZWJ1Z0NvbmZpZ1t0eXBlXVxuICAgICAgPyBkZWJ1Z0NvbmZpZ1t0eXBlXS5iaW5kKGRlYnVnQ29uZmlnKVxuICAgICAgOiBjb25zb2xlUHJpbnRGbih0eXBlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVMb2dzKGRlYnVnQ29uZmlnOiBib29sZWFuIHwgSUxvZ2dlciwgaWQ6IHN0cmluZyk6IHZvaWQge1xuICAvLyBjaGVjayB0aGF0IGNvbnNvbGUgaXMgYXZhaWxhYmxlXG4gIGlmIChcbiAgICAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGRlYnVnQ29uZmlnID09PSB0cnVlKSB8fFxuICAgIHR5cGVvZiBkZWJ1Z0NvbmZpZyA9PT0gJ29iamVjdCdcbiAgKSB7XG4gICAgZXhwb3J0TG9nZ2VyRnVuY3Rpb25zKFxuICAgICAgZGVidWdDb25maWcsXG4gICAgICAvLyBSZW1vdmUgb3V0IGZyb20gbGlzdCBoZXJlIHRvIGhhcmQtZGlzYWJsZSBhIGxvZy1sZXZlbFxuICAgICAgLy8gJ3RyYWNlJyxcbiAgICAgICdkZWJ1ZycsXG4gICAgICAnbG9nJyxcbiAgICAgICdpbmZvJyxcbiAgICAgICd3YXJuJyxcbiAgICAgICdlcnJvcicsXG4gICAgKTtcbiAgICAvLyBTb21lIGJyb3dzZXJzIGRvbid0IGFsbG93IHRvIHVzZSBiaW5kIG9uIGNvbnNvbGUgb2JqZWN0IGFueXdheVxuICAgIC8vIGZhbGxiYWNrIHRvIGRlZmF1bHQgaWYgbmVlZGVkXG4gICAgdHJ5IHtcbiAgICAgIGV4cG9ydGVkTG9nZ2VyLmxvZyhcbiAgICAgICAgYERlYnVnIGxvZ3MgZW5hYmxlZCBmb3IgXCIke2lkfVwiIGluIGhscy5qcyB2ZXJzaW9uICR7X19WRVJTSU9OX199YCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXhwb3J0ZWRMb2dnZXIgPSBmYWtlTG9nZ2VyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2dlcjogSUxvZ2dlciA9IGV4cG9ydGVkTG9nZ2VyO1xuIiwgImNvbnN0IERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCA9IC9eKFxcZCspeChcXGQrKSQvO1xuY29uc3QgQVRUUl9MSVNUX1JFR0VYID0gLyguKz8pPShcIi4qP1wifC4qPykoPzosfCQpL2c7XG5cbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20va2Fub25naWwvbm9kZS1tM3U4cGFyc2UvYmxvYi9tYXN0ZXIvYXR0cmxpc3QuanNcbmV4cG9ydCBjbGFzcyBBdHRyTGlzdCB7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcblxuICBjb25zdHJ1Y3RvcihhdHRyczogc3RyaW5nIHwgUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIGlmICh0eXBlb2YgYXR0cnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhdHRycyA9IEF0dHJMaXN0LnBhcnNlQXR0ckxpc3QoYXR0cnMpO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGF0dHJzKTtcbiAgfVxuXG4gIGdldCBjbGllbnRBdHRycygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMpLmZpbHRlcigoYXR0cikgPT4gYXR0ci5zdWJzdHJpbmcoMCwgMikgPT09ICdYLScpO1xuICB9XG5cbiAgZGVjaW1hbEludGVnZXIoYXR0ck5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgaW50VmFsdWUgPSBwYXJzZUludCh0aGlzW2F0dHJOYW1lXSwgMTApO1xuICAgIGlmIChpbnRWYWx1ZSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludFZhbHVlO1xuICB9XG5cbiAgaGV4YWRlY2ltYWxJbnRlZ2VyKGF0dHJOYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpc1thdHRyTmFtZV0pIHtcbiAgICAgIGxldCBzdHJpbmdWYWx1ZSA9ICh0aGlzW2F0dHJOYW1lXSB8fCAnMHgnKS5zbGljZSgyKTtcbiAgICAgIHN0cmluZ1ZhbHVlID0gKHN0cmluZ1ZhbHVlLmxlbmd0aCAmIDEgPyAnMCcgOiAnJykgKyBzdHJpbmdWYWx1ZTtcblxuICAgICAgY29uc3QgdmFsdWUgPSBuZXcgVWludDhBcnJheShzdHJpbmdWYWx1ZS5sZW5ndGggLyAyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgIHZhbHVlW2ldID0gcGFyc2VJbnQoc3RyaW5nVmFsdWUuc2xpY2UoaSAqIDIsIGkgKiAyICsgMiksIDE2KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBoZXhhZGVjaW1hbEludGVnZXJBc051bWJlcihhdHRyTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxNik7XG4gICAgaWYgKGludFZhbHVlID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW50VmFsdWU7XG4gIH1cblxuICBkZWNpbWFsRmxvYXRpbmdQb2ludChhdHRyTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzW2F0dHJOYW1lXSk7XG4gIH1cblxuICBvcHRpb25hbEZsb2F0KGF0dHJOYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXNbYXR0ck5hbWVdO1xuICAgIHJldHVybiB2YWx1ZSA/IHBhcnNlRmxvYXQodmFsdWUpIDogZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgZW51bWVyYXRlZFN0cmluZyhhdHRyTmFtZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpc1thdHRyTmFtZV07XG4gIH1cblxuICBib29sKGF0dHJOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpc1thdHRyTmFtZV0gPT09ICdZRVMnO1xuICB9XG5cbiAgZGVjaW1hbFJlc29sdXRpb24oYXR0ck5hbWU6IHN0cmluZyk6XG4gICAgfCB7XG4gICAgICAgIHdpZHRoOiBudW1iZXI7XG4gICAgICAgIGhlaWdodDogbnVtYmVyO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCByZXMgPSBERUNJTUFMX1JFU09MVVRJT05fUkVHRVguZXhlYyh0aGlzW2F0dHJOYW1lXSk7XG4gICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHBhcnNlSW50KHJlc1sxXSwgMTApLFxuICAgICAgaGVpZ2h0OiBwYXJzZUludChyZXNbMl0sIDEwKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHBhcnNlQXR0ckxpc3QoaW5wdXQ6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIGxldCBtYXRjaDtcbiAgICBjb25zdCBhdHRycyA9IHt9O1xuICAgIGNvbnN0IHF1b3RlID0gJ1wiJztcbiAgICBBVFRSX0xJU1RfUkVHRVgubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoKG1hdGNoID0gQVRUUl9MSVNUX1JFR0VYLmV4ZWMoaW5wdXQpKSAhPT0gbnVsbCkge1xuICAgICAgbGV0IHZhbHVlID0gbWF0Y2hbMl07XG5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUuaW5kZXhPZihxdW90ZSkgPT09IDAgJiZcbiAgICAgICAgdmFsdWUubGFzdEluZGV4T2YocXVvdGUpID09PSB2YWx1ZS5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gbWF0Y2hbMV0udHJpbSgpO1xuICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJzO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQXR0ckxpc3QgfSBmcm9tICcuLi91dGlscy9hdHRyLWxpc3QnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuLy8gQXZvaWQgZXhwb3J0aW5nIGNvbnN0IGVudW0gc28gdGhhdCB0aGVzZSB2YWx1ZXMgY2FuIGJlIGlubGluZWRcbmNvbnN0IGVudW0gRGF0ZVJhbmdlQXR0cmlidXRlIHtcbiAgSUQgPSAnSUQnLFxuICBDTEFTUyA9ICdDTEFTUycsXG4gIFNUQVJUX0RBVEUgPSAnU1RBUlQtREFURScsXG4gIERVUkFUSU9OID0gJ0RVUkFUSU9OJyxcbiAgRU5EX0RBVEUgPSAnRU5ELURBVEUnLFxuICBFTkRfT05fTkVYVCA9ICdFTkQtT04tTkVYVCcsXG4gIFBMQU5ORURfRFVSQVRJT04gPSAnUExBTk5FRC1EVVJBVElPTicsXG4gIFNDVEUzNV9PVVQgPSAnU0NURTM1LU9VVCcsXG4gIFNDVEUzNV9JTiA9ICdTQ1RFMzUtSU4nLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlUmFuZ2VDdWVBdHRyaWJ1dGUoYXR0ck5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGF0dHJOYW1lICE9PSBEYXRlUmFuZ2VBdHRyaWJ1dGUuSUQgJiZcbiAgICBhdHRyTmFtZSAhPT0gRGF0ZVJhbmdlQXR0cmlidXRlLkNMQVNTICYmXG4gICAgYXR0ck5hbWUgIT09IERhdGVSYW5nZUF0dHJpYnV0ZS5TVEFSVF9EQVRFICYmXG4gICAgYXR0ck5hbWUgIT09IERhdGVSYW5nZUF0dHJpYnV0ZS5EVVJBVElPTiAmJlxuICAgIGF0dHJOYW1lICE9PSBEYXRlUmFuZ2VBdHRyaWJ1dGUuRU5EX0RBVEUgJiZcbiAgICBhdHRyTmFtZSAhPT0gRGF0ZVJhbmdlQXR0cmlidXRlLkVORF9PTl9ORVhUXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NDVEUzNUF0dHJpYnV0ZShhdHRyTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgYXR0ck5hbWUgPT09IERhdGVSYW5nZUF0dHJpYnV0ZS5TQ1RFMzVfT1VUIHx8XG4gICAgYXR0ck5hbWUgPT09IERhdGVSYW5nZUF0dHJpYnV0ZS5TQ1RFMzVfSU5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGVSYW5nZSB7XG4gIHB1YmxpYyBhdHRyOiBBdHRyTGlzdDtcbiAgcHJpdmF0ZSBfc3RhcnREYXRlOiBEYXRlO1xuICBwcml2YXRlIF9lbmREYXRlPzogRGF0ZTtcbiAgcHJpdmF0ZSBfYmFkVmFsdWVGb3JTYW1lSWQ/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0ZVJhbmdlQXR0cjogQXR0ckxpc3QsIGRhdGVSYW5nZVdpdGhTYW1lSWQ/OiBEYXRlUmFuZ2UpIHtcbiAgICBpZiAoZGF0ZVJhbmdlV2l0aFNhbWVJZCkge1xuICAgICAgY29uc3QgcHJldmlvdXNBdHRyID0gZGF0ZVJhbmdlV2l0aFNhbWVJZC5hdHRyO1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldmlvdXNBdHRyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0ZVJhbmdlQXR0ciwga2V5KSAmJlxuICAgICAgICAgIGRhdGVSYW5nZUF0dHJba2V5XSAhPT0gcHJldmlvdXNBdHRyW2tleV1cbiAgICAgICAgKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICBgREFURVJBTkdFIHRhZyBhdHRyaWJ1dGU6IFwiJHtrZXl9XCIgZG9lcyBub3QgbWF0Y2ggZm9yIHRhZ3Mgd2l0aCBJRDogXCIke2RhdGVSYW5nZUF0dHIuSUR9XCJgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fYmFkVmFsdWVGb3JTYW1lSWQgPSBrZXk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIE1lcmdlIERhdGVSYW5nZSB0YWdzIHdpdGggdGhlIHNhbWUgSURcbiAgICAgIGRhdGVSYW5nZUF0dHIgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXR0ckxpc3Qoe30pLFxuICAgICAgICBwcmV2aW91c0F0dHIsXG4gICAgICAgIGRhdGVSYW5nZUF0dHIsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmF0dHIgPSBkYXRlUmFuZ2VBdHRyO1xuICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IG5ldyBEYXRlKGRhdGVSYW5nZUF0dHJbRGF0ZVJhbmdlQXR0cmlidXRlLlNUQVJUX0RBVEVdKTtcbiAgICBpZiAoRGF0ZVJhbmdlQXR0cmlidXRlLkVORF9EQVRFIGluIHRoaXMuYXR0cikge1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHRoaXMuYXR0cltEYXRlUmFuZ2VBdHRyaWJ1dGUuRU5EX0RBVEVdKTtcbiAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZW5kRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSBlbmREYXRlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmF0dHIuSUQ7XG4gIH1cblxuICBnZXQgY2xhc3MoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyLkNMQVNTO1xuICB9XG5cbiAgZ2V0IHN0YXJ0RGF0ZSgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnREYXRlO1xuICB9XG5cbiAgZ2V0IGVuZERhdGUoKTogRGF0ZSB8IG51bGwge1xuICAgIGlmICh0aGlzLl9lbmREYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZW5kRGF0ZTtcbiAgICB9XG4gICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uO1xuICAgIGlmIChkdXJhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuX3N0YXJ0RGF0ZS5nZXRUaW1lKCkgKyBkdXJhdGlvbiAqIDEwMDApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldCBkdXJhdGlvbigpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoRGF0ZVJhbmdlQXR0cmlidXRlLkRVUkFUSU9OIGluIHRoaXMuYXR0cikge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmF0dHIuZGVjaW1hbEZsb2F0aW5nUG9pbnQoXG4gICAgICAgIERhdGVSYW5nZUF0dHJpYnV0ZS5EVVJBVElPTixcbiAgICAgICk7XG4gICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGR1cmF0aW9uKSkge1xuICAgICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9lbmREYXRlKSB7XG4gICAgICByZXR1cm4gKHRoaXMuX2VuZERhdGUuZ2V0VGltZSgpIC0gdGhpcy5fc3RhcnREYXRlLmdldFRpbWUoKSkgLyAxMDAwO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldCBwbGFubmVkRHVyYXRpb24oKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKERhdGVSYW5nZUF0dHJpYnV0ZS5QTEFOTkVEX0RVUkFUSU9OIGluIHRoaXMuYXR0cikge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0ci5kZWNpbWFsRmxvYXRpbmdQb2ludChcbiAgICAgICAgRGF0ZVJhbmdlQXR0cmlidXRlLlBMQU5ORURfRFVSQVRJT04sXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldCBlbmRPbk5leHQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXR0ci5ib29sKERhdGVSYW5nZUF0dHJpYnV0ZS5FTkRfT05fTkVYVCk7XG4gIH1cblxuICBnZXQgaXNWYWxpZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgISF0aGlzLmlkICYmXG4gICAgICAhdGhpcy5fYmFkVmFsdWVGb3JTYW1lSWQgJiZcbiAgICAgIE51bWJlci5pc0Zpbml0ZSh0aGlzLnN0YXJ0RGF0ZS5nZXRUaW1lKCkpICYmXG4gICAgICAodGhpcy5kdXJhdGlvbiA9PT0gbnVsbCB8fCB0aGlzLmR1cmF0aW9uID49IDApICYmXG4gICAgICAoIXRoaXMuZW5kT25OZXh0IHx8ICEhdGhpcy5jbGFzcylcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICBIbHNQZXJmb3JtYW5jZVRpbWluZyxcbiAgSGxzUHJvZ3Jlc3NpdmVQZXJmb3JtYW5jZVRpbWluZyxcbiAgTG9hZGVyU3RhdHMsXG59IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5cbmV4cG9ydCBjbGFzcyBMb2FkU3RhdHMgaW1wbGVtZW50cyBMb2FkZXJTdGF0cyB7XG4gIGFib3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbG9hZGVkOiBudW1iZXIgPSAwO1xuICByZXRyeTogbnVtYmVyID0gMDtcbiAgdG90YWw6IG51bWJlciA9IDA7XG4gIGNodW5rQ291bnQ6IG51bWJlciA9IDA7XG4gIGJ3RXN0aW1hdGU6IG51bWJlciA9IDA7XG4gIGxvYWRpbmc6IEhsc1Byb2dyZXNzaXZlUGVyZm9ybWFuY2VUaW1pbmcgPSB7IHN0YXJ0OiAwLCBmaXJzdDogMCwgZW5kOiAwIH07XG4gIHBhcnNpbmc6IEhsc1BlcmZvcm1hbmNlVGltaW5nID0geyBzdGFydDogMCwgZW5kOiAwIH07XG4gIGJ1ZmZlcmluZzogSGxzUHJvZ3Jlc3NpdmVQZXJmb3JtYW5jZVRpbWluZyA9IHsgc3RhcnQ6IDAsIGZpcnN0OiAwLCBlbmQ6IDAgfTtcbn1cbiIsICJpbXBvcnQgeyBidWlsZEFic29sdXRlVVJMIH0gZnJvbSAndXJsLXRvb2xraXQnO1xuaW1wb3J0IHsgTGV2ZWxLZXkgfSBmcm9tICcuL2xldmVsLWtleSc7XG5pbXBvcnQgeyBMb2FkU3RhdHMgfSBmcm9tICcuL2xvYWQtc3RhdHMnO1xuaW1wb3J0IHsgQXR0ckxpc3QgfSBmcm9tICcuLi91dGlscy9hdHRyLWxpc3QnO1xuaW1wb3J0IHR5cGUge1xuICBGcmFnbWVudExvYWRlckNvbnRleHQsXG4gIEtleUxvYWRlckNvbnRleHQsXG4gIExvYWRlcixcbiAgUGxheWxpc3RMZXZlbFR5cGUsXG59IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSB7IEtleVN5c3RlbUZvcm1hdHMgfSBmcm9tICcuLi91dGlscy9tZWRpYWtleXMtaGVscGVyJztcblxuZXhwb3J0IGNvbnN0IGVudW0gRWxlbWVudGFyeVN0cmVhbVR5cGVzIHtcbiAgQVVESU8gPSAnYXVkaW8nLFxuICBWSURFTyA9ICd2aWRlbycsXG4gIEFVRElPVklERU8gPSAnYXVkaW92aWRlbycsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudGFyeVN0cmVhbUluZm8ge1xuICBzdGFydFBUUzogbnVtYmVyO1xuICBlbmRQVFM6IG51bWJlcjtcbiAgc3RhcnREVFM6IG51bWJlcjtcbiAgZW5kRFRTOiBudW1iZXI7XG4gIHBhcnRpYWw/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50YXJ5U3RyZWFtcyA9IFJlY29yZDxcbiAgRWxlbWVudGFyeVN0cmVhbVR5cGVzLFxuICBFbGVtZW50YXJ5U3RyZWFtSW5mbyB8IG51bGxcbj47XG5cbmV4cG9ydCBjbGFzcyBCYXNlU2VnbWVudCB7XG4gIHByaXZhdGUgX2J5dGVSYW5nZTogW251bWJlciwgbnVtYmVyXSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF91cmw6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8vIGJhc2V1cmwgaXMgdGhlIFVSTCB0byB0aGUgcGxheWxpc3RcbiAgcHVibGljIHJlYWRvbmx5IGJhc2V1cmw6IHN0cmluZztcbiAgLy8gcmVsdXJsIGlzIHRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgdGhhdCBjb21lcyBmcm9tIGluc2lkZSB0aGUgcGxheWxpc3QuXG4gIHB1YmxpYyByZWx1cmw/OiBzdHJpbmc7XG4gIC8vIEhvbGRzIHRoZSB0eXBlcyBvZiBkYXRhIHRoaXMgZnJhZ21lbnQgc3VwcG9ydHNcbiAgcHVibGljIGVsZW1lbnRhcnlTdHJlYW1zOiBFbGVtZW50YXJ5U3RyZWFtcyA9IHtcbiAgICBbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPXTogbnVsbCxcbiAgICBbRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPXTogbnVsbCxcbiAgICBbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPVklERU9dOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGJhc2V1cmw6IHN0cmluZykge1xuICAgIHRoaXMuYmFzZXVybCA9IGJhc2V1cmw7XG4gIH1cblxuICAvLyBzZXRCeXRlUmFuZ2UgY29udmVydHMgYSBFWFQtWC1CWVRFUkFOR0UgYXR0cmlidXRlIGludG8gYSB0d28gZWxlbWVudCBhcnJheVxuICBzZXRCeXRlUmFuZ2UodmFsdWU6IHN0cmluZywgcHJldmlvdXM/OiBCYXNlU2VnbWVudCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHZhbHVlLnNwbGl0KCdAJywgMik7XG4gICAgbGV0IHN0YXJ0OiBudW1iZXI7XG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHN0YXJ0ID0gcHJldmlvdXM/LmJ5dGVSYW5nZUVuZE9mZnNldCB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IHBhcnNlSW50KHBhcmFtc1sxXSk7XG4gICAgfVxuICAgIHRoaXMuX2J5dGVSYW5nZSA9IFtzdGFydCwgcGFyc2VJbnQocGFyYW1zWzBdKSArIHN0YXJ0XTtcbiAgfVxuXG4gIGdldCBieXRlUmFuZ2UoKTogW251bWJlciwgbnVtYmVyXSB8IFtdIHtcbiAgICBpZiAoIXRoaXMuX2J5dGVSYW5nZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9ieXRlUmFuZ2U7XG4gIH1cblxuICBnZXQgYnl0ZVJhbmdlU3RhcnRPZmZzZXQoKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ieXRlUmFuZ2VbMF07XG4gIH1cblxuICBnZXQgYnl0ZVJhbmdlRW5kT2Zmc2V0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzFdO1xuICB9XG5cbiAgZ2V0IHVybCgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5fdXJsICYmIHRoaXMuYmFzZXVybCAmJiB0aGlzLnJlbHVybCkge1xuICAgICAgdGhpcy5fdXJsID0gYnVpbGRBYnNvbHV0ZVVSTCh0aGlzLmJhc2V1cmwsIHRoaXMucmVsdXJsLCB7XG4gICAgICAgIGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdXJsIHx8ICcnO1xuICB9XG5cbiAgc2V0IHVybCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fdXJsID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBPYmplY3QgcmVwcmVzZW50aW5nIHBhcnNlZCBkYXRhIGZyb20gYW4gSExTIFNlZ21lbnQuIEZvdW5kIGluIHtAbGluayBobHMuanMjTGV2ZWxEZXRhaWxzLmZyYWdtZW50c30uXG4gKi9cbmV4cG9ydCBjbGFzcyBGcmFnbWVudCBleHRlbmRzIEJhc2VTZWdtZW50IHtcbiAgcHJpdmF0ZSBfZGVjcnlwdGRhdGE6IExldmVsS2V5IHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIHJhd1Byb2dyYW1EYXRlVGltZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBwcm9ncmFtRGF0ZVRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgdGFnTGlzdDogQXJyYXk8c3RyaW5nW10+ID0gW107XG5cbiAgLy8gRVhUSU5GIGhhcyB0byBiZSBwcmVzZW50IGZvciBhIG0zdTggdG8gYmUgY29uc2lkZXJlZCB2YWxpZFxuICBwdWJsaWMgZHVyYXRpb246IG51bWJlciA9IDA7XG4gIC8vIHNuIG5vdGF0ZXMgdGhlIHNlcXVlbmNlIG51bWJlciBmb3IgYSBzZWdtZW50LCBhbmQgaWYgc2V0IHRvIGEgc3RyaW5nIGNhbiBiZSAnaW5pdFNlZ21lbnQnXG4gIHB1YmxpYyBzbjogbnVtYmVyIHwgJ2luaXRTZWdtZW50JyA9IDA7XG4gIC8vIGxldmVsa2V5cyBhcmUgdGhlIEVYVC1YLUtFWSB0YWdzIHRoYXQgYXBwbHkgdG8gdGhpcyBzZWdtZW50IGZvciBkZWNyeXB0aW9uXG4gIC8vIGNvcmUgZGlmZmVyZW5jZSBmcm9tIHRoZSBwcml2YXRlIGZpZWxkIF9kZWNyeXB0ZGF0YSBpcyB0aGUgbGFjayBvZiB0aGUgaW5pdGlhbGl6ZWQgSVZcbiAgLy8gX2RlY3J5cHRkYXRhIHdpbGwgc2V0IHRoZSBJViBmb3IgdGhpcyBzZWdtZW50IGJhc2VkIG9uIHRoZSBzZWdtZW50IG51bWJlciBpbiB0aGUgZnJhZ21lbnRcbiAgcHVibGljIGxldmVsa2V5cz86IHsgW2tleTogc3RyaW5nXTogTGV2ZWxLZXkgfTtcbiAgLy8gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmcmFnbWVudCB0eXBlXG4gIHB1YmxpYyByZWFkb25seSB0eXBlOiBQbGF5bGlzdExldmVsVHlwZTtcbiAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIGxvYWRlci4gU2V0IHdoaWxlIHRoZSBmcmFnbWVudCBpcyBsb2FkaW5nLCBhbmQgcmVtb3ZlZCBhZnRlcndhcmRzLiBVc2VkIHRvIGFib3J0IGZyYWdtZW50IGxvYWRpbmdcbiAgcHVibGljIGxvYWRlcjogTG9hZGVyPEZyYWdtZW50TG9hZGVyQ29udGV4dD4gfCBudWxsID0gbnVsbDtcbiAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIGtleSBsb2FkZXIuIFNldCB3aGlsZSB0aGUga2V5IGlzIGxvYWRpbmcsIGFuZCByZW1vdmVkIGFmdGVyd2FyZHMuIFVzZWQgdG8gYWJvcnQga2V5IGxvYWRpbmdcbiAgcHVibGljIGtleUxvYWRlcjogTG9hZGVyPEtleUxvYWRlckNvbnRleHQ+IHwgbnVsbCA9IG51bGw7XG4gIC8vIFRoZSBsZXZlbC90cmFjayBpbmRleCB0byB3aGljaCB0aGUgZnJhZ21lbnQgYmVsb25nc1xuICBwdWJsaWMgbGV2ZWw6IG51bWJlciA9IC0xO1xuICAvLyBUaGUgY29udGludWl0eSBjb3VudGVyIG9mIHRoZSBmcmFnbWVudFxuICBwdWJsaWMgY2M6IG51bWJlciA9IDA7XG4gIC8vIFRoZSBzdGFydGluZyBQcmVzZW50YXRpb24gVGltZSBTdGFtcCAoUFRTKSBvZiB0aGUgZnJhZ21lbnQuIFNldCBhZnRlciB0cmFuc211eCBjb21wbGV0ZS5cbiAgcHVibGljIHN0YXJ0UFRTPzogbnVtYmVyO1xuICAvLyBUaGUgZW5kaW5nIFByZXNlbnRhdGlvbiBUaW1lIFN0YW1wIChQVFMpIG9mIHRoZSBmcmFnbWVudC4gU2V0IGFmdGVyIHRyYW5zbXV4IGNvbXBsZXRlLlxuICBwdWJsaWMgZW5kUFRTPzogbnVtYmVyO1xuICAvLyBUaGUgc3RhcnRpbmcgRGVjb2RlIFRpbWUgU3RhbXAgKERUUykgb2YgdGhlIGZyYWdtZW50LiBTZXQgYWZ0ZXIgdHJhbnNtdXggY29tcGxldGUuXG4gIHB1YmxpYyBzdGFydERUUyE6IG51bWJlcjtcbiAgLy8gVGhlIGVuZGluZyBEZWNvZGUgVGltZSBTdGFtcCAoRFRTKSBvZiB0aGUgZnJhZ21lbnQuIFNldCBhZnRlciB0cmFuc211eCBjb21wbGV0ZS5cbiAgcHVibGljIGVuZERUUyE6IG51bWJlcjtcbiAgLy8gVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGZyYWdtZW50LCBhcyBsaXN0ZWQgaW4gdGhlIG1hbmlmZXN0LiBVcGRhdGVkIGFmdGVyIHRyYW5zbXV4IGNvbXBsZXRlLlxuICBwdWJsaWMgc3RhcnQ6IG51bWJlciA9IDA7XG4gIC8vIFNldCBieSBgdXBkYXRlRnJhZ1BUU0RUU2AgaW4gbGV2ZWwtaGVscGVyXG4gIHB1YmxpYyBkZWx0YVBUUz86IG51bWJlcjtcbiAgLy8gVGhlIG1heGltdW0gc3RhcnRpbmcgUHJlc2VudGF0aW9uIFRpbWUgU3RhbXAgKGF1ZGlvL3ZpZGVvIFBUUykgb2YgdGhlIGZyYWdtZW50LiBTZXQgYWZ0ZXIgdHJhbnNtdXggY29tcGxldGUuXG4gIHB1YmxpYyBtYXhTdGFydFBUUz86IG51bWJlcjtcbiAgLy8gVGhlIG1pbmltdW0gZW5kaW5nIFByZXNlbnRhdGlvbiBUaW1lIFN0YW1wIChhdWRpby92aWRlbyBQVFMpIG9mIHRoZSBmcmFnbWVudC4gU2V0IGFmdGVyIHRyYW5zbXV4IGNvbXBsZXRlLlxuICBwdWJsaWMgbWluRW5kUFRTPzogbnVtYmVyO1xuICAvLyBMb2FkL3BhcnNlIHRpbWluZyBpbmZvcm1hdGlvblxuICBwdWJsaWMgc3RhdHM6IExvYWRTdGF0cyA9IG5ldyBMb2FkU3RhdHMoKTtcbiAgLy8gSW5pdCBTZWdtZW50IGJ5dGVzICh1bnNldCBmb3IgbWVkaWEgc2VnbWVudHMpXG4gIHB1YmxpYyBkYXRhPzogVWludDhBcnJheTtcbiAgLy8gQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgc2VnbWVudCB3YXMgZG93bmxvYWRlZCBpbiBvcmRlciB0byB0ZXN0IGJpdHJhdGUsIGFuZCB3YXMgbm90IGJ1ZmZlcmVkXG4gIHB1YmxpYyBiaXRyYXRlVGVzdDogYm9vbGVhbiA9IGZhbHNlO1xuICAvLyAjRVhUSU5GICBzZWdtZW50IHRpdGxlXG4gIHB1YmxpYyB0aXRsZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIC8vIFRoZSBNZWRpYSBJbml0aWFsaXphdGlvbiBTZWN0aW9uIGZvciB0aGlzIHNlZ21lbnRcbiAgcHVibGljIGluaXRTZWdtZW50OiBGcmFnbWVudCB8IG51bGwgPSBudWxsO1xuICAvLyBGcmFnbWVudCBpcyB0aGUgbGFzdCBmcmFnbWVudCBpbiB0aGUgbWVkaWEgcGxheWxpc3RcbiAgcHVibGljIGVuZExpc3Q/OiBib29sZWFuO1xuICAvLyBGcmFnbWVudCBpcyBtYXJrZWQgYnkgYW4gRVhULVgtR0FQIHRhZyBpbmRpY2F0aW5nIHRoYXQgaXQgZG9lcyBub3QgY29udGFpbiBtZWRpYSBkYXRhIGFuZCBzaG91bGQgbm90IGJlIGxvYWRlZFxuICBwdWJsaWMgZ2FwPzogYm9vbGVhbjtcbiAgLy8gRGVwcmVjYXRlZFxuICBwdWJsaWMgdXJsSWQ6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IodHlwZTogUGxheWxpc3RMZXZlbFR5cGUsIGJhc2V1cmw6IHN0cmluZykge1xuICAgIHN1cGVyKGJhc2V1cmwpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICBnZXQgZGVjcnlwdGRhdGEoKTogTGV2ZWxLZXkgfCBudWxsIHtcbiAgICBjb25zdCB7IGxldmVsa2V5cyB9ID0gdGhpcztcbiAgICBpZiAoIWxldmVsa2V5cyAmJiAhdGhpcy5fZGVjcnlwdGRhdGEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fZGVjcnlwdGRhdGEgJiYgdGhpcy5sZXZlbGtleXMgJiYgIXRoaXMubGV2ZWxrZXlzLk5PTkUpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMubGV2ZWxrZXlzLmlkZW50aXR5O1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICB0aGlzLl9kZWNyeXB0ZGF0YSA9IGtleS5nZXREZWNyeXB0RGF0YSh0aGlzLnNuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGtleUZvcm1hdHMgPSBPYmplY3Qua2V5cyh0aGlzLmxldmVsa2V5cyk7XG4gICAgICAgIGlmIChrZXlGb3JtYXRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiAodGhpcy5fZGVjcnlwdGRhdGEgPSB0aGlzLmxldmVsa2V5c1tcbiAgICAgICAgICAgIGtleUZvcm1hdHNbMF1cbiAgICAgICAgICBdLmdldERlY3J5cHREYXRhKHRoaXMuc24pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNdWx0aXBsZSBrZXlzLiBrZXktbG9hZGVyIHRvIGNhbGwgRnJhZ21lbnQuc2V0S2V5Rm9ybWF0IGJhc2VkIG9uIHNlbGVjdGVkIGtleS1zeXN0ZW0uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZGVjcnlwdGRhdGE7XG4gIH1cblxuICBnZXQgZW5kKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RhcnQgKyB0aGlzLmR1cmF0aW9uO1xuICB9XG5cbiAgZ2V0IGVuZFByb2dyYW1EYXRlVGltZSgpIHtcbiAgICBpZiAodGhpcy5wcm9ncmFtRGF0ZVRpbWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRoaXMucHJvZ3JhbURhdGVUaW1lKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb24gPSAhTnVtYmVyLmlzRmluaXRlKHRoaXMuZHVyYXRpb24pID8gMCA6IHRoaXMuZHVyYXRpb247XG5cbiAgICByZXR1cm4gdGhpcy5wcm9ncmFtRGF0ZVRpbWUgKyBkdXJhdGlvbiAqIDEwMDA7XG4gIH1cblxuICBnZXQgZW5jcnlwdGVkKCkge1xuICAgIC8vIEF0IHRoZSBtM3U4LXBhcnNlciBsZXZlbCB3ZSBuZWVkIHRvIGFkZCBzdXBwb3J0IGZvciBtYW5pZmVzdCBzaWduYWxsZWQga2V5Zm9ybWF0c1xuICAgIC8vIHdoZW4gd2Ugd2FudCB0aGUgZnJhZ21lbnQgdG8gc3RhcnQgcmVwb3J0aW5nIHRoYXQgaXQgaXMgZW5jcnlwdGVkLlxuICAgIC8vIEN1cnJlbnRseSwga2V5Rm9ybWF0IHdpbGwgb25seSBiZSBzZXQgZm9yIGlkZW50aXR5IGtleXNcbiAgICBpZiAodGhpcy5fZGVjcnlwdGRhdGE/LmVuY3J5cHRlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmxldmVsa2V5cykge1xuICAgICAgY29uc3Qga2V5Rm9ybWF0cyA9IE9iamVjdC5rZXlzKHRoaXMubGV2ZWxrZXlzKTtcbiAgICAgIGNvbnN0IGxlbiA9IGtleUZvcm1hdHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbiA+IDEgfHwgKGxlbiA9PT0gMSAmJiB0aGlzLmxldmVsa2V5c1trZXlGb3JtYXRzWzBdXS5lbmNyeXB0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNldEtleUZvcm1hdChrZXlGb3JtYXQ6IEtleVN5c3RlbUZvcm1hdHMpIHtcbiAgICBpZiAodGhpcy5sZXZlbGtleXMpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMubGV2ZWxrZXlzW2tleUZvcm1hdF07XG4gICAgICBpZiAoa2V5ICYmICF0aGlzLl9kZWNyeXB0ZGF0YSkge1xuICAgICAgICB0aGlzLl9kZWNyeXB0ZGF0YSA9IGtleS5nZXREZWNyeXB0RGF0YSh0aGlzLnNuKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhYm9ydFJlcXVlc3RzKCk6IHZvaWQge1xuICAgIHRoaXMubG9hZGVyPy5hYm9ydCgpO1xuICAgIHRoaXMua2V5TG9hZGVyPy5hYm9ydCgpO1xuICB9XG5cbiAgc2V0RWxlbWVudGFyeVN0cmVhbUluZm8oXG4gICAgdHlwZTogRWxlbWVudGFyeVN0cmVhbVR5cGVzLFxuICAgIHN0YXJ0UFRTOiBudW1iZXIsXG4gICAgZW5kUFRTOiBudW1iZXIsXG4gICAgc3RhcnREVFM6IG51bWJlcixcbiAgICBlbmREVFM6IG51bWJlcixcbiAgICBwYXJ0aWFsOiBib29sZWFuID0gZmFsc2UsXG4gICkge1xuICAgIGNvbnN0IHsgZWxlbWVudGFyeVN0cmVhbXMgfSA9IHRoaXM7XG4gICAgY29uc3QgaW5mbyA9IGVsZW1lbnRhcnlTdHJlYW1zW3R5cGVdO1xuICAgIGlmICghaW5mbykge1xuICAgICAgZWxlbWVudGFyeVN0cmVhbXNbdHlwZV0gPSB7XG4gICAgICAgIHN0YXJ0UFRTLFxuICAgICAgICBlbmRQVFMsXG4gICAgICAgIHN0YXJ0RFRTLFxuICAgICAgICBlbmREVFMsXG4gICAgICAgIHBhcnRpYWwsXG4gICAgICB9O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluZm8uc3RhcnRQVFMgPSBNYXRoLm1pbihpbmZvLnN0YXJ0UFRTLCBzdGFydFBUUyk7XG4gICAgaW5mby5lbmRQVFMgPSBNYXRoLm1heChpbmZvLmVuZFBUUywgZW5kUFRTKTtcbiAgICBpbmZvLnN0YXJ0RFRTID0gTWF0aC5taW4oaW5mby5zdGFydERUUywgc3RhcnREVFMpO1xuICAgIGluZm8uZW5kRFRTID0gTWF0aC5tYXgoaW5mby5lbmREVFMsIGVuZERUUyk7XG4gIH1cblxuICBjbGVhckVsZW1lbnRhcnlTdHJlYW1JbmZvKCkge1xuICAgIGNvbnN0IHsgZWxlbWVudGFyeVN0cmVhbXMgfSA9IHRoaXM7XG4gICAgZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPXSA9IG51bGw7XG4gICAgZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPXSA9IG51bGw7XG4gICAgZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPVklERU9dID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIE9iamVjdCByZXByZXNlbnRpbmcgcGFyc2VkIGRhdGEgZnJvbSBhbiBITFMgUGFydGlhbCBTZWdtZW50LiBGb3VuZCBpbiB7QGxpbmsgaGxzLmpzI0xldmVsRGV0YWlscy5wYXJ0TGlzdH0uXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJ0IGV4dGVuZHMgQmFzZVNlZ21lbnQge1xuICBwdWJsaWMgcmVhZG9ubHkgZnJhZ09mZnNldDogbnVtYmVyID0gMDtcbiAgcHVibGljIHJlYWRvbmx5IGR1cmF0aW9uOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgcmVhZG9ubHkgZ2FwOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZWFkb25seSBpbmRlcGVuZGVudDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgcmVhZG9ubHkgcmVsdXJsOiBzdHJpbmc7XG4gIHB1YmxpYyByZWFkb25seSBmcmFnbWVudDogRnJhZ21lbnQ7XG4gIHB1YmxpYyByZWFkb25seSBpbmRleDogbnVtYmVyO1xuICBwdWJsaWMgc3RhdHM6IExvYWRTdGF0cyA9IG5ldyBMb2FkU3RhdHMoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJ0QXR0cnM6IEF0dHJMaXN0LFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIGJhc2V1cmw6IHN0cmluZyxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByZXZpb3VzPzogUGFydCxcbiAgKSB7XG4gICAgc3VwZXIoYmFzZXVybCk7XG4gICAgdGhpcy5kdXJhdGlvbiA9IHBhcnRBdHRycy5kZWNpbWFsRmxvYXRpbmdQb2ludCgnRFVSQVRJT04nKTtcbiAgICB0aGlzLmdhcCA9IHBhcnRBdHRycy5ib29sKCdHQVAnKTtcbiAgICB0aGlzLmluZGVwZW5kZW50ID0gcGFydEF0dHJzLmJvb2woJ0lOREVQRU5ERU5UJyk7XG4gICAgdGhpcy5yZWx1cmwgPSBwYXJ0QXR0cnMuZW51bWVyYXRlZFN0cmluZygnVVJJJykgYXMgc3RyaW5nO1xuICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICBjb25zdCBieXRlUmFuZ2UgPSBwYXJ0QXR0cnMuZW51bWVyYXRlZFN0cmluZygnQllURVJBTkdFJyk7XG4gICAgaWYgKGJ5dGVSYW5nZSkge1xuICAgICAgdGhpcy5zZXRCeXRlUmFuZ2UoYnl0ZVJhbmdlLCBwcmV2aW91cyk7XG4gICAgfVxuICAgIGlmIChwcmV2aW91cykge1xuICAgICAgdGhpcy5mcmFnT2Zmc2V0ID0gcHJldmlvdXMuZnJhZ09mZnNldCArIHByZXZpb3VzLmR1cmF0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzdGFydCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmZyYWdtZW50LnN0YXJ0ICsgdGhpcy5mcmFnT2Zmc2V0O1xuICB9XG5cbiAgZ2V0IGVuZCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnN0YXJ0ICsgdGhpcy5kdXJhdGlvbjtcbiAgfVxuXG4gIGdldCBsb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBlbGVtZW50YXJ5U3RyZWFtcyB9ID0gdGhpcztcbiAgICByZXR1cm4gISEoXG4gICAgICBlbGVtZW50YXJ5U3RyZWFtcy5hdWRpbyB8fFxuICAgICAgZWxlbWVudGFyeVN0cmVhbXMudmlkZW8gfHxcbiAgICAgIGVsZW1lbnRhcnlTdHJlYW1zLmF1ZGlvdmlkZW9cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgUGFydCB9IGZyb20gJy4vZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUgeyBGcmFnbWVudCB9IGZyb20gJy4vZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUgeyBBdHRyTGlzdCB9IGZyb20gJy4uL3V0aWxzL2F0dHItbGlzdCc7XG5pbXBvcnQgdHlwZSB7IERhdGVSYW5nZSB9IGZyb20gJy4vZGF0ZS1yYW5nZSc7XG5pbXBvcnQgdHlwZSB7IFZhcmlhYmxlTWFwIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuXG5jb25zdCBERUZBVUxUX1RBUkdFVF9EVVJBVElPTiA9IDEwO1xuXG4vKipcbiAqIE9iamVjdCByZXByZXNlbnRpbmcgcGFyc2VkIGRhdGEgZnJvbSBhbiBITFMgTWVkaWEgUGxheWxpc3QuIEZvdW5kIGluIHtAbGluayBobHMuanMjTGV2ZWwuZGV0YWlsc30uXG4gKi9cbmV4cG9ydCBjbGFzcyBMZXZlbERldGFpbHMge1xuICBwdWJsaWMgUFRTS25vd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHVibGljIGFsaWduZWRTbGlkaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBhdmVyYWdldGFyZ2V0ZHVyYXRpb24/OiBudW1iZXI7XG4gIHB1YmxpYyBlbmRDQzogbnVtYmVyID0gMDtcbiAgcHVibGljIGVuZFNOOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgZnJhZ21lbnRzOiBGcmFnbWVudFtdO1xuICBwdWJsaWMgZnJhZ21lbnRIaW50PzogRnJhZ21lbnQ7XG4gIHB1YmxpYyBwYXJ0TGlzdDogUGFydFtdIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBkYXRlUmFuZ2VzOiBSZWNvcmQ8c3RyaW5nLCBEYXRlUmFuZ2U+O1xuICBwdWJsaWMgbGl2ZTogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBhZ2VIZWFkZXI6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBhZHZhbmNlZERhdGVUaW1lPzogbnVtYmVyO1xuICBwdWJsaWMgdXBkYXRlZDogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBhZHZhbmNlZDogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBhdmFpbGFiaWxpdHlEZWxheT86IG51bWJlcjsgLy8gTWFuaWZlc3QgcmVsb2FkIHN5bmNocm9uaXphdGlvblxuICBwdWJsaWMgbWlzc2VzOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgc3RhcnRDQzogbnVtYmVyID0gMDtcbiAgcHVibGljIHN0YXJ0U046IG51bWJlciA9IDA7XG4gIHB1YmxpYyBzdGFydFRpbWVPZmZzZXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgdGFyZ2V0ZHVyYXRpb246IG51bWJlciA9IDA7XG4gIHB1YmxpYyB0b3RhbGR1cmF0aW9uOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgdHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyB1cmw6IHN0cmluZztcbiAgcHVibGljIG0zdTg6IHN0cmluZyA9ICcnO1xuICBwdWJsaWMgdmVyc2lvbjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBjYW5CbG9ja1JlbG9hZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgY2FuU2tpcFVudGlsOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgY2FuU2tpcERhdGVSYW5nZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHVibGljIHNraXBwZWRTZWdtZW50czogbnVtYmVyID0gMDtcbiAgcHVibGljIHJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXM/OiBzdHJpbmdbXTtcbiAgcHVibGljIHBhcnRIb2xkQmFjazogbnVtYmVyID0gMDtcbiAgcHVibGljIGhvbGRCYWNrOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgcGFydFRhcmdldDogbnVtYmVyID0gMDtcbiAgcHVibGljIHByZWxvYWRIaW50PzogQXR0ckxpc3Q7XG4gIHB1YmxpYyByZW5kaXRpb25SZXBvcnRzPzogQXR0ckxpc3RbXTtcbiAgcHVibGljIHR1bmVJbkdvYWw6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBkZWx0YVVwZGF0ZUZhaWxlZD86IGJvb2xlYW47XG4gIHB1YmxpYyBkcmlmdFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGRyaWZ0RW5kVGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGRyaWZ0U3RhcnQ6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBkcmlmdEVuZDogbnVtYmVyID0gMDtcbiAgcHVibGljIGVuY3J5cHRlZEZyYWdtZW50czogRnJhZ21lbnRbXTtcbiAgcHVibGljIHBsYXlsaXN0UGFyc2luZ0Vycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgdmFyaWFibGVMaXN0OiBWYXJpYWJsZU1hcCB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgaGFzVmFyaWFibGVSZWZzID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5mcmFnbWVudHMgPSBbXTtcbiAgICB0aGlzLmVuY3J5cHRlZEZyYWdtZW50cyA9IFtdO1xuICAgIHRoaXMuZGF0ZVJhbmdlcyA9IHt9O1xuICAgIHRoaXMudXJsID0gYmFzZVVybDtcbiAgfVxuXG4gIHJlbG9hZGVkKHByZXZpb3VzOiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICB0aGlzLmFkdmFuY2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMudXBkYXRlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcnRTbkRpZmYgPSB0aGlzLmxhc3RQYXJ0U24gLSBwcmV2aW91cy5sYXN0UGFydFNuO1xuICAgIGNvbnN0IHBhcnRJbmRleERpZmYgPSB0aGlzLmxhc3RQYXJ0SW5kZXggLSBwcmV2aW91cy5sYXN0UGFydEluZGV4O1xuICAgIHRoaXMudXBkYXRlZCA9XG4gICAgICB0aGlzLmVuZFNOICE9PSBwcmV2aW91cy5lbmRTTiB8fFxuICAgICAgISFwYXJ0SW5kZXhEaWZmIHx8XG4gICAgICAhIXBhcnRTbkRpZmYgfHxcbiAgICAgICF0aGlzLmxpdmU7XG4gICAgdGhpcy5hZHZhbmNlZCA9XG4gICAgICB0aGlzLmVuZFNOID4gcHJldmlvdXMuZW5kU04gfHxcbiAgICAgIHBhcnRTbkRpZmYgPiAwIHx8XG4gICAgICAocGFydFNuRGlmZiA9PT0gMCAmJiBwYXJ0SW5kZXhEaWZmID4gMCk7XG4gICAgaWYgKHRoaXMudXBkYXRlZCB8fCB0aGlzLmFkdmFuY2VkKSB7XG4gICAgICB0aGlzLm1pc3NlcyA9IE1hdGguZmxvb3IocHJldmlvdXMubWlzc2VzICogMC42KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5taXNzZXMgPSBwcmV2aW91cy5taXNzZXMgKyAxO1xuICAgIH1cbiAgICB0aGlzLmF2YWlsYWJpbGl0eURlbGF5ID0gcHJldmlvdXMuYXZhaWxhYmlsaXR5RGVsYXk7XG4gIH1cblxuICBnZXQgaGFzUHJvZ3JhbURhdGVUaW1lKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUoXG4gICAgICAgIHRoaXMuZnJhZ21lbnRzW3RoaXMuZnJhZ21lbnRzLmxlbmd0aCAtIDFdLnByb2dyYW1EYXRlVGltZSBhcyBudW1iZXIsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXQgbGV2ZWxUYXJnZXREdXJhdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiB8fFxuICAgICAgdGhpcy50YXJnZXRkdXJhdGlvbiB8fFxuICAgICAgREVGQVVMVF9UQVJHRVRfRFVSQVRJT05cbiAgICApO1xuICB9XG5cbiAgZ2V0IGRyaWZ0KCk6IG51bWJlciB7XG4gICAgY29uc3QgcnVuVGltZSA9IHRoaXMuZHJpZnRFbmRUaW1lIC0gdGhpcy5kcmlmdFN0YXJ0VGltZTtcbiAgICBpZiAocnVuVGltZSA+IDApIHtcbiAgICAgIGNvbnN0IHJ1bkR1cmF0aW9uID0gdGhpcy5kcmlmdEVuZCAtIHRoaXMuZHJpZnRTdGFydDtcbiAgICAgIHJldHVybiAocnVuRHVyYXRpb24gKiAxMDAwKSAvIHJ1blRpbWU7XG4gICAgfVxuICAgIHJldHVybiAxO1xuICB9XG5cbiAgZ2V0IGVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0RW5kIHx8IHRoaXMuZnJhZ21lbnRFbmQ7XG4gIH1cblxuICBnZXQgcGFydEVuZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLnBhcnRMaXN0Py5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnRMaXN0W3RoaXMucGFydExpc3QubGVuZ3RoIC0gMV0uZW5kO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mcmFnbWVudEVuZDtcbiAgfVxuXG4gIGdldCBmcmFnbWVudEVuZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmZyYWdtZW50cz8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFnbWVudHNbdGhpcy5mcmFnbWVudHMubGVuZ3RoIC0gMV0uZW5kO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGdldCBhZ2UoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5hZHZhbmNlZERhdGVUaW1lKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoRGF0ZS5ub3coKSAtIHRoaXMuYWR2YW5jZWREYXRlVGltZSwgMCkgLyAxMDAwO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGdldCBsYXN0UGFydEluZGV4KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMucGFydExpc3Q/Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFydExpc3RbdGhpcy5wYXJ0TGlzdC5sZW5ndGggLSAxXS5pbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZ2V0IGxhc3RQYXJ0U24oKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5wYXJ0TGlzdD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJ0TGlzdFt0aGlzLnBhcnRMaXN0Lmxlbmd0aCAtIDFdLmZyYWdtZW50LnNuIGFzIG51bWJlcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW5kU047XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gYmFzZTY0VG9CYXNlNjRVcmwoYmFzZTY0ZW5jb2RlZFN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGJhc2U2NGVuY29kZWRTdHJcbiAgICAucmVwbGFjZSgvXFwrL2csICctJylcbiAgICAucmVwbGFjZSgvXFwvL2csICdfJylcbiAgICAucmVwbGFjZSgvPSskLywgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9CYXNlNjRFbmNvZGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYnRvYShzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0RGVjb2RlVG9TdHIoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYXRvYihzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0RW5jb2RlKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgcmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5pbnB1dCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VXJsRW5jb2RlKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgcmV0dXJuIGJhc2U2NFRvQmFzZTY0VXJsKGJhc2U2NEVuY29kZShpbnB1dCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0RGVjb2RlKGJhc2U2NGVuY29kZWRTdHI6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGF0b2IoYmFzZTY0ZW5jb2RlZFN0ciksIChjKSA9PiBjLmNoYXJDb2RlQXQoMCkpO1xufVxuIiwgImltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4vbnVtZXJpYy1lbmNvZGluZy11dGlscyc7XG5cbmZ1bmN0aW9uIGdldEtleUlkQnl0ZXMoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgY29uc3Qga2V5SWRieXRlcyA9IHN0clRvVXRmOGFycmF5KHN0cikuc3ViYXJyYXkoMCwgMTYpO1xuICBjb25zdCBwYWRkZWRrZXlJZGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBwYWRkZWRrZXlJZGJ5dGVzLnNldChrZXlJZGJ5dGVzLCAxNiAtIGtleUlkYnl0ZXMubGVuZ3RoKTtcbiAgcmV0dXJuIHBhZGRlZGtleUlkYnl0ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VFbmRpYW5uZXNzKGtleUlkOiBVaW50OEFycmF5KSB7XG4gIGNvbnN0IHN3YXAgPSBmdW5jdGlvbiAoYXJyYXk6IFVpbnQ4QXJyYXksIGZyb206IG51bWJlciwgdG86IG51bWJlcikge1xuICAgIGNvbnN0IGN1ciA9IGFycmF5W2Zyb21dO1xuICAgIGFycmF5W2Zyb21dID0gYXJyYXlbdG9dO1xuICAgIGFycmF5W3RvXSA9IGN1cjtcbiAgfTtcblxuICBzd2FwKGtleUlkLCAwLCAzKTtcbiAgc3dhcChrZXlJZCwgMSwgMik7XG4gIHN3YXAoa2V5SWQsIDQsIDUpO1xuICBzd2FwKGtleUlkLCA2LCA3KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREYXRhVXJpVG9BcnJheUJ5dGVzKHVyaTogc3RyaW5nKTogVWludDhBcnJheSB8IG51bGwge1xuICAvLyBkYXRhOls8bWVkaWEgdHlwZV1bO2F0dHJpYnV0ZT12YWx1ZV1bO2Jhc2U2NF0sPGRhdGE+XG4gIGNvbnN0IGNvbG9uc3BsaXQgPSB1cmkuc3BsaXQoJzonKTtcbiAgbGV0IGtleWRhdGE6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgaWYgKGNvbG9uc3BsaXRbMF0gPT09ICdkYXRhJyAmJiBjb2xvbnNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgIGNvbnN0IHNlbWljb2xvbnNwbGl0ID0gY29sb25zcGxpdFsxXS5zcGxpdCgnOycpO1xuICAgIGNvbnN0IGNvbW1hc3BsaXQgPSBzZW1pY29sb25zcGxpdFtzZW1pY29sb25zcGxpdC5sZW5ndGggLSAxXS5zcGxpdCgnLCcpO1xuICAgIGlmIChjb21tYXNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgY29uc3QgaXNiYXNlNjQgPSBjb21tYXNwbGl0WzBdID09PSAnYmFzZTY0JztcbiAgICAgIGNvbnN0IGRhdGEgPSBjb21tYXNwbGl0WzFdO1xuICAgICAgaWYgKGlzYmFzZTY0KSB7XG4gICAgICAgIHNlbWljb2xvbnNwbGl0LnNwbGljZSgtMSwgMSk7IC8vIHJlbW92ZSBmcm9tIHByb2Nlc3NpbmdcbiAgICAgICAga2V5ZGF0YSA9IGJhc2U2NERlY29kZShkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleWRhdGEgPSBnZXRLZXlJZEJ5dGVzKGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5ZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0clRvVXRmOGFycmF5KHN0cjogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20odW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpLCAoYykgPT5cbiAgICBjLmNoYXJDb2RlQXQoMCksXG4gICk7XG59XG4iLCAiLyoqIHJldHVybnMgYHVuZGVmaW5lZGAgaXMgYHNlbGZgIGlzIG1pc3NpbmcsIGUuZy4gaW4gbm9kZSAqL1xuZXhwb3J0IGNvbnN0IG9wdGlvbmFsU2VsZiA9IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB1bmRlZmluZWQ7XG4iLCAiaW1wb3J0IHR5cGUgeyBEUk1TeXN0ZW1PcHRpb25zLCBFTUVDb250cm9sbGVyQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IG9wdGlvbmFsU2VsZiB9IGZyb20gJy4vZ2xvYmFsJztcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYXZpZ2F0b3IvcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIEtleVN5c3RlbXMge1xuICBDTEVBUktFWSA9ICdvcmcudzMuY2xlYXJrZXknLFxuICBGQUlSUExBWSA9ICdjb20uYXBwbGUuZnBzJyxcbiAgUExBWVJFQURZID0gJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5JyxcbiAgV0lERVZJTkUgPSAnY29tLndpZGV2aW5lLmFscGhhJyxcbn1cblxuLy8gUGxheWxpc3QgI0VYVC1YLUtFWSBLRVlGT1JNQVQgdmFsdWVzXG5leHBvcnQgY29uc3QgZW51bSBLZXlTeXN0ZW1Gb3JtYXRzIHtcbiAgQ0xFQVJLRVkgPSAnb3JnLnczLmNsZWFya2V5JyxcbiAgRkFJUlBMQVkgPSAnY29tLmFwcGxlLnN0cmVhbWluZ2tleWRlbGl2ZXJ5JyxcbiAgUExBWVJFQURZID0gJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5JyxcbiAgV0lERVZJTkUgPSAndXJuOnV1aWQ6ZWRlZjhiYTktNzlkNi00YWNlLWEzYzgtMjdkY2Q1MWQyMWVkJyxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleVN5c3RlbUZvcm1hdFRvS2V5U3lzdGVtRG9tYWluKFxuICBmb3JtYXQ6IEtleVN5c3RlbUZvcm1hdHMsXG4pOiBLZXlTeXN0ZW1zIHwgdW5kZWZpbmVkIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlIEtleVN5c3RlbUZvcm1hdHMuRkFJUlBMQVk6XG4gICAgICByZXR1cm4gS2V5U3lzdGVtcy5GQUlSUExBWTtcbiAgICBjYXNlIEtleVN5c3RlbUZvcm1hdHMuUExBWVJFQURZOlxuICAgICAgcmV0dXJuIEtleVN5c3RlbXMuUExBWVJFQURZO1xuICAgIGNhc2UgS2V5U3lzdGVtRm9ybWF0cy5XSURFVklORTpcbiAgICAgIHJldHVybiBLZXlTeXN0ZW1zLldJREVWSU5FO1xuICAgIGNhc2UgS2V5U3lzdGVtRm9ybWF0cy5DTEVBUktFWTpcbiAgICAgIHJldHVybiBLZXlTeXN0ZW1zLkNMRUFSS0VZO1xuICB9XG59XG5cbi8vIFN5c3RlbSBJRHMgZm9yIHdoaWNoIHdlIGNhbiBleHRyYWN0IGEga2V5IElEIGZyb20gXCJlbmNyeXB0ZWRcIiBldmVudCBQU1NIXG5leHBvcnQgY29uc3QgZW51bSBLZXlTeXN0ZW1JZHMge1xuICAvLyBDRU5DID0gJzEwNzdlZmVjYzBiMjRkMDJhY2UzM2MxZTUyZTJmYjRiJ1xuICAvLyBDTEVBUktFWSA9ICdlMjcxOWQ1OGE5ODViM2M5NzgxYWIwMzBhZjc4ZDMwZScsXG4gIC8vIEZBSVJQTEFZID0gJzk0Y2U4NmZiMDdmZjRmNDNhZGI4OTNkMmZhOTY4Y2EyJyxcbiAgLy8gUExBWVJFQURZID0gJzlhMDRmMDc5OTg0MDQyODZhYjkyZTY1YmUwODg1Zjk1JyxcbiAgV0lERVZJTkUgPSAnZWRlZjhiYTk3OWQ2NGFjZWEzYzgyN2RjZDUxZDIxZWQnLFxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5U3lzdGVtSWRUb0tleVN5c3RlbURvbWFpbihcbiAgc3lzdGVtSWQ6IEtleVN5c3RlbUlkcyxcbik6IEtleVN5c3RlbXMgfCB1bmRlZmluZWQge1xuICBpZiAoc3lzdGVtSWQgPT09IEtleVN5c3RlbUlkcy5XSURFVklORSkge1xuICAgIHJldHVybiBLZXlTeXN0ZW1zLldJREVWSU5FO1xuICAgIC8vIH0gZWxzZSBpZiAoc3lzdGVtSWQgPT09IEtleVN5c3RlbUlkcy5QTEFZUkVBRFkpIHtcbiAgICAvLyAgIHJldHVybiBLZXlTeXN0ZW1zLlBMQVlSRUFEWTtcbiAgICAvLyB9IGVsc2UgaWYgKHN5c3RlbUlkID09PSBLZXlTeXN0ZW1JZHMuQ0VOQyB8fCBzeXN0ZW1JZCA9PT0gS2V5U3lzdGVtSWRzLkNMRUFSS0VZKSB7XG4gICAgLy8gICByZXR1cm4gS2V5U3lzdGVtcy5DTEVBUktFWTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5U3lzdGVtRG9tYWluVG9LZXlTeXN0ZW1Gb3JtYXQoXG4gIGtleVN5c3RlbTogS2V5U3lzdGVtcyxcbik6IEtleVN5c3RlbUZvcm1hdHMgfCB1bmRlZmluZWQge1xuICBzd2l0Y2ggKGtleVN5c3RlbSkge1xuICAgIGNhc2UgS2V5U3lzdGVtcy5GQUlSUExBWTpcbiAgICAgIHJldHVybiBLZXlTeXN0ZW1Gb3JtYXRzLkZBSVJQTEFZO1xuICAgIGNhc2UgS2V5U3lzdGVtcy5QTEFZUkVBRFk6XG4gICAgICByZXR1cm4gS2V5U3lzdGVtRm9ybWF0cy5QTEFZUkVBRFk7XG4gICAgY2FzZSBLZXlTeXN0ZW1zLldJREVWSU5FOlxuICAgICAgcmV0dXJuIEtleVN5c3RlbUZvcm1hdHMuV0lERVZJTkU7XG4gICAgY2FzZSBLZXlTeXN0ZW1zLkNMRUFSS0VZOlxuICAgICAgcmV0dXJuIEtleVN5c3RlbUZvcm1hdHMuQ0xFQVJLRVk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleVN5c3RlbXNGb3JDb25maWcoXG4gIGNvbmZpZzogRU1FQ29udHJvbGxlckNvbmZpZyxcbik6IEtleVN5c3RlbXNbXSB7XG4gIGNvbnN0IHsgZHJtU3lzdGVtcywgd2lkZXZpbmVMaWNlbnNlVXJsIH0gPSBjb25maWc7XG4gIGNvbnN0IGtleVN5c3RlbXNUb0F0dGVtcHQ6IEtleVN5c3RlbXNbXSA9IGRybVN5c3RlbXNcbiAgICA/IFtcbiAgICAgICAgS2V5U3lzdGVtcy5GQUlSUExBWSxcbiAgICAgICAgS2V5U3lzdGVtcy5XSURFVklORSxcbiAgICAgICAgS2V5U3lzdGVtcy5QTEFZUkVBRFksXG4gICAgICAgIEtleVN5c3RlbXMuQ0xFQVJLRVksXG4gICAgICBdLmZpbHRlcigoa2V5U3lzdGVtKSA9PiAhIWRybVN5c3RlbXNba2V5U3lzdGVtXSlcbiAgICA6IFtdO1xuICBpZiAoIWtleVN5c3RlbXNUb0F0dGVtcHRbS2V5U3lzdGVtcy5XSURFVklORV0gJiYgd2lkZXZpbmVMaWNlbnNlVXJsKSB7XG4gICAga2V5U3lzdGVtc1RvQXR0ZW1wdC5wdXNoKEtleVN5c3RlbXMuV0lERVZJTkUpO1xuICB9XG4gIHJldHVybiBrZXlTeXN0ZW1zVG9BdHRlbXB0O1xufVxuXG5leHBvcnQgdHlwZSBNZWRpYUtleUZ1bmMgPSAoXG4gIGtleVN5c3RlbTogS2V5U3lzdGVtcyxcbiAgc3VwcG9ydGVkQ29uZmlndXJhdGlvbnM6IE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbltdLFxuKSA9PiBQcm9taXNlPE1lZGlhS2V5U3lzdGVtQWNjZXNzPjtcblxuZXhwb3J0IGNvbnN0IHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyA9IChmdW5jdGlvbiAoKTogTWVkaWFLZXlGdW5jIHwgbnVsbCB7XG4gIGlmIChvcHRpb25hbFNlbGY/Lm5hdmlnYXRvcj8ucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKSB7XG4gICAgcmV0dXJuIHNlbGYubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcy5iaW5kKHNlbGYubmF2aWdhdG9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMoXG4gIGtleVN5c3RlbTogS2V5U3lzdGVtcyxcbiAgYXVkaW9Db2RlY3M6IHN0cmluZ1tdLFxuICB2aWRlb0NvZGVjczogc3RyaW5nW10sXG4gIGRybVN5c3RlbU9wdGlvbnM6IERSTVN5c3RlbU9wdGlvbnMsXG4pOiBNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25bXSB7XG4gIGxldCBpbml0RGF0YVR5cGVzOiBzdHJpbmdbXTtcbiAgc3dpdGNoIChrZXlTeXN0ZW0pIHtcbiAgICBjYXNlIEtleVN5c3RlbXMuRkFJUlBMQVk6XG4gICAgICBpbml0RGF0YVR5cGVzID0gWydjZW5jJywgJ3NpbmYnXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgS2V5U3lzdGVtcy5XSURFVklORTpcbiAgICBjYXNlIEtleVN5c3RlbXMuUExBWVJFQURZOlxuICAgICAgaW5pdERhdGFUeXBlcyA9IFsnY2VuYyddO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBLZXlTeXN0ZW1zLkNMRUFSS0VZOlxuICAgICAgaW5pdERhdGFUeXBlcyA9IFsnY2VuYycsICdrZXlpZHMnXTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24ga2V5LXN5c3RlbTogJHtrZXlTeXN0ZW19YCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZU1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMoXG4gICAgaW5pdERhdGFUeXBlcyxcbiAgICBhdWRpb0NvZGVjcyxcbiAgICB2aWRlb0NvZGVjcyxcbiAgICBkcm1TeXN0ZW1PcHRpb25zLFxuICApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zKFxuICBpbml0RGF0YVR5cGVzOiBzdHJpbmdbXSxcbiAgYXVkaW9Db2RlY3M6IHN0cmluZ1tdLFxuICB2aWRlb0NvZGVjczogc3RyaW5nW10sXG4gIGRybVN5c3RlbU9wdGlvbnM6IERSTVN5c3RlbU9wdGlvbnMsXG4pOiBNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25bXSB7XG4gIGNvbnN0IGJhc2VDb25maWc6IE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbiA9IHtcbiAgICBpbml0RGF0YVR5cGVzOiBpbml0RGF0YVR5cGVzLFxuICAgIHBlcnNpc3RlbnRTdGF0ZTogZHJtU3lzdGVtT3B0aW9ucy5wZXJzaXN0ZW50U3RhdGUgfHwgJ29wdGlvbmFsJyxcbiAgICBkaXN0aW5jdGl2ZUlkZW50aWZpZXI6IGRybVN5c3RlbU9wdGlvbnMuZGlzdGluY3RpdmVJZGVudGlmaWVyIHx8ICdvcHRpb25hbCcsXG4gICAgc2Vzc2lvblR5cGVzOiBkcm1TeXN0ZW1PcHRpb25zLnNlc3Npb25UeXBlcyB8fCBbXG4gICAgICBkcm1TeXN0ZW1PcHRpb25zLnNlc3Npb25UeXBlIHx8ICd0ZW1wb3JhcnknLFxuICAgIF0sXG4gICAgYXVkaW9DYXBhYmlsaXRpZXM6IGF1ZGlvQ29kZWNzLm1hcCgoY29kZWMpID0+ICh7XG4gICAgICBjb250ZW50VHlwZTogYGF1ZGlvL21wNDsgY29kZWNzPVwiJHtjb2RlY31cImAsXG4gICAgICByb2J1c3RuZXNzOiBkcm1TeXN0ZW1PcHRpb25zLmF1ZGlvUm9idXN0bmVzcyB8fCAnJyxcbiAgICAgIGVuY3J5cHRpb25TY2hlbWU6IGRybVN5c3RlbU9wdGlvbnMuYXVkaW9FbmNyeXB0aW9uU2NoZW1lIHx8IG51bGwsXG4gICAgfSkpLFxuICAgIHZpZGVvQ2FwYWJpbGl0aWVzOiB2aWRlb0NvZGVjcy5tYXAoKGNvZGVjKSA9PiAoe1xuICAgICAgY29udGVudFR5cGU6IGB2aWRlby9tcDQ7IGNvZGVjcz1cIiR7Y29kZWN9XCJgLFxuICAgICAgcm9idXN0bmVzczogZHJtU3lzdGVtT3B0aW9ucy52aWRlb1JvYnVzdG5lc3MgfHwgJycsXG4gICAgICBlbmNyeXB0aW9uU2NoZW1lOiBkcm1TeXN0ZW1PcHRpb25zLnZpZGVvRW5jcnlwdGlvblNjaGVtZSB8fCBudWxsLFxuICAgIH0pKSxcbiAgfTtcblxuICByZXR1cm4gW2Jhc2VDb25maWddO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBzbGljZVVpbnQ4KFxuICBhcnJheTogVWludDhBcnJheSxcbiAgc3RhcnQ/OiBudW1iZXIsXG4gIGVuZD86IG51bWJlcixcbik6IFVpbnQ4QXJyYXkge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgcG9seWZpbGxzIElFMTEgdXNhZ2Ugb2YgVWludDhBcnJheSBzbGljZS5cbiAgLy8gSXQgYWx3YXlzIGV4aXN0cyBpbiB0aGUgVHlwZVNjcmlwdCBkZWZpbml0aW9uIHNvIGZhaWxzLCBidXQgaXQgZmFpbHMgYXQgcnVudGltZSBvbiBJRTExLlxuICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICA/IGFycmF5LnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgOiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheSwgc3RhcnQsIGVuZCkpO1xufVxuIiwgInR5cGUgUmF3RnJhbWUgPSB7IHR5cGU6IHN0cmluZzsgc2l6ZTogbnVtYmVyOyBkYXRhOiBVaW50OEFycmF5IH07XG5cbi8vIGJyZWFraW5nIHVwIHRob3NlIHR3byB0eXBlcyBpbiBvcmRlciB0byBjbGFyaWZ5IHdoYXQgaXMgaGFwcGVuaW5nIGluIHRoZSBkZWNvZGluZyBwYXRoLlxudHlwZSBEZWNvZGVkRnJhbWU8VD4gPSB7IGtleTogc3RyaW5nOyBkYXRhOiBUOyBpbmZvPzogYW55IH07XG5leHBvcnQgdHlwZSBGcmFtZSA9IERlY29kZWRGcmFtZTxBcnJheUJ1ZmZlciB8IHN0cmluZz47XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGFuIElEMyBoZWFkZXIgY2FuIGJlIGZvdW5kIGF0IG9mZnNldCBpbiBkYXRhXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlYXJjaFxuICogQHBhcmFtIG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBpc0hlYWRlciA9IChkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAvKlxuICAgKiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjBcbiAgICogWzBdICAgICA9ICdJJ1xuICAgKiBbMV0gICAgID0gJ0QnXG4gICAqIFsyXSAgICAgPSAnMydcbiAgICogWzMsNF0gICA9IHtWZXJzaW9ufVxuICAgKiBbNV0gICAgID0ge0ZsYWdzfVxuICAgKiBbNi05XSAgID0ge0lEMyBTaXplfVxuICAgKlxuICAgKiBBbiBJRDN2MiB0YWcgY2FuIGJlIGRldGVjdGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXR0ZXJuOlxuICAgKiAgJDQ5IDQ0IDMzIHl5IHl5IHh4IHp6IHp6IHp6IHp6XG4gICAqIFdoZXJlIHl5IGlzIGxlc3MgdGhhbiAkRkYsIHh4IGlzIHRoZSAnZmxhZ3MnIGJ5dGUgYW5kIHp6IGlzIGxlc3MgdGhhbiAkODBcbiAgICovXG4gIGlmIChvZmZzZXQgKyAxMCA8PSBkYXRhLmxlbmd0aCkge1xuICAgIC8vIGxvb2sgZm9yICdJRDMnIGlkZW50aWZpZXJcbiAgICBpZiAoXG4gICAgICBkYXRhW29mZnNldF0gPT09IDB4NDkgJiZcbiAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPT09IDB4NDQgJiZcbiAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4MzNcbiAgICApIHtcbiAgICAgIC8vIGNoZWNrIHZlcnNpb24gaXMgd2l0aGluIHJhbmdlXG4gICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4ZmYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4ZmYpIHtcbiAgICAgICAgLy8gY2hlY2sgc2l6ZSBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmXG4gICAgICAgICAgZGF0YVtvZmZzZXQgKyA3XSA8IDB4ODAgJiZcbiAgICAgICAgICBkYXRhW29mZnNldCArIDhdIDwgMHg4MCAmJlxuICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGZvb3RlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAqIEBwYXJhbSBkYXRhIC0gVGhlIGRhdGEgdG8gc2VhcmNoXG4gKiBAcGFyYW0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGlzRm9vdGVyID0gKGRhdGE6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gIC8qXG4gICAqIFRoZSBmb290ZXIgaXMgYSBjb3B5IG9mIHRoZSBoZWFkZXIsIGJ1dCB3aXRoIGEgZGlmZmVyZW50IGlkZW50aWZpZXJcbiAgICovXG4gIGlmIChvZmZzZXQgKyAxMCA8PSBkYXRhLmxlbmd0aCkge1xuICAgIC8vIGxvb2sgZm9yICczREknIGlkZW50aWZpZXJcbiAgICBpZiAoXG4gICAgICBkYXRhW29mZnNldF0gPT09IDB4MzMgJiZcbiAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPT09IDB4NDQgJiZcbiAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4NDlcbiAgICApIHtcbiAgICAgIC8vIGNoZWNrIHZlcnNpb24gaXMgd2l0aGluIHJhbmdlXG4gICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4ZmYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4ZmYpIHtcbiAgICAgICAgLy8gY2hlY2sgc2l6ZSBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmXG4gICAgICAgICAgZGF0YVtvZmZzZXQgKyA3XSA8IDB4ODAgJiZcbiAgICAgICAgICBkYXRhW29mZnNldCArIDhdIDwgMHg4MCAmJlxuICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFueSBhZGphY2VudCBJRDMgdGFncyBmb3VuZCBpbiBkYXRhIHN0YXJ0aW5nIGF0IG9mZnNldCwgYXMgb25lIGJsb2NrIG9mIGRhdGFcbiAqIEBwYXJhbSBkYXRhIC0gVGhlIGRhdGEgdG8gc2VhcmNoIGluXG4gKiBAcGFyYW0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAqIEByZXR1cm5zIHRoZSBibG9jayBvZiBkYXRhIGNvbnRhaW5pbmcgYW55IElEMyB0YWdzIGZvdW5kXG4gKiBvciAqdW5kZWZpbmVkKiBpZiBubyBoZWFkZXIgaXMgZm91bmQgYXQgdGhlIHN0YXJ0aW5nIG9mZnNldFxuICovXG5leHBvcnQgY29uc3QgZ2V0SUQzRGF0YSA9IChcbiAgZGF0YTogVWludDhBcnJheSxcbiAgb2Zmc2V0OiBudW1iZXIsXG4pOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgZnJvbnQgPSBvZmZzZXQ7XG4gIGxldCBsZW5ndGggPSAwO1xuXG4gIHdoaWxlIChpc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgLy8gSUQzIGhlYWRlciBpcyAxMCBieXRlc1xuICAgIGxlbmd0aCArPSAxMDtcblxuICAgIGNvbnN0IHNpemUgPSByZWFkU2l6ZShkYXRhLCBvZmZzZXQgKyA2KTtcbiAgICBsZW5ndGggKz0gc2l6ZTtcblxuICAgIGlmIChpc0Zvb3RlcihkYXRhLCBvZmZzZXQgKyAxMCkpIHtcbiAgICAgIC8vIElEMyBmb290ZXIgaXMgMTAgYnl0ZXNcbiAgICAgIGxlbmd0aCArPSAxMDtcbiAgICB9XG5cbiAgICBvZmZzZXQgKz0gbGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gZGF0YS5zdWJhcnJheShmcm9udCwgZnJvbnQgKyBsZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IHJlYWRTaXplID0gKGRhdGE6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgbGV0IHNpemUgPSAwO1xuICBzaXplID0gKGRhdGFbb2Zmc2V0XSAmIDB4N2YpIDw8IDIxO1xuICBzaXplIHw9IChkYXRhW29mZnNldCArIDFdICYgMHg3ZikgPDwgMTQ7XG4gIHNpemUgfD0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDdmKSA8PCA3O1xuICBzaXplIHw9IGRhdGFbb2Zmc2V0ICsgM10gJiAweDdmO1xuICByZXR1cm4gc2l6ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYW5QYXJzZSA9IChkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkgJiZcbiAgICByZWFkU2l6ZShkYXRhLCBvZmZzZXQgKyA2KSArIDEwIDw9IGRhdGEubGVuZ3RoIC0gb2Zmc2V0XG4gICk7XG59O1xuXG4vKipcbiAqIFNlYXJjaGVzIGZvciB0aGUgRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZvdW5kIGluIHRoZSBJRDMgZGF0YSBjaHVua1xuICogQHBhcmFtIGRhdGEgLSBCbG9jayBvZiBkYXRhIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgSUQzIHRhZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFRpbWVTdGFtcCA9IChkYXRhOiBVaW50OEFycmF5KTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgZnJhbWVzOiBGcmFtZVtdID0gZ2V0SUQzRnJhbWVzKGRhdGEpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZnJhbWUgPSBmcmFtZXNbaV07XG5cbiAgICBpZiAoaXNUaW1lU3RhbXBGcmFtZShmcmFtZSkpIHtcbiAgICAgIHJldHVybiByZWFkVGltZVN0YW1wKGZyYW1lIGFzIERlY29kZWRGcmFtZTxBcnJheUJ1ZmZlcj4pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSUQzIGZyYW1lIGlzIGFuIEVsZW1lbnRhcnkgU3RyZWFtIHRpbWVzdGFtcCBmcmFtZVxuICovXG5leHBvcnQgY29uc3QgaXNUaW1lU3RhbXBGcmFtZSA9IChmcmFtZTogRnJhbWUpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICBmcmFtZSAmJlxuICAgIGZyYW1lLmtleSA9PT0gJ1BSSVYnICYmXG4gICAgZnJhbWUuaW5mbyA9PT0gJ2NvbS5hcHBsZS5zdHJlYW1pbmcudHJhbnNwb3J0U3RyZWFtVGltZXN0YW1wJ1xuICApO1xufTtcblxuY29uc3QgZ2V0RnJhbWVEYXRhID0gKGRhdGE6IFVpbnQ4QXJyYXkpOiBSYXdGcmFtZSA9PiB7XG4gIC8qXG4gIEZyYW1lIElEICAgICAgICR4eCB4eCB4eCB4eCAoZm91ciBjaGFyYWN0ZXJzKVxuICBTaXplICAgICAgICAgICAkeHggeHggeHggeHhcbiAgRmxhZ3MgICAgICAgICAgJHh4IHh4XG4gICovXG4gIGNvbnN0IHR5cGU6IHN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSk7XG4gIGNvbnN0IHNpemU6IG51bWJlciA9IHJlYWRTaXplKGRhdGEsIDQpO1xuXG4gIC8vIHNraXAgZnJhbWUgaWQsIHNpemUsIGFuZCBmbGFnc1xuICBjb25zdCBvZmZzZXQgPSAxMDtcblxuICByZXR1cm4geyB0eXBlLCBzaXplLCBkYXRhOiBkYXRhLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgc2l6ZSkgfTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBJRDMgZnJhbWVzIGZvdW5kIGluIGFsbCB0aGUgSUQzIHRhZ3MgaW4gdGhlIGlkM0RhdGFcbiAqIEBwYXJhbSBpZDNEYXRhIC0gVGhlIElEMyBkYXRhIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgSUQzIHRhZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IGdldElEM0ZyYW1lcyA9IChpZDNEYXRhOiBVaW50OEFycmF5KTogRnJhbWVbXSA9PiB7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBjb25zdCBmcmFtZXM6IEZyYW1lW10gPSBbXTtcblxuICB3aGlsZSAoaXNIZWFkZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgIGNvbnN0IHNpemUgPSByZWFkU2l6ZShpZDNEYXRhLCBvZmZzZXQgKyA2KTtcbiAgICAvLyBza2lwIHBhc3QgSUQzIGhlYWRlclxuICAgIG9mZnNldCArPSAxMDtcbiAgICBjb25zdCBlbmQgPSBvZmZzZXQgKyBzaXplO1xuICAgIC8vIGxvb3AgdGhyb3VnaCBmcmFtZXMgaW4gdGhlIElEMyB0YWdcbiAgICB3aGlsZSAob2Zmc2V0ICsgOCA8IGVuZCkge1xuICAgICAgY29uc3QgZnJhbWVEYXRhOiBSYXdGcmFtZSA9IGdldEZyYW1lRGF0YShpZDNEYXRhLnN1YmFycmF5KG9mZnNldCkpO1xuICAgICAgY29uc3QgZnJhbWU6IEZyYW1lIHwgdW5kZWZpbmVkID0gZGVjb2RlRnJhbWUoZnJhbWVEYXRhKTtcbiAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICBmcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNraXAgZnJhbWUgaGVhZGVyIGFuZCBmcmFtZSBkYXRhXG4gICAgICBvZmZzZXQgKz0gZnJhbWVEYXRhLnNpemUgKyAxMDtcbiAgICB9XG5cbiAgICBpZiAoaXNGb290ZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmcmFtZXM7XG59O1xuXG5leHBvcnQgY29uc3QgZGVjb2RlRnJhbWUgPSAoZnJhbWU6IFJhd0ZyYW1lKTogRnJhbWUgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoZnJhbWUudHlwZSA9PT0gJ1BSSVYnKSB7XG4gICAgcmV0dXJuIGRlY29kZVByaXZGcmFtZShmcmFtZSk7XG4gIH0gZWxzZSBpZiAoZnJhbWUudHlwZVswXSA9PT0gJ1cnKSB7XG4gICAgcmV0dXJuIGRlY29kZVVSTEZyYW1lKGZyYW1lKTtcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVUZXh0RnJhbWUoZnJhbWUpO1xufTtcblxuY29uc3QgZGVjb2RlUHJpdkZyYW1lID0gKFxuICBmcmFtZTogUmF3RnJhbWUsXG4pOiBEZWNvZGVkRnJhbWU8QXJyYXlCdWZmZXI+IHwgdW5kZWZpbmVkID0+IHtcbiAgLypcbiAgRm9ybWF0OiA8dGV4dCBzdHJpbmc+XFwwPGJpbmFyeSBkYXRhPlxuICAqL1xuICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3Qgb3duZXIgPSB1dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLCB0cnVlKTtcbiAgY29uc3QgcHJpdmF0ZURhdGEgPSBuZXcgVWludDhBcnJheShmcmFtZS5kYXRhLnN1YmFycmF5KG93bmVyLmxlbmd0aCArIDEpKTtcblxuICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGluZm86IG93bmVyLCBkYXRhOiBwcml2YXRlRGF0YS5idWZmZXIgfTtcbn07XG5cbmNvbnN0IGRlY29kZVRleHRGcmFtZSA9IChmcmFtZTogUmF3RnJhbWUpOiBEZWNvZGVkRnJhbWU8c3RyaW5nPiB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoZnJhbWUudHlwZSA9PT0gJ1RYWFgnKSB7XG4gICAgLypcbiAgICBGb3JtYXQ6XG4gICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICBbMS0/XSA9IHtEZXNjcmlwdGlvbn1cXDB7VmFsdWV9XG4gICAgKi9cbiAgICBsZXQgaW5kZXggPSAxO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCksIHRydWUpO1xuXG4gICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICBjb25zdCB2YWx1ZSA9IHV0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogZGVzY3JpcHRpb24sIGRhdGE6IHZhbHVlIH07XG4gIH1cbiAgLypcbiAgRm9ybWF0OlxuICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICBbMS0/XSA9IHtWYWx1ZX1cbiAgKi9cbiAgY29uc3QgdGV4dCA9IHV0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoMSkpO1xuICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGRhdGE6IHRleHQgfTtcbn07XG5cbmNvbnN0IGRlY29kZVVSTEZyYW1lID0gKGZyYW1lOiBSYXdGcmFtZSk6IERlY29kZWRGcmFtZTxzdHJpbmc+IHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGZyYW1lLnR5cGUgPT09ICdXWFhYJykge1xuICAgIC8qXG4gICAgRm9ybWF0OlxuICAgIFswXSAgID0ge1RleHQgRW5jb2Rpbmd9XG4gICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1VSTH1cbiAgICAqL1xuICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXggPSAxO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uOiBzdHJpbmcgPSB1dGY4QXJyYXlUb1N0cihcbiAgICAgIGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpLFxuICAgICAgdHJ1ZSxcbiAgICApO1xuXG4gICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICBjb25zdCB2YWx1ZTogc3RyaW5nID0gdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuXG4gICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgfVxuICAvKlxuICBGb3JtYXQ6XG4gIFswLT9dID0ge1VSTH1cbiAgKi9cbiAgY29uc3QgdXJsOiBzdHJpbmcgPSB1dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhKTtcbiAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBkYXRhOiB1cmwgfTtcbn07XG5cbmNvbnN0IHJlYWRUaW1lU3RhbXAgPSAoXG4gIHRpbWVTdGFtcEZyYW1lOiBEZWNvZGVkRnJhbWU8QXJyYXlCdWZmZXI+LFxuKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHRpbWVTdGFtcEZyYW1lLmRhdGEuYnl0ZUxlbmd0aCA9PT0gOCkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSh0aW1lU3RhbXBGcmFtZS5kYXRhKTtcbiAgICAvLyB0aW1lc3RhbXAgaXMgMzMgYml0IGV4cHJlc3NlZCBhcyBhIGJpZy1lbmRpYW4gZWlnaHQtb2N0ZXQgbnVtYmVyLFxuICAgIC8vIHdpdGggdGhlIHVwcGVyIDMxIGJpdHMgc2V0IHRvIHplcm8uXG4gICAgY29uc3QgcHRzMzNCaXQgPSBkYXRhWzNdICYgMHgxO1xuICAgIGxldCB0aW1lc3RhbXAgPVxuICAgICAgKGRhdGFbNF0gPDwgMjMpICsgKGRhdGFbNV0gPDwgMTUpICsgKGRhdGFbNl0gPDwgNykgKyBkYXRhWzddO1xuICAgIHRpbWVzdGFtcCAvPSA0NTtcblxuICAgIGlmIChwdHMzM0JpdCkge1xuICAgICAgdGltZXN0YW1wICs9IDQ3NzIxODU4Ljg0O1xuICAgIH0gLy8gMl4zMiAvIDkwXG5cbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aW1lc3RhbXApO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODkzNjk4NC91aW50OGFycmF5LXRvLXN0cmluZy1pbi1qYXZhc2NyaXB0LzIyMzczMTk3XG4vLyBodHRwOi8vd3d3Lm9uaWNvcy5jb20vc3RhZmYvaXovYW11c2UvamF2YXNjcmlwdC9leHBlcnQvdXRmLnR4dFxuLyogdXRmLmpzIC0gVVRGLTggPD0+IFVURi0xNiBjb252ZXJ0aW9uXG4gKlxuICogQ29weXJpZ2h0IChDKSAxOTk5IE1hc2FuYW8gSXp1bW8gPGl6QG9uaWNvcy5jby5qcD5cbiAqIFZlcnNpb246IDEuMFxuICogTGFzdE1vZGlmaWVkOiBEZWMgMjUgMTk5OVxuICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUuICBZb3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0LlxuICovXG5leHBvcnQgY29uc3QgdXRmOEFycmF5VG9TdHIgPSAoXG4gIGFycmF5OiBVaW50OEFycmF5LFxuICBleGl0T25OdWxsOiBib29sZWFuID0gZmFsc2UsXG4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBkZWNvZGVyID0gZ2V0VGV4dERlY29kZXIoKTtcbiAgaWYgKGRlY29kZXIpIHtcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2Rlci5kZWNvZGUoYXJyYXkpO1xuXG4gICAgaWYgKGV4aXRPbk51bGwpIHtcbiAgICAgIC8vIGdyYWIgdXAgdG8gdGhlIGZpcnN0IG51bGxcbiAgICAgIGNvbnN0IGlkeCA9IGRlY29kZWQuaW5kZXhPZignXFwwJyk7XG4gICAgICByZXR1cm4gaWR4ICE9PSAtMSA/IGRlY29kZWQuc3Vic3RyaW5nKDAsIGlkeCkgOiBkZWNvZGVkO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbnkgbnVsbCBjaGFyYWN0ZXJzXG4gICAgcmV0dXJuIGRlY29kZWQucmVwbGFjZSgvXFwwL2csICcnKTtcbiAgfVxuXG4gIGNvbnN0IGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgbGV0IGM7XG4gIGxldCBjaGFyMjtcbiAgbGV0IGNoYXIzO1xuICBsZXQgb3V0ID0gJyc7XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBjID0gYXJyYXlbaSsrXTtcbiAgICBpZiAoYyA9PT0gMHgwMCAmJiBleGl0T25OdWxsKSB7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gMHgwMCB8fCBjID09PSAweDAzKSB7XG4gICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIDMgKEVORF9PRl9URVhUKSBvciAwIChOVUxMKSB0aGVuIHNraXAgaXRcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGMgPj4gNCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgY2FzZSAxOlxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSAzOlxuICAgICAgY2FzZSA0OlxuICAgICAgY2FzZSA1OlxuICAgICAgY2FzZSA2OlxuICAgICAgY2FzZSA3OlxuICAgICAgICAvLyAweHh4eHh4eFxuICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDEyOlxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgLy8gMTEweCB4eHh4ICAgMTB4eCB4eHh4XG4gICAgICAgIGNoYXIyID0gYXJyYXlbaSsrXTtcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgxZikgPDwgNikgfCAoY2hhcjIgJiAweDNmKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxNDpcbiAgICAgICAgLy8gMTExMCB4eHh4ICAxMHh4IHh4eHggIDEweHggeHh4eFxuICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgIGNoYXIzID0gYXJyYXlbaSsrXTtcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICAgKChjICYgMHgwZikgPDwgMTIpIHwgKChjaGFyMiAmIDB4M2YpIDw8IDYpIHwgKChjaGFyMyAmIDB4M2YpIDw8IDApLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdGFibGVzID0ge1xuICBkZWNvZGVUZXh0RnJhbWU6IGRlY29kZVRleHRGcmFtZSxcbn07XG5cbmxldCBkZWNvZGVyOiBUZXh0RGVjb2RlcjtcblxuZnVuY3Rpb24gZ2V0VGV4dERlY29kZXIoKSB7XG4gIC8vIE9uIFBsYXkgU3RhdGlvbiA0LCBUZXh0RGVjb2RlciBpcyBkZWZpbmVkIGJ1dCBwYXJ0aWFsbHkgaW1wbGVtZW50ZWQuXG4gIC8vIE1hbnVhbCBkZWNvZGluZyBvcHRpb24gaXMgcHJlZmVyYWJsZVxuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnUGxheVN0YXRpb24gNCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFkZWNvZGVyICYmIHR5cGVvZiBzZWxmLlRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRlY29kZXIgPSBuZXcgc2VsZi5UZXh0RGVjb2RlcigndXRmLTgnKTtcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVyO1xufVxuIiwgIi8qKlxuICogIGhleCBkdW1wIGhlbHBlciBjbGFzc1xuICovXG5cbmNvbnN0IEhleCA9IHtcbiAgaGV4RHVtcDogZnVuY3Rpb24gKGFycmF5OiBVaW50OEFycmF5KSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBoID0gYXJyYXlbaV0udG9TdHJpbmcoMTYpO1xuICAgICAgaWYgKGgubGVuZ3RoIDwgMikge1xuICAgICAgICBoID0gJzAnICsgaDtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGg7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZXg7XG4iLCAiaW1wb3J0IHsgRWxlbWVudGFyeVN0cmVhbVR5cGVzIH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB7IHNsaWNlVWludDggfSBmcm9tICcuL3R5cGVkLWFycmF5JztcbmltcG9ydCB7IHV0ZjhBcnJheVRvU3RyIH0gZnJvbSAnLi4vZGVtdXgvaWQzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgSGV4IGZyb20gJy4vaGV4JztcbmltcG9ydCB0eXBlIHsgUGFzc3Rocm91Z2hUcmFjaywgVXNlcmRhdGFTYW1wbGUgfSBmcm9tICcuLi90eXBlcy9kZW11eGVyJztcbmltcG9ydCB0eXBlIHsgRGVjcnlwdERhdGEgfSBmcm9tICcuLi9sb2FkZXIvbGV2ZWwta2V5JztcblxuY29uc3QgVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG5jb25zdCBwdXNoID0gW10ucHVzaDtcblxuLy8gV2UgYXJlIHVzaW5nIGZpeGVkIHRyYWNrIElEcyBmb3IgZHJpdmluZyB0aGUgTVA0IHJlbXV4ZXJcbi8vIGluc3RlYWQgb2YgZm9sbG93aW5nIHRoZSBUUyBQSURzLlxuLy8gVGhlcmUgaXMgbm8gcmVhc29uIG5vdCB0byBkbyB0aGlzIGFuZCBzb21lIGJyb3dzZXJzL1NvdXJjZUJ1ZmZlci1kZW11eGVyc1xuLy8gbWF5IG5vdCBsaWtlIGlmIHRoZXJlIGFyZSBUcmFja0lEIFwic3dpdGNoZXNcIlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8xMzMxXG4vLyBIZXJlIHdlIGFyZSBtYXBwaW5nIG91ciBpbnRlcm5hbCB0cmFjayB0eXBlcyB0byBjb25zdGFudCBNUDQgdHJhY2sgSURzXG4vLyBXaXRoIE1TRSBjdXJyZW50bHkgb25lIGNhbiBvbmx5IGhhdmUgb25lIHRyYWNrIG9mIGVhY2gsIGFuZCB3ZSBhcmUgbXV4aW5nXG4vLyB3aGF0ZXZlciB2aWRlby9hdWRpbyByZW5kaXRpb24gaW4gdGhlbS5cbmV4cG9ydCBjb25zdCBSZW11eGVyVHJhY2tJZENvbmZpZyA9IHtcbiAgdmlkZW86IDEsXG4gIGF1ZGlvOiAyLFxuICBpZDM6IDMsXG4gIHRleHQ6IDQsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYmluMnN0cihkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkVWludDE2KGJ1ZmZlcjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCB2YWwgPSAoYnVmZmVyW29mZnNldF0gPDwgOCkgfCBidWZmZXJbb2Zmc2V0ICsgMV07XG4gIHJldHVybiB2YWwgPCAwID8gNjU1MzYgKyB2YWwgOiB2YWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkVWludDMyKGJ1ZmZlcjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCB2YWwgPSByZWFkU2ludDMyKGJ1ZmZlciwgb2Zmc2V0KTtcbiAgcmV0dXJuIHZhbCA8IDAgPyA0Mjk0OTY3Mjk2ICsgdmFsIDogdmFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVpbnQ2NChidWZmZXI6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKSB7XG4gIGxldCByZXN1bHQgPSByZWFkVWludDMyKGJ1ZmZlciwgb2Zmc2V0KTtcbiAgcmVzdWx0ICo9IE1hdGgucG93KDIsIDMyKTtcbiAgcmVzdWx0ICs9IHJlYWRVaW50MzIoYnVmZmVyLCBvZmZzZXQgKyA0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRTaW50MzIoYnVmZmVyOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiAoXG4gICAgKGJ1ZmZlcltvZmZzZXRdIDw8IDI0KSB8XG4gICAgKGJ1ZmZlcltvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgIChidWZmZXJbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIGJ1ZmZlcltvZmZzZXQgKyAzXVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVVaW50MzIoYnVmZmVyOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICBidWZmZXJbb2Zmc2V0XSA9IHZhbHVlID4+IDI0O1xuICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4gMTYpICYgMHhmZjtcbiAgYnVmZmVyW29mZnNldCArIDJdID0gKHZhbHVlID4+IDgpICYgMHhmZjtcbiAgYnVmZmVyW29mZnNldCArIDNdID0gdmFsdWUgJiAweGZmO1xufVxuXG4vLyBGaW5kIFwibW9vZlwiIGJveFxuZXhwb3J0IGZ1bmN0aW9uIGhhc01vb2ZEYXRhKGRhdGE6IFVpbnQ4QXJyYXkpOiBib29sZWFuIHtcbiAgY29uc3QgZW5kID0gZGF0YS5ieXRlTGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZDsgKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHJlYWRVaW50MzIoZGF0YSwgaSk7XG4gICAgaWYgKFxuICAgICAgc2l6ZSA+IDggJiZcbiAgICAgIGRhdGFbaSArIDRdID09PSAweDZkICYmXG4gICAgICBkYXRhW2kgKyA1XSA9PT0gMHg2ZiAmJlxuICAgICAgZGF0YVtpICsgNl0gPT09IDB4NmYgJiZcbiAgICAgIGRhdGFbaSArIDddID09PSAweDY2XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaSA9IHNpemUgPiAxID8gaSArIHNpemUgOiBlbmQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBGaW5kIHRoZSBkYXRhIGZvciBhIGJveCBzcGVjaWZpZWQgYnkgaXRzIHBhdGhcbmV4cG9ydCBmdW5jdGlvbiBmaW5kQm94KGRhdGE6IFVpbnQ4QXJyYXksIHBhdGg6IHN0cmluZ1tdKTogVWludDhBcnJheVtdIHtcbiAgY29uc3QgcmVzdWx0cyA9IFtdIGFzIFVpbnQ4QXJyYXlbXTtcbiAgaWYgKCFwYXRoLmxlbmd0aCkge1xuICAgIC8vIHNob3J0LWNpcmN1aXQgdGhlIHNlYXJjaCBmb3IgZW1wdHkgcGF0aHNcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICBjb25zdCBlbmQgPSBkYXRhLmJ5dGVMZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmQ7ICkge1xuICAgIGNvbnN0IHNpemUgPSByZWFkVWludDMyKGRhdGEsIGkpO1xuICAgIGNvbnN0IHR5cGUgPSBiaW4yc3RyKGRhdGEuc3ViYXJyYXkoaSArIDQsIGkgKyA4KSk7XG4gICAgY29uc3QgZW5kYm94ID0gc2l6ZSA+IDEgPyBpICsgc2l6ZSA6IGVuZDtcbiAgICBpZiAodHlwZSA9PT0gcGF0aFswXSkge1xuICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIGVuZCBvZiB0aGUgcGF0aCBhbmQgd2UndmUgZm91bmQgdGhlIGJveCB3ZSB3ZXJlXG4gICAgICAgIC8vIGxvb2tpbmcgZm9yXG4gICAgICAgIHJlc3VsdHMucHVzaChkYXRhLnN1YmFycmF5KGkgKyA4LCBlbmRib3gpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgYm94IGFsb25nIHRoZSBwYXRoXG4gICAgICAgIGNvbnN0IHN1YnJlc3VsdHMgPSBmaW5kQm94KGRhdGEuc3ViYXJyYXkoaSArIDgsIGVuZGJveCksIHBhdGguc2xpY2UoMSkpO1xuICAgICAgICBpZiAoc3VicmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICBwdXNoLmFwcGx5KHJlc3VsdHMsIHN1YnJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGkgPSBlbmRib3g7XG4gIH1cblxuICAvLyB3ZSd2ZSBmaW5pc2hlZCBzZWFyY2hpbmcgYWxsIG9mIGRhdGFcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbnR5cGUgU2lkeEluZm8gPSB7XG4gIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZTogbnVtYmVyO1xuICB0aW1lc2NhbGU6IG51bWJlcjtcbiAgdmVyc2lvbjogbnVtYmVyO1xuICByZWZlcmVuY2VzQ291bnQ6IG51bWJlcjtcbiAgcmVmZXJlbmNlczogYW55W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZWdtZW50SW5kZXgoc2lkeDogVWludDhBcnJheSk6IFNpZHhJbmZvIHwgbnVsbCB7XG4gIGNvbnN0IHJlZmVyZW5jZXM6IGFueVtdID0gW107XG5cbiAgY29uc3QgdmVyc2lvbiA9IHNpZHhbMF07XG5cbiAgLy8gc2V0IGluaXRpYWwgb2Zmc2V0LCB3ZSBza2lwIHRoZSByZWZlcmVuY2UgSUQgKG5vdCBuZWVkZWQpXG4gIGxldCBpbmRleCA9IDg7XG5cbiAgY29uc3QgdGltZXNjYWxlID0gcmVhZFVpbnQzMihzaWR4LCBpbmRleCk7XG4gIGluZGV4ICs9IDQ7XG5cbiAgbGV0IGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSA9IDA7XG4gIGxldCBmaXJzdE9mZnNldCA9IDA7XG5cbiAgaWYgKHZlcnNpb24gPT09IDApIHtcbiAgICBlYXJsaWVzdFByZXNlbnRhdGlvblRpbWUgPSByZWFkVWludDMyKHNpZHgsIGluZGV4KTtcbiAgICBmaXJzdE9mZnNldCA9IHJlYWRVaW50MzIoc2lkeCwgaW5kZXggKyA0KTtcbiAgICBpbmRleCArPSA4O1xuICB9IGVsc2Uge1xuICAgIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSA9IHJlYWRVaW50NjQoc2lkeCwgaW5kZXgpO1xuICAgIGZpcnN0T2Zmc2V0ID0gcmVhZFVpbnQ2NChzaWR4LCBpbmRleCArIDgpO1xuICAgIGluZGV4ICs9IDE2O1xuICB9XG5cbiAgLy8gc2tpcCByZXNlcnZlZFxuICBpbmRleCArPSAyO1xuXG4gIGxldCBzdGFydEJ5dGUgPSBzaWR4Lmxlbmd0aCArIGZpcnN0T2Zmc2V0O1xuXG4gIGNvbnN0IHJlZmVyZW5jZXNDb3VudCA9IHJlYWRVaW50MTYoc2lkeCwgaW5kZXgpO1xuICBpbmRleCArPSAyO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVmZXJlbmNlc0NvdW50OyBpKyspIHtcbiAgICBsZXQgcmVmZXJlbmNlSW5kZXggPSBpbmRleDtcblxuICAgIGNvbnN0IHJlZmVyZW5jZUluZm8gPSByZWFkVWludDMyKHNpZHgsIHJlZmVyZW5jZUluZGV4KTtcbiAgICByZWZlcmVuY2VJbmRleCArPSA0O1xuXG4gICAgY29uc3QgcmVmZXJlbmNlU2l6ZSA9IHJlZmVyZW5jZUluZm8gJiAweDdmZmZmZmZmO1xuICAgIGNvbnN0IHJlZmVyZW5jZVR5cGUgPSAocmVmZXJlbmNlSW5mbyAmIDB4ODAwMDAwMDApID4+PiAzMTtcblxuICAgIGlmIChyZWZlcmVuY2VUeXBlID09PSAxKSB7XG4gICAgICBsb2dnZXIud2FybignU0lEWCBoYXMgaGllcmFyY2hpY2FsIHJlZmVyZW5jZXMgKG5vdCBzdXBwb3J0ZWQpJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJzZWdtZW50RHVyYXRpb24gPSByZWFkVWludDMyKHNpZHgsIHJlZmVyZW5jZUluZGV4KTtcbiAgICByZWZlcmVuY2VJbmRleCArPSA0O1xuXG4gICAgcmVmZXJlbmNlcy5wdXNoKHtcbiAgICAgIHJlZmVyZW5jZVNpemUsXG4gICAgICBzdWJzZWdtZW50RHVyYXRpb24sIC8vIHVuc2NhbGVkXG4gICAgICBpbmZvOiB7XG4gICAgICAgIGR1cmF0aW9uOiBzdWJzZWdtZW50RHVyYXRpb24gLyB0aW1lc2NhbGUsXG4gICAgICAgIHN0YXJ0OiBzdGFydEJ5dGUsXG4gICAgICAgIGVuZDogc3RhcnRCeXRlICsgcmVmZXJlbmNlU2l6ZSAtIDEsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgc3RhcnRCeXRlICs9IHJlZmVyZW5jZVNpemU7XG5cbiAgICAvLyBTa2lwcGluZyAxIGJpdCBmb3IgfHN0YXJ0c1dpdGhTYXB8LCAzIGJpdHMgZm9yIHxzYXBUeXBlfCwgYW5kIDI4IGJpdHNcbiAgICAvLyBmb3IgfHNhcERlbHRhfC5cbiAgICByZWZlcmVuY2VJbmRleCArPSA0O1xuXG4gICAgLy8gc2tpcCB0byBuZXh0IHJlZlxuICAgIGluZGV4ID0gcmVmZXJlbmNlSW5kZXg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSxcbiAgICB0aW1lc2NhbGUsXG4gICAgdmVyc2lvbixcbiAgICByZWZlcmVuY2VzQ291bnQsXG4gICAgcmVmZXJlbmNlcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW4gTVA0IGluaXRpYWxpemF0aW9uIHNlZ21lbnQgYW5kIGV4dHJhY3RzIHN0cmVhbSB0eXBlIGFuZFxuICogdGltZXNjYWxlIHZhbHVlcyBmb3IgYW55IGRlY2xhcmVkIHRyYWNrcy4gVGltZXNjYWxlIHZhbHVlcyBpbmRpY2F0ZSB0aGVcbiAqIG51bWJlciBvZiBjbG9jayB0aWNrcyBwZXIgc2Vjb25kIHRvIGFzc3VtZSBmb3IgdGltZS1iYXNlZCB2YWx1ZXNcbiAqIGVsc2V3aGVyZSBpbiB0aGUgTVA0LlxuICpcbiAqIFRvIGRldGVybWluZSB0aGUgc3RhcnQgdGltZSBvZiBhbiBNUDQsIHlvdSBuZWVkIHR3byBwaWVjZXMgb2ZcbiAqIGluZm9ybWF0aW9uOiB0aGUgdGltZXNjYWxlIHVuaXQgYW5kIHRoZSBlYXJsaWVzdCBiYXNlIG1lZGlhIGRlY29kZVxuICogdGltZS4gTXVsdGlwbGUgdGltZXNjYWxlcyBjYW4gYmUgc3BlY2lmaWVkIHdpdGhpbiBhbiBNUDQgYnV0IHRoZVxuICogYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBpcyBhbHdheXMgZXhwcmVzc2VkIGluIHRoZSB0aW1lc2NhbGUgZnJvbVxuICogdGhlIG1lZGlhIGhlYWRlciBib3ggZm9yIHRoZSB0cmFjazpcbiAqIGBgYFxuICogbW9vdiA+IHRyYWsgPiBtZGlhID4gbWRoZC50aW1lc2NhbGVcbiAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IGhkbHJcbiAqIGBgYFxuICogQHBhcmFtIGluaXRTZWdtZW50IHRoZSBieXRlcyBvZiB0aGUgaW5pdCBzZWdtZW50XG4gKiBAcmV0dXJucyBhIGhhc2ggb2YgdHJhY2sgdHlwZSB0byB0aW1lc2NhbGUgdmFsdWVzIG9yIG51bGwgaWZcbiAqIHRoZSBpbml0IHNlZ21lbnQgaXMgbWFsZm9ybWVkLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5pdERhdGFUcmFjayB7XG4gIHRpbWVzY2FsZTogbnVtYmVyO1xuICBpZDogbnVtYmVyO1xuICBjb2RlYzogc3RyaW5nO1xufVxuXG50eXBlIEhkbHJUeXBlID0gRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPIHwgRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluaXREYXRhIGV4dGVuZHMgQXJyYXk8YW55PiB7XG4gIFtpbmRleDogbnVtYmVyXTpcbiAgICB8IHtcbiAgICAgICAgdGltZXNjYWxlOiBudW1iZXI7XG4gICAgICAgIHR5cGU6IEhkbHJUeXBlO1xuICAgICAgICBkZWZhdWx0Pzoge1xuICAgICAgICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgICAgICAgZmxhZ3M6IG51bWJlcjtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbiAgYXVkaW8/OiBJbml0RGF0YVRyYWNrO1xuICB2aWRlbz86IEluaXREYXRhVHJhY2s7XG4gIGNhcHRpb24/OiBJbml0RGF0YVRyYWNrO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbml0U2VnbWVudChpbml0U2VnbWVudDogVWludDhBcnJheSk6IEluaXREYXRhIHtcbiAgY29uc3QgcmVzdWx0OiBJbml0RGF0YSA9IFtdO1xuICBjb25zdCB0cmFrcyA9IGZpbmRCb3goaW5pdFNlZ21lbnQsIFsnbW9vdicsICd0cmFrJ10pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYWtzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdHJhayA9IHRyYWtzW2ldO1xuICAgIGNvbnN0IHRraGQgPSBmaW5kQm94KHRyYWssIFsndGtoZCddKVswXTtcbiAgICBpZiAodGtoZCkge1xuICAgICAgbGV0IHZlcnNpb24gPSB0a2hkWzBdO1xuICAgICAgY29uc3QgdHJhY2tJZCA9IHJlYWRVaW50MzIodGtoZCwgdmVyc2lvbiA9PT0gMCA/IDEyIDogMjApO1xuICAgICAgY29uc3QgbWRoZCA9IGZpbmRCb3godHJhaywgWydtZGlhJywgJ21kaGQnXSlbMF07XG4gICAgICBpZiAobWRoZCkge1xuICAgICAgICB2ZXJzaW9uID0gbWRoZFswXTtcbiAgICAgICAgY29uc3QgdGltZXNjYWxlID0gcmVhZFVpbnQzMihtZGhkLCB2ZXJzaW9uID09PSAwID8gMTIgOiAyMCk7XG4gICAgICAgIGNvbnN0IGhkbHIgPSBmaW5kQm94KHRyYWssIFsnbWRpYScsICdoZGxyJ10pWzBdO1xuICAgICAgICBpZiAoaGRscikge1xuICAgICAgICAgIGNvbnN0IGhkbHJUeXBlID0gYmluMnN0cihoZGxyLnN1YmFycmF5KDgsIDEyKSk7XG4gICAgICAgICAgY29uc3QgdHlwZTogSGRsclR5cGUgfCB1bmRlZmluZWQgPSB7XG4gICAgICAgICAgICBzb3VuOiBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8gYXMgY29uc3QsXG4gICAgICAgICAgICB2aWRlOiBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU8gYXMgY29uc3QsXG4gICAgICAgICAgfVtoZGxyVHlwZV07XG4gICAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgIC8vIFBhcnNlIGNvZGVjIGRldGFpbHNcbiAgICAgICAgICAgIGNvbnN0IHN0c2QgPSBmaW5kQm94KHRyYWssIFsnbWRpYScsICdtaW5mJywgJ3N0YmwnLCAnc3RzZCddKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHN0c2REYXRhID0gcGFyc2VTdHNkKHN0c2QpO1xuICAgICAgICAgICAgcmVzdWx0W3RyYWNrSWRdID0geyB0aW1lc2NhbGUsIHR5cGUgfTtcbiAgICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IHsgdGltZXNjYWxlLCBpZDogdHJhY2tJZCwgLi4uc3RzZERhdGEgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB0cmV4ID0gZmluZEJveChpbml0U2VnbWVudCwgWydtb292JywgJ212ZXgnLCAndHJleCddKTtcbiAgdHJleC5mb3JFYWNoKCh0cmV4KSA9PiB7XG4gICAgY29uc3QgdHJhY2tJZCA9IHJlYWRVaW50MzIodHJleCwgNCk7XG4gICAgY29uc3QgdHJhY2sgPSByZXN1bHRbdHJhY2tJZF07XG4gICAgaWYgKHRyYWNrKSB7XG4gICAgICB0cmFjay5kZWZhdWx0ID0ge1xuICAgICAgICBkdXJhdGlvbjogcmVhZFVpbnQzMih0cmV4LCAxMiksXG4gICAgICAgIGZsYWdzOiByZWFkVWludDMyKHRyZXgsIDIwKSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZVN0c2Qoc3RzZDogVWludDhBcnJheSk6IHsgY29kZWM6IHN0cmluZzsgZW5jcnlwdGVkOiBib29sZWFuIH0ge1xuICBjb25zdCBzYW1wbGVFbnRyaWVzID0gc3RzZC5zdWJhcnJheSg4KTtcbiAgY29uc3Qgc2FtcGxlRW50cmllc0VuZCA9IHNhbXBsZUVudHJpZXMuc3ViYXJyYXkoOCArIDc4KTtcbiAgY29uc3QgZm91ckNDID0gYmluMnN0cihzYW1wbGVFbnRyaWVzLnN1YmFycmF5KDQsIDgpKTtcbiAgbGV0IGNvZGVjID0gZm91ckNDO1xuICBjb25zdCBlbmNyeXB0ZWQgPSBmb3VyQ0MgPT09ICdlbmNhJyB8fCBmb3VyQ0MgPT09ICdlbmN2JztcbiAgaWYgKGVuY3J5cHRlZCkge1xuICAgIGNvbnN0IGVuY0JveCA9IGZpbmRCb3goc2FtcGxlRW50cmllcywgW2ZvdXJDQ10pWzBdO1xuICAgIGNvbnN0IGVuY0JveENoaWxkcmVuID0gZW5jQm94LnN1YmFycmF5KGZvdXJDQyA9PT0gJ2VuY2EnID8gMjggOiA3OCk7XG4gICAgY29uc3Qgc2luZnMgPSBmaW5kQm94KGVuY0JveENoaWxkcmVuLCBbJ3NpbmYnXSk7XG4gICAgc2luZnMuZm9yRWFjaCgoc2luZikgPT4ge1xuICAgICAgY29uc3Qgc2NobSA9IGZpbmRCb3goc2luZiwgWydzY2htJ10pWzBdO1xuICAgICAgaWYgKHNjaG0pIHtcbiAgICAgICAgY29uc3Qgc2NoZW1lID0gYmluMnN0cihzY2htLnN1YmFycmF5KDQsIDgpKTtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gJ2NiY3MnIHx8IHNjaGVtZSA9PT0gJ2NlbmMnKSB7XG4gICAgICAgICAgY29uc3QgZnJtYSA9IGZpbmRCb3goc2luZiwgWydmcm1hJ10pWzBdO1xuICAgICAgICAgIGlmIChmcm1hKSB7XG4gICAgICAgICAgICAvLyBmb3IgZW5jcnlwdGVkIGNvbnRlbnQgY29kZWMgZm91ckNDIHdpbGwgYmUgaW4gZnJtYVxuICAgICAgICAgICAgY29kZWMgPSBiaW4yc3RyKGZybWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHN3aXRjaCAoY29kZWMpIHtcbiAgICBjYXNlICdhdmMxJzpcbiAgICBjYXNlICdhdmMyJzpcbiAgICBjYXNlICdhdmMzJzpcbiAgICBjYXNlICdhdmM0Jzoge1xuICAgICAgLy8gZXh0cmFjdCBwcm9maWxlICsgY29tcGF0aWJpbGl0eSArIGxldmVsIG91dCBvZiBhdmNDIGJveFxuICAgICAgY29uc3QgYXZjQ0JveCA9IGZpbmRCb3goc2FtcGxlRW50cmllc0VuZCwgWydhdmNDJ10pWzBdO1xuICAgICAgY29kZWMgKz0gJy4nICsgdG9IZXgoYXZjQ0JveFsxXSkgKyB0b0hleChhdmNDQm94WzJdKSArIHRvSGV4KGF2Y0NCb3hbM10pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ21wNGEnOiB7XG4gICAgICBjb25zdCBjb2RlY0JveCA9IGZpbmRCb3goc2FtcGxlRW50cmllcywgW2ZvdXJDQ10pWzBdO1xuICAgICAgY29uc3QgZXNkc0JveCA9IGZpbmRCb3goY29kZWNCb3guc3ViYXJyYXkoMjgpLCBbJ2VzZHMnXSlbMF07XG4gICAgICBpZiAoZXNkc0JveCAmJiBlc2RzQm94Lmxlbmd0aCA+IDEyKSB7XG4gICAgICAgIGxldCBpID0gNDtcbiAgICAgICAgLy8gRVMgRGVzY3JpcHRvciB0YWdcbiAgICAgICAgaWYgKGVzZHNCb3hbaSsrXSAhPT0gMHgwMykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBza2lwQkVSSW50ZWdlcihlc2RzQm94LCBpKTtcbiAgICAgICAgaSArPSAyOyAvLyBza2lwIGVzX2lkO1xuICAgICAgICBjb25zdCBmbGFncyA9IGVzZHNCb3hbaSsrXTtcbiAgICAgICAgaWYgKGZsYWdzICYgMHg4MCkge1xuICAgICAgICAgIGkgKz0gMjsgLy8gc2tpcCBkZXBlbmRlbmN5IGVzX2lkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzICYgMHg0MCkge1xuICAgICAgICAgIGkgKz0gZXNkc0JveFtpKytdOyAvLyBza2lwIFVSTFxuICAgICAgICB9XG4gICAgICAgIC8vIERlY29kZXIgY29uZmlnIGRlc2NyaXB0b3JcbiAgICAgICAgaWYgKGVzZHNCb3hbaSsrXSAhPT0gMHgwNCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBza2lwQkVSSW50ZWdlcihlc2RzQm94LCBpKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0VHlwZSA9IGVzZHNCb3hbaSsrXTtcbiAgICAgICAgaWYgKG9iamVjdFR5cGUgPT09IDB4NDApIHtcbiAgICAgICAgICBjb2RlYyArPSAnLicgKyB0b0hleChvYmplY3RUeXBlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpICs9IDEyO1xuICAgICAgICAvLyBEZWNvZGVyIHNwZWNpZmljIGluZm9cbiAgICAgICAgaWYgKGVzZHNCb3hbaSsrXSAhPT0gMHgwNSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBza2lwQkVSSW50ZWdlcihlc2RzQm94LCBpKTtcbiAgICAgICAgY29uc3QgZmlyc3RCeXRlID0gZXNkc0JveFtpKytdO1xuICAgICAgICBsZXQgYXVkaW9PYmplY3RUeXBlID0gKGZpcnN0Qnl0ZSAmIDB4ZjgpID4+IDM7XG4gICAgICAgIGlmIChhdWRpb09iamVjdFR5cGUgPT09IDMxKSB7XG4gICAgICAgICAgYXVkaW9PYmplY3RUeXBlICs9XG4gICAgICAgICAgICAxICsgKChmaXJzdEJ5dGUgJiAweDcpIDw8IDMpICsgKChlc2RzQm94W2ldICYgMHhlMCkgPj4gNSk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZWMgKz0gJy4nICsgYXVkaW9PYmplY3RUeXBlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ2h2YzEnOlxuICAgIGNhc2UgJ2hldjEnOiB7XG4gICAgICBjb25zdCBodmNDQm94ID0gZmluZEJveChzYW1wbGVFbnRyaWVzRW5kLCBbJ2h2Y0MnXSlbMF07XG4gICAgICBjb25zdCBwcm9maWxlQnl0ZSA9IGh2Y0NCb3hbMV07XG4gICAgICBjb25zdCBwcm9maWxlU3BhY2UgPSBbJycsICdBJywgJ0InLCAnQyddW3Byb2ZpbGVCeXRlID4+IDZdO1xuICAgICAgY29uc3QgZ2VuZXJhbFByb2ZpbGVJZGMgPSBwcm9maWxlQnl0ZSAmIDB4MWY7XG4gICAgICBjb25zdCBwcm9maWxlQ29tcGF0ID0gcmVhZFVpbnQzMihodmNDQm94LCAyKTtcbiAgICAgIGNvbnN0IHRpZXJGbGFnID0gKHByb2ZpbGVCeXRlICYgMHgyMCkgPj4gNSA/ICdIJyA6ICdMJztcbiAgICAgIGNvbnN0IGxldmVsSURDID0gaHZjQ0JveFsxMl07XG4gICAgICBjb25zdCBjb25zdHJhaW50SW5kaWNhdG9yID0gaHZjQ0JveC5zdWJhcnJheSg2LCAxMik7XG4gICAgICBjb2RlYyArPSAnLicgKyBwcm9maWxlU3BhY2UgKyBnZW5lcmFsUHJvZmlsZUlkYztcbiAgICAgIGNvZGVjICs9ICcuJyArIHByb2ZpbGVDb21wYXQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICBjb2RlYyArPSAnLicgKyB0aWVyRmxhZyArIGxldmVsSURDO1xuICAgICAgbGV0IGNvbnN0cmFpbnRTdHJpbmcgPSAnJztcbiAgICAgIGZvciAobGV0IGkgPSBjb25zdHJhaW50SW5kaWNhdG9yLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgY29uc3QgYnl0ZSA9IGNvbnN0cmFpbnRJbmRpY2F0b3JbaV07XG4gICAgICAgIGlmIChieXRlIHx8IGNvbnN0cmFpbnRTdHJpbmcpIHtcbiAgICAgICAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGJ5dGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3RyYWludFN0cmluZyA9ICcuJyArIGVuY29kZWRCeXRlICsgY29uc3RyYWludFN0cmluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29kZWMgKz0gY29uc3RyYWludFN0cmluZztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdkdmgxJzpcbiAgICBjYXNlICdkdmhlJzoge1xuICAgICAgY29uc3QgZHZjQ0JveCA9IGZpbmRCb3goc2FtcGxlRW50cmllc0VuZCwgWydkdmNDJ10pWzBdO1xuICAgICAgY29uc3QgcHJvZmlsZSA9IChkdmNDQm94WzJdID4+IDEpICYgMHg3ZjtcbiAgICAgIGNvbnN0IGxldmVsID0gKChkdmNDQm94WzJdIDw8IDUpICYgMHgyMCkgfCAoKGR2Y0NCb3hbM10gPj4gMykgJiAweDFmKTtcbiAgICAgIGNvZGVjICs9ICcuJyArIGFkZExlYWRpbmdaZXJvKHByb2ZpbGUpICsgJy4nICsgYWRkTGVhZGluZ1plcm8obGV2ZWwpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ3ZwMDknOiB7XG4gICAgICBjb25zdCB2cGNDQm94ID0gZmluZEJveChzYW1wbGVFbnRyaWVzRW5kLCBbJ3ZwY0MnXSlbMF07XG4gICAgICBjb25zdCBwcm9maWxlID0gdnBjQ0JveFs0XTtcbiAgICAgIGNvbnN0IGxldmVsID0gdnBjQ0JveFs1XTtcbiAgICAgIGNvbnN0IGJpdERlcHRoID0gKHZwY0NCb3hbNl0gPj4gNCkgJiAweDBmO1xuICAgICAgY29kZWMgKz1cbiAgICAgICAgJy4nICtcbiAgICAgICAgYWRkTGVhZGluZ1plcm8ocHJvZmlsZSkgK1xuICAgICAgICAnLicgK1xuICAgICAgICBhZGRMZWFkaW5nWmVybyhsZXZlbCkgK1xuICAgICAgICAnLicgK1xuICAgICAgICBhZGRMZWFkaW5nWmVybyhiaXREZXB0aCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnYXYwMSc6IHtcbiAgICAgIGNvbnN0IGF2MUNCb3ggPSBmaW5kQm94KHNhbXBsZUVudHJpZXNFbmQsIFsnYXYxQyddKVswXTtcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBhdjFDQm94WzFdID4+PiA1O1xuICAgICAgY29uc3QgbGV2ZWwgPSBhdjFDQm94WzFdICYgMHgxZjtcbiAgICAgIGNvbnN0IHRpZXJGbGFnID0gYXYxQ0JveFsyXSA+Pj4gNyA/ICdIJyA6ICdNJztcbiAgICAgIGNvbnN0IGhpZ2hCaXREZXB0aCA9IChhdjFDQm94WzJdICYgMHg0MCkgPj4gNjtcbiAgICAgIGNvbnN0IHR3ZWx2ZUJpdCA9IChhdjFDQm94WzJdICYgMHgyMCkgPj4gNTtcbiAgICAgIGNvbnN0IGJpdERlcHRoID1cbiAgICAgICAgcHJvZmlsZSA9PT0gMiAmJiBoaWdoQml0RGVwdGhcbiAgICAgICAgICA/IHR3ZWx2ZUJpdFxuICAgICAgICAgICAgPyAxMlxuICAgICAgICAgICAgOiAxMFxuICAgICAgICAgIDogaGlnaEJpdERlcHRoXG4gICAgICAgICAgICA/IDEwXG4gICAgICAgICAgICA6IDg7XG4gICAgICBjb25zdCBtb25vY2hyb21lID0gKGF2MUNCb3hbMl0gJiAweDEwKSA+PiA0O1xuICAgICAgY29uc3QgY2hyb21hU3Vic2FtcGxpbmdYID0gKGF2MUNCb3hbMl0gJiAweDA4KSA+PiAzO1xuICAgICAgY29uc3QgY2hyb21hU3Vic2FtcGxpbmdZID0gKGF2MUNCb3hbMl0gJiAweDA0KSA+PiAyO1xuICAgICAgY29uc3QgY2hyb21hU2FtcGxlUG9zaXRpb24gPSBhdjFDQm94WzJdICYgMHgwMztcbiAgICAgIC8vIFRPRE86IHBhcnNlIGNvbG9yX2Rlc2NyaXB0aW9uX3ByZXNlbnRfZmxhZ1xuICAgICAgLy8gZGVmYXVsdCBpdCB0byBCVC43MDkvbGltaXRlZCByYW5nZSBmb3Igbm93XG4gICAgICAvLyBtb3JlIGluZm8gaHR0cHM6Ly9hb21lZGlhY29kZWMuZ2l0aHViLmlvL2F2MS1pc29ibWZmLyNhdjFjb2RlY2NvbmZpZ3VyYXRpb25ib3gtc3ludGF4XG4gICAgICBjb25zdCBjb2xvclByaW1hcmllcyA9IDE7XG4gICAgICBjb25zdCB0cmFuc2ZlckNoYXJhY3RlcmlzdGljcyA9IDE7XG4gICAgICBjb25zdCBtYXRyaXhDb2VmZmljaWVudHMgPSAxO1xuICAgICAgY29uc3QgdmlkZW9GdWxsUmFuZ2VGbGFnID0gMDtcbiAgICAgIGNvZGVjICs9XG4gICAgICAgICcuJyArXG4gICAgICAgIHByb2ZpbGUgK1xuICAgICAgICAnLicgK1xuICAgICAgICBhZGRMZWFkaW5nWmVybyhsZXZlbCkgK1xuICAgICAgICB0aWVyRmxhZyArXG4gICAgICAgICcuJyArXG4gICAgICAgIGFkZExlYWRpbmdaZXJvKGJpdERlcHRoKSArXG4gICAgICAgICcuJyArXG4gICAgICAgIG1vbm9jaHJvbWUgK1xuICAgICAgICAnLicgK1xuICAgICAgICBjaHJvbWFTdWJzYW1wbGluZ1ggK1xuICAgICAgICBjaHJvbWFTdWJzYW1wbGluZ1kgK1xuICAgICAgICBjaHJvbWFTYW1wbGVQb3NpdGlvbiArXG4gICAgICAgICcuJyArXG4gICAgICAgIGFkZExlYWRpbmdaZXJvKGNvbG9yUHJpbWFyaWVzKSArXG4gICAgICAgICcuJyArXG4gICAgICAgIGFkZExlYWRpbmdaZXJvKHRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzKSArXG4gICAgICAgICcuJyArXG4gICAgICAgIGFkZExlYWRpbmdaZXJvKG1hdHJpeENvZWZmaWNpZW50cykgK1xuICAgICAgICAnLicgK1xuICAgICAgICB2aWRlb0Z1bGxSYW5nZUZsYWc7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnYWMtMyc6XG4gICAgY2FzZSAnZWMtMyc6XG4gICAgY2FzZSAnYWxhYyc6XG4gICAgY2FzZSAnZkxhQyc6XG4gICAgY2FzZSAnT3B1cyc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiB7IGNvZGVjLCBlbmNyeXB0ZWQgfTtcbn1cblxuZnVuY3Rpb24gc2tpcEJFUkludGVnZXIoYnl0ZXM6IFVpbnQ4QXJyYXksIGk6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IGxpbWl0ID0gaSArIDU7XG4gIHdoaWxlIChieXRlc1tpKytdICYgMHg4MCAmJiBpIDwgbGltaXQpIHt9XG4gIHJldHVybiBpO1xufVxuXG5mdW5jdGlvbiB0b0hleCh4OiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gKCcwJyArIHgudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpLnNsaWNlKC0yKTtcbn1cblxuZnVuY3Rpb24gYWRkTGVhZGluZ1plcm8obnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gKG51bSA8IDEwID8gJzAnIDogJycpICsgbnVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hFbmN5cHRpb25EYXRhKFxuICBpbml0U2VnbWVudDogVWludDhBcnJheSB8IHVuZGVmaW5lZCxcbiAgZGVjcnlwdGRhdGE6IERlY3J5cHREYXRhIHwgbnVsbCxcbik6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQge1xuICBpZiAoIWluaXRTZWdtZW50IHx8ICFkZWNyeXB0ZGF0YSkge1xuICAgIHJldHVybiBpbml0U2VnbWVudDtcbiAgfVxuICBjb25zdCBrZXlJZCA9IGRlY3J5cHRkYXRhLmtleUlkO1xuICBpZiAoa2V5SWQgJiYgZGVjcnlwdGRhdGEuaXNDb21tb25FbmNyeXB0aW9uKSB7XG4gICAgY29uc3QgdHJha3MgPSBmaW5kQm94KGluaXRTZWdtZW50LCBbJ21vb3YnLCAndHJhayddKTtcbiAgICB0cmFrcy5mb3JFYWNoKCh0cmFrKSA9PiB7XG4gICAgICBjb25zdCBzdHNkID0gZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnbWluZicsICdzdGJsJywgJ3N0c2QnXSlbMF07XG5cbiAgICAgIC8vIHNraXAgdGhlIHNhbXBsZSBlbnRyeSBjb3VudFxuICAgICAgY29uc3Qgc2FtcGxlRW50cmllcyA9IHN0c2Quc3ViYXJyYXkoOCk7XG4gICAgICBsZXQgZW5jQm94ZXMgPSBmaW5kQm94KHNhbXBsZUVudHJpZXMsIFsnZW5jYSddKTtcbiAgICAgIGNvbnN0IGlzQXVkaW8gPSBlbmNCb3hlcy5sZW5ndGggPiAwO1xuICAgICAgaWYgKCFpc0F1ZGlvKSB7XG4gICAgICAgIGVuY0JveGVzID0gZmluZEJveChzYW1wbGVFbnRyaWVzLCBbJ2VuY3YnXSk7XG4gICAgICB9XG4gICAgICBlbmNCb3hlcy5mb3JFYWNoKChlbmMpID0+IHtcbiAgICAgICAgY29uc3QgZW5jQm94Q2hpbGRyZW4gPSBpc0F1ZGlvID8gZW5jLnN1YmFycmF5KDI4KSA6IGVuYy5zdWJhcnJheSg3OCk7XG4gICAgICAgIGNvbnN0IHNpbmZCb3hlcyA9IGZpbmRCb3goZW5jQm94Q2hpbGRyZW4sIFsnc2luZiddKTtcbiAgICAgICAgc2luZkJveGVzLmZvckVhY2goKHNpbmYpID0+IHtcbiAgICAgICAgICBjb25zdCB0ZW5jID0gcGFyc2VTaW5mKHNpbmYpO1xuICAgICAgICAgIGlmICh0ZW5jKSB7XG4gICAgICAgICAgICAvLyBMb29rIGZvciBkZWZhdWx0IGtleSBpZCAoa2V5SUQgb2Zmc2V0IGlzIGFsd2F5cyA4IHdpdGhpbiB0aGUgdGVuYyBib3gpOlxuICAgICAgICAgICAgY29uc3QgdGVuY0tleUlkID0gdGVuYy5zdWJhcnJheSg4LCAyNCk7XG4gICAgICAgICAgICBpZiAoIXRlbmNLZXlJZC5zb21lKChiKSA9PiBiICE9PSAwKSkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgICAgIGBbZW1lXSBQYXRjaGluZyBrZXlJZCBpbiAnZW5jJHtcbiAgICAgICAgICAgICAgICAgIGlzQXVkaW8gPyAnYScgOiAndidcbiAgICAgICAgICAgICAgICB9PnNpbmY+PnRlbmMnIGJveDogJHtIZXguaGV4RHVtcCh0ZW5jS2V5SWQpfSAtPiAke0hleC5oZXhEdW1wKFxuICAgICAgICAgICAgICAgICAga2V5SWQsXG4gICAgICAgICAgICAgICAgKX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0ZW5jLnNldChrZXlJZCwgOCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGluaXRTZWdtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTaW5mKHNpbmY6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHwgbnVsbCB7XG4gIGNvbnN0IHNjaG0gPSBmaW5kQm94KHNpbmYsIFsnc2NobSddKVswXTtcbiAgaWYgKHNjaG0pIHtcbiAgICBjb25zdCBzY2hlbWUgPSBiaW4yc3RyKHNjaG0uc3ViYXJyYXkoNCwgOCkpO1xuICAgIGlmIChzY2hlbWUgPT09ICdjYmNzJyB8fCBzY2hlbWUgPT09ICdjZW5jJykge1xuICAgICAgcmV0dXJuIGZpbmRCb3goc2luZiwgWydzY2hpJywgJ3RlbmMnXSlbMF07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5lcnJvcihgW2VtZV0gbWlzc2luZyAnc2NobScgYm94YCk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERldGVybWluZSB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSwgaW4gc2Vjb25kcywgZm9yIGFuIE1QNFxuICogZnJhZ21lbnQuIElmIG11bHRpcGxlIGZyYWdtZW50cyBhcmUgc3BlY2lmaWVkLCB0aGUgZWFybGllc3QgdGltZSBpc1xuICogcmV0dXJuZWQuXG4gKlxuICogVGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgY2FuIGJlIHBhcnNlZCBmcm9tIHRyYWNrIGZyYWdtZW50XG4gKiBtZXRhZGF0YTpcbiAqIGBgYFxuICogbW9vZiA+IHRyYWYgPiB0ZmR0LmJhc2VNZWRpYURlY29kZVRpbWVcbiAqIGBgYFxuICogSXQgcmVxdWlyZXMgdGhlIHRpbWVzY2FsZSB2YWx1ZSBmcm9tIHRoZSBtZGhkIHRvIGludGVycHJldC5cbiAqXG4gKiBAcGFyYW0gaW5pdERhdGEgLSBhIGhhc2ggb2YgdHJhY2sgdHlwZSB0byB0aW1lc2NhbGUgdmFsdWVzXG4gKiBAcGFyYW0gZm1wNCAtIHRoZSBieXRlcyBvZiB0aGUgbXA0IGZyYWdtZW50XG4gKiBAcmV0dXJucyB0aGUgZWFybGllc3QgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSBmb3IgdGhlXG4gKiBmcmFnbWVudCwgaW4gc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhcnREVFMoXG4gIGluaXREYXRhOiBJbml0RGF0YSxcbiAgZm1wNDogVWludDhBcnJheSxcbik6IG51bWJlciB8IG51bGwge1xuICAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW4gb2YgZWFjaCB0cmFjayBmcmFnbWVudCBib3hcbiAgcmV0dXJuIGZpbmRCb3goZm1wNCwgWydtb29mJywgJ3RyYWYnXSkucmVkdWNlKFxuICAgIChyZXN1bHQ6IG51bWJlciB8IG51bGwsIHRyYWYpID0+IHtcbiAgICAgIGNvbnN0IHRmZHQgPSBmaW5kQm94KHRyYWYsIFsndGZkdCddKVswXTtcbiAgICAgIGNvbnN0IHZlcnNpb24gPSB0ZmR0WzBdO1xuICAgICAgY29uc3Qgc3RhcnQgPSBmaW5kQm94KHRyYWYsIFsndGZoZCddKS5yZWR1Y2UoXG4gICAgICAgIChyZXN1bHQ6IG51bWJlciB8IG51bGwsIHRmaGQpID0+IHtcbiAgICAgICAgICAvLyBnZXQgdGhlIHRyYWNrIGlkIGZyb20gdGhlIHRmaGRcbiAgICAgICAgICBjb25zdCBpZCA9IHJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgICAgY29uc3QgdHJhY2sgPSBpbml0RGF0YVtpZF07XG4gICAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICBsZXQgYmFzZVRpbWUgPSByZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdmFsdWUgaXMgdG9vIGxhcmdlLCBhc3N1bWUgc2lnbmVkIDY0LWJpdC4gTmVnYXRpdmUgdHJhY2sgZnJhZ21lbnQgZGVjb2RlIHRpbWVzIGFyZSBpbnZhbGlkLCBidXQgdGhleSBleGlzdCBpbiB0aGUgd2lsZC5cbiAgICAgICAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBsYXJnZSB2YWx1ZXMgZnJvbSBiZWluZyB1c2VkIGZvciBpbml0UFRTLCB3aGljaCBjYW4gY2F1c2UgcGxheWxpc3Qgc3luYyBpc3N1ZXMuXG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy81MzAzXG4gICAgICAgICAgICAgIGlmIChiYXNlVGltZSA9PT0gVUlOVDMyX01BWCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgICAgYFttcDQtZGVtdXhlcl06IElnbm9yaW5nIGFzc3VtZWQgaW52YWxpZCBzaWduZWQgNjQtYml0IHRyYWNrIGZyYWdtZW50IGRlY29kZSB0aW1lYCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYmFzZVRpbWUgKj0gVUlOVDMyX01BWCArIDE7XG4gICAgICAgICAgICAgIGJhc2VUaW1lICs9IHJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhc3N1bWUgYSA5MGtIeiBjbG9jayBpZiBubyB0aW1lc2NhbGUgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0cmFjay50aW1lc2NhbGUgfHwgOTBlMztcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgYmFzZSB0aW1lIHRvIHNlY29uZHNcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGJhc2VUaW1lIC8gc2NhbGU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShzdGFydFRpbWUpICYmXG4gICAgICAgICAgICAgIChyZXN1bHQgPT09IG51bGwgfHwgc3RhcnRUaW1lIDwgcmVzdWx0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIG51bGwsXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBzdGFydCAhPT0gbnVsbCAmJlxuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoc3RhcnQpICYmXG4gICAgICAgIChyZXN1bHQgPT09IG51bGwgfHwgc3RhcnQgPCByZXN1bHQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIG51bGwsXG4gICk7XG59XG5cbi8qXG4gIEZvciBSZWZlcmVuY2U6XG4gIGFsaWduZWQoOCkgY2xhc3MgVHJhY2tGcmFnbWVudEhlYWRlckJveFxuICAgICAgICAgICBleHRlbmRzIEZ1bGxCb3go4oCYdGZoZOKAmSwgMCwgdGZfZmxhZ3Mpe1xuICAgICB1bnNpZ25lZCBpbnQoMzIpICB0cmFja19JRDtcbiAgICAgLy8gYWxsIHRoZSBmb2xsb3dpbmcgYXJlIG9wdGlvbmFsIGZpZWxkc1xuICAgICB1bnNpZ25lZCBpbnQoNjQpICBiYXNlX2RhdGFfb2Zmc2V0O1xuICAgICB1bnNpZ25lZCBpbnQoMzIpICBzYW1wbGVfZGVzY3JpcHRpb25faW5kZXg7XG4gICAgIHVuc2lnbmVkIGludCgzMikgIGRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uO1xuICAgICB1bnNpZ25lZCBpbnQoMzIpICBkZWZhdWx0X3NhbXBsZV9zaXplO1xuICAgICB1bnNpZ25lZCBpbnQoMzIpICBkZWZhdWx0X3NhbXBsZV9mbGFnc1xuICB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREdXJhdGlvbihkYXRhOiBVaW50OEFycmF5LCBpbml0RGF0YTogSW5pdERhdGEpIHtcbiAgbGV0IHJhd0R1cmF0aW9uID0gMDtcbiAgbGV0IHZpZGVvRHVyYXRpb24gPSAwO1xuICBsZXQgYXVkaW9EdXJhdGlvbiA9IDA7XG4gIGNvbnN0IHRyYWZzID0gZmluZEJveChkYXRhLCBbJ21vb2YnLCAndHJhZiddKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFmcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRyYWYgPSB0cmFmc1tpXTtcbiAgICAvLyBUaGVyZSBpcyBvbmx5IG9uZSB0ZmhkICYgdHJ1biBwZXIgdHJhZlxuICAgIC8vIFRoaXMgaXMgdHJ1ZSBmb3IgQ01BRiBzdHlsZSBjb250ZW50LCBhbmQgd2Ugc2hvdWxkIHBlcmhhcHMgY2hlY2sgdGhlIGZ0eXBcbiAgICAvLyBhbmQgb25seSBsb29rIGZvciBhIHNpbmdsZSB0cnVuIHRoZW4sIGJ1dCBmb3IgSVNPQk1GRiB3ZSBzaG91bGQgY2hlY2tcbiAgICAvLyBmb3IgbXVsdGlwbGUgdHJhY2sgcnVucy5cbiAgICBjb25zdCB0ZmhkID0gZmluZEJveCh0cmFmLCBbJ3RmaGQnXSlbMF07XG4gICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgY29uc3QgaWQgPSByZWFkVWludDMyKHRmaGQsIDQpO1xuICAgIGNvbnN0IHRyYWNrID0gaW5pdERhdGFbaWRdO1xuICAgIGlmICghdHJhY2spIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB0cmFja0RlZmF1bHQgPSB0cmFjay5kZWZhdWx0O1xuICAgIGNvbnN0IHRmaGRGbGFncyA9IHJlYWRVaW50MzIodGZoZCwgMCkgfCB0cmFja0RlZmF1bHQ/LmZsYWdzITtcbiAgICBsZXQgc2FtcGxlRHVyYXRpb246IG51bWJlciB8IHVuZGVmaW5lZCA9IHRyYWNrRGVmYXVsdD8uZHVyYXRpb247XG4gICAgaWYgKHRmaGRGbGFncyAmIDB4MDAwMDA4KSB7XG4gICAgICAvLyAweDAwMDAwOCBpbmRpY2F0ZXMgdGhlIHByZXNlbmNlIG9mIHRoZSBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvbiBmaWVsZFxuICAgICAgaWYgKHRmaGRGbGFncyAmIDB4MDAwMDAyKSB7XG4gICAgICAgIC8vIDB4MDAwMDAyIGluZGljYXRlcyB0aGUgcHJlc2VuY2Ugb2YgdGhlIHNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCBmaWVsZCwgd2hpY2ggcHJlY2VkZXMgZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAgICAgLy8gSWYgcHJlc2VudCwgdGhlIGRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uIGV4aXN0cyBhdCBieXRlIG9mZnNldCAxMlxuICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IHJlYWRVaW50MzIodGZoZCwgMTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgZHVyYXRpb24gaXMgYXQgYnl0ZSBvZmZzZXQgOFxuICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IHJlYWRVaW50MzIodGZoZCwgOCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGFzc3VtZSBhIDkwa0h6IGNsb2NrIGlmIG5vIHRpbWVzY2FsZSB3YXMgc3BlY2lmaWVkXG4gICAgY29uc3QgdGltZXNjYWxlID0gdHJhY2sudGltZXNjYWxlIHx8IDkwZTM7XG4gICAgY29uc3QgdHJ1bnMgPSBmaW5kQm94KHRyYWYsIFsndHJ1biddKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRydW5zLmxlbmd0aDsgaisrKSB7XG4gICAgICByYXdEdXJhdGlvbiA9IGNvbXB1dGVSYXdEdXJhdGlvbkZyb21TYW1wbGVzKHRydW5zW2pdKTtcbiAgICAgIGlmICghcmF3RHVyYXRpb24gJiYgc2FtcGxlRHVyYXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSByZWFkVWludDMyKHRydW5zW2pdLCA0KTtcbiAgICAgICAgcmF3RHVyYXRpb24gPSBzYW1wbGVEdXJhdGlvbiAqIHNhbXBsZUNvdW50O1xuICAgICAgfVxuICAgICAgaWYgKHRyYWNrLnR5cGUgPT09IEVsZW1lbnRhcnlTdHJlYW1UeXBlcy5WSURFTykge1xuICAgICAgICB2aWRlb0R1cmF0aW9uICs9IHJhd0R1cmF0aW9uIC8gdGltZXNjYWxlO1xuICAgICAgfSBlbHNlIGlmICh0cmFjay50eXBlID09PSBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8pIHtcbiAgICAgICAgYXVkaW9EdXJhdGlvbiArPSByYXdEdXJhdGlvbiAvIHRpbWVzY2FsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHZpZGVvRHVyYXRpb24gPT09IDAgJiYgYXVkaW9EdXJhdGlvbiA9PT0gMCkge1xuICAgIC8vIElmIGR1cmF0aW9uIHNhbXBsZXMgYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhlIHRyYWYgdXNlIHNpZHggc3Vic2VnbWVudF9kdXJhdGlvblxuICAgIGxldCBzaWR4TWluU3RhcnQgPSBJbmZpbml0eTtcbiAgICBsZXQgc2lkeE1heEVuZCA9IDA7XG4gICAgbGV0IHNpZHhEdXJhdGlvbiA9IDA7XG4gICAgY29uc3Qgc2lkeHMgPSBmaW5kQm94KGRhdGEsIFsnc2lkeCddKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzaWR4ID0gcGFyc2VTZWdtZW50SW5kZXgoc2lkeHNbaV0pO1xuICAgICAgaWYgKHNpZHg/LnJlZmVyZW5jZXMpIHtcbiAgICAgICAgc2lkeE1pblN0YXJ0ID0gTWF0aC5taW4oXG4gICAgICAgICAgc2lkeE1pblN0YXJ0LFxuICAgICAgICAgIHNpZHguZWFybGllc3RQcmVzZW50YXRpb25UaW1lIC8gc2lkeC50aW1lc2NhbGUsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHN1YlNlZ21lbnREdXJhdGlvbiA9IHNpZHgucmVmZXJlbmNlcy5yZWR1Y2UoXG4gICAgICAgICAgKGR1ciwgcmVmKSA9PiBkdXIgKyByZWYuaW5mby5kdXJhdGlvbiB8fCAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICk7XG4gICAgICAgIHNpZHhNYXhFbmQgPSBNYXRoLm1heChcbiAgICAgICAgICBzaWR4TWF4RW5kLFxuICAgICAgICAgIHN1YlNlZ21lbnREdXJhdGlvbiArIHNpZHguZWFybGllc3RQcmVzZW50YXRpb25UaW1lIC8gc2lkeC50aW1lc2NhbGUsXG4gICAgICAgICk7XG4gICAgICAgIHNpZHhEdXJhdGlvbiA9IHNpZHhNYXhFbmQgLSBzaWR4TWluU3RhcnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaWR4RHVyYXRpb24gJiYgTnVtYmVyLmlzRmluaXRlKHNpZHhEdXJhdGlvbikpIHtcbiAgICAgIHJldHVybiBzaWR4RHVyYXRpb247XG4gICAgfVxuICB9XG4gIGlmICh2aWRlb0R1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHZpZGVvRHVyYXRpb247XG4gIH1cbiAgcmV0dXJuIGF1ZGlvRHVyYXRpb247XG59XG5cbi8qXG4gIEZvciBSZWZlcmVuY2U6XG4gIGFsaWduZWQoOCkgY2xhc3MgVHJhY2tSdW5Cb3hcbiAgICAgICAgICAgZXh0ZW5kcyBGdWxsQm94KOKAmHRydW7igJksIHZlcnNpb24sIHRyX2ZsYWdzKSB7XG4gICAgIHVuc2lnbmVkIGludCgzMikgIHNhbXBsZV9jb3VudDtcbiAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgb3B0aW9uYWwgZmllbGRzXG4gICAgIHNpZ25lZCBpbnQoMzIpIGRhdGFfb2Zmc2V0O1xuICAgICB1bnNpZ25lZCBpbnQoMzIpICBmaXJzdF9zYW1wbGVfZmxhZ3M7XG4gICAgIC8vIGFsbCBmaWVsZHMgaW4gdGhlIGZvbGxvd2luZyBhcnJheSBhcmUgb3B0aW9uYWxcbiAgICAge1xuICAgICAgICB1bnNpZ25lZCBpbnQoMzIpICBzYW1wbGVfZHVyYXRpb247XG4gICAgICAgIHVuc2lnbmVkIGludCgzMikgIHNhbXBsZV9zaXplO1xuICAgICAgICB1bnNpZ25lZCBpbnQoMzIpICBzYW1wbGVfZmxhZ3NcbiAgICAgICAgaWYgKHZlcnNpb24gPT0gMClcbiAgICAgICAgICAgeyB1bnNpZ25lZCBpbnQoMzIpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgeyBzaWduZWQgaW50KDMyKVxuICAgICB9WyBzYW1wbGVfY291bnQgXVxuICB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmF3RHVyYXRpb25Gcm9tU2FtcGxlcyh0cnVuKTogbnVtYmVyIHtcbiAgY29uc3QgZmxhZ3MgPSByZWFkVWludDMyKHRydW4sIDApO1xuICAvLyBGbGFncyBhcmUgYXQgb2Zmc2V0IDAsIG5vbi1vcHRpb25hbCBzYW1wbGVfY291bnQgaXMgYXQgb2Zmc2V0IDQuIFRoZXJlZm9yZSB3ZSBzdGFydCA4IGJ5dGVzIGluLlxuICAvLyBFYWNoIGZpZWxkIGlzIGFuIGludDMyLCB3aGljaCBpcyA0IGJ5dGVzXG4gIGxldCBvZmZzZXQgPSA4O1xuICAvLyBkYXRhLW9mZnNldC1wcmVzZW50IGZsYWdcbiAgaWYgKGZsYWdzICYgMHgwMDAwMDEpIHtcbiAgICBvZmZzZXQgKz0gNDtcbiAgfVxuICAvLyBmaXJzdC1zYW1wbGUtZmxhZ3MtcHJlc2VudCBmbGFnXG4gIGlmIChmbGFncyAmIDB4MDAwMDA0KSB7XG4gICAgb2Zmc2V0ICs9IDQ7XG4gIH1cblxuICBsZXQgZHVyYXRpb24gPSAwO1xuICBjb25zdCBzYW1wbGVDb3VudCA9IHJlYWRVaW50MzIodHJ1biwgNCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlQ291bnQ7IGkrKykge1xuICAgIC8vIHNhbXBsZS1kdXJhdGlvbi1wcmVzZW50IGZsYWdcbiAgICBpZiAoZmxhZ3MgJiAweDAwMDEwMCkge1xuICAgICAgY29uc3Qgc2FtcGxlRHVyYXRpb24gPSByZWFkVWludDMyKHRydW4sIG9mZnNldCk7XG4gICAgICBkdXJhdGlvbiArPSBzYW1wbGVEdXJhdGlvbjtcbiAgICAgIG9mZnNldCArPSA0O1xuICAgIH1cbiAgICAvLyBzYW1wbGUtc2l6ZS1wcmVzZW50IGZsYWdcbiAgICBpZiAoZmxhZ3MgJiAweDAwMDIwMCkge1xuICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgfVxuICAgIC8vIHNhbXBsZS1mbGFncy1wcmVzZW50IGZsYWdcbiAgICBpZiAoZmxhZ3MgJiAweDAwMDQwMCkge1xuICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgfVxuICAgIC8vIHNhbXBsZS1jb21wb3NpdGlvbi10aW1lLW9mZnNldHMtcHJlc2VudCBmbGFnXG4gICAgaWYgKGZsYWdzICYgMHgwMDA4MDApIHtcbiAgICAgIG9mZnNldCArPSA0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZHVyYXRpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvZmZzZXRTdGFydERUUyhcbiAgaW5pdERhdGE6IEluaXREYXRhLFxuICBmbXA0OiBVaW50OEFycmF5LFxuICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4pIHtcbiAgZmluZEJveChmbXA0LCBbJ21vb2YnLCAndHJhZiddKS5mb3JFYWNoKCh0cmFmKSA9PiB7XG4gICAgZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkuZm9yRWFjaCgodGZoZCkgPT4ge1xuICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICBjb25zdCBpZCA9IHJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICBjb25zdCB0cmFjayA9IGluaXREYXRhW2lkXTtcbiAgICAgIGlmICghdHJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcbiAgICAgIGNvbnN0IHRpbWVzY2FsZSA9IHRyYWNrLnRpbWVzY2FsZSB8fCA5MGUzO1xuICAgICAgLy8gZ2V0IHRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGhlIHRmZHRcbiAgICAgIGZpbmRCb3godHJhZiwgWyd0ZmR0J10pLmZvckVhY2goKHRmZHQpID0+IHtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IHRmZHRbMF07XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRpbWVPZmZzZXQgKiB0aW1lc2NhbGU7XG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICBsZXQgYmFzZU1lZGlhRGVjb2RlVGltZSA9IHJlYWRVaW50MzIodGZkdCwgNCk7XG4gICAgICAgICAgaWYgKHZlcnNpb24gPT09IDApIHtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgLT0gb2Zmc2V0O1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSA9IE1hdGgubWF4KGJhc2VNZWRpYURlY29kZVRpbWUsIDApO1xuICAgICAgICAgICAgd3JpdGVVaW50MzIodGZkdCwgNCwgYmFzZU1lZGlhRGVjb2RlVGltZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSArPSByZWFkVWludDMyKHRmZHQsIDgpO1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSAtPSBvZmZzZXQ7XG4gICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5tYXgoYmFzZU1lZGlhRGVjb2RlVGltZSwgMCk7XG4gICAgICAgICAgICBjb25zdCB1cHBlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAvIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgY29uc3QgbG93ZXIgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgICAgIHdyaXRlVWludDMyKHRmZHQsIDQsIHVwcGVyKTtcbiAgICAgICAgICAgIHdyaXRlVWludDMyKHRmZHQsIDgsIGxvd2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gVE9ETzogQ2hlY2sgaWYgdGhlIGxhc3QgbW9vZittZGF0IHBhaXIgaXMgcGFydCBvZiB0aGUgdmFsaWQgcmFuZ2VcbmV4cG9ydCBmdW5jdGlvbiBzZWdtZW50VmFsaWRSYW5nZShkYXRhOiBVaW50OEFycmF5KTogU2VnbWVudGVkUmFuZ2Uge1xuICBjb25zdCBzZWdtZW50ZWRSYW5nZTogU2VnbWVudGVkUmFuZ2UgPSB7XG4gICAgdmFsaWQ6IG51bGwsXG4gICAgcmVtYWluZGVyOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0IG1vb2ZzID0gZmluZEJveChkYXRhLCBbJ21vb2YnXSk7XG4gIGlmIChtb29mcy5sZW5ndGggPCAyKSB7XG4gICAgc2VnbWVudGVkUmFuZ2UucmVtYWluZGVyID0gZGF0YTtcbiAgICByZXR1cm4gc2VnbWVudGVkUmFuZ2U7XG4gIH1cbiAgY29uc3QgbGFzdCA9IG1vb2ZzW21vb2ZzLmxlbmd0aCAtIDFdO1xuICAvLyBPZmZzZXQgYnkgOCBieXRlczsgZmluZEJveCBvZmZzZXRzIHRoZSBzdGFydCBieSBhcyBtdWNoXG4gIHNlZ21lbnRlZFJhbmdlLnZhbGlkID0gc2xpY2VVaW50OChkYXRhLCAwLCBsYXN0LmJ5dGVPZmZzZXQgLSA4KTtcbiAgc2VnbWVudGVkUmFuZ2UucmVtYWluZGVyID0gc2xpY2VVaW50OChkYXRhLCBsYXN0LmJ5dGVPZmZzZXQgLSA4KTtcbiAgcmV0dXJuIHNlZ21lbnRlZFJhbmdlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlZ21lbnRlZFJhbmdlIHtcbiAgdmFsaWQ6IFVpbnQ4QXJyYXkgfCBudWxsO1xuICByZW1haW5kZXI6IFVpbnQ4QXJyYXkgfCBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kVWludDhBcnJheShcbiAgZGF0YTE6IFVpbnQ4QXJyYXksXG4gIGRhdGEyOiBVaW50OEFycmF5LFxuKTogVWludDhBcnJheSB7XG4gIGNvbnN0IHRlbXAgPSBuZXcgVWludDhBcnJheShkYXRhMS5sZW5ndGggKyBkYXRhMi5sZW5ndGgpO1xuICB0ZW1wLnNldChkYXRhMSk7XG4gIHRlbXAuc2V0KGRhdGEyLCBkYXRhMS5sZW5ndGgpO1xuXG4gIHJldHVybiB0ZW1wO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbXNnUGFyc2luZ0RhdGEge1xuICBzY2hlbWVJZFVyaTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICB0aW1lU2NhbGU6IG51bWJlcjtcbiAgcHJlc2VudGF0aW9uVGltZURlbHRhPzogbnVtYmVyO1xuICBwcmVzZW50YXRpb25UaW1lPzogbnVtYmVyO1xuICBldmVudER1cmF0aW9uOiBudW1iZXI7XG4gIGlkOiBudW1iZXI7XG4gIHBheWxvYWQ6IFVpbnQ4QXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNhbXBsZXMoXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgdHJhY2s6IFBhc3N0aHJvdWdoVHJhY2ssXG4pOiBVc2VyZGF0YVNhbXBsZVtdIHtcbiAgY29uc3Qgc2VpU2FtcGxlcyA9IFtdIGFzIFVzZXJkYXRhU2FtcGxlW107XG4gIGNvbnN0IHZpZGVvRGF0YSA9IHRyYWNrLnNhbXBsZXM7XG4gIGNvbnN0IHRpbWVzY2FsZSA9IHRyYWNrLnRpbWVzY2FsZTtcbiAgY29uc3QgdHJhY2tJZCA9IHRyYWNrLmlkO1xuICBsZXQgaXNIRVZDRmxhdm9yID0gZmFsc2U7XG5cbiAgY29uc3QgbW9vZnMgPSBmaW5kQm94KHZpZGVvRGF0YSwgWydtb29mJ10pO1xuICBtb29mcy5tYXAoKG1vb2YpID0+IHtcbiAgICBjb25zdCBtb29mT2Zmc2V0ID0gbW9vZi5ieXRlT2Zmc2V0IC0gODtcbiAgICBjb25zdCB0cmFmcyA9IGZpbmRCb3gobW9vZiwgWyd0cmFmJ10pO1xuICAgIHRyYWZzLm1hcCgodHJhZikgPT4ge1xuICAgICAgLy8gZ2V0IHRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGhlIHRmZHRcbiAgICAgIGNvbnN0IGJhc2VUaW1lID0gZmluZEJveCh0cmFmLCBbJ3RmZHQnXSkubWFwKCh0ZmR0KSA9PiB7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSB0ZmR0WzBdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVhZFVpbnQzMih0ZmR0LCA0KTtcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICByZXN1bHQgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgIHJlc3VsdCArPSByZWFkVWludDMyKHRmZHQsIDgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQgLyB0aW1lc2NhbGU7XG4gICAgICB9KVswXTtcblxuICAgICAgaWYgKGJhc2VUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGltZU9mZnNldCA9IGJhc2VUaW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkubWFwKCh0ZmhkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gcmVhZFVpbnQzMih0ZmhkLCA0KTtcbiAgICAgICAgY29uc3QgdGZoZEZsYWdzID0gcmVhZFVpbnQzMih0ZmhkLCAwKSAmIDB4ZmZmZmZmO1xuICAgICAgICBjb25zdCBiYXNlRGF0YU9mZnNldFByZXNlbnQgPSAodGZoZEZsYWdzICYgMHgwMDAwMDEpICE9PSAwO1xuICAgICAgICBjb25zdCBzYW1wbGVEZXNjcmlwdGlvbkluZGV4UHJlc2VudCA9ICh0ZmhkRmxhZ3MgJiAweDAwMDAwMikgIT09IDA7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTYW1wbGVEdXJhdGlvblByZXNlbnQgPSAodGZoZEZsYWdzICYgMHgwMDAwMDgpICE9PSAwO1xuICAgICAgICBsZXQgZGVmYXVsdFNhbXBsZUR1cmF0aW9uID0gMDtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNhbXBsZVNpemVQcmVzZW50ID0gKHRmaGRGbGFncyAmIDB4MDAwMDEwKSAhPT0gMDtcbiAgICAgICAgbGV0IGRlZmF1bHRTYW1wbGVTaXplID0gMDtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNhbXBsZUZsYWdzUHJlc2VudCA9ICh0ZmhkRmxhZ3MgJiAweDAwMDAyMCkgIT09IDA7XG4gICAgICAgIGxldCB0ZmhkT2Zmc2V0ID0gODtcblxuICAgICAgICBpZiAoaWQgPT09IHRyYWNrSWQpIHtcbiAgICAgICAgICBpZiAoYmFzZURhdGFPZmZzZXRQcmVzZW50KSB7XG4gICAgICAgICAgICB0ZmhkT2Zmc2V0ICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzYW1wbGVEZXNjcmlwdGlvbkluZGV4UHJlc2VudCkge1xuICAgICAgICAgICAgdGZoZE9mZnNldCArPSA0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVmYXVsdFNhbXBsZUR1cmF0aW9uUHJlc2VudCkge1xuICAgICAgICAgICAgZGVmYXVsdFNhbXBsZUR1cmF0aW9uID0gcmVhZFVpbnQzMih0ZmhkLCB0ZmhkT2Zmc2V0KTtcbiAgICAgICAgICAgIHRmaGRPZmZzZXQgKz0gNDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRlZmF1bHRTYW1wbGVTaXplUHJlc2VudCkge1xuICAgICAgICAgICAgZGVmYXVsdFNhbXBsZVNpemUgPSByZWFkVWludDMyKHRmaGQsIHRmaGRPZmZzZXQpO1xuICAgICAgICAgICAgdGZoZE9mZnNldCArPSA0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVmYXVsdFNhbXBsZUZsYWdzUHJlc2VudCkge1xuICAgICAgICAgICAgdGZoZE9mZnNldCArPSA0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhY2sudHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgaXNIRVZDRmxhdm9yID0gaXNIRVZDKHRyYWNrLmNvZGVjKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaW5kQm94KHRyYWYsIFsndHJ1biddKS5tYXAoKHRydW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSB0cnVuWzBdO1xuICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSByZWFkVWludDMyKHRydW4sIDApICYgMHhmZmZmZmY7XG4gICAgICAgICAgICBjb25zdCBkYXRhT2Zmc2V0UHJlc2VudCA9IChmbGFncyAmIDB4MDAwMDAxKSAhPT0gMDtcbiAgICAgICAgICAgIGxldCBkYXRhT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0U2FtcGxlRmxhZ3NQcmVzZW50ID0gKGZsYWdzICYgMHgwMDAwMDQpICE9PSAwO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlRHVyYXRpb25QcmVzZW50ID0gKGZsYWdzICYgMHgwMDAxMDApICE9PSAwO1xuICAgICAgICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVNpemVQcmVzZW50ID0gKGZsYWdzICYgMHgwMDAyMDApICE9PSAwO1xuICAgICAgICAgICAgbGV0IHNhbXBsZVNpemUgPSAwO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlRmxhZ3NQcmVzZW50ID0gKGZsYWdzICYgMHgwMDA0MDApICE9PSAwO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlQ29tcG9zaXRpb25PZmZzZXRzUHJlc2VudCA9IChmbGFncyAmIDB4MDAwODAwKSAhPT0gMDtcbiAgICAgICAgICAgIGxldCBjb21wb3NpdGlvbk9mZnNldCA9IDA7XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVDb3VudCA9IHJlYWRVaW50MzIodHJ1biwgNCk7XG4gICAgICAgICAgICBsZXQgdHJ1bk9mZnNldCA9IDg7IC8vIHBhc3QgdmVyc2lvbiwgZmxhZ3MsIGFuZCBzYW1wbGUgY291bnRcblxuICAgICAgICAgICAgaWYgKGRhdGFPZmZzZXRQcmVzZW50KSB7XG4gICAgICAgICAgICAgIGRhdGFPZmZzZXQgPSByZWFkVWludDMyKHRydW4sIHRydW5PZmZzZXQpO1xuICAgICAgICAgICAgICB0cnVuT2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RTYW1wbGVGbGFnc1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgdHJ1bk9mZnNldCArPSA0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2FtcGxlT2Zmc2V0ID0gZGF0YU9mZnNldCArIG1vb2ZPZmZzZXQ7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGl4ID0gMDsgaXggPCBzYW1wbGVDb3VudDsgaXgrKykge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlRHVyYXRpb25QcmVzZW50KSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSByZWFkVWludDMyKHRydW4sIHRydW5PZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRydW5PZmZzZXQgKz0gNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IGRlZmF1bHRTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2FtcGxlU2l6ZVByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVTaXplID0gcmVhZFVpbnQzMih0cnVuLCB0cnVuT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0cnVuT2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlU2l6ZSA9IGRlZmF1bHRTYW1wbGVTaXplO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzYW1wbGVGbGFnc1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnVuT2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHNhbXBsZUNvbXBvc2l0aW9uT2Zmc2V0c1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgY29tcG9zaXRpb25PZmZzZXQgPSByZWFkVWludDMyKHRydW4sIHRydW5PZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb21wb3NpdGlvbk9mZnNldCA9IHJlYWRTaW50MzIodHJ1biwgdHJ1bk9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRydW5PZmZzZXQgKz0gNDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHJhY2sudHlwZSA9PT0gRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbHVUb3RhbFNpemUgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuYWx1VG90YWxTaXplIDwgc2FtcGxlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmFsdVNpemUgPSByZWFkVWludDMyKHZpZGVvRGF0YSwgc2FtcGxlT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIHNhbXBsZU9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgaWYgKGlzU0VJTWVzc2FnZShpc0hFVkNGbGF2b3IsIHZpZGVvRGF0YVtzYW1wbGVPZmZzZXRdKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdmlkZW9EYXRhLnN1YmFycmF5KFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVPZmZzZXQgKyBuYWx1U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VTRUlNZXNzYWdlRnJvbU5BTHUoXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBpc0hFVkNGbGF2b3IgPyAyIDogMSxcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lT2Zmc2V0ICsgY29tcG9zaXRpb25PZmZzZXQgLyB0aW1lc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VpU2FtcGxlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHNhbXBsZU9mZnNldCArPSBuYWx1U2l6ZTtcbiAgICAgICAgICAgICAgICAgIG5hbHVUb3RhbFNpemUgKz0gbmFsdVNpemUgKyA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRpbWVPZmZzZXQgKz0gc2FtcGxlRHVyYXRpb24gLyB0aW1lc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHNlaVNhbXBsZXM7XG59XG5cbmZ1bmN0aW9uIGlzSEVWQyhjb2RlYzogc3RyaW5nKSB7XG4gIGlmICghY29kZWMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZGVsaW1pdCA9IGNvZGVjLmluZGV4T2YoJy4nKTtcbiAgY29uc3QgYmFzZUNvZGVjID0gZGVsaW1pdCA8IDAgPyBjb2RlYyA6IGNvZGVjLnN1YnN0cmluZygwLCBkZWxpbWl0KTtcbiAgcmV0dXJuIChcbiAgICBiYXNlQ29kZWMgPT09ICdodmMxJyB8fFxuICAgIGJhc2VDb2RlYyA9PT0gJ2hldjEnIHx8XG4gICAgLy8gRG9sYnkgVmlzaW9uXG4gICAgYmFzZUNvZGVjID09PSAnZHZoMScgfHxcbiAgICBiYXNlQ29kZWMgPT09ICdkdmhlJ1xuICApO1xufVxuXG5mdW5jdGlvbiBpc1NFSU1lc3NhZ2UoaXNIRVZDRmxhdm9yOiBib29sZWFuLCBuYWx1SGVhZGVyOiBudW1iZXIpIHtcbiAgaWYgKGlzSEVWQ0ZsYXZvcikge1xuICAgIGNvbnN0IG5hbHVUeXBlID0gKG5hbHVIZWFkZXIgPj4gMSkgJiAweDNmO1xuICAgIHJldHVybiBuYWx1VHlwZSA9PT0gMzkgfHwgbmFsdVR5cGUgPT09IDQwO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5hbHVUeXBlID0gbmFsdUhlYWRlciAmIDB4MWY7XG4gICAgcmV0dXJuIG5hbHVUeXBlID09PSA2O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNFSU1lc3NhZ2VGcm9tTkFMdShcbiAgdW5lc2NhcGVkRGF0YTogVWludDhBcnJheSxcbiAgaGVhZGVyU2l6ZTogbnVtYmVyLFxuICBwdHM6IG51bWJlcixcbiAgc2FtcGxlczogVXNlcmRhdGFTYW1wbGVbXSxcbikge1xuICBjb25zdCBkYXRhID0gZGlzY2FyZEVQQih1bmVzY2FwZWREYXRhKTtcbiAgbGV0IHNlaVB0ciA9IDA7XG4gIC8vIHNraXAgbmFsIGhlYWRlclxuICBzZWlQdHIgKz0gaGVhZGVyU2l6ZTtcbiAgbGV0IHBheWxvYWRUeXBlID0gMDtcbiAgbGV0IHBheWxvYWRTaXplID0gMDtcbiAgbGV0IGIgPSAwO1xuXG4gIHdoaWxlIChzZWlQdHIgPCBkYXRhLmxlbmd0aCkge1xuICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICBkbyB7XG4gICAgICBpZiAoc2VpUHRyID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYiA9IGRhdGFbc2VpUHRyKytdO1xuICAgICAgcGF5bG9hZFR5cGUgKz0gYjtcbiAgICB9IHdoaWxlIChiID09PSAweGZmKTtcblxuICAgIC8vIFBhcnNlIHBheWxvYWQgc2l6ZS5cbiAgICBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgZG8ge1xuICAgICAgaWYgKHNlaVB0ciA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGIgPSBkYXRhW3NlaVB0cisrXTtcbiAgICAgIHBheWxvYWRTaXplICs9IGI7XG4gICAgfSB3aGlsZSAoYiA9PT0gMHhmZik7XG5cbiAgICBjb25zdCBsZWZ0T3ZlciA9IGRhdGEubGVuZ3RoIC0gc2VpUHRyO1xuICAgIC8vIENyZWF0ZSBhIHZhcmlhYmxlIHRvIHByb2Nlc3MgdGhlIHBheWxvYWRcbiAgICBsZXQgcGF5UHRyID0gc2VpUHRyO1xuXG4gICAgLy8gSW5jcmVtZW50IHRoZSBzZWlQdHIgdG8gdGhlIGVuZCBvZiB0aGUgcGF5bG9hZFxuICAgIGlmIChwYXlsb2FkU2l6ZSA8IGxlZnRPdmVyKSB7XG4gICAgICBzZWlQdHIgKz0gcGF5bG9hZFNpemU7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkU2l6ZSA+IGxlZnRPdmVyKSB7XG4gICAgICAvLyBTb21lIHR5cGUgb2YgY29ycnVwdGlvbiBoYXMgaGFwcGVuZWQ/XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIGBNYWxmb3JtZWQgU0VJIHBheWxvYWQuICR7cGF5bG9hZFNpemV9IGlzIHRvbyBzbWFsbCwgb25seSAke2xlZnRPdmVyfSBieXRlcyBsZWZ0IHRvIHBhcnNlLmAsXG4gICAgICApO1xuICAgICAgLy8gV2UgbWlnaHQgYmUgYWJsZSB0byBwYXJzZSBzb21lIGRhdGEsIGJ1dCBsZXQncyBiZSBzYWZlIGFuZCBpZ25vcmUgaXQuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAocGF5bG9hZFR5cGUgPT09IDQpIHtcbiAgICAgIGNvbnN0IGNvdW50cnlDb2RlID0gZGF0YVtwYXlQdHIrK107XG4gICAgICBpZiAoY291bnRyeUNvZGUgPT09IDE4MSkge1xuICAgICAgICBjb25zdCBwcm92aWRlckNvZGUgPSByZWFkVWludDE2KGRhdGEsIHBheVB0cik7XG4gICAgICAgIHBheVB0ciArPSAyO1xuXG4gICAgICAgIGlmIChwcm92aWRlckNvZGUgPT09IDQ5KSB7XG4gICAgICAgICAgY29uc3QgdXNlclN0cnVjdHVyZSA9IHJlYWRVaW50MzIoZGF0YSwgcGF5UHRyKTtcbiAgICAgICAgICBwYXlQdHIgKz0gNDtcblxuICAgICAgICAgIGlmICh1c2VyU3RydWN0dXJlID09PSAweDQ3NDEzOTM0KSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YVR5cGUgPSBkYXRhW3BheVB0cisrXTtcblxuICAgICAgICAgICAgLy8gUmF3IENFQS02MDggYnl0ZXMgd3JhcHBlZCBpbiBDRUEtNzA4IHBhY2tldFxuICAgICAgICAgICAgaWYgKHVzZXJEYXRhVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgICBjb25zdCBmaXJzdEJ5dGUgPSBkYXRhW3BheVB0cisrXTtcbiAgICAgICAgICAgICAgY29uc3QgdG90YWxDQ3MgPSAweDFmICYgZmlyc3RCeXRlO1xuICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gMHg0MCAmIGZpcnN0Qnl0ZTtcbiAgICAgICAgICAgICAgY29uc3QgdG90YWxCeXRlcyA9IGVuYWJsZWQgPyAyICsgdG90YWxDQ3MgKiAzIDogMDtcbiAgICAgICAgICAgICAgY29uc3QgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7XG4gICAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYnl0ZUFycmF5WzBdID0gZmlyc3RCeXRlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdG90YWxCeXRlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBieXRlQXJyYXlbaV0gPSBkYXRhW3BheVB0cisrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IHVzZXJEYXRhVHlwZSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkVHlwZSxcbiAgICAgICAgICAgICAgICBwdHMsXG4gICAgICAgICAgICAgICAgYnl0ZXM6IGJ5dGVBcnJheSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkVHlwZSA9PT0gNSkge1xuICAgICAgaWYgKHBheWxvYWRTaXplID4gMTYpIHtcbiAgICAgICAgY29uc3QgdXVpZFN0ckFycmF5OiBBcnJheTxzdHJpbmc+ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGIgPSBkYXRhW3BheVB0cisrXS50b1N0cmluZygxNik7XG4gICAgICAgICAgdXVpZFN0ckFycmF5LnB1c2goYi5sZW5ndGggPT0gMSA/ICcwJyArIGIgOiBiKTtcblxuICAgICAgICAgIGlmIChpID09PSAzIHx8IGkgPT09IDUgfHwgaSA9PT0gNyB8fCBpID09PSA5KSB7XG4gICAgICAgICAgICB1dWlkU3RyQXJyYXkucHVzaCgnLScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGggPSBwYXlsb2FkU2l6ZSAtIDE2O1xuICAgICAgICBjb25zdCB1c2VyRGF0YUJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHVzZXJEYXRhQnl0ZXNbaV0gPSBkYXRhW3BheVB0cisrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgcGF5bG9hZFR5cGUsXG4gICAgICAgICAgcHRzLFxuICAgICAgICAgIHV1aWQ6IHV1aWRTdHJBcnJheS5qb2luKCcnKSxcbiAgICAgICAgICB1c2VyRGF0YTogdXRmOEFycmF5VG9TdHIodXNlckRhdGFCeXRlcyksXG4gICAgICAgICAgdXNlckRhdGFCeXRlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogcmVtb3ZlIEVtdWxhdGlvbiBQcmV2ZW50aW9uIGJ5dGVzIGZyb20gYSBSQlNQXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNjYXJkRVBCKGRhdGE6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgbGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoO1xuICBjb25zdCBFUEJQb3NpdGlvbnMgPSBbXSBhcyBBcnJheTxudW1iZXI+O1xuICBsZXQgaSA9IDE7XG5cbiAgLy8gRmluZCBhbGwgYEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzYFxuICB3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcbiAgICBpZiAoZGF0YVtpXSA9PT0gMCAmJiBkYXRhW2kgKyAxXSA9PT0gMCAmJiBkYXRhW2kgKyAyXSA9PT0gMHgwMykge1xuICAgICAgRVBCUG9zaXRpb25zLnB1c2goaSArIDIpO1xuICAgICAgaSArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgbm8gRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXMgd2VyZSBmb3VuZCBqdXN0IHJldHVybiB0aGUgb3JpZ2luYWxcbiAgLy8gYXJyYXlcbiAgaWYgKEVQQlBvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIG5ldyBhcnJheSB0byBob2xkIHRoZSBOQUwgdW5pdCBkYXRhXG4gIGNvbnN0IG5ld0xlbmd0aCA9IGxlbmd0aCAtIEVQQlBvc2l0aW9ucy5sZW5ndGg7XG4gIGNvbnN0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuICBsZXQgc291cmNlSW5kZXggPSAwO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBuZXdMZW5ndGg7IHNvdXJjZUluZGV4KyssIGkrKykge1xuICAgIGlmIChzb3VyY2VJbmRleCA9PT0gRVBCUG9zaXRpb25zWzBdKSB7XG4gICAgICAvLyBTa2lwIHRoaXMgYnl0ZVxuICAgICAgc291cmNlSW5kZXgrKztcbiAgICAgIC8vIFJlbW92ZSB0aGlzIHBvc2l0aW9uIGluZGV4XG4gICAgICBFUEJQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICB9XG4gICAgbmV3RGF0YVtpXSA9IGRhdGFbc291cmNlSW5kZXhdO1xuICB9XG4gIHJldHVybiBuZXdEYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFbXNnKGRhdGE6IFVpbnQ4QXJyYXkpOiBJRW1zZ1BhcnNpbmdEYXRhIHtcbiAgY29uc3QgdmVyc2lvbiA9IGRhdGFbMF07XG4gIGxldCBzY2hlbWVJZFVyaTogc3RyaW5nID0gJyc7XG4gIGxldCB2YWx1ZTogc3RyaW5nID0gJyc7XG4gIGxldCB0aW1lU2NhbGU6IG51bWJlciA9IDA7XG4gIGxldCBwcmVzZW50YXRpb25UaW1lRGVsdGE6IG51bWJlciA9IDA7XG4gIGxldCBwcmVzZW50YXRpb25UaW1lOiBudW1iZXIgPSAwO1xuICBsZXQgZXZlbnREdXJhdGlvbjogbnVtYmVyID0gMDtcbiAgbGV0IGlkOiBudW1iZXIgPSAwO1xuICBsZXQgb2Zmc2V0OiBudW1iZXIgPSAwO1xuXG4gIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgd2hpbGUgKGJpbjJzdHIoZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDEpKSAhPT0gJ1xcMCcpIHtcbiAgICAgIHNjaGVtZUlkVXJpICs9IGJpbjJzdHIoZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDEpKTtcbiAgICAgIG9mZnNldCArPSAxO1xuICAgIH1cblxuICAgIHNjaGVtZUlkVXJpICs9IGJpbjJzdHIoZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDEpKTtcbiAgICBvZmZzZXQgKz0gMTtcblxuICAgIHdoaWxlIChiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSkgIT09ICdcXDAnKSB7XG4gICAgICB2YWx1ZSArPSBiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSk7XG4gICAgICBvZmZzZXQgKz0gMTtcbiAgICB9XG5cbiAgICB2YWx1ZSArPSBiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSk7XG4gICAgb2Zmc2V0ICs9IDE7XG5cbiAgICB0aW1lU2NhbGUgPSByZWFkVWludDMyKGRhdGEsIDEyKTtcbiAgICBwcmVzZW50YXRpb25UaW1lRGVsdGEgPSByZWFkVWludDMyKGRhdGEsIDE2KTtcbiAgICBldmVudER1cmF0aW9uID0gcmVhZFVpbnQzMihkYXRhLCAyMCk7XG4gICAgaWQgPSByZWFkVWludDMyKGRhdGEsIDI0KTtcbiAgICBvZmZzZXQgPSAyODtcbiAgfSBlbHNlIGlmICh2ZXJzaW9uID09PSAxKSB7XG4gICAgb2Zmc2V0ICs9IDQ7XG4gICAgdGltZVNjYWxlID0gcmVhZFVpbnQzMihkYXRhLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSA0O1xuICAgIGNvbnN0IGxlZnRQcmVzZW50YXRpb25UaW1lID0gcmVhZFVpbnQzMihkYXRhLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSA0O1xuICAgIGNvbnN0IHJpZ2h0UHJlc2VudGF0aW9uVGltZSA9IHJlYWRVaW50MzIoZGF0YSwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gNDtcbiAgICBwcmVzZW50YXRpb25UaW1lID0gMiAqKiAzMiAqIGxlZnRQcmVzZW50YXRpb25UaW1lICsgcmlnaHRQcmVzZW50YXRpb25UaW1lO1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIocHJlc2VudGF0aW9uVGltZSkpIHtcbiAgICAgIHByZXNlbnRhdGlvblRpbWUgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAnUHJlc2VudGF0aW9uIHRpbWUgZXhjZWVkcyBzYWZlIGludGVnZXIgbGltaXQgYW5kIHdyYXBwZWQgdG8gbWF4IHNhZmUgaW50ZWdlciBpbiBwYXJzaW5nIGVtc2cgYm94JyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZXZlbnREdXJhdGlvbiA9IHJlYWRVaW50MzIoZGF0YSwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gNDtcbiAgICBpZCA9IHJlYWRVaW50MzIoZGF0YSwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gNDtcblxuICAgIHdoaWxlIChiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSkgIT09ICdcXDAnKSB7XG4gICAgICBzY2hlbWVJZFVyaSArPSBiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSk7XG4gICAgICBvZmZzZXQgKz0gMTtcbiAgICB9XG5cbiAgICBzY2hlbWVJZFVyaSArPSBiaW4yc3RyKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyAxKSk7XG4gICAgb2Zmc2V0ICs9IDE7XG5cbiAgICB3aGlsZSAoYmluMnN0cihkYXRhLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgMSkpICE9PSAnXFwwJykge1xuICAgICAgdmFsdWUgKz0gYmluMnN0cihkYXRhLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgMSkpO1xuICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgfVxuXG4gICAgdmFsdWUgKz0gYmluMnN0cihkYXRhLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgMSkpO1xuICAgIG9mZnNldCArPSAxO1xuICB9XG4gIGNvbnN0IHBheWxvYWQgPSBkYXRhLnN1YmFycmF5KG9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcblxuICByZXR1cm4ge1xuICAgIHNjaGVtZUlkVXJpLFxuICAgIHZhbHVlLFxuICAgIHRpbWVTY2FsZSxcbiAgICBwcmVzZW50YXRpb25UaW1lLFxuICAgIHByZXNlbnRhdGlvblRpbWVEZWx0YSxcbiAgICBldmVudER1cmF0aW9uLFxuICAgIGlkLFxuICAgIHBheWxvYWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtcDRCb3godHlwZTogQXJyYXlMaWtlPG51bWJlcj4sIC4uLnBheWxvYWQ6IFVpbnQ4QXJyYXlbXSkge1xuICBjb25zdCBsZW4gPSBwYXlsb2FkLmxlbmd0aDtcbiAgbGV0IHNpemUgPSA4O1xuICBsZXQgaSA9IGxlbjtcbiAgd2hpbGUgKGktLSkge1xuICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICByZXN1bHRbMF0gPSAoc2l6ZSA+PiAyNCkgJiAweGZmO1xuICByZXN1bHRbMV0gPSAoc2l6ZSA+PiAxNikgJiAweGZmO1xuICByZXN1bHRbMl0gPSAoc2l6ZSA+PiA4KSAmIDB4ZmY7XG4gIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICByZXN1bHQuc2V0KHR5cGUsIDQpO1xuICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICBzaXplICs9IHBheWxvYWRbaV0uYnl0ZUxlbmd0aDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbXA0cHNzaChcbiAgc3lzdGVtSWQ6IFVpbnQ4QXJyYXksXG4gIGtleWlkczogQXJyYXk8VWludDhBcnJheT4gfCBudWxsLFxuICBkYXRhOiBVaW50OEFycmF5LFxuKSB7XG4gIGlmIChzeXN0ZW1JZC5ieXRlTGVuZ3RoICE9PSAxNikge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN5c3RlbSBpZCcpO1xuICB9XG4gIGxldCB2ZXJzaW9uO1xuICBsZXQga2lkcztcbiAgaWYgKGtleWlkcykge1xuICAgIHZlcnNpb24gPSAxO1xuICAgIGtpZHMgPSBuZXcgVWludDhBcnJheShrZXlpZHMubGVuZ3RoICogMTYpO1xuICAgIGZvciAobGV0IGl4ID0gMDsgaXggPCBrZXlpZHMubGVuZ3RoOyBpeCsrKSB7XG4gICAgICBjb25zdCBrID0ga2V5aWRzW2l4XTsgLy8gdWludDhhcnJheVxuICAgICAgaWYgKGsuYnl0ZUxlbmd0aCAhPT0gMTYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQga2V5Jyk7XG4gICAgICB9XG4gICAgICBraWRzLnNldChrLCBpeCAqIDE2KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmVyc2lvbiA9IDA7XG4gICAga2lkcyA9IG5ldyBVaW50OEFycmF5KCk7XG4gIH1cbiAgbGV0IGtpZENvdW50O1xuICBpZiAodmVyc2lvbiA+IDApIHtcbiAgICBraWRDb3VudCA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgIGlmIChrZXlpZHMhLmxlbmd0aCA+IDApIHtcbiAgICAgIG5ldyBEYXRhVmlldyhraWRDb3VudC5idWZmZXIpLnNldFVpbnQzMigwLCBrZXlpZHMhLmxlbmd0aCwgZmFsc2UpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBraWRDb3VudCA9IG5ldyBVaW50OEFycmF5KCk7XG4gIH1cbiAgY29uc3QgZGF0YVNpemUgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgaWYgKGRhdGEgJiYgZGF0YS5ieXRlTGVuZ3RoID4gMCkge1xuICAgIG5ldyBEYXRhVmlldyhkYXRhU2l6ZS5idWZmZXIpLnNldFVpbnQzMigwLCBkYXRhLmJ5dGVMZW5ndGgsIGZhbHNlKTtcbiAgfVxuICByZXR1cm4gbXA0Qm94KFxuICAgIFsxMTIsIDExNSwgMTE1LCAxMDRdLFxuICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgIHZlcnNpb24sXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIEZsYWdzXG4gICAgXSksXG4gICAgc3lzdGVtSWQsIC8vIDE2IGJ5dGVzXG4gICAga2lkQ291bnQsXG4gICAga2lkcyxcbiAgICBkYXRhU2l6ZSxcbiAgICBkYXRhIHx8IG5ldyBVaW50OEFycmF5KCksXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBzc2goaW5pdERhdGE6IEFycmF5QnVmZmVyKSB7XG4gIGlmICghKGluaXREYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8IGluaXREYXRhLmJ5dGVMZW5ndGggPCAzMikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHN5c3RlbUlkOiAnJyxcbiAgICBraWRzOiBudWxsIGFzIG51bGwgfCBVaW50OEFycmF5W10sXG4gICAgZGF0YTogbnVsbCBhcyBudWxsIHwgVWludDhBcnJheSxcbiAgfTtcbiAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhpbml0RGF0YSk7XG4gIGNvbnN0IGJveFNpemUgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgaWYgKGluaXREYXRhLmJ5dGVMZW5ndGggIT09IGJveFNpemUgJiYgYm94U2l6ZSA+IDQ0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdHlwZSA9IHZpZXcuZ2V0VWludDMyKDQpO1xuICBpZiAodHlwZSAhPT0gMHg3MDczNzM2OCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJlc3VsdC52ZXJzaW9uID0gdmlldy5nZXRVaW50MzIoOCkgPj4+IDI0O1xuICBpZiAocmVzdWx0LnZlcnNpb24gPiAxKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmVzdWx0LnN5c3RlbUlkID0gSGV4LmhleER1bXAobmV3IFVpbnQ4QXJyYXkoaW5pdERhdGEsIDEyLCAxNikpO1xuICBjb25zdCBkYXRhU2l6ZU9yS2lkQ291bnQgPSB2aWV3LmdldFVpbnQzMigyOCk7XG4gIGlmIChyZXN1bHQudmVyc2lvbiA9PT0gMCkge1xuICAgIGlmIChib3hTaXplIC0gMzIgPCBkYXRhU2l6ZU9yS2lkQ291bnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuZGF0YSA9IG5ldyBVaW50OEFycmF5KGluaXREYXRhLCAzMiwgZGF0YVNpemVPcktpZENvdW50KTtcbiAgfSBlbHNlIGlmIChyZXN1bHQudmVyc2lvbiA9PT0gMSkge1xuICAgIHJlc3VsdC5raWRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhU2l6ZU9yS2lkQ291bnQ7IGkrKykge1xuICAgICAgcmVzdWx0LmtpZHMucHVzaChuZXcgVWludDhBcnJheShpbml0RGF0YSwgMzIgKyBpICogMTYsIDE2KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgY2hhbmdlRW5kaWFubmVzcyxcbiAgY29udmVydERhdGFVcmlUb0FycmF5Qnl0ZXMsXG59IGZyb20gJy4uL3V0aWxzL2tleXN5c3RlbS11dGlsJztcbmltcG9ydCB7IEtleVN5c3RlbUZvcm1hdHMgfSBmcm9tICcuLi91dGlscy9tZWRpYWtleXMtaGVscGVyJztcbmltcG9ydCB7IG1wNHBzc2ggfSBmcm9tICcuLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4uL3V0aWxzL251bWVyaWMtZW5jb2RpbmctdXRpbHMnO1xuXG5sZXQga2V5VXJpVG9LZXlJZE1hcDogeyBbdXJpOiBzdHJpbmddOiBVaW50OEFycmF5IH0gPSB7fTtcblxuZXhwb3J0IGludGVyZmFjZSBEZWNyeXB0RGF0YSB7XG4gIHVyaTogc3RyaW5nO1xuICBtZXRob2Q6IHN0cmluZztcbiAga2V5Rm9ybWF0OiBzdHJpbmc7XG4gIGtleUZvcm1hdFZlcnNpb25zOiBudW1iZXJbXTtcbiAgaXY6IFVpbnQ4QXJyYXkgfCBudWxsO1xuICBrZXk6IFVpbnQ4QXJyYXkgfCBudWxsO1xuICBrZXlJZDogVWludDhBcnJheSB8IG51bGw7XG4gIHBzc2g6IFVpbnQ4QXJyYXkgfCBudWxsO1xuICBlbmNyeXB0ZWQ6IGJvb2xlYW47XG4gIGlzQ29tbW9uRW5jcnlwdGlvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIExldmVsS2V5IGltcGxlbWVudHMgRGVjcnlwdERhdGEge1xuICBwdWJsaWMgcmVhZG9ubHkgdXJpOiBzdHJpbmc7XG4gIHB1YmxpYyByZWFkb25seSBtZXRob2Q6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IGtleUZvcm1hdDogc3RyaW5nO1xuICBwdWJsaWMgcmVhZG9ubHkga2V5Rm9ybWF0VmVyc2lvbnM6IG51bWJlcltdO1xuICBwdWJsaWMgcmVhZG9ubHkgZW5jcnlwdGVkOiBib29sZWFuO1xuICBwdWJsaWMgcmVhZG9ubHkgaXNDb21tb25FbmNyeXB0aW9uOiBib29sZWFuO1xuICBwdWJsaWMgaXY6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIGtleTogVWludDhBcnJheSB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMga2V5SWQ6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHBzc2g6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcblxuICBzdGF0aWMgY2xlYXJLZXlVcmlUb0tleUlkTWFwKCkge1xuICAgIGtleVVyaVRvS2V5SWRNYXAgPSB7fTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1ldGhvZDogc3RyaW5nLFxuICAgIHVyaTogc3RyaW5nLFxuICAgIGZvcm1hdDogc3RyaW5nLFxuICAgIGZvcm1hdHZlcnNpb25zOiBudW1iZXJbXSA9IFsxXSxcbiAgICBpdjogVWludDhBcnJheSB8IG51bGwgPSBudWxsLFxuICApIHtcbiAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICB0aGlzLmtleUZvcm1hdCA9IGZvcm1hdDtcbiAgICB0aGlzLmtleUZvcm1hdFZlcnNpb25zID0gZm9ybWF0dmVyc2lvbnM7XG4gICAgdGhpcy5pdiA9IGl2O1xuICAgIHRoaXMuZW5jcnlwdGVkID0gbWV0aG9kID8gbWV0aG9kICE9PSAnTk9ORScgOiBmYWxzZTtcbiAgICB0aGlzLmlzQ29tbW9uRW5jcnlwdGlvbiA9IHRoaXMuZW5jcnlwdGVkICYmIG1ldGhvZCAhPT0gJ0FFUy0xMjgnO1xuICB9XG5cbiAgcHVibGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICAgIC8vIElmIGl0J3MgU2VnbWVudCBlbmNyeXB0aW9uIG9yIE5vIGVuY3J5cHRpb24sIGp1c3Qgc2VsZWN0IHRoYXQga2V5IHN5c3RlbVxuICAgIGlmICh0aGlzLm1ldGhvZCkge1xuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSAnQUVTLTEyOCcgfHwgdGhpcy5tZXRob2QgPT09ICdOT05FJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtleUZvcm1hdCA9PT0gJ2lkZW50aXR5Jykge1xuICAgICAgICAvLyBNYWludGFpbiBzdXBwb3J0IGZvciBjbGVhciBTQU1QTEUtQUVTIHdpdGggTVBFRy0zIFRTXG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZCA9PT0gJ1NBTVBMRS1BRVMnO1xuICAgICAgfSBlbHNlIGlmIChfX1VTRV9FTUVfRFJNX18pIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmtleUZvcm1hdCkge1xuICAgICAgICAgIGNhc2UgS2V5U3lzdGVtRm9ybWF0cy5GQUlSUExBWTpcbiAgICAgICAgICBjYXNlIEtleVN5c3RlbUZvcm1hdHMuV0lERVZJTkU6XG4gICAgICAgICAgY2FzZSBLZXlTeXN0ZW1Gb3JtYXRzLlBMQVlSRUFEWTpcbiAgICAgICAgICBjYXNlIEtleVN5c3RlbUZvcm1hdHMuQ0xFQVJLRVk6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ0lTTy0yMzAwMS03JyxcbiAgICAgICAgICAgICAgICAnU0FNUExFLUFFUycsXG4gICAgICAgICAgICAgICAgJ1NBTVBMRS1BRVMtQ0VOQycsXG4gICAgICAgICAgICAgICAgJ1NBTVBMRS1BRVMtQ1RSJyxcbiAgICAgICAgICAgICAgXS5pbmRleE9mKHRoaXMubWV0aG9kKSAhPT0gLTFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGdldERlY3J5cHREYXRhKHNuOiBudW1iZXIgfCAnaW5pdFNlZ21lbnQnKTogTGV2ZWxLZXkgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMuZW5jcnlwdGVkIHx8ICF0aGlzLnVyaSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWV0aG9kID09PSAnQUVTLTEyOCcgJiYgdGhpcy51cmkgJiYgIXRoaXMuaXYpIHtcbiAgICAgIGlmICh0eXBlb2Ygc24gIT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIFdlIGFyZSBmZXRjaGluZyBkZWNyeXB0aW9uIGRhdGEgZm9yIGEgaW5pdGlhbGl6YXRpb24gc2VnbWVudFxuICAgICAgICAvLyBJZiB0aGUgc2VnbWVudCB3YXMgZW5jcnlwdGVkIHdpdGggQUVTLTEyOFxuICAgICAgICAvLyBJdCBtdXN0IGhhdmUgYW4gSVYgZGVmaW5lZC4gV2UgY2Fubm90IHN1YnN0aXR1dGUgdGhlIFNlZ21lbnQgTnVtYmVyIGluLlxuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09ICdBRVMtMTI4JyAmJiAhdGhpcy5pdikge1xuICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYG1pc3NpbmcgSVYgZm9yIGluaXRpYWxpemF0aW9uIHNlZ21lbnQgd2l0aCBtZXRob2Q9XCIke3RoaXMubWV0aG9kfVwiIC0gY29tcGxpYW5jZSBpc3N1ZWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHBsaWNpdGx5IHNldCBzbiB0byByZXN1bHRpbmcgdmFsdWUgZnJvbSBpbXBsaWNpdCBjb252ZXJzaW9ucyAnaW5pdFNlZ21lbnQnIHZhbHVlcyBmb3IgSVYgZ2VuZXJhdGlvbi5cbiAgICAgICAgc24gPSAwO1xuICAgICAgfVxuICAgICAgY29uc3QgaXYgPSBjcmVhdGVJbml0aWFsaXphdGlvblZlY3Rvcihzbik7XG4gICAgICBjb25zdCBkZWNyeXB0ZGF0YSA9IG5ldyBMZXZlbEtleShcbiAgICAgICAgdGhpcy5tZXRob2QsXG4gICAgICAgIHRoaXMudXJpLFxuICAgICAgICAnaWRlbnRpdHknLFxuICAgICAgICB0aGlzLmtleUZvcm1hdFZlcnNpb25zLFxuICAgICAgICBpdixcbiAgICAgICk7XG4gICAgICByZXR1cm4gZGVjcnlwdGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKCFfX1VTRV9FTUVfRFJNX18pIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUga2V5SWQgaWYgcG9zc2libGVcbiAgICBjb25zdCBrZXlCeXRlcyA9IGNvbnZlcnREYXRhVXJpVG9BcnJheUJ5dGVzKHRoaXMudXJpKTtcbiAgICBpZiAoa2V5Qnl0ZXMpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5rZXlGb3JtYXQpIHtcbiAgICAgICAgY2FzZSBLZXlTeXN0ZW1Gb3JtYXRzLldJREVWSU5FOlxuICAgICAgICAgIHRoaXMucHNzaCA9IGtleUJ5dGVzO1xuICAgICAgICAgIC8vIEluIGNhc2Ugb2Ygd2lkZXZpbmUga2V5SUQgaXMgZW1iZWRkZWQgaW4gUFNTSCBib3guIFJlYWQgS2V5IElELlxuICAgICAgICAgIGlmIChrZXlCeXRlcy5sZW5ndGggPj0gMjIpIHtcbiAgICAgICAgICAgIHRoaXMua2V5SWQgPSBrZXlCeXRlcy5zdWJhcnJheShcbiAgICAgICAgICAgICAga2V5Qnl0ZXMubGVuZ3RoIC0gMjIsXG4gICAgICAgICAgICAgIGtleUJ5dGVzLmxlbmd0aCAtIDYsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBLZXlTeXN0ZW1Gb3JtYXRzLlBMQVlSRUFEWToge1xuICAgICAgICAgIGNvbnN0IFBsYXlSZWFkeUtleVN5c3RlbVVVSUQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDlhLCAweDA0LCAweGYwLCAweDc5LCAweDk4LCAweDQwLCAweDQyLCAweDg2LCAweGFiLCAweDkyLCAweGU2LFxuICAgICAgICAgICAgMHg1YiwgMHhlMCwgMHg4OCwgMHg1ZiwgMHg5NSxcbiAgICAgICAgICBdKTtcblxuICAgICAgICAgIHRoaXMucHNzaCA9IG1wNHBzc2goUGxheVJlYWR5S2V5U3lzdGVtVVVJRCwgbnVsbCwga2V5Qnl0ZXMpO1xuXG4gICAgICAgICAgY29uc3Qga2V5Qnl0ZXNVdGYxNiA9IG5ldyBVaW50MTZBcnJheShcbiAgICAgICAgICAgIGtleUJ5dGVzLmJ1ZmZlcixcbiAgICAgICAgICAgIGtleUJ5dGVzLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBrZXlCeXRlcy5ieXRlTGVuZ3RoIC8gMixcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGtleUJ5dGVTdHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIEFycmF5LmZyb20oa2V5Qnl0ZXNVdGYxNiksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFBhcnNlIFBsYXlyZWFkeSBXUk1IZWFkZXIgWE1MXG4gICAgICAgICAgY29uc3QgeG1sS2V5Qnl0ZXMgPSBrZXlCeXRlU3RyLnN1YnN0cmluZyhcbiAgICAgICAgICAgIGtleUJ5dGVTdHIuaW5kZXhPZignPCcpLFxuICAgICAgICAgICAga2V5Qnl0ZVN0ci5sZW5ndGgsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgY29uc3QgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxLZXlCeXRlcywgJ3RleHQveG1sJyk7XG4gICAgICAgICAgY29uc3Qga2V5RGF0YSA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnS0lEJylbMF07XG4gICAgICAgICAgaWYgKGtleURhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleUlkID0ga2V5RGF0YS5jaGlsZE5vZGVzWzBdXG4gICAgICAgICAgICAgID8ga2V5RGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZVxuICAgICAgICAgICAgICA6IGtleURhdGEuZ2V0QXR0cmlidXRlKCdWQUxVRScpO1xuICAgICAgICAgICAgaWYgKGtleUlkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGtleUlkQXJyYXkgPSBiYXNlNjREZWNvZGUoa2V5SWQpLnN1YmFycmF5KDAsIDE2KTtcbiAgICAgICAgICAgICAgLy8gS0lEIHZhbHVlIGluIFBSTyBpcyBhIGJhc2U2NC1lbmNvZGVkIGxpdHRsZSBlbmRpYW4gR1VJRCBpbnRlcnByZXRhdGlvbiBvZiBVVUlEXG4gICAgICAgICAgICAgIC8vIEtJRCB2YWx1ZSBpbiDigJh0ZW5j4oCZIGlzIGEgYmlnIGVuZGlhbiBVVUlEIEdVSUQgaW50ZXJwcmV0YXRpb24gb2YgVVVJRFxuICAgICAgICAgICAgICBjaGFuZ2VFbmRpYW5uZXNzKGtleUlkQXJyYXkpO1xuICAgICAgICAgICAgICB0aGlzLmtleUlkID0ga2V5SWRBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGxldCBrZXlkYXRhID0ga2V5Qnl0ZXMuc3ViYXJyYXkoMCwgMTYpO1xuICAgICAgICAgIGlmIChrZXlkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZGRlZCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgICAgIHBhZGRlZC5zZXQoa2V5ZGF0YSwgMTYgLSBrZXlkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBrZXlkYXRhID0gcGFkZGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmtleUlkID0ga2V5ZGF0YTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3I6IGFzc2lnbiBhIG5ldyBrZXlJZCBmb3IgZWFjaCB1cmlcbiAgICBpZiAoIXRoaXMua2V5SWQgfHwgdGhpcy5rZXlJZC5ieXRlTGVuZ3RoICE9PSAxNikge1xuICAgICAgbGV0IGtleUlkID0ga2V5VXJpVG9LZXlJZE1hcFt0aGlzLnVyaV07XG4gICAgICBpZiAoIWtleUlkKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9XG4gICAgICAgICAgT2JqZWN0LmtleXMoa2V5VXJpVG9LZXlJZE1hcCkubGVuZ3RoICUgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIGtleUlkID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBjb25zdCBkdiA9IG5ldyBEYXRhVmlldyhrZXlJZC5idWZmZXIsIDEyLCA0KTsgLy8gSnVzdCBzZXQgdGhlIGxhc3QgNCBieXRlc1xuICAgICAgICBkdi5zZXRVaW50MzIoMCwgdmFsKTtcbiAgICAgICAga2V5VXJpVG9LZXlJZE1hcFt0aGlzLnVyaV0gPSBrZXlJZDtcbiAgICAgIH1cbiAgICAgIHRoaXMua2V5SWQgPSBrZXlJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVJbml0aWFsaXphdGlvblZlY3RvcihzZWdtZW50TnVtYmVyOiBudW1iZXIpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBmb3IgKGxldCBpID0gMTI7IGkgPCAxNjsgaSsrKSB7XG4gICAgdWludDhWaWV3W2ldID0gKHNlZ21lbnROdW1iZXIgPj4gKDggKiAoMTUgLSBpKSkpICYgMHhmZjtcbiAgfVxuICByZXR1cm4gdWludDhWaWV3O1xufVxuIiwgImltcG9ydCB0eXBlIHsgQXR0ckxpc3QgfSBmcm9tICcuL2F0dHItbGlzdCc7XG5pbXBvcnQgdHlwZSB7IFBhcnNlZE11bHRpdmFyaWFudFBsYXlsaXN0IH0gZnJvbSAnLi4vbG9hZGVyL20zdTgtcGFyc2VyJztcbmltcG9ydCB0eXBlIHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWRldGFpbHMnO1xuaW1wb3J0IHR5cGUgeyBWYXJpYWJsZU1hcCB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcblxuY29uc3QgVkFSSUFCTEVfUkVQTEFDRU1FTlRfUkVHRVggPSAvXFx7XFwkKFthLXpBLVowLTktX10rKVxcfS9nO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFyaWFibGVSZWZlcmVuY2VzKHN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBWQVJJQUJMRV9SRVBMQUNFTUVOVF9SRUdFWC50ZXN0KHN0cik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKFxuICBwYXJzZWQ6IFBpY2s8XG4gICAgUGFyc2VkTXVsdGl2YXJpYW50UGxheWxpc3QgfCBMZXZlbERldGFpbHMsXG4gICAgJ3ZhcmlhYmxlTGlzdCcgfCAnaGFzVmFyaWFibGVSZWZzJyB8ICdwbGF5bGlzdFBhcnNpbmdFcnJvcidcbiAgPixcbiAgYXR0cjogQXR0ckxpc3QsXG4gIGF0dHJpYnV0ZU5hbWVzOiBzdHJpbmdbXSxcbikge1xuICBpZiAocGFyc2VkLnZhcmlhYmxlTGlzdCAhPT0gbnVsbCB8fCBwYXJzZWQuaGFzVmFyaWFibGVSZWZzKSB7XG4gICAgZm9yIChsZXQgaSA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tpXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gYXR0cltuYW1lXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBhdHRyW25hbWVdID0gc3Vic3RpdHV0ZVZhcmlhYmxlcyhwYXJzZWQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnN0aXR1dGVWYXJpYWJsZXMoXG4gIHBhcnNlZDogUGljazxcbiAgICBQYXJzZWRNdWx0aXZhcmlhbnRQbGF5bGlzdCB8IExldmVsRGV0YWlscyxcbiAgICAndmFyaWFibGVMaXN0JyB8ICdoYXNWYXJpYWJsZVJlZnMnIHwgJ3BsYXlsaXN0UGFyc2luZ0Vycm9yJ1xuICA+LFxuICB2YWx1ZTogc3RyaW5nLFxuKTogc3RyaW5nIHtcbiAgaWYgKHBhcnNlZC52YXJpYWJsZUxpc3QgIT09IG51bGwgfHwgcGFyc2VkLmhhc1ZhcmlhYmxlUmVmcykge1xuICAgIGNvbnN0IHZhcmlhYmxlTGlzdCA9IHBhcnNlZC52YXJpYWJsZUxpc3Q7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXG4gICAgICBWQVJJQUJMRV9SRVBMQUNFTUVOVF9SRUdFWCxcbiAgICAgICh2YXJpYWJsZVJlZmVyZW5jZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IHZhcmlhYmxlUmVmZXJlbmNlLnN1YnN0cmluZyhcbiAgICAgICAgICAyLFxuICAgICAgICAgIHZhcmlhYmxlUmVmZXJlbmNlLmxlbmd0aCAtIDEsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlVmFsdWUgPSB2YXJpYWJsZUxpc3Q/Llt2YXJpYWJsZU5hbWVdO1xuICAgICAgICBpZiAodmFyaWFibGVWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGFyc2VkLnBsYXlsaXN0UGFyc2luZ0Vycm9yIHx8PSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgTWlzc2luZyBwcmVjZWRpbmcgRVhULVgtREVGSU5FIHRhZyBmb3IgVmFyaWFibGUgUmVmZXJlbmNlOiBcIiR7dmFyaWFibGVOYW1lfVwiYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB2YXJpYWJsZVJlZmVyZW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFyaWFibGVWYWx1ZTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRWYXJpYWJsZURlZmluaXRpb24oXG4gIHBhcnNlZDogUGljazxcbiAgICBQYXJzZWRNdWx0aXZhcmlhbnRQbGF5bGlzdCB8IExldmVsRGV0YWlscyxcbiAgICAndmFyaWFibGVMaXN0JyB8ICdwbGF5bGlzdFBhcnNpbmdFcnJvcidcbiAgPixcbiAgYXR0cjogQXR0ckxpc3QsXG4gIHBhcmVudFVybDogc3RyaW5nLFxuKSB7XG4gIGxldCB2YXJpYWJsZUxpc3QgPSBwYXJzZWQudmFyaWFibGVMaXN0O1xuICBpZiAoIXZhcmlhYmxlTGlzdCkge1xuICAgIHBhcnNlZC52YXJpYWJsZUxpc3QgPSB2YXJpYWJsZUxpc3QgPSB7fTtcbiAgfVxuICBsZXQgTkFNRTogc3RyaW5nO1xuICBsZXQgVkFMVUU7XG4gIGlmICgnUVVFUllQQVJBTScgaW4gYXR0cikge1xuICAgIE5BTUUgPSBhdHRyLlFVRVJZUEFSQU07XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBzZWxmLlVSTChwYXJlbnRVcmwpLnNlYXJjaFBhcmFtcztcbiAgICAgIGlmIChzZWFyY2hQYXJhbXMuaGFzKE5BTUUpKSB7XG4gICAgICAgIFZBTFVFID0gc2VhcmNoUGFyYW1zLmdldChOQU1FKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgXCIke05BTUV9XCIgZG9lcyBub3QgbWF0Y2ggYW55IHF1ZXJ5IHBhcmFtZXRlciBpbiBVUkk6IFwiJHtwYXJlbnRVcmx9XCJgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBwYXJzZWQucGxheWxpc3RQYXJzaW5nRXJyb3IgfHw9IG5ldyBFcnJvcihcbiAgICAgICAgYEVYVC1YLURFRklORSBRVUVSWVBBUkFNOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIE5BTUUgPSBhdHRyLk5BTUU7XG4gICAgVkFMVUUgPSBhdHRyLlZBTFVFO1xuICB9XG4gIGlmIChOQU1FIGluIHZhcmlhYmxlTGlzdCkge1xuICAgIHBhcnNlZC5wbGF5bGlzdFBhcnNpbmdFcnJvciB8fD0gbmV3IEVycm9yKFxuICAgICAgYEVYVC1YLURFRklORSBkdXBsaWNhdGUgVmFyaWFibGUgTmFtZSBkZWNsYXJhdGlvbnM6IFwiJHtOQU1FfVwiYCxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHZhcmlhYmxlTGlzdFtOQU1FXSA9IFZBTFVFIHx8ICcnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRWYXJpYWJsZURlZmluaXRpb24oXG4gIHBhcnNlZDogUGljazxcbiAgICBQYXJzZWRNdWx0aXZhcmlhbnRQbGF5bGlzdCB8IExldmVsRGV0YWlscyxcbiAgICAndmFyaWFibGVMaXN0JyB8ICdwbGF5bGlzdFBhcnNpbmdFcnJvcidcbiAgPixcbiAgYXR0cjogQXR0ckxpc3QsXG4gIHNvdXJjZVZhcmlhYmxlTGlzdDogVmFyaWFibGVNYXAgfCBudWxsLFxuKSB7XG4gIGNvbnN0IElNUE9SVCA9IGF0dHIuSU1QT1JUO1xuICBpZiAoc291cmNlVmFyaWFibGVMaXN0ICYmIElNUE9SVCBpbiBzb3VyY2VWYXJpYWJsZUxpc3QpIHtcbiAgICBsZXQgdmFyaWFibGVMaXN0ID0gcGFyc2VkLnZhcmlhYmxlTGlzdDtcbiAgICBpZiAoIXZhcmlhYmxlTGlzdCkge1xuICAgICAgcGFyc2VkLnZhcmlhYmxlTGlzdCA9IHZhcmlhYmxlTGlzdCA9IHt9O1xuICAgIH1cbiAgICB2YXJpYWJsZUxpc3RbSU1QT1JUXSA9IHNvdXJjZVZhcmlhYmxlTGlzdFtJTVBPUlRdO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlZC5wbGF5bGlzdFBhcnNpbmdFcnJvciB8fD0gbmV3IEVycm9yKFxuICAgICAgYEVYVC1YLURFRklORSBJTVBPUlQgYXR0cmlidXRlIG5vdCBmb3VuZCBpbiBNdWx0aXZhcmlhbnQgUGxheWxpc3Q6IFwiJHtJTVBPUlR9XCJgLFxuICAgICk7XG4gIH1cbn1cbiIsICIvKipcbiAqIE1lZGlhU291cmNlIGhlbHBlclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZWRpYVNvdXJjZShcbiAgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlID0gdHJ1ZSxcbik6IHR5cGVvZiBNZWRpYVNvdXJjZSB8IHVuZGVmaW5lZCB7XG4gIGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IG1tcyA9XG4gICAgKHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSB8fCAhc2VsZi5NZWRpYVNvdXJjZSkgJiZcbiAgICAoKHNlbGYgYXMgYW55KS5NYW5hZ2VkTWVkaWFTb3VyY2UgYXMgdW5kZWZpbmVkIHwgdHlwZW9mIE1lZGlhU291cmNlKTtcbiAgcmV0dXJuIChcbiAgICBtbXMgfHxcbiAgICBzZWxmLk1lZGlhU291cmNlIHx8XG4gICAgKChzZWxmIGFzIGFueSkuV2ViS2l0TWVkaWFTb3VyY2UgYXMgdHlwZW9mIE1lZGlhU291cmNlKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNYW5hZ2VkTWVkaWFTb3VyY2Uoc291cmNlOiB0eXBlb2YgTWVkaWFTb3VyY2UgfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc291cmNlID09PSAoc2VsZiBhcyBhbnkpLk1hbmFnZWRNZWRpYVNvdXJjZVxuICApO1xufVxuIiwgImltcG9ydCB7IGdldE1lZGlhU291cmNlIH0gZnJvbSAnLi9tZWRpYXNvdXJjZS1oZWxwZXInO1xuXG4vLyBmcm9tIGh0dHA6Ly9tcDRyYS5vcmcvY29kZWNzLmh0bWxcbi8vIHZhbHVlcyBpbmRpY2F0ZSBjb2RlYyBzZWxlY3Rpb24gcHJlZmVyZW5jZSAobG93ZXIgaXMgaGlnaGVyIHByaW9yaXR5KVxuY29uc3Qgc2FtcGxlRW50cnlDb2Rlc0lTTyA9IHtcbiAgYXVkaW86IHtcbiAgICBhM2RzOiAxLFxuICAgICdhYy0zJzogMC45NSxcbiAgICAnYWMtNCc6IDEsXG4gICAgYWxhYzogMC45LFxuICAgIGFsYXc6IDEsXG4gICAgZHJhMTogMSxcbiAgICAnZHRzKyc6IDEsXG4gICAgJ2R0cy0nOiAxLFxuICAgIGR0c2M6IDEsXG4gICAgZHRzZTogMSxcbiAgICBkdHNoOiAxLFxuICAgICdlYy0zJzogMC45LFxuICAgIGVuY2E6IDEsXG4gICAgZkxhQzogMC45LCAvLyBNUDQtUkEgbGlzdGVkIGNvZGVjIGVudHJ5IGZvciBGTEFDXG4gICAgZmxhYzogMC45LCAvLyBsZWdhY3kgYnJvd3NlciBjb2RlYyBuYW1lIGZvciBGTEFDXG4gICAgRkxBQzogMC45LCAvLyBzb21lIG1hbmlmZXN0cyBtYXkgbGlzdCBcIkZMQUNcIiB3aXRoIEFwcGxlJ3MgdG9vbHNcbiAgICBnNzE5OiAxLFxuICAgIGc3MjY6IDEsXG4gICAgbTRhZTogMSxcbiAgICBtaGExOiAxLFxuICAgIG1oYTI6IDEsXG4gICAgbWhtMTogMSxcbiAgICBtaG0yOiAxLFxuICAgIG1scGE6IDEsXG4gICAgbXA0YTogMSxcbiAgICAncmF3ICc6IDEsXG4gICAgT3B1czogMSxcbiAgICBvcHVzOiAxLCAvLyBicm93c2VycyBleHBlY3QgdGhpcyB0byBiZSBsb3dlcmNhc2UgZGVzcGl0ZSBNUDRSQSBzYXlzICdPcHVzJ1xuICAgIHNhbXI6IDEsXG4gICAgc2F3YjogMSxcbiAgICBzYXdwOiAxLFxuICAgIHNldmM6IDEsXG4gICAgc3FjcDogMSxcbiAgICBzc212OiAxLFxuICAgIHR3b3M6IDEsXG4gICAgdWxhdzogMSxcbiAgfSxcbiAgdmlkZW86IHtcbiAgICBhdmMxOiAxLFxuICAgIGF2YzI6IDEsXG4gICAgYXZjMzogMSxcbiAgICBhdmM0OiAxLFxuICAgIGF2Y3A6IDEsXG4gICAgYXYwMTogMC44LFxuICAgIGRyYWM6IDEsXG4gICAgZHZhMTogMSxcbiAgICBkdmF2OiAxLFxuICAgIGR2aDE6IDAuNyxcbiAgICBkdmhlOiAwLjcsXG4gICAgZW5jdjogMSxcbiAgICBoZXYxOiAwLjc1LFxuICAgIGh2YzE6IDAuNzUsXG4gICAgbWpwMjogMSxcbiAgICBtcDR2OiAxLFxuICAgIG12YzE6IDEsXG4gICAgbXZjMjogMSxcbiAgICBtdmMzOiAxLFxuICAgIG12YzQ6IDEsXG4gICAgcmVzdjogMSxcbiAgICBydjYwOiAxLFxuICAgIHMyNjM6IDEsXG4gICAgc3ZjMTogMSxcbiAgICBzdmMyOiAxLFxuICAgICd2Yy0xJzogMSxcbiAgICB2cDA4OiAxLFxuICAgIHZwMDk6IDAuOSxcbiAgfSxcbiAgdGV4dDoge1xuICAgIHN0cHA6IDEsXG4gICAgd3Z0dDogMSxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIENvZGVjVHlwZSA9ICdhdWRpbycgfCAndmlkZW8nO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2RlY1R5cGUoY29kZWM6IHN0cmluZywgdHlwZTogQ29kZWNUeXBlKTogYm9vbGVhbiB7XG4gIGNvbnN0IHR5cGVDb2RlcyA9IHNhbXBsZUVudHJ5Q29kZXNJU09bdHlwZV07XG4gIHJldHVybiAhIXR5cGVDb2RlcyAmJiAhIXR5cGVDb2Rlc1tjb2RlYy5zbGljZSgwLCA0KV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVDb2RlY3NNZWRpYVNvdXJjZVN1cHBvcnRlZChcbiAgY29kZWNzOiBzdHJpbmcsXG4gIHR5cGU6IENvZGVjVHlwZSxcbiAgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlID0gdHJ1ZSxcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gIWNvZGVjc1xuICAgIC5zcGxpdCgnLCcpXG4gICAgLnNvbWUoXG4gICAgICAoY29kZWMpID0+XG4gICAgICAgICFpc0NvZGVjTWVkaWFTb3VyY2VTdXBwb3J0ZWQoY29kZWMsIHR5cGUsIHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSksXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNDb2RlY01lZGlhU291cmNlU3VwcG9ydGVkKFxuICBjb2RlYzogc3RyaW5nLFxuICB0eXBlOiBDb2RlY1R5cGUsXG4gIHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSA9IHRydWUsXG4pOiBib29sZWFuIHtcbiAgY29uc3QgTWVkaWFTb3VyY2UgPSBnZXRNZWRpYVNvdXJjZShwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UpO1xuICByZXR1cm4gTWVkaWFTb3VyY2U/LmlzVHlwZVN1cHBvcnRlZChtaW1lVHlwZUZvckNvZGVjKGNvZGVjLCB0eXBlKSkgPz8gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW1lVHlwZUZvckNvZGVjKGNvZGVjOiBzdHJpbmcsIHR5cGU6IENvZGVjVHlwZSk6IHN0cmluZyB7XG4gIHJldHVybiBgJHt0eXBlfS9tcDQ7Y29kZWNzPVwiJHtjb2RlY31cImA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0NvZGVjUHJlZmVyZW5jZVZhbHVlKFxuICB2aWRlb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4pOiBudW1iZXIge1xuICBpZiAodmlkZW9Db2RlYykge1xuICAgIGNvbnN0IGZvdXJDQyA9IHZpZGVvQ29kZWMuc3Vic3RyaW5nKDAsIDQpO1xuICAgIHJldHVybiBzYW1wbGVFbnRyeUNvZGVzSVNPLnZpZGVvW2ZvdXJDQ107XG4gIH1cbiAgcmV0dXJuIDI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2RlY3NTZXRTZWxlY3Rpb25QcmVmZXJlbmNlVmFsdWUoY29kZWNTZXQ6IHN0cmluZyk6IG51bWJlciB7XG4gIHJldHVybiBjb2RlY1NldC5zcGxpdCgnLCcpLnJlZHVjZSgobnVtLCBmb3VyQ0MpID0+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlVmFsdWUgPSBzYW1wbGVFbnRyeUNvZGVzSVNPLnZpZGVvW2ZvdXJDQ107XG4gICAgaWYgKHByZWZlcmVuY2VWYWx1ZSkge1xuICAgICAgcmV0dXJuIChwcmVmZXJlbmNlVmFsdWUgKiAyICsgbnVtKSAvIChudW0gPyAzIDogMik7XG4gICAgfVxuICAgIHJldHVybiAoc2FtcGxlRW50cnlDb2Rlc0lTTy5hdWRpb1tmb3VyQ0NdICsgbnVtKSAvIChudW0gPyAyIDogMSk7XG4gIH0sIDApO1xufVxuXG5pbnRlcmZhY2UgQ29kZWNOYW1lQ2FjaGUge1xuICBmbGFjPzogc3RyaW5nO1xuICBvcHVzPzogc3RyaW5nO1xufVxuXG5jb25zdCBDT0RFQ19DT01QQVRJQkxFX05BTUVTOiBDb2RlY05hbWVDYWNoZSA9IHt9O1xuXG50eXBlIExvd2VyQ2FzZUNvZGVjVHlwZSA9ICdmbGFjJyB8ICdvcHVzJztcblxuZnVuY3Rpb24gZ2V0Q29kZWNDb21wYXRpYmxlTmFtZUxvd2VyKFxuICBsb3dlckNhc2VDb2RlYzogTG93ZXJDYXNlQ29kZWNUeXBlLFxuICBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UgPSB0cnVlLFxuKTogc3RyaW5nIHtcbiAgaWYgKENPREVDX0NPTVBBVElCTEVfTkFNRVNbbG93ZXJDYXNlQ29kZWNdKSB7XG4gICAgcmV0dXJuIENPREVDX0NPTVBBVElCTEVfTkFNRVNbbG93ZXJDYXNlQ29kZWNdITtcbiAgfVxuXG4gIC8vIElkZWFseSBmTGFDIGFuZCBPcHVzIHdvdWxkIGJlIGZpcnN0IChzcGVjLWNvbXBsaWFudCkgYnV0XG4gIC8vIHNvbWUgYnJvd3NlcnMgd2lsbCByZXBvcnQgdGhhdCBmTGFDIGlzIHN1cHBvcnRlZCB0aGVuIGZhaWwuXG4gIC8vIHNlZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTQyMjcyOFxuICBjb25zdCBjb2RlY3NUb0NoZWNrID0ge1xuICAgIGZsYWM6IFsnZmxhYycsICdmTGFDJywgJ0ZMQUMnXSxcbiAgICBvcHVzOiBbJ29wdXMnLCAnT3B1cyddLFxuICB9W2xvd2VyQ2FzZUNvZGVjXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVjc1RvQ2hlY2subGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoXG4gICAgICBpc0NvZGVjTWVkaWFTb3VyY2VTdXBwb3J0ZWQoXG4gICAgICAgIGNvZGVjc1RvQ2hlY2tbaV0sXG4gICAgICAgICdhdWRpbycsXG4gICAgICAgIHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSxcbiAgICAgIClcbiAgICApIHtcbiAgICAgIENPREVDX0NPTVBBVElCTEVfTkFNRVNbbG93ZXJDYXNlQ29kZWNdID0gY29kZWNzVG9DaGVja1tpXTtcbiAgICAgIHJldHVybiBjb2RlY3NUb0NoZWNrW2ldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsb3dlckNhc2VDb2RlYztcbn1cblxuY29uc3QgQVVESU9fQ09ERUNfUkVHRVhQID0gL2ZsYWN8b3B1cy9pO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvZGVjQ29tcGF0aWJsZU5hbWUoXG4gIGNvZGVjOiBzdHJpbmcsXG4gIHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZSA9IHRydWUsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gY29kZWMucmVwbGFjZShBVURJT19DT0RFQ19SRUdFWFAsIChtKSA9PlxuICAgIGdldENvZGVjQ29tcGF0aWJsZU5hbWVMb3dlcihcbiAgICAgIG0udG9Mb3dlckNhc2UoKSBhcyBMb3dlckNhc2VDb2RlY1R5cGUsXG4gICAgICBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UsXG4gICAgKSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tNb3N0Q29tcGxldGVDb2RlY05hbWUoXG4gIHBhcnNlZENvZGVjOiBzdHJpbmcsXG4gIGxldmVsQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIC8vIFBhcnNpbmcgb2YgbXA0YSBjb2RlY3Mgc3RyaW5ncyBpbiBtcDQtdG9vbHMgZnJvbSBtZWRpYSBpcyBpbmNvbXBsZXRlIGFzIG9mIGQ4YzZjN2FcbiAgLy8gc28gdXNlIGxldmVsIGNvZGVjIGlzIHBhcnNlZCBjb2RlYyBpcyB1bmF2YWlsYWJsZSBvciBpbmNvbXBsZXRlXG4gIGlmIChwYXJzZWRDb2RlYyAmJiBwYXJzZWRDb2RlYyAhPT0gJ21wNGEnKSB7XG4gICAgcmV0dXJuIHBhcnNlZENvZGVjO1xuICB9XG4gIHJldHVybiBsZXZlbENvZGVjID8gbGV2ZWxDb2RlYy5zcGxpdCgnLCcpWzBdIDogbGV2ZWxDb2RlYztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRBVkMxVG9BVkNPVEkoY29kZWM6IHN0cmluZykge1xuICAvLyBDb252ZXJ0IGF2YzEgY29kZWMgc3RyaW5nIGZyb20gUkZDLTQyODEgdG8gUkZDLTYzODEgZm9yIE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZFxuICAvLyBFeGFtcGxlczogYXZjMS42Ni4zMCB0byBhdmMxLjQyMDAxZSBhbmQgYXZjMS43Ny4zMCxhdmMxLjY2LjMwIHRvIGF2YzEuNGQwMDFlLGF2YzEuNDIwMDFlLlxuICBjb25zdCBjb2RlY3MgPSBjb2RlYy5zcGxpdCgnLCcpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVjcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGF2Y2RhdGEgPSBjb2RlY3NbaV0uc3BsaXQoJy4nKTtcbiAgICBpZiAoYXZjZGF0YS5sZW5ndGggPiAyKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gYXZjZGF0YS5zaGlmdCgpICsgJy4nO1xuICAgICAgcmVzdWx0ICs9IHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSBhcyBzdHJpbmcpLnRvU3RyaW5nKDE2KTtcbiAgICAgIHJlc3VsdCArPSAoXG4gICAgICAgICcwMDAnICsgcGFyc2VJbnQoYXZjZGF0YS5zaGlmdCgpIGFzIHN0cmluZykudG9TdHJpbmcoMTYpXG4gICAgICApLnNsaWNlKC00KTtcbiAgICAgIGNvZGVjc1tpXSA9IHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvZGVjcy5qb2luKCcsJyk7XG59XG4iLCAiaW1wb3J0IHsgYnVpbGRBYnNvbHV0ZVVSTCB9IGZyb20gJ3VybC10b29sa2l0JztcbmltcG9ydCB7IERhdGVSYW5nZSB9IGZyb20gJy4vZGF0ZS1yYW5nZSc7XG5pbXBvcnQgeyBGcmFnbWVudCwgUGFydCB9IGZyb20gJy4vZnJhZ21lbnQnO1xuaW1wb3J0IHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB7IExldmVsS2V5IH0gZnJvbSAnLi9sZXZlbC1rZXknO1xuaW1wb3J0IHsgQXR0ckxpc3QgfSBmcm9tICcuLi91dGlscy9hdHRyLWxpc3QnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7XG4gIGFkZFZhcmlhYmxlRGVmaW5pdGlvbixcbiAgaGFzVmFyaWFibGVSZWZlcmVuY2VzLFxuICBpbXBvcnRWYXJpYWJsZURlZmluaXRpb24sXG4gIHN1YnN0aXR1dGVWYXJpYWJsZXMsXG4gIHN1YnN0aXR1dGVWYXJpYWJsZXNJbkF0dHJpYnV0ZXMsXG59IGZyb20gJy4uL3V0aWxzL3ZhcmlhYmxlLXN1YnN0aXR1dGlvbic7XG5pbXBvcnQgeyBpc0NvZGVjVHlwZSB9IGZyb20gJy4uL3V0aWxzL2NvZGVjcyc7XG5pbXBvcnQgdHlwZSB7IENvZGVjVHlwZSB9IGZyb20gJy4uL3V0aWxzL2NvZGVjcyc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhUGxheWxpc3QsIE1lZGlhQXR0cmlidXRlcyB9IGZyb20gJy4uL3R5cGVzL21lZGlhLXBsYXlsaXN0JztcbmltcG9ydCB0eXBlIHsgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHR5cGUgeyBMZXZlbEF0dHJpYnV0ZXMsIExldmVsUGFyc2VkLCBWYXJpYWJsZU1hcCB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB0eXBlIHsgQ29udGVudFN0ZWVyaW5nT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5cbnR5cGUgTTNVOFBhcnNlckZyYWdtZW50cyA9IEFycmF5PEZyYWdtZW50IHwgbnVsbD47XG5cbmV4cG9ydCB0eXBlIFBhcnNlZE11bHRpdmFyaWFudFBsYXlsaXN0ID0ge1xuICBjb250ZW50U3RlZXJpbmc6IENvbnRlbnRTdGVlcmluZ09wdGlvbnMgfCBudWxsO1xuICBsZXZlbHM6IExldmVsUGFyc2VkW107XG4gIHBsYXlsaXN0UGFyc2luZ0Vycm9yOiBFcnJvciB8IG51bGw7XG4gIHNlc3Npb25EYXRhOiBSZWNvcmQ8c3RyaW5nLCBBdHRyTGlzdD4gfCBudWxsO1xuICBzZXNzaW9uS2V5czogTGV2ZWxLZXlbXSB8IG51bGw7XG4gIHN0YXJ0VGltZU9mZnNldDogbnVtYmVyIHwgbnVsbDtcbiAgdmFyaWFibGVMaXN0OiBWYXJpYWJsZU1hcCB8IG51bGw7XG4gIGhhc1ZhcmlhYmxlUmVmczogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGFyc2VkTXVsdGl2YXJpYW50TWVkaWFPcHRpb25zID0ge1xuICBBVURJTz86IE1lZGlhUGxheWxpc3RbXTtcbiAgU1VCVElUTEVTPzogTWVkaWFQbGF5bGlzdFtdO1xuICAnQ0xPU0VELUNBUFRJT05TJz86IE1lZGlhUGxheWxpc3RbXTtcbn07XG5cbmNvbnN0IE1BU1RFUl9QTEFZTElTVF9SRUdFWCA9XG4gIC8jRVhULVgtU1RSRUFNLUlORjooW15cXHJcXG5dKikoPzpbXFxyXFxuXSg/OiNbXlxcclxcbl0qKT8pKihbXlxcclxcbl0rKXwjRVhULVgtKFNFU1NJT04tREFUQXxTRVNTSU9OLUtFWXxERUZJTkV8Q09OVEVOVC1TVEVFUklOR3xTVEFSVCk6KFteXFxyXFxuXSopW1xcclxcbl0rL2c7XG5jb25zdCBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVggPSAvI0VYVC1YLU1FRElBOiguKikvZztcblxuY29uc3QgSVNfTUVESUFfUExBWUxJU1QgPSAvXiNFWFQoPzpJTkZ8LVgtVEFSR0VURFVSQVRJT04pOi9tOyAvLyBIYW5kbGUgZW1wdHkgTWVkaWEgUGxheWxpc3QgKGZpcnN0IEVYVElORiBub3Qgc2lnbmFsZWQsIGJ1dCBUQVJHRVREVVJBVElPTiBwcmVzZW50KVxuXG5jb25zdCBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUID0gbmV3IFJlZ0V4cChcbiAgW1xuICAgIC8jRVhUSU5GOlxccyooXFxkKig/OlxcLlxcZCspPykoPzosKC4qKVxccyspPy8uc291cmNlLCAvLyBkdXJhdGlvbiAoI0VYVElORjo8ZHVyYXRpb24+LDx0aXRsZT4pLCBncm91cCAxID0+IGR1cmF0aW9uLCBncm91cCAyID0+IHRpdGxlXG4gICAgLyg/ISMpICooXFxTW15cXHJcXG5dKikvLnNvdXJjZSwgLy8gc2VnbWVudCBVUkksIGdyb3VwIDMgPT4gdGhlIFVSSSAobm90ZSBuZXdsaW5lIGlzIG5vdCBlYXRlbilcbiAgICAvI0VYVC1YLUJZVEVSQU5HRToqKC4rKS8uc291cmNlLCAvLyBuZXh0IHNlZ21lbnQncyBieXRlcmFuZ2UsIGdyb3VwIDQgPT4gcmFuZ2Ugc3BlYyAoeEB5KVxuICAgIC8jRVhULVgtUFJPR1JBTS1EQVRFLVRJTUU6KC4rKS8uc291cmNlLCAvLyBuZXh0IHNlZ21lbnQncyBwcm9ncmFtIGRhdGUvdGltZSBncm91cCA1ID0+IHRoZSBkYXRldGltZSBzcGVjXG4gICAgLyMuKi8uc291cmNlLCAvLyBBbGwgb3RoZXIgbm9uLXNlZ21lbnQgb3JpZW50ZWQgdGFncyB3aWxsIG1hdGNoIHdpdGggYWxsIGdyb3VwcyBlbXB0eVxuICBdLmpvaW4oJ3wnKSxcbiAgJ2cnLFxuKTtcblxuY29uc3QgTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyA9IG5ldyBSZWdFeHAoXG4gIFtcbiAgICAvIyhFWFRNM1UpLy5zb3VyY2UsXG4gICAgLyNFWFQtWC0oREFURVJBTkdFfERFRklORXxLRVl8TUFQfFBBUlR8UEFSVC1JTkZ8UExBWUxJU1QtVFlQRXxQUkVMT0FELUhJTlR8UkVORElUSU9OLVJFUE9SVHxTRVJWRVItQ09OVFJPTHxTS0lQfFNUQVJUKTooLispL1xuICAgICAgLnNvdXJjZSxcbiAgICAvI0VYVC1YLShCSVRSQVRFfERJU0NPTlRJTlVJVFktU0VRVUVOQ0V8TUVESUEtU0VRVUVOQ0V8VEFSR0VURFVSQVRJT058VkVSU0lPTik6ICooXFxkKykvXG4gICAgICAuc291cmNlLFxuICAgIC8jRVhULVgtKERJU0NPTlRJTlVJVFl8RU5ETElTVHxHQVB8SU5ERVBFTkRFTlQtU0VHTUVOVFMpLy5zb3VyY2UsXG4gICAgLygjKShbXjpdKik6KC4qKS8uc291cmNlLFxuICAgIC8oIykoLiopKD86LiopXFxyP1xcbj8vLnNvdXJjZSxcbiAgXS5qb2luKCd8JyksXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNM1U4UGFyc2VyIHtcbiAgc3RhdGljIGZpbmRHcm91cChcbiAgICBncm91cHM6IChcbiAgICAgIHwgeyBpZD86IHN0cmluZzsgYXVkaW9Db2RlYz86IHN0cmluZyB9XG4gICAgICB8IHsgaWQ/OiBzdHJpbmc7IHRleHRDb2RlYz86IHN0cmluZyB9XG4gICAgKVtdLFxuICAgIG1lZGlhR3JvdXBJZDogc3RyaW5nLFxuICApOlxuICAgIHwgeyBpZD86IHN0cmluZzsgYXVkaW9Db2RlYz86IHN0cmluZyB9XG4gICAgfCB7IGlkPzogc3RyaW5nOyB0ZXh0Q29kZWM/OiBzdHJpbmcgfVxuICAgIHwgdW5kZWZpbmVkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICBpZiAoZ3JvdXAuaWQgPT09IG1lZGlhR3JvdXBJZCkge1xuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlc29sdmUodXJsLCBiYXNlVXJsKSB7XG4gICAgcmV0dXJuIGJ1aWxkQWJzb2x1dGVVUkwoYmFzZVVybCwgdXJsLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc01lZGlhUGxheWxpc3Qoc3RyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gSVNfTUVESUFfUExBWUxJU1QudGVzdChzdHIpO1xuICB9XG5cbiAgc3RhdGljIHBhcnNlTWFzdGVyUGxheWxpc3QoXG4gICAgc3RyaW5nOiBzdHJpbmcsXG4gICAgYmFzZXVybDogc3RyaW5nLFxuICApOiBQYXJzZWRNdWx0aXZhcmlhbnRQbGF5bGlzdCB7XG4gICAgY29uc3QgaGFzVmFyaWFibGVSZWZzID0gX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX19cbiAgICAgID8gaGFzVmFyaWFibGVSZWZlcmVuY2VzKHN0cmluZylcbiAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgcGFyc2VkOiBQYXJzZWRNdWx0aXZhcmlhbnRQbGF5bGlzdCA9IHtcbiAgICAgIGNvbnRlbnRTdGVlcmluZzogbnVsbCxcbiAgICAgIGxldmVsczogW10sXG4gICAgICBwbGF5bGlzdFBhcnNpbmdFcnJvcjogbnVsbCxcbiAgICAgIHNlc3Npb25EYXRhOiBudWxsLFxuICAgICAgc2Vzc2lvbktleXM6IG51bGwsXG4gICAgICBzdGFydFRpbWVPZmZzZXQ6IG51bGwsXG4gICAgICB2YXJpYWJsZUxpc3Q6IG51bGwsXG4gICAgICBoYXNWYXJpYWJsZVJlZnMsXG4gICAgfTtcbiAgICBjb25zdCBsZXZlbHNXaXRoS25vd25Db2RlY3M6IExldmVsUGFyc2VkW10gPSBbXTtcblxuICAgIE1BU1RFUl9QTEFZTElTVF9SRUdFWC5sYXN0SW5kZXggPSAwO1xuXG4gICAgbGV0IHJlc3VsdDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcbiAgICB3aGlsZSAoKHJlc3VsdCA9IE1BU1RFUl9QTEFZTElTVF9SRUdFWC5leGVjKHN0cmluZykpICE9IG51bGwpIHtcbiAgICAgIGlmIChyZXN1bHRbMV0pIHtcbiAgICAgICAgLy8gJyNFWFQtWC1TVFJFQU0tSU5GJyBpcyBmb3VuZCwgcGFyc2UgbGV2ZWwgdGFnICBpbiBncm91cCAxXG4gICAgICAgIGNvbnN0IGF0dHJzID0gbmV3IEF0dHJMaXN0KHJlc3VsdFsxXSkgYXMgTGV2ZWxBdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKHBhcnNlZCwgYXR0cnMsIFtcbiAgICAgICAgICAgICdDT0RFQ1MnLFxuICAgICAgICAgICAgJ1NVUFBMRU1FTlRBTC1DT0RFQ1MnLFxuICAgICAgICAgICAgJ0FMTE9XRUQtQ1BDJyxcbiAgICAgICAgICAgICdQQVRIV0FZLUlEJyxcbiAgICAgICAgICAgICdTVEFCTEUtVkFSSUFOVC1JRCcsXG4gICAgICAgICAgICAnQVVESU8nLFxuICAgICAgICAgICAgJ1ZJREVPJyxcbiAgICAgICAgICAgICdTVUJUSVRMRVMnLFxuICAgICAgICAgICAgJ0NMT1NFRC1DQVBUSU9OUycsXG4gICAgICAgICAgICAnTkFNRScsXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJpID0gX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX19cbiAgICAgICAgICA/IHN1YnN0aXR1dGVWYXJpYWJsZXMocGFyc2VkLCByZXN1bHRbMl0pXG4gICAgICAgICAgOiByZXN1bHRbMl07XG4gICAgICAgIGNvbnN0IGxldmVsOiBMZXZlbFBhcnNlZCA9IHtcbiAgICAgICAgICBhdHRycyxcbiAgICAgICAgICBiaXRyYXRlOlxuICAgICAgICAgICAgYXR0cnMuZGVjaW1hbEludGVnZXIoJ0JBTkRXSURUSCcpIHx8XG4gICAgICAgICAgICBhdHRycy5kZWNpbWFsSW50ZWdlcignQVZFUkFHRS1CQU5EV0lEVEgnKSxcbiAgICAgICAgICBuYW1lOiBhdHRycy5OQU1FLFxuICAgICAgICAgIHVybDogTTNVOFBhcnNlci5yZXNvbHZlKHVyaSwgYmFzZXVybCksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IGF0dHJzLmRlY2ltYWxSZXNvbHV0aW9uKCdSRVNPTFVUSU9OJyk7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgbGV2ZWwud2lkdGggPSByZXNvbHV0aW9uLndpZHRoO1xuICAgICAgICAgIGxldmVsLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0Q29kZWNzKGF0dHJzLkNPREVDUywgbGV2ZWwpO1xuXG4gICAgICAgIGlmICghbGV2ZWwudW5rbm93bkNvZGVjcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgbGV2ZWxzV2l0aEtub3duQ29kZWNzLnB1c2gobGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmxldmVscy5wdXNoKGxldmVsKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0WzNdKSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IHJlc3VsdFszXTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHJlc3VsdFs0XTtcbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdTRVNTSU9OLURBVEEnOiB7XG4gICAgICAgICAgICAvLyAjRVhULVgtU0VTU0lPTi1EQVRBXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uQXR0cnMgPSBuZXcgQXR0ckxpc3QoYXR0cmlidXRlcyk7XG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhwYXJzZWQsIHNlc3Npb25BdHRycywgW1xuICAgICAgICAgICAgICAgICdEQVRBLUlEJyxcbiAgICAgICAgICAgICAgICAnTEFOR1VBR0UnLFxuICAgICAgICAgICAgICAgICdWQUxVRScsXG4gICAgICAgICAgICAgICAgJ1VSSScsXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGF0YUlkID0gc2Vzc2lvbkF0dHJzWydEQVRBLUlEJ107XG4gICAgICAgICAgICBpZiAoZGF0YUlkKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWQuc2Vzc2lvbkRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQuc2Vzc2lvbkRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwYXJzZWQuc2Vzc2lvbkRhdGFbZGF0YUlkXSA9IHNlc3Npb25BdHRycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdTRVNTSU9OLUtFWSc6IHtcbiAgICAgICAgICAgIC8vICNFWFQtWC1TRVNTSU9OLUtFWVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbktleSA9IHBhcnNlS2V5KGF0dHJpYnV0ZXMsIGJhc2V1cmwsIHBhcnNlZCk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbktleS5lbmNyeXB0ZWQgJiYgc2Vzc2lvbktleS5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWQuc2Vzc2lvbktleXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQuc2Vzc2lvbktleXMgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwYXJzZWQuc2Vzc2lvbktleXMucHVzaChzZXNzaW9uS2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgIGBbS2V5c10gSWdub3JpbmcgaW52YWxpZCBFWFQtWC1TRVNTSU9OLUtFWSB0YWc6IFwiJHthdHRyaWJ1dGVzfVwiYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdERUZJTkUnOiB7XG4gICAgICAgICAgICAvLyAjRVhULVgtREVGSU5FXG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGVBdHRyaWJ1dGVzID0gbmV3IEF0dHJMaXN0KGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKHBhcnNlZCwgdmFyaWFibGVBdHRyaWJ1dGVzLCBbXG4gICAgICAgICAgICAgICAgJ05BTUUnLFxuICAgICAgICAgICAgICAgICdWQUxVRScsXG4gICAgICAgICAgICAgICAgJ1FVRVJZUEFSQU0nLFxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgYWRkVmFyaWFibGVEZWZpbml0aW9uKHBhcnNlZCwgdmFyaWFibGVBdHRyaWJ1dGVzLCBiYXNldXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdDT05URU5ULVNURUVSSU5HJzoge1xuICAgICAgICAgICAgLy8gI0VYVC1YLUNPTlRFTlQtU1RFRVJJTkdcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRTdGVlcmluZ0F0dHJpYnV0ZXMgPSBuZXcgQXR0ckxpc3QoYXR0cmlidXRlcyk7XG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBwYXJzZWQsXG4gICAgICAgICAgICAgICAgY29udGVudFN0ZWVyaW5nQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBbJ1NFUlZFUi1VUkknLCAnUEFUSFdBWS1JRCddLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VkLmNvbnRlbnRTdGVlcmluZyA9IHtcbiAgICAgICAgICAgICAgdXJpOiBNM1U4UGFyc2VyLnJlc29sdmUoXG4gICAgICAgICAgICAgICAgY29udGVudFN0ZWVyaW5nQXR0cmlidXRlc1snU0VSVkVSLVVSSSddLFxuICAgICAgICAgICAgICAgIGJhc2V1cmwsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHBhdGh3YXlJZDogY29udGVudFN0ZWVyaW5nQXR0cmlidXRlc1snUEFUSFdBWS1JRCddIHx8ICcuJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnU1RBUlQnOiB7XG4gICAgICAgICAgICAvLyAjRVhULVgtU1RBUlRcbiAgICAgICAgICAgIHBhcnNlZC5zdGFydFRpbWVPZmZzZXQgPSBwYXJzZVN0YXJ0VGltZU9mZnNldChhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRmlsdGVyIG91dCBsZXZlbHMgd2l0aCB1bmtub3duIGNvZGVjcyBpZiBpdCBkb2VzIG5vdCByZW1vdmUgYWxsIGxldmVsc1xuICAgIGNvbnN0IHN0cmlwVW5rbm93bkNvZGVjTGV2ZWxzID1cbiAgICAgIGxldmVsc1dpdGhLbm93bkNvZGVjcy5sZW5ndGggPiAwICYmXG4gICAgICBsZXZlbHNXaXRoS25vd25Db2RlY3MubGVuZ3RoIDwgcGFyc2VkLmxldmVscy5sZW5ndGg7XG5cbiAgICBwYXJzZWQubGV2ZWxzID0gc3RyaXBVbmtub3duQ29kZWNMZXZlbHNcbiAgICAgID8gbGV2ZWxzV2l0aEtub3duQ29kZWNzXG4gICAgICA6IHBhcnNlZC5sZXZlbHM7XG4gICAgaWYgKHBhcnNlZC5sZXZlbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBwYXJzZWQucGxheWxpc3RQYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoJ25vIGxldmVscyBmb3VuZCBpbiBtYW5pZmVzdCcpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cblxuICBzdGF0aWMgcGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhKFxuICAgIHN0cmluZzogc3RyaW5nLFxuICAgIGJhc2V1cmw6IHN0cmluZyxcbiAgICBwYXJzZWQ6IFBhcnNlZE11bHRpdmFyaWFudFBsYXlsaXN0LFxuICApOiBQYXJzZWRNdWx0aXZhcmlhbnRNZWRpYU9wdGlvbnMge1xuICAgIGxldCByZXN1bHQ6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG4gICAgY29uc3QgcmVzdWx0czogUGFyc2VkTXVsdGl2YXJpYW50TWVkaWFPcHRpb25zID0ge307XG4gICAgY29uc3QgbGV2ZWxzID0gcGFyc2VkLmxldmVscztcbiAgICBjb25zdCBncm91cHNCeVR5cGUgPSB7XG4gICAgICBBVURJTzogbGV2ZWxzLm1hcCgobGV2ZWw6IExldmVsUGFyc2VkKSA9PiAoe1xuICAgICAgICBpZDogbGV2ZWwuYXR0cnMuQVVESU8sXG4gICAgICAgIGF1ZGlvQ29kZWM6IGxldmVsLmF1ZGlvQ29kZWMsXG4gICAgICB9KSksXG4gICAgICBTVUJUSVRMRVM6IGxldmVscy5tYXAoKGxldmVsOiBMZXZlbFBhcnNlZCkgPT4gKHtcbiAgICAgICAgaWQ6IGxldmVsLmF0dHJzLlNVQlRJVExFUyxcbiAgICAgICAgdGV4dENvZGVjOiBsZXZlbC50ZXh0Q29kZWMsXG4gICAgICB9KSksXG4gICAgICAnQ0xPU0VELUNBUFRJT05TJzogW10sXG4gICAgfTtcbiAgICBsZXQgaWQgPSAwO1xuICAgIE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX01FRElBX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGF0dHJzID0gbmV3IEF0dHJMaXN0KHJlc3VsdFsxXSkgYXMgTWVkaWFBdHRyaWJ1dGVzO1xuICAgICAgY29uc3QgdHlwZSA9IGF0dHJzLlRZUEU7XG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICBjb25zdCBncm91cHM6ICh0eXBlb2YgZ3JvdXBzQnlUeXBlKVtrZXlvZiB0eXBlb2YgZ3JvdXBzQnlUeXBlXSA9XG4gICAgICAgICAgZ3JvdXBzQnlUeXBlW3R5cGVdO1xuICAgICAgICBjb25zdCBtZWRpYXM6IE1lZGlhUGxheWxpc3RbXSA9IHJlc3VsdHNbdHlwZV0gfHwgW107XG4gICAgICAgIHJlc3VsdHNbdHlwZV0gPSBtZWRpYXM7XG4gICAgICAgIGlmIChfX1VTRV9WQVJJQUJMRV9TVUJTVElUVVRJT05fXykge1xuICAgICAgICAgIHN1YnN0aXR1dGVWYXJpYWJsZXNJbkF0dHJpYnV0ZXMocGFyc2VkLCBhdHRycywgW1xuICAgICAgICAgICAgJ1VSSScsXG4gICAgICAgICAgICAnR1JPVVAtSUQnLFxuICAgICAgICAgICAgJ0xBTkdVQUdFJyxcbiAgICAgICAgICAgICdBU1NPQy1MQU5HVUFHRScsXG4gICAgICAgICAgICAnU1RBQkxFLVJFTkRJVElPTi1JRCcsXG4gICAgICAgICAgICAnTkFNRScsXG4gICAgICAgICAgICAnSU5TVFJFQU0tSUQnLFxuICAgICAgICAgICAgJ0NIQVJBQ1RFUklTVElDUycsXG4gICAgICAgICAgICAnQ0hBTk5FTFMnLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhbmcgPSBhdHRycy5MQU5HVUFHRTtcbiAgICAgICAgY29uc3QgYXNzb2NMYW5nID0gYXR0cnNbJ0FTU09DLUxBTkdVQUdFJ107XG4gICAgICAgIGNvbnN0IGNoYW5uZWxzID0gYXR0cnMuQ0hBTk5FTFM7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcmlzdGljcyA9IGF0dHJzLkNIQVJBQ1RFUklTVElDUztcbiAgICAgICAgY29uc3QgaW5zdHJlYW1JZCA9IGF0dHJzWydJTlNUUkVBTS1JRCddO1xuICAgICAgICBjb25zdCBtZWRpYTogTWVkaWFQbGF5bGlzdCA9IHtcbiAgICAgICAgICBhdHRycyxcbiAgICAgICAgICBiaXRyYXRlOiAwLFxuICAgICAgICAgIGlkOiBpZCsrLFxuICAgICAgICAgIGdyb3VwSWQ6IGF0dHJzWydHUk9VUC1JRCddIHx8ICcnLFxuICAgICAgICAgIG5hbWU6IGF0dHJzLk5BTUUgfHwgbGFuZyB8fCAnJyxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGRlZmF1bHQ6IGF0dHJzLmJvb2woJ0RFRkFVTFQnKSxcbiAgICAgICAgICBhdXRvc2VsZWN0OiBhdHRycy5ib29sKCdBVVRPU0VMRUNUJyksXG4gICAgICAgICAgZm9yY2VkOiBhdHRycy5ib29sKCdGT1JDRUQnKSxcbiAgICAgICAgICBsYW5nLFxuICAgICAgICAgIHVybDogYXR0cnMuVVJJID8gTTNVOFBhcnNlci5yZXNvbHZlKGF0dHJzLlVSSSwgYmFzZXVybCkgOiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFzc29jTGFuZykge1xuICAgICAgICAgIG1lZGlhLmFzc29jTGFuZyA9IGFzc29jTGFuZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbm5lbHMpIHtcbiAgICAgICAgICBtZWRpYS5jaGFubmVscyA9IGNoYW5uZWxzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyYWN0ZXJpc3RpY3MpIHtcbiAgICAgICAgICBtZWRpYS5jaGFyYWN0ZXJpc3RpY3MgPSBjaGFyYWN0ZXJpc3RpY3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RyZWFtSWQpIHtcbiAgICAgICAgICBtZWRpYS5pbnN0cmVhbUlkID0gaW5zdHJlYW1JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChncm91cHM/Lmxlbmd0aCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBhdWRpbyBvciB0ZXh0IGdyb3VwcyBzaWduYWxsZWQgaW4gdGhlIG1hbmlmZXN0LCBsZXQncyBsb29rIGZvciBhIG1hdGNoaW5nIGNvZGVjIHN0cmluZyBmb3IgdGhpcyB0cmFja1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGZpbmQgdGhlIHRyYWNrIHNpZ25hbGxlZCwgbGV0cyB1c2UgdGhlIGZpcnN0IGF1ZGlvIGdyb3VwcyBjb2RlYyB3ZSBoYXZlXG4gICAgICAgICAgLy8gQWN0aW5nIGFzIGEgYmVzdCBndWVzc1xuICAgICAgICAgIGNvbnN0IGdyb3VwQ29kZWMgPVxuICAgICAgICAgICAgTTNVOFBhcnNlci5maW5kR3JvdXAoZ3JvdXBzLCBtZWRpYS5ncm91cElkIGFzIHN0cmluZykgfHwgZ3JvdXBzWzBdO1xuICAgICAgICAgIGFzc2lnbkNvZGVjKG1lZGlhLCBncm91cENvZGVjLCAnYXVkaW9Db2RlYycpO1xuICAgICAgICAgIGFzc2lnbkNvZGVjKG1lZGlhLCBncm91cENvZGVjLCAndGV4dENvZGVjJyk7XG4gICAgICAgIH1cblxuICAgICAgICBtZWRpYXMucHVzaChtZWRpYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgc3RhdGljIHBhcnNlTGV2ZWxQbGF5bGlzdChcbiAgICBzdHJpbmc6IHN0cmluZyxcbiAgICBiYXNldXJsOiBzdHJpbmcsXG4gICAgaWQ6IG51bWJlcixcbiAgICB0eXBlOiBQbGF5bGlzdExldmVsVHlwZSxcbiAgICBsZXZlbFVybElkOiBudW1iZXIsXG4gICAgbXVsdGl2YXJpYW50VmFyaWFibGVMaXN0OiBWYXJpYWJsZU1hcCB8IG51bGwsXG4gICk6IExldmVsRGV0YWlscyB7XG4gICAgY29uc3QgbGV2ZWwgPSBuZXcgTGV2ZWxEZXRhaWxzKGJhc2V1cmwpO1xuICAgIGNvbnN0IGZyYWdtZW50czogTTNVOFBhcnNlckZyYWdtZW50cyA9IGxldmVsLmZyYWdtZW50cztcbiAgICAvLyBUaGUgbW9zdCByZWNlbnQgaW5pdCBzZWdtZW50IHNlZW4gKGFwcGxpZXMgdG8gYWxsIHN1YnNlcXVlbnQgc2VnbWVudHMpXG4gICAgbGV0IGN1cnJlbnRJbml0U2VnbWVudDogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgY3VycmVudFNOID0gMDtcbiAgICBsZXQgY3VycmVudFBhcnQgPSAwO1xuICAgIGxldCB0b3RhbGR1cmF0aW9uID0gMDtcbiAgICBsZXQgZGlzY29udGludWl0eUNvdW50ZXIgPSAwO1xuICAgIGxldCBwcmV2RnJhZzogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgZnJhZzogRnJhZ21lbnQgPSBuZXcgRnJhZ21lbnQodHlwZSwgYmFzZXVybCk7XG4gICAgbGV0IHJlc3VsdDogUmVnRXhwRXhlY0FycmF5IHwgUmVnRXhwTWF0Y2hBcnJheSB8IG51bGw7XG4gICAgbGV0IGk6IG51bWJlcjtcbiAgICBsZXQgbGV2ZWxrZXlzOiB7IFtrZXk6IHN0cmluZ106IExldmVsS2V5IH0gfCB1bmRlZmluZWQ7XG4gICAgbGV0IGZpcnN0UGR0SW5kZXggPSAtMTtcbiAgICBsZXQgY3JlYXRlTmV4dEZyYWcgPSBmYWxzZTtcbiAgICBsZXQgbmV4dEJ5dGVSYW5nZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNULmxhc3RJbmRleCA9IDA7XG4gICAgbGV2ZWwubTN1OCA9IHN0cmluZztcbiAgICBsZXZlbC5oYXNWYXJpYWJsZVJlZnMgPSBfX1VTRV9WQVJJQUJMRV9TVUJTVElUVVRJT05fX1xuICAgICAgPyBoYXNWYXJpYWJsZVJlZmVyZW5jZXMoc3RyaW5nKVxuICAgICAgOiBmYWxzZTtcblxuICAgIHdoaWxlICgocmVzdWx0ID0gTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3JlYXRlTmV4dEZyYWcpIHtcbiAgICAgICAgY3JlYXRlTmV4dEZyYWcgPSBmYWxzZTtcbiAgICAgICAgZnJhZyA9IG5ldyBGcmFnbWVudCh0eXBlLCBiYXNldXJsKTtcbiAgICAgICAgLy8gc2V0dXAgdGhlIG5leHQgZnJhZ21lbnQgZm9yIHBhcnQgbG9hZGluZ1xuICAgICAgICBmcmFnLnN0YXJ0ID0gdG90YWxkdXJhdGlvbjtcbiAgICAgICAgZnJhZy5zbiA9IGN1cnJlbnRTTjtcbiAgICAgICAgZnJhZy5jYyA9IGRpc2NvbnRpbnVpdHlDb3VudGVyO1xuICAgICAgICBmcmFnLmxldmVsID0gaWQ7XG4gICAgICAgIGlmIChjdXJyZW50SW5pdFNlZ21lbnQpIHtcbiAgICAgICAgICBmcmFnLmluaXRTZWdtZW50ID0gY3VycmVudEluaXRTZWdtZW50O1xuICAgICAgICAgIGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lID0gY3VycmVudEluaXRTZWdtZW50LnJhd1Byb2dyYW1EYXRlVGltZTtcbiAgICAgICAgICBjdXJyZW50SW5pdFNlZ21lbnQucmF3UHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgICBpZiAobmV4dEJ5dGVSYW5nZSkge1xuICAgICAgICAgICAgZnJhZy5zZXRCeXRlUmFuZ2UobmV4dEJ5dGVSYW5nZSk7XG4gICAgICAgICAgICBuZXh0Qnl0ZVJhbmdlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZHVyYXRpb24gPSByZXN1bHRbMV07XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgLy8gSU5GXG4gICAgICAgIGZyYWcuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uKTtcbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICBjb25zdCB0aXRsZSA9ICgnICcgKyByZXN1bHRbMl0pLnNsaWNlKDEpO1xuICAgICAgICBmcmFnLnRpdGxlID0gdGl0bGUgfHwgbnVsbDtcbiAgICAgICAgZnJhZy50YWdMaXN0LnB1c2godGl0bGUgPyBbJ0lORicsIGR1cmF0aW9uLCB0aXRsZV0gOiBbJ0lORicsIGR1cmF0aW9uXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdFszXSkge1xuICAgICAgICAvLyB1cmxcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShmcmFnLmR1cmF0aW9uKSkge1xuICAgICAgICAgIGZyYWcuc3RhcnQgPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICAgIGlmIChsZXZlbGtleXMpIHtcbiAgICAgICAgICAgIHNldEZyYWdMZXZlbEtleXMoZnJhZywgbGV2ZWxrZXlzLCBsZXZlbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYWcuc24gPSBjdXJyZW50U047XG4gICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgIGZyYWcuY2MgPSBkaXNjb250aW51aXR5Q291bnRlcjtcbiAgICAgICAgICBmcmFnbWVudHMucHVzaChmcmFnKTtcbiAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgY29uc3QgdXJpID0gKCcgJyArIHJlc3VsdFszXSkuc2xpY2UoMSk7XG4gICAgICAgICAgZnJhZy5yZWx1cmwgPSBfX1VTRV9WQVJJQUJMRV9TVUJTVElUVVRJT05fX1xuICAgICAgICAgICAgPyBzdWJzdGl0dXRlVmFyaWFibGVzKGxldmVsLCB1cmkpXG4gICAgICAgICAgICA6IHVyaTtcbiAgICAgICAgICBhc3NpZ25Qcm9ncmFtRGF0ZVRpbWUoZnJhZywgcHJldkZyYWcpO1xuICAgICAgICAgIHByZXZGcmFnID0gZnJhZztcbiAgICAgICAgICB0b3RhbGR1cmF0aW9uICs9IGZyYWcuZHVyYXRpb247XG4gICAgICAgICAgY3VycmVudFNOKys7XG4gICAgICAgICAgY3VycmVudFBhcnQgPSAwO1xuICAgICAgICAgIGNyZWF0ZU5leHRGcmFnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXN1bHRbNF0pIHtcbiAgICAgICAgLy8gWC1CWVRFUkFOR0VcbiAgICAgICAgY29uc3QgZGF0YSA9ICgnICcgKyByZXN1bHRbNF0pLnNsaWNlKDEpO1xuICAgICAgICBpZiAocHJldkZyYWcpIHtcbiAgICAgICAgICBmcmFnLnNldEJ5dGVSYW5nZShkYXRhLCBwcmV2RnJhZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJhZy5zZXRCeXRlUmFuZ2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0WzVdKSB7XG4gICAgICAgIC8vIFBST0dSQU0tREFURS1USU1FXG4gICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSAoJyAnICsgcmVzdWx0WzVdKS5zbGljZSgxKTtcbiAgICAgICAgZnJhZy50YWdMaXN0LnB1c2goWydQUk9HUkFNLURBVEUtVElNRScsIGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lXSk7XG4gICAgICAgIGlmIChmaXJzdFBkdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGZpcnN0UGR0SW5kZXggPSBmcmFnbWVudHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSByZXN1bHRbMF0ubWF0Y2goTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oJ05vIG1hdGNoZXMgb24gc2xvdyByZWdleCBtYXRjaCBmb3IgbGV2ZWwgcGxheWxpc3QhJyk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMTsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0W2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICBjb25zdCB0YWcgPSAoJyAnICsgcmVzdWx0W2ldKS5zbGljZSgxKTtcbiAgICAgICAgY29uc3QgdmFsdWUxID0gKCcgJyArIHJlc3VsdFtpICsgMV0pLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCB2YWx1ZTIgPSByZXN1bHRbaSArIDJdID8gKCcgJyArIHJlc3VsdFtpICsgMl0pLnNsaWNlKDEpIDogJyc7XG5cbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdQTEFZTElTVC1UWVBFJzpcbiAgICAgICAgICAgIGxldmVsLnR5cGUgPSB2YWx1ZTEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01FRElBLVNFUVVFTkNFJzpcbiAgICAgICAgICAgIGN1cnJlbnRTTiA9IGxldmVsLnN0YXJ0U04gPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnU0tJUCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHNraXBBdHRycyA9IG5ldyBBdHRyTGlzdCh2YWx1ZTEpO1xuICAgICAgICAgICAgaWYgKF9fVVNFX1ZBUklBQkxFX1NVQlNUSVRVVElPTl9fKSB7XG4gICAgICAgICAgICAgIHN1YnN0aXR1dGVWYXJpYWJsZXNJbkF0dHJpYnV0ZXMobGV2ZWwsIHNraXBBdHRycywgW1xuICAgICAgICAgICAgICAgICdSRUNFTlRMWS1SRU1PVkVELURBVEVSQU5HRVMnLFxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNraXBwZWRTZWdtZW50cyA9XG4gICAgICAgICAgICAgIHNraXBBdHRycy5kZWNpbWFsSW50ZWdlcignU0tJUFBFRC1TRUdNRU5UUycpO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShza2lwcGVkU2VnbWVudHMpKSB7XG4gICAgICAgICAgICAgIGxldmVsLnNraXBwZWRTZWdtZW50cyA9IHNraXBwZWRTZWdtZW50cztcbiAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIHJlc3VsdCBpbiBmcmFnbWVudHNbXSBjb250YWluaW5nIHVuZGVmaW5lZCB2YWx1ZXMsIHdoaWNoIHdlIHdpbGwgZmlsbCBpbiB3aXRoIGBtZXJnZURldGFpbHNgXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSBza2lwcGVkU2VnbWVudHM7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRzLnVuc2hpZnQobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudFNOICs9IHNraXBwZWRTZWdtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXMgPSBza2lwQXR0cnMuZW51bWVyYXRlZFN0cmluZyhcbiAgICAgICAgICAgICAgJ1JFQ0VOVExZLVJFTU9WRUQtREFURVJBTkdFUycsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXMpIHtcbiAgICAgICAgICAgICAgbGV2ZWwucmVjZW50bHlSZW1vdmVkRGF0ZXJhbmdlcyA9XG4gICAgICAgICAgICAgICAgcmVjZW50bHlSZW1vdmVkRGF0ZXJhbmdlcy5zcGxpdCgnXFx0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnVEFSR0VURFVSQVRJT04nOlxuICAgICAgICAgICAgbGV2ZWwudGFyZ2V0ZHVyYXRpb24gPSBNYXRoLm1heChwYXJzZUludCh2YWx1ZTEpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1ZFUlNJT04nOlxuICAgICAgICAgICAgbGV2ZWwudmVyc2lvbiA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdJTkRFUEVOREVOVC1TRUdNRU5UUyc6XG4gICAgICAgICAgY2FzZSAnRVhUTTNVJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0VORExJU1QnOlxuICAgICAgICAgICAgbGV2ZWwubGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICBpZiAodmFsdWUxIHx8IHZhbHVlMikge1xuICAgICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaCh2YWx1ZTIgPyBbdmFsdWUxLCB2YWx1ZTJdIDogW3ZhbHVlMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnRElTQ09OVElOVUlUWSc6XG4gICAgICAgICAgICBkaXNjb250aW51aXR5Q291bnRlcisrO1xuICAgICAgICAgICAgZnJhZy50YWdMaXN0LnB1c2goWydESVMnXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdHQVAnOlxuICAgICAgICAgICAgZnJhZy5nYXAgPSB0cnVlO1xuICAgICAgICAgICAgZnJhZy50YWdMaXN0LnB1c2goW3RhZ10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnQklUUkFURSc6XG4gICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaChbdGFnLCB2YWx1ZTFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0RBVEVSQU5HRSc6IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVSYW5nZUF0dHIgPSBuZXcgQXR0ckxpc3QodmFsdWUxKTtcbiAgICAgICAgICAgIGlmIChfX1VTRV9WQVJJQUJMRV9TVUJTVElUVVRJT05fXykge1xuICAgICAgICAgICAgICBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKGxldmVsLCBkYXRlUmFuZ2VBdHRyLCBbXG4gICAgICAgICAgICAgICAgJ0lEJyxcbiAgICAgICAgICAgICAgICAnQ0xBU1MnLFxuICAgICAgICAgICAgICAgICdTVEFSVC1EQVRFJyxcbiAgICAgICAgICAgICAgICAnRU5ELURBVEUnLFxuICAgICAgICAgICAgICAgICdTQ1RFMzUtQ01EJyxcbiAgICAgICAgICAgICAgICAnU0NURTM1LU9VVCcsXG4gICAgICAgICAgICAgICAgJ1NDVEUzNS1JTicsXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgICAgIGRhdGVSYW5nZUF0dHIsXG4gICAgICAgICAgICAgICAgZGF0ZVJhbmdlQXR0ci5jbGllbnRBdHRycyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGVSYW5nZSA9IG5ldyBEYXRlUmFuZ2UoXG4gICAgICAgICAgICAgIGRhdGVSYW5nZUF0dHIsXG4gICAgICAgICAgICAgIGxldmVsLmRhdGVSYW5nZXNbZGF0ZVJhbmdlQXR0ci5JRF0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRhdGVSYW5nZS5pc1ZhbGlkIHx8IGxldmVsLnNraXBwZWRTZWdtZW50cykge1xuICAgICAgICAgICAgICBsZXZlbC5kYXRlUmFuZ2VzW2RhdGVSYW5nZS5pZF0gPSBkYXRlUmFuZ2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb2dnZXIud2FybihgSWdub3JpbmcgaW52YWxpZCBEQVRFUkFOR0UgdGFnOiBcIiR7dmFsdWUxfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgdG8gZnJhZ21lbnQgdGFnIGxpc3QgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ICg8IHYxLjIuMClcbiAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKFsnRVhULVgtREFURVJBTkdFJywgdmFsdWUxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnREVGSU5FJzoge1xuICAgICAgICAgICAgaWYgKF9fVVNFX1ZBUklBQkxFX1NVQlNUSVRVVElPTl9fKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlQXR0cmlidXRlcyA9IG5ldyBBdHRyTGlzdCh2YWx1ZTEpO1xuICAgICAgICAgICAgICBzdWJzdGl0dXRlVmFyaWFibGVzSW5BdHRyaWJ1dGVzKGxldmVsLCB2YXJpYWJsZUF0dHJpYnV0ZXMsIFtcbiAgICAgICAgICAgICAgICAnTkFNRScsXG4gICAgICAgICAgICAgICAgJ1ZBTFVFJyxcbiAgICAgICAgICAgICAgICAnSU1QT1JUJyxcbiAgICAgICAgICAgICAgICAnUVVFUllQQVJBTScsXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICBpZiAoJ0lNUE9SVCcgaW4gdmFyaWFibGVBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgaW1wb3J0VmFyaWFibGVEZWZpbml0aW9uKFxuICAgICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgICB2YXJpYWJsZUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICBtdWx0aXZhcmlhbnRWYXJpYWJsZUxpc3QsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRWYXJpYWJsZURlZmluaXRpb24obGV2ZWwsIHZhcmlhYmxlQXR0cmlidXRlcywgYmFzZXVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ0RJU0NPTlRJTlVJVFktU0VRVUVOQ0UnOlxuICAgICAgICAgICAgZGlzY29udGludWl0eUNvdW50ZXIgPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnS0VZJzoge1xuICAgICAgICAgICAgY29uc3QgbGV2ZWxLZXkgPSBwYXJzZUtleSh2YWx1ZTEsIGJhc2V1cmwsIGxldmVsKTtcbiAgICAgICAgICAgIGlmIChsZXZlbEtleS5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgIGlmIChsZXZlbEtleS5tZXRob2QgPT09ICdOT05FJykge1xuICAgICAgICAgICAgICAgIGxldmVsa2V5cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWxldmVsa2V5cykge1xuICAgICAgICAgICAgICAgIGxldmVsa2V5cyA9IHt9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsZXZlbGtleXNbbGV2ZWxLZXkua2V5Rm9ybWF0XSkge1xuICAgICAgICAgICAgICAgIGxldmVsa2V5cyA9IE9iamVjdC5hc3NpZ24oe30sIGxldmVsa2V5cyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV2ZWxrZXlzW2xldmVsS2V5LmtleUZvcm1hdF0gPSBsZXZlbEtleTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBbS2V5c10gSWdub3JpbmcgaW52YWxpZCBFWFQtWC1LRVkgdGFnOiBcIiR7dmFsdWUxfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnU1RBUlQnOlxuICAgICAgICAgICAgbGV2ZWwuc3RhcnRUaW1lT2Zmc2V0ID0gcGFyc2VTdGFydFRpbWVPZmZzZXQodmFsdWUxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01BUCc6IHtcbiAgICAgICAgICAgIGNvbnN0IG1hcEF0dHJzID0gbmV3IEF0dHJMaXN0KHZhbHVlMSk7XG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhsZXZlbCwgbWFwQXR0cnMsIFtcbiAgICAgICAgICAgICAgICAnQllURVJBTkdFJyxcbiAgICAgICAgICAgICAgICAnVVJJJyxcbiAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhZy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAvLyBJbml0aWFsIHNlZ21lbnQgdGFnIGlzIGFmdGVyIHNlZ21lbnQgZHVyYXRpb24gdGFnLlxuICAgICAgICAgICAgICAvLyAgICNFWFRJTkY6IDYuMFxuICAgICAgICAgICAgICAvLyAgICNFWFQtWC1NQVA6VVJJPVwiaW5pdC5tcDRcbiAgICAgICAgICAgICAgY29uc3QgaW5pdCA9IG5ldyBGcmFnbWVudCh0eXBlLCBiYXNldXJsKTtcbiAgICAgICAgICAgICAgc2V0SW5pdFNlZ21lbnQoaW5pdCwgbWFwQXR0cnMsIGlkLCBsZXZlbGtleXMpO1xuICAgICAgICAgICAgICBjdXJyZW50SW5pdFNlZ21lbnQgPSBpbml0O1xuICAgICAgICAgICAgICBmcmFnLmluaXRTZWdtZW50ID0gY3VycmVudEluaXRTZWdtZW50O1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY3VycmVudEluaXRTZWdtZW50LnJhd1Byb2dyYW1EYXRlVGltZSAmJlxuICAgICAgICAgICAgICAgICFmcmFnLnJhd1Byb2dyYW1EYXRlVGltZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBmcmFnLnJhd1Byb2dyYW1EYXRlVGltZSA9IGN1cnJlbnRJbml0U2VnbWVudC5yYXdQcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEluaXRpYWwgc2VnbWVudCB0YWcgaXMgYmVmb3JlIHNlZ21lbnQgZHVyYXRpb24gdGFnXG4gICAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIEVYVC1YLU1BUCBpcyBkZWNsYXJlZCBhZnRlciBFWFQtWC1CWVRFUkFOR0VcbiAgICAgICAgICAgICAgY29uc3QgZW5kID0gZnJhZy5ieXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGZyYWcuYnl0ZVJhbmdlU3RhcnRPZmZzZXQgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgIG5leHRCeXRlUmFuZ2UgPSBgJHtlbmQgLSBzdGFydH1AJHtzdGFydH1gO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRCeXRlUmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldEluaXRTZWdtZW50KGZyYWcsIG1hcEF0dHJzLCBpZCwgbGV2ZWxrZXlzKTtcbiAgICAgICAgICAgICAgY3VycmVudEluaXRTZWdtZW50ID0gZnJhZztcbiAgICAgICAgICAgICAgY3JlYXRlTmV4dEZyYWcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ1NFUlZFUi1DT05UUk9MJzoge1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyQ29udHJvbEF0dHJzID0gbmV3IEF0dHJMaXN0KHZhbHVlMSk7XG4gICAgICAgICAgICBsZXZlbC5jYW5CbG9ja1JlbG9hZCA9IHNlcnZlckNvbnRyb2xBdHRycy5ib29sKCdDQU4tQkxPQ0stUkVMT0FEJyk7XG4gICAgICAgICAgICBsZXZlbC5jYW5Ta2lwVW50aWwgPSBzZXJ2ZXJDb250cm9sQXR0cnMub3B0aW9uYWxGbG9hdChcbiAgICAgICAgICAgICAgJ0NBTi1TS0lQLVVOVElMJyxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZXZlbC5jYW5Ta2lwRGF0ZVJhbmdlcyA9XG4gICAgICAgICAgICAgIGxldmVsLmNhblNraXBVbnRpbCA+IDAgJiZcbiAgICAgICAgICAgICAgc2VydmVyQ29udHJvbEF0dHJzLmJvb2woJ0NBTi1TS0lQLURBVEVSQU5HRVMnKTtcbiAgICAgICAgICAgIGxldmVsLnBhcnRIb2xkQmFjayA9IHNlcnZlckNvbnRyb2xBdHRycy5vcHRpb25hbEZsb2F0KFxuICAgICAgICAgICAgICAnUEFSVC1IT0xELUJBQ0snLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxldmVsLmhvbGRCYWNrID0gc2VydmVyQ29udHJvbEF0dHJzLm9wdGlvbmFsRmxvYXQoJ0hPTEQtQkFDSycsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ1BBUlQtSU5GJzoge1xuICAgICAgICAgICAgY29uc3QgcGFydEluZkF0dHJzID0gbmV3IEF0dHJMaXN0KHZhbHVlMSk7XG4gICAgICAgICAgICBsZXZlbC5wYXJ0VGFyZ2V0ID0gcGFydEluZkF0dHJzLmRlY2ltYWxGbG9hdGluZ1BvaW50KCdQQVJULVRBUkdFVCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ1BBUlQnOiB7XG4gICAgICAgICAgICBsZXQgcGFydExpc3QgPSBsZXZlbC5wYXJ0TGlzdDtcbiAgICAgICAgICAgIGlmICghcGFydExpc3QpIHtcbiAgICAgICAgICAgICAgcGFydExpc3QgPSBsZXZlbC5wYXJ0TGlzdCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNGcmFnbWVudFBhcnQgPVxuICAgICAgICAgICAgICBjdXJyZW50UGFydCA+IDAgPyBwYXJ0TGlzdFtwYXJ0TGlzdC5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY3VycmVudFBhcnQrKztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBdHRycyA9IG5ldyBBdHRyTGlzdCh2YWx1ZTEpO1xuICAgICAgICAgICAgaWYgKF9fVVNFX1ZBUklBQkxFX1NVQlNUSVRVVElPTl9fKSB7XG4gICAgICAgICAgICAgIHN1YnN0aXR1dGVWYXJpYWJsZXNJbkF0dHJpYnV0ZXMobGV2ZWwsIHBhcnRBdHRycywgW1xuICAgICAgICAgICAgICAgICdCWVRFUkFOR0UnLFxuICAgICAgICAgICAgICAgICdVUkknLFxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBuZXcgUGFydChcbiAgICAgICAgICAgICAgcGFydEF0dHJzLFxuICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICBiYXNldXJsLFxuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgcHJldmlvdXNGcmFnbWVudFBhcnQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcGFydExpc3QucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIGZyYWcuZHVyYXRpb24gKz0gcGFydC5kdXJhdGlvbjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdQUkVMT0FELUhJTlQnOiB7XG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkSGludEF0dHJzID0gbmV3IEF0dHJMaXN0KHZhbHVlMSk7XG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhsZXZlbCwgcHJlbG9hZEhpbnRBdHRycywgWydVUkknXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbC5wcmVsb2FkSGludCA9IHByZWxvYWRIaW50QXR0cnM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnUkVORElUSU9OLVJFUE9SVCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRpdGlvblJlcG9ydEF0dHJzID0gbmV3IEF0dHJMaXN0KHZhbHVlMSk7XG4gICAgICAgICAgICBpZiAoX19VU0VfVkFSSUFCTEVfU1VCU1RJVFVUSU9OX18pIHtcbiAgICAgICAgICAgICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhsZXZlbCwgcmVuZGl0aW9uUmVwb3J0QXR0cnMsIFtcbiAgICAgICAgICAgICAgICAnVVJJJyxcbiAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbC5yZW5kaXRpb25SZXBvcnRzID0gbGV2ZWwucmVuZGl0aW9uUmVwb3J0cyB8fCBbXTtcbiAgICAgICAgICAgIGxldmVsLnJlbmRpdGlvblJlcG9ydHMucHVzaChyZW5kaXRpb25SZXBvcnRBdHRycyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBsaW5lIHBhcnNlZCBidXQgbm90IGhhbmRsZWQ6ICR7cmVzdWx0fWApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXZGcmFnICYmICFwcmV2RnJhZy5yZWx1cmwpIHtcbiAgICAgIGZyYWdtZW50cy5wb3AoKTtcbiAgICAgIHRvdGFsZHVyYXRpb24gLT0gcHJldkZyYWcuZHVyYXRpb247XG4gICAgICBpZiAobGV2ZWwucGFydExpc3QpIHtcbiAgICAgICAgbGV2ZWwuZnJhZ21lbnRIaW50ID0gcHJldkZyYWc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsZXZlbC5wYXJ0TGlzdCkge1xuICAgICAgYXNzaWduUHJvZ3JhbURhdGVUaW1lKGZyYWcsIHByZXZGcmFnKTtcbiAgICAgIGZyYWcuY2MgPSBkaXNjb250aW51aXR5Q291bnRlcjtcbiAgICAgIGxldmVsLmZyYWdtZW50SGludCA9IGZyYWc7XG4gICAgICBpZiAobGV2ZWxrZXlzKSB7XG4gICAgICAgIHNldEZyYWdMZXZlbEtleXMoZnJhZywgbGV2ZWxrZXlzLCBsZXZlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZyYWdtZW50TGVuZ3RoID0gZnJhZ21lbnRzLmxlbmd0aDtcbiAgICBjb25zdCBmaXJzdEZyYWdtZW50ID0gZnJhZ21lbnRzWzBdO1xuICAgIGNvbnN0IGxhc3RGcmFnbWVudCA9IGZyYWdtZW50c1tmcmFnbWVudExlbmd0aCAtIDFdO1xuICAgIHRvdGFsZHVyYXRpb24gKz0gbGV2ZWwuc2tpcHBlZFNlZ21lbnRzICogbGV2ZWwudGFyZ2V0ZHVyYXRpb247XG4gICAgaWYgKHRvdGFsZHVyYXRpb24gPiAwICYmIGZyYWdtZW50TGVuZ3RoICYmIGxhc3RGcmFnbWVudCkge1xuICAgICAgbGV2ZWwuYXZlcmFnZXRhcmdldGR1cmF0aW9uID0gdG90YWxkdXJhdGlvbiAvIGZyYWdtZW50TGVuZ3RoO1xuICAgICAgY29uc3QgbGFzdFNuID0gbGFzdEZyYWdtZW50LnNuO1xuICAgICAgbGV2ZWwuZW5kU04gPSBsYXN0U24gIT09ICdpbml0U2VnbWVudCcgPyBsYXN0U24gOiAwO1xuICAgICAgaWYgKCFsZXZlbC5saXZlKSB7XG4gICAgICAgIGxhc3RGcmFnbWVudC5lbmRMaXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChmaXJzdEZyYWdtZW50KSB7XG4gICAgICAgIGxldmVsLnN0YXJ0Q0MgPSBmaXJzdEZyYWdtZW50LmNjO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXZlbC5lbmRTTiA9IDA7XG4gICAgICBsZXZlbC5zdGFydENDID0gMDtcbiAgICB9XG4gICAgaWYgKGxldmVsLmZyYWdtZW50SGludCkge1xuICAgICAgdG90YWxkdXJhdGlvbiArPSBsZXZlbC5mcmFnbWVudEhpbnQuZHVyYXRpb247XG4gICAgfVxuICAgIGxldmVsLnRvdGFsZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uO1xuICAgIGxldmVsLmVuZENDID0gZGlzY29udGludWl0eUNvdW50ZXI7XG5cbiAgICAvKipcbiAgICAgKiBCYWNrZmlsbCBhbnkgbWlzc2luZyBQRFQgdmFsdWVzXG4gICAgICogXCJJZiB0aGUgZmlyc3QgRVhULVgtUFJPR1JBTS1EQVRFLVRJTUUgdGFnIGluIGEgUGxheWxpc3QgYXBwZWFycyBhZnRlclxuICAgICAqIG9uZSBvciBtb3JlIE1lZGlhIFNlZ21lbnQgVVJJcywgdGhlIGNsaWVudCBTSE9VTEQgZXh0cmFwb2xhdGVcbiAgICAgKiBiYWNrd2FyZCBmcm9tIHRoYXQgdGFnICh1c2luZyBFWFRJTkYgZHVyYXRpb25zIGFuZC9vciBtZWRpYVxuICAgICAqIHRpbWVzdGFtcHMpIHRvIGFzc29jaWF0ZSBkYXRlcyB3aXRoIHRob3NlIHNlZ21lbnRzLlwiXG4gICAgICogV2UgaGF2ZSBhbHJlYWR5IGV4dHJhcG9sYXRlZCBmb3J3YXJkLCBidXQgYWxsIGZyYWdtZW50cyB1cCB0byB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgUERUIGRvIG5vdCBoYXZlIHRoZWlyIFBEVHNcbiAgICAgKiBjb21wdXRlZC5cbiAgICAgKi9cbiAgICBpZiAoZmlyc3RQZHRJbmRleCA+IDApIHtcbiAgICAgIGJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyhmcmFnbWVudHMsIGZpcnN0UGR0SW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiBsZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUtleShcbiAga2V5VGFnQXR0cmlidXRlczogc3RyaW5nLFxuICBiYXNldXJsOiBzdHJpbmcsXG4gIHBhcnNlZDogUGFyc2VkTXVsdGl2YXJpYW50UGxheWxpc3QgfCBMZXZlbERldGFpbHMsXG4pOiBMZXZlbEtleSB7XG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM4MjE2I3NlY3Rpb24tNC4zLjIuNFxuICBjb25zdCBrZXlBdHRycyA9IG5ldyBBdHRyTGlzdChrZXlUYWdBdHRyaWJ1dGVzKTtcbiAgaWYgKF9fVVNFX1ZBUklBQkxFX1NVQlNUSVRVVElPTl9fKSB7XG4gICAgc3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyhwYXJzZWQsIGtleUF0dHJzLCBbXG4gICAgICAnS0VZRk9STUFUJyxcbiAgICAgICdLRVlGT1JNQVRWRVJTSU9OUycsXG4gICAgICAnVVJJJyxcbiAgICAgICdJVicsXG4gICAgICAnVVJJJyxcbiAgICBdKTtcbiAgfVxuICBjb25zdCBkZWNyeXB0bWV0aG9kID0ga2V5QXR0cnMuTUVUSE9EID8/ICcnO1xuICBjb25zdCBkZWNyeXB0dXJpID0ga2V5QXR0cnMuVVJJO1xuICBjb25zdCBkZWNyeXB0aXYgPSBrZXlBdHRycy5oZXhhZGVjaW1hbEludGVnZXIoJ0lWJyk7XG4gIGNvbnN0IGRlY3J5cHRrZXlmb3JtYXR2ZXJzaW9ucyA9IGtleUF0dHJzLktFWUZPUk1BVFZFUlNJT05TO1xuICAvLyBGcm9tIFJGQzogVGhpcyBhdHRyaWJ1dGUgaXMgT1BUSU9OQUw7IGl0cyBhYnNlbmNlIGluZGljYXRlcyBhbiBpbXBsaWNpdCB2YWx1ZSBvZiBcImlkZW50aXR5XCIuXG4gIGNvbnN0IGRlY3J5cHRrZXlmb3JtYXQgPSBrZXlBdHRycy5LRVlGT1JNQVQgPz8gJ2lkZW50aXR5JztcblxuICBpZiAoZGVjcnlwdHVyaSAmJiBrZXlBdHRycy5JViAmJiAhZGVjcnlwdGl2KSB7XG4gICAgbG9nZ2VyLmVycm9yKGBJbnZhbGlkIElWOiAke2tleUF0dHJzLklWfWApO1xuICB9XG4gIC8vIElmIGRlY3J5cHR1cmkgaXMgYSBVUkkgd2l0aCBhIHNjaGVtZSwgdGhlbiBiYXNldXJsIHdpbGwgYmUgaWdub3JlZFxuICAvLyBObyB1cmkgaXMgYWxsb3dlZCB3aGVuIE1FVEhPRCBpcyBOT05FXG4gIGNvbnN0IHJlc29sdmVkVXJpID0gZGVjcnlwdHVyaSA/IE0zVThQYXJzZXIucmVzb2x2ZShkZWNyeXB0dXJpLCBiYXNldXJsKSA6ICcnO1xuICBjb25zdCBrZXlGb3JtYXRWZXJzaW9ucyA9IChcbiAgICBkZWNyeXB0a2V5Zm9ybWF0dmVyc2lvbnMgPyBkZWNyeXB0a2V5Zm9ybWF0dmVyc2lvbnMgOiAnMSdcbiAgKVxuICAgIC5zcGxpdCgnLycpXG4gICAgLm1hcChOdW1iZXIpXG4gICAgLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO1xuXG4gIHJldHVybiBuZXcgTGV2ZWxLZXkoXG4gICAgZGVjcnlwdG1ldGhvZCxcbiAgICByZXNvbHZlZFVyaSxcbiAgICBkZWNyeXB0a2V5Zm9ybWF0LFxuICAgIGtleUZvcm1hdFZlcnNpb25zLFxuICAgIGRlY3J5cHRpdixcbiAgKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTdGFydFRpbWVPZmZzZXQoc3RhcnRBdHRyaWJ1dGVzOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3Qgc3RhcnRBdHRycyA9IG5ldyBBdHRyTGlzdChzdGFydEF0dHJpYnV0ZXMpO1xuICBjb25zdCBzdGFydFRpbWVPZmZzZXQgPSBzdGFydEF0dHJzLmRlY2ltYWxGbG9hdGluZ1BvaW50KCdUSU1FLU9GRlNFVCcpO1xuICBpZiAoTnVtYmVyLmlzRmluaXRlKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICByZXR1cm4gc3RhcnRUaW1lT2Zmc2V0O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRDb2RlY3MoXG4gIGNvZGVjc0F0dHJpYnV0ZVZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIGxldmVsOiBMZXZlbFBhcnNlZCxcbikge1xuICBsZXQgY29kZWNzID0gKGNvZGVjc0F0dHJpYnV0ZVZhbHVlIHx8ICcnKS5zcGxpdCgvWyAsXSsvKS5maWx0ZXIoKGMpID0+IGMpO1xuICBbJ3ZpZGVvJywgJ2F1ZGlvJywgJ3RleHQnXS5mb3JFYWNoKCh0eXBlOiBDb2RlY1R5cGUpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGNvZGVjcy5maWx0ZXIoKGNvZGVjKSA9PiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSkpO1xuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGgpIHtcbiAgICAgIC8vIENvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGFsbCBjb2RlY3MgZm9yIHR5cGVcbiAgICAgIGxldmVsW2Ake3R5cGV9Q29kZWNgXSA9IGZpbHRlcmVkLmpvaW4oJywnKTtcbiAgICAgIC8vIFJlbW92ZSBrbm93biBjb2RlY3Mgc28gdGhhdCBvbmx5IHVua25vd25Db2RlY3MgYXJlIGxlZnQgYWZ0ZXIgaXRlcmF0aW5nIHRocm91Z2ggZWFjaCB0eXBlXG4gICAgICBjb2RlY3MgPSBjb2RlY3MuZmlsdGVyKChjb2RlYykgPT4gZmlsdGVyZWQuaW5kZXhPZihjb2RlYykgPT09IC0xKTtcbiAgICB9XG4gIH0pO1xuICBsZXZlbC51bmtub3duQ29kZWNzID0gY29kZWNzO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25Db2RlYyhcbiAgbWVkaWE6IE1lZGlhUGxheWxpc3QsXG4gIGdyb3VwSXRlbTogeyBhdWRpb0NvZGVjPzogc3RyaW5nOyB0ZXh0Q29kZWM/OiBzdHJpbmcgfSxcbiAgY29kZWNQcm9wZXJ0eTogJ2F1ZGlvQ29kZWMnIHwgJ3RleHRDb2RlYycsXG4pIHtcbiAgY29uc3QgY29kZWNWYWx1ZSA9IGdyb3VwSXRlbVtjb2RlY1Byb3BlcnR5XTtcbiAgaWYgKGNvZGVjVmFsdWUpIHtcbiAgICBtZWRpYVtjb2RlY1Byb3BlcnR5XSA9IGNvZGVjVmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzKFxuICBmcmFnbWVudHM6IE0zVThQYXJzZXJGcmFnbWVudHMsXG4gIGZpcnN0UGR0SW5kZXg6IG51bWJlcixcbikge1xuICBsZXQgZnJhZ1ByZXYgPSBmcmFnbWVudHNbZmlyc3RQZHRJbmRleF0gYXMgRnJhZ21lbnQ7XG4gIGZvciAobGV0IGkgPSBmaXJzdFBkdEluZGV4OyBpLS07ICkge1xuICAgIGNvbnN0IGZyYWcgPSBmcmFnbWVudHNbaV07XG4gICAgLy8gRXhpdCBvbiBkZWx0YS1wbGF5bGlzdCBza2lwcGVkIHNlZ21lbnRzXG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID1cbiAgICAgIChmcmFnUHJldi5wcm9ncmFtRGF0ZVRpbWUgYXMgbnVtYmVyKSAtIGZyYWcuZHVyYXRpb24gKiAxMDAwO1xuICAgIGZyYWdQcmV2ID0gZnJhZztcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Qcm9ncmFtRGF0ZVRpbWUoZnJhZywgcHJldkZyYWcpIHtcbiAgaWYgKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgZnJhZy5wcm9ncmFtRGF0ZVRpbWUgPSBEYXRlLnBhcnNlKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKTtcbiAgfSBlbHNlIGlmIChwcmV2RnJhZz8ucHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgZnJhZy5wcm9ncmFtRGF0ZVRpbWUgPSBwcmV2RnJhZy5lbmRQcm9ncmFtRGF0ZVRpbWU7XG4gIH1cblxuICBpZiAoIU51bWJlci5pc0Zpbml0ZShmcmFnLnByb2dyYW1EYXRlVGltZSkpIHtcbiAgICBmcmFnLnByb2dyYW1EYXRlVGltZSA9IG51bGw7XG4gICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEluaXRTZWdtZW50KFxuICBmcmFnOiBGcmFnbWVudCxcbiAgbWFwQXR0cnM6IEF0dHJMaXN0LFxuICBpZDogbnVtYmVyLFxuICBsZXZlbGtleXM6IHsgW2tleTogc3RyaW5nXTogTGV2ZWxLZXkgfSB8IHVuZGVmaW5lZCxcbikge1xuICBmcmFnLnJlbHVybCA9IG1hcEF0dHJzLlVSSTtcbiAgaWYgKG1hcEF0dHJzLkJZVEVSQU5HRSkge1xuICAgIGZyYWcuc2V0Qnl0ZVJhbmdlKG1hcEF0dHJzLkJZVEVSQU5HRSk7XG4gIH1cbiAgZnJhZy5sZXZlbCA9IGlkO1xuICBmcmFnLnNuID0gJ2luaXRTZWdtZW50JztcbiAgaWYgKGxldmVsa2V5cykge1xuICAgIGZyYWcubGV2ZWxrZXlzID0gbGV2ZWxrZXlzO1xuICB9XG4gIGZyYWcuaW5pdFNlZ21lbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRGcmFnTGV2ZWxLZXlzKFxuICBmcmFnOiBGcmFnbWVudCxcbiAgbGV2ZWxrZXlzOiB7IFtrZXk6IHN0cmluZ106IExldmVsS2V5IH0sXG4gIGxldmVsOiBMZXZlbERldGFpbHMsXG4pIHtcbiAgZnJhZy5sZXZlbGtleXMgPSBsZXZlbGtleXM7XG4gIGNvbnN0IHsgZW5jcnlwdGVkRnJhZ21lbnRzIH0gPSBsZXZlbDtcbiAgaWYgKFxuICAgICghZW5jcnlwdGVkRnJhZ21lbnRzLmxlbmd0aCB8fFxuICAgICAgZW5jcnlwdGVkRnJhZ21lbnRzW2VuY3J5cHRlZEZyYWdtZW50cy5sZW5ndGggLSAxXS5sZXZlbGtleXMgIT09XG4gICAgICAgIGxldmVsa2V5cykgJiZcbiAgICBPYmplY3Qua2V5cyhsZXZlbGtleXMpLnNvbWUoXG4gICAgICAoZm9ybWF0KSA9PiBsZXZlbGtleXMhW2Zvcm1hdF0uaXNDb21tb25FbmNyeXB0aW9uLFxuICAgIClcbiAgKSB7XG4gICAgZW5jcnlwdGVkRnJhZ21lbnRzLnB1c2goZnJhZyk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IExvYWRlckNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgUGFydCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7IEtleUxvYWRlckluZm8gfSBmcm9tICcuLi9sb2FkZXIva2V5LWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB0eXBlIHsgSGxzVXJsUGFyYW1ldGVycyB9IGZyb20gJy4vbGV2ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvYWRlckNvbnRleHQge1xuICAvLyB0YXJnZXQgVVJMXG4gIHVybDogc3RyaW5nO1xuICAvLyBsb2FkZXIgcmVzcG9uc2UgdHlwZSAoYXJyYXlidWZmZXIgb3IgZGVmYXVsdCByZXNwb25zZSB0eXBlIGZvciBwbGF5bGlzdClcbiAgcmVzcG9uc2VUeXBlOiBzdHJpbmc7XG4gIC8vIGhlYWRlcnNcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIC8vIHN0YXJ0IGJ5dGUgcmFuZ2Ugb2Zmc2V0XG4gIHJhbmdlU3RhcnQ/OiBudW1iZXI7XG4gIC8vIGVuZCBieXRlIHJhbmdlIG9mZnNldFxuICByYW5nZUVuZD86IG51bWJlcjtcbiAgLy8gdHJ1ZSBpZiBvblByb2dyZXNzIHNob3VsZCByZXBvcnQgcGFydGlhbCBjaHVuayBvZiBsb2FkZWQgY29udGVudFxuICBwcm9ncmVzc0RhdGE/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZyYWdtZW50TG9hZGVyQ29udGV4dCBleHRlbmRzIExvYWRlckNvbnRleHQge1xuICBmcmFnOiBGcmFnbWVudDtcbiAgcGFydDogUGFydCB8IG51bGw7XG4gIHJlc2V0SVY/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtleUxvYWRlckNvbnRleHQgZXh0ZW5kcyBMb2FkZXJDb250ZXh0IHtcbiAga2V5SW5mbzogS2V5TG9hZGVySW5mbztcbiAgZnJhZzogRnJhZ21lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVyQ29uZmlndXJhdGlvbiB7XG4gIC8vIExvYWRlckNvbmZpZyBwb2xpY3kgdGhhdCBvdmVycmlkZXMgcmVxdWlyZWQgc2V0dGluZ3NcbiAgbG9hZFBvbGljeTogTG9hZGVyQ29uZmlnO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIExvYWRlckNvbmZpZyB0aW1lb3V0UmV0cnkgYW5kIGVycm9yUmV0cnkgbWF4TnVtUmV0cnlcbiAgICovXG4gIC8vIE1heCBudW1iZXIgb2YgbG9hZCByZXRyaWVzXG4gIG1heFJldHJ5OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgTG9hZGVyQ29uZmlnIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zIGFuZCBtYXhMb2FkVGltZU1zXG4gICAqL1xuICAvLyBUaW1lb3V0IGFmdGVyIHdoaWNoIGBvblRpbWVPdXRgIGNhbGxiYWNrIHdpbGwgYmUgdHJpZ2dlcmVkXG4gIC8vICB3aGVuIGxvYWRpbmcgaGFzIG5vdCBmaW5pc2hlZCBhZnRlciB0aGF0IGRlbGF5XG4gIHRpbWVvdXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBMb2FkZXJDb25maWcgdGltZW91dFJldHJ5IGFuZCBlcnJvclJldHJ5IHJldHJ5RGVsYXlNc1xuICAgKi9cbiAgLy8gRGVsYXkgYmV0d2VlbiBhbiBJL08gZXJyb3IgYW5kIGZvbGxvd2luZyBjb25uZWN0aW9uIHJldHJ5IChtcykuXG4gIC8vIFRoaXMgdG8gYXZvaWQgc3BhbW1pbmcgdGhlIHNlcnZlclxuICByZXRyeURlbGF5OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgTG9hZGVyQ29uZmlnIHRpbWVvdXRSZXRyeSBhbmQgZXJyb3JSZXRyeSBtYXhSZXRyeURlbGF5TXNcbiAgICovXG4gIC8vIG1heCBjb25uZWN0aW9uIHJldHJ5IGRlbGF5IChtcylcbiAgbWF4UmV0cnlEZWxheTogbnVtYmVyO1xuICAvLyBXaGVuIHN0cmVhbWluZyBwcm9ncmVzc2l2ZWx5LCB0aGlzIGlzIHRoZSBtaW5pbXVtIGNodW5rIHNpemUgcmVxdWlyZWQgdG8gZW1pdCBhIFBST0dSRVNTIGV2ZW50XG4gIGhpZ2hXYXRlck1hcms/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVyUmVzcG9uc2Uge1xuICB1cmw6IHN0cmluZztcbiAgZGF0YT86IHN0cmluZyB8IEFycmF5QnVmZmVyIHwgT2JqZWN0O1xuICAvLyBFcnJvcnMgY2FuIGluY2x1ZGUgSFRUUCBzdGF0dXMgY29kZSBhbmQgZXJyb3IgbWVzc2FnZVxuICAvLyBTdWNjZXNzZnVsIHJlc3BvbnNlcyBzaG91bGQgaW5jbHVkZSBzdGF0dXMgY29kZSAyMDBcbiAgY29kZT86IG51bWJlcjtcbiAgdGV4dD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2FkZXJTdGF0cyB7XG4gIGFib3J0ZWQ6IGJvb2xlYW47XG4gIGxvYWRlZDogbnVtYmVyO1xuICByZXRyeTogbnVtYmVyO1xuICB0b3RhbDogbnVtYmVyO1xuICBjaHVua0NvdW50OiBudW1iZXI7XG4gIGJ3RXN0aW1hdGU6IG51bWJlcjtcbiAgbG9hZGluZzogSGxzUHJvZ3Jlc3NpdmVQZXJmb3JtYW5jZVRpbWluZztcbiAgcGFyc2luZzogSGxzUGVyZm9ybWFuY2VUaW1pbmc7XG4gIGJ1ZmZlcmluZzogSGxzUHJvZ3Jlc3NpdmVQZXJmb3JtYW5jZVRpbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIbHNQZXJmb3JtYW5jZVRpbWluZyB7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhsc0NodW5rUGVyZm9ybWFuY2VUaW1pbmcgZXh0ZW5kcyBIbHNQZXJmb3JtYW5jZVRpbWluZyB7XG4gIGV4ZWN1dGVTdGFydDogbnVtYmVyO1xuICBleGVjdXRlRW5kOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGxzUHJvZ3Jlc3NpdmVQZXJmb3JtYW5jZVRpbWluZyBleHRlbmRzIEhsc1BlcmZvcm1hbmNlVGltaW5nIHtcbiAgZmlyc3Q6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgTG9hZGVyT25TdWNjZXNzPFQgZXh0ZW5kcyBMb2FkZXJDb250ZXh0PiA9IChcbiAgcmVzcG9uc2U6IExvYWRlclJlc3BvbnNlLFxuICBzdGF0czogTG9hZGVyU3RhdHMsXG4gIGNvbnRleHQ6IFQsXG4gIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIExvYWRlck9uUHJvZ3Jlc3M8VCBleHRlbmRzIExvYWRlckNvbnRleHQ+ID0gKFxuICBzdGF0czogTG9hZGVyU3RhdHMsXG4gIGNvbnRleHQ6IFQsXG4gIGRhdGE6IHN0cmluZyB8IEFycmF5QnVmZmVyLFxuICBuZXR3b3JrRGV0YWlsczogYW55LFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBMb2FkZXJPbkVycm9yPFQgZXh0ZW5kcyBMb2FkZXJDb250ZXh0PiA9IChcbiAgZXJyb3I6IHtcbiAgICAvLyBlcnJvciBzdGF0dXMgY29kZVxuICAgIGNvZGU6IG51bWJlcjtcbiAgICAvLyBlcnJvciBkZXNjcmlwdGlvblxuICAgIHRleHQ6IHN0cmluZztcbiAgfSxcbiAgY29udGV4dDogVCxcbiAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgc3RhdHM6IExvYWRlclN0YXRzLFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBMb2FkZXJPblRpbWVvdXQ8VCBleHRlbmRzIExvYWRlckNvbnRleHQ+ID0gKFxuICBzdGF0czogTG9hZGVyU3RhdHMsXG4gIGNvbnRleHQ6IFQsXG4gIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIExvYWRlck9uQWJvcnQ8VCBleHRlbmRzIExvYWRlckNvbnRleHQ+ID0gKFxuICBzdGF0czogTG9hZGVyU3RhdHMsXG4gIGNvbnRleHQ6IFQsXG4gIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVyQ2FsbGJhY2tzPFQgZXh0ZW5kcyBMb2FkZXJDb250ZXh0PiB7XG4gIG9uU3VjY2VzczogTG9hZGVyT25TdWNjZXNzPFQ+O1xuICBvbkVycm9yOiBMb2FkZXJPbkVycm9yPFQ+O1xuICBvblRpbWVvdXQ6IExvYWRlck9uVGltZW91dDxUPjtcbiAgb25BYm9ydD86IExvYWRlck9uQWJvcnQ8VD47XG4gIG9uUHJvZ3Jlc3M/OiBMb2FkZXJPblByb2dyZXNzPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvYWRlcjxUIGV4dGVuZHMgTG9hZGVyQ29udGV4dD4ge1xuICBkZXN0cm95KCk6IHZvaWQ7XG4gIGFib3J0KCk6IHZvaWQ7XG4gIGxvYWQoXG4gICAgY29udGV4dDogVCxcbiAgICBjb25maWc6IExvYWRlckNvbmZpZ3VyYXRpb24sXG4gICAgY2FsbGJhY2tzOiBMb2FkZXJDYWxsYmFja3M8VD4sXG4gICk6IHZvaWQ7XG4gIC8qKlxuICAgKiBgZ2V0Q2FjaGVBZ2UoKWAgaXMgY2FsbGVkIGJ5IGhscy5qcyB0byBnZXQgdGhlIGR1cmF0aW9uIHRoYXQgYSBnaXZlbiBvYmplY3RcbiAgICogaGFzIGJlZW4gc2l0dGluZyBpbiBhIGNhY2hlIHByb3h5IHdoZW4gcGxheWluZyBsaXZlLiAgSWYgaW1wbGVtZW50ZWQsXG4gICAqIHRoaXMgc2hvdWxkIHJldHVybiBhIHZhbHVlIGluIHNlY29uZHMuXG4gICAqXG4gICAqIEZvciBIVFRQIGJhc2VkIGxvYWRlcnMsIHRoaXMgc2hvdWxkIHJldHVybiB0aGUgY29udGVudHMgb2YgdGhlIFwiYWdlXCIgaGVhZGVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aW1lIG9iamVjdCBiZWluZyBsb2RhZGVkXG4gICAqL1xuICBnZXRDYWNoZUFnZT86ICgpID0+IG51bWJlciB8IG51bGw7XG4gIGdldFJlc3BvbnNlSGVhZGVyPzogKG5hbWU6IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcbiAgY29udGV4dDogVCB8IG51bGw7XG4gIHN0YXRzOiBMb2FkZXJTdGF0cztcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gUGxheWxpc3RDb250ZXh0VHlwZSB7XG4gIE1BTklGRVNUID0gJ21hbmlmZXN0JyxcbiAgTEVWRUwgPSAnbGV2ZWwnLFxuICBBVURJT19UUkFDSyA9ICdhdWRpb1RyYWNrJyxcbiAgU1VCVElUTEVfVFJBQ0sgPSAnc3VidGl0bGVUcmFjaycsXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFBsYXlsaXN0TGV2ZWxUeXBlIHtcbiAgTUFJTiA9ICdtYWluJyxcbiAgQVVESU8gPSAnYXVkaW8nLFxuICBTVUJUSVRMRSA9ICdzdWJ0aXRsZScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWxpc3RMb2FkZXJDb250ZXh0IGV4dGVuZHMgTG9hZGVyQ29udGV4dCB7XG4gIHR5cGU6IFBsYXlsaXN0Q29udGV4dFR5cGU7XG4gIC8vIHRoZSBsZXZlbCBpbmRleCB0byBsb2FkXG4gIGxldmVsOiBudW1iZXIgfCBudWxsO1xuICAvLyBsZXZlbCBvciB0cmFjayBpZCBmcm9tIExldmVsTG9hZGluZ0RhdGEgLyBUcmFja0xvYWRpbmdEYXRhXG4gIGlkOiBudW1iZXIgfCBudWxsO1xuICAvLyBNZWRpYSBQbGF5bGlzdCBHcm91cCBJRFxuICBncm91cElkPzogc3RyaW5nO1xuICAvLyBDb250ZW50IFN0ZWVyaW5nIFBhdGh3YXkgSUQgKG9yIHVuZGVmaW5lZCBmb3IgZGVmYXVsdCBQYXRod2F5IFwiLlwiKVxuICBwYXRod2F5SWQ/OiBzdHJpbmc7XG4gIC8vIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgcGFyc2VkIG0zdTggbGV2ZWwgcGxheWxpc3RcbiAgbGV2ZWxEZXRhaWxzPzogTGV2ZWxEZXRhaWxzO1xuICAvLyBCbG9ja2luZyBwbGF5bGlzdCByZXF1ZXN0IGRlbGl2ZXJ5IGRpcmVjdGl2ZXMgKG9yIG51bGwgaWQgbm9uZSB3ZXJlIGFkZGVkIHRvIHBsYXlsaXN0IHVybFxuICBkZWxpdmVyeURpcmVjdGl2ZXM6IEhsc1VybFBhcmFtZXRlcnMgfCBudWxsO1xufVxuIiwgIi8qKlxuICogUGxheWxpc3RMb2FkZXIgLSBkZWxlZ2F0ZSBmb3IgbWVkaWEgbWFuaWZlc3QvcGxheWxpc3QgbG9hZGluZyB0YXNrcy4gVGFrZXMgY2FyZSBvZiBwYXJzaW5nIG1lZGlhIHRvIGludGVybmFsIGRhdGEtbW9kZWxzLlxuICpcbiAqIE9uY2UgbG9hZGVkLCBkaXNwYXRjaGVzIGV2ZW50cyB3aXRoIHBhcnNlZCBkYXRhLW1vZGVscyBvZiBtYW5pZmVzdC9sZXZlbHMvYXVkaW8vc3VidGl0bGUgdHJhY2tzLlxuICpcbiAqIFVzZXMgbG9hZGVyKHMpIHNldCBpbiBjb25maWcgdG8gZG8gYWN0dWFsIGludGVybmFsIGxvYWRpbmcgb2YgcmVzb3VyY2UgdGFza3MuXG4gKi9cblxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IEVycm9yRGV0YWlscywgRXJyb3JUeXBlcyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IE0zVThQYXJzZXIgZnJvbSAnLi9tM3U4LXBhcnNlcic7XG5pbXBvcnQgdHlwZSB7IExldmVsUGFyc2VkLCBWYXJpYWJsZU1hcCB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB0eXBlIHtcbiAgTG9hZGVyLFxuICBMb2FkZXJDYWxsYmFja3MsXG4gIExvYWRlckNvbmZpZ3VyYXRpb24sXG4gIExvYWRlckNvbnRleHQsXG4gIExvYWRlclJlc3BvbnNlLFxuICBMb2FkZXJTdGF0cyxcbiAgUGxheWxpc3RMb2FkZXJDb250ZXh0LFxufSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgUGxheWxpc3RDb250ZXh0VHlwZSwgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB7IEF0dHJMaXN0IH0gZnJvbSAnLi4vdXRpbHMvYXR0ci1saXN0JztcbmltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHR5cGUge1xuICBFcnJvckRhdGEsXG4gIExldmVsTG9hZGluZ0RhdGEsXG4gIE1hbmlmZXN0TG9hZGluZ0RhdGEsXG4gIFRyYWNrTG9hZGluZ0RhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IE5ldHdvcmtDb21wb25lbnRBUEkgfSBmcm9tICcuLi90eXBlcy9jb21wb25lbnQtYXBpJztcbmltcG9ydCB0eXBlIHsgTWVkaWFBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdHlwZXMvbWVkaWEtcGxheWxpc3QnO1xuaW1wb3J0IHR5cGUgeyBMb2FkZXJDb25maWcsIFJldHJ5Q29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcblxuZnVuY3Rpb24gbWFwQ29udGV4dFRvTGV2ZWxUeXBlKFxuICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4pOiBQbGF5bGlzdExldmVsVHlwZSB7XG4gIGNvbnN0IHsgdHlwZSB9ID0gY29udGV4dDtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICByZXR1cm4gUGxheWxpc3RMZXZlbFR5cGUuQVVESU87XG4gICAgY2FzZSBQbGF5bGlzdENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLOlxuICAgICAgcmV0dXJuIFBsYXlsaXN0TGV2ZWxUeXBlLlNVQlRJVExFO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUGxheWxpc3RMZXZlbFR5cGUuTUFJTjtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZXNwb25zZVVybChcbiAgcmVzcG9uc2U6IExvYWRlclJlc3BvbnNlLFxuICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4pOiBzdHJpbmcge1xuICBsZXQgdXJsID0gcmVzcG9uc2UudXJsO1xuICAvLyByZXNwb25zZVVSTCBub3Qgc3VwcG9ydGVkIG9uIHNvbWUgYnJvd3NlcnMgKGl0IGlzIHVzZWQgdG8gZGV0ZWN0IFVSTCByZWRpcmVjdGlvbilcbiAgLy8gZGF0YS11cmkgbW9kZSBhbHNvIG5vdCBzdXBwb3J0ZWQgKGJ1dCBubyBuZWVkIHRvIGRldGVjdCByZWRpcmVjdGlvbilcbiAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgLy8gZmFsbGJhY2sgdG8gaW5pdGlhbCBVUkxcbiAgICB1cmwgPSBjb250ZXh0LnVybDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuXG5jbGFzcyBQbGF5bGlzdExvYWRlciBpbXBsZW1lbnRzIE5ldHdvcmtDb21wb25lbnRBUEkge1xuICBwcml2YXRlIHJlYWRvbmx5IGhsczogSGxzO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvYWRlcnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBMb2FkZXI8TG9hZGVyQ29udGV4dD47XG4gIH0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBwcml2YXRlIHZhcmlhYmxlTGlzdDogVmFyaWFibGVNYXAgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydExvYWQoc3RhcnRQb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7fVxuXG4gIHB1YmxpYyBzdG9wTG9hZCgpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkxFVkVMX0xPQURJTkcsIHRoaXMub25MZXZlbExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQVVESU9fVFJBQ0tfTE9BRElORywgdGhpcy5vbkF1ZGlvVHJhY2tMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHRoaXMub25TdWJ0aXRsZVRyYWNrTG9hZGluZywgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIHVucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTEVWRUxfTE9BRElORywgdGhpcy5vbkxldmVsTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQVVESU9fVFJBQ0tfTE9BRElORywgdGhpcy5vbkF1ZGlvVHJhY2tMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5TVUJUSVRMRV9UUkFDS19MT0FESU5HLCB0aGlzLm9uU3VidGl0bGVUcmFja0xvYWRpbmcsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGVmYXVsdHMgb3IgY29uZmlndXJlZCBsb2FkZXItdHlwZSBvdmVybG9hZHMgKHBMb2FkZXIgYW5kIGxvYWRlciBjb25maWcgcGFyYW1zKVxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVJbnRlcm5hbExvYWRlcihcbiAgICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4gICk6IExvYWRlcjxMb2FkZXJDb250ZXh0PiB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIGNvbnN0IFBMb2FkZXIgPSBjb25maWcucExvYWRlcjtcbiAgICBjb25zdCBMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgIGNvbnN0IEludGVybmFsTG9hZGVyID0gUExvYWRlciB8fCBMb2FkZXI7XG4gICAgY29uc3QgbG9hZGVyID0gbmV3IEludGVybmFsTG9hZGVyKGNvbmZpZykgYXMgTG9hZGVyPFBsYXlsaXN0TG9hZGVyQ29udGV4dD47XG5cbiAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IGxvYWRlcjtcbiAgICByZXR1cm4gbG9hZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRJbnRlcm5hbExvYWRlcihcbiAgICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4gICk6IExvYWRlcjxMb2FkZXJDb250ZXh0PiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldEludGVybmFsTG9hZGVyKGNvbnRleHRUeXBlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmxvYWRlcnNbY29udGV4dFR5cGVdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGBkZXN0cm95YCBvbiBhbGwgaW50ZXJuYWwgbG9hZGVyIGluc3RhbmNlcyBtYXBwZWQgKG9uZSBwZXIgY29udGV4dCB0eXBlKVxuICAgKi9cbiAgcHJpdmF0ZSBkZXN0cm95SW50ZXJuYWxMb2FkZXJzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgY29udGV4dFR5cGUgaW4gdGhpcy5sb2FkZXJzKSB7XG4gICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbY29udGV4dFR5cGVdO1xuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dFR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMudmFyaWFibGVMaXN0ID0gbnVsbDtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLFxuICAgIGRhdGE6IE1hbmlmZXN0TG9hZGluZ0RhdGEsXG4gICkge1xuICAgIGNvbnN0IHsgdXJsIH0gPSBkYXRhO1xuICAgIHRoaXMudmFyaWFibGVMaXN0ID0gbnVsbDtcbiAgICB0aGlzLmxvYWQoe1xuICAgICAgaWQ6IG51bGwsXG4gICAgICBsZXZlbDogMCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLFxuICAgICAgdHlwZTogUGxheWxpc3RDb250ZXh0VHlwZS5NQU5JRkVTVCxcbiAgICAgIHVybCxcbiAgICAgIGRlbGl2ZXJ5RGlyZWN0aXZlczogbnVsbCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbExvYWRpbmcoZXZlbnQ6IEV2ZW50cy5MRVZFTF9MT0FESU5HLCBkYXRhOiBMZXZlbExvYWRpbmdEYXRhKSB7XG4gICAgY29uc3QgeyBpZCwgbGV2ZWwsIHBhdGh3YXlJZCwgdXJsLCBkZWxpdmVyeURpcmVjdGl2ZXMgfSA9IGRhdGE7XG4gICAgdGhpcy5sb2FkKHtcbiAgICAgIGlkLFxuICAgICAgbGV2ZWwsXG4gICAgICBwYXRod2F5SWQsXG4gICAgICByZXNwb25zZVR5cGU6ICd0ZXh0JyxcbiAgICAgIHR5cGU6IFBsYXlsaXN0Q29udGV4dFR5cGUuTEVWRUwsXG4gICAgICB1cmwsXG4gICAgICBkZWxpdmVyeURpcmVjdGl2ZXMsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIG9uQXVkaW9UcmFja0xvYWRpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS19MT0FESU5HLFxuICAgIGRhdGE6IFRyYWNrTG9hZGluZ0RhdGEsXG4gICkge1xuICAgIGNvbnN0IHsgaWQsIGdyb3VwSWQsIHVybCwgZGVsaXZlcnlEaXJlY3RpdmVzIH0gPSBkYXRhO1xuICAgIHRoaXMubG9hZCh7XG4gICAgICBpZCxcbiAgICAgIGdyb3VwSWQsXG4gICAgICBsZXZlbDogbnVsbCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLFxuICAgICAgdHlwZTogUGxheWxpc3RDb250ZXh0VHlwZS5BVURJT19UUkFDSyxcbiAgICAgIHVybCxcbiAgICAgIGRlbGl2ZXJ5RGlyZWN0aXZlcyxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25TdWJ0aXRsZVRyYWNrTG9hZGluZyhcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsXG4gICAgZGF0YTogVHJhY2tMb2FkaW5nRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBpZCwgZ3JvdXBJZCwgdXJsLCBkZWxpdmVyeURpcmVjdGl2ZXMgfSA9IGRhdGE7XG4gICAgdGhpcy5sb2FkKHtcbiAgICAgIGlkLFxuICAgICAgZ3JvdXBJZCxcbiAgICAgIGxldmVsOiBudWxsLFxuICAgICAgcmVzcG9uc2VUeXBlOiAndGV4dCcsXG4gICAgICB0eXBlOiBQbGF5bGlzdENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLLFxuICAgICAgdXJsLFxuICAgICAgZGVsaXZlcnlEaXJlY3RpdmVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkKGNvbnRleHQ6IFBsYXlsaXN0TG9hZGVyQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcblxuICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW3BsYXlsaXN0LWxvYWRlcl06IExvYWRpbmcgcGxheWxpc3Qgb2YgdHlwZSAke2NvbnRleHQudHlwZX0sIGxldmVsOiAke2NvbnRleHQubGV2ZWx9LCBpZDogJHtjb250ZXh0LmlkfWApO1xuXG4gICAgLy8gQ2hlY2sgaWYgYSBsb2FkZXIgZm9yIHRoaXMgY29udGV4dCBhbHJlYWR5IGV4aXN0c1xuICAgIGxldCBsb2FkZXIgPSB0aGlzLmdldEludGVybmFsTG9hZGVyKGNvbnRleHQpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGNvbnN0IGxvYWRlckNvbnRleHQgPSBsb2FkZXIuY29udGV4dCBhcyBQbGF5bGlzdExvYWRlckNvbnRleHQ7XG4gICAgICBpZiAoXG4gICAgICAgIGxvYWRlckNvbnRleHQgJiZcbiAgICAgICAgbG9hZGVyQ29udGV4dC51cmwgPT09IGNvbnRleHQudXJsICYmXG4gICAgICAgIGxvYWRlckNvbnRleHQubGV2ZWwgPT09IGNvbnRleHQubGV2ZWxcbiAgICAgICkge1xuICAgICAgICAvLyBzYW1lIFVSTCBjYW4ndCBvdmVybGFwXG4gICAgICAgIGxvZ2dlci50cmFjZSgnW3BsYXlsaXN0LWxvYWRlcl06IHBsYXlsaXN0IHJlcXVlc3Qgb25nb2luZycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFxuICAgICAgICBgW3BsYXlsaXN0LWxvYWRlcl06IGFib3J0aW5nIHByZXZpb3VzIGxvYWRlciBmb3IgdHlwZTogJHtjb250ZXh0LnR5cGV9YCxcbiAgICAgICk7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBkaWZmZXJlbnQgY29uZmlncyBmb3IgcmV0cmllcyBkZXBlbmRpbmcgb25cbiAgICAvLyBjb250ZXh0IChtYW5pZmVzdCwgbGV2ZWwsIGF1ZGlvL3N1YnMgcGxheWxpc3QpXG4gICAgbGV0IGxvYWRQb2xpY3k6IExvYWRlckNvbmZpZztcbiAgICBpZiAoY29udGV4dC50eXBlID09PSBQbGF5bGlzdENvbnRleHRUeXBlLk1BTklGRVNUKSB7XG4gICAgICBsb2FkUG9saWN5ID0gY29uZmlnLm1hbmlmZXN0TG9hZFBvbGljeS5kZWZhdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkUG9saWN5ID0gT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnLnBsYXlsaXN0TG9hZFBvbGljeS5kZWZhdWx0LCB7XG4gICAgICAgIHRpbWVvdXRSZXRyeTogbnVsbCxcbiAgICAgICAgZXJyb3JSZXRyeTogbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsb2FkZXIgPSB0aGlzLmNyZWF0ZUludGVybmFsTG9hZGVyKGNvbnRleHQpO1xuXG4gICAgLy8gT3ZlcnJpZGUgbGV2ZWwvdHJhY2sgdGltZW91dCBmb3IgTEwtSExTIHJlcXVlc3RzXG4gICAgLy8gKHRoZSBkZWZhdWx0IG9mIDEwMDAwbXMgaXMgY291bnRlciBwcm9kdWN0aXZlIHRvIGJsb2NraW5nIHBsYXlsaXN0IHJlbG9hZCByZXF1ZXN0cylcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGNvbnRleHQuZGVsaXZlcnlEaXJlY3RpdmVzPy5wYXJ0KSkge1xuICAgICAgbGV0IGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKFxuICAgICAgICBjb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuTEVWRUwgJiZcbiAgICAgICAgY29udGV4dC5sZXZlbCAhPT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIGxldmVsRGV0YWlscyA9IHRoaXMuaGxzLmxldmVsc1tjb250ZXh0LmxldmVsXS5kZXRhaWxzO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY29udGV4dC50eXBlID09PSBQbGF5bGlzdENvbnRleHRUeXBlLkFVRElPX1RSQUNLICYmXG4gICAgICAgIGNvbnRleHQuaWQgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICBsZXZlbERldGFpbHMgPSB0aGlzLmhscy5hdWRpb1RyYWNrc1tjb250ZXh0LmlkXS5kZXRhaWxzO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY29udGV4dC50eXBlID09PSBQbGF5bGlzdENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLICYmXG4gICAgICAgIGNvbnRleHQuaWQgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICBsZXZlbERldGFpbHMgPSB0aGlzLmhscy5zdWJ0aXRsZVRyYWNrc1tjb250ZXh0LmlkXS5kZXRhaWxzO1xuICAgICAgfVxuICAgICAgaWYgKGxldmVsRGV0YWlscykge1xuICAgICAgICBjb25zdCBwYXJ0VGFyZ2V0ID0gbGV2ZWxEZXRhaWxzLnBhcnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0IHRhcmdldER1cmF0aW9uID0gbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuICAgICAgICBpZiAocGFydFRhcmdldCAmJiB0YXJnZXREdXJhdGlvbikge1xuICAgICAgICAgIGNvbnN0IG1heExvd0xhdGVuY3lQbGF5bGlzdFJlZnJlc2ggPVxuICAgICAgICAgICAgTWF0aC5tYXgocGFydFRhcmdldCAqIDMsIHRhcmdldER1cmF0aW9uICogMC44KSAqIDEwMDA7XG4gICAgICAgICAgbG9hZFBvbGljeSA9IE9iamVjdC5hc3NpZ24oe30sIGxvYWRQb2xpY3ksIHtcbiAgICAgICAgICAgIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zOiBNYXRoLm1pbihcbiAgICAgICAgICAgICAgbWF4TG93TGF0ZW5jeVBsYXlsaXN0UmVmcmVzaCxcbiAgICAgICAgICAgICAgbG9hZFBvbGljeS5tYXhUaW1lVG9GaXJzdEJ5dGVNcyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBtYXhMb2FkVGltZU1zOiBNYXRoLm1pbihcbiAgICAgICAgICAgICAgbWF4TG93TGF0ZW5jeVBsYXlsaXN0UmVmcmVzaCxcbiAgICAgICAgICAgICAgbG9hZFBvbGljeS5tYXhUaW1lVG9GaXJzdEJ5dGVNcyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHk6IFJldHJ5Q29uZmlnIHwgUmVjb3JkPHN0cmluZywgdm9pZD4gPVxuICAgICAgbG9hZFBvbGljeS5lcnJvclJldHJ5IHx8IGxvYWRQb2xpY3kudGltZW91dFJldHJ5IHx8IHt9O1xuICAgIGNvbnN0IGxvYWRlckNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgIGxvYWRQb2xpY3ksXG4gICAgICB0aW1lb3V0OiBsb2FkUG9saWN5Lm1heExvYWRUaW1lTXMsXG4gICAgICBtYXhSZXRyeTogbGVnYWN5UmV0cnlDb21wYXRpYmlsaXR5Lm1heE51bVJldHJ5IHx8IDAsXG4gICAgICByZXRyeURlbGF5OiBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHkucmV0cnlEZWxheU1zIHx8IDAsXG4gICAgICBtYXhSZXRyeURlbGF5OiBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHkubWF4UmV0cnlEZWxheU1zIHx8IDAsXG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRlckNhbGxiYWNrczogTG9hZGVyQ2FsbGJhY2tzPFBsYXlsaXN0TG9hZGVyQ29udGV4dD4gPSB7XG4gICAgICBvblN1Y2Nlc3M6IChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCkgYXNcbiAgICAgICAgICB8IExvYWRlcjxQbGF5bGlzdExvYWRlckNvbnRleHQ+XG4gICAgICAgICAgfCB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmVzZXRJbnRlcm5hbExvYWRlcihjb250ZXh0LnR5cGUpO1xuXG4gICAgICAgIGNvbnN0IHN0cmluZyA9IHJlc3BvbnNlLmRhdGEgYXMgc3RyaW5nO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIGlmIGl0IGlzIGFuIE0zVTggYXQgYWxsXG4gICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZignI0VYVE0zVScpICE9PSAwKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIG5ldyBFcnJvcignbm8gRVhUTTNVIGRlbGltaXRlcicpLFxuICAgICAgICAgICAgbmV0d29ya0RldGFpbHMgfHwgbnVsbCxcbiAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdHMucGFyc2luZy5zdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBpZiAoTTNVOFBhcnNlci5pc01lZGlhUGxheWxpc3Qoc3RyaW5nKSkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzIHx8IG51bGwsXG4gICAgICAgICAgICBsb2FkZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZU1hc3RlclBsYXlsaXN0KHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogKHJlc3BvbnNlLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscywgc3RhdHMpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVOZXR3b3JrRXJyb3IoXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICBzdGF0cyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvblRpbWVvdXQ6IChzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVOZXR3b3JrRXJyb3IoXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBzdGF0cyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW3BsYXlsaXN0LWxvYWRlcl06IENhbGxpbmcgaW50ZXJuYWwgbG9hZGVyIGRlbGVnYXRlIGZvciBVUkw6ICR7Y29udGV4dC51cmx9YCk7XG5cbiAgICBsb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1hc3RlclBsYXlsaXN0KFxuICAgIHJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSxcbiAgICBzdGF0czogTG9hZGVyU3RhdHMsXG4gICAgY29udGV4dDogUGxheWxpc3RMb2FkZXJDb250ZXh0LFxuICAgIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGNvbnN0IHN0cmluZyA9IHJlc3BvbnNlLmRhdGEgYXMgc3RyaW5nO1xuXG4gICAgY29uc3QgdXJsID0gZ2V0UmVzcG9uc2VVcmwocmVzcG9uc2UsIGNvbnRleHQpO1xuXG4gICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gTTNVOFBhcnNlci5wYXJzZU1hc3RlclBsYXlsaXN0KHN0cmluZywgdXJsKTtcblxuICAgIGlmIChwYXJzZWRSZXN1bHQucGxheWxpc3RQYXJzaW5nRXJyb3IpIHtcbiAgICAgIHRoaXMuaGFuZGxlTWFuaWZlc3RQYXJzaW5nRXJyb3IoXG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBwYXJzZWRSZXN1bHQucGxheWxpc3RQYXJzaW5nRXJyb3IsXG4gICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICBzdGF0cyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgY29udGVudFN0ZWVyaW5nLFxuICAgICAgbGV2ZWxzLFxuICAgICAgc2Vzc2lvbkRhdGEsXG4gICAgICBzZXNzaW9uS2V5cyxcbiAgICAgIHN0YXJ0VGltZU9mZnNldCxcbiAgICAgIHZhcmlhYmxlTGlzdCxcbiAgICB9ID0gcGFyc2VkUmVzdWx0O1xuXG4gICAgdGhpcy52YXJpYWJsZUxpc3QgPSB2YXJpYWJsZUxpc3Q7XG5cbiAgICBjb25zdCB7XG4gICAgICBBVURJTzogYXVkaW9UcmFja3MgPSBbXSxcbiAgICAgIFNVQlRJVExFUzogc3VidGl0bGVzLFxuICAgICAgJ0NMT1NFRC1DQVBUSU9OUyc6IGNhcHRpb25zLFxuICAgIH0gPSBNM1U4UGFyc2VyLnBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYShzdHJpbmcsIHVybCwgcGFyc2VkUmVzdWx0KTtcblxuICAgIGlmIChhdWRpb1RyYWNrcy5sZW5ndGgpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgZm91bmQgYW4gYXVkaW8gdHJhY2sgZW1iZWRkZWQgaW4gbWFpbiBwbGF5bGlzdCAoYXVkaW8gdHJhY2sgd2l0aG91dCBVUkkgYXR0cmlidXRlKVxuICAgICAgY29uc3QgZW1iZWRkZWRBdWRpb0ZvdW5kOiBib29sZWFuID0gYXVkaW9UcmFja3Muc29tZShcbiAgICAgICAgKGF1ZGlvVHJhY2spID0+ICFhdWRpb1RyYWNrLnVybCxcbiAgICAgICk7XG5cbiAgICAgIC8vIGlmIG5vIGVtYmVkZGVkIGF1ZGlvIHRyYWNrIGRlZmluZWQsIGJ1dCBhdWRpbyBjb2RlYyBzaWduYWxlZCBpbiBxdWFsaXR5IGxldmVsLFxuICAgICAgLy8gd2UgbmVlZCB0byBzaWduYWwgdGhpcyBtYWluIGF1ZGlvIHRyYWNrIHRoaXMgY291bGQgaGFwcGVuIHdpdGggcGxheWxpc3RzIHdpdGhcbiAgICAgIC8vIGFsdCBhdWRpbyByZW5kaXRpb24gaW4gd2hpY2ggcXVhbGl0eSBsZXZlbHMgKG1haW4pXG4gICAgICAvLyBjb250YWlucyBib3RoIGF1ZGlvK3ZpZGVvLiBidXQgd2l0aCBtaXhlZCBhdWRpbyB0cmFjayBub3Qgc2lnbmFsZWRcbiAgICAgIGlmIChcbiAgICAgICAgIWVtYmVkZGVkQXVkaW9Gb3VuZCAmJlxuICAgICAgICBsZXZlbHNbMF0uYXVkaW9Db2RlYyAmJlxuICAgICAgICAhbGV2ZWxzWzBdLmF0dHJzLkFVRElPXG4gICAgICApIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAnW3BsYXlsaXN0LWxvYWRlcl06IGF1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZScsXG4gICAgICAgICk7XG4gICAgICAgIGF1ZGlvVHJhY2tzLnVuc2hpZnQoe1xuICAgICAgICAgIHR5cGU6ICdtYWluJyxcbiAgICAgICAgICBuYW1lOiAnbWFpbicsXG4gICAgICAgICAgZ3JvdXBJZDogJ21haW4nLFxuICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGF1dG9zZWxlY3Q6IGZhbHNlLFxuICAgICAgICAgIGZvcmNlZDogZmFsc2UsXG4gICAgICAgICAgaWQ6IC0xLFxuICAgICAgICAgIGF0dHJzOiBuZXcgQXR0ckxpc3Qoe30pIGFzIE1lZGlhQXR0cmlidXRlcyxcbiAgICAgICAgICBiaXRyYXRlOiAwLFxuICAgICAgICAgIHVybDogJycsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhscy50cmlnZ2VyKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHtcbiAgICAgIGxldmVscyxcbiAgICAgIGF1ZGlvVHJhY2tzLFxuICAgICAgc3VidGl0bGVzLFxuICAgICAgY2FwdGlvbnMsXG4gICAgICBjb250ZW50U3RlZXJpbmcsXG4gICAgICB1cmwsXG4gICAgICBzdGF0cyxcbiAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgc2Vzc2lvbkRhdGEsXG4gICAgICBzZXNzaW9uS2V5cyxcbiAgICAgIHN0YXJ0VGltZU9mZnNldCxcbiAgICAgIHZhcmlhYmxlTGlzdCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QoXG4gICAgcmVzcG9uc2U6IExvYWRlclJlc3BvbnNlLFxuICAgIHN0YXRzOiBMb2FkZXJTdGF0cyxcbiAgICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4gICAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgICBsb2FkZXI6IExvYWRlcjxQbGF5bGlzdExvYWRlckNvbnRleHQ+IHwgdW5kZWZpbmVkLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBobHMgPSB0aGlzLmhscztcbiAgICBjb25zdCB7IGlkLCBsZXZlbCwgdHlwZSB9ID0gY29udGV4dDtcblxuICAgIGNvbnN0IHVybCA9IGdldFJlc3BvbnNlVXJsKHJlc3BvbnNlLCBjb250ZXh0KTtcbiAgICBjb25zdCBsZXZlbFVybElkID0gMDtcbiAgICBjb25zdCBsZXZlbElkID0gTnVtYmVyLmlzRmluaXRlKGxldmVsIGFzIG51bWJlcilcbiAgICAgID8gKGxldmVsIGFzIG51bWJlcilcbiAgICAgIDogTnVtYmVyLmlzRmluaXRlKGlkIGFzIG51bWJlcilcbiAgICAgICAgPyAoaWQgYXMgbnVtYmVyKVxuICAgICAgICA6IDA7XG4gICAgY29uc3QgbGV2ZWxUeXBlID0gbWFwQ29udGV4dFRvTGV2ZWxUeXBlKGNvbnRleHQpO1xuICAgIGNvbnN0IGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzID0gTTNVOFBhcnNlci5wYXJzZUxldmVsUGxheWxpc3QoXG4gICAgICByZXNwb25zZS5kYXRhIGFzIHN0cmluZyxcbiAgICAgIHVybCxcbiAgICAgIGxldmVsSWQsXG4gICAgICBsZXZlbFR5cGUsXG4gICAgICBsZXZlbFVybElkLFxuICAgICAgdGhpcy52YXJpYWJsZUxpc3QsXG4gICAgKTtcblxuICAgIC8vIFdlIGhhdmUgZG9uZSBvdXIgZmlyc3QgcmVxdWVzdCAoTWFuaWZlc3QtdHlwZSkgYW5kIHJlY2VpdmVcbiAgICAvLyBub3QgYSBtYXN0ZXIgcGxheWxpc3QgYnV0IGEgY2h1bmstbGlzdCAodHJhY2svbGV2ZWwpXG4gICAgLy8gV2UgZmlyZSB0aGUgbWFuaWZlc3QtbG9hZGVkIGV2ZW50IGFueXdheSB3aXRoIHRoZSBwYXJzZWQgbGV2ZWwtZGV0YWlsc1xuICAgIC8vIGJ5IGNyZWF0aW5nIGEgc2luZ2xlLWxldmVsIHN0cnVjdHVyZSBmb3IgaXQuXG4gICAgaWYgKHR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuTUFOSUZFU1QpIHtcbiAgICAgIGNvbnN0IHNpbmdsZUxldmVsOiBMZXZlbFBhcnNlZCA9IHtcbiAgICAgICAgYXR0cnM6IG5ldyBBdHRyTGlzdCh7fSksXG4gICAgICAgIGJpdHJhdGU6IDAsXG4gICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHVybCxcbiAgICAgIH07XG5cbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHtcbiAgICAgICAgbGV2ZWxzOiBbc2luZ2xlTGV2ZWxdLFxuICAgICAgICBhdWRpb1RyYWNrczogW10sXG4gICAgICAgIHVybCxcbiAgICAgICAgc3RhdHMsXG4gICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICBzZXNzaW9uRGF0YTogbnVsbCxcbiAgICAgICAgc2Vzc2lvbktleXM6IG51bGwsXG4gICAgICAgIGNvbnRlbnRTdGVlcmluZzogbnVsbCxcbiAgICAgICAgc3RhcnRUaW1lT2Zmc2V0OiBudWxsLFxuICAgICAgICB2YXJpYWJsZUxpc3Q6IG51bGwsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIHBhcnNpbmcgdGltZVxuICAgIHN0YXRzLnBhcnNpbmcuZW5kID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAvLyBleHRlbmQgdGhlIGNvbnRleHQgd2l0aCB0aGUgbmV3IGxldmVsRGV0YWlscyBwcm9wZXJ0eVxuICAgIGNvbnRleHQubGV2ZWxEZXRhaWxzID0gbGV2ZWxEZXRhaWxzO1xuXG4gICAgdGhpcy5oYW5kbGVQbGF5bGlzdExvYWRlZChcbiAgICAgIGxldmVsRGV0YWlscyxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3RhdHMsXG4gICAgICBjb250ZXh0LFxuICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICBsb2FkZXIsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWFuaWZlc3RQYXJzaW5nRXJyb3IoXG4gICAgcmVzcG9uc2U6IExvYWRlclJlc3BvbnNlLFxuICAgIGNvbnRleHQ6IFBsYXlsaXN0TG9hZGVyQ29udGV4dCxcbiAgICBlcnJvcjogRXJyb3IsXG4gICAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgICBzdGF0czogTG9hZGVyU3RhdHMsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkVSUk9SLCB7XG4gICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuTUFOSUZFU1RfUEFSU0lOR19FUlJPUixcbiAgICAgIGZhdGFsOiBjb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuTUFOSUZFU1QsXG4gICAgICB1cmw6IHJlc3BvbnNlLnVybCxcbiAgICAgIGVycjogZXJyb3IsXG4gICAgICBlcnJvcixcbiAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgY29udGV4dCxcbiAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgc3RhdHMsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU5ldHdvcmtFcnJvcihcbiAgICBjb250ZXh0OiBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4gICAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgICB0aW1lb3V0ID0gZmFsc2UsXG4gICAgcmVzcG9uc2U6IHsgY29kZTogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfSB8IHVuZGVmaW5lZCxcbiAgICBzdGF0czogTG9hZGVyU3RhdHMsXG4gICk6IHZvaWQge1xuICAgIGxldCBtZXNzYWdlID0gYEEgbmV0d29yayAke1xuICAgICAgdGltZW91dFxuICAgICAgICA/ICd0aW1lb3V0J1xuICAgICAgICA6ICdlcnJvcicgKyAocmVzcG9uc2UgPyAnIChzdGF0dXMgJyArIHJlc3BvbnNlLmNvZGUgKyAnKScgOiAnJylcbiAgICB9IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgJHtjb250ZXh0LnR5cGV9YDtcbiAgICBpZiAoY29udGV4dC50eXBlID09PSBQbGF5bGlzdENvbnRleHRUeXBlLkxFVkVMKSB7XG4gICAgICBtZXNzYWdlICs9IGA6ICR7Y29udGV4dC5sZXZlbH0gaWQ6ICR7Y29udGV4dC5pZH1gO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0sgfHxcbiAgICAgIGNvbnRleHQudHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5TVUJUSVRMRV9UUkFDS1xuICAgICkge1xuICAgICAgbWVzc2FnZSArPSBgIGlkOiAke2NvbnRleHQuaWR9IGdyb3VwLWlkOiBcIiR7Y29udGV4dC5ncm91cElkfVwiYDtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgbG9nZ2VyLndhcm4oYFtwbGF5bGlzdC1sb2FkZXJdOiAke21lc3NhZ2V9YCk7XG4gICAgbGV0IGRldGFpbHMgPSBFcnJvckRldGFpbHMuVU5LTk9XTjtcbiAgICBsZXQgZmF0YWwgPSBmYWxzZTtcblxuICAgIGNvbnN0IGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG5cbiAgICBzd2l0Y2ggKGNvbnRleHQudHlwZSkge1xuICAgICAgY2FzZSBQbGF5bGlzdENvbnRleHRUeXBlLk1BTklGRVNUOlxuICAgICAgICBkZXRhaWxzID0gdGltZW91dFxuICAgICAgICAgID8gRXJyb3JEZXRhaWxzLk1BTklGRVNUX0xPQURfVElNRU9VVFxuICAgICAgICAgIDogRXJyb3JEZXRhaWxzLk1BTklGRVNUX0xPQURfRVJST1I7XG4gICAgICAgIGZhdGFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXlsaXN0Q29udGV4dFR5cGUuTEVWRUw6XG4gICAgICAgIGRldGFpbHMgPSB0aW1lb3V0XG4gICAgICAgICAgPyBFcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUXG4gICAgICAgICAgOiBFcnJvckRldGFpbHMuTEVWRUxfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICAgIGRldGFpbHMgPSB0aW1lb3V0XG4gICAgICAgICAgPyBFcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUXG4gICAgICAgICAgOiBFcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXlsaXN0Q29udGV4dFR5cGUuU1VCVElUTEVfVFJBQ0s6XG4gICAgICAgIGRldGFpbHMgPSB0aW1lb3V0XG4gICAgICAgICAgPyBFcnJvckRldGFpbHMuU1VCVElUTEVfVFJBQ0tfTE9BRF9USU1FT1VUXG4gICAgICAgICAgOiBFcnJvckRldGFpbHMuU1VCVElUTEVfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgdGhpcy5yZXNldEludGVybmFsTG9hZGVyKGNvbnRleHQudHlwZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JEYXRhOiBFcnJvckRhdGEgPSB7XG4gICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICBkZXRhaWxzLFxuICAgICAgZmF0YWwsXG4gICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgbG9hZGVyLFxuICAgICAgY29udGV4dCxcbiAgICAgIGVycm9yLFxuICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICBzdGF0cyxcbiAgICB9O1xuXG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXR3b3JrRGV0YWlscz8udXJsIHx8IGNvbnRleHQudXJsO1xuICAgICAgZXJyb3JEYXRhLnJlc3BvbnNlID0geyB1cmwsIGRhdGE6IHVuZGVmaW5lZCBhcyBhbnksIC4uLnJlc3BvbnNlIH07XG4gICAgfVxuXG4gICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRVJST1IsIGVycm9yRGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBsYXlsaXN0TG9hZGVkKFxuICAgIGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuICAgIHJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSxcbiAgICBzdGF0czogTG9hZGVyU3RhdHMsXG4gICAgY29udGV4dDogUGxheWxpc3RMb2FkZXJDb250ZXh0LFxuICAgIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4gICAgbG9hZGVyOiBMb2FkZXI8UGxheWxpc3RMb2FkZXJDb250ZXh0PiB8IHVuZGVmaW5lZCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgY29uc3QgeyB0eXBlLCBsZXZlbCwgaWQsIGdyb3VwSWQsIGRlbGl2ZXJ5RGlyZWN0aXZlcyB9ID0gY29udGV4dDtcbiAgICBjb25zdCB1cmwgPSBnZXRSZXNwb25zZVVybChyZXNwb25zZSwgY29udGV4dCk7XG4gICAgY29uc3QgcGFyZW50ID0gbWFwQ29udGV4dFRvTGV2ZWxUeXBlKGNvbnRleHQpO1xuICAgIGNvbnN0IGxldmVsSW5kZXggPVxuICAgICAgdHlwZW9mIGNvbnRleHQubGV2ZWwgPT09ICdudW1iZXInICYmIHBhcmVudCA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTlxuICAgICAgICA/IChsZXZlbCBhcyBudW1iZXIpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICghbGV2ZWxEZXRhaWxzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdObyBTZWdtZW50cyBmb3VuZCBpbiBQbGF5bGlzdCcpO1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTkVUV09SS19FUlJPUixcbiAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkxFVkVMX0VNUFRZX0VSUk9SLFxuICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGxldmVsOiBsZXZlbEluZGV4LFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICBzdGF0cyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbikge1xuICAgICAgbGV2ZWxEZXRhaWxzLnBsYXlsaXN0UGFyc2luZ0Vycm9yID0gbmV3IEVycm9yKCdNaXNzaW5nIFRhcmdldCBEdXJhdGlvbicpO1xuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IGxldmVsRGV0YWlscy5wbGF5bGlzdFBhcnNpbmdFcnJvcjtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5MRVZFTF9QQVJTSU5HX0VSUk9SLFxuICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGxldmVsOiBsZXZlbEluZGV4LFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICBzdGF0cyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsZXZlbERldGFpbHMubGl2ZSAmJiBsb2FkZXIpIHtcbiAgICAgIGlmIChsb2FkZXIuZ2V0Q2FjaGVBZ2UpIHtcbiAgICAgICAgbGV2ZWxEZXRhaWxzLmFnZUhlYWRlciA9IGxvYWRlci5nZXRDYWNoZUFnZSgpIHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAoIWxvYWRlci5nZXRDYWNoZUFnZSB8fCBpc05hTihsZXZlbERldGFpbHMuYWdlSGVhZGVyKSkge1xuICAgICAgICBsZXZlbERldGFpbHMuYWdlSGVhZGVyID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUGxheWxpc3RDb250ZXh0VHlwZS5NQU5JRkVTVDpcbiAgICAgIGNhc2UgUGxheWxpc3RDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkxFVkVMX0xPQURFRCwge1xuICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICBsZXZlbDogbGV2ZWxJbmRleCB8fCAwLFxuICAgICAgICAgIGlkOiBpZCB8fCAwLFxuICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgIGRlbGl2ZXJ5RGlyZWN0aXZlcyxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQbGF5bGlzdENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuQVVESU9fVFJBQ0tfTE9BREVELCB7XG4gICAgICAgICAgZGV0YWlsczogbGV2ZWxEZXRhaWxzLFxuICAgICAgICAgIGlkOiBpZCB8fCAwLFxuICAgICAgICAgIGdyb3VwSWQ6IGdyb3VwSWQgfHwgJycsXG4gICAgICAgICAgc3RhdHMsXG4gICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgZGVsaXZlcnlEaXJlY3RpdmVzLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXlsaXN0Q29udGV4dFR5cGUuU1VCVElUTEVfVFJBQ0s6XG4gICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5TVUJUSVRMRV9UUkFDS19MT0FERUQsIHtcbiAgICAgICAgICBkZXRhaWxzOiBsZXZlbERldGFpbHMsXG4gICAgICAgICAgaWQ6IGlkIHx8IDAsXG4gICAgICAgICAgZ3JvdXBJZDogZ3JvdXBJZCB8fCAnJyxcbiAgICAgICAgICBzdGF0cyxcbiAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICBkZWxpdmVyeURpcmVjdGl2ZXMsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWxpc3RMb2FkZXI7XG4iLCAiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEFkZFRyYWNrRXZlbnQodHJhY2s6IFRleHRUcmFjaywgdmlkZW9FbDogSFRNTE1lZGlhRWxlbWVudCkge1xuICBsZXQgZXZlbnQ6IEV2ZW50O1xuICB0cnkge1xuICAgIGV2ZW50ID0gbmV3IEV2ZW50KCdhZGR0cmFjaycpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBmb3IgSUUxMVxuICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZlbnQuaW5pdEV2ZW50KCdhZGR0cmFjaycsIGZhbHNlLCBmYWxzZSk7XG4gIH1cbiAgKGV2ZW50IGFzIGFueSkudHJhY2sgPSB0cmFjaztcbiAgdmlkZW9FbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1ZVRvVHJhY2sodHJhY2s6IFRleHRUcmFjaywgY3VlOiBWVFRDdWUpIHtcbiAgLy8gU29tZXRpbWVzIHRoZXJlIGFyZSBjdWUgb3ZlcmxhcHMgb24gc2VnbWVudGVkIHZ0dHMgc28gdGhlIHNhbWVcbiAgLy8gY3VlIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgaW4gZGlmZmVyZW50IHZ0dCBmaWxlcy5cbiAgLy8gVGhpcyBhdm9pZCBzaG93aW5nIGR1cGxpY2F0ZWQgY3VlcyB3aXRoIHNhbWUgdGltZWNvZGUgYW5kIHRleHQuXG4gIGNvbnN0IG1vZGUgPSB0cmFjay5tb2RlO1xuICBpZiAobW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgIHRyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgfVxuICBpZiAodHJhY2suY3VlcyAmJiAhdHJhY2suY3Vlcy5nZXRDdWVCeUlkKGN1ZS5pZCkpIHtcbiAgICB0cnkge1xuICAgICAgdHJhY2suYWRkQ3VlKGN1ZSk7XG4gICAgICBpZiAoIXRyYWNrLmN1ZXMuZ2V0Q3VlQnlJZChjdWUuaWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYWRkQ3VlIGlzIGZhaWxlZCBmb3I6ICR7Y3VlfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmRlYnVnKGBbdGV4dHRyYWNrLXV0aWxzXTogJHtlcnJ9YCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0VHJhY2tDdWUgPSBuZXcgKHNlbGYuVGV4dFRyYWNrQ3VlIGFzIGFueSkoXG4gICAgICAgICAgY3VlLnN0YXJ0VGltZSxcbiAgICAgICAgICBjdWUuZW5kVGltZSxcbiAgICAgICAgICBjdWUudGV4dCxcbiAgICAgICAgKTtcbiAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gY3VlLmlkO1xuICAgICAgICB0cmFjay5hZGRDdWUodGV4dFRyYWNrQ3VlKTtcbiAgICAgIH0gY2F0Y2ggKGVycjIpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICAgIGBbdGV4dHRyYWNrLXV0aWxzXTogTGVnYWN5IFRleHRUcmFja0N1ZSBmYWxsYmFjayBmYWlsZWQ6ICR7ZXJyMn1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgIHRyYWNrLm1vZGUgPSBtb2RlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckN1cnJlbnRDdWVzKHRyYWNrOiBUZXh0VHJhY2spIHtcbiAgLy8gV2hlbiB0cmFjay5tb2RlIGlzIGRpc2FibGVkLCB0cmFjay5jdWVzIHdpbGwgYmUgbnVsbC5cbiAgLy8gVG8gZ3VhcmFudGVlIHRoZSByZW1vdmFsIG9mIGN1ZXMsIHdlIG5lZWQgdG8gdGVtcG9yYXJpbHlcbiAgLy8gY2hhbmdlIHRoZSBtb2RlIHRvIGhpZGRlblxuICBjb25zdCBtb2RlID0gdHJhY2subW9kZTtcbiAgaWYgKG1vZGUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICB0cmFjay5tb2RlID0gJ2hpZGRlbic7XG4gIH1cbiAgaWYgKHRyYWNrLmN1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gdHJhY2suY3Vlcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICB0cmFjay5yZW1vdmVDdWUodHJhY2suY3Vlc1tpXSk7XG4gICAgfVxuICB9XG4gIGlmIChtb2RlID09PSAnZGlzYWJsZWQnKSB7XG4gICAgdHJhY2subW9kZSA9IG1vZGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUN1ZXNJblJhbmdlKFxuICB0cmFjazogVGV4dFRyYWNrLFxuICBzdGFydDogbnVtYmVyLFxuICBlbmQ6IG51bWJlcixcbiAgcHJlZGljYXRlPzogKGN1ZTogVGV4dFRyYWNrQ3VlKSA9PiBib29sZWFuLFxuKSB7XG4gIGNvbnN0IG1vZGUgPSB0cmFjay5tb2RlO1xuICBpZiAobW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgIHRyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgfVxuXG4gIGlmICh0cmFjay5jdWVzICYmIHRyYWNrLmN1ZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGN1ZXMgPSBnZXRDdWVzSW5SYW5nZSh0cmFjay5jdWVzLCBzdGFydCwgZW5kKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZShjdWVzW2ldKSkge1xuICAgICAgICB0cmFjay5yZW1vdmVDdWUoY3Vlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChtb2RlID09PSAnZGlzYWJsZWQnKSB7XG4gICAgdHJhY2subW9kZSA9IG1vZGU7XG4gIH1cbn1cblxuLy8gRmluZCBmaXJzdCBjdWUgc3RhcnRpbmcgYWZ0ZXIgZ2l2ZW4gdGltZS5cbi8vIE1vZGlmaWVkIHZlcnNpb24gb2YgYmluYXJ5IHNlYXJjaCBPKGxvZyhuKSkuXG5mdW5jdGlvbiBnZXRGaXJzdEN1ZUluZGV4QWZ0ZXJUaW1lKFxuICBjdWVzOiBUZXh0VHJhY2tDdWVMaXN0IHwgVGV4dFRyYWNrQ3VlW10sXG4gIHRpbWU6IG51bWJlcixcbik6IG51bWJlciB7XG4gIC8vIElmIGZpcnN0IGN1ZSBzdGFydHMgYWZ0ZXIgdGltZSwgc3RhcnQgdGhlcmVcbiAgaWYgKHRpbWUgPCBjdWVzWzBdLnN0YXJ0VGltZSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIElmIHRoZSBsYXN0IGN1ZSBlbmRzIGJlZm9yZSB0aW1lIHRoZXJlIGlzIG5vIG92ZXJsYXBcbiAgY29uc3QgbGVuID0gY3Vlcy5sZW5ndGggLSAxO1xuICBpZiAodGltZSA+IGN1ZXNbbGVuXS5lbmRUaW1lKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgbGV0IGxlZnQgPSAwO1xuICBsZXQgcmlnaHQgPSBsZW47XG5cbiAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChyaWdodCArIGxlZnQpIC8gMik7XG5cbiAgICBpZiAodGltZSA8IGN1ZXNbbWlkXS5zdGFydFRpbWUpIHtcbiAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICB9IGVsc2UgaWYgKHRpbWUgPiBjdWVzW21pZF0uc3RhcnRUaW1lICYmIGxlZnQgPCBsZW4pIHtcbiAgICAgIGxlZnQgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBpdCdzIG5vdCBsb3dlciBvciBoaWdoZXIsIGl0IG11c3QgYmUgZXF1YWwuXG4gICAgICByZXR1cm4gbWlkO1xuICAgIH1cbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50LCBsZWZ0IGFuZCByaWdodCBoYXZlIHN3YXBwZWQuXG4gIC8vIE5vIGRpcmVjdCBtYXRjaCB3YXMgZm91bmQsIGxlZnQgb3IgcmlnaHQgZWxlbWVudCBtdXN0IGJlIHRoZSBjbG9zZXN0LiBDaGVjayB3aGljaCBvbmUgaGFzIHRoZSBzbWFsbGVzdCBkaWZmLlxuICByZXR1cm4gY3Vlc1tsZWZ0XS5zdGFydFRpbWUgLSB0aW1lIDwgdGltZSAtIGN1ZXNbcmlnaHRdLnN0YXJ0VGltZVxuICAgID8gbGVmdFxuICAgIDogcmlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdWVzSW5SYW5nZShcbiAgY3VlczogVGV4dFRyYWNrQ3VlTGlzdCB8IFRleHRUcmFja0N1ZVtdLFxuICBzdGFydDogbnVtYmVyLFxuICBlbmQ6IG51bWJlcixcbik6IFRleHRUcmFja0N1ZVtdIHtcbiAgY29uc3QgY3Vlc0ZvdW5kOiBUZXh0VHJhY2tDdWVbXSA9IFtdO1xuICBjb25zdCBmaXJzdEN1ZUluUmFuZ2UgPSBnZXRGaXJzdEN1ZUluZGV4QWZ0ZXJUaW1lKGN1ZXMsIHN0YXJ0KTtcbiAgaWYgKGZpcnN0Q3VlSW5SYW5nZSA+IC0xKSB7XG4gICAgZm9yIChsZXQgaSA9IGZpcnN0Q3VlSW5SYW5nZSwgbGVuID0gY3Vlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgY3VlID0gY3Vlc1tpXTtcbiAgICAgIGlmIChjdWUuc3RhcnRUaW1lID49IHN0YXJ0ICYmIGN1ZS5lbmRUaW1lIDw9IGVuZCkge1xuICAgICAgICBjdWVzRm91bmQucHVzaChjdWUpO1xuICAgICAgfSBlbHNlIGlmIChjdWUuc3RhcnRUaW1lID4gZW5kKSB7XG4gICAgICAgIHJldHVybiBjdWVzRm91bmQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjdWVzRm91bmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyhcbiAgdGV4dFRyYWNrTGlzdDogVGV4dFRyYWNrTGlzdCxcbik6IFRleHRUcmFja1tdIHtcbiAgY29uc3QgdHJhY2tzOiBUZXh0VHJhY2tbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRUcmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0cmFjayA9IHRleHRUcmFja0xpc3RbaV07XG4gICAgLy8gRWRnZSBhZGRzIGEgdHJhY2sgd2l0aG91dCBhIGxhYmVsOyB3ZSBkb24ndCB3YW50IHRvIHVzZSBpdFxuICAgIGlmIChcbiAgICAgICh0cmFjay5raW5kID09PSAnc3VidGl0bGVzJyB8fCB0cmFjay5raW5kID09PSAnY2FwdGlvbnMnKSAmJlxuICAgICAgdHJhY2subGFiZWxcbiAgICApIHtcbiAgICAgIHRyYWNrcy5wdXNoKHRleHRUcmFja0xpc3RbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJhY2tzO1xufVxuIiwgImltcG9ydCB0eXBlIHsgUmF0aW9uYWxUaW1lc3RhbXAgfSBmcm9tICcuLi91dGlscy90aW1lc2NhbGUtY29udmVyc2lvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVtdXhlciB7XG4gIGRlbXV4KFxuICAgIGRhdGE6IFVpbnQ4QXJyYXksXG4gICAgdGltZU9mZnNldDogbnVtYmVyLFxuICAgIGlzU2FtcGxlQWVzPzogYm9vbGVhbixcbiAgICBmbHVzaD86IGJvb2xlYW4sXG4gICk6IERlbXV4ZXJSZXN1bHQ7XG4gIGRlbXV4U2FtcGxlQWVzKFxuICAgIGRhdGE6IFVpbnQ4QXJyYXksXG4gICAga2V5RGF0YTogS2V5RGF0YSxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICk6IFByb21pc2U8RGVtdXhlclJlc3VsdD47XG4gIGZsdXNoKHRpbWVPZmZzZXQ/OiBudW1iZXIpOiBEZW11eGVyUmVzdWx0IHwgUHJvbWlzZTxEZW11eGVyUmVzdWx0PjtcbiAgZGVzdHJveSgpOiB2b2lkO1xuICByZXNldEluaXRTZWdtZW50KFxuICAgIGluaXRTZWdtZW50OiBVaW50OEFycmF5IHwgdW5kZWZpbmVkLFxuICAgIGF1ZGlvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICB2aWRlb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdHJhY2tEdXJhdGlvbjogbnVtYmVyLFxuICApO1xuICByZXNldFRpbWVTdGFtcChkZWZhdWx0SW5pdFBUUz86IFJhdGlvbmFsVGltZXN0YW1wIHwgbnVsbCk6IHZvaWQ7XG4gIHJlc2V0Q29udGlndWl0eSgpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlbXV4ZXJSZXN1bHQge1xuICBhdWRpb1RyYWNrOiBEZW11eGVkQXVkaW9UcmFjaztcbiAgdmlkZW9UcmFjazogRGVtdXhlZFZpZGVvVHJhY2tCYXNlO1xuICBpZDNUcmFjazogRGVtdXhlZE1ldGFkYXRhVHJhY2s7XG4gIHRleHRUcmFjazogRGVtdXhlZFVzZXJkYXRhVHJhY2s7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVtdXhlZFRyYWNrIHtcbiAgdHlwZTogc3RyaW5nO1xuICBpZDogbnVtYmVyO1xuICBwaWQ6IG51bWJlcjtcbiAgaW5wdXRUaW1lU2NhbGU6IG51bWJlcjtcbiAgc2VxdWVuY2VOdW1iZXI6IG51bWJlcjtcbiAgc2FtcGxlczpcbiAgICB8IEF1ZGlvU2FtcGxlW11cbiAgICB8IFZpZGVvU2FtcGxlW11cbiAgICB8IE1ldGFkYXRhU2FtcGxlW11cbiAgICB8IFVzZXJkYXRhU2FtcGxlW11cbiAgICB8IFVpbnQ4QXJyYXk7XG4gIHRpbWVzY2FsZT86IG51bWJlcjtcbiAgY29udGFpbmVyPzogc3RyaW5nO1xuICBkcm9wcGVkOiBudW1iZXI7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xuICBwZXNEYXRhPzogRWxlbWVudGFyeVN0cmVhbURhdGEgfCBudWxsO1xuICBjb2RlYz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXNzdGhyb3VnaFRyYWNrIGV4dGVuZHMgRGVtdXhlZFRyYWNrIHtcbiAgc2FtcGxlRHVyYXRpb246IG51bWJlcjtcbiAgc2FtcGxlczogVWludDhBcnJheTtcbiAgdGltZXNjYWxlOiBudW1iZXI7XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIGNvZGVjOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbXV4ZWRBdWRpb1RyYWNrIGV4dGVuZHMgRGVtdXhlZFRyYWNrIHtcbiAgY29uZmlnPzogbnVtYmVyW10gfCBVaW50OEFycmF5O1xuICBzYW1wbGVyYXRlPzogbnVtYmVyO1xuICBzZWdtZW50Q29kZWM/OiBzdHJpbmc7XG4gIGNoYW5uZWxDb3VudD86IG51bWJlcjtcbiAgbWFuaWZlc3RDb2RlYz86IHN0cmluZztcbiAgc2FtcGxlczogQXVkaW9TYW1wbGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZW11eGVkVmlkZW9UcmFja0Jhc2UgZXh0ZW5kcyBEZW11eGVkVHJhY2sge1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBwaXhlbFJhdGlvPzogW251bWJlciwgbnVtYmVyXTtcbiAgYXVkRm91bmQ/OiBib29sZWFuO1xuICBwcHM/OiBVaW50OEFycmF5W107XG4gIHNwcz86IFVpbnQ4QXJyYXlbXTtcbiAgbmFsdVN0YXRlPzogbnVtYmVyO1xuICBzZWdtZW50Q29kZWM/OiBzdHJpbmc7XG4gIG1hbmlmZXN0Q29kZWM/OiBzdHJpbmc7XG4gIHNhbXBsZXM6IFZpZGVvU2FtcGxlW10gfCBVaW50OEFycmF5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlbXV4ZWRWaWRlb1RyYWNrIGV4dGVuZHMgRGVtdXhlZFZpZGVvVHJhY2tCYXNlIHtcbiAgc2FtcGxlczogVmlkZW9TYW1wbGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZW11eGVkTWV0YWRhdGFUcmFjayBleHRlbmRzIERlbXV4ZWRUcmFjayB7XG4gIHNhbXBsZXM6IE1ldGFkYXRhU2FtcGxlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVtdXhlZFVzZXJkYXRhVHJhY2sgZXh0ZW5kcyBEZW11eGVkVHJhY2sge1xuICBzYW1wbGVzOiBVc2VyZGF0YVNhbXBsZVtdO1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBNZXRhZGF0YVNjaGVtYSB7XG4gIGF1ZGlvSWQzID0gJ29yZy5pZDMnLFxuICBkYXRlUmFuZ2UgPSAnY29tLmFwcGxlLnF1aWNrdGltZS5ITFMnLFxuICBlbXNnID0gJ2h0dHBzOi8vYW9tZWRpYS5vcmcvZW1zZy9JRDMnLFxufVxuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YVNhbXBsZSB7XG4gIHB0czogbnVtYmVyO1xuICBkdHM6IG51bWJlcjtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgbGVuPzogbnVtYmVyO1xuICBkYXRhOiBVaW50OEFycmF5O1xuICB0eXBlOiBNZXRhZGF0YVNjaGVtYTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyZGF0YVNhbXBsZSB7XG4gIHB0czogbnVtYmVyO1xuICBieXRlcz86IFVpbnQ4QXJyYXk7XG4gIHR5cGU/OiBudW1iZXI7XG4gIHBheWxvYWRUeXBlPzogbnVtYmVyO1xuICB1dWlkPzogc3RyaW5nO1xuICB1c2VyRGF0YT86IHN0cmluZztcbiAgdXNlckRhdGFCeXRlcz86IFVpbnQ4QXJyYXk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TYW1wbGUge1xuICBkdHM6IG51bWJlcjtcbiAgcHRzOiBudW1iZXI7XG4gIGtleTogYm9vbGVhbjtcbiAgZnJhbWU6IGJvb2xlYW47XG4gIHVuaXRzOiBWaWRlb1NhbXBsZVVuaXRbXTtcbiAgZGVidWc6IHN0cmluZztcbiAgbGVuZ3RoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TYW1wbGVVbml0IHtcbiAgZGF0YTogVWludDhBcnJheTtcbiAgdHlwZTogbnVtYmVyO1xuICBzdGF0ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQXVkaW9TYW1wbGUgPSB7XG4gIHVuaXQ6IFVpbnQ4QXJyYXk7XG4gIHB0czogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQXVkaW9GcmFtZSA9IHtcbiAgc2FtcGxlOiBBdWRpb1NhbXBsZTtcbiAgbGVuZ3RoOiBudW1iZXI7XG4gIG1pc3Npbmc6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudGFyeVN0cmVhbURhdGEge1xuICBkYXRhOiBVaW50OEFycmF5W107XG4gIHNpemU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZXlEYXRhIHtcbiAgbWV0aG9kOiBzdHJpbmc7XG4gIGtleTogVWludDhBcnJheTtcbiAgaXY6IFVpbnQ4QXJyYXk7XG59XG4iLCAiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7XG4gIHNlbmRBZGRUcmFja0V2ZW50LFxuICBjbGVhckN1cnJlbnRDdWVzLFxuICByZW1vdmVDdWVzSW5SYW5nZSxcbn0gZnJvbSAnLi4vdXRpbHMvdGV4dHRyYWNrLXV0aWxzJztcbmltcG9ydCAqIGFzIElEMyBmcm9tICcuLi9kZW11eC9pZDMnO1xuaW1wb3J0IHtcbiAgRGF0ZVJhbmdlLFxuICBpc0RhdGVSYW5nZUN1ZUF0dHJpYnV0ZSxcbiAgaXNTQ1RFMzVBdHRyaWJ1dGUsXG59IGZyb20gJy4uL2xvYWRlci9kYXRlLXJhbmdlJztcbmltcG9ydCB7IE1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvZGVtdXhlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEJ1ZmZlckZsdXNoaW5nRGF0YSxcbiAgRnJhZ1BhcnNpbmdNZXRhZGF0YURhdGEsXG4gIExldmVsVXBkYXRlZERhdGEsXG4gIE1lZGlhQXR0YWNoZWREYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRBUEkgfSBmcm9tICcuLi90eXBlcy9jb21wb25lbnQtYXBpJztcbmltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIFdlYktpdERhdGFDdWU6IFZUVEN1ZSB8IHZvaWQ7XG4gIH1cbn1cblxuY29uc3QgTUlOX0NVRV9EVVJBVElPTiA9IDAuMjU7XG5cbmZ1bmN0aW9uIGdldEN1ZUNsYXNzKCk6IHR5cGVvZiBWVFRDdWUgfCB0eXBlb2YgVGV4dFRyYWNrQ3VlIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIHNlbGYuVlRUQ3VlIHx8IHNlbGYuVGV4dFRyYWNrQ3VlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDdWVXaXRoRGF0YUZpZWxkcyhcbiAgQ3VlOiB0eXBlb2YgVlRUQ3VlIHwgdHlwZW9mIFRleHRUcmFja0N1ZSxcbiAgc3RhcnRUaW1lOiBudW1iZXIsXG4gIGVuZFRpbWU6IG51bWJlcixcbiAgZGF0YTogT2JqZWN0LFxuICB0eXBlPzogc3RyaW5nLFxuKTogVlRUQ3VlIHwgVGV4dFRyYWNrQ3VlIHwgdW5kZWZpbmVkIHtcbiAgbGV0IGN1ZSA9IG5ldyBDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCAnJyk7XG4gIHRyeSB7XG4gICAgKGN1ZSBhcyBhbnkpLnZhbHVlID0gZGF0YTtcbiAgICBpZiAodHlwZSkge1xuICAgICAgKGN1ZSBhcyBhbnkpLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGN1ZSA9IG5ldyBDdWUoXG4gICAgICBzdGFydFRpbWUsXG4gICAgICBlbmRUaW1lLFxuICAgICAgSlNPTi5zdHJpbmdpZnkodHlwZSA/IHsgdHlwZSwgLi4uZGF0YSB9IDogZGF0YSksXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3VlO1xufVxuXG4vLyBWVFRDdWUgbGF0ZXN0IGRyYWZ0IGFsbG93cyBhbiBpbmZpbml0ZSBkdXJhdGlvbiwgZmFsbGJhY2tcbi8vIHRvIE1BWF9WQUxVRSBpZiBuZWNlc3NhcnlcbmNvbnN0IE1BWF9DVUVfRU5EVElNRSA9ICgoKSA9PiB7XG4gIGNvbnN0IEN1ZSA9IGdldEN1ZUNsYXNzKCk7XG4gIHRyeSB7XG4gICAgQ3VlICYmIG5ldyBDdWUoMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCAnJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xufSkoKTtcblxuZnVuY3Rpb24gZGF0ZVJhbmdlRGF0ZVRvVGltZWxpbmVTZWNvbmRzKGRhdGU6IERhdGUsIG9mZnNldDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIC8gMTAwMCAtIG9mZnNldDtcbn1cblxuZnVuY3Rpb24gaGV4VG9BcnJheUJ1ZmZlcihzdHIpOiBBcnJheUJ1ZmZlciB7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20oXG4gICAgc3RyXG4gICAgICAucmVwbGFjZSgvXjB4LywgJycpXG4gICAgICAucmVwbGFjZSgvKFtcXGRhLWZBLUZdezJ9KSA/L2csICcweCQxICcpXG4gICAgICAucmVwbGFjZSgvICskLywgJycpXG4gICAgICAuc3BsaXQoJyAnKSxcbiAgKS5idWZmZXI7XG59XG5jbGFzcyBJRDNUcmFja0NvbnRyb2xsZXIgaW1wbGVtZW50cyBDb21wb25lbnRBUEkge1xuICBwcml2YXRlIGhsczogSGxzO1xuICBwcml2YXRlIGlkM1RyYWNrOiBUZXh0VHJhY2sgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRhdGVSYW5nZUN1ZXNBcHBlbmRlZDogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7XG4gICAgICBjdWVzOiBSZWNvcmQ8c3RyaW5nLCBWVFRDdWUgfCBUZXh0VHJhY2tDdWU+O1xuICAgICAgZGF0ZVJhbmdlOiBEYXRlUmFuZ2U7XG4gICAgICBkdXJhdGlvbktub3duOiBib29sZWFuO1xuICAgIH1cbiAgPiA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKGhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuX3JlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3VucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmlkM1RyYWNrID0gbnVsbDtcbiAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICB0aGlzLmRhdGVSYW5nZUN1ZXNBcHBlbmRlZCA9IHt9O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmhscyA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIF9yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NRURJQV9ERVRBQ0hJTkcsIHRoaXMub25NZWRpYURldGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkZSQUdfUEFSU0lOR19NRVRBREFUQSwgdGhpcy5vbkZyYWdQYXJzaW5nTWV0YWRhdGEsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0ZMVVNISU5HLCB0aGlzLm9uQnVmZmVyRmx1c2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfVVBEQVRFRCwgdGhpcy5vbkxldmVsVXBkYXRlZCwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIF91bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfUEFSU0lOR19NRVRBREFUQSwgdGhpcy5vbkZyYWdQYXJzaW5nTWV0YWRhdGEsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9GTFVTSElORywgdGhpcy5vbkJ1ZmZlckZsdXNoaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9VUERBVEVELCB0aGlzLm9uTGV2ZWxVcGRhdGVkLCB0aGlzKTtcbiAgfVxuXG4gIC8vIEFkZCBJRDMgbWV0YXRhZGF0YSB0ZXh0IHRyYWNrLlxuICBwcm90ZWN0ZWQgb25NZWRpYUF0dGFjaGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTUVESUFfQVRUQUNIRUQsXG4gICAgZGF0YTogTWVkaWFBdHRhY2hlZERhdGEsXG4gICk6IHZvaWQge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWVkaWFEZXRhY2hpbmcoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlkM1RyYWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyQ3VycmVudEN1ZXModGhpcy5pZDNUcmFjayk7XG4gICAgdGhpcy5pZDNUcmFjayA9IG51bGw7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgdGhpcy5kYXRlUmFuZ2VDdWVzQXBwZW5kZWQgPSB7fTtcbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5kYXRlUmFuZ2VDdWVzQXBwZW5kZWQgPSB7fTtcbiAgfVxuXG4gIGNyZWF0ZVRyYWNrKG1lZGlhOiBIVE1MTWVkaWFFbGVtZW50KTogVGV4dFRyYWNrIHtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMuZ2V0SUQzVHJhY2sobWVkaWEudGV4dFRyYWNrcykgYXMgVGV4dFRyYWNrO1xuICAgIHRyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgICByZXR1cm4gdHJhY2s7XG4gIH1cblxuICBnZXRJRDNUcmFjayh0ZXh0VHJhY2tzOiBUZXh0VHJhY2tMaXN0KTogVGV4dFRyYWNrIHwgdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dFRyYWNrOiBUZXh0VHJhY2sgPSB0ZXh0VHJhY2tzW2ldO1xuICAgICAgaWYgKHRleHRUcmFjay5raW5kID09PSAnbWV0YWRhdGEnICYmIHRleHRUcmFjay5sYWJlbCA9PT0gJ2lkMycpIHtcbiAgICAgICAgLy8gc2VuZCAnYWRkdHJhY2snIHdoZW4gcmV1c2luZyB0aGUgdGV4dFRyYWNrIGZvciBtZXRhZGF0YSxcbiAgICAgICAgLy8gc2FtZSBhcyB3aGF0IHdlIGRvIGZvciBjYXB0aW9uc1xuICAgICAgICBzZW5kQWRkVHJhY2tFdmVudCh0ZXh0VHJhY2ssIHRoaXMubWVkaWEpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0VHJhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1lZGlhLmFkZFRleHRUcmFjaygnbWV0YWRhdGEnLCAnaWQzJyk7XG4gIH1cblxuICBvbkZyYWdQYXJzaW5nTWV0YWRhdGEoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX1BBUlNJTkdfTUVUQURBVEEsXG4gICAgZGF0YTogRnJhZ1BhcnNpbmdNZXRhZGF0YURhdGEsXG4gICkge1xuICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGhsczoge1xuICAgICAgICBjb25maWc6IHsgZW5hYmxlRW1zZ01ldGFkYXRhQ3VlcywgZW5hYmxlSUQzTWV0YWRhdGFDdWVzIH0sXG4gICAgICB9LFxuICAgIH0gPSB0aGlzO1xuICAgIGlmICghZW5hYmxlRW1zZ01ldGFkYXRhQ3VlcyAmJiAhZW5hYmxlSUQzTWV0YWRhdGFDdWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBzYW1wbGVzIH0gPSBkYXRhO1xuXG4gICAgLy8gY3JlYXRlIHRyYWNrIGR5bmFtaWNhbGx5XG4gICAgaWYgKCF0aGlzLmlkM1RyYWNrKSB7XG4gICAgICB0aGlzLmlkM1RyYWNrID0gdGhpcy5jcmVhdGVUcmFjayh0aGlzLm1lZGlhKTtcbiAgICB9XG5cbiAgICBjb25zdCBDdWUgPSBnZXRDdWVDbGFzcygpO1xuICAgIGlmICghQ3VlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0eXBlID0gc2FtcGxlc1tpXS50eXBlO1xuICAgICAgaWYgKFxuICAgICAgICAodHlwZSA9PT0gTWV0YWRhdGFTY2hlbWEuZW1zZyAmJiAhZW5hYmxlRW1zZ01ldGFkYXRhQ3VlcykgfHxcbiAgICAgICAgIWVuYWJsZUlEM01ldGFkYXRhQ3Vlc1xuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmcmFtZXMgPSBJRDMuZ2V0SUQzRnJhbWVzKHNhbXBsZXNbaV0uZGF0YSk7XG4gICAgICBpZiAoZnJhbWVzKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHNhbXBsZXNbaV0ucHRzO1xuICAgICAgICBsZXQgZW5kVGltZTogbnVtYmVyID0gc3RhcnRUaW1lICsgc2FtcGxlc1tpXS5kdXJhdGlvbjtcblxuICAgICAgICBpZiAoZW5kVGltZSA+IE1BWF9DVUVfRU5EVElNRSkge1xuICAgICAgICAgIGVuZFRpbWUgPSBNQVhfQ1VFX0VORFRJTUU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICAgIGlmICh0aW1lRGlmZiA8PSAwKSB7XG4gICAgICAgICAgZW5kVGltZSA9IHN0YXJ0VGltZSArIE1JTl9DVUVfRFVSQVRJT047XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZyYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IGZyYW1lID0gZnJhbWVzW2pdO1xuICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IHB1dCB0aGUgdGltZXN0YW1wIGZyYW1lIGluIHRoZSBUZXh0VHJhY2tcbiAgICAgICAgICBpZiAoIUlEMy5pc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgLy8gYWRkIGEgYm91bmRzIHRvIGFueSB1bmJvdW5kZWQgY3Vlc1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJZDNDdWVFbmRzKHN0YXJ0VGltZSwgdHlwZSk7XG4gICAgICAgICAgICBjb25zdCBjdWUgPSBjcmVhdGVDdWVXaXRoRGF0YUZpZWxkcyhcbiAgICAgICAgICAgICAgQ3VlLFxuICAgICAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChjdWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5pZDNUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVJZDNDdWVFbmRzKHN0YXJ0VGltZTogbnVtYmVyLCB0eXBlOiBNZXRhZGF0YVNjaGVtYSkge1xuICAgIGNvbnN0IGN1ZXMgPSB0aGlzLmlkM1RyYWNrPy5jdWVzO1xuICAgIGlmIChjdWVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gY3Vlcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGNvbnN0IGN1ZSA9IGN1ZXNbaV0gYXMgYW55O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY3VlLnR5cGUgPT09IHR5cGUgJiZcbiAgICAgICAgICBjdWUuc3RhcnRUaW1lIDwgc3RhcnRUaW1lICYmXG4gICAgICAgICAgY3VlLmVuZFRpbWUgPT09IE1BWF9DVUVfRU5EVElNRVxuICAgICAgICApIHtcbiAgICAgICAgICBjdWUuZW5kVGltZSA9IHN0YXJ0VGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQnVmZmVyRmx1c2hpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfRkxVU0hJTkcsXG4gICAgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCB0eXBlIH06IEJ1ZmZlckZsdXNoaW5nRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBpZDNUcmFjaywgaGxzIH0gPSB0aGlzO1xuICAgIGlmICghaGxzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnOiB7IGVuYWJsZUVtc2dNZXRhZGF0YUN1ZXMsIGVuYWJsZUlEM01ldGFkYXRhQ3VlcyB9LFxuICAgIH0gPSBobHM7XG4gICAgaWYgKGlkM1RyYWNrICYmIChlbmFibGVFbXNnTWV0YWRhdGFDdWVzIHx8IGVuYWJsZUlEM01ldGFkYXRhQ3VlcykpIHtcbiAgICAgIGxldCBwcmVkaWNhdGU7XG5cbiAgICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IChjdWUpID0+XG4gICAgICAgICAgKGN1ZSBhcyBhbnkpLnR5cGUgPT09IE1ldGFkYXRhU2NoZW1hLmF1ZGlvSWQzICYmXG4gICAgICAgICAgZW5hYmxlSUQzTWV0YWRhdGFDdWVzO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IChjdWUpID0+XG4gICAgICAgICAgKGN1ZSBhcyBhbnkpLnR5cGUgPT09IE1ldGFkYXRhU2NoZW1hLmVtc2cgJiYgZW5hYmxlRW1zZ01ldGFkYXRhQ3VlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IChjdWUpID0+XG4gICAgICAgICAgKChjdWUgYXMgYW55KS50eXBlID09PSBNZXRhZGF0YVNjaGVtYS5hdWRpb0lkMyAmJlxuICAgICAgICAgICAgZW5hYmxlSUQzTWV0YWRhdGFDdWVzKSB8fFxuICAgICAgICAgICgoY3VlIGFzIGFueSkudHlwZSA9PT0gTWV0YWRhdGFTY2hlbWEuZW1zZyAmJiBlbmFibGVFbXNnTWV0YWRhdGFDdWVzKTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZUN1ZXNJblJhbmdlKGlkM1RyYWNrLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBwcmVkaWNhdGUpO1xuICAgIH1cbiAgfVxuXG4gIG9uTGV2ZWxVcGRhdGVkKGV2ZW50OiBFdmVudHMuTEVWRUxfVVBEQVRFRCwgeyBkZXRhaWxzIH06IExldmVsVXBkYXRlZERhdGEpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5tZWRpYSB8fFxuICAgICAgIWRldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lIHx8XG4gICAgICAhdGhpcy5obHMuY29uZmlnLmVuYWJsZURhdGVSYW5nZU1ldGFkYXRhQ3Vlc1xuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGVSYW5nZUN1ZXNBcHBlbmRlZCwgaWQzVHJhY2sgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBkYXRlUmFuZ2VzIH0gPSBkZXRhaWxzO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKGRhdGVSYW5nZXMpO1xuICAgIC8vIFJlbW92ZSBjdWVzIGZyb20gdHJhY2sgbm90IGZvdW5kIGluIGRldGFpbHMuZGF0ZVJhbmdlc1xuICAgIGlmIChpZDNUcmFjaykge1xuICAgICAgY29uc3QgaWRzVG9SZW1vdmUgPSBPYmplY3Qua2V5cyhkYXRlUmFuZ2VDdWVzQXBwZW5kZWQpLmZpbHRlcihcbiAgICAgICAgKGlkKSA9PiAhaWRzLmluY2x1ZGVzKGlkKSxcbiAgICAgICk7XG4gICAgICBmb3IgKGxldCBpID0gaWRzVG9SZW1vdmUubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBjb25zdCBpZCA9IGlkc1RvUmVtb3ZlW2ldO1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRlUmFuZ2VDdWVzQXBwZW5kZWRbaWRdLmN1ZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGlkM1RyYWNrLnJlbW92ZUN1ZShkYXRlUmFuZ2VDdWVzQXBwZW5kZWRbaWRdLmN1ZXNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWxldGUgZGF0ZVJhbmdlQ3Vlc0FwcGVuZGVkW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRXhpdCBpZiB0aGUgcGxheWxpc3QgZG9lcyBub3QgaGF2ZSBEYXRlIFJhbmdlcyBvciBkb2VzIG5vdCBoYXZlIFByb2dyYW0gRGF0ZSBUaW1lXG4gICAgY29uc3QgbGFzdEZyYWdtZW50ID0gZGV0YWlscy5mcmFnbWVudHNbZGV0YWlscy5mcmFnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlkcy5sZW5ndGggPT09IDAgfHwgIU51bWJlci5pc0Zpbml0ZShsYXN0RnJhZ21lbnQ/LnByb2dyYW1EYXRlVGltZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaWQzVHJhY2spIHtcbiAgICAgIHRoaXMuaWQzVHJhY2sgPSB0aGlzLmNyZWF0ZVRyYWNrKHRoaXMubWVkaWEpO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGVUaW1lT2Zmc2V0ID1cbiAgICAgIChsYXN0RnJhZ21lbnQucHJvZ3JhbURhdGVUaW1lIGFzIG51bWJlcikgLyAxMDAwIC0gbGFzdEZyYWdtZW50LnN0YXJ0O1xuICAgIGNvbnN0IEN1ZSA9IGdldEN1ZUNsYXNzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaWQgPSBpZHNbaV07XG4gICAgICBjb25zdCBkYXRlUmFuZ2UgPSBkYXRlUmFuZ2VzW2lkXTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGRhdGVSYW5nZURhdGVUb1RpbWVsaW5lU2Vjb25kcyhcbiAgICAgICAgZGF0ZVJhbmdlLnN0YXJ0RGF0ZSxcbiAgICAgICAgZGF0ZVRpbWVPZmZzZXQsXG4gICAgICApO1xuXG4gICAgICAvLyBQcm9jZXNzIERhdGVSYW5nZXMgdG8gZGV0ZXJtaW5lIGVuZC10aW1lIChrbm93biBEVVJBVElPTiwgRU5ELURBVEUsIG9yIEVORC1PTi1ORVhUKVxuICAgICAgY29uc3QgYXBwZW5kZWREYXRlUmFuZ2VDdWVzID0gZGF0ZVJhbmdlQ3Vlc0FwcGVuZGVkW2lkXTtcbiAgICAgIGNvbnN0IGN1ZXMgPSBhcHBlbmRlZERhdGVSYW5nZUN1ZXM/LmN1ZXMgfHwge307XG4gICAgICBsZXQgZHVyYXRpb25Lbm93biA9IGFwcGVuZGVkRGF0ZVJhbmdlQ3Vlcz8uZHVyYXRpb25Lbm93biB8fCBmYWxzZTtcbiAgICAgIGxldCBlbmRUaW1lID0gTUFYX0NVRV9FTkRUSU1FO1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IGRhdGVSYW5nZS5lbmREYXRlO1xuICAgICAgaWYgKGVuZERhdGUpIHtcbiAgICAgICAgZW5kVGltZSA9IGRhdGVSYW5nZURhdGVUb1RpbWVsaW5lU2Vjb25kcyhlbmREYXRlLCBkYXRlVGltZU9mZnNldCk7XG4gICAgICAgIGR1cmF0aW9uS25vd24gPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkYXRlUmFuZ2UuZW5kT25OZXh0ICYmICFkdXJhdGlvbktub3duKSB7XG4gICAgICAgIGNvbnN0IG5leHREYXRlUmFuZ2VXaXRoU2FtZUNsYXNzID0gaWRzLnJlZHVjZShcbiAgICAgICAgICAoY2FuZGlkYXRlRGF0ZVJhbmdlOiBEYXRlUmFuZ2UgfCBudWxsLCBpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkICE9PSBkYXRlUmFuZ2UuaWQpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3RoZXJEYXRlUmFuZ2UgPSBkYXRlUmFuZ2VzW2lkXTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG90aGVyRGF0ZVJhbmdlLmNsYXNzID09PSBkYXRlUmFuZ2UuY2xhc3MgJiZcbiAgICAgICAgICAgICAgICBvdGhlckRhdGVSYW5nZS5zdGFydERhdGUgPiBkYXRlUmFuZ2Uuc3RhcnREYXRlICYmXG4gICAgICAgICAgICAgICAgKCFjYW5kaWRhdGVEYXRlUmFuZ2UgfHxcbiAgICAgICAgICAgICAgICAgIGRhdGVSYW5nZS5zdGFydERhdGUgPCBjYW5kaWRhdGVEYXRlUmFuZ2Uuc3RhcnREYXRlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXJEYXRlUmFuZ2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVEYXRlUmFuZ2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICApO1xuICAgICAgICBpZiAobmV4dERhdGVSYW5nZVdpdGhTYW1lQ2xhc3MpIHtcbiAgICAgICAgICBlbmRUaW1lID0gZGF0ZVJhbmdlRGF0ZVRvVGltZWxpbmVTZWNvbmRzKFxuICAgICAgICAgICAgbmV4dERhdGVSYW5nZVdpdGhTYW1lQ2xhc3Muc3RhcnREYXRlLFxuICAgICAgICAgICAgZGF0ZVRpbWVPZmZzZXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkdXJhdGlvbktub3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgVGV4dFRyYWNrIEN1ZXMgZm9yIGVhY2ggTWV0YWRhdGFHcm91cCBJdGVtIChzZWxlY3QgRGF0ZVJhbmdlIGF0dHJpYnV0ZSlcbiAgICAgIC8vIFRoaXMgaXMgdG8gZW11bGF0ZSBTYWZhcmkgSExTIHBsYXliYWNrIGhhbmRsaW5nIG9mIERhdGVSYW5nZSB0YWdzXG4gICAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmtleXMoZGF0ZVJhbmdlLmF0dHIpO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgIGlmICghaXNEYXRlUmFuZ2VDdWVBdHRyaWJ1dGUoa2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1ZSA9IGN1ZXNba2V5XTtcbiAgICAgICAgaWYgKGN1ZSkge1xuICAgICAgICAgIGlmIChkdXJhdGlvbktub3duICYmICFhcHBlbmRlZERhdGVSYW5nZUN1ZXMuZHVyYXRpb25Lbm93bikge1xuICAgICAgICAgICAgY3VlLmVuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChDdWUpIHtcbiAgICAgICAgICBsZXQgZGF0YSA9IGRhdGVSYW5nZS5hdHRyW2tleV07XG4gICAgICAgICAgaWYgKGlzU0NURTM1QXR0cmlidXRlKGtleSkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBoZXhUb0FycmF5QnVmZmVyKGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdWUgPSBjcmVhdGVDdWVXaXRoRGF0YUZpZWxkcyhcbiAgICAgICAgICAgIEN1ZSxcbiAgICAgICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgICB7IGtleSwgZGF0YSB9LFxuICAgICAgICAgICAgTWV0YWRhdGFTY2hlbWEuZGF0ZVJhbmdlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGN1ZSkge1xuICAgICAgICAgICAgY3VlLmlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLmlkM1RyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgICAgICAgY3Vlc1trZXldID0gY3VlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHByb2Nlc3NlZCBEYXRlUmFuZ2VzIGJ5IElEIGZvciB1cGRhdGluZyBjdWVzIHdpdGggbmV3IERhdGVSYW5nZSB0YWcgYXR0cmlidXRlc1xuICAgICAgZGF0ZVJhbmdlQ3Vlc0FwcGVuZGVkW2lkXSA9IHtcbiAgICAgICAgY3VlcyxcbiAgICAgICAgZGF0ZVJhbmdlLFxuICAgICAgICBkdXJhdGlvbktub3duLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSUQzVHJhY2tDb250cm9sbGVyO1xuIiwgImltcG9ydCB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB7IEVycm9yRGV0YWlscyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHR5cGUge1xuICBFcnJvckRhdGEsXG4gIExldmVsVXBkYXRlZERhdGEsXG4gIE1lZGlhQXR0YWNoaW5nRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdGVuY3lDb250cm9sbGVyIGltcGxlbWVudHMgQ29tcG9uZW50QVBJIHtcbiAgcHJpdmF0ZSBobHM6IEhscztcbiAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSBtZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY3VycmVudFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgc3RhbGxDb3VudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfbGF0ZW5jeTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdGltZXVwZGF0ZUhhbmRsZXIgPSAoKSA9PiB0aGlzLnRpbWV1cGRhdGUoKTtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBnZXQgbGF0ZW5jeSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9sYXRlbmN5IHx8IDA7XG4gIH1cblxuICBnZXQgbWF4TGF0ZW5jeSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgY29uZmlnLCBsZXZlbERldGFpbHMgfSA9IHRoaXM7XG4gICAgaWYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGxldmVsRGV0YWlsc1xuICAgICAgPyBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uXG4gICAgICA6IDA7XG4gIH1cblxuICBnZXQgdGFyZ2V0TGF0ZW5jeSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCB7IGxldmVsRGV0YWlscyB9ID0gdGhpcztcbiAgICBpZiAobGV2ZWxEZXRhaWxzID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBob2xkQmFjaywgcGFydEhvbGRCYWNrLCB0YXJnZXRkdXJhdGlvbiB9ID0gbGV2ZWxEZXRhaWxzO1xuICAgIGNvbnN0IHsgbGl2ZVN5bmNEdXJhdGlvbiwgbGl2ZVN5bmNEdXJhdGlvbkNvdW50LCBsb3dMYXRlbmN5TW9kZSB9ID1cbiAgICAgIHRoaXMuY29uZmlnO1xuICAgIGNvbnN0IHVzZXJDb25maWcgPSB0aGlzLmhscy51c2VyQ29uZmlnO1xuICAgIGxldCB0YXJnZXRMYXRlbmN5ID0gbG93TGF0ZW5jeU1vZGUgPyBwYXJ0SG9sZEJhY2sgfHwgaG9sZEJhY2sgOiBob2xkQmFjaztcbiAgICBpZiAoXG4gICAgICB1c2VyQ29uZmlnLmxpdmVTeW5jRHVyYXRpb24gfHxcbiAgICAgIHVzZXJDb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50IHx8XG4gICAgICB0YXJnZXRMYXRlbmN5ID09PSAwXG4gICAgKSB7XG4gICAgICB0YXJnZXRMYXRlbmN5ID1cbiAgICAgICAgbGl2ZVN5bmNEdXJhdGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBsaXZlU3luY0R1cmF0aW9uXG4gICAgICAgICAgOiBsaXZlU3luY0R1cmF0aW9uQ291bnQgKiB0YXJnZXRkdXJhdGlvbjtcbiAgICB9XG4gICAgY29uc3QgbWF4TGl2ZVN5bmNPblN0YWxsSW5jcmVhc2UgPSB0YXJnZXRkdXJhdGlvbjtcbiAgICBjb25zdCBsaXZlU3luY09uU3RhbGxJbmNyZWFzZSA9IDEuMDtcbiAgICByZXR1cm4gKFxuICAgICAgdGFyZ2V0TGF0ZW5jeSArXG4gICAgICBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5zdGFsbENvdW50ICogbGl2ZVN5bmNPblN0YWxsSW5jcmVhc2UsXG4gICAgICAgIG1heExpdmVTeW5jT25TdGFsbEluY3JlYXNlLFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBnZXQgbGl2ZVN5bmNQb3NpdGlvbigpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCBsaXZlRWRnZSA9IHRoaXMuZXN0aW1hdGVMaXZlRWRnZSgpO1xuICAgIGNvbnN0IHRhcmdldExhdGVuY3kgPSB0aGlzLnRhcmdldExhdGVuY3k7XG4gICAgY29uc3QgbGV2ZWxEZXRhaWxzID0gdGhpcy5sZXZlbERldGFpbHM7XG4gICAgaWYgKGxpdmVFZGdlID09PSBudWxsIHx8IHRhcmdldExhdGVuY3kgPT09IG51bGwgfHwgbGV2ZWxEZXRhaWxzID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZWRnZSA9IGxldmVsRGV0YWlscy5lZGdlO1xuICAgIGNvbnN0IHN5bmNQb3NpdGlvbiA9IGxpdmVFZGdlIC0gdGFyZ2V0TGF0ZW5jeSAtIHRoaXMuZWRnZVN0YWxsZWQ7XG4gICAgY29uc3QgbWluID0gZWRnZSAtIGxldmVsRGV0YWlscy50b3RhbGR1cmF0aW9uO1xuICAgIGNvbnN0IG1heCA9XG4gICAgICBlZGdlIC1cbiAgICAgICgodGhpcy5jb25maWcubG93TGF0ZW5jeU1vZGUgJiYgbGV2ZWxEZXRhaWxzLnBhcnRUYXJnZXQpIHx8XG4gICAgICAgIGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbik7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgc3luY1Bvc2l0aW9uKSwgbWF4KTtcbiAgfVxuXG4gIGdldCBkcmlmdCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgbGV2ZWxEZXRhaWxzIH0gPSB0aGlzO1xuICAgIGlmIChsZXZlbERldGFpbHMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gbGV2ZWxEZXRhaWxzLmRyaWZ0O1xuICB9XG5cbiAgZ2V0IGVkZ2VTdGFsbGVkKCk6IG51bWJlciB7XG4gICAgY29uc3QgeyBsZXZlbERldGFpbHMgfSA9IHRoaXM7XG4gICAgaWYgKGxldmVsRGV0YWlscyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IG1heExldmVsVXBkYXRlQWdlID1cbiAgICAgICgodGhpcy5jb25maWcubG93TGF0ZW5jeU1vZGUgJiYgbGV2ZWxEZXRhaWxzLnBhcnRUYXJnZXQpIHx8XG4gICAgICAgIGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbikgKiAzO1xuICAgIHJldHVybiBNYXRoLm1heChsZXZlbERldGFpbHMuYWdlIC0gbWF4TGV2ZWxVcGRhdGVBZ2UsIDApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZm9yd2FyZEJ1ZmZlckxlbmd0aCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgbWVkaWEsIGxldmVsRGV0YWlscyB9ID0gdGhpcztcbiAgICBpZiAoIW1lZGlhIHx8ICFsZXZlbERldGFpbHMpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXJlZFJhbmdlcyA9IG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aDtcbiAgICByZXR1cm4gKFxuICAgICAgKGJ1ZmZlcmVkUmFuZ2VzXG4gICAgICAgID8gbWVkaWEuYnVmZmVyZWQuZW5kKGJ1ZmZlcmVkUmFuZ2VzIC0gMSlcbiAgICAgICAgOiBsZXZlbERldGFpbHMuZWRnZSkgLSB0aGlzLmN1cnJlbnRUaW1lXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIHRoaXMub25NZWRpYURldGFjaGluZygpO1xuICAgIHRoaXMubGV2ZWxEZXRhaWxzID0gbnVsbDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5obHMgPSB0aGlzLnRpbWV1cGRhdGVIYW5kbGVyID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5obHMub24oRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgdGhpcy5obHMub24oRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICB0aGlzLmhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgdGhpcy5obHMub24oRXZlbnRzLkxFVkVMX1VQREFURUQsIHRoaXMub25MZXZlbFVwZGF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLmhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgdGhpcy5obHMub2ZmKEV2ZW50cy5NRURJQV9ERVRBQ0hJTkcsIHRoaXMub25NZWRpYURldGFjaGluZywgdGhpcyk7XG4gICAgdGhpcy5obHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICB0aGlzLmhscy5vZmYoRXZlbnRzLkxFVkVMX1VQREFURUQsIHRoaXMub25MZXZlbFVwZGF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIG9uTWVkaWFBdHRhY2hlZChcbiAgICBldmVudDogRXZlbnRzLk1FRElBX0FUVEFDSEVELFxuICAgIGRhdGE6IE1lZGlhQXR0YWNoaW5nRGF0YSxcbiAgKSB7XG4gICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgdGhpcy5tZWRpYS5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgdGhpcy50aW1ldXBkYXRlSGFuZGxlcik7XG4gIH1cblxuICBwcml2YXRlIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgIHRoaXMubWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIHRoaXMudGltZXVwZGF0ZUhhbmRsZXIpO1xuICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICB0aGlzLmxldmVsRGV0YWlscyA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5zdGFsbENvdW50ID0gMDtcbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbFVwZGF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5MRVZFTF9VUERBVEVELFxuICAgIHsgZGV0YWlscyB9OiBMZXZlbFVwZGF0ZWREYXRhLFxuICApIHtcbiAgICB0aGlzLmxldmVsRGV0YWlscyA9IGRldGFpbHM7XG4gICAgaWYgKGRldGFpbHMuYWR2YW5jZWQpIHtcbiAgICAgIHRoaXMudGltZXVwZGF0ZSgpO1xuICAgIH1cbiAgICBpZiAoIWRldGFpbHMubGl2ZSAmJiB0aGlzLm1lZGlhKSB7XG4gICAgICB0aGlzLm1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLnRpbWV1cGRhdGVIYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uRXJyb3IoZXZlbnQ6IEV2ZW50cy5FUlJPUiwgZGF0YTogRXJyb3JEYXRhKSB7XG4gICAgaWYgKGRhdGEuZGV0YWlscyAhPT0gRXJyb3JEZXRhaWxzLkJVRkZFUl9TVEFMTEVEX0VSUk9SKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhbGxDb3VudCsrO1xuICAgIGlmICh0aGlzLmxldmVsRGV0YWlscz8ubGl2ZSkge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICdbcGxheWJhY2stcmF0ZS1jb250cm9sbGVyXTogU3RhbGwgZGV0ZWN0ZWQsIGFkanVzdGluZyB0YXJnZXQgbGF0ZW5jeScsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdGltZXVwZGF0ZSgpIHtcbiAgICBjb25zdCB7IG1lZGlhLCBsZXZlbERldGFpbHMgfSA9IHRoaXM7XG4gICAgaWYgKCFtZWRpYSB8fCAhbGV2ZWxEZXRhaWxzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcblxuICAgIGNvbnN0IGxhdGVuY3kgPSB0aGlzLmNvbXB1dGVMYXRlbmN5KCk7XG4gICAgaWYgKGxhdGVuY3kgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbGF0ZW5jeSA9IGxhdGVuY3k7XG5cbiAgICAvLyBBZGFwdCBwbGF5YmFja1JhdGUgdG8gbWVldCB0YXJnZXQgbGF0ZW5jeSBpbiBsb3ctbGF0ZW5jeSBtb2RlXG4gICAgY29uc3QgeyBsb3dMYXRlbmN5TW9kZSwgbWF4TGl2ZVN5bmNQbGF5YmFja1JhdGUgfSA9IHRoaXMuY29uZmlnO1xuICAgIGlmIChcbiAgICAgICFsb3dMYXRlbmN5TW9kZSB8fFxuICAgICAgbWF4TGl2ZVN5bmNQbGF5YmFja1JhdGUgPT09IDEgfHxcbiAgICAgICFsZXZlbERldGFpbHMubGl2ZVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRMYXRlbmN5ID0gdGhpcy50YXJnZXRMYXRlbmN5O1xuICAgIGlmICh0YXJnZXRMYXRlbmN5ID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRpc3RhbmNlRnJvbVRhcmdldCA9IGxhdGVuY3kgLSB0YXJnZXRMYXRlbmN5O1xuICAgIC8vIE9ubHkgYWRqdXN0IHBsYXliYWNrUmF0ZSB3aGVuIHdpdGhpbiBvbmUgdGFyZ2V0IGR1cmF0aW9uIG9mIHRhcmdldExhdGVuY3lcbiAgICAvLyBhbmQgbW9yZSB0aGFuIG9uZSBzZWNvbmQgZnJvbSB1bmRlci1idWZmZXJpbmcuXG4gICAgLy8gUGxheWJhY2sgZnVydGhlciB0aGFuIG9uZSB0YXJnZXQgZHVyYXRpb24gZnJvbSB0YXJnZXQgY2FuIGJlIGNvbnNpZGVyZWQgRFZSIHBsYXliYWNrLlxuICAgIGNvbnN0IGxpdmVNaW5MYXRlbmN5RHVyYXRpb24gPSBNYXRoLm1pbihcbiAgICAgIHRoaXMubWF4TGF0ZW5jeSxcbiAgICAgIHRhcmdldExhdGVuY3kgKyBsZXZlbERldGFpbHMudGFyZ2V0ZHVyYXRpb24sXG4gICAgKTtcbiAgICBjb25zdCBpbkxpdmVSYW5nZSA9IGRpc3RhbmNlRnJvbVRhcmdldCA8IGxpdmVNaW5MYXRlbmN5RHVyYXRpb247XG5cbiAgICBpZiAoXG4gICAgICBpbkxpdmVSYW5nZSAmJlxuICAgICAgZGlzdGFuY2VGcm9tVGFyZ2V0ID4gMC4wNSAmJlxuICAgICAgdGhpcy5mb3J3YXJkQnVmZmVyTGVuZ3RoID4gMVxuICAgICkge1xuICAgICAgY29uc3QgbWF4ID0gTWF0aC5taW4oMiwgTWF0aC5tYXgoMS4wLCBtYXhMaXZlU3luY1BsYXliYWNrUmF0ZSkpO1xuICAgICAgY29uc3QgcmF0ZSA9XG4gICAgICAgIE1hdGgucm91bmQoXG4gICAgICAgICAgKDIgLyAoMSArIE1hdGguZXhwKC0wLjc1ICogZGlzdGFuY2VGcm9tVGFyZ2V0IC0gdGhpcy5lZGdlU3RhbGxlZCkpKSAqXG4gICAgICAgICAgICAyMCxcbiAgICAgICAgKSAvIDIwO1xuICAgICAgbWVkaWEucGxheWJhY2tSYXRlID0gTWF0aC5taW4obWF4LCBNYXRoLm1heCgxLCByYXRlKSk7XG4gICAgfSBlbHNlIGlmIChtZWRpYS5wbGF5YmFja1JhdGUgIT09IDEgJiYgbWVkaWEucGxheWJhY2tSYXRlICE9PSAwKSB7XG4gICAgICBtZWRpYS5wbGF5YmFja1JhdGUgPSAxO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXN0aW1hdGVMaXZlRWRnZSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBjb25zdCB7IGxldmVsRGV0YWlscyB9ID0gdGhpcztcbiAgICBpZiAobGV2ZWxEZXRhaWxzID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGxldmVsRGV0YWlscy5lZGdlICsgbGV2ZWxEZXRhaWxzLmFnZTtcbiAgfVxuXG4gIHByaXZhdGUgY29tcHV0ZUxhdGVuY3koKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3QgbGl2ZUVkZ2UgPSB0aGlzLmVzdGltYXRlTGl2ZUVkZ2UoKTtcbiAgICBpZiAobGl2ZUVkZ2UgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbGl2ZUVkZ2UgLSB0aGlzLmN1cnJlbnRUaW1lO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBNZWRpYVBsYXlsaXN0IH0gZnJvbSAnLi9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB0eXBlIHsgQXR0ckxpc3QgfSBmcm9tICcuLi91dGlscy9hdHRyLWxpc3QnO1xuaW1wb3J0IHR5cGUgeyBNZWRpYURlY29kaW5nSW5mbyB9IGZyb20gJy4uL3V0aWxzL21lZGlhY2FwYWJpbGl0aWVzLWhlbHBlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGV2ZWxQYXJzZWQge1xuICBhdHRyczogTGV2ZWxBdHRyaWJ1dGVzO1xuICBhdWRpb0NvZGVjPzogc3RyaW5nO1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIGRldGFpbHM/OiBMZXZlbERldGFpbHM7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgaWQ/OiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgdGV4dENvZGVjPzogc3RyaW5nO1xuICB1bmtub3duQ29kZWNzPzogc3RyaW5nW107XG4gIHVybDogc3RyaW5nO1xuICB2aWRlb0NvZGVjPzogc3RyaW5nO1xuICB3aWR0aD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMZXZlbEF0dHJpYnV0ZXMgZXh0ZW5kcyBBdHRyTGlzdCB7XG4gICdBTExPV0VELUNQQyc/OiBzdHJpbmc7XG4gIEFVRElPPzogc3RyaW5nO1xuICAnQVZFUkFHRS1CQU5EV0lEVEgnPzogc3RyaW5nO1xuICBCQU5EV0lEVEg/OiBzdHJpbmc7XG4gICdDTE9TRUQtQ0FQVElPTlMnPzogc3RyaW5nO1xuICBDT0RFQ1M/OiBzdHJpbmc7XG4gICdGUkFNRS1SQVRFJz86IHN0cmluZztcbiAgJ0hEQ1AtTEVWRUwnPzogJ1RZUEUtMCcgfCAnVFlQRS0xJyB8ICdOT05FJztcbiAgJ1BBVEhXQVktSUQnPzogc3RyaW5nO1xuICBSRVNPTFVUSU9OPzogc3RyaW5nO1xuICBTQ09SRT86IHN0cmluZztcbiAgJ1NUQUJMRS1WQVJJQU5ULUlEJz86IHN0cmluZztcbiAgU1VCVElUTEVTPzogc3RyaW5nO1xuICAnU1VQUExFTUVOVEFMLUNPREVDUyc/OiBzdHJpbmc7XG4gIFZJREVPPzogc3RyaW5nO1xuICAnVklERU8tUkFOR0UnPzogVmlkZW9SYW5nZTtcbn1cblxuZXhwb3J0IGNvbnN0IEhkY3BMZXZlbHMgPSBbJ05PTkUnLCAnVFlQRS0wJywgJ1RZUEUtMScsIG51bGxdIGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgSGRjcExldmVsID0gKHR5cGVvZiBIZGNwTGV2ZWxzKVtudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNIZGNwTGV2ZWwodmFsdWU6IGFueSk6IHZhbHVlIGlzIEhkY3BMZXZlbCB7XG4gIHJldHVybiBIZGNwTGV2ZWxzLmluZGV4T2YodmFsdWUpID4gLTE7XG59XG5cbmV4cG9ydCBjb25zdCBWaWRlb1JhbmdlVmFsdWVzID0gWydTRFInLCAnUFEnLCAnSExHJ10gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBWaWRlb1JhbmdlID0gKHR5cGVvZiBWaWRlb1JhbmdlVmFsdWVzKVtudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWaWRlb1JhbmdlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBWaWRlb1JhbmdlIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgVmlkZW9SYW5nZVZhbHVlcy5pbmRleE9mKHZhbHVlKSA+IC0xO1xufVxuXG5leHBvcnQgdHlwZSBWYXJpYWJsZU1hcCA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbmV4cG9ydCBjb25zdCBlbnVtIEhsc1NraXAge1xuICBObyA9ICcnLFxuICBZZXMgPSAnWUVTJyxcbiAgdjIgPSAndjInLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2tpcFZhbHVlKGRldGFpbHM6IExldmVsRGV0YWlscyk6IEhsc1NraXAge1xuICBjb25zdCB7IGNhblNraXBVbnRpbCwgY2FuU2tpcERhdGVSYW5nZXMsIGFnZSB9ID0gZGV0YWlscztcbiAgLy8gQSBDbGllbnQgU0hPVUxEIE5PVCByZXF1ZXN0IGEgUGxheWxpc3QgRGVsdGEgVXBkYXRlIHVubGVzcyBpdCBhbHJlYWR5XG4gIC8vIGhhcyBhIHZlcnNpb24gb2YgdGhlIFBsYXlsaXN0IHRoYXQgaXMgbm8gb2xkZXIgdGhhbiBvbmUtaGFsZiBvZiB0aGUgU2tpcCBCb3VuZGFyeS5cbiAgLy8gQHNlZTogaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9kcmFmdC1wYW50b3MtaGxzLXJmYzgyMTZiaXMjc2VjdGlvbi02LjMuN1xuICBjb25zdCBwbGF5bGlzdFJlY2VudEVub3VnaCA9IGFnZSA8IGNhblNraXBVbnRpbCAvIDI7XG4gIGlmIChjYW5Ta2lwVW50aWwgJiYgcGxheWxpc3RSZWNlbnRFbm91Z2gpIHtcbiAgICBpZiAoY2FuU2tpcERhdGVSYW5nZXMpIHtcbiAgICAgIHJldHVybiBIbHNTa2lwLnYyO1xuICAgIH1cbiAgICByZXR1cm4gSGxzU2tpcC5ZZXM7XG4gIH1cbiAgcmV0dXJuIEhsc1NraXAuTm87XG59XG5cbmV4cG9ydCBjbGFzcyBIbHNVcmxQYXJhbWV0ZXJzIHtcbiAgbXNuPzogbnVtYmVyO1xuICBwYXJ0PzogbnVtYmVyO1xuICBza2lwPzogSGxzU2tpcDtcblxuICBjb25zdHJ1Y3Rvcihtc24/OiBudW1iZXIsIHBhcnQ/OiBudW1iZXIsIHNraXA/OiBIbHNTa2lwKSB7XG4gICAgdGhpcy5tc24gPSBtc247XG4gICAgdGhpcy5wYXJ0ID0gcGFydDtcbiAgICB0aGlzLnNraXAgPSBza2lwO1xuICB9XG5cbiAgYWRkRGlyZWN0aXZlcyh1cmk6IHN0cmluZyk6IHN0cmluZyB8IG5ldmVyIHtcbiAgICBjb25zdCB1cmw6IFVSTCA9IG5ldyBzZWxmLlVSTCh1cmkpO1xuICAgIGlmICh0aGlzLm1zbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnX0hMU19tc24nLCB0aGlzLm1zbi50b1N0cmluZygpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnX0hMU19wYXJ0JywgdGhpcy5wYXJ0LnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5za2lwKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnX0hMU19za2lwJywgdGhpcy5za2lwKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybC5ocmVmO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMZXZlbCB7XG4gIHB1YmxpYyByZWFkb25seSBfYXR0cnM6IExldmVsQXR0cmlidXRlc1tdO1xuICBwdWJsaWMgcmVhZG9ubHkgYXVkaW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgcmVhZG9ubHkgYml0cmF0ZTogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgY29kZWNTZXQ6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHVybDogc3RyaW5nW107XG4gIHB1YmxpYyByZWFkb25seSBmcmFtZVJhdGU6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgaWQ6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHZpZGVvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XG4gIHB1YmxpYyBkZXRhaWxzPzogTGV2ZWxEZXRhaWxzO1xuICBwdWJsaWMgZnJhZ21lbnRFcnJvcjogbnVtYmVyID0gMDtcbiAgcHVibGljIGxvYWRFcnJvcjogbnVtYmVyID0gMDtcbiAgcHVibGljIGxvYWRlZD86IHsgYnl0ZXM6IG51bWJlcjsgZHVyYXRpb246IG51bWJlciB9O1xuICBwdWJsaWMgcmVhbEJpdHJhdGU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBzdXBwb3J0ZWRQcm9taXNlPzogUHJvbWlzZTxNZWRpYURlY29kaW5nSW5mbz47XG4gIHB1YmxpYyBzdXBwb3J0ZWRSZXN1bHQ/OiBNZWRpYURlY29kaW5nSW5mbztcbiAgcHJpdmF0ZSBfYXZnQml0cmF0ZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfYXVkaW9Hcm91cHM/OiAoc3RyaW5nIHwgdW5kZWZpbmVkKVtdO1xuICBwcml2YXRlIF9zdWJ0aXRsZUdyb3Vwcz86IChzdHJpbmcgfCB1bmRlZmluZWQpW107XG4gIC8vIERlcHJlY2F0ZWQgKHJldGFpbmVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSlcbiAgcHJpdmF0ZSByZWFkb25seSBfdXJsSWQ6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogTGV2ZWxQYXJzZWQgfCBNZWRpYVBsYXlsaXN0KSB7XG4gICAgdGhpcy51cmwgPSBbZGF0YS51cmxdO1xuICAgIHRoaXMuX2F0dHJzID0gW2RhdGEuYXR0cnNdO1xuICAgIHRoaXMuYml0cmF0ZSA9IGRhdGEuYml0cmF0ZTtcbiAgICBpZiAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICB0aGlzLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgfVxuICAgIHRoaXMuaWQgPSBkYXRhLmlkIHx8IDA7XG4gICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMud2lkdGggPSBkYXRhLndpZHRoIHx8IDA7XG4gICAgdGhpcy5oZWlnaHQgPSBkYXRhLmhlaWdodCB8fCAwO1xuICAgIHRoaXMuZnJhbWVSYXRlID0gZGF0YS5hdHRycy5vcHRpb25hbEZsb2F0KCdGUkFNRS1SQVRFJywgMCk7XG4gICAgdGhpcy5fYXZnQml0cmF0ZSA9IGRhdGEuYXR0cnMuZGVjaW1hbEludGVnZXIoJ0FWRVJBR0UtQkFORFdJRFRIJyk7XG4gICAgdGhpcy5hdWRpb0NvZGVjID0gZGF0YS5hdWRpb0NvZGVjO1xuICAgIHRoaXMudmlkZW9Db2RlYyA9IGRhdGEudmlkZW9Db2RlYztcbiAgICB0aGlzLmNvZGVjU2V0ID0gW2RhdGEudmlkZW9Db2RlYywgZGF0YS5hdWRpb0NvZGVjXVxuICAgICAgLmZpbHRlcigoYykgPT4gISFjKVxuICAgICAgLm1hcCgoczogc3RyaW5nKSA9PiBzLnN1YnN0cmluZygwLCA0KSlcbiAgICAgIC5qb2luKCcsJyk7XG4gICAgdGhpcy5hZGRHcm91cElkKCdhdWRpbycsIGRhdGEuYXR0cnMuQVVESU8pO1xuICAgIHRoaXMuYWRkR3JvdXBJZCgndGV4dCcsIGRhdGEuYXR0cnMuU1VCVElUTEVTKTtcbiAgfVxuXG4gIGdldCBtYXhCaXRyYXRlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMucmVhbEJpdHJhdGUsIHRoaXMuYml0cmF0ZSk7XG4gIH1cblxuICBnZXQgYXZlcmFnZUJpdHJhdGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fYXZnQml0cmF0ZSB8fCB0aGlzLnJlYWxCaXRyYXRlIHx8IHRoaXMuYml0cmF0ZTtcbiAgfVxuXG4gIGdldCBhdHRycygpOiBMZXZlbEF0dHJpYnV0ZXMge1xuICAgIHJldHVybiB0aGlzLl9hdHRyc1swXTtcbiAgfVxuXG4gIGdldCBjb2RlY3MoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5hdHRycy5DT0RFQ1MgfHwgJyc7XG4gIH1cblxuICBnZXQgcGF0aHdheUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cnNbJ1BBVEhXQVktSUQnXSB8fCAnLic7XG4gIH1cblxuICBnZXQgdmlkZW9SYW5nZSgpOiBWaWRlb1JhbmdlIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyc1snVklERU8tUkFOR0UnXSB8fCAnU0RSJztcbiAgfVxuXG4gIGdldCBzY29yZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmF0dHJzLm9wdGlvbmFsRmxvYXQoJ1NDT1JFJywgMCk7XG4gIH1cblxuICBnZXQgdXJpKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudXJsWzBdIHx8ICcnO1xuICB9XG5cbiAgaGFzQXVkaW9Hcm91cChncm91cElkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaGFzR3JvdXAodGhpcy5fYXVkaW9Hcm91cHMsIGdyb3VwSWQpO1xuICB9XG5cbiAgaGFzU3VidGl0bGVHcm91cChncm91cElkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaGFzR3JvdXAodGhpcy5fc3VidGl0bGVHcm91cHMsIGdyb3VwSWQpO1xuICB9XG5cbiAgZ2V0IGF1ZGlvR3JvdXBzKCk6IChzdHJpbmcgfCB1bmRlZmluZWQpW10gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLl9hdWRpb0dyb3VwcztcbiAgfVxuXG4gIGdldCBzdWJ0aXRsZUdyb3VwcygpOiAoc3RyaW5nIHwgdW5kZWZpbmVkKVtdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fc3VidGl0bGVHcm91cHM7XG4gIH1cblxuICBhZGRHcm91cElkKHR5cGU6IHN0cmluZywgZ3JvdXBJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKCFncm91cElkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICBsZXQgYXVkaW9Hcm91cHMgPSB0aGlzLl9hdWRpb0dyb3VwcztcbiAgICAgIGlmICghYXVkaW9Hcm91cHMpIHtcbiAgICAgICAgYXVkaW9Hcm91cHMgPSB0aGlzLl9hdWRpb0dyb3VwcyA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKGF1ZGlvR3JvdXBzLmluZGV4T2YoZ3JvdXBJZCkgPT09IC0xKSB7XG4gICAgICAgIGF1ZGlvR3JvdXBzLnB1c2goZ3JvdXBJZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAndGV4dCcpIHtcbiAgICAgIGxldCBzdWJ0aXRsZUdyb3VwcyA9IHRoaXMuX3N1YnRpdGxlR3JvdXBzO1xuICAgICAgaWYgKCFzdWJ0aXRsZUdyb3Vwcykge1xuICAgICAgICBzdWJ0aXRsZUdyb3VwcyA9IHRoaXMuX3N1YnRpdGxlR3JvdXBzID0gW107XG4gICAgICB9XG4gICAgICBpZiAoc3VidGl0bGVHcm91cHMuaW5kZXhPZihncm91cElkKSA9PT0gLTEpIHtcbiAgICAgICAgc3VidGl0bGVHcm91cHMucHVzaChncm91cElkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZXByZWNhdGVkIG1ldGhvZHMgKHJldGFpbmVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSlcbiAgZ2V0IHVybElkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBzZXQgdXJsSWQodmFsdWU6IG51bWJlcikge31cblxuICBnZXQgYXVkaW9Hcm91cElkcygpOiAoc3RyaW5nIHwgdW5kZWZpbmVkKVtdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5hdWRpb0dyb3VwcyA/IFt0aGlzLmF1ZGlvR3JvdXBJZF0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgdGV4dEdyb3VwSWRzKCk6IChzdHJpbmcgfCB1bmRlZmluZWQpW10gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnN1YnRpdGxlR3JvdXBzID8gW3RoaXMudGV4dEdyb3VwSWRdIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IGF1ZGlvR3JvdXBJZCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvR3JvdXBzPy5bMF07XG4gIH1cblxuICBnZXQgdGV4dEdyb3VwSWQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdWJ0aXRsZUdyb3Vwcz8uWzBdO1xuICB9XG5cbiAgYWRkRmFsbGJhY2soKSB7fVxufVxuXG5mdW5jdGlvbiBoYXNHcm91cChcbiAgZ3JvdXBzOiAoc3RyaW5nIHwgdW5kZWZpbmVkKVtdIHwgdW5kZWZpbmVkLFxuICBncm91cElkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4pOiBib29sZWFuIHtcbiAgaWYgKCFncm91cElkIHx8ICFncm91cHMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGdyb3Vwcy5pbmRleE9mKGdyb3VwSWQpICE9PSAtMTtcbn1cbiIsICIvKipcbiAqIFByb3ZpZGVzIG1ldGhvZHMgZGVhbGluZyB3aXRoIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGRyaWZ0XG4gKi9cblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgRnJhZ21lbnQsIFBhcnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWRldGFpbHMnO1xuaW1wb3J0IHR5cGUgeyBMZXZlbCB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB7IERhdGVSYW5nZSB9IGZyb20gJy4uL2xvYWRlci9kYXRlLXJhbmdlJztcblxudHlwZSBGcmFnbWVudEludGVyc2VjdGlvbiA9IChvbGRGcmFnOiBGcmFnbWVudCwgbmV3RnJhZzogRnJhZ21lbnQpID0+IHZvaWQ7XG50eXBlIFBhcnRJbnRlcnNlY3Rpb24gPSAob2xkUGFydDogUGFydCwgbmV3UGFydDogUGFydCkgPT4gdm9pZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBUUyhcbiAgZnJhZ21lbnRzOiBGcmFnbWVudFtdLFxuICBmcm9tSWR4OiBudW1iZXIsXG4gIHRvSWR4OiBudW1iZXIsXG4pOiB2b2lkIHtcbiAgY29uc3QgZnJhZ0Zyb20gPSBmcmFnbWVudHNbZnJvbUlkeF07XG4gIGNvbnN0IGZyYWdUbyA9IGZyYWdtZW50c1t0b0lkeF07XG4gIHVwZGF0ZUZyb21Ub1BUUyhmcmFnRnJvbSwgZnJhZ1RvKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRnJvbVRvUFRTKGZyYWdGcm9tOiBGcmFnbWVudCwgZnJhZ1RvOiBGcmFnbWVudCkge1xuICBjb25zdCBmcmFnVG9QVFMgPSBmcmFnVG8uc3RhcnRQVFMgYXMgbnVtYmVyO1xuICAvLyBpZiB3ZSBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICBpZiAoTnVtYmVyLmlzRmluaXRlKGZyYWdUb1BUUykpIHtcbiAgICAvLyB1cGRhdGUgZnJhZ21lbnQgZHVyYXRpb24uXG4gICAgLy8gaXQgaGVscHMgdG8gZml4IGRyaWZ0cyBiZXR3ZWVuIHBsYXlsaXN0IHJlcG9ydGVkIGR1cmF0aW9uIGFuZCBmcmFnbWVudCByZWFsIGR1cmF0aW9uXG4gICAgbGV0IGR1cmF0aW9uOiBudW1iZXIgPSAwO1xuICAgIGxldCBmcmFnOiBGcmFnbWVudDtcbiAgICBpZiAoZnJhZ1RvLnNuID4gZnJhZ0Zyb20uc24pIHtcbiAgICAgIGR1cmF0aW9uID0gZnJhZ1RvUFRTIC0gZnJhZ0Zyb20uc3RhcnQ7XG4gICAgICBmcmFnID0gZnJhZ0Zyb207XG4gICAgfSBlbHNlIHtcbiAgICAgIGR1cmF0aW9uID0gZnJhZ0Zyb20uc3RhcnQgLSBmcmFnVG9QVFM7XG4gICAgICBmcmFnID0gZnJhZ1RvO1xuICAgIH1cbiAgICBpZiAoZnJhZy5kdXJhdGlvbiAhPT0gZHVyYXRpb24pIHtcbiAgICAgIGZyYWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICB9XG4gICAgLy8gd2UgZG9udCBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICB9IGVsc2UgaWYgKGZyYWdUby5zbiA+IGZyYWdGcm9tLnNuKSB7XG4gICAgY29uc3QgY29udGlndW91cyA9IGZyYWdGcm9tLmNjID09PSBmcmFnVG8uY2M7XG4gICAgLy8gVE9ETzogV2l0aCBwYXJ0LWxvYWRpbmcgZW5kL2R1cmF0aW9ucyB3ZSBuZWVkIHRvIGNvbmZpcm0gdGhlIHdob2xlIGZyYWdtZW50IGlzIGxvYWRlZCBiZWZvcmUgdXNpbmcgKG9yIHNldHRpbmcpIG1pbkVuZFBUU1xuICAgIGlmIChjb250aWd1b3VzICYmIGZyYWdGcm9tLm1pbkVuZFBUUykge1xuICAgICAgZnJhZ1RvLnN0YXJ0ID0gZnJhZ0Zyb20uc3RhcnQgKyAoZnJhZ0Zyb20ubWluRW5kUFRTIC0gZnJhZ0Zyb20uc3RhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnVG8uc3RhcnQgPSBmcmFnRnJvbS5zdGFydCArIGZyYWdGcm9tLmR1cmF0aW9uO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmcmFnVG8uc3RhcnQgPSBNYXRoLm1heChmcmFnRnJvbS5zdGFydCAtIGZyYWdUby5kdXJhdGlvbiwgMCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUZyYWdQVFNEVFMoXG4gIGRldGFpbHM6IExldmVsRGV0YWlscyB8IHVuZGVmaW5lZCxcbiAgZnJhZzogRnJhZ21lbnQsXG4gIHN0YXJ0UFRTOiBudW1iZXIsXG4gIGVuZFBUUzogbnVtYmVyLFxuICBzdGFydERUUzogbnVtYmVyLFxuICBlbmREVFM6IG51bWJlcixcbik6IG51bWJlciB7XG4gIGNvbnN0IHBhcnNlZE1lZGlhRHVyYXRpb24gPSBlbmRQVFMgLSBzdGFydFBUUztcbiAgaWYgKHBhcnNlZE1lZGlhRHVyYXRpb24gPD0gMCkge1xuICAgIGxvZ2dlci53YXJuKCdGcmFnbWVudCBzaG91bGQgaGF2ZSBhIHBvc2l0aXZlIGR1cmF0aW9uJywgZnJhZyk7XG4gICAgZW5kUFRTID0gc3RhcnRQVFMgKyBmcmFnLmR1cmF0aW9uO1xuICAgIGVuZERUUyA9IHN0YXJ0RFRTICsgZnJhZy5kdXJhdGlvbjtcbiAgfVxuICBsZXQgbWF4U3RhcnRQVFMgPSBzdGFydFBUUztcbiAgbGV0IG1pbkVuZFBUUyA9IGVuZFBUUztcbiAgY29uc3QgZnJhZ1N0YXJ0UHRzID0gZnJhZy5zdGFydFBUUyBhcyBudW1iZXI7XG4gIGNvbnN0IGZyYWdFbmRQdHMgPSBmcmFnLmVuZFBUUyBhcyBudW1iZXI7XG4gIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZ1N0YXJ0UHRzKSkge1xuICAgIC8vIGRlbHRhIFBUUyBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlb1xuICAgIGNvbnN0IGRlbHRhUFRTID0gTWF0aC5hYnMoZnJhZ1N0YXJ0UHRzIC0gc3RhcnRQVFMpO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGZyYWcuZGVsdGFQVFMgYXMgbnVtYmVyKSkge1xuICAgICAgZnJhZy5kZWx0YVBUUyA9IGRlbHRhUFRTO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnLmRlbHRhUFRTID0gTWF0aC5tYXgoZGVsdGFQVFMsIGZyYWcuZGVsdGFQVFMgYXMgbnVtYmVyKTtcbiAgICB9XG5cbiAgICBtYXhTdGFydFBUUyA9IE1hdGgubWF4KHN0YXJ0UFRTLCBmcmFnU3RhcnRQdHMpO1xuICAgIHN0YXJ0UFRTID0gTWF0aC5taW4oc3RhcnRQVFMsIGZyYWdTdGFydFB0cyk7XG4gICAgc3RhcnREVFMgPSBNYXRoLm1pbihzdGFydERUUywgZnJhZy5zdGFydERUUyk7XG5cbiAgICBtaW5FbmRQVFMgPSBNYXRoLm1pbihlbmRQVFMsIGZyYWdFbmRQdHMpO1xuICAgIGVuZFBUUyA9IE1hdGgubWF4KGVuZFBUUywgZnJhZ0VuZFB0cyk7XG4gICAgZW5kRFRTID0gTWF0aC5tYXgoZW5kRFRTLCBmcmFnLmVuZERUUyk7XG4gIH1cblxuICBjb25zdCBkcmlmdCA9IHN0YXJ0UFRTIC0gZnJhZy5zdGFydDtcbiAgaWYgKGZyYWcuc3RhcnQgIT09IDApIHtcbiAgICBmcmFnLnN0YXJ0ID0gc3RhcnRQVFM7XG4gIH1cbiAgZnJhZy5kdXJhdGlvbiA9IGVuZFBUUyAtIGZyYWcuc3RhcnQ7XG4gIGZyYWcuc3RhcnRQVFMgPSBzdGFydFBUUztcbiAgZnJhZy5tYXhTdGFydFBUUyA9IG1heFN0YXJ0UFRTO1xuICBmcmFnLnN0YXJ0RFRTID0gc3RhcnREVFM7XG4gIGZyYWcuZW5kUFRTID0gZW5kUFRTO1xuICBmcmFnLm1pbkVuZFBUUyA9IG1pbkVuZFBUUztcbiAgZnJhZy5lbmREVFMgPSBlbmREVFM7XG5cbiAgY29uc3Qgc24gPSBmcmFnLnNuIGFzIG51bWJlcjsgLy8gJ2luaXRTZWdtZW50J1xuICAvLyBleGl0IGlmIHNuIG91dCBvZiByYW5nZVxuICBpZiAoIWRldGFpbHMgfHwgc24gPCBkZXRhaWxzLnN0YXJ0U04gfHwgc24gPiBkZXRhaWxzLmVuZFNOKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IGk7XG4gIGNvbnN0IGZyYWdJZHggPSBzbiAtIGRldGFpbHMuc3RhcnRTTjtcbiAgY29uc3QgZnJhZ21lbnRzID0gZGV0YWlscy5mcmFnbWVudHM7XG4gIC8vIHVwZGF0ZSBmcmFnIHJlZmVyZW5jZSBpbiBmcmFnbWVudHMgYXJyYXlcbiAgLy8gcmF0aW9uYWxlIGlzIHRoYXQgZnJhZ21lbnRzIGFycmF5IG1pZ2h0IG5vdCBjb250YWluIHRoaXMgZnJhZyBvYmplY3QuXG4gIC8vIHRoaXMgd2lsbCBoYXBwZW4gaWYgcGxheWxpc3QgaGFzIGJlZW4gcmVmcmVzaGVkIGJldHdlZW4gZnJhZyBsb2FkaW5nIGFuZCBjYWxsIHRvIHVwZGF0ZUZyYWdQVFNEVFMoKVxuICAvLyBpZiB3ZSBkb24ndCB1cGRhdGUgZnJhZywgd2Ugd29uJ3QgYmUgYWJsZSB0byBwcm9wYWdhdGUgUFRTIGluZm8gb24gdGhlIHBsYXlsaXN0XG4gIC8vIHJlc3VsdGluZyBpbiBpbnZhbGlkIHNsaWRpbmcgY29tcHV0YXRpb25cbiAgZnJhZ21lbnRzW2ZyYWdJZHhdID0gZnJhZztcbiAgLy8gYWRqdXN0IGZyYWdtZW50IFBUUy9kdXJhdGlvbiBmcm9tIHNlcW51bS0xIHRvIGZyYWcgMFxuICBmb3IgKGkgPSBmcmFnSWR4OyBpID4gMDsgaS0tKSB7XG4gICAgdXBkYXRlRnJvbVRvUFRTKGZyYWdtZW50c1tpXSwgZnJhZ21lbnRzW2kgLSAxXSk7XG4gIH1cblxuICAvLyBhZGp1c3QgZnJhZ21lbnQgUFRTL2R1cmF0aW9uIGZyb20gc2VxbnVtIHRvIGxhc3QgZnJhZ1xuICBmb3IgKGkgPSBmcmFnSWR4OyBpIDwgZnJhZ21lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHVwZGF0ZUZyb21Ub1BUUyhmcmFnbWVudHNbaV0sIGZyYWdtZW50c1tpICsgMV0pO1xuICB9XG4gIGlmIChkZXRhaWxzLmZyYWdtZW50SGludCkge1xuICAgIHVwZGF0ZUZyb21Ub1BUUyhmcmFnbWVudHNbZnJhZ21lbnRzLmxlbmd0aCAtIDFdLCBkZXRhaWxzLmZyYWdtZW50SGludCk7XG4gIH1cblxuICBkZXRhaWxzLlBUU0tub3duID0gZGV0YWlscy5hbGlnbmVkU2xpZGluZyA9IHRydWU7XG4gIHJldHVybiBkcmlmdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRGV0YWlscyhcbiAgb2xkRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuICBuZXdEZXRhaWxzOiBMZXZlbERldGFpbHMsXG4pOiB2b2lkIHtcbiAgLy8gVHJhY2sgdGhlIGxhc3QgaW5pdFNlZ21lbnQgcHJvY2Vzc2VkLiBJbml0aWFsaXplIGl0IHRvIHRoZSBsYXN0IG9uZSBvbiB0aGUgdGltZWxpbmUuXG4gIGxldCBjdXJyZW50SW5pdFNlZ21lbnQ6IEZyYWdtZW50IHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IG9sZEZyYWdtZW50cyA9IG9sZERldGFpbHMuZnJhZ21lbnRzO1xuICBmb3IgKGxldCBpID0gb2xkRnJhZ21lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgb2xkSW5pdCA9IG9sZEZyYWdtZW50c1tpXS5pbml0U2VnbWVudDtcbiAgICBpZiAob2xkSW5pdCkge1xuICAgICAgY3VycmVudEluaXRTZWdtZW50ID0gb2xkSW5pdDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvbGREZXRhaWxzLmZyYWdtZW50SGludCkge1xuICAgIC8vIHByZXZlbnQgUFRTIGFuZCBkdXJhdGlvbiBmcm9tIGJlaW5nIGFkanVzdGVkIG9uIHRoZSBuZXh0IGhpbnRcbiAgICBkZWxldGUgb2xkRGV0YWlscy5mcmFnbWVudEhpbnQuZW5kUFRTO1xuICB9XG4gIC8vIGNoZWNrIGlmIG9sZC9uZXcgcGxheWxpc3RzIGhhdmUgZnJhZ21lbnRzIGluIGNvbW1vblxuICAvLyBsb29wIHRocm91Z2ggb3ZlcmxhcHBpbmcgU04gYW5kIHVwZGF0ZSBzdGFydFBUUyAsIGNjLCBhbmQgZHVyYXRpb24gaWYgYW55IGZvdW5kXG4gIGxldCBjY09mZnNldCA9IDA7XG4gIGxldCBQVFNGcmFnO1xuICBtYXBGcmFnbWVudEludGVyc2VjdGlvbihcbiAgICBvbGREZXRhaWxzLFxuICAgIG5ld0RldGFpbHMsXG4gICAgKG9sZEZyYWc6IEZyYWdtZW50LCBuZXdGcmFnOiBGcmFnbWVudCkgPT4ge1xuICAgICAgaWYgKG9sZEZyYWcucmVsdXJsKSB7XG4gICAgICAgIC8vIERvIG5vdCBjb21wYXJlIENDIGlmIHRoZSBvbGQgZnJhZ21lbnQgaGFzIG5vIHVybC4gVGhpcyBpcyBhIGxldmVsLmZyYWdtZW50SGludCB1c2VkIGJ5IExMLUhMUyBwYXJ0cy5cbiAgICAgICAgLy8gSXQgbWF5YmUgYmUgb2ZmIGJ5IDEgaWYgaXQgd2FzIGNyZWF0ZWQgYmVmb3JlIGFueSBwYXJ0cyBvciBkaXNjb250aW51aXR5IHRhZ3Mgd2VyZSBhcHBlbmRlZCB0byB0aGUgZW5kXG4gICAgICAgIC8vIG9mIHRoZSBwbGF5bGlzdC5cbiAgICAgICAgY2NPZmZzZXQgPSBvbGRGcmFnLmNjIC0gbmV3RnJhZy5jYztcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKG9sZEZyYWcuc3RhcnRQVFMpICYmXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShvbGRGcmFnLmVuZFBUUylcbiAgICAgICkge1xuICAgICAgICBuZXdGcmFnLnN0YXJ0ID0gbmV3RnJhZy5zdGFydFBUUyA9IG9sZEZyYWcuc3RhcnRQVFMgYXMgbnVtYmVyO1xuICAgICAgICBuZXdGcmFnLnN0YXJ0RFRTID0gb2xkRnJhZy5zdGFydERUUztcbiAgICAgICAgbmV3RnJhZy5tYXhTdGFydFBUUyA9IG9sZEZyYWcubWF4U3RhcnRQVFM7XG5cbiAgICAgICAgbmV3RnJhZy5lbmRQVFMgPSBvbGRGcmFnLmVuZFBUUztcbiAgICAgICAgbmV3RnJhZy5lbmREVFMgPSBvbGRGcmFnLmVuZERUUztcbiAgICAgICAgbmV3RnJhZy5taW5FbmRQVFMgPSBvbGRGcmFnLm1pbkVuZFBUUztcbiAgICAgICAgbmV3RnJhZy5kdXJhdGlvbiA9XG4gICAgICAgICAgKG9sZEZyYWcuZW5kUFRTIGFzIG51bWJlcikgLSAob2xkRnJhZy5zdGFydFBUUyBhcyBudW1iZXIpO1xuXG4gICAgICAgIGlmIChuZXdGcmFnLmR1cmF0aW9uKSB7XG4gICAgICAgICAgUFRTRnJhZyA9IG5ld0ZyYWc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQVFMgaXMga25vd24gd2hlbiBhbnkgc2VnbWVudCBoYXMgc3RhcnRQVFMgYW5kIGVuZFBUU1xuICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gbmV3RGV0YWlscy5hbGlnbmVkU2xpZGluZyA9IHRydWU7XG4gICAgICB9XG4gICAgICBuZXdGcmFnLmVsZW1lbnRhcnlTdHJlYW1zID0gb2xkRnJhZy5lbGVtZW50YXJ5U3RyZWFtcztcbiAgICAgIG5ld0ZyYWcubG9hZGVyID0gb2xkRnJhZy5sb2FkZXI7XG4gICAgICBuZXdGcmFnLnN0YXRzID0gb2xkRnJhZy5zdGF0cztcbiAgICAgIGlmIChvbGRGcmFnLmluaXRTZWdtZW50KSB7XG4gICAgICAgIG5ld0ZyYWcuaW5pdFNlZ21lbnQgPSBvbGRGcmFnLmluaXRTZWdtZW50O1xuICAgICAgICBjdXJyZW50SW5pdFNlZ21lbnQgPSBvbGRGcmFnLmluaXRTZWdtZW50O1xuICAgICAgfVxuICAgIH0sXG4gICk7XG5cbiAgaWYgKGN1cnJlbnRJbml0U2VnbWVudCkge1xuICAgIGNvbnN0IGZyYWdtZW50c1RvQ2hlY2sgPSBuZXdEZXRhaWxzLmZyYWdtZW50SGludFxuICAgICAgPyBuZXdEZXRhaWxzLmZyYWdtZW50cy5jb25jYXQobmV3RGV0YWlscy5mcmFnbWVudEhpbnQpXG4gICAgICA6IG5ld0RldGFpbHMuZnJhZ21lbnRzO1xuICAgIGZyYWdtZW50c1RvQ2hlY2suZm9yRWFjaCgoZnJhZykgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBmcmFnICYmXG4gICAgICAgICghZnJhZy5pbml0U2VnbWVudCB8fFxuICAgICAgICAgIGZyYWcuaW5pdFNlZ21lbnQucmVsdXJsID09PSBjdXJyZW50SW5pdFNlZ21lbnQ/LnJlbHVybClcbiAgICAgICkge1xuICAgICAgICBmcmFnLmluaXRTZWdtZW50ID0gY3VycmVudEluaXRTZWdtZW50O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG5ld0RldGFpbHMuc2tpcHBlZFNlZ21lbnRzKSB7XG4gICAgbmV3RGV0YWlscy5kZWx0YVVwZGF0ZUZhaWxlZCA9IG5ld0RldGFpbHMuZnJhZ21lbnRzLnNvbWUoKGZyYWcpID0+ICFmcmFnKTtcbiAgICBpZiAobmV3RGV0YWlscy5kZWx0YVVwZGF0ZUZhaWxlZCkge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICdbbGV2ZWwtaGVscGVyXSBQcmV2aW91cyBwbGF5bGlzdCBtaXNzaW5nIHNlZ21lbnRzIHNraXBwZWQgaW4gZGVsdGEgcGxheWxpc3QnLFxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IGkgPSBuZXdEZXRhaWxzLnNraXBwZWRTZWdtZW50czsgaS0tOyApIHtcbiAgICAgICAgbmV3RGV0YWlscy5mcmFnbWVudHMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIG5ld0RldGFpbHMuc3RhcnRTTiA9IG5ld0RldGFpbHMuZnJhZ21lbnRzWzBdLnNuIGFzIG51bWJlcjtcbiAgICAgIG5ld0RldGFpbHMuc3RhcnRDQyA9IG5ld0RldGFpbHMuZnJhZ21lbnRzWzBdLmNjO1xuICAgIH0gZWxzZSBpZiAobmV3RGV0YWlscy5jYW5Ta2lwRGF0ZVJhbmdlcykge1xuICAgICAgbmV3RGV0YWlscy5kYXRlUmFuZ2VzID0gbWVyZ2VEYXRlUmFuZ2VzKFxuICAgICAgICBvbGREZXRhaWxzLmRhdGVSYW5nZXMsXG4gICAgICAgIG5ld0RldGFpbHMuZGF0ZVJhbmdlcyxcbiAgICAgICAgbmV3RGV0YWlscy5yZWNlbnRseVJlbW92ZWREYXRlcmFuZ2VzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdGcmFnbWVudHMgPSBuZXdEZXRhaWxzLmZyYWdtZW50cztcbiAgaWYgKGNjT2Zmc2V0KSB7XG4gICAgbG9nZ2VyLndhcm4oJ2Rpc2NvbnRpbnVpdHkgc2xpZGluZyBmcm9tIHBsYXlsaXN0LCB0YWtlIGRyaWZ0IGludG8gYWNjb3VudCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdGcmFnbWVudHNbaV0uY2MgKz0gY2NPZmZzZXQ7XG4gICAgfVxuICB9XG4gIGlmIChuZXdEZXRhaWxzLnNraXBwZWRTZWdtZW50cykge1xuICAgIG5ld0RldGFpbHMuc3RhcnRDQyA9IG5ld0RldGFpbHMuZnJhZ21lbnRzWzBdLmNjO1xuICB9XG5cbiAgLy8gTWVyZ2UgcGFydHNcbiAgbWFwUGFydEludGVyc2VjdGlvbihcbiAgICBvbGREZXRhaWxzLnBhcnRMaXN0LFxuICAgIG5ld0RldGFpbHMucGFydExpc3QsXG4gICAgKG9sZFBhcnQ6IFBhcnQsIG5ld1BhcnQ6IFBhcnQpID0+IHtcbiAgICAgIG5ld1BhcnQuZWxlbWVudGFyeVN0cmVhbXMgPSBvbGRQYXJ0LmVsZW1lbnRhcnlTdHJlYW1zO1xuICAgICAgbmV3UGFydC5zdGF0cyA9IG9sZFBhcnQuc3RhdHM7XG4gICAgfSxcbiAgKTtcblxuICAvLyBpZiBhdCBsZWFzdCBvbmUgZnJhZ21lbnQgY29udGFpbnMgUFRTIGluZm8sIHJlY29tcHV0ZSBQVFMgaW5mb3JtYXRpb24gZm9yIGFsbCBmcmFnbWVudHNcbiAgaWYgKFBUU0ZyYWcpIHtcbiAgICB1cGRhdGVGcmFnUFRTRFRTKFxuICAgICAgbmV3RGV0YWlscyxcbiAgICAgIFBUU0ZyYWcsXG4gICAgICBQVFNGcmFnLnN0YXJ0UFRTLFxuICAgICAgUFRTRnJhZy5lbmRQVFMsXG4gICAgICBQVFNGcmFnLnN0YXJ0RFRTLFxuICAgICAgUFRTRnJhZy5lbmREVFMsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBlbnN1cmUgdGhhdCBkZWx0YSBpcyB3aXRoaW4gb2xkRnJhZ21lbnRzIHJhbmdlXG4gICAgLy8gYWxzbyBhZGp1c3Qgc2xpZGluZyBpbiBjYXNlIGRlbHRhIGlzIDAgKHdlIGNvdWxkIGhhdmUgb2xkPVs1MC02MF0gYW5kIG5ldz1vbGQ9WzUwLTYxXSlcbiAgICAvLyBpbiB0aGF0IGNhc2Ugd2UgYWxzbyBuZWVkIHRvIGFkanVzdCBzdGFydCBvZmZzZXQgb2YgYWxsIGZyYWdtZW50c1xuICAgIGFkanVzdFNsaWRpbmcob2xkRGV0YWlscywgbmV3RGV0YWlscyk7XG4gIH1cblxuICBpZiAobmV3RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgIG5ld0RldGFpbHMudG90YWxkdXJhdGlvbiA9IG5ld0RldGFpbHMuZWRnZSAtIG5ld0ZyYWdtZW50c1swXS5zdGFydDtcbiAgfVxuXG4gIG5ld0RldGFpbHMuZHJpZnRTdGFydFRpbWUgPSBvbGREZXRhaWxzLmRyaWZ0U3RhcnRUaW1lO1xuICBuZXdEZXRhaWxzLmRyaWZ0U3RhcnQgPSBvbGREZXRhaWxzLmRyaWZ0U3RhcnQ7XG4gIGNvbnN0IGFkdmFuY2VkRGF0ZVRpbWUgPSBuZXdEZXRhaWxzLmFkdmFuY2VkRGF0ZVRpbWU7XG4gIGlmIChuZXdEZXRhaWxzLmFkdmFuY2VkICYmIGFkdmFuY2VkRGF0ZVRpbWUpIHtcbiAgICBjb25zdCBlZGdlID0gbmV3RGV0YWlscy5lZGdlO1xuICAgIGlmICghbmV3RGV0YWlscy5kcmlmdFN0YXJ0KSB7XG4gICAgICBuZXdEZXRhaWxzLmRyaWZ0U3RhcnRUaW1lID0gYWR2YW5jZWREYXRlVGltZTtcbiAgICAgIG5ld0RldGFpbHMuZHJpZnRTdGFydCA9IGVkZ2U7XG4gICAgfVxuICAgIG5ld0RldGFpbHMuZHJpZnRFbmRUaW1lID0gYWR2YW5jZWREYXRlVGltZTtcbiAgICBuZXdEZXRhaWxzLmRyaWZ0RW5kID0gZWRnZTtcbiAgfSBlbHNlIHtcbiAgICBuZXdEZXRhaWxzLmRyaWZ0RW5kVGltZSA9IG9sZERldGFpbHMuZHJpZnRFbmRUaW1lO1xuICAgIG5ld0RldGFpbHMuZHJpZnRFbmQgPSBvbGREZXRhaWxzLmRyaWZ0RW5kO1xuICAgIG5ld0RldGFpbHMuYWR2YW5jZWREYXRlVGltZSA9IG9sZERldGFpbHMuYWR2YW5jZWREYXRlVGltZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZURhdGVSYW5nZXMoXG4gIG9sZERhdGVSYW5nZXM6IFJlY29yZDxzdHJpbmcsIERhdGVSYW5nZT4sXG4gIGRlbHRhRGF0ZVJhbmdlczogUmVjb3JkPHN0cmluZywgRGF0ZVJhbmdlPixcbiAgcmVjZW50bHlSZW1vdmVkRGF0ZXJhbmdlczogc3RyaW5nW10gfCB1bmRlZmluZWQsXG4pOiBSZWNvcmQ8c3RyaW5nLCBEYXRlUmFuZ2U+IHtcbiAgY29uc3QgZGF0ZVJhbmdlcyA9IE9iamVjdC5hc3NpZ24oe30sIG9sZERhdGVSYW5nZXMpO1xuICBpZiAocmVjZW50bHlSZW1vdmVkRGF0ZXJhbmdlcykge1xuICAgIHJlY2VudGx5UmVtb3ZlZERhdGVyYW5nZXMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGRlbGV0ZSBkYXRlUmFuZ2VzW2lkXTtcbiAgICB9KTtcbiAgfVxuICBPYmplY3Qua2V5cyhkZWx0YURhdGVSYW5nZXMpLmZvckVhY2goKGlkKSA9PiB7XG4gICAgY29uc3QgZGF0ZVJhbmdlID0gbmV3IERhdGVSYW5nZShkZWx0YURhdGVSYW5nZXNbaWRdLmF0dHIsIGRhdGVSYW5nZXNbaWRdKTtcbiAgICBpZiAoZGF0ZVJhbmdlLmlzVmFsaWQpIHtcbiAgICAgIGRhdGVSYW5nZXNbaWRdID0gZGF0ZVJhbmdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgYElnbm9yaW5nIGludmFsaWQgUGxheWxpc3QgRGVsdGEgVXBkYXRlIERBVEVSQU5HRSB0YWc6IFwiJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBkZWx0YURhdGVSYW5nZXNbaWRdLmF0dHIsXG4gICAgICAgICl9XCJgLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZGF0ZVJhbmdlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFBhcnRJbnRlcnNlY3Rpb24oXG4gIG9sZFBhcnRzOiBQYXJ0W10gfCBudWxsLFxuICBuZXdQYXJ0czogUGFydFtdIHwgbnVsbCxcbiAgaW50ZXJzZWN0aW9uRm46IFBhcnRJbnRlcnNlY3Rpb24sXG4pIHtcbiAgaWYgKG9sZFBhcnRzICYmIG5ld1BhcnRzKSB7XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gb2xkUGFydHMubGVuZ3RoOyBpIDw9IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBvbGRQYXJ0ID0gb2xkUGFydHNbaV07XG4gICAgICBjb25zdCBuZXdQYXJ0ID0gbmV3UGFydHNbaSArIGRlbHRhXTtcbiAgICAgIGlmIChcbiAgICAgICAgb2xkUGFydCAmJlxuICAgICAgICBuZXdQYXJ0ICYmXG4gICAgICAgIG9sZFBhcnQuaW5kZXggPT09IG5ld1BhcnQuaW5kZXggJiZcbiAgICAgICAgb2xkUGFydC5mcmFnbWVudC5zbiA9PT0gbmV3UGFydC5mcmFnbWVudC5zblxuICAgICAgKSB7XG4gICAgICAgIGludGVyc2VjdGlvbkZuKG9sZFBhcnQsIG5ld1BhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEtLTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcEZyYWdtZW50SW50ZXJzZWN0aW9uKFxuICBvbGREZXRhaWxzOiBMZXZlbERldGFpbHMsXG4gIG5ld0RldGFpbHM6IExldmVsRGV0YWlscyxcbiAgaW50ZXJzZWN0aW9uRm46IEZyYWdtZW50SW50ZXJzZWN0aW9uLFxuKTogdm9pZCB7XG4gIGNvbnN0IHNraXBwZWRTZWdtZW50cyA9IG5ld0RldGFpbHMuc2tpcHBlZFNlZ21lbnRzO1xuICBjb25zdCBzdGFydCA9XG4gICAgTWF0aC5tYXgob2xkRGV0YWlscy5zdGFydFNOLCBuZXdEZXRhaWxzLnN0YXJ0U04pIC0gbmV3RGV0YWlscy5zdGFydFNOO1xuICBjb25zdCBlbmQgPVxuICAgIChvbGREZXRhaWxzLmZyYWdtZW50SGludCA/IDEgOiAwKSArXG4gICAgKHNraXBwZWRTZWdtZW50c1xuICAgICAgPyBuZXdEZXRhaWxzLmVuZFNOXG4gICAgICA6IE1hdGgubWluKG9sZERldGFpbHMuZW5kU04sIG5ld0RldGFpbHMuZW5kU04pKSAtXG4gICAgbmV3RGV0YWlscy5zdGFydFNOO1xuICBjb25zdCBkZWx0YSA9IG5ld0RldGFpbHMuc3RhcnRTTiAtIG9sZERldGFpbHMuc3RhcnRTTjtcbiAgY29uc3QgbmV3RnJhZ3MgPSBuZXdEZXRhaWxzLmZyYWdtZW50SGludFxuICAgID8gbmV3RGV0YWlscy5mcmFnbWVudHMuY29uY2F0KG5ld0RldGFpbHMuZnJhZ21lbnRIaW50KVxuICAgIDogbmV3RGV0YWlscy5mcmFnbWVudHM7XG4gIGNvbnN0IG9sZEZyYWdzID0gb2xkRGV0YWlscy5mcmFnbWVudEhpbnRcbiAgICA/IG9sZERldGFpbHMuZnJhZ21lbnRzLmNvbmNhdChvbGREZXRhaWxzLmZyYWdtZW50SGludClcbiAgICA6IG9sZERldGFpbHMuZnJhZ21lbnRzO1xuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgIGNvbnN0IG9sZEZyYWcgPSBvbGRGcmFnc1tkZWx0YSArIGldO1xuICAgIGxldCBuZXdGcmFnID0gbmV3RnJhZ3NbaV07XG4gICAgaWYgKHNraXBwZWRTZWdtZW50cyAmJiAhbmV3RnJhZyAmJiBpIDwgc2tpcHBlZFNlZ21lbnRzKSB7XG4gICAgICAvLyBGaWxsIGluIHNraXBwZWQgc2VnbWVudHMgaW4gZGVsdGEgcGxheWxpc3RcbiAgICAgIG5ld0ZyYWcgPSBuZXdEZXRhaWxzLmZyYWdtZW50c1tpXSA9IG9sZEZyYWc7XG4gICAgfVxuICAgIGlmIChvbGRGcmFnICYmIG5ld0ZyYWcpIHtcbiAgICAgIGludGVyc2VjdGlvbkZuKG9sZEZyYWcsIG5ld0ZyYWcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0U2xpZGluZyhcbiAgb2xkRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuICBuZXdEZXRhaWxzOiBMZXZlbERldGFpbHMsXG4pOiB2b2lkIHtcbiAgY29uc3QgZGVsdGEgPVxuICAgIG5ld0RldGFpbHMuc3RhcnRTTiArIG5ld0RldGFpbHMuc2tpcHBlZFNlZ21lbnRzIC0gb2xkRGV0YWlscy5zdGFydFNOO1xuICBjb25zdCBvbGRGcmFnbWVudHMgPSBvbGREZXRhaWxzLmZyYWdtZW50cztcbiAgaWYgKGRlbHRhIDwgMCB8fCBkZWx0YSA+PSBvbGRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFkZFNsaWRpbmcobmV3RGV0YWlscywgb2xkRnJhZ21lbnRzW2RlbHRhXS5zdGFydCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRTbGlkaW5nKGRldGFpbHM6IExldmVsRGV0YWlscywgc3RhcnQ6IG51bWJlcikge1xuICBpZiAoc3RhcnQpIHtcbiAgICBjb25zdCBmcmFnbWVudHMgPSBkZXRhaWxzLmZyYWdtZW50cztcbiAgICBmb3IgKGxldCBpID0gZGV0YWlscy5za2lwcGVkU2VnbWVudHM7IGkgPCBmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZyYWdtZW50c1tpXS5zdGFydCArPSBzdGFydDtcbiAgICB9XG4gICAgaWYgKGRldGFpbHMuZnJhZ21lbnRIaW50KSB7XG4gICAgICBkZXRhaWxzLmZyYWdtZW50SGludC5zdGFydCArPSBzdGFydDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZWxvYWRJbnRlcnZhbChcbiAgbmV3RGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuICBkaXN0YW5jZVRvTGl2ZUVkZ2VNczogbnVtYmVyID0gSW5maW5pdHksXG4pOiBudW1iZXIge1xuICBsZXQgcmVsb2FkSW50ZXJ2YWwgPSAxMDAwICogbmV3RGV0YWlscy50YXJnZXRkdXJhdGlvbjtcblxuICBpZiAobmV3RGV0YWlscy51cGRhdGVkKSB7XG4gICAgLy8gVXNlIGxhc3Qgc2VnbWVudCBkdXJhdGlvbiB3aGVuIHNob3J0ZXIgdGhhbiB0YXJnZXQgZHVyYXRpb24gYW5kIG5lYXIgbGl2ZSBlZGdlXG4gICAgY29uc3QgZnJhZ21lbnRzID0gbmV3RGV0YWlscy5mcmFnbWVudHM7XG4gICAgY29uc3QgbGl2ZUVkZ2VNYXhUYXJnZXREdXJhdGlvbnMgPSA0O1xuICAgIGlmIChcbiAgICAgIGZyYWdtZW50cy5sZW5ndGggJiZcbiAgICAgIHJlbG9hZEludGVydmFsICogbGl2ZUVkZ2VNYXhUYXJnZXREdXJhdGlvbnMgPiBkaXN0YW5jZVRvTGl2ZUVkZ2VNc1xuICAgICkge1xuICAgICAgY29uc3QgbGFzdFNlZ21lbnREdXJhdGlvbiA9XG4gICAgICAgIGZyYWdtZW50c1tmcmFnbWVudHMubGVuZ3RoIC0gMV0uZHVyYXRpb24gKiAxMDAwO1xuICAgICAgaWYgKGxhc3RTZWdtZW50RHVyYXRpb24gPCByZWxvYWRJbnRlcnZhbCkge1xuICAgICAgICByZWxvYWRJbnRlcnZhbCA9IGxhc3RTZWdtZW50RHVyYXRpb247XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGVzdGltYXRlID0gJ21pc3MgaGFsZiBhdmVyYWdlJztcbiAgICAvLyBmb2xsb3cgSExTIFNwZWMsIElmIHRoZSBjbGllbnQgcmVsb2FkcyBhIFBsYXlsaXN0IGZpbGUgYW5kIGZpbmRzIHRoYXQgaXQgaGFzIG5vdFxuICAgIC8vIGNoYW5nZWQgdGhlbiBpdCBNVVNUIHdhaXQgZm9yIGEgcGVyaW9kIG9mIG9uZS1oYWxmIHRoZSB0YXJnZXRcbiAgICAvLyBkdXJhdGlvbiBiZWZvcmUgcmV0cnlpbmcuXG4gICAgcmVsb2FkSW50ZXJ2YWwgLz0gMjtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnJvdW5kKHJlbG9hZEludGVydmFsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYWdtZW50V2l0aFNOKFxuICBsZXZlbDogTGV2ZWwsXG4gIHNuOiBudW1iZXIsXG4gIGZyYWdDdXJyZW50OiBGcmFnbWVudCB8IG51bGwsXG4pOiBGcmFnbWVudCB8IG51bGwge1xuICBpZiAoIWxldmVsPy5kZXRhaWxzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgbGV0IGZyYWdtZW50OiBGcmFnbWVudCB8IHVuZGVmaW5lZCA9XG4gICAgbGV2ZWxEZXRhaWxzLmZyYWdtZW50c1tzbiAtIGxldmVsRGV0YWlscy5zdGFydFNOXTtcbiAgaWYgKGZyYWdtZW50KSB7XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG4gIGZyYWdtZW50ID0gbGV2ZWxEZXRhaWxzLmZyYWdtZW50SGludDtcbiAgaWYgKGZyYWdtZW50ICYmIGZyYWdtZW50LnNuID09PSBzbikge1xuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxuICBpZiAoc24gPCBsZXZlbERldGFpbHMuc3RhcnRTTiAmJiBmcmFnQ3VycmVudCAmJiBmcmFnQ3VycmVudC5zbiA9PT0gc24pIHtcbiAgICByZXR1cm4gZnJhZ0N1cnJlbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJ0V2l0aChcbiAgbGV2ZWw6IExldmVsLFxuICBzbjogbnVtYmVyLFxuICBwYXJ0SW5kZXg6IG51bWJlcixcbik6IFBhcnQgfCBudWxsIHtcbiAgaWYgKCFsZXZlbD8uZGV0YWlscykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBmaW5kUGFydChsZXZlbC5kZXRhaWxzPy5wYXJ0TGlzdCwgc24sIHBhcnRJbmRleCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUGFydChcbiAgcGFydExpc3Q6IFBhcnRbXSB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHNuOiBudW1iZXIsXG4gIHBhcnRJbmRleDogbnVtYmVyLFxuKTogUGFydCB8IG51bGwge1xuICBpZiAocGFydExpc3QpIHtcbiAgICBmb3IgKGxldCBpID0gcGFydExpc3QubGVuZ3RoOyBpLS07ICkge1xuICAgICAgY29uc3QgcGFydCA9IHBhcnRMaXN0W2ldO1xuICAgICAgaWYgKHBhcnQuaW5kZXggPT09IHBhcnRJbmRleCAmJiBwYXJ0LmZyYWdtZW50LnNuID09PSBzbikge1xuICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFzc2lnbkZyYWdtZW50TGV2ZWxJbmRleGVzKGxldmVsczogTGV2ZWxbXSkge1xuICBsZXZlbHMuZm9yRWFjaCgobGV2ZWwsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgeyBkZXRhaWxzIH0gPSBsZXZlbDtcbiAgICBpZiAoZGV0YWlscz8uZnJhZ21lbnRzKSB7XG4gICAgICBkZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICBmcmFnbWVudC5sZXZlbCA9IGluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBMb2FkUG9saWN5LCBMb2FkZXJDb25maWcsIFJldHJ5Q29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB0eXBlIHsgRXJyb3JEYXRhIH0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgTG9hZGVyUmVzcG9uc2UgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNUaW1lb3V0RXJyb3IoZXJyb3I6IEVycm9yRGF0YSk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGVycm9yLmRldGFpbHMpIHtcbiAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVDpcbiAgICBjYXNlIEVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VUOlxuICAgIGNhc2UgRXJyb3JEZXRhaWxzLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICBjYXNlIEVycm9yRGV0YWlscy5NQU5JRkVTVF9MT0FEX1RJTUVPVVQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXRyeUNvbmZpZyhcbiAgbG9hZFBvbGljeTogTG9hZFBvbGljeSxcbiAgZXJyb3I6IEVycm9yRGF0YSxcbik6IFJldHJ5Q29uZmlnIHwgbnVsbCB7XG4gIGNvbnN0IGlzVGltZW91dCA9IGlzVGltZW91dEVycm9yKGVycm9yKTtcbiAgcmV0dXJuIGxvYWRQb2xpY3kuZGVmYXVsdFtgJHtpc1RpbWVvdXQgPyAndGltZW91dCcgOiAnZXJyb3InfVJldHJ5YF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXRyeURlbGF5KFxuICByZXRyeUNvbmZpZzogUmV0cnlDb25maWcsXG4gIHJldHJ5Q291bnQ6IG51bWJlcixcbik6IG51bWJlciB7XG4gIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIG1heCByZXRyeSBkZWxheVxuICBjb25zdCBiYWNrb2ZmRmFjdG9yID1cbiAgICByZXRyeUNvbmZpZy5iYWNrb2ZmID09PSAnbGluZWFyJyA/IDEgOiBNYXRoLnBvdygyLCByZXRyeUNvdW50KTtcbiAgcmV0dXJuIE1hdGgubWluKFxuICAgIGJhY2tvZmZGYWN0b3IgKiByZXRyeUNvbmZpZy5yZXRyeURlbGF5TXMsXG4gICAgcmV0cnlDb25maWcubWF4UmV0cnlEZWxheU1zLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZGVyQ29uZmlnV2l0aG91dFJldGllcyhcbiAgbG9kZXJDb25maWc6IExvYWRlckNvbmZpZyxcbik6IExvYWRlckNvbmZpZyB7XG4gIHJldHVybiB7XG4gICAgLi4ubG9kZXJDb25maWcsXG4gICAgLi4ue1xuICAgICAgZXJyb3JSZXRyeTogbnVsbCxcbiAgICAgIHRpbWVvdXRSZXRyeTogbnVsbCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUmV0cnkoXG4gIHJldHJ5Q29uZmlnOiBSZXRyeUNvbmZpZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHJldHJ5Q291bnQ6IG51bWJlcixcbiAgaXNUaW1lb3V0OiBib29sZWFuLFxuICBsb2FkZXJSZXNwb25zZT86IExvYWRlclJlc3BvbnNlIHwgdW5kZWZpbmVkLFxuKTogcmV0cnlDb25maWcgaXMgUmV0cnlDb25maWcgJiBib29sZWFuIHtcbiAgaWYgKCFyZXRyeUNvbmZpZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBodHRwU3RhdHVzID0gbG9hZGVyUmVzcG9uc2U/LmNvZGU7XG4gIGNvbnN0IHJldHJ5ID1cbiAgICByZXRyeUNvdW50IDwgcmV0cnlDb25maWcubWF4TnVtUmV0cnkgJiZcbiAgICAocmV0cnlGb3JIdHRwU3RhdHVzKGh0dHBTdGF0dXMpIHx8ICEhaXNUaW1lb3V0KTtcbiAgcmV0dXJuIHJldHJ5Q29uZmlnLnNob3VsZFJldHJ5XG4gICAgPyByZXRyeUNvbmZpZy5zaG91bGRSZXRyeShcbiAgICAgICAgcmV0cnlDb25maWcsXG4gICAgICAgIHJldHJ5Q291bnQsXG4gICAgICAgIGlzVGltZW91dCxcbiAgICAgICAgbG9hZGVyUmVzcG9uc2UsXG4gICAgICAgIHJldHJ5LFxuICAgICAgKVxuICAgIDogcmV0cnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXRyeUZvckh0dHBTdGF0dXMoaHR0cFN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gIC8vIERvIG5vdCByZXRyeSBvbiBzdGF0dXMgNHh4LCBzdGF0dXMgMCAoQ09SUyBlcnJvciksIG9yIHVuZGVmaW5lZCAoZGVjcnlwdC9nYXAvcGFyc2UgZXJyb3IpXG4gIHJldHVybiAoXG4gICAgKGh0dHBTdGF0dXMgPT09IDAgJiYgbmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHx8XG4gICAgKCEhaHR0cFN0YXR1cyAmJiAoaHR0cFN0YXR1cyA8IDQwMCB8fCBodHRwU3RhdHVzID4gNDk5KSlcbiAgKTtcbn1cbiIsICJ0eXBlIEJpbmFyeVNlYXJjaENvbXBhcmlzb248VD4gPSAoY2FuZGlkYXRlOiBUKSA9PiAtMSB8IDAgfCAxO1xuXG5jb25zdCBCaW5hcnlTZWFyY2ggPSB7XG4gIC8qKlxuICAgKiBTZWFyY2hlcyBmb3IgYW4gaXRlbSBpbiBhbiBhcnJheSB3aGljaCBtYXRjaGVzIGEgY2VydGFpbiBjb25kaXRpb24uXG4gICAqIFRoaXMgcmVxdWlyZXMgdGhlIGNvbmRpdGlvbiB0byBvbmx5IG1hdGNoIG9uZSBpdGVtIGluIHRoZSBhcnJheSxcbiAgICogYW5kIGZvciB0aGUgYXJyYXkgdG8gYmUgb3JkZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIGxpc3QgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIGNvbXBhcmlzb25GblxuICAgKiAgICAgIENhbGxlZCBhbmQgcHJvdmlkZWQgYSBjYW5kaWRhdGUgaXRlbSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqICAgICAgU2hvdWxkIHJldHVybjpcbiAgICogICAgICAgICAgPiAtMSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgbG9jYXRlZCBhdCBhIGxvd2VyIGluZGV4IHRoYW4gdGhlIHByb3ZpZGVkIGl0ZW0uXG4gICAqICAgICAgICAgID4gMSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgbG9jYXRlZCBhdCBhIGhpZ2hlciBpbmRleCB0aGFuIHRoZSBwcm92aWRlZCBpdGVtLlxuICAgKiAgICAgICAgICA+IDAgaWYgdGhlIGl0ZW0gaXMgdGhlIGl0ZW0geW91J3JlIGxvb2tpbmcgZm9yLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgb2JqZWN0IGlmIGZvdW5kLCBvdGhlcndpc2UgcmV0dXJucyBudWxsXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uIDxUPihcbiAgICBsaXN0OiBUW10sXG4gICAgY29tcGFyaXNvbkZuOiBCaW5hcnlTZWFyY2hDb21wYXJpc29uPFQ+LFxuICApOiBUIHwgbnVsbCB7XG4gICAgbGV0IG1pbkluZGV4OiBudW1iZXIgPSAwO1xuICAgIGxldCBtYXhJbmRleDogbnVtYmVyID0gbGlzdC5sZW5ndGggLSAxO1xuICAgIGxldCBjdXJyZW50SW5kZXg6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50RWxlbWVudDogVCB8IG51bGwgPSBudWxsO1xuXG4gICAgd2hpbGUgKG1pbkluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICBjdXJyZW50SW5kZXggPSAoKG1pbkluZGV4ICsgbWF4SW5kZXgpIC8gMikgfCAwO1xuICAgICAgY3VycmVudEVsZW1lbnQgPSBsaXN0W2N1cnJlbnRJbmRleF07XG5cbiAgICAgIGNvbnN0IGNvbXBhcmlzb25SZXN1bHQgPSBjb21wYXJpc29uRm4oY3VycmVudEVsZW1lbnQpO1xuICAgICAgaWYgKGNvbXBhcmlzb25SZXN1bHQgPiAwKSB7XG4gICAgICAgIG1pbkluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcGFyaXNvblJlc3VsdCA8IDApIHtcbiAgICAgICAgbWF4SW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQmluYXJ5U2VhcmNoO1xuIiwgImltcG9ydCBCaW5hcnlTZWFyY2ggZnJvbSAnLi4vdXRpbHMvYmluYXJ5LXNlYXJjaCc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5cbi8qKlxuICogUmV0dXJucyBmaXJzdCBmcmFnbWVudCB3aG9zZSBlbmRQZHQgdmFsdWUgZXhjZWVkcyB0aGUgZ2l2ZW4gUERULCBvciBudWxsLlxuICogQHBhcmFtIGZyYWdtZW50cyAtIFRoZSBhcnJheSBvZiBjYW5kaWRhdGUgZnJhZ21lbnRzXG4gKiBAcGFyYW0gUERUVmFsdWUgLSBUaGUgUERUIHZhbHVlIHdoaWNoIG11c3QgYmUgZXhjZWVkZWRcbiAqIEBwYXJhbSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgYSBmcmFnbWVudCdzIHN0YXJ0L2VuZCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQRFQoXG4gIGZyYWdtZW50czogQXJyYXk8RnJhZ21lbnQ+LFxuICBQRFRWYWx1ZTogbnVtYmVyIHwgbnVsbCxcbiAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTogbnVtYmVyLFxuKTogRnJhZ21lbnQgfCBudWxsIHtcbiAgaWYgKFxuICAgIFBEVFZhbHVlID09PSBudWxsIHx8XG4gICAgIUFycmF5LmlzQXJyYXkoZnJhZ21lbnRzKSB8fFxuICAgICFmcmFnbWVudHMubGVuZ3RoIHx8XG4gICAgIU51bWJlci5pc0Zpbml0ZShQRFRWYWx1ZSlcbiAgKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBpZiBsZXNzIHRoYW4gc3RhcnRcbiAgY29uc3Qgc3RhcnRQRFQgPSBmcmFnbWVudHNbMF0ucHJvZ3JhbURhdGVUaW1lO1xuICBpZiAoUERUVmFsdWUgPCAoc3RhcnRQRFQgfHwgMCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGVuZFBEVCA9IGZyYWdtZW50c1tmcmFnbWVudHMubGVuZ3RoIC0gMV0uZW5kUHJvZ3JhbURhdGVUaW1lO1xuICBpZiAoUERUVmFsdWUgPj0gKGVuZFBEVCB8fCAwKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IG1heEZyYWdMb29rVXBUb2xlcmFuY2UgfHwgMDtcbiAgZm9yIChsZXQgc2VnID0gMDsgc2VnIDwgZnJhZ21lbnRzLmxlbmd0aDsgKytzZWcpIHtcbiAgICBjb25zdCBmcmFnID0gZnJhZ21lbnRzW3NlZ107XG4gICAgaWYgKHBkdFdpdGhpblRvbGVyYW5jZVRlc3QoUERUVmFsdWUsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGZyYWcpKSB7XG4gICAgICByZXR1cm4gZnJhZztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBGaW5kcyBhIGZyYWdtZW50IGJhc2VkIG9uIHRoZSBTTiBvZiB0aGUgcHJldmlvdXMgZnJhZ21lbnQ7IG9yIGJhc2VkIG9uIHRoZSBuZWVkcyBvZiB0aGUgY3VycmVudCBidWZmZXIuXG4gKiBUaGlzIG1ldGhvZCBjb21wZW5zYXRlcyBmb3Igc21hbGwgYnVmZmVyIGdhcHMgYnkgYXBwbHlpbmcgYSB0b2xlcmFuY2UgdG8gdGhlIHN0YXJ0IG9mIGFueSBjYW5kaWRhdGUgZnJhZ21lbnQsIHRodXNcbiAqIGJyZWFraW5nIGFueSB0cmFwcyB3aGljaCB3b3VsZCBjYXVzZSB0aGUgc2FtZSBmcmFnbWVudCB0byBiZSBjb250aW51b3VzbHkgc2VsZWN0ZWQgd2l0aGluIGEgc21hbGwgcmFuZ2UuXG4gKiBAcGFyYW0gZnJhZ1ByZXZpb3VzIC0gVGhlIGxhc3QgZnJhZyBzdWNjZXNzZnVsbHkgYXBwZW5kZWRcbiAqIEBwYXJhbSBmcmFnbWVudHMgLSBUaGUgYXJyYXkgb2YgY2FuZGlkYXRlIGZyYWdtZW50c1xuICogQHBhcmFtIGJ1ZmZlckVuZCAtIFRoZSBlbmQgb2YgdGhlIGNvbnRpZ3VvdXMgYnVmZmVyZWQgcmFuZ2UgdGhlIHBsYXloZWFkIGlzIGN1cnJlbnRseSB3aXRoaW5cbiAqIEBwYXJhbSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgYSBmcmFnbWVudCdzIHN0YXJ0L2VuZCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICogQHJldHVybnMgYSBtYXRjaGluZyBmcmFnbWVudCBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRnJhZ21lbnRCeVBUUyhcbiAgZnJhZ1ByZXZpb3VzOiBGcmFnbWVudCB8IG51bGwsXG4gIGZyYWdtZW50czogQXJyYXk8RnJhZ21lbnQ+LFxuICBidWZmZXJFbmQ6IG51bWJlciA9IDAsXG4gIG1heEZyYWdMb29rVXBUb2xlcmFuY2U6IG51bWJlciA9IDAsXG4gIG5leHRGcmFnTG9va3VwVG9sZXJhbmNlOiBudW1iZXIgPSAwLjAwNSxcbik6IEZyYWdtZW50IHwgbnVsbCB7XG4gIGxldCBmcmFnTmV4dDogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgaWYgKGZyYWdQcmV2aW91cykge1xuICAgIGZyYWdOZXh0ID1cbiAgICAgIGZyYWdtZW50c1tcbiAgICAgICAgKGZyYWdQcmV2aW91cy5zbiBhcyBudW1iZXIpIC0gKGZyYWdtZW50c1swXS5zbiBhcyBudW1iZXIpICsgMVxuICAgICAgXSB8fCBudWxsO1xuICAgIC8vIGNoZWNrIGZvciBidWZmZXItZW5kIHJvdW5kaW5nIGVycm9yXG4gICAgY29uc3QgYnVmZmVyRWRnZUVycm9yID0gZnJhZ1ByZXZpb3VzLmVuZERUUyAtIGJ1ZmZlckVuZDtcbiAgICBpZiAoYnVmZmVyRWRnZUVycm9yID4gMCAmJiBidWZmZXJFZGdlRXJyb3IgPCAwLjAwMDAwMTUpIHtcbiAgICAgIGJ1ZmZlckVuZCArPSAwLjAwMDAwMTU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGJ1ZmZlckVuZCA9PT0gMCAmJiBmcmFnbWVudHNbMF0uc3RhcnQgPT09IDApIHtcbiAgICBmcmFnTmV4dCA9IGZyYWdtZW50c1swXTtcbiAgfVxuICAvLyBQcmVmZXIgdGhlIG5leHQgZnJhZ21lbnQgaWYgaXQncyB3aXRoaW4gdG9sZXJhbmNlXG4gIGlmIChcbiAgICBmcmFnTmV4dCAmJlxuICAgICgoKCFmcmFnUHJldmlvdXMgfHwgZnJhZ1ByZXZpb3VzLmxldmVsID09PSBmcmFnTmV4dC5sZXZlbCkgJiZcbiAgICAgIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChcbiAgICAgICAgYnVmZmVyRW5kLFxuICAgICAgICBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLFxuICAgICAgICBmcmFnTmV4dCxcbiAgICAgICkgPT09IDApIHx8XG4gICAgICBmcmFnbWVudFdpdGhpbkZhc3RTdGFydFN3aXRjaChcbiAgICAgICAgZnJhZ05leHQsXG4gICAgICAgIGZyYWdQcmV2aW91cyxcbiAgICAgICAgTWF0aC5taW4obmV4dEZyYWdMb29rdXBUb2xlcmFuY2UsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UpLFxuICAgICAgKSlcbiAgKSB7XG4gICAgcmV0dXJuIGZyYWdOZXh0O1xuICB9XG4gIC8vIFdlIG1pZ2h0IGJlIHNlZWtpbmcgcGFzdCB0aGUgdG9sZXJhbmNlIHNvIGZpbmQgdGhlIGJlc3QgbWF0Y2hcbiAgY29uc3QgZm91bmRGcmFnbWVudCA9IEJpbmFyeVNlYXJjaC5zZWFyY2goXG4gICAgZnJhZ21lbnRzLFxuICAgIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdC5iaW5kKG51bGwsIGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSksXG4gICk7XG4gIGlmIChmb3VuZEZyYWdtZW50ICYmIChmb3VuZEZyYWdtZW50ICE9PSBmcmFnUHJldmlvdXMgfHwgIWZyYWdOZXh0KSkge1xuICAgIHJldHVybiBmb3VuZEZyYWdtZW50O1xuICB9XG4gIC8vIElmIG5vIG1hdGNoIHdhcyBmb3VuZCByZXR1cm4gdGhlIG5leHQgZnJhZ21lbnQgYWZ0ZXIgZnJhZ1ByZXZpb3VzLCBvciBudWxsXG4gIHJldHVybiBmcmFnTmV4dDtcbn1cblxuZnVuY3Rpb24gZnJhZ21lbnRXaXRoaW5GYXN0U3RhcnRTd2l0Y2goXG4gIGZyYWdOZXh0OiBGcmFnbWVudCxcbiAgZnJhZ1ByZXZpb3VzOiBGcmFnbWVudCB8IG51bGwsXG4gIG5leHRGcmFnTG9va3VwVG9sZXJhbmNlOiBudW1iZXIsXG4pOiBib29sZWFuIHtcbiAgaWYgKFxuICAgIGZyYWdQcmV2aW91cyAmJlxuICAgIGZyYWdQcmV2aW91cy5zdGFydCA9PT0gMCAmJlxuICAgIGZyYWdQcmV2aW91cy5sZXZlbCA8IGZyYWdOZXh0LmxldmVsICYmXG4gICAgKGZyYWdQcmV2aW91cy5lbmRQVFMgfHwgMCkgPiAwXG4gICkge1xuICAgIGNvbnN0IGZpcnN0RHVyYXRpb24gPSBmcmFnUHJldmlvdXMudGFnTGlzdC5yZWR1Y2UoKGR1cmF0aW9uLCB0YWcpID0+IHtcbiAgICAgIGlmICh0YWdbMF0gPT09ICdJTkYnKSB7XG4gICAgICAgIGR1cmF0aW9uICs9IHBhcnNlRmxvYXQodGFnWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LCBuZXh0RnJhZ0xvb2t1cFRvbGVyYW5jZSk7XG4gICAgcmV0dXJuIGZyYWdOZXh0LnN0YXJ0IDw9IGZpcnN0RHVyYXRpb247XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSB0ZXN0IGZ1bmN0aW9uIHVzZWQgYnkgdGhlIGZpbmRGcmFnbWVudEJ5U24ncyBCaW5hcnlTZWFyY2ggdG8gbG9vayBmb3IgdGhlIGJlc3QgbWF0Y2ggdG8gdGhlIGN1cnJlbnQgYnVmZmVyIGNvbmRpdGlvbnMuXG4gKiBAcGFyYW0gY2FuZGlkYXRlIC0gVGhlIGZyYWdtZW50IHRvIHRlc3RcbiAqIEBwYXJhbSBidWZmZXJFbmQgLSBUaGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlIHRoZSBwbGF5aGVhZCBpcyBjdXJyZW50bHkgd2l0aGluXG4gKiBAcGFyYW0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICogQHJldHVybnMgMCBpZiBpdCBtYXRjaGVzLCAxIGlmIHRvbyBsb3csIC0xIGlmIHRvbyBoaWdoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoXG4gIGJ1ZmZlckVuZCA9IDAsXG4gIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwLFxuICBjYW5kaWRhdGU6IEZyYWdtZW50LFxuKSB7XG4gIC8vIGVhZ2VybHkgYWNjZXB0IGFuIGFjY3VyYXRlIG1hdGNoIChubyB0b2xlcmFuY2UpXG4gIGlmIChcbiAgICBjYW5kaWRhdGUuc3RhcnQgPD0gYnVmZmVyRW5kICYmXG4gICAgY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uID4gYnVmZmVyRW5kXG4gICkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIG9mZnNldCBzaG91bGQgYmUgd2l0aGluIGZyYWdtZW50IGJvdW5kYXJ5IC0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2VcbiAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gIC8vIGJ1ZmZlckVuZCA9IDkuOTkxXG4gIC8vIGZyYWdbw5hdIDogWzAsMTBdXG4gIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gIC8vIGJ1ZmZlckVuZCBpcyB3aXRoaW4gZnJhZ1swXSByYW5nZSAuLi4gYWx0aG91Z2ggd2hhdCB3ZSBhcmUgZXhwZWN0aW5nIGlzIHRvIHJldHVybiBmcmFnWzFdIGhlcmVcbiAgLy8gICAgICAgICAgICAgIGZyYWcgc3RhcnQgICAgICAgICAgICAgICBmcmFnIHN0YXJ0K2R1cmF0aW9uXG4gIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAvLyAgICAgICAgICAgICAgPC0tLT4gICAgICAgICAgICAgICAgICAgICAgICAgPC0tLT5cbiAgLy8gIC4uLi0tLS0tLS0tPjwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT48LS0tLS0tLS0tLi4uLlxuICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgLy8gIHJldHVybiAtMSAgICAgICAgICAgICByZXR1cm4gMCAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgLy8gbG9nZ2VyLmxvZyhgbGV2ZWwvc24vc3RhcnQvZW5kL2J1ZkVuZDoke2xldmVsfS8ke2NhbmRpZGF0ZS5zbn0vJHtjYW5kaWRhdGUuc3RhcnR9LyR7KGNhbmRpZGF0ZS5zdGFydCtjYW5kaWRhdGUuZHVyYXRpb24pfS8ke2J1ZmZlckVuZH1gKTtcbiAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgY29uc3QgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4oXG4gICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSxcbiAgICBjYW5kaWRhdGUuZHVyYXRpb24gKyAoY2FuZGlkYXRlLmRlbHRhUFRTID8gY2FuZGlkYXRlLmRlbHRhUFRTIDogMCksXG4gICk7XG4gIGlmIChcbiAgICBjYW5kaWRhdGUuc3RhcnQgKyBjYW5kaWRhdGUuZHVyYXRpb24gLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPD1cbiAgICBidWZmZXJFbmRcbiAgKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSBpZiAoXG4gICAgY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmXG4gICAgY2FuZGlkYXRlLnN0YXJ0XG4gICkge1xuICAgIC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogVGhlIHRlc3QgZnVuY3Rpb24gdXNlZCBieSB0aGUgZmluZEZyYWdtZW50QnlQZHQncyBCaW5hcnlTZWFyY2ggdG8gbG9vayBmb3IgdGhlIGJlc3QgbWF0Y2ggdG8gdGhlIGN1cnJlbnQgYnVmZmVyIGNvbmRpdGlvbnMuXG4gKiBUaGlzIGZ1bmN0aW9uIHRlc3RzIHRoZSBjYW5kaWRhdGUncyBwcm9ncmFtIGRhdGUgdGltZSB2YWx1ZXMsIGFzIHJlcHJlc2VudGVkIGluIFVuaXggdGltZVxuICogQHBhcmFtIGNhbmRpZGF0ZSAtIFRoZSBmcmFnbWVudCB0byB0ZXN0XG4gKiBAcGFyYW0gcGR0QnVmZmVyRW5kIC0gVGhlIFVuaXggdGltZSByZXByZXNlbnRpbmcgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBidWZmZXJlZCByYW5nZVxuICogQHBhcmFtIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgLSBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBhIGZyYWdtZW50J3Mgc3RhcnQgY2FuIGJlIHdpdGhpbiBpbiBvcmRlciB0byBiZSBjb25zaWRlcmVkIGNvbnRpZ3VvdXNcbiAqIEByZXR1cm5zIHRydWUgaWYgY29udGlndW91cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZHRXaXRoaW5Ub2xlcmFuY2VUZXN0KFxuICBwZHRCdWZmZXJFbmQ6IG51bWJlcixcbiAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTogbnVtYmVyLFxuICBjYW5kaWRhdGU6IEZyYWdtZW50LFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSA9XG4gICAgTWF0aC5taW4oXG4gICAgICBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLFxuICAgICAgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApLFxuICAgICkgKiAxMDAwO1xuXG4gIC8vIGVuZFByb2dyYW1EYXRlVGltZSBjYW4gYmUgbnVsbCwgZGVmYXVsdCB0byB6ZXJvXG4gIGNvbnN0IGVuZFByb2dyYW1EYXRlVGltZSA9IGNhbmRpZGF0ZS5lbmRQcm9ncmFtRGF0ZVRpbWUgfHwgMDtcbiAgcmV0dXJuIGVuZFByb2dyYW1EYXRlVGltZSAtIGNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSA+IHBkdEJ1ZmZlckVuZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRGcmFnV2l0aENDKFxuICBmcmFnbWVudHM6IEZyYWdtZW50W10sXG4gIGNjOiBudW1iZXIsXG4pOiBGcmFnbWVudCB8IG51bGwge1xuICByZXR1cm4gQmluYXJ5U2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIChjYW5kaWRhdGUpID0+IHtcbiAgICBpZiAoY2FuZGlkYXRlLmNjIDwgY2MpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoY2FuZGlkYXRlLmNjID4gY2MpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgRXJyb3JEZXRhaWxzLCBFcnJvclR5cGVzIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBsYXlsaXN0Q29udGV4dFR5cGUsIFBsYXlsaXN0TGV2ZWxUeXBlIH0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcbmltcG9ydCB7XG4gIGdldFJldHJ5Q29uZmlnLFxuICBpc1RpbWVvdXRFcnJvcixcbiAgc2hvdWxkUmV0cnksXG59IGZyb20gJy4uL3V0aWxzL2Vycm9yLWhlbHBlcic7XG5pbXBvcnQgeyBmaW5kRnJhZ21lbnRCeVBUUyB9IGZyb20gJy4vZnJhZ21lbnQtZmluZGVycyc7XG5pbXBvcnQgeyBIZGNwTGV2ZWwsIEhkY3BMZXZlbHMgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IFJldHJ5Q29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB0eXBlIHsgTmV0d29ya0NvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgeyBFcnJvckRhdGEgfSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBGcmFnbWVudCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcblxuZXhwb3J0IGNvbnN0IGVudW0gTmV0d29ya0Vycm9yQWN0aW9uIHtcbiAgRG9Ob3RoaW5nID0gMCxcbiAgU2VuZEVuZENhbGxiYWNrID0gMSwgLy8gUmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2VcbiAgU2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveCA9IDIsXG4gIFJlbW92ZUFsdGVybmF0ZVBlcm1hbmVudGx5ID0gMywgLy8gUmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2VcbiAgSW5zZXJ0RGlzY29udGludWl0eSA9IDQsIC8vIFJlc2VydmVkIGZvciBmdXR1cmUgdXNlXG4gIFJldHJ5UmVxdWVzdCA9IDUsXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVycm9yQWN0aW9uRmxhZ3Mge1xuICBOb25lID0gMCxcbiAgTW92ZUFsbEFsdGVybmF0ZXNNYXRjaGluZ0hvc3QgPSAxLFxuICBNb3ZlQWxsQWx0ZXJuYXRlc01hdGNoaW5nSERDUCA9IDEgPDwgMSxcbiAgU3dpdGNoVG9TRFIgPSAxIDw8IDIsIC8vIFJlc2VydmVkIGZvciBmdXR1cmUgdXNlXG59XG5cbmV4cG9ydCB0eXBlIElFcnJvckFjdGlvbiA9IHtcbiAgYWN0aW9uOiBOZXR3b3JrRXJyb3JBY3Rpb247XG4gIGZsYWdzOiBFcnJvckFjdGlvbkZsYWdzO1xuICByZXRyeUNvdW50PzogbnVtYmVyO1xuICByZXRyeUNvbmZpZz86IFJldHJ5Q29uZmlnO1xuICBoZGNwTGV2ZWw/OiBIZGNwTGV2ZWw7XG4gIG5leHRBdXRvTGV2ZWw/OiBudW1iZXI7XG4gIHJlc29sdmVkPzogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGVuYWxpemVkUmVuZGl0aW9uID0ge1xuICBsYXN0RXJyb3JQZXJmTXM6IG51bWJlcjtcbiAgZXJyb3JzOiBFcnJvckRhdGFbXTtcbiAgZGV0YWlscz86IExldmVsRGV0YWlscztcbn07XG5cbnR5cGUgUGVuYWxpemVkUmVuZGl0aW9ucyA9IHsgW2tleTogbnVtYmVyXTogUGVuYWxpemVkUmVuZGl0aW9uIH07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVycm9yQ29udHJvbGxlciBpbXBsZW1lbnRzIE5ldHdvcmtDb21wb25lbnRBUEkge1xuICBwcml2YXRlIHJlYWRvbmx5IGhsczogSGxzO1xuICBwcml2YXRlIHBsYXlsaXN0RXJyb3I6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgcGVuYWxpemVkUmVuZGl0aW9uczogUGVuYWxpemVkUmVuZGl0aW9ucyA9IHt9O1xuICBwcml2YXRlIGxvZzogKG1zZzogYW55KSA9PiB2b2lkO1xuICBwcml2YXRlIHdhcm46IChtc2c6IGFueSkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBlcnJvcjogKG1zZzogYW55KSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzKSB7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgdGhpcy5sb2cgPSBsb2dnZXIubG9nLmJpbmQobG9nZ2VyLCBgW2luZm9dOmApO1xuICAgIHRoaXMud2FybiA9IGxvZ2dlci53YXJuLmJpbmQobG9nZ2VyLCBgW3dhcm5pbmddOmApO1xuICAgIHRoaXMuZXJyb3IgPSBsb2dnZXIuZXJyb3IuYmluZChsb2dnZXIsIGBbZXJyb3JdOmApO1xuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfVVBEQVRFRCwgdGhpcy5vbkxldmVsVXBkYXRlZCwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIHVucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgaWYgKCFobHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvck91dCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTEVWRUxfVVBEQVRFRCwgdGhpcy5vbkxldmVsVXBkYXRlZCwgdGhpcyk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmhscyA9IG51bGw7XG4gICAgdGhpcy5wZW5hbGl6ZWRSZW5kaXRpb25zID0ge307XG4gIH1cblxuICBzdGFydExvYWQoc3RhcnRQb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7fVxuXG4gIHN0b3BMb2FkKCk6IHZvaWQge1xuICAgIHRoaXMucGxheWxpc3RFcnJvciA9IDA7XG4gIH1cblxuICBwcml2YXRlIGdldFZhcmlhbnRMZXZlbEluZGV4KGZyYWc6IEZyYWdtZW50IHwgdW5kZWZpbmVkKTogbnVtYmVyIHtcbiAgICByZXR1cm4gZnJhZz8udHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTlxuICAgICAgPyBmcmFnLmxldmVsXG4gICAgICA6IHRoaXMuaGxzLmxvYWRMZXZlbDtcbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5wbGF5bGlzdEVycm9yID0gMDtcbiAgICB0aGlzLnBlbmFsaXplZFJlbmRpdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbFVwZGF0ZWQoKSB7XG4gICAgdGhpcy5wbGF5bGlzdEVycm9yID0gMDtcbiAgfVxuXG4gIHByaXZhdGUgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpIHtcbiAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBobHMgPSB0aGlzLmhscztcbiAgICBjb25zdCBjb250ZXh0ID0gZGF0YS5jb250ZXh0O1xuXG4gICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICBkYXRhLmVycm9yQWN0aW9uID0gdGhpcy5nZXRGcmFnUmV0cnlPclN3aXRjaEFjdGlvbihkYXRhKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBFcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SOlxuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgc2VnbWVudCBlcnJvcnMgbWFya2VkIGFzIGdhcFxuICAgICAgICBpZiAoZGF0YS5mcmFnPy5nYXApIHtcbiAgICAgICAgICBkYXRhLmVycm9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiBOZXR3b3JrRXJyb3JBY3Rpb24uRG9Ob3RoaW5nLFxuICAgICAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTm9uZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuRlJBR19HQVA6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0RFQ1JZUFRfRVJST1I6IHtcbiAgICAgICAgLy8gU3dpdGNoIGxldmVsIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgYWxsb3cgcmV0cnkgY291bnQgdG8gcmVhY2ggbWF4IGVycm9yIHJldHJpZXNcbiAgICAgICAgZGF0YS5lcnJvckFjdGlvbiA9IHRoaXMuZ2V0RnJhZ1JldHJ5T3JTd2l0Y2hBY3Rpb24oZGF0YSk7XG4gICAgICAgIGRhdGEuZXJyb3JBY3Rpb24uYWN0aW9uID0gTmV0d29ya0Vycm9yQWN0aW9uLlNlbmRBbHRlcm5hdGVUb1BlbmFsdHlCb3g7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkxFVkVMX0VNUFRZX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuTEVWRUxfUEFSU0lOR19FUlJPUjpcbiAgICAgICAge1xuICAgICAgICAgIC8vIE9ubHkgcmV0cnkgd2hlbiBlbXB0eSBhbmQgbGl2ZVxuICAgICAgICAgIGNvbnN0IGxldmVsSW5kZXggPVxuICAgICAgICAgICAgZGF0YS5wYXJlbnQgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU5cbiAgICAgICAgICAgICAgPyAoZGF0YS5sZXZlbCBhcyBudW1iZXIpXG4gICAgICAgICAgICAgIDogaGxzLmxvYWRMZXZlbDtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhLmRldGFpbHMgPT09IEVycm9yRGV0YWlscy5MRVZFTF9FTVBUWV9FUlJPUiAmJlxuICAgICAgICAgICAgISFkYXRhLmNvbnRleHQ/LmxldmVsRGV0YWlscz8ubGl2ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGF0YS5lcnJvckFjdGlvbiA9IHRoaXMuZ2V0UGxheWxpc3RSZXRyeU9yU3dpdGNoQWN0aW9uKFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBsZXZlbEluZGV4LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRXNjYWxhdGUgdG8gZmF0YWwgaWYgbm90IHJldHJ5aW5nIG9yIHN3aXRjaGluZ1xuICAgICAgICAgICAgZGF0YS5sZXZlbFJldHJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBkYXRhLmVycm9yQWN0aW9uID0gdGhpcy5nZXRMZXZlbFN3aXRjaEFjdGlvbihkYXRhLCBsZXZlbEluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBFcnJvckRldGFpbHMuTEVWRUxfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0Py5sZXZlbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBkYXRhLmVycm9yQWN0aW9uID0gdGhpcy5nZXRQbGF5bGlzdFJldHJ5T3JTd2l0Y2hBY3Rpb24oXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgY29udGV4dC5sZXZlbCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5TVUJUSVRMRV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuU1VCVElUTEVfVFJBQ0tfTE9BRF9USU1FT1VUOlxuICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IGxldmVsID0gaGxzLmxldmVsc1tobHMubG9hZExldmVsXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsZXZlbCAmJlxuICAgICAgICAgICAgKChjb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0sgJiZcbiAgICAgICAgICAgICAgbGV2ZWwuaGFzQXVkaW9Hcm91cChjb250ZXh0Lmdyb3VwSWQpKSB8fFxuICAgICAgICAgICAgICAoY29udGV4dC50eXBlID09PSBQbGF5bGlzdENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLICYmXG4gICAgICAgICAgICAgICAgbGV2ZWwuaGFzU3VidGl0bGVHcm91cChjb250ZXh0Lmdyb3VwSWQpKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFBlcmZvcm0gUGF0aHdheSBzd2l0Y2ggb3IgUmVkdW5kYW50IGZhaWxvdmVyIGlmIHBvc3NpYmxlIGZvciBmYXN0ZXN0IHJlY292ZXJ5XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgYWxsb3cgcGxheWxpc3QgcmV0cnkgY291bnQgdG8gcmVhY2ggbWF4IGVycm9yIHJldHJpZXNcbiAgICAgICAgICAgIGRhdGEuZXJyb3JBY3Rpb24gPSB0aGlzLmdldFBsYXlsaXN0UmV0cnlPclN3aXRjaEFjdGlvbihcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgaGxzLmxvYWRMZXZlbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkYXRhLmVycm9yQWN0aW9uLmFjdGlvbiA9XG4gICAgICAgICAgICAgIE5ldHdvcmtFcnJvckFjdGlvbi5TZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94O1xuICAgICAgICAgICAgZGF0YS5lcnJvckFjdGlvbi5mbGFncyA9XG4gICAgICAgICAgICAgIEVycm9yQWN0aW9uRmxhZ3MuTW92ZUFsbEFsdGVybmF0ZXNNYXRjaGluZ0hvc3Q7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU1RBVFVTX09VVFBVVF9SRVNUUklDVEVEOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgbGV2ZWwgPSBobHMubGV2ZWxzW2hscy5sb2FkTGV2ZWxdO1xuICAgICAgICAgIGNvbnN0IHJlc3RyaWN0ZWRIZGNwTGV2ZWwgPSBsZXZlbD8uYXR0cnNbJ0hEQ1AtTEVWRUwnXTtcbiAgICAgICAgICBpZiAocmVzdHJpY3RlZEhkY3BMZXZlbCkge1xuICAgICAgICAgICAgZGF0YS5lcnJvckFjdGlvbiA9IHtcbiAgICAgICAgICAgICAgYWN0aW9uOiBOZXR3b3JrRXJyb3JBY3Rpb24uU2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveCxcbiAgICAgICAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTW92ZUFsbEFsdGVybmF0ZXNNYXRjaGluZ0hEQ1AsXG4gICAgICAgICAgICAgIGhkY3BMZXZlbDogcmVzdHJpY3RlZEhkY3BMZXZlbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2V5U3lzdGVtRXJyb3IoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkJVRkZFUl9BRERfQ09ERUNfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5SRU1VWF9BTExPQ19FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1I6XG4gICAgICAgIGRhdGEuZXJyb3JBY3Rpb24gPSB0aGlzLmdldExldmVsU3dpdGNoQWN0aW9uKFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZGF0YS5sZXZlbCA/PyBobHMubG9hZExldmVsLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5JTlRFUk5BTF9FWENFUFRJT046XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5MRVZFTF9TV0lUQ0hfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5CVUZGRVJfU1RBTExFRF9FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkJVRkZFUl9TRUVLX09WRVJfSE9MRTpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkJVRkZFUl9OVURHRV9PTl9TVEFMTDpcbiAgICAgICAgZGF0YS5lcnJvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246IE5ldHdvcmtFcnJvckFjdGlvbi5Eb05vdGhpbmcsXG4gICAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTm9uZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhLnR5cGUgPT09IEVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUikge1xuICAgICAgdGhpcy5rZXlTeXN0ZW1FcnJvcihkYXRhKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGtleVN5c3RlbUVycm9yKGRhdGE6IEVycm9yRGF0YSkge1xuICAgIGNvbnN0IGxldmVsSW5kZXggPSB0aGlzLmdldFZhcmlhbnRMZXZlbEluZGV4KGRhdGEuZnJhZyk7XG4gICAgLy8gRG8gbm90IHJldHJ5IGxldmVsLiBFc2NhbGF0ZSB0byBmYXRhbCBpZiBzd2l0Y2hpbmcgbGV2ZWxzIGZhaWxzLlxuICAgIGRhdGEubGV2ZWxSZXRyeSA9IGZhbHNlO1xuICAgIGRhdGEuZXJyb3JBY3Rpb24gPSB0aGlzLmdldExldmVsU3dpdGNoQWN0aW9uKGRhdGEsIGxldmVsSW5kZXgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQbGF5bGlzdFJldHJ5T3JTd2l0Y2hBY3Rpb24oXG4gICAgZGF0YTogRXJyb3JEYXRhLFxuICAgIGxldmVsSW5kZXg6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQsXG4gICk6IElFcnJvckFjdGlvbiB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgY29uc3QgcmV0cnlDb25maWcgPSBnZXRSZXRyeUNvbmZpZyhobHMuY29uZmlnLnBsYXlsaXN0TG9hZFBvbGljeSwgZGF0YSk7XG4gICAgY29uc3QgcmV0cnlDb3VudCA9IHRoaXMucGxheWxpc3RFcnJvcisrO1xuICAgIGNvbnN0IHJldHJ5ID0gc2hvdWxkUmV0cnkoXG4gICAgICByZXRyeUNvbmZpZyxcbiAgICAgIHJldHJ5Q291bnQsXG4gICAgICBpc1RpbWVvdXRFcnJvcihkYXRhKSxcbiAgICAgIGRhdGEucmVzcG9uc2UsXG4gICAgKTtcbiAgICBpZiAocmV0cnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbjogTmV0d29ya0Vycm9yQWN0aW9uLlJldHJ5UmVxdWVzdCxcbiAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTm9uZSxcbiAgICAgICAgcmV0cnlDb25maWcsXG4gICAgICAgIHJldHJ5Q291bnQsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBlcnJvckFjdGlvbiA9IHRoaXMuZ2V0TGV2ZWxTd2l0Y2hBY3Rpb24oZGF0YSwgbGV2ZWxJbmRleCk7XG4gICAgaWYgKHJldHJ5Q29uZmlnKSB7XG4gICAgICBlcnJvckFjdGlvbi5yZXRyeUNvbmZpZyA9IHJldHJ5Q29uZmlnO1xuICAgICAgZXJyb3JBY3Rpb24ucmV0cnlDb3VudCA9IHJldHJ5Q291bnQ7XG4gICAgfVxuICAgIHJldHVybiBlcnJvckFjdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RnJhZ1JldHJ5T3JTd2l0Y2hBY3Rpb24oZGF0YTogRXJyb3JEYXRhKTogSUVycm9yQWN0aW9uIHtcbiAgICBjb25zdCBobHMgPSB0aGlzLmhscztcbiAgICAvLyBTaGFyZSBmcmFnbWVudCBlcnJvciBjb3VudCBhY2Nyb3NzIG1lZGlhIG9wdGlvbnMgKG1haW4sIGF1ZGlvLCBzdWJzKVxuICAgIC8vIFRoaXMgYWxsb3dzIGZvciBsZXZlbCBiYXNlZCByZW5kaXRpb24gc3dpdGNoaW5nIHdoZW4gbWVkaWEgb3B0aW9uIGFzc2V0cyBmYWlsXG4gICAgY29uc3QgdmFyaWFudExldmVsSW5kZXggPSB0aGlzLmdldFZhcmlhbnRMZXZlbEluZGV4KGRhdGEuZnJhZyk7XG4gICAgY29uc3QgbGV2ZWwgPSBobHMubGV2ZWxzW3ZhcmlhbnRMZXZlbEluZGV4XTtcbiAgICBjb25zdCB7IGZyYWdMb2FkUG9saWN5LCBrZXlMb2FkUG9saWN5IH0gPSBobHMuY29uZmlnO1xuICAgIGNvbnN0IHJldHJ5Q29uZmlnID0gZ2V0UmV0cnlDb25maWcoXG4gICAgICBkYXRhLmRldGFpbHMuc3RhcnRzV2l0aCgna2V5JykgPyBrZXlMb2FkUG9saWN5IDogZnJhZ0xvYWRQb2xpY3ksXG4gICAgICBkYXRhLFxuICAgICk7XG4gICAgY29uc3QgZnJhZ21lbnRFcnJvcnMgPSBobHMubGV2ZWxzLnJlZHVjZShcbiAgICAgIChhY2MsIGxldmVsKSA9PiBhY2MgKyBsZXZlbC5mcmFnbWVudEVycm9yLFxuICAgICAgMCxcbiAgICApO1xuICAgIC8vIFN3aXRjaCBsZXZlbHMgd2hlbiBvdXQgb2YgcmV0cmllZCBvciBsZXZlbCBpbmRleCBvdXQgb2YgYm91bmRzXG4gICAgaWYgKGxldmVsKSB7XG4gICAgICBpZiAoZGF0YS5kZXRhaWxzICE9PSBFcnJvckRldGFpbHMuRlJBR19HQVApIHtcbiAgICAgICAgbGV2ZWwuZnJhZ21lbnRFcnJvcisrO1xuICAgICAgfVxuICAgICAgY29uc3QgcmV0cnkgPSBzaG91bGRSZXRyeShcbiAgICAgICAgcmV0cnlDb25maWcsXG4gICAgICAgIGZyYWdtZW50RXJyb3JzLFxuICAgICAgICBpc1RpbWVvdXRFcnJvcihkYXRhKSxcbiAgICAgICAgZGF0YS5yZXNwb25zZSxcbiAgICAgICk7XG4gICAgICBpZiAocmV0cnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3Rpb246IE5ldHdvcmtFcnJvckFjdGlvbi5SZXRyeVJlcXVlc3QsXG4gICAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTm9uZSxcbiAgICAgICAgICByZXRyeUNvbmZpZyxcbiAgICAgICAgICByZXRyeUNvdW50OiBmcmFnbWVudEVycm9ycyxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVhY2ggbWF4IHJldHJ5IGNvdW50LCBvciBNaXNzaW5nIGxldmVsIHJlZmVyZW5jZVxuICAgIC8vIFN3aXRjaCB0byB2YWxpZCBpbmRleFxuICAgIGNvbnN0IGVycm9yQWN0aW9uID0gdGhpcy5nZXRMZXZlbFN3aXRjaEFjdGlvbihkYXRhLCB2YXJpYW50TGV2ZWxJbmRleCk7XG4gICAgLy8gQWRkIHJldHJ5IGRldGFpbHMgdG8gYWxsb3cgc2tpcHBpbmcgb2YgRlJBR19QQVJTSU5HX0VSUk9SXG4gICAgaWYgKHJldHJ5Q29uZmlnKSB7XG4gICAgICBlcnJvckFjdGlvbi5yZXRyeUNvbmZpZyA9IHJldHJ5Q29uZmlnO1xuICAgICAgZXJyb3JBY3Rpb24ucmV0cnlDb3VudCA9IGZyYWdtZW50RXJyb3JzO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JBY3Rpb247XG4gIH1cblxuICBwcml2YXRlIGdldExldmVsU3dpdGNoQWN0aW9uKFxuICAgIGRhdGE6IEVycm9yRGF0YSxcbiAgICBsZXZlbEluZGV4OiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLFxuICApOiBJRXJyb3JBY3Rpb24ge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGlmIChsZXZlbEluZGV4ID09PSBudWxsIHx8IGxldmVsSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV2ZWxJbmRleCA9IGhscy5sb2FkTGV2ZWw7XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gdGhpcy5obHMubGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgIGlmIChsZXZlbCkge1xuICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgbGV2ZWwubG9hZEVycm9yKys7XG4gICAgICBpZiAoZXJyb3JEZXRhaWxzID09PSBFcnJvckRldGFpbHMuQlVGRkVSX0FQUEVORF9FUlJPUikge1xuICAgICAgICBsZXZlbC5mcmFnbWVudEVycm9yKys7XG4gICAgICB9XG4gICAgICAvLyBTZWFyY2ggZm9yIG5leHQgbGV2ZWwgdG8gcmV0cnlcbiAgICAgIGxldCBuZXh0TGV2ZWwgPSAtMTtcbiAgICAgIGNvbnN0IHsgbGV2ZWxzLCBsb2FkTGV2ZWwsIG1pbkF1dG9MZXZlbCwgbWF4QXV0b0xldmVsIH0gPSBobHM7XG4gICAgICBpZiAoIWhscy5hdXRvTGV2ZWxFbmFibGVkKSB7XG4gICAgICAgIGhscy5sb2FkTGV2ZWwgPSAtMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZyYWdFcnJvclR5cGUgPSBkYXRhLmZyYWc/LnR5cGU7XG4gICAgICAvLyBGaW5kIGFsdGVybmF0ZSBhdWRpbyBjb2RlYyBpZiBhdmFpbGFibGUgb24gYXVkaW8gY29kZWMgZXJyb3JcbiAgICAgIGNvbnN0IGlzQXVkaW9Db2RlY0Vycm9yID1cbiAgICAgICAgKGZyYWdFcnJvclR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLkFVRElPICYmXG4gICAgICAgICAgZXJyb3JEZXRhaWxzID09PSBFcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SKSB8fFxuICAgICAgICAoZGF0YS5zb3VyY2VCdWZmZXJOYW1lID09PSAnYXVkaW8nICYmXG4gICAgICAgICAgKGVycm9yRGV0YWlscyA9PT0gRXJyb3JEZXRhaWxzLkJVRkZFUl9BRERfQ09ERUNfRVJST1IgfHxcbiAgICAgICAgICAgIGVycm9yRGV0YWlscyA9PT0gRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1IpKTtcbiAgICAgIGNvbnN0IGZpbmRBdWRpb0NvZGVjQWx0ZXJuYXRlID1cbiAgICAgICAgaXNBdWRpb0NvZGVjRXJyb3IgJiZcbiAgICAgICAgbGV2ZWxzLnNvbWUoKHsgYXVkaW9Db2RlYyB9KSA9PiBsZXZlbC5hdWRpb0NvZGVjICE9PSBhdWRpb0NvZGVjKTtcbiAgICAgIC8vIEZpbmQgYWx0ZXJuYXRlIHZpZGVvIGNvZGVjIGlmIGF2YWlsYWJsZSBvbiB2aWRlbyBjb2RlYyBlcnJvclxuICAgICAgY29uc3QgaXNWaWRlb0NvZGVjRXJyb3IgPVxuICAgICAgICBkYXRhLnNvdXJjZUJ1ZmZlck5hbWUgPT09ICd2aWRlbycgJiZcbiAgICAgICAgKGVycm9yRGV0YWlscyA9PT0gRXJyb3JEZXRhaWxzLkJVRkZFUl9BRERfQ09ERUNfRVJST1IgfHxcbiAgICAgICAgICBlcnJvckRldGFpbHMgPT09IEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5EX0VSUk9SKTtcbiAgICAgIGNvbnN0IGZpbmRWaWRlb0NvZGVjQWx0ZXJuYXRlID1cbiAgICAgICAgaXNWaWRlb0NvZGVjRXJyb3IgJiZcbiAgICAgICAgbGV2ZWxzLnNvbWUoXG4gICAgICAgICAgKHsgY29kZWNTZXQsIGF1ZGlvQ29kZWMgfSkgPT5cbiAgICAgICAgICAgIGxldmVsLmNvZGVjU2V0ICE9PSBjb2RlY1NldCAmJiBsZXZlbC5hdWRpb0NvZGVjID09PSBhdWRpb0NvZGVjLFxuICAgICAgICApO1xuICAgICAgY29uc3QgeyB0eXBlOiBwbGF5bGlzdEVycm9yVHlwZSwgZ3JvdXBJZDogcGxheWxpc3RFcnJvckdyb3VwSWQgfSA9XG4gICAgICAgIGRhdGEuY29udGV4dCA/PyB7fTtcbiAgICAgIGZvciAobGV0IGkgPSBsZXZlbHMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSAoaSArIGxvYWRMZXZlbCkgJSBsZXZlbHMubGVuZ3RoO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FuZGlkYXRlICE9PSBsb2FkTGV2ZWwgJiZcbiAgICAgICAgICBjYW5kaWRhdGUgPj0gbWluQXV0b0xldmVsICYmXG4gICAgICAgICAgY2FuZGlkYXRlIDw9IG1heEF1dG9MZXZlbCAmJlxuICAgICAgICAgIGxldmVsc1tjYW5kaWRhdGVdLmxvYWRFcnJvciA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBsZXZlbENhbmRpZGF0ZSA9IGxldmVsc1tjYW5kaWRhdGVdO1xuICAgICAgICAgIC8vIFNraXAgbGV2ZWwgc3dpdGNoIGlmIEdBUCB0YWcgaXMgZm91bmQgaW4gbmV4dCBsZXZlbCBhdCBzYW1lIHBvc2l0aW9uXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZXJyb3JEZXRhaWxzID09PSBFcnJvckRldGFpbHMuRlJBR19HQVAgJiZcbiAgICAgICAgICAgIGZyYWdFcnJvclR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4gJiZcbiAgICAgICAgICAgIGRhdGEuZnJhZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbGV2ZWxEZXRhaWxzID0gbGV2ZWxzW2NhbmRpZGF0ZV0uZGV0YWlscztcbiAgICAgICAgICAgIGlmIChsZXZlbERldGFpbHMpIHtcbiAgICAgICAgICAgICAgY29uc3QgZnJhZ0NhbmRpZGF0ZSA9IGZpbmRGcmFnbWVudEJ5UFRTKFxuICAgICAgICAgICAgICAgIGRhdGEuZnJhZyxcbiAgICAgICAgICAgICAgICBsZXZlbERldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgICAgICAgICAgIGRhdGEuZnJhZy5zdGFydCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGZyYWdDYW5kaWRhdGU/LmdhcCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIChwbGF5bGlzdEVycm9yVHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5BVURJT19UUkFDSyAmJlxuICAgICAgICAgICAgICBsZXZlbENhbmRpZGF0ZS5oYXNBdWRpb0dyb3VwKHBsYXlsaXN0RXJyb3JHcm91cElkKSkgfHxcbiAgICAgICAgICAgIChwbGF5bGlzdEVycm9yVHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5TVUJUSVRMRV9UUkFDSyAmJlxuICAgICAgICAgICAgICBsZXZlbENhbmRpZGF0ZS5oYXNTdWJ0aXRsZUdyb3VwKHBsYXlsaXN0RXJyb3JHcm91cElkKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIEZvciBhdWRpby9zdWJzIHBsYXlsaXN0IGVycm9ycyBmaW5kIGFub3RoZXIgZ3JvdXAgSUQgb3IgZmFsbHRocm91Z2ggdG8gcmVkdW5kYW50IGZhaWwtb3ZlclxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIChmcmFnRXJyb3JUeXBlID09PSBQbGF5bGlzdExldmVsVHlwZS5BVURJTyAmJlxuICAgICAgICAgICAgICBsZXZlbC5hdWRpb0dyb3Vwcz8uc29tZSgoZ3JvdXBJZCkgPT5cbiAgICAgICAgICAgICAgICBsZXZlbENhbmRpZGF0ZS5oYXNBdWRpb0dyb3VwKGdyb3VwSWQpLFxuICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgKGZyYWdFcnJvclR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLlNVQlRJVExFICYmXG4gICAgICAgICAgICAgIGxldmVsLnN1YnRpdGxlR3JvdXBzPy5zb21lKChncm91cElkKSA9PlxuICAgICAgICAgICAgICAgIGxldmVsQ2FuZGlkYXRlLmhhc1N1YnRpdGxlR3JvdXAoZ3JvdXBJZCksXG4gICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAoZmluZEF1ZGlvQ29kZWNBbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Db2RlYyA9PT0gbGV2ZWxDYW5kaWRhdGUuYXVkaW9Db2RlYykgfHxcbiAgICAgICAgICAgICghZmluZEF1ZGlvQ29kZWNBbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Db2RlYyAhPT0gbGV2ZWxDYW5kaWRhdGUuYXVkaW9Db2RlYykgfHxcbiAgICAgICAgICAgIChmaW5kVmlkZW9Db2RlY0FsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICBsZXZlbC5jb2RlY1NldCA9PT0gbGV2ZWxDYW5kaWRhdGUuY29kZWNTZXQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBGb3IgdmlkZW8vYXVkaW8vc3VicyBmcmFnIGVycm9ycyBmaW5kIGFub3RoZXIgZ3JvdXAgSUQgb3IgZmFsbHRocm91Z2ggdG8gcmVkdW5kYW50IGZhaWwtb3ZlclxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRMZXZlbCA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5leHRMZXZlbCA+IC0xICYmIGhscy5sb2FkTGV2ZWwgIT09IG5leHRMZXZlbCkge1xuICAgICAgICBkYXRhLmxldmVsUmV0cnkgPSB0cnVlO1xuICAgICAgICB0aGlzLnBsYXlsaXN0RXJyb3IgPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGlvbjogTmV0d29ya0Vycm9yQWN0aW9uLlNlbmRBbHRlcm5hdGVUb1BlbmFsdHlCb3gsXG4gICAgICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTm9uZSxcbiAgICAgICAgICBuZXh0QXV0b0xldmVsOiBuZXh0TGV2ZWwsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE5vIGxldmVscyB0byBzd2l0Y2ggLyBNYW51YWwgbGV2ZWwgc2VsZWN0aW9uIC8gTGV2ZWwgbm90IGZvdW5kXG4gICAgLy8gUmVzb2x2ZSB3aXRoIFBhdGh3YXkgc3dpdGNoLCBSZWR1bmRhbnQgZmFpbC1vdmVyLCBvciBzdGF5IG9uIGxvd2VzdCBMZXZlbFxuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246IE5ldHdvcmtFcnJvckFjdGlvbi5TZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94LFxuICAgICAgZmxhZ3M6IEVycm9yQWN0aW9uRmxhZ3MuTW92ZUFsbEFsdGVybmF0ZXNNYXRjaGluZ0hvc3QsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBvbkVycm9yT3V0KGV2ZW50OiBFdmVudHMuRVJST1IsIGRhdGE6IEVycm9yRGF0YSkge1xuICAgIHN3aXRjaCAoZGF0YS5lcnJvckFjdGlvbj8uYWN0aW9uKSB7XG4gICAgICBjYXNlIE5ldHdvcmtFcnJvckFjdGlvbi5Eb05vdGhpbmc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBOZXR3b3JrRXJyb3JBY3Rpb24uU2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveDpcbiAgICAgICAgdGhpcy5zZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94KGRhdGEpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWRhdGEuZXJyb3JBY3Rpb24ucmVzb2x2ZWQgJiZcbiAgICAgICAgICBkYXRhLmRldGFpbHMgIT09IEVycm9yRGV0YWlscy5GUkFHX0dBUFxuICAgICAgICApIHtcbiAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgvTWVkaWFTb3VyY2UgcmVhZHlTdGF0ZTogZW5kZWQvLnRlc3QoZGF0YS5lcnJvci5tZXNzYWdlKSkge1xuICAgICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICAgIGBNZWRpYVNvdXJjZSBlbmRlZCBhZnRlciBcIiR7ZGF0YS5zb3VyY2VCdWZmZXJOYW1lfVwiIHNvdXJjZUJ1ZmZlciBhcHBlbmQgZXJyb3IuIEF0dGVtcHRpbmcgdG8gcmVjb3ZlciBmcm9tIG1lZGlhIGVycm9yLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmhscy5yZWNvdmVyTWVkaWFFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBOZXR3b3JrRXJyb3JBY3Rpb24uUmV0cnlSZXF1ZXN0OlxuICAgICAgICAvLyBoYW5kbGVkIGJ5IHN0cmVhbSBhbmQgcGxheWxpc3QvbGV2ZWwgY29udHJvbGxlcnNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgIHRoaXMuaGxzLnN0b3BMb2FkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94KGRhdGE6IEVycm9yRGF0YSkge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGNvbnN0IGVycm9yQWN0aW9uID0gZGF0YS5lcnJvckFjdGlvbjtcbiAgICBpZiAoIWVycm9yQWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgZmxhZ3MsIGhkY3BMZXZlbCwgbmV4dEF1dG9MZXZlbCB9ID0gZXJyb3JBY3Rpb247XG5cbiAgICBzd2l0Y2ggKGZsYWdzKSB7XG4gICAgICBjYXNlIEVycm9yQWN0aW9uRmxhZ3MuTm9uZTpcbiAgICAgICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLCBuZXh0QXV0b0xldmVsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yQWN0aW9uRmxhZ3MuTW92ZUFsbEFsdGVybmF0ZXNNYXRjaGluZ0hEQ1A6XG4gICAgICAgIGlmIChoZGNwTGV2ZWwpIHtcbiAgICAgICAgICBobHMubWF4SGRjcExldmVsID0gSGRjcExldmVsc1tIZGNwTGV2ZWxzLmluZGV4T2YoaGRjcExldmVsKSAtIDFdO1xuICAgICAgICAgIGVycm9yQWN0aW9uLnJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgYFJlc3RyaWN0aW5nIHBsYXliYWNrIHRvIEhEQ1AtTEVWRUwgb2YgXCIke2hscy5tYXhIZGNwTGV2ZWx9XCIgb3IgbG93ZXJgLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gSWYgbm90IHJlc29sdmVkIGJ5IHByZXZpb3VzIGFjdGlvbnMgdHJ5IHRvIHN3aXRjaCB0byBuZXh0IGxldmVsXG4gICAgaWYgKCFlcnJvckFjdGlvbi5yZXNvbHZlZCkge1xuICAgICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLCBuZXh0QXV0b0xldmVsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN3aXRjaExldmVsKGRhdGE6IEVycm9yRGF0YSwgbGV2ZWxJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGxldmVsSW5kZXggIT09IHVuZGVmaW5lZCAmJiBkYXRhLmVycm9yQWN0aW9uKSB7XG4gICAgICB0aGlzLndhcm4oYHN3aXRjaGluZyB0byBsZXZlbCAke2xldmVsSW5kZXh9IGFmdGVyICR7ZGF0YS5kZXRhaWxzfWApO1xuICAgICAgdGhpcy5obHMubmV4dEF1dG9MZXZlbCA9IGxldmVsSW5kZXg7XG4gICAgICBkYXRhLmVycm9yQWN0aW9uLnJlc29sdmVkID0gdHJ1ZTtcbiAgICAgIC8vIFN0cmVhbSBjb250cm9sbGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0aGlzIGJ1dCB3b24ndCBzd2l0Y2ggb24gZmFsc2Ugc3RhcnRcbiAgICAgIHRoaXMuaGxzLm5leHRMb2FkTGV2ZWwgPSB0aGlzLmhscy5uZXh0QXV0b0xldmVsO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgeyBnZXRTa2lwVmFsdWUsIEhsc1NraXAsIEhsc1VybFBhcmFtZXRlcnMsIExldmVsIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuaW1wb3J0IHsgY29tcHV0ZVJlbG9hZEludGVydmFsLCBtZXJnZURldGFpbHMgfSBmcm9tICcuLi91dGlscy9sZXZlbC1oZWxwZXInO1xuaW1wb3J0IHsgRXJyb3JEYXRhIH0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcbmltcG9ydCB7IGdldFJldHJ5RGVsYXksIGlzVGltZW91dEVycm9yIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3ItaGVscGVyJztcbmltcG9ydCB7IE5ldHdvcmtFcnJvckFjdGlvbiB9IGZyb20gJy4vZXJyb3ItY29udHJvbGxlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBMZXZlbERldGFpbHMgfSBmcm9tICcuLi9sb2FkZXIvbGV2ZWwtZGV0YWlscyc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhUGxheWxpc3QgfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7XG4gIEF1ZGlvVHJhY2tMb2FkZWREYXRhLFxuICBMZXZlbExvYWRlZERhdGEsXG4gIFRyYWNrTG9hZGVkRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVBsYXlsaXN0Q29udHJvbGxlciBpbXBsZW1lbnRzIE5ldHdvcmtDb21wb25lbnRBUEkge1xuICBwcm90ZWN0ZWQgaGxzOiBIbHM7XG4gIHByb3RlY3RlZCB0aW1lcjogbnVtYmVyID0gLTE7XG4gIHByb3RlY3RlZCByZXF1ZXN0U2NoZWR1bGVkOiBudW1iZXIgPSAtMTtcbiAgcHJvdGVjdGVkIGNhbkxvYWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJvdGVjdGVkIGxvZzogKG1zZzogYW55KSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgd2FybjogKG1zZzogYW55KSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzLCBsb2dQcmVmaXg6IHN0cmluZykge1xuICAgIHRoaXMubG9nID0gbG9nZ2VyLmxvZy5iaW5kKGxvZ2dlciwgYCR7bG9nUHJlZml4fTpgKTtcbiAgICB0aGlzLndhcm4gPSBsb2dnZXIud2Fybi5iaW5kKGxvZ2dlciwgYCR7bG9nUHJlZml4fTpgKTtcbiAgICB0aGlzLmhscyA9IGhscztcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmhscyA9IHRoaXMubG9nID0gdGhpcy53YXJuID0gbnVsbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbGVhclRpbWVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnRpbWVyICE9PSAtMSkge1xuICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgICB0aGlzLnRpbWVyID0gLTE7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXJ0TG9hZCgpOiB2b2lkIHtcbiAgICB0aGlzLmNhbkxvYWQgPSB0cnVlO1xuICAgIHRoaXMucmVxdWVzdFNjaGVkdWxlZCA9IC0xO1xuICAgIHRoaXMubG9hZFBsYXlsaXN0KCk7XG4gIH1cblxuICBwdWJsaWMgc3RvcExvYWQoKTogdm9pZCB7XG4gICAgdGhpcy5jYW5Mb2FkID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3dpdGNoUGFyYW1zKFxuICAgIHBsYXlsaXN0VXJpOiBzdHJpbmcsXG4gICAgcHJldmlvdXM6IExldmVsRGV0YWlscyB8IHVuZGVmaW5lZCxcbiAgICBjdXJyZW50OiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQsXG4gICk6IEhsc1VybFBhcmFtZXRlcnMgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHJlbmRpdGlvblJlcG9ydHMgPSBwcmV2aW91cz8ucmVuZGl0aW9uUmVwb3J0cztcbiAgICBpZiAocmVuZGl0aW9uUmVwb3J0cykge1xuICAgICAgbGV0IGZvdW5kSW5kZXggPSAtMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGl0aW9uUmVwb3J0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhdHRyID0gcmVuZGl0aW9uUmVwb3J0c1tpXTtcbiAgICAgICAgbGV0IHVyaTogc3RyaW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHVyaSA9IG5ldyBzZWxmLlVSTChhdHRyLlVSSSwgcHJldmlvdXMudXJsKS5ocmVmO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYENvdWxkIG5vdCBjb25zdHJ1Y3QgbmV3IFVSTCBmb3IgUmVuZGl0aW9uIFJlcG9ydDogJHtlcnJvcn1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXJpID0gYXR0ci5VUkkgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlIGV4YWN0IG1hdGNoLiBPdGhlcndpc2UsIHRoZSBsYXN0IHBhcnRpYWwgbWF0Y2gsIGlmIGFueSwgd2lsbCBiZSB1c2VkXG4gICAgICAgIC8vIChQbGF5bGlzdCBVUkkgaW5jbHVkZXMgYSBxdWVyeSBzdHJpbmcgdGhhdCB0aGUgUmVuZGl0aW9uIFJlcG9ydCBkb2VzIG5vdClcbiAgICAgICAgaWYgKHVyaSA9PT0gcGxheWxpc3RVcmkpIHtcbiAgICAgICAgICBmb3VuZEluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICh1cmkgPT09IHBsYXlsaXN0VXJpLnN1YnN0cmluZygwLCB1cmkubGVuZ3RoKSkge1xuICAgICAgICAgIGZvdW5kSW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYXR0ciA9IHJlbmRpdGlvblJlcG9ydHNbZm91bmRJbmRleF07XG4gICAgICAgIGNvbnN0IG1zbiA9IHBhcnNlSW50KGF0dHJbJ0xBU1QtTVNOJ10pIHx8IHByZXZpb3VzPy5sYXN0UGFydFNuO1xuICAgICAgICBsZXQgcGFydCA9IHBhcnNlSW50KGF0dHJbJ0xBU1QtUEFSVCddKSB8fCBwcmV2aW91cz8ubGFzdFBhcnRJbmRleDtcbiAgICAgICAgaWYgKHRoaXMuaGxzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRHb2FsID0gTWF0aC5taW4oXG4gICAgICAgICAgICBwcmV2aW91cy5hZ2UgLSBwcmV2aW91cy5wYXJ0VGFyZ2V0LFxuICAgICAgICAgICAgcHJldmlvdXMudGFyZ2V0ZHVyYXRpb24sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocGFydCA+PSAwICYmIGN1cnJlbnRHb2FsID4gcHJldmlvdXMucGFydFRhcmdldCkge1xuICAgICAgICAgICAgcGFydCArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBza2lwID0gY3VycmVudCAmJiBnZXRTa2lwVmFsdWUoY3VycmVudCk7XG4gICAgICAgIHJldHVybiBuZXcgSGxzVXJsUGFyYW1ldGVycyhtc24sIHBhcnQgPj0gMCA/IHBhcnQgOiB1bmRlZmluZWQsIHNraXApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBsb2FkUGxheWxpc3QoaGxzVXJsUGFyYW1ldGVycz86IEhsc1VybFBhcmFtZXRlcnMpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXF1ZXN0U2NoZWR1bGVkID09PSAtMSkge1xuICAgICAgdGhpcy5yZXF1ZXN0U2NoZWR1bGVkID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gICAgLy8gTG9hZGluZyBpcyBoYW5kbGVkIGJ5IHRoZSBzdWJjbGFzc2VzXG4gIH1cblxuICBwcm90ZWN0ZWQgc2hvdWxkTG9hZFBsYXlsaXN0KFxuICAgIHBsYXlsaXN0OiBMZXZlbCB8IE1lZGlhUGxheWxpc3QgfCBudWxsIHwgdW5kZWZpbmVkLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jYW5Mb2FkICYmXG4gICAgICAhIXBsYXlsaXN0ICYmXG4gICAgICAhIXBsYXlsaXN0LnVybCAmJlxuICAgICAgKCFwbGF5bGlzdC5kZXRhaWxzIHx8IHBsYXlsaXN0LmRldGFpbHMubGl2ZSlcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNob3VsZFJlbG9hZFBsYXlsaXN0KFxuICAgIHBsYXlsaXN0OiBMZXZlbCB8IE1lZGlhUGxheWxpc3QgfCBudWxsIHwgdW5kZWZpbmVkLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50aW1lciA9PT0gLTEgJiZcbiAgICAgIHRoaXMucmVxdWVzdFNjaGVkdWxlZCA9PT0gLTEgJiZcbiAgICAgIHRoaXMuc2hvdWxkTG9hZFBsYXlsaXN0KHBsYXlsaXN0KVxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcGxheWxpc3RMb2FkZWQoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBkYXRhOiBMZXZlbExvYWRlZERhdGEgfCBBdWRpb1RyYWNrTG9hZGVkRGF0YSB8IFRyYWNrTG9hZGVkRGF0YSxcbiAgICBwcmV2aW91c0RldGFpbHM/OiBMZXZlbERldGFpbHMsXG4gICkge1xuICAgIGNvbnN0IHsgZGV0YWlscywgc3RhdHMgfSA9IGRhdGE7XG5cbiAgICAvLyBTZXQgbGFzdCB1cGRhdGVkIGRhdGUtdGltZVxuICAgIGNvbnN0IG5vdyA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZWxhcHNlZCA9IHN0YXRzLmxvYWRpbmcuZmlyc3RcbiAgICAgID8gTWF0aC5tYXgoMCwgbm93IC0gc3RhdHMubG9hZGluZy5maXJzdClcbiAgICAgIDogMDtcbiAgICBkZXRhaWxzLmFkdmFuY2VkRGF0ZVRpbWUgPSBEYXRlLm5vdygpIC0gZWxhcHNlZDtcblxuICAgIC8vIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0LCBhcm0gYSB0aW1lciB0byByZWxvYWQgaXRcbiAgICBpZiAoZGV0YWlscy5saXZlIHx8IHByZXZpb3VzRGV0YWlscz8ubGl2ZSkge1xuICAgICAgZGV0YWlscy5yZWxvYWRlZChwcmV2aW91c0RldGFpbHMpO1xuICAgICAgaWYgKHByZXZpb3VzRGV0YWlscykge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICBgbGl2ZSBwbGF5bGlzdCAke2luZGV4fSAke1xuICAgICAgICAgICAgZGV0YWlscy5hZHZhbmNlZFxuICAgICAgICAgICAgICA/ICdSRUZSRVNIRUQgJyArIGRldGFpbHMubGFzdFBhcnRTbiArICctJyArIGRldGFpbHMubGFzdFBhcnRJbmRleFxuICAgICAgICAgICAgICA6IGRldGFpbHMudXBkYXRlZFxuICAgICAgICAgICAgICAgID8gJ1VQREFURUQnXG4gICAgICAgICAgICAgICAgOiAnTUlTU0VEJ1xuICAgICAgICAgIH1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8gTWVyZ2UgbGl2ZSBwbGF5bGlzdHMgdG8gYWRqdXN0IGZyYWdtZW50IHN0YXJ0cyBhbmQgZmlsbCBpbiBkZWx0YSBwbGF5bGlzdCBza2lwcGVkIHNlZ21lbnRzXG4gICAgICBpZiAocHJldmlvdXNEZXRhaWxzICYmIGRldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWVyZ2VEZXRhaWxzKHByZXZpb3VzRGV0YWlscywgZGV0YWlscyk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuY2FuTG9hZCB8fCAhZGV0YWlscy5saXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBkZWxpdmVyeURpcmVjdGl2ZXM6IEhsc1VybFBhcmFtZXRlcnMgfCB1bmRlZmluZWQ7XG4gICAgICBsZXQgbXNuOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICBsZXQgcGFydDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGRldGFpbHMuY2FuQmxvY2tSZWxvYWQgJiYgZGV0YWlscy5lbmRTTiAmJiBkZXRhaWxzLmFkdmFuY2VkKSB7XG4gICAgICAgIC8vIExvYWQgbGV2ZWwgd2l0aCBMTC1ITFMgZGVsaXZlcnkgZGlyZWN0aXZlc1xuICAgICAgICBjb25zdCBsb3dMYXRlbmN5TW9kZSA9IHRoaXMuaGxzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZTtcbiAgICAgICAgY29uc3QgbGFzdFBhcnRTbiA9IGRldGFpbHMubGFzdFBhcnRTbjtcbiAgICAgICAgY29uc3QgZW5kU24gPSBkZXRhaWxzLmVuZFNOO1xuICAgICAgICBjb25zdCBsYXN0UGFydEluZGV4ID0gZGV0YWlscy5sYXN0UGFydEluZGV4O1xuICAgICAgICBjb25zdCBoYXNQYXJ0cyA9IGxhc3RQYXJ0SW5kZXggIT09IC0xO1xuICAgICAgICBjb25zdCBsYXN0UGFydCA9IGxhc3RQYXJ0U24gPT09IGVuZFNuO1xuICAgICAgICAvLyBXaGVuIGxvdyBsYXRlbmN5IG1vZGUgaXMgZGlzYWJsZWQsIHdlJ2xsIHNraXAgcGFydCByZXF1ZXN0cyBvbmNlIHRoZSBsYXN0IHBhcnQgaW5kZXggaXMgZm91bmRcbiAgICAgICAgY29uc3QgbmV4dFNuU3RhcnRJbmRleCA9IGxvd0xhdGVuY3lNb2RlID8gMCA6IGxhc3RQYXJ0SW5kZXg7XG4gICAgICAgIGlmIChoYXNQYXJ0cykge1xuICAgICAgICAgIG1zbiA9IGxhc3RQYXJ0ID8gZW5kU24gKyAxIDogbGFzdFBhcnRTbjtcbiAgICAgICAgICBwYXJ0ID0gbGFzdFBhcnQgPyBuZXh0U25TdGFydEluZGV4IDogbGFzdFBhcnRJbmRleCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNuID0gZW5kU24gKyAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvdy1MYXRlbmN5IENETiBUdW5lLWluOiBcImFnZVwiIGhlYWRlciBhbmQgdGltZSBzaW5jZSBsb2FkIGluZGljYXRlcyB3ZSdyZSBiZWhpbmQgYnkgbW9yZSB0aGFuIG9uZSBwYXJ0XG4gICAgICAgIC8vIFVwZGF0ZSBkaXJlY3RpdmVzIHRvIG9idGFpbiB0aGUgUGxheWxpc3QgdGhhdCBoYXMgdGhlIGVzdGltYXRlZCBhZGRpdGlvbmFsIGR1cmF0aW9uIG9mIG1lZGlhXG4gICAgICAgIGNvbnN0IGxhc3RBZHZhbmNlZCA9IGRldGFpbHMuYWdlO1xuICAgICAgICBjb25zdCBjZG5BZ2UgPSBsYXN0QWR2YW5jZWQgKyBkZXRhaWxzLmFnZUhlYWRlcjtcbiAgICAgICAgbGV0IGN1cnJlbnRHb2FsID0gTWF0aC5taW4oXG4gICAgICAgICAgY2RuQWdlIC0gZGV0YWlscy5wYXJ0VGFyZ2V0LFxuICAgICAgICAgIGRldGFpbHMudGFyZ2V0ZHVyYXRpb24gKiAxLjUsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjdXJyZW50R29hbCA+IDApIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNEZXRhaWxzICYmIGN1cnJlbnRHb2FsID4gcHJldmlvdXNEZXRhaWxzLnR1bmVJbkdvYWwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGF0dGVtcHRlZCB0byBnZXQgdGhlIG5leHQgb3IgbGF0ZXN0IHBsYXlsaXN0IHVwZGF0ZSwgYnV0IGN1cnJlbnRHb2FsIGluY3JlYXNlZCxcbiAgICAgICAgICAgIC8vIHRoZW4gd2UgZWl0aGVyIGNhbid0IGNhdGNodXAsIG9yIHRoZSBcImFnZVwiIGhlYWRlciBjYW5ub3QgYmUgdHJ1c3RlZC5cbiAgICAgICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICAgICAgYENETiBUdW5lLWluIGdvYWwgaW5jcmVhc2VkIGZyb206ICR7cHJldmlvdXNEZXRhaWxzLnR1bmVJbkdvYWx9IHRvOiAke2N1cnJlbnRHb2FsfSB3aXRoIHBsYXlsaXN0IGFnZTogJHtkZXRhaWxzLmFnZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnRHb2FsID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBNYXRoLmZsb29yKGN1cnJlbnRHb2FsIC8gZGV0YWlscy50YXJnZXRkdXJhdGlvbik7XG4gICAgICAgICAgICBtc24gKz0gc2VnbWVudHM7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgICAoY3VycmVudEdvYWwgJSBkZXRhaWxzLnRhcmdldGR1cmF0aW9uKSAvIGRldGFpbHMucGFydFRhcmdldCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcGFydCArPSBwYXJ0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICBgQ0ROIFR1bmUtaW4gYWdlOiAke1xuICAgICAgICAgICAgICAgIGRldGFpbHMuYWdlSGVhZGVyXG4gICAgICAgICAgICAgIH1zIGxhc3QgYWR2YW5jZWQgJHtsYXN0QWR2YW5jZWQudG9GaXhlZChcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICApfXMgZ29hbDogJHtjdXJyZW50R29hbH0gc2tpcCBzbiAke3NlZ21lbnRzfSB0byBwYXJ0ICR7cGFydH1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGV0YWlscy50dW5lSW5Hb2FsID0gY3VycmVudEdvYWw7XG4gICAgICAgIH1cbiAgICAgICAgZGVsaXZlcnlEaXJlY3RpdmVzID0gdGhpcy5nZXREZWxpdmVyeURpcmVjdGl2ZXMoXG4gICAgICAgICAgZGV0YWlscyxcbiAgICAgICAgICBkYXRhLmRlbGl2ZXJ5RGlyZWN0aXZlcyxcbiAgICAgICAgICBtc24sXG4gICAgICAgICAgcGFydCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGxvd0xhdGVuY3lNb2RlIHx8ICFsYXN0UGFydCkge1xuICAgICAgICAgIHRoaXMubG9hZFBsYXlsaXN0KGRlbGl2ZXJ5RGlyZWN0aXZlcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRldGFpbHMuY2FuQmxvY2tSZWxvYWQgfHwgZGV0YWlscy5jYW5Ta2lwVW50aWwpIHtcbiAgICAgICAgZGVsaXZlcnlEaXJlY3RpdmVzID0gdGhpcy5nZXREZWxpdmVyeURpcmVjdGl2ZXMoXG4gICAgICAgICAgZGV0YWlscyxcbiAgICAgICAgICBkYXRhLmRlbGl2ZXJ5RGlyZWN0aXZlcyxcbiAgICAgICAgICBtc24sXG4gICAgICAgICAgcGFydCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJ1ZmZlckluZm8gPSB0aGlzLmhscy5tYWluRm9yd2FyZEJ1ZmZlckluZm87XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGJ1ZmZlckluZm8gPyBidWZmZXJJbmZvLmVuZCAtIGJ1ZmZlckluZm8ubGVuIDogMDtcbiAgICAgIGNvbnN0IGRpc3RhbmNlVG9MaXZlRWRnZU1zID0gKGRldGFpbHMuZWRnZSAtIHBvc2l0aW9uKSAqIDEwMDA7XG4gICAgICBjb25zdCByZWxvYWRJbnRlcnZhbCA9IGNvbXB1dGVSZWxvYWRJbnRlcnZhbChcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgZGlzdGFuY2VUb0xpdmVFZGdlTXMsXG4gICAgICApO1xuICAgICAgaWYgKGRldGFpbHMudXBkYXRlZCAmJiBub3cgPiB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgKyByZWxvYWRJbnRlcnZhbCkge1xuICAgICAgICB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgPSBzdGF0cy5sb2FkaW5nLnN0YXJ0O1xuICAgICAgfVxuXG4gICAgICBpZiAobXNuICE9PSB1bmRlZmluZWQgJiYgZGV0YWlscy5jYW5CbG9ja1JlbG9hZCkge1xuICAgICAgICB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgPVxuICAgICAgICAgIHN0YXRzLmxvYWRpbmcuZmlyc3QgK1xuICAgICAgICAgIHJlbG9hZEludGVydmFsIC1cbiAgICAgICAgICAoZGV0YWlscy5wYXJ0VGFyZ2V0ICogMTAwMCB8fCAxMDAwKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHRoaXMucmVxdWVzdFNjaGVkdWxlZCA9PT0gLTEgfHxcbiAgICAgICAgdGhpcy5yZXF1ZXN0U2NoZWR1bGVkICsgcmVsb2FkSW50ZXJ2YWwgPCBub3dcbiAgICAgICkge1xuICAgICAgICB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgPSBub3c7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVxdWVzdFNjaGVkdWxlZCAtIG5vdyA8PSAwKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFNjaGVkdWxlZCArPSByZWxvYWRJbnRlcnZhbDtcbiAgICAgIH1cbiAgICAgIGxldCBlc3RpbWF0ZWRUaW1lVW50aWxVcGRhdGUgPSB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgLSBub3c7XG4gICAgICBlc3RpbWF0ZWRUaW1lVW50aWxVcGRhdGUgPSBNYXRoLm1heCgwLCBlc3RpbWF0ZWRUaW1lVW50aWxVcGRhdGUpO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGByZWxvYWQgbGl2ZSBwbGF5bGlzdCAke2luZGV4fSBpbiAke01hdGgucm91bmQoXG4gICAgICAgICAgZXN0aW1hdGVkVGltZVVudGlsVXBkYXRlLFxuICAgICAgICApfSBtc2AsXG4gICAgICApO1xuICAgICAgLy8gdGhpcy5sb2coXG4gICAgICAvLyAgIGBsaXZlIHJlbG9hZCAke2RldGFpbHMudXBkYXRlZCA/ICdSRUZSRVNIRUQnIDogJ01JU1NFRCd9XG4gICAgICAvLyByZWxvYWQgaW4gJHtlc3RpbWF0ZWRUaW1lVW50aWxVcGRhdGUgLyAxMDAwfVxuICAgICAgLy8gcm91bmQgdHJpcCAkeyhzdGF0cy5sb2FkaW5nLmVuZCAtIHN0YXRzLmxvYWRpbmcuc3RhcnQpIC8gMTAwMH1cbiAgICAgIC8vIGRpZmYgJHtcbiAgICAgIC8vICAgKHJlbG9hZEludGVydmFsIC1cbiAgICAgIC8vICAgICAoZXN0aW1hdGVkVGltZVVudGlsVXBkYXRlICtcbiAgICAgIC8vICAgICAgIHN0YXRzLmxvYWRpbmcuZW5kIC1cbiAgICAgIC8vICAgICAgIHN0YXRzLmxvYWRpbmcuc3RhcnQpKSAvXG4gICAgICAvLyAgIDEwMDBcbiAgICAgIC8vIH1cbiAgICAgIC8vIHJlbG9hZCBpbnRlcnZhbCAke3JlbG9hZEludGVydmFsIC8gMTAwMH1cbiAgICAgIC8vIHRhcmdldCBkdXJhdGlvbiAke2RldGFpbHMudGFyZ2V0ZHVyYXRpb259XG4gICAgICAvLyBkaXN0YW5jZSB0byBlZGdlICR7ZGlzdGFuY2VUb0xpdmVFZGdlTXMgLyAxMDAwfWBcbiAgICAgIC8vICk7XG5cbiAgICAgIHRoaXMudGltZXIgPSBzZWxmLnNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHRoaXMubG9hZFBsYXlsaXN0KGRlbGl2ZXJ5RGlyZWN0aXZlcyksXG4gICAgICAgIGVzdGltYXRlZFRpbWVVbnRpbFVwZGF0ZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGVsaXZlcnlEaXJlY3RpdmVzKFxuICAgIGRldGFpbHM6IExldmVsRGV0YWlscyxcbiAgICBwcmV2aW91c0RlbGl2ZXJ5RGlyZWN0aXZlczogSGxzVXJsUGFyYW1ldGVycyB8IG51bGwsXG4gICAgbXNuPzogbnVtYmVyLFxuICAgIHBhcnQ/OiBudW1iZXIsXG4gICk6IEhsc1VybFBhcmFtZXRlcnMge1xuICAgIGxldCBza2lwID0gZ2V0U2tpcFZhbHVlKGRldGFpbHMpO1xuICAgIGlmIChwcmV2aW91c0RlbGl2ZXJ5RGlyZWN0aXZlcz8uc2tpcCAmJiBkZXRhaWxzLmRlbHRhVXBkYXRlRmFpbGVkKSB7XG4gICAgICBtc24gPSBwcmV2aW91c0RlbGl2ZXJ5RGlyZWN0aXZlcy5tc247XG4gICAgICBwYXJ0ID0gcHJldmlvdXNEZWxpdmVyeURpcmVjdGl2ZXMucGFydDtcbiAgICAgIHNraXAgPSBIbHNTa2lwLk5vO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEhsc1VybFBhcmFtZXRlcnMobXNuLCBwYXJ0LCBza2lwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjaGVja1JldHJ5KGVycm9yRXZlbnQ6IEVycm9yRGF0YSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGVycm9yRXZlbnQuZGV0YWlscztcbiAgICBjb25zdCBpc1RpbWVvdXQgPSBpc1RpbWVvdXRFcnJvcihlcnJvckV2ZW50KTtcbiAgICBjb25zdCBlcnJvckFjdGlvbiA9IGVycm9yRXZlbnQuZXJyb3JBY3Rpb247XG4gICAgY29uc3QgeyBhY3Rpb24sIHJldHJ5Q291bnQgPSAwLCByZXRyeUNvbmZpZyB9ID0gZXJyb3JBY3Rpb24gfHwge307XG4gICAgY29uc3QgcmV0cnkgPVxuICAgICAgISFlcnJvckFjdGlvbiAmJlxuICAgICAgISFyZXRyeUNvbmZpZyAmJlxuICAgICAgKGFjdGlvbiA9PT0gTmV0d29ya0Vycm9yQWN0aW9uLlJldHJ5UmVxdWVzdCB8fFxuICAgICAgICAoIWVycm9yQWN0aW9uLnJlc29sdmVkICYmXG4gICAgICAgICAgYWN0aW9uID09PSBOZXR3b3JrRXJyb3JBY3Rpb24uU2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveCkpO1xuICAgIGlmIChyZXRyeSkge1xuICAgICAgdGhpcy5yZXF1ZXN0U2NoZWR1bGVkID0gLTE7XG4gICAgICBpZiAocmV0cnlDb3VudCA+PSByZXRyeUNvbmZpZy5tYXhOdW1SZXRyeSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNUaW1lb3V0ICYmIGVycm9yRXZlbnQuY29udGV4dD8uZGVsaXZlcnlEaXJlY3RpdmVzKSB7XG4gICAgICAgIC8vIFRoZSBMTC1ITFMgcmVxdWVzdCBhbHJlYWR5IHRpbWVkIG91dCBzbyByZXRyeSBpbW1lZGlhdGVseVxuICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgYFJldHJ5aW5nIHBsYXlsaXN0IGxvYWRpbmcgJHtyZXRyeUNvdW50ICsgMX0vJHtcbiAgICAgICAgICAgIHJldHJ5Q29uZmlnLm1heE51bVJldHJ5XG4gICAgICAgICAgfSBhZnRlciBcIiR7ZXJyb3JEZXRhaWxzfVwiIHdpdGhvdXQgZGVsaXZlcnktZGlyZWN0aXZlc2AsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubG9hZFBsYXlsaXN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkZWxheSA9IGdldFJldHJ5RGVsYXkocmV0cnlDb25maWcsIHJldHJ5Q291bnQpO1xuICAgICAgICAvLyBTY2hlZHVsZSBsZXZlbC90cmFjayByZWxvYWRcbiAgICAgICAgdGhpcy50aW1lciA9IHNlbGYuc2V0VGltZW91dCgoKSA9PiB0aGlzLmxvYWRQbGF5bGlzdCgpLCBkZWxheSk7XG4gICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICBgUmV0cnlpbmcgcGxheWxpc3QgbG9hZGluZyAke3JldHJ5Q291bnQgKyAxfS8ke1xuICAgICAgICAgICAgcmV0cnlDb25maWcubWF4TnVtUmV0cnlcbiAgICAgICAgICB9IGFmdGVyIFwiJHtlcnJvckRldGFpbHN9XCIgaW4gJHtkZWxheX1tc2AsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBgbGV2ZWxSZXRyeSA9IHRydWVgIHVzZWQgdG8gaW5mb3JtIG90aGVyIGNvbnRyb2xsZXJzIHRoYXQgYSByZXRyeSBpcyBoYXBwZW5pbmdcbiAgICAgIGVycm9yRXZlbnQubGV2ZWxSZXRyeSA9IHRydWU7XG4gICAgICBlcnJvckFjdGlvbi5yZXNvbHZlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZXRyeTtcbiAgfVxufVxuIiwgIi8qXG4gKiBjb21wdXRlIGFuIEV4cG9uZW50aWFsIFdlaWdodGVkIG1vdmluZyBhdmVyYWdlXG4gKiAtIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vdmluZ19hdmVyYWdlI0V4cG9uZW50aWFsX21vdmluZ19hdmVyYWdlXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKi9cblxuY2xhc3MgRVdNQSB7XG4gIHB1YmxpYyByZWFkb25seSBoYWxmTGlmZTogbnVtYmVyO1xuICBwcml2YXRlIGFscGhhXzogbnVtYmVyO1xuICBwcml2YXRlIGVzdGltYXRlXzogbnVtYmVyO1xuICBwcml2YXRlIHRvdGFsV2VpZ2h0XzogbnVtYmVyO1xuXG4gIC8vICBBYm91dCBoYWxmIG9mIHRoZSBlc3RpbWF0ZWQgdmFsdWUgd2lsbCBiZSBmcm9tIHRoZSBsYXN0IHxoYWxmTGlmZXwgc2FtcGxlcyBieSB3ZWlnaHQuXG4gIGNvbnN0cnVjdG9yKGhhbGZMaWZlOiBudW1iZXIsIGVzdGltYXRlOiBudW1iZXIgPSAwLCB3ZWlnaHQ6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLmhhbGZMaWZlID0gaGFsZkxpZmU7XG4gICAgLy8gTGFyZ2VyIHZhbHVlcyBvZiBhbHBoYSBleHBpcmUgaGlzdG9yaWNhbCBkYXRhIG1vcmUgc2xvd2x5LlxuICAgIHRoaXMuYWxwaGFfID0gaGFsZkxpZmUgPyBNYXRoLmV4cChNYXRoLmxvZygwLjUpIC8gaGFsZkxpZmUpIDogMDtcbiAgICB0aGlzLmVzdGltYXRlXyA9IGVzdGltYXRlO1xuICAgIHRoaXMudG90YWxXZWlnaHRfID0gd2VpZ2h0O1xuICB9XG5cbiAgc2FtcGxlKHdlaWdodDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgYWRqQWxwaGEgPSBNYXRoLnBvdyh0aGlzLmFscGhhXywgd2VpZ2h0KTtcbiAgICB0aGlzLmVzdGltYXRlXyA9IHZhbHVlICogKDEgLSBhZGpBbHBoYSkgKyBhZGpBbHBoYSAqIHRoaXMuZXN0aW1hdGVfO1xuICAgIHRoaXMudG90YWxXZWlnaHRfICs9IHdlaWdodDtcbiAgfVxuXG4gIGdldFRvdGFsV2VpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudG90YWxXZWlnaHRfO1xuICB9XG5cbiAgZ2V0RXN0aW1hdGUoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5hbHBoYV8pIHtcbiAgICAgIGNvbnN0IHplcm9GYWN0b3IgPSAxIC0gTWF0aC5wb3codGhpcy5hbHBoYV8sIHRoaXMudG90YWxXZWlnaHRfKTtcbiAgICAgIGlmICh6ZXJvRmFjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlXyAvIHplcm9GYWN0b3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVzdGltYXRlXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFV01BO1xuIiwgIi8qXG4gKiBFV01BIEJhbmR3aWR0aCBFc3RpbWF0b3JcbiAqICAtIGhlYXZpbHkgaW5zcGlyZWQgZnJvbSBzaGFrYS1wbGF5ZXJcbiAqIFRyYWNrcyBiYW5kd2lkdGggc2FtcGxlcyBhbmQgZXN0aW1hdGVzIGF2YWlsYWJsZSBiYW5kd2lkdGguXG4gKiBCYXNlZCBvbiB0aGUgbWluaW11bSBvZiB0d28gZXhwb25lbnRpYWxseS13ZWlnaHRlZCBtb3ZpbmcgYXZlcmFnZXMgd2l0aFxuICogZGlmZmVyZW50IGhhbGYtbGl2ZXMuXG4gKi9cblxuaW1wb3J0IEVXTUEgZnJvbSAnLi4vdXRpbHMvZXdtYSc7XG5cbmNsYXNzIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3Ige1xuICBwcml2YXRlIGRlZmF1bHRFc3RpbWF0ZV86IG51bWJlcjtcbiAgcHJpdmF0ZSBtaW5XZWlnaHRfOiBudW1iZXI7XG4gIHByaXZhdGUgbWluRGVsYXlNc186IG51bWJlcjtcbiAgcHJpdmF0ZSBzbG93XzogRVdNQTtcbiAgcHJpdmF0ZSBmYXN0XzogRVdNQTtcbiAgcHJpdmF0ZSBkZWZhdWx0VFRGQl86IG51bWJlcjtcbiAgcHJpdmF0ZSB0dGZiXzogRVdNQTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzbG93OiBudW1iZXIsXG4gICAgZmFzdDogbnVtYmVyLFxuICAgIGRlZmF1bHRFc3RpbWF0ZTogbnVtYmVyLFxuICAgIGRlZmF1bHRUVEZCOiBudW1iZXIgPSAxMDAsXG4gICkge1xuICAgIHRoaXMuZGVmYXVsdEVzdGltYXRlXyA9IGRlZmF1bHRFc3RpbWF0ZTtcbiAgICB0aGlzLm1pbldlaWdodF8gPSAwLjAwMTtcbiAgICB0aGlzLm1pbkRlbGF5TXNfID0gNTA7XG4gICAgdGhpcy5zbG93XyA9IG5ldyBFV01BKHNsb3cpO1xuICAgIHRoaXMuZmFzdF8gPSBuZXcgRVdNQShmYXN0KTtcbiAgICB0aGlzLmRlZmF1bHRUVEZCXyA9IGRlZmF1bHRUVEZCO1xuICAgIHRoaXMudHRmYl8gPSBuZXcgRVdNQShzbG93KTtcbiAgfVxuXG4gIHVwZGF0ZShzbG93OiBudW1iZXIsIGZhc3Q6IG51bWJlcikge1xuICAgIGNvbnN0IHsgc2xvd18sIGZhc3RfLCB0dGZiXyB9ID0gdGhpcztcbiAgICBpZiAoc2xvd18uaGFsZkxpZmUgIT09IHNsb3cpIHtcbiAgICAgIHRoaXMuc2xvd18gPSBuZXcgRVdNQShzbG93LCBzbG93Xy5nZXRFc3RpbWF0ZSgpLCBzbG93Xy5nZXRUb3RhbFdlaWdodCgpKTtcbiAgICB9XG4gICAgaWYgKGZhc3RfLmhhbGZMaWZlICE9PSBmYXN0KSB7XG4gICAgICB0aGlzLmZhc3RfID0gbmV3IEVXTUEoZmFzdCwgZmFzdF8uZ2V0RXN0aW1hdGUoKSwgZmFzdF8uZ2V0VG90YWxXZWlnaHQoKSk7XG4gICAgfVxuICAgIGlmICh0dGZiXy5oYWxmTGlmZSAhPT0gc2xvdykge1xuICAgICAgdGhpcy50dGZiXyA9IG5ldyBFV01BKHNsb3csIHR0ZmJfLmdldEVzdGltYXRlKCksIHR0ZmJfLmdldFRvdGFsV2VpZ2h0KCkpO1xuICAgIH1cbiAgfVxuXG4gIHNhbXBsZShkdXJhdGlvbk1zOiBudW1iZXIsIG51bUJ5dGVzOiBudW1iZXIpIHtcbiAgICBkdXJhdGlvbk1zID0gTWF0aC5tYXgoZHVyYXRpb25NcywgdGhpcy5taW5EZWxheU1zXyk7XG4gICAgY29uc3QgbnVtQml0cyA9IDggKiBudW1CeXRlcztcbiAgICAvLyB3ZWlnaHQgaXMgZHVyYXRpb24gaW4gc2Vjb25kc1xuICAgIGNvbnN0IGR1cmF0aW9uUyA9IGR1cmF0aW9uTXMgLyAxMDAwO1xuICAgIC8vIHZhbHVlIGlzIGJhbmR3aWR0aCBpbiBiaXRzL3NcbiAgICBjb25zdCBiYW5kd2lkdGhJbkJwcyA9IG51bUJpdHMgLyBkdXJhdGlvblM7XG4gICAgdGhpcy5mYXN0Xy5zYW1wbGUoZHVyYXRpb25TLCBiYW5kd2lkdGhJbkJwcyk7XG4gICAgdGhpcy5zbG93Xy5zYW1wbGUoZHVyYXRpb25TLCBiYW5kd2lkdGhJbkJwcyk7XG4gIH1cblxuICBzYW1wbGVUVEZCKHR0ZmI6IG51bWJlcikge1xuICAgIC8vIHdlaWdodCBpcyBmcmVxdWVuY3kgY3VydmUgYXBwbGllZCB0byBUVEZCIGluIHNlY29uZHNcbiAgICAvLyAobG9uZ2VyIHRpbWVzIGhhdmUgbGVzcyB3ZWlnaHQgd2l0aCBleHBlY3RlZCBpbnB1dCB1bmRlciAxIHNlY29uZClcbiAgICBjb25zdCBzZWNvbmRzID0gdHRmYiAvIDEwMDA7XG4gICAgY29uc3Qgd2VpZ2h0ID0gTWF0aC5zcXJ0KDIpICogTWF0aC5leHAoLU1hdGgucG93KHNlY29uZHMsIDIpIC8gMik7XG4gICAgdGhpcy50dGZiXy5zYW1wbGUod2VpZ2h0LCBNYXRoLm1heCh0dGZiLCA1KSk7XG4gIH1cblxuICBjYW5Fc3RpbWF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mYXN0Xy5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0XztcbiAgfVxuXG4gIGdldEVzdGltYXRlKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuY2FuRXN0aW1hdGUoKSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3Nsb3cgZXN0aW1hdGU6JysgTWF0aC5yb3VuZCh0aGlzLnNsb3dfLmdldEVzdGltYXRlKCkpKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdmYXN0IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5mYXN0Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAvLyBUYWtlIHRoZSBtaW5pbXVtIG9mIHRoZXNlIHR3byBlc3RpbWF0ZXMuICBUaGlzIHNob3VsZCBoYXZlIHRoZSBlZmZlY3Qgb2ZcbiAgICAgIC8vIGFkYXB0aW5nIGRvd24gcXVpY2tseSwgYnV0IHVwIG1vcmUgc2xvd2x5LlxuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZmFzdF8uZ2V0RXN0aW1hdGUoKSwgdGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEVzdGltYXRlXztcbiAgICB9XG4gIH1cblxuICBnZXRFc3RpbWF0ZVRURkIoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy50dGZiXy5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0Xykge1xuICAgICAgcmV0dXJuIHRoaXMudHRmYl8uZ2V0RXN0aW1hdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRURkJfO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxufVxuZXhwb3J0IGRlZmF1bHQgRXdtYUJhbmRXaWR0aEVzdGltYXRvcjtcbiIsICJpbXBvcnQgeyBtaW1lVHlwZUZvckNvZGVjIH0gZnJvbSAnLi9jb2RlY3MnO1xuaW1wb3J0IHR5cGUgeyBMZXZlbCwgVmlkZW9SYW5nZSB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB0eXBlIHsgQXVkaW9TZWxlY3Rpb25PcHRpb24gfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7IEF1ZGlvVHJhY2tzQnlHcm91cCB9IGZyb20gJy4vcmVuZGl0aW9uLWhlbHBlcic7XG5cbmV4cG9ydCB0eXBlIE1lZGlhRGVjb2RpbmdJbmZvID0ge1xuICBzdXBwb3J0ZWQ6IGJvb2xlYW47XG4gIGNvbmZpZ3VyYXRpb25zOiByZWFkb25seSBNZWRpYURlY29kaW5nQ29uZmlndXJhdGlvbltdO1xuICBkZWNvZGluZ0luZm9SZXN1bHRzOiByZWFkb25seSBNZWRpYUNhcGFiaWxpdGllc0RlY29kaW5nSW5mb1tdO1xuICBlcnJvcj86IEVycm9yO1xufTtcblxudHlwZSBCYXNlVmlkZW9Db25maWd1cmF0aW9uID0gT21pdDxWaWRlb0NvbmZpZ3VyYXRpb24sICdjb250ZW50VHlwZSc+O1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0lORk9fREVGQVVMVDogTWVkaWFEZWNvZGluZ0luZm8gPSB7XG4gIHN1cHBvcnRlZDogdHJ1ZSxcbiAgY29uZmlndXJhdGlvbnM6IFtdIGFzIE1lZGlhRGVjb2RpbmdDb25maWd1cmF0aW9uW10sXG4gIGRlY29kaW5nSW5mb1Jlc3VsdHM6IFtcbiAgICB7XG4gICAgICBzdXBwb3J0ZWQ6IHRydWUsXG4gICAgICBwb3dlckVmZmljaWVudDogdHJ1ZSxcbiAgICAgIHNtb290aDogdHJ1ZSxcbiAgICB9LFxuICBdLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9JTkZPX0NBQ0hFOiBSZWNvcmQ8XG4gIHN0cmluZyxcbiAgUHJvbWlzZTxNZWRpYUNhcGFiaWxpdGllc0RlY29kaW5nSW5mbz5cbj4gPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVzTWVkaWFDYXBhYmlsaXRpZXNEZWNvZGluZ0luZm8oXG4gIGxldmVsOiBMZXZlbCxcbiAgYXVkaW9UcmFja3NCeUdyb3VwOiBBdWRpb1RyYWNrc0J5R3JvdXAsXG4gIGN1cnJlbnRWaWRlb1JhbmdlOiBWaWRlb1JhbmdlIHwgdW5kZWZpbmVkLFxuICBjdXJyZW50RnJhbWVSYXRlOiBudW1iZXIsXG4gIGN1cnJlbnRCdzogbnVtYmVyLFxuICBhdWRpb1ByZWZlcmVuY2U6IEF1ZGlvU2VsZWN0aW9uT3B0aW9uIHwgdW5kZWZpbmVkLFxuKTogYm9vbGVhbiB7XG4gIC8vIE9ubHkgdGVzdCBzdXBwb3J0IHdoZW4gY29uZmlndXJhdGlvbiBpcyBleGNlZWRzIG1pbmltdW0gb3B0aW9uc1xuICBjb25zdCBhdWRpb0dyb3VwcyA9IGxldmVsLmF1ZGlvQ29kZWMgPyBsZXZlbC5hdWRpb0dyb3VwcyA6IG51bGw7XG4gIGNvbnN0IGF1ZGlvQ29kZWNQcmVmZXJlbmNlID0gYXVkaW9QcmVmZXJlbmNlPy5hdWRpb0NvZGVjO1xuICBjb25zdCBjaGFubmVsc1ByZWZlcmVuY2UgPSBhdWRpb1ByZWZlcmVuY2U/LmNoYW5uZWxzO1xuICBjb25zdCBtYXhDaGFubmVscyA9IGNoYW5uZWxzUHJlZmVyZW5jZVxuICAgID8gcGFyc2VJbnQoY2hhbm5lbHNQcmVmZXJlbmNlKVxuICAgIDogYXVkaW9Db2RlY1ByZWZlcmVuY2VcbiAgICAgID8gSW5maW5pdHlcbiAgICAgIDogMjtcbiAgbGV0IGF1ZGlvQ2hhbm5lbHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gfCBudWxsID0gbnVsbDtcbiAgaWYgKGF1ZGlvR3JvdXBzPy5sZW5ndGgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGF1ZGlvR3JvdXBzLmxlbmd0aCA9PT0gMSAmJiBhdWRpb0dyb3Vwc1swXSkge1xuICAgICAgICBhdWRpb0NoYW5uZWxzID0gYXVkaW9UcmFja3NCeUdyb3VwLmdyb3Vwc1thdWRpb0dyb3Vwc1swXV0uY2hhbm5lbHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdWRpb0NoYW5uZWxzID0gYXVkaW9Hcm91cHMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIGdyb3VwSWQpID0+IHtcbiAgICAgICAgICAgIGlmIChncm91cElkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2tHcm91cCA9IGF1ZGlvVHJhY2tzQnlHcm91cC5ncm91cHNbZ3JvdXBJZF07XG4gICAgICAgICAgICAgIGlmICghYXVkaW9UcmFja0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdWRpbyB0cmFjayBncm91cCAke2dyb3VwSWR9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFN1bSBhbGwgY2hhbm5lbCBrZXkgdmFsdWVzXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKGF1ZGlvVHJhY2tHcm91cC5jaGFubmVscykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSAoYWNjW2tleV0gfHwgMCkgKyBhdWRpb1RyYWNrR3JvdXAuY2hhbm5lbHNba2V5XTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyAyOiAwIH0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gKFxuICAgIChsZXZlbC52aWRlb0NvZGVjICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICgobGV2ZWwud2lkdGggPiAxOTIwICYmIGxldmVsLmhlaWdodCA+IDEwODgpIHx8XG4gICAgICAgIChsZXZlbC5oZWlnaHQgPiAxOTIwICYmIGxldmVsLndpZHRoID4gMTA4OCkgfHxcbiAgICAgICAgbGV2ZWwuZnJhbWVSYXRlID4gTWF0aC5tYXgoY3VycmVudEZyYW1lUmF0ZSwgMzApIHx8XG4gICAgICAgIChsZXZlbC52aWRlb1JhbmdlICE9PSAnU0RSJyAmJlxuICAgICAgICAgIGxldmVsLnZpZGVvUmFuZ2UgIT09IGN1cnJlbnRWaWRlb1JhbmdlKSB8fFxuICAgICAgICBsZXZlbC5iaXRyYXRlID4gTWF0aC5tYXgoY3VycmVudEJ3LCA4ZTYpKSkgfHxcbiAgICAoISFhdWRpb0NoYW5uZWxzICYmXG4gICAgICBOdW1iZXIuaXNGaW5pdGUobWF4Q2hhbm5lbHMpICYmXG4gICAgICBPYmplY3Qua2V5cyhhdWRpb0NoYW5uZWxzKS5zb21lKFxuICAgICAgICAoY2hhbm5lbHMpID0+IHBhcnNlSW50KGNoYW5uZWxzKSA+IG1heENoYW5uZWxzLFxuICAgICAgKSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lZGlhRGVjb2RpbmdJbmZvUHJvbWlzZShcbiAgbGV2ZWw6IExldmVsLFxuICBhdWRpb1RyYWNrc0J5R3JvdXA6IEF1ZGlvVHJhY2tzQnlHcm91cCxcbiAgbWVkaWFDYXBhYmlsaXRpZXM6IE1lZGlhQ2FwYWJpbGl0aWVzIHwgdW5kZWZpbmVkLFxuKTogUHJvbWlzZTxNZWRpYURlY29kaW5nSW5mbz4ge1xuICBjb25zdCB2aWRlb0NvZGVjcyA9IGxldmVsLnZpZGVvQ29kZWM7XG4gIGNvbnN0IGF1ZGlvQ29kZWNzID0gbGV2ZWwuYXVkaW9Db2RlYztcbiAgaWYgKCF2aWRlb0NvZGVjcyB8fCAhYXVkaW9Db2RlY3MgfHwgIW1lZGlhQ2FwYWJpbGl0aWVzKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShTVVBQT1JURURfSU5GT19ERUZBVUxUKTtcbiAgfVxuXG4gIGNvbnN0IGJhc2VWaWRlb0NvbmZpZ3VyYXRpb246IEJhc2VWaWRlb0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgd2lkdGg6IGxldmVsLndpZHRoLFxuICAgIGhlaWdodDogbGV2ZWwuaGVpZ2h0LFxuICAgIGJpdHJhdGU6IE1hdGguY2VpbChNYXRoLm1heChsZXZlbC5iaXRyYXRlICogMC45LCBsZXZlbC5hdmVyYWdlQml0cmF0ZSkpLFxuICAgIC8vIEFzc3VtZSBhIGZyYW1lcmF0ZSBvZiAzMGZwcyBzaW5jZSBNZWRpYUNhcGFiaWxpdGllcyB3aWxsIG5vdCBhY2NlcHQgTGV2ZWwgZGVmYXVsdCBvZiAwLlxuICAgIGZyYW1lcmF0ZTogbGV2ZWwuZnJhbWVSYXRlIHx8IDMwLFxuICB9O1xuXG4gIGNvbnN0IHZpZGVvUmFuZ2UgPSBsZXZlbC52aWRlb1JhbmdlO1xuICBpZiAodmlkZW9SYW5nZSAhPT0gJ1NEUicpIHtcbiAgICBiYXNlVmlkZW9Db25maWd1cmF0aW9uLnRyYW5zZmVyRnVuY3Rpb24gPVxuICAgICAgdmlkZW9SYW5nZS50b0xvd2VyQ2FzZSgpIGFzIFRyYW5zZmVyRnVuY3Rpb247XG4gIH1cblxuICBjb25zdCBjb25maWd1cmF0aW9uczogTWVkaWFEZWNvZGluZ0NvbmZpZ3VyYXRpb25bXSA9IHZpZGVvQ29kZWNzXG4gICAgLnNwbGl0KCcsJylcbiAgICAubWFwKCh2aWRlb0NvZGVjKSA9PiAoe1xuICAgICAgdHlwZTogJ21lZGlhLXNvdXJjZScsXG4gICAgICB2aWRlbzoge1xuICAgICAgICAuLi5iYXNlVmlkZW9Db25maWd1cmF0aW9uLFxuICAgICAgICBjb250ZW50VHlwZTogbWltZVR5cGVGb3JDb2RlYyh2aWRlb0NvZGVjLCAndmlkZW8nKSxcbiAgICAgIH0sXG4gICAgfSkpO1xuXG4gIGlmIChhdWRpb0NvZGVjcyAmJiBsZXZlbC5hdWRpb0dyb3Vwcykge1xuICAgIGxldmVsLmF1ZGlvR3JvdXBzLmZvckVhY2goKGF1ZGlvR3JvdXBJZCkgPT4ge1xuICAgICAgaWYgKCFhdWRpb0dyb3VwSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXVkaW9UcmFja3NCeUdyb3VwLmdyb3Vwc1thdWRpb0dyb3VwSWRdPy50cmFja3MuZm9yRWFjaCgoYXVkaW9UcmFjaykgPT4ge1xuICAgICAgICBpZiAoYXVkaW9UcmFjay5ncm91cElkID09PSBhdWRpb0dyb3VwSWQpIHtcbiAgICAgICAgICBjb25zdCBjaGFubmVscyA9IGF1ZGlvVHJhY2suY2hhbm5lbHMgfHwgJyc7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbHNOdW1iZXIgPSBwYXJzZUZsb2F0KGNoYW5uZWxzKTtcbiAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGNoYW5uZWxzTnVtYmVyKSAmJiBjaGFubmVsc051bWJlciA+IDIpIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25zLnB1c2guYXBwbHkoXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25zLFxuICAgICAgICAgICAgICBhdWRpb0NvZGVjcy5zcGxpdCgnLCcpLm1hcCgoYXVkaW9Db2RlYykgPT4gKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWVkaWEtc291cmNlJyxcbiAgICAgICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IG1pbWVUeXBlRm9yQ29kZWMoYXVkaW9Db2RlYywgJ2F1ZGlvJyksXG4gICAgICAgICAgICAgICAgICBjaGFubmVsczogJycgKyBjaGFubmVsc051bWJlcixcbiAgICAgICAgICAgICAgICAgIC8vIHNwYXRpYWxSZW5kZXJpbmc6XG4gICAgICAgICAgICAgICAgICAvLyAgIGF1ZGlvQ29kZWMgPT09ICdlYy0zJyAmJiBjaGFubmVscy5pbmRleE9mKCdKT0MnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgY29uZmlndXJhdGlvbnMubWFwKChjb25maWd1cmF0aW9uKSA9PiB7XG4gICAgICAvLyBDYWNoZSBNZWRpYUNhcGFiaWxpdGllcyBwcm9taXNlc1xuICAgICAgY29uc3QgZGVjb2RpbmdJbmZvS2V5ID0gZ2V0TWVkaWFEZWNvZGluZ0luZm9LZXkoY29uZmlndXJhdGlvbik7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBTVVBQT1JURURfSU5GT19DQUNIRVtkZWNvZGluZ0luZm9LZXldIHx8XG4gICAgICAgIChTVVBQT1JURURfSU5GT19DQUNIRVtkZWNvZGluZ0luZm9LZXldID1cbiAgICAgICAgICBtZWRpYUNhcGFiaWxpdGllcy5kZWNvZGluZ0luZm8oY29uZmlndXJhdGlvbikpXG4gICAgICApO1xuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKGRlY29kaW5nSW5mb1Jlc3VsdHMpID0+ICh7XG4gICAgICBzdXBwb3J0ZWQ6ICFkZWNvZGluZ0luZm9SZXN1bHRzLnNvbWUoKGluZm8pID0+ICFpbmZvLnN1cHBvcnRlZCksXG4gICAgICBjb25maWd1cmF0aW9ucyxcbiAgICAgIGRlY29kaW5nSW5mb1Jlc3VsdHMsXG4gICAgfSkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gKHtcbiAgICAgIHN1cHBvcnRlZDogZmFsc2UsXG4gICAgICBjb25maWd1cmF0aW9ucyxcbiAgICAgIGRlY29kaW5nSW5mb1Jlc3VsdHM6IFtdIGFzIE1lZGlhQ2FwYWJpbGl0aWVzRGVjb2RpbmdJbmZvW10sXG4gICAgICBlcnJvcixcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIGdldE1lZGlhRGVjb2RpbmdJbmZvS2V5KGNvbmZpZzogTWVkaWFEZWNvZGluZ0NvbmZpZ3VyYXRpb24pOiBzdHJpbmcge1xuICBjb25zdCB7IGF1ZGlvLCB2aWRlbyB9ID0gY29uZmlnO1xuICBjb25zdCBtZWRpYUNvbmZpZyA9IHZpZGVvIHx8IGF1ZGlvO1xuICBpZiAobWVkaWFDb25maWcpIHtcbiAgICBjb25zdCBjb2RlYyA9IG1lZGlhQ29uZmlnLmNvbnRlbnRUeXBlLnNwbGl0KCdcIicpWzFdO1xuICAgIGlmICh2aWRlbykge1xuICAgICAgcmV0dXJuIGByJHt2aWRlby5oZWlnaHR9eCR7dmlkZW8ud2lkdGh9ZiR7TWF0aC5jZWlsKHZpZGVvLmZyYW1lcmF0ZSl9JHtcbiAgICAgICAgdmlkZW8udHJhbnNmZXJGdW5jdGlvbiB8fCAnc2QnXG4gICAgICB9XyR7Y29kZWN9XyR7TWF0aC5jZWlsKHZpZGVvLmJpdHJhdGUgLyAxZTUpfWA7XG4gICAgfVxuICAgIGlmIChhdWRpbykge1xuICAgICAgcmV0dXJuIGBjJHthdWRpby5jaGFubmVsc30ke2F1ZGlvLnNwYXRpYWxSZW5kZXJpbmcgPyAncycgOiAnbid9XyR7Y29kZWN9YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuIiwgImltcG9ydCB7IHR5cGUgVmlkZW9SYW5nZSwgVmlkZW9SYW5nZVZhbHVlcyB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB0eXBlIHsgVmlkZW9TZWxlY3Rpb25PcHRpb24gfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5cbi8qKlxuICogQHJldHVybnMgV2hldGhlciB3ZSBjYW4gZGV0ZWN0IGFuZCB2YWxpZGF0ZSBIRFIgY2FwYWJpbGl0eSB3aXRoaW4gdGhlIHdpbmRvdyBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0hkclN1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiBtYXRjaE1lZGlhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgbWVkaWFRdWVyeUxpc3QgPSBtYXRjaE1lZGlhKCcoZHluYW1pYy1yYW5nZTogaGlnaCknKTtcbiAgICBjb25zdCBiYWRRdWVyeSA9IG1hdGNoTWVkaWEoJ2JhZCBxdWVyeScpO1xuICAgIGlmIChtZWRpYVF1ZXJ5TGlzdC5tZWRpYSAhPT0gYmFkUXVlcnkubWVkaWEpIHtcbiAgICAgIHJldHVybiBtZWRpYVF1ZXJ5TGlzdC5tYXRjaGVzID09PSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogU2FuaXRpemVzIGlucHV0cyB0byByZXR1cm4gdGhlIGFjdGl2ZSB2aWRlbyBzZWxlY3Rpb24gb3B0aW9ucyBmb3IgSERSL1NEUi5cbiAqIFdoZW4gYm90aCBpbnB1dHMgYXJlIG51bGw6XG4gKlxuICogICAgYHsgcHJlZmVySERSOiBmYWxzZSwgYWxsb3dlZFZpZGVvUmFuZ2VzOiBbXSB9YFxuICpcbiAqIFdoZW4gYGN1cnJlbnRWaWRlb1JhbmdlYCBub24tbnVsbCwgbWFpbnRhaW4gdGhlIGFjdGl2ZSByYW5nZTpcbiAqXG4gKiAgICBgeyBwcmVmZXJIRFI6IGN1cnJlbnRWaWRlb1JhbmdlICE9PSAnU0RSJywgYWxsb3dlZFZpZGVvUmFuZ2VzOiBbY3VycmVudFZpZGVvUmFuZ2VdIH1gXG4gKlxuICogV2hlbiBWaWRlb1NlbGVjdGlvbk9wdGlvbiBub24tbnVsbDpcbiAqXG4gKiAgLSBBbGxvdyBhbGwgdmlkZW8gcmFuZ2VzIGlmIGBhbGxvd2VkVmlkZW9SYW5nZXNgIHVuc3BlY2lmaWVkLlxuICogIC0gSWYgYHByZWZlckhEUmAgaXMgbm9uLW51bGwgdXNlIHRoZSB2YWx1ZSB0byBmaWx0ZXIgYGFsbG93ZWRWaWRlb1Jhbmdlc2AuXG4gKiAgLSBFbHNlIGNoZWNrIHdpbmRvdyBmb3IgSERSIHN1cHBvcnQgYW5kIHNldCBgcHJlZmVySERSYCB0byB0aGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlkZW9SYW5nZVxuICogQHBhcmFtIHZpZGVvUHJlZmVyZW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9TZWxlY3Rpb25PcHRpb25zKFxuICBjdXJyZW50VmlkZW9SYW5nZTogVmlkZW9SYW5nZSB8IHVuZGVmaW5lZCxcbiAgdmlkZW9QcmVmZXJlbmNlOiBWaWRlb1NlbGVjdGlvbk9wdGlvbiB8IHVuZGVmaW5lZCxcbikge1xuICBsZXQgcHJlZmVySERSID0gZmFsc2U7XG4gIGxldCBhbGxvd2VkVmlkZW9SYW5nZXM6IEFycmF5PFZpZGVvUmFuZ2U+ID0gW107XG5cbiAgaWYgKGN1cnJlbnRWaWRlb1JhbmdlKSB7XG4gICAgcHJlZmVySERSID0gY3VycmVudFZpZGVvUmFuZ2UgIT09ICdTRFInO1xuICAgIGFsbG93ZWRWaWRlb1JhbmdlcyA9IFtjdXJyZW50VmlkZW9SYW5nZV07XG4gIH1cblxuICBpZiAodmlkZW9QcmVmZXJlbmNlKSB7XG4gICAgYWxsb3dlZFZpZGVvUmFuZ2VzID1cbiAgICAgIHZpZGVvUHJlZmVyZW5jZS5hbGxvd2VkVmlkZW9SYW5nZXMgfHwgVmlkZW9SYW5nZVZhbHVlcy5zbGljZSgwKTtcbiAgICBwcmVmZXJIRFIgPVxuICAgICAgdmlkZW9QcmVmZXJlbmNlLnByZWZlckhEUiAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdmlkZW9QcmVmZXJlbmNlLnByZWZlckhEUlxuICAgICAgICA6IGlzSGRyU3VwcG9ydGVkKCk7XG5cbiAgICBpZiAocHJlZmVySERSKSB7XG4gICAgICBhbGxvd2VkVmlkZW9SYW5nZXMgPSBhbGxvd2VkVmlkZW9SYW5nZXMuZmlsdGVyKFxuICAgICAgICAocmFuZ2U6IFZpZGVvUmFuZ2UpID0+IHJhbmdlICE9PSAnU0RSJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsbG93ZWRWaWRlb1JhbmdlcyA9IFsnU0RSJ107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwcmVmZXJIRFIsXG4gICAgYWxsb3dlZFZpZGVvUmFuZ2VzLFxuICB9O1xufVxuIiwgImltcG9ydCB7IGNvZGVjc1NldFNlbGVjdGlvblByZWZlcmVuY2VWYWx1ZSB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IGdldFZpZGVvU2VsZWN0aW9uT3B0aW9ucyB9IGZyb20gJy4vaGRyJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB0eXBlIHsgTGV2ZWwsIFZpZGVvUmFuZ2UgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgdHlwZSB7XG4gIEF1ZGlvU2VsZWN0aW9uT3B0aW9uLFxuICBNZWRpYVBsYXlsaXN0LFxuICBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbixcbiAgVmlkZW9TZWxlY3Rpb25PcHRpb24sXG59IGZyb20gJy4uL3R5cGVzL21lZGlhLXBsYXlsaXN0JztcblxuZXhwb3J0IHR5cGUgQ29kZWNTZXRUaWVyID0ge1xuICBtaW5CaXRyYXRlOiBudW1iZXI7XG4gIG1pbkhlaWdodDogbnVtYmVyO1xuICBtaW5GcmFtZXJhdGU6IG51bWJlcjtcbiAgbWF4U2NvcmU6IG51bWJlcjtcbiAgdmlkZW9SYW5nZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIGNoYW5uZWxzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICBoYXNEZWZhdWx0QXVkaW86IGJvb2xlYW47XG4gIGZyYWdtZW50RXJyb3I6IG51bWJlcjtcbn07XG5cbnR5cGUgQXVkaW9UcmFja0dyb3VwID0ge1xuICB0cmFja3M6IE1lZGlhUGxheWxpc3RbXTtcbiAgY2hhbm5lbHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIGhhc0RlZmF1bHQ6IGJvb2xlYW47XG4gIGhhc0F1dG9TZWxlY3Q6IGJvb2xlYW47XG59O1xudHlwZSBTdGFydFBhcmFtZXRlcnMgPSB7XG4gIGNvZGVjU2V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHZpZGVvUmFuZ2VzOiBBcnJheTxWaWRlb1JhbmdlPjtcbiAgcHJlZmVySERSOiBib29sZWFuO1xuICBtaW5GcmFtZXJhdGU6IG51bWJlcjtcbiAgbWluQml0cmF0ZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXJ0Q29kZWNUaWVyKFxuICBjb2RlY1RpZXJzOiBSZWNvcmQ8c3RyaW5nLCBDb2RlY1NldFRpZXI+LFxuICBjdXJyZW50VmlkZW9SYW5nZTogVmlkZW9SYW5nZSB8IHVuZGVmaW5lZCxcbiAgY3VycmVudEJ3OiBudW1iZXIsXG4gIGF1ZGlvUHJlZmVyZW5jZTogQXVkaW9TZWxlY3Rpb25PcHRpb24gfCB1bmRlZmluZWQsXG4gIHZpZGVvUHJlZmVyZW5jZTogVmlkZW9TZWxlY3Rpb25PcHRpb24gfCB1bmRlZmluZWQsXG4pOiBTdGFydFBhcmFtZXRlcnMge1xuICBjb25zdCBjb2RlY1NldHMgPSBPYmplY3Qua2V5cyhjb2RlY1RpZXJzKTtcbiAgY29uc3QgY2hhbm5lbHNQcmVmZXJlbmNlID0gYXVkaW9QcmVmZXJlbmNlPy5jaGFubmVscztcbiAgY29uc3QgYXVkaW9Db2RlY1ByZWZlcmVuY2UgPSBhdWRpb1ByZWZlcmVuY2U/LmF1ZGlvQ29kZWM7XG4gIGNvbnN0IHByZWZlclN0ZXJlbyA9IGNoYW5uZWxzUHJlZmVyZW5jZSAmJiBwYXJzZUludChjaGFubmVsc1ByZWZlcmVuY2UpID09PSAyO1xuICAvLyBVc2UgZmlyc3QgbGV2ZWwgc2V0IHRvIGRldGVybWluZSBzdGVyZW8sIGFuZCBtaW5pbXVtIHJlc29sdXRpb24gYW5kIGZyYW1lcmF0ZVxuICBsZXQgaGFzU3RlcmVvID0gdHJ1ZTtcbiAgbGV0IGhhc0N1cnJlbnRWaWRlb1JhbmdlID0gZmFsc2U7XG4gIGxldCBtaW5IZWlnaHQgPSBJbmZpbml0eTtcbiAgbGV0IG1pbkZyYW1lcmF0ZSA9IEluZmluaXR5O1xuICBsZXQgbWluQml0cmF0ZSA9IEluZmluaXR5O1xuICBsZXQgc2VsZWN0ZWRTY29yZSA9IDA7XG4gIGxldCB2aWRlb1JhbmdlczogQXJyYXk8VmlkZW9SYW5nZT4gPSBbXTtcblxuICBjb25zdCB7IHByZWZlckhEUiwgYWxsb3dlZFZpZGVvUmFuZ2VzIH0gPSBnZXRWaWRlb1NlbGVjdGlvbk9wdGlvbnMoXG4gICAgY3VycmVudFZpZGVvUmFuZ2UsXG4gICAgdmlkZW9QcmVmZXJlbmNlLFxuICApO1xuXG4gIGZvciAobGV0IGkgPSBjb2RlY1NldHMubGVuZ3RoOyBpLS07ICkge1xuICAgIGNvbnN0IHRpZXIgPSBjb2RlY1RpZXJzW2NvZGVjU2V0c1tpXV07XG4gICAgaGFzU3RlcmVvID0gdGllci5jaGFubmVsc1syXSA+IDA7XG4gICAgbWluSGVpZ2h0ID0gTWF0aC5taW4obWluSGVpZ2h0LCB0aWVyLm1pbkhlaWdodCk7XG4gICAgbWluRnJhbWVyYXRlID0gTWF0aC5taW4obWluRnJhbWVyYXRlLCB0aWVyLm1pbkZyYW1lcmF0ZSk7XG4gICAgbWluQml0cmF0ZSA9IE1hdGgubWluKG1pbkJpdHJhdGUsIHRpZXIubWluQml0cmF0ZSk7XG4gICAgY29uc3QgbWF0Y2hpbmdWaWRlb1JhbmdlcyA9IGFsbG93ZWRWaWRlb1Jhbmdlcy5maWx0ZXIoXG4gICAgICAocmFuZ2UpID0+IHRpZXIudmlkZW9SYW5nZXNbcmFuZ2VdID4gMCxcbiAgICApO1xuICAgIGlmIChtYXRjaGluZ1ZpZGVvUmFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGhhc0N1cnJlbnRWaWRlb1JhbmdlID0gdHJ1ZTtcbiAgICAgIHZpZGVvUmFuZ2VzID0gbWF0Y2hpbmdWaWRlb1JhbmdlcztcbiAgICB9XG4gIH1cbiAgbWluSGVpZ2h0ID0gTnVtYmVyLmlzRmluaXRlKG1pbkhlaWdodCkgPyBtaW5IZWlnaHQgOiAwO1xuICBtaW5GcmFtZXJhdGUgPSBOdW1iZXIuaXNGaW5pdGUobWluRnJhbWVyYXRlKSA/IG1pbkZyYW1lcmF0ZSA6IDA7XG4gIGNvbnN0IG1heEhlaWdodCA9IE1hdGgubWF4KDEwODAsIG1pbkhlaWdodCk7XG4gIGNvbnN0IG1heEZyYW1lcmF0ZSA9IE1hdGgubWF4KDMwLCBtaW5GcmFtZXJhdGUpO1xuICBtaW5CaXRyYXRlID0gTnVtYmVyLmlzRmluaXRlKG1pbkJpdHJhdGUpID8gbWluQml0cmF0ZSA6IGN1cnJlbnRCdztcbiAgY3VycmVudEJ3ID0gTWF0aC5tYXgobWluQml0cmF0ZSwgY3VycmVudEJ3KTtcbiAgLy8gSWYgdGhlcmUgYXJlIG5vIHZhcmlhbnRzIHdpdGggbWF0Y2hpbmcgcHJlZmVyZW5jZSwgc2V0IGN1cnJlbnRWaWRlb1JhbmdlIHRvIHVuZGVmaW5lZFxuICBpZiAoIWhhc0N1cnJlbnRWaWRlb1JhbmdlKSB7XG4gICAgY3VycmVudFZpZGVvUmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgdmlkZW9SYW5nZXMgPSBbXTtcbiAgfVxuICBjb25zdCBjb2RlY1NldCA9IGNvZGVjU2V0cy5yZWR1Y2UoXG4gICAgKHNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQsIGNhbmRpZGF0ZTogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBSZW1vdmUgY2FuZGlhdGVzIHdoaWNoIGRvIG5vdCBtZWV0IGJpdHJhdGUsIGRlZmF1bHQgYXVkaW8sIHN0ZXJlbyBvciBjaGFubmVscyBwcmVmZXJlbmNlLCAxMDgwcCBvciBsb3dlciwgMzBmcHMgb3IgbG93ZXIsIG9yIFNEUi9IRFIgc2VsZWN0aW9uIGlmIHByZXNlbnRcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZVRpZXIgPSBjb2RlY1RpZXJzW2NhbmRpZGF0ZV07XG4gICAgICBpZiAoY2FuZGlkYXRlID09PSBzZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoY2FuZGlkYXRlVGllci5taW5CaXRyYXRlID4gY3VycmVudEJ3KSB7XG4gICAgICAgIGxvZ1N0YXJ0Q29kZWNDYW5kaWRhdGVJZ25vcmVkKFxuICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICBgbWluIGJpdHJhdGUgb2YgJHtjYW5kaWRhdGVUaWVyLm1pbkJpdHJhdGV9ID4gY3VycmVudCBlc3RpbWF0ZSBvZiAke2N1cnJlbnRCd31gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIWNhbmRpZGF0ZVRpZXIuaGFzRGVmYXVsdEF1ZGlvKSB7XG4gICAgICAgIGxvZ1N0YXJ0Q29kZWNDYW5kaWRhdGVJZ25vcmVkKFxuICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICBgbm8gcmVuZGl0aW9ucyB3aXRoIGRlZmF1bHQgb3IgYXV0by1zZWxlY3Qgc291bmQgZm91bmRgLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGF1ZGlvQ29kZWNQcmVmZXJlbmNlICYmXG4gICAgICAgIGNhbmRpZGF0ZS5pbmRleE9mKGF1ZGlvQ29kZWNQcmVmZXJlbmNlLnN1YnN0cmluZygwLCA0KSkgJSA1ICE9PSAwXG4gICAgICApIHtcbiAgICAgICAgbG9nU3RhcnRDb2RlY0NhbmRpZGF0ZUlnbm9yZWQoXG4gICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgIGBhdWRpbyBjb2RlYyBwcmVmZXJlbmNlIFwiJHthdWRpb0NvZGVjUHJlZmVyZW5jZX1cIiBub3QgZm91bmRgLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoY2hhbm5lbHNQcmVmZXJlbmNlICYmICFwcmVmZXJTdGVyZW8pIHtcbiAgICAgICAgaWYgKCFjYW5kaWRhdGVUaWVyLmNoYW5uZWxzW2NoYW5uZWxzUHJlZmVyZW5jZV0pIHtcbiAgICAgICAgICBsb2dTdGFydENvZGVjQ2FuZGlkYXRlSWdub3JlZChcbiAgICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICAgIGBubyByZW5kaXRpb25zIHdpdGggJHtjaGFubmVsc1ByZWZlcmVuY2V9IGNoYW5uZWwgc291bmQgZm91bmQgKGNoYW5uZWxzIG9wdGlvbnM6ICR7T2JqZWN0LmtleXMoXG4gICAgICAgICAgICAgIGNhbmRpZGF0ZVRpZXIuY2hhbm5lbHMsXG4gICAgICAgICAgICApfSlgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAoIWF1ZGlvQ29kZWNQcmVmZXJlbmNlIHx8IHByZWZlclN0ZXJlbykgJiZcbiAgICAgICAgaGFzU3RlcmVvICYmXG4gICAgICAgIGNhbmRpZGF0ZVRpZXIuY2hhbm5lbHNbJzInXSA9PT0gMFxuICAgICAgKSB7XG4gICAgICAgIGxvZ1N0YXJ0Q29kZWNDYW5kaWRhdGVJZ25vcmVkKFxuICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICBgbm8gcmVuZGl0aW9ucyB3aXRoIHN0ZXJlbyBzb3VuZCBmb3VuZGAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChjYW5kaWRhdGVUaWVyLm1pbkhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgICBsb2dTdGFydENvZGVjQ2FuZGlkYXRlSWdub3JlZChcbiAgICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgICAgYG1pbiByZXNvbHV0aW9uIG9mICR7Y2FuZGlkYXRlVGllci5taW5IZWlnaHR9ID4gbWF4aW11bSBvZiAke21heEhlaWdodH1gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoY2FuZGlkYXRlVGllci5taW5GcmFtZXJhdGUgPiBtYXhGcmFtZXJhdGUpIHtcbiAgICAgICAgbG9nU3RhcnRDb2RlY0NhbmRpZGF0ZUlnbm9yZWQoXG4gICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgIGBtaW4gZnJhbWVyYXRlIG9mICR7Y2FuZGlkYXRlVGllci5taW5GcmFtZXJhdGV9ID4gbWF4aW11bSBvZiAke21heEZyYW1lcmF0ZX1gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIXZpZGVvUmFuZ2VzLnNvbWUoKHJhbmdlKSA9PiBjYW5kaWRhdGVUaWVyLnZpZGVvUmFuZ2VzW3JhbmdlXSA+IDApKSB7XG4gICAgICAgIGxvZ1N0YXJ0Q29kZWNDYW5kaWRhdGVJZ25vcmVkKFxuICAgICAgICAgIGNhbmRpZGF0ZSxcbiAgICAgICAgICBgbm8gdmFyaWFudHMgd2l0aCBWSURFTy1SQU5HRSBvZiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgdmlkZW9SYW5nZXMsXG4gICAgICAgICAgKX0gZm91bmRgLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoY2FuZGlkYXRlVGllci5tYXhTY29yZSA8IHNlbGVjdGVkU2NvcmUpIHtcbiAgICAgICAgbG9nU3RhcnRDb2RlY0NhbmRpZGF0ZUlnbm9yZWQoXG4gICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgIGBtYXggc2NvcmUgb2YgJHtjYW5kaWRhdGVUaWVyLm1heFNjb3JlfSA8IHNlbGVjdGVkIG1heCBvZiAke3NlbGVjdGVkU2NvcmV9YCxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgLy8gUmVtb3ZlIGNhbmRpYXRlcyB3aXRoIGxlc3MgcHJlZmVycmVkIGNvZGVjcyBvciBtb3JlIGVycm9yc1xuICAgICAgaWYgKFxuICAgICAgICBzZWxlY3RlZCAmJlxuICAgICAgICAoY29kZWNzU2V0U2VsZWN0aW9uUHJlZmVyZW5jZVZhbHVlKGNhbmRpZGF0ZSkgPj1cbiAgICAgICAgICBjb2RlY3NTZXRTZWxlY3Rpb25QcmVmZXJlbmNlVmFsdWUoc2VsZWN0ZWQpIHx8XG4gICAgICAgICAgY2FuZGlkYXRlVGllci5mcmFnbWVudEVycm9yID4gY29kZWNUaWVyc1tzZWxlY3RlZF0uZnJhZ21lbnRFcnJvcilcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgICBzZWxlY3RlZFNjb3JlID0gY2FuZGlkYXRlVGllci5tYXhTY29yZTtcbiAgICAgIHJldHVybiBjYW5kaWRhdGU7XG4gICAgfSxcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHJldHVybiB7XG4gICAgY29kZWNTZXQsXG4gICAgdmlkZW9SYW5nZXMsXG4gICAgcHJlZmVySERSLFxuICAgIG1pbkZyYW1lcmF0ZSxcbiAgICBtaW5CaXRyYXRlLFxuICB9O1xufVxuXG5mdW5jdGlvbiBsb2dTdGFydENvZGVjQ2FuZGlkYXRlSWdub3JlZChjb2RlU2V0OiBzdHJpbmcsIHJlYXNvbjogc3RyaW5nKSB7XG4gIGxvZ2dlci5sb2coXG4gICAgYFthYnJdIHN0YXJ0IGNhbmRpZGF0ZXMgd2l0aCBcIiR7Y29kZVNldH1cIiBpZ25vcmVkIGJlY2F1c2UgJHtyZWFzb259YCxcbiAgKTtcbn1cblxuZXhwb3J0IHR5cGUgQXVkaW9UcmFja3NCeUdyb3VwID0ge1xuICBoYXNEZWZhdWx0QXVkaW86IGJvb2xlYW47XG4gIGhhc0F1dG9TZWxlY3RBdWRpbzogYm9vbGVhbjtcbiAgZ3JvdXBzOiBSZWNvcmQ8c3RyaW5nLCBBdWRpb1RyYWNrR3JvdXA+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGlvVHJhY2tzQnlHcm91cChhbGxBdWRpb1RyYWNrczogTWVkaWFQbGF5bGlzdFtdKSB7XG4gIHJldHVybiBhbGxBdWRpb1RyYWNrcy5yZWR1Y2UoXG4gICAgKGF1ZGlvVHJhY2tzQnlHcm91cDogQXVkaW9UcmFja3NCeUdyb3VwLCB0cmFjaykgPT4ge1xuICAgICAgbGV0IHRyYWNrR3JvdXAgPSBhdWRpb1RyYWNrc0J5R3JvdXAuZ3JvdXBzW3RyYWNrLmdyb3VwSWRdO1xuICAgICAgaWYgKCF0cmFja0dyb3VwKSB7XG4gICAgICAgIHRyYWNrR3JvdXAgPSBhdWRpb1RyYWNrc0J5R3JvdXAuZ3JvdXBzW3RyYWNrLmdyb3VwSWRdID0ge1xuICAgICAgICAgIHRyYWNrczogW10sXG4gICAgICAgICAgY2hhbm5lbHM6IHsgMjogMCB9LFxuICAgICAgICAgIGhhc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGhhc0F1dG9TZWxlY3Q6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdHJhY2tHcm91cC50cmFja3MucHVzaCh0cmFjayk7XG4gICAgICBjb25zdCBjaGFubmVsc0tleSA9IHRyYWNrLmNoYW5uZWxzIHx8ICcyJztcbiAgICAgIHRyYWNrR3JvdXAuY2hhbm5lbHNbY2hhbm5lbHNLZXldID1cbiAgICAgICAgKHRyYWNrR3JvdXAuY2hhbm5lbHNbY2hhbm5lbHNLZXldIHx8IDApICsgMTtcbiAgICAgIHRyYWNrR3JvdXAuaGFzRGVmYXVsdCA9IHRyYWNrR3JvdXAuaGFzRGVmYXVsdCB8fCB0cmFjay5kZWZhdWx0O1xuICAgICAgdHJhY2tHcm91cC5oYXNBdXRvU2VsZWN0ID0gdHJhY2tHcm91cC5oYXNBdXRvU2VsZWN0IHx8IHRyYWNrLmF1dG9zZWxlY3Q7XG4gICAgICBpZiAodHJhY2tHcm91cC5oYXNEZWZhdWx0KSB7XG4gICAgICAgIGF1ZGlvVHJhY2tzQnlHcm91cC5oYXNEZWZhdWx0QXVkaW8gPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRyYWNrR3JvdXAuaGFzQXV0b1NlbGVjdCkge1xuICAgICAgICBhdWRpb1RyYWNrc0J5R3JvdXAuaGFzQXV0b1NlbGVjdEF1ZGlvID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdWRpb1RyYWNrc0J5R3JvdXA7XG4gICAgfSxcbiAgICB7XG4gICAgICBoYXNEZWZhdWx0QXVkaW86IGZhbHNlLFxuICAgICAgaGFzQXV0b1NlbGVjdEF1ZGlvOiBmYWxzZSxcbiAgICAgIGdyb3Vwczoge30sXG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvZGVjVGllcnMoXG4gIGxldmVsczogTGV2ZWxbXSxcbiAgYXVkaW9UcmFja3NCeUdyb3VwOiBBdWRpb1RyYWNrc0J5R3JvdXAsXG4gIG1pbkF1dG9MZXZlbDogbnVtYmVyLFxuICBtYXhBdXRvTGV2ZWw6IG51bWJlcixcbik6IFJlY29yZDxzdHJpbmcsIENvZGVjU2V0VGllcj4ge1xuICByZXR1cm4gbGV2ZWxzXG4gICAgLnNsaWNlKG1pbkF1dG9MZXZlbCwgbWF4QXV0b0xldmVsICsgMSlcbiAgICAucmVkdWNlKCh0aWVyczogUmVjb3JkPHN0cmluZywgQ29kZWNTZXRUaWVyPiwgbGV2ZWwpID0+IHtcbiAgICAgIGlmICghbGV2ZWwuY29kZWNTZXQpIHtcbiAgICAgICAgcmV0dXJuIHRpZXJzO1xuICAgICAgfVxuICAgICAgY29uc3QgYXVkaW9Hcm91cHMgPSBsZXZlbC5hdWRpb0dyb3VwcztcbiAgICAgIGxldCB0aWVyID0gdGllcnNbbGV2ZWwuY29kZWNTZXRdO1xuICAgICAgaWYgKCF0aWVyKSB7XG4gICAgICAgIHRpZXJzW2xldmVsLmNvZGVjU2V0XSA9IHRpZXIgPSB7XG4gICAgICAgICAgbWluQml0cmF0ZTogSW5maW5pdHksXG4gICAgICAgICAgbWluSGVpZ2h0OiBJbmZpbml0eSxcbiAgICAgICAgICBtaW5GcmFtZXJhdGU6IEluZmluaXR5LFxuICAgICAgICAgIG1heFNjb3JlOiAwLFxuICAgICAgICAgIHZpZGVvUmFuZ2VzOiB7IFNEUjogMCB9LFxuICAgICAgICAgIGNoYW5uZWxzOiB7ICcyJzogMCB9LFxuICAgICAgICAgIGhhc0RlZmF1bHRBdWRpbzogIWF1ZGlvR3JvdXBzLFxuICAgICAgICAgIGZyYWdtZW50RXJyb3I6IDAsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aWVyLm1pbkJpdHJhdGUgPSBNYXRoLm1pbih0aWVyLm1pbkJpdHJhdGUsIGxldmVsLmJpdHJhdGUpO1xuICAgICAgY29uc3QgbGVzc2VyV2lkdGhPckhlaWdodCA9IE1hdGgubWluKGxldmVsLmhlaWdodCwgbGV2ZWwud2lkdGgpO1xuICAgICAgdGllci5taW5IZWlnaHQgPSBNYXRoLm1pbih0aWVyLm1pbkhlaWdodCwgbGVzc2VyV2lkdGhPckhlaWdodCk7XG4gICAgICB0aWVyLm1pbkZyYW1lcmF0ZSA9IE1hdGgubWluKHRpZXIubWluRnJhbWVyYXRlLCBsZXZlbC5mcmFtZVJhdGUpO1xuICAgICAgdGllci5tYXhTY29yZSA9IE1hdGgubWF4KHRpZXIubWF4U2NvcmUsIGxldmVsLnNjb3JlKTtcbiAgICAgIHRpZXIuZnJhZ21lbnRFcnJvciArPSBsZXZlbC5mcmFnbWVudEVycm9yO1xuICAgICAgdGllci52aWRlb1Jhbmdlc1tsZXZlbC52aWRlb1JhbmdlXSA9XG4gICAgICAgICh0aWVyLnZpZGVvUmFuZ2VzW2xldmVsLnZpZGVvUmFuZ2VdIHx8IDApICsgMTtcbiAgICAgIGlmIChfX1VTRV9BTFRfQVVESU9fXyAmJiBhdWRpb0dyb3Vwcykge1xuICAgICAgICBhdWRpb0dyb3Vwcy5mb3JFYWNoKChhdWRpb0dyb3VwSWQpID0+IHtcbiAgICAgICAgICBpZiAoIWF1ZGlvR3JvdXBJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhdWRpb0dyb3VwID0gYXVkaW9UcmFja3NCeUdyb3VwLmdyb3Vwc1thdWRpb0dyb3VwSWRdO1xuICAgICAgICAgIGlmICghYXVkaW9Hcm91cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEZWZhdWx0IGF1ZGlvIGlzIGFueSBncm91cCB3aXRoIERFRkFVTFQ9WUVTLCBvciBpZiBtaXNzaW5nIHRoZW4gYW55IGdyb3VwIHdpdGggQVVUT1NFTEVDVD1ZRVMsIG9yIGFsbCB2YXJpYW50c1xuICAgICAgICAgIHRpZXIuaGFzRGVmYXVsdEF1ZGlvID1cbiAgICAgICAgICAgIHRpZXIuaGFzRGVmYXVsdEF1ZGlvIHx8IGF1ZGlvVHJhY2tzQnlHcm91cC5oYXNEZWZhdWx0QXVkaW9cbiAgICAgICAgICAgICAgPyBhdWRpb0dyb3VwLmhhc0RlZmF1bHRcbiAgICAgICAgICAgICAgOiBhdWRpb0dyb3VwLmhhc0F1dG9TZWxlY3QgfHxcbiAgICAgICAgICAgICAgICAoIWF1ZGlvVHJhY2tzQnlHcm91cC5oYXNEZWZhdWx0QXVkaW8gJiZcbiAgICAgICAgICAgICAgICAgICFhdWRpb1RyYWNrc0J5R3JvdXAuaGFzQXV0b1NlbGVjdEF1ZGlvKTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhhdWRpb0dyb3VwLmNoYW5uZWxzKS5mb3JFYWNoKChjaGFubmVscykgPT4ge1xuICAgICAgICAgICAgdGllci5jaGFubmVsc1tjaGFubmVsc10gPVxuICAgICAgICAgICAgICAodGllci5jaGFubmVsc1tjaGFubmVsc10gfHwgMCkgKyBhdWRpb0dyb3VwLmNoYW5uZWxzW2NoYW5uZWxzXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGllcnM7XG4gICAgfSwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZE1hdGNoaW5nT3B0aW9uKFxuICBvcHRpb246IE1lZGlhUGxheWxpc3QgfCBBdWRpb1NlbGVjdGlvbk9wdGlvbiB8IFN1YnRpdGxlU2VsZWN0aW9uT3B0aW9uLFxuICB0cmFja3M6IE1lZGlhUGxheWxpc3RbXSxcbiAgbWF0Y2hQcmVkaWNhdGU/OiAoXG4gICAgb3B0aW9uOiBNZWRpYVBsYXlsaXN0IHwgQXVkaW9TZWxlY3Rpb25PcHRpb24gfCBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbixcbiAgICB0cmFjazogTWVkaWFQbGF5bGlzdCxcbiAgKSA9PiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgaWYgKCdhdHRycycgaW4gb3B0aW9uKSB7XG4gICAgY29uc3QgaW5kZXggPSB0cmFja3MuaW5kZXhPZihvcHRpb24pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICBpZiAobWF0Y2hlc09wdGlvbihvcHRpb24sIHRyYWNrLCBtYXRjaFByZWRpY2F0ZSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVzT3B0aW9uKFxuICBvcHRpb246IE1lZGlhUGxheWxpc3QgfCBBdWRpb1NlbGVjdGlvbk9wdGlvbiB8IFN1YnRpdGxlU2VsZWN0aW9uT3B0aW9uLFxuICB0cmFjazogTWVkaWFQbGF5bGlzdCxcbiAgbWF0Y2hQcmVkaWNhdGU/OiAoXG4gICAgb3B0aW9uOiBNZWRpYVBsYXlsaXN0IHwgQXVkaW9TZWxlY3Rpb25PcHRpb24gfCBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbixcbiAgICB0cmFjazogTWVkaWFQbGF5bGlzdCxcbiAgKSA9PiBib29sZWFuLFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHtcbiAgICBncm91cElkLFxuICAgIG5hbWUsXG4gICAgbGFuZyxcbiAgICBhc3NvY0xhbmcsXG4gICAgY2hhcmFjdGVyaXN0aWNzLFxuICAgIGRlZmF1bHQ6IGlzRGVmYXVsdCxcbiAgfSA9IG9wdGlvbjtcbiAgY29uc3QgZm9yY2VkID0gKG9wdGlvbiBhcyBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbikuZm9yY2VkO1xuICByZXR1cm4gKFxuICAgIChncm91cElkID09PSB1bmRlZmluZWQgfHwgdHJhY2suZ3JvdXBJZCA9PT0gZ3JvdXBJZCkgJiZcbiAgICAobmFtZSA9PT0gdW5kZWZpbmVkIHx8IHRyYWNrLm5hbWUgPT09IG5hbWUpICYmXG4gICAgKGxhbmcgPT09IHVuZGVmaW5lZCB8fCB0cmFjay5sYW5nID09PSBsYW5nKSAmJlxuICAgIChsYW5nID09PSB1bmRlZmluZWQgfHwgdHJhY2suYXNzb2NMYW5nID09PSBhc3NvY0xhbmcpICYmXG4gICAgKGlzRGVmYXVsdCA9PT0gdW5kZWZpbmVkIHx8IHRyYWNrLmRlZmF1bHQgPT09IGlzRGVmYXVsdCkgJiZcbiAgICAoZm9yY2VkID09PSB1bmRlZmluZWQgfHwgdHJhY2suZm9yY2VkID09PSBmb3JjZWQpICYmXG4gICAgKGNoYXJhY3RlcmlzdGljcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBjaGFyYWN0ZXJpc3RpY3NNYXRjaChjaGFyYWN0ZXJpc3RpY3MsIHRyYWNrLmNoYXJhY3RlcmlzdGljcykpICYmXG4gICAgKG1hdGNoUHJlZGljYXRlID09PSB1bmRlZmluZWQgfHwgbWF0Y2hQcmVkaWNhdGUob3B0aW9uLCB0cmFjaykpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNoYXJhY3RlcmlzdGljc01hdGNoKFxuICBjaGFyYWN0ZXJpc3RpY3NBOiBzdHJpbmcsXG4gIGNoYXJhY3RlcmlzdGljc0I6IHN0cmluZyA9ICcnLFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGFyckEgPSBjaGFyYWN0ZXJpc3RpY3NBLnNwbGl0KCcsJyk7XG4gIGNvbnN0IGFyckIgPSBjaGFyYWN0ZXJpc3RpY3NCLnNwbGl0KCcsJyk7XG4gIC8vIEV4cGVjdHMgZWFjaCBpdGVtIHRvIGJlIHVuaXF1ZTpcbiAgcmV0dXJuIChcbiAgICBhcnJBLmxlbmd0aCA9PT0gYXJyQi5sZW5ndGggJiYgIWFyckEuc29tZSgoZWwpID0+IGFyckIuaW5kZXhPZihlbCkgPT09IC0xKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXVkaW9NYXRjaFByZWRpY2F0ZShcbiAgb3B0aW9uOiBNZWRpYVBsYXlsaXN0IHwgQXVkaW9TZWxlY3Rpb25PcHRpb24sXG4gIHRyYWNrOiBNZWRpYVBsYXlsaXN0LFxuKSB7XG4gIGNvbnN0IHsgYXVkaW9Db2RlYywgY2hhbm5lbHMgfSA9IG9wdGlvbjtcbiAgcmV0dXJuIChcbiAgICAoYXVkaW9Db2RlYyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAodHJhY2suYXVkaW9Db2RlYyB8fCAnJykuc3Vic3RyaW5nKDAsIDQpID09PVxuICAgICAgICBhdWRpb0NvZGVjLnN1YnN0cmluZygwLCA0KSkgJiZcbiAgICAoY2hhbm5lbHMgPT09IHVuZGVmaW5lZCB8fCBjaGFubmVscyA9PT0gKHRyYWNrLmNoYW5uZWxzIHx8ICcyJykpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQ2xvc2VzdExldmVsV2l0aEF1ZGlvR3JvdXAoXG4gIG9wdGlvbjogTWVkaWFQbGF5bGlzdCB8IEF1ZGlvU2VsZWN0aW9uT3B0aW9uLFxuICBsZXZlbHM6IExldmVsW10sXG4gIGFsbEF1ZGlvVHJhY2tzOiBNZWRpYVBsYXlsaXN0W10sXG4gIHNlYXJjaEluZGV4OiBudW1iZXIsXG4gIG1hdGNoUHJlZGljYXRlOiAoXG4gICAgb3B0aW9uOiBNZWRpYVBsYXlsaXN0IHwgQXVkaW9TZWxlY3Rpb25PcHRpb24sXG4gICAgdHJhY2s6IE1lZGlhUGxheWxpc3QsXG4gICkgPT4gYm9vbGVhbixcbik6IG51bWJlciB7XG4gIGNvbnN0IGN1cnJlbnRMZXZlbCA9IGxldmVsc1tzZWFyY2hJbmRleF07XG4gIC8vIEFyZSB0aGVyZSB2YXJpYW50cyB3aXRoIHNhbWUgVVJJIGFzIGN1cnJlbnQgbGV2ZWw/XG4gIC8vIElmIHNvLCBmaW5kIGEgbWF0Y2ggdGhhdCBkb2VzIG5vdCByZXF1aXJlIGFueSBsZXZlbCBVUkkgY2hhbmdlXG4gIGNvbnN0IHZhcmlhbnRzID0gbGV2ZWxzLnJlZHVjZShcbiAgICAodmFyaWFudE1hcDogeyBbdXJpOiBzdHJpbmddOiBudW1iZXJbXSB9LCBsZXZlbCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHVyaSA9IGxldmVsLnVyaTtcbiAgICAgIGNvbnN0IHJlbmRpdGlvbnMgPSB2YXJpYW50TWFwW3VyaV0gfHwgKHZhcmlhbnRNYXBbdXJpXSA9IFtdKTtcbiAgICAgIHJlbmRpdGlvbnMucHVzaChpbmRleCk7XG4gICAgICByZXR1cm4gdmFyaWFudE1hcDtcbiAgICB9LFxuICAgIHt9LFxuICApO1xuICBjb25zdCByZW5kaXRpb25zID0gdmFyaWFudHNbY3VycmVudExldmVsLnVyaV07XG4gIGlmIChyZW5kaXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBzZWFyY2hJbmRleCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHJlbmRpdGlvbnMpO1xuICB9XG4gIC8vIEZpbmQgYmVzdCBtYXRjaFxuICBjb25zdCBjdXJyZW50VmlkZW9SYW5nZSA9IGN1cnJlbnRMZXZlbC52aWRlb1JhbmdlO1xuICBjb25zdCBjdXJyZW50RnJhbWVSYXRlID0gY3VycmVudExldmVsLmZyYW1lUmF0ZTtcbiAgY29uc3QgY3VycmVudFZpZGVvQ29kZWMgPSBjdXJyZW50TGV2ZWwuY29kZWNTZXQuc3Vic3RyaW5nKDAsIDQpO1xuICBjb25zdCBtYXRjaGluZ1ZpZGVvID0gc2VhcmNoRG93bkFuZFVwTGlzdChcbiAgICBsZXZlbHMsXG4gICAgc2VhcmNoSW5kZXgsXG4gICAgKGxldmVsOiBMZXZlbCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBsZXZlbC52aWRlb1JhbmdlICE9PSBjdXJyZW50VmlkZW9SYW5nZSB8fFxuICAgICAgICBsZXZlbC5mcmFtZVJhdGUgIT09IGN1cnJlbnRGcmFtZVJhdGUgfHxcbiAgICAgICAgbGV2ZWwuY29kZWNTZXQuc3Vic3RyaW5nKDAsIDQpICE9PSBjdXJyZW50VmlkZW9Db2RlY1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGF1ZGlvR3JvdXBzID0gbGV2ZWwuYXVkaW9Hcm91cHM7XG4gICAgICBjb25zdCB0cmFja3MgPSBhbGxBdWRpb1RyYWNrcy5maWx0ZXIoXG4gICAgICAgICh0cmFjayk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAhYXVkaW9Hcm91cHMgfHwgYXVkaW9Hcm91cHMuaW5kZXhPZih0cmFjay5ncm91cElkKSAhPT0gLTEsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZpbmRNYXRjaGluZ09wdGlvbihvcHRpb24sIHRyYWNrcywgbWF0Y2hQcmVkaWNhdGUpID4gLTE7XG4gICAgfSxcbiAgKTtcbiAgaWYgKG1hdGNoaW5nVmlkZW8gPiAtMSkge1xuICAgIHJldHVybiBtYXRjaGluZ1ZpZGVvO1xuICB9XG4gIHJldHVybiBzZWFyY2hEb3duQW5kVXBMaXN0KGxldmVscywgc2VhcmNoSW5kZXgsIChsZXZlbDogTGV2ZWwpID0+IHtcbiAgICBjb25zdCBhdWRpb0dyb3VwcyA9IGxldmVsLmF1ZGlvR3JvdXBzO1xuICAgIGNvbnN0IHRyYWNrcyA9IGFsbEF1ZGlvVHJhY2tzLmZpbHRlcihcbiAgICAgICh0cmFjayk6IGJvb2xlYW4gPT5cbiAgICAgICAgIWF1ZGlvR3JvdXBzIHx8IGF1ZGlvR3JvdXBzLmluZGV4T2YodHJhY2suZ3JvdXBJZCkgIT09IC0xLFxuICAgICk7XG4gICAgcmV0dXJuIGZpbmRNYXRjaGluZ09wdGlvbihvcHRpb24sIHRyYWNrcywgbWF0Y2hQcmVkaWNhdGUpID4gLTE7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZWFyY2hEb3duQW5kVXBMaXN0KFxuICBhcnI6IGFueVtdLFxuICBzZWFyY2hJbmRleDogbnVtYmVyLFxuICBwcmVkaWNhdGU6IChpdGVtOiBhbnkpID0+IGJvb2xlYW4sXG4pOiBudW1iZXIge1xuICBmb3IgKGxldCBpID0gc2VhcmNoSW5kZXg7IGk7IGktLSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSBzZWFyY2hJbmRleCArIDE7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJlZGljYXRlKGFycltpXSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG4iLCAiaW1wb3J0IEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IgZnJvbSAnLi4vdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7XG4gIFNVUFBPUlRFRF9JTkZPX0RFRkFVTFQsXG4gIGdldE1lZGlhRGVjb2RpbmdJbmZvUHJvbWlzZSxcbiAgcmVxdWlyZXNNZWRpYUNhcGFiaWxpdGllc0RlY29kaW5nSW5mbyxcbn0gZnJvbSAnLi4vdXRpbHMvbWVkaWFjYXBhYmlsaXRpZXMtaGVscGVyJztcbmltcG9ydCB7XG4gIGdldEF1ZGlvVHJhY2tzQnlHcm91cCxcbiAgZ2V0Q29kZWNUaWVycyxcbiAgZ2V0U3RhcnRDb2RlY1RpZXIsXG4gIHR5cGUgQXVkaW9UcmFja3NCeUdyb3VwLFxuICB0eXBlIENvZGVjU2V0VGllcixcbn0gZnJvbSAnLi4vdXRpbHMvcmVuZGl0aW9uLWhlbHBlcic7XG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgUGFydCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7IExldmVsLCBWaWRlb1JhbmdlIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuaW1wb3J0IHR5cGUgeyBMb2FkZXJTdGF0cyB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHtcbiAgRnJhZ0xvYWRpbmdEYXRhLFxuICBGcmFnTG9hZGVkRGF0YSxcbiAgRnJhZ0J1ZmZlcmVkRGF0YSxcbiAgTGV2ZWxMb2FkZWREYXRhLFxuICBMZXZlbFN3aXRjaGluZ0RhdGEsXG4gIE1hbmlmZXN0TG9hZGluZ0RhdGEsXG4gIEVycm9yRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgQWJyQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5cbmNsYXNzIEFickNvbnRyb2xsZXIgaW1wbGVtZW50cyBBYnJDb21wb25lbnRBUEkge1xuICBwcm90ZWN0ZWQgaGxzOiBIbHM7XG4gIHByaXZhdGUgbGFzdExldmVsTG9hZFNlYzogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0TG9hZGVkRnJhZ0xldmVsOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBmaXJzdFNlbGVjdGlvbjogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX25leHRBdXRvTGV2ZWw6IG51bWJlciA9IC0xO1xuICBwcml2YXRlIG5leHRBdXRvTGV2ZWxLZXk6IHN0cmluZyA9ICcnO1xuICBwcml2YXRlIGF1ZGlvVHJhY2tzQnlHcm91cDogQXVkaW9UcmFja3NCeUdyb3VwIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY29kZWNUaWVyczogUmVjb3JkPHN0cmluZywgQ29kZWNTZXRUaWVyPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHRpbWVyOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBmcmFnQ3VycmVudDogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwYXJ0Q3VycmVudDogUGFydCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGJpdHJhdGVUZXN0RGVsYXk6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIGJ3RXN0aW1hdG9yOiBFd21hQmFuZFdpZHRoRXN0aW1hdG9yO1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzKSB7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgdGhpcy5id0VzdGltYXRvciA9IHRoaXMuaW5pdEVzdGltYXRvcigpO1xuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldEVzdGltYXRvcihhYnJFd21hRGVmYXVsdEVzdGltYXRlPzogbnVtYmVyKSB7XG4gICAgaWYgKGFickV3bWFEZWZhdWx0RXN0aW1hdGUpIHtcbiAgICAgIGxvZ2dlci5sb2coYHNldHRpbmcgaW5pdGlhbCBid2UgdG8gJHthYnJFd21hRGVmYXVsdEVzdGltYXRlfWApO1xuICAgICAgdGhpcy5obHMuY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUgPSBhYnJFd21hRGVmYXVsdEVzdGltYXRlO1xuICAgIH1cbiAgICB0aGlzLmZpcnN0U2VsZWN0aW9uID0gLTE7XG4gICAgdGhpcy5id0VzdGltYXRvciA9IHRoaXMuaW5pdEVzdGltYXRvcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0RXN0aW1hdG9yKCk6IEV3bWFCYW5kV2lkdGhFc3RpbWF0b3Ige1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICByZXR1cm4gbmV3IEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IoXG4gICAgICBjb25maWcuYWJyRXdtYVNsb3dWb0QsXG4gICAgICBjb25maWcuYWJyRXdtYUZhc3RWb0QsXG4gICAgICBjb25maWcuYWJyRXdtYURlZmF1bHRFc3RpbWF0ZSxcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX0xPQURJTkcsIHRoaXMub25GcmFnTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX0xPQURFRCwgdGhpcy5vbkZyYWdMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRlJBR19CVUZGRVJFRCwgdGhpcy5vbkZyYWdCdWZmZXJlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFYX0FVVE9fTEVWRUxfVVBEQVRFRCwgdGhpcy5vbk1heEF1dG9MZXZlbFVwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBpZiAoIWhscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5GUkFHX0xPQURJTkcsIHRoaXMub25GcmFnTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19MT0FERUQsIHRoaXMub25GcmFnTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5GUkFHX0JVRkZFUkVELCB0aGlzLm9uRnJhZ0J1ZmZlcmVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTEVWRUxfTE9BREVELCB0aGlzLm9uTGV2ZWxMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkxFVkVMU19VUERBVEVELCB0aGlzLm9uTGV2ZWxzVXBkYXRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFYX0FVVE9fTEVWRUxfVVBEQVRFRCwgdGhpcy5vbk1heEF1dG9MZXZlbFVwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuaGxzID0gdGhpcy5fYWJhbmRvblJ1bGVzQ2hlY2sgPSBudWxsO1xuICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSB0aGlzLnBhcnRDdXJyZW50ID0gbnVsbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1hbmlmZXN0TG9hZGluZyhcbiAgICBldmVudDogRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsXG4gICAgZGF0YTogTWFuaWZlc3RMb2FkaW5nRGF0YSxcbiAgKSB7XG4gICAgdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gLTE7XG4gICAgdGhpcy5maXJzdFNlbGVjdGlvbiA9IC0xO1xuICAgIHRoaXMubGFzdExldmVsTG9hZFNlYyA9IDA7XG4gICAgdGhpcy5mcmFnQ3VycmVudCA9IHRoaXMucGFydEN1cnJlbnQgPSBudWxsO1xuICAgIHRoaXMub25MZXZlbHNVcGRhdGVkKCk7XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gIH1cblxuICBwcml2YXRlIG9uTGV2ZWxzVXBkYXRlZCgpIHtcbiAgICBpZiAodGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID4gLTEgJiYgdGhpcy5mcmFnQ3VycmVudCkge1xuICAgICAgdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gdGhpcy5mcmFnQ3VycmVudC5sZXZlbDtcbiAgICB9XG4gICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgIHRoaXMub25NYXhBdXRvTGV2ZWxVcGRhdGVkKCk7XG4gICAgdGhpcy5jb2RlY1RpZXJzID0gbnVsbDtcbiAgICB0aGlzLmF1ZGlvVHJhY2tzQnlHcm91cCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIG9uTWF4QXV0b0xldmVsVXBkYXRlZCgpIHtcbiAgICB0aGlzLmZpcnN0U2VsZWN0aW9uID0gLTE7XG4gICAgdGhpcy5uZXh0QXV0b0xldmVsS2V5ID0gJyc7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25GcmFnTG9hZGluZyhldmVudDogRXZlbnRzLkZSQUdfTE9BRElORywgZGF0YTogRnJhZ0xvYWRpbmdEYXRhKSB7XG4gICAgY29uc3QgZnJhZyA9IGRhdGEuZnJhZztcbiAgICBpZiAodGhpcy5pZ25vcmVGcmFnbWVudChmcmFnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWZyYWcuYml0cmF0ZVRlc3QpIHtcbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgdGhpcy5wYXJ0Q3VycmVudCA9IGRhdGEucGFydCA/PyBudWxsO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICB0aGlzLnRpbWVyID0gc2VsZi5zZXRJbnRlcnZhbCh0aGlzLl9hYmFuZG9uUnVsZXNDaGVjaywgMTAwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkxldmVsU3dpdGNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxfU1dJVENISU5HLFxuICAgIGRhdGE6IExldmVsU3dpdGNoaW5nRGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpIHtcbiAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgY2FzZSBFcnJvckRldGFpbHMuQlVGRkVSX0FERF9DT0RFQ19FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1I6XG4gICAgICAgIC8vIFJlc2V0IGxhc3QgbG9hZGVkIGxldmVsIHNvIHRoYXQgYSBuZXcgc2VsZWN0aW9uIGNhbiBiZSBtYWRlIGFmdGVyIGNhbGxpbmcgcmVjb3Zlck1lZGlhRXJyb3JcbiAgICAgICAgdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gLTE7XG4gICAgICAgIHRoaXMuZmlyc3RTZWxlY3Rpb24gPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVDoge1xuICAgICAgICBjb25zdCBmcmFnID0gZGF0YS5mcmFnO1xuICAgICAgICBjb25zdCB7IGZyYWdDdXJyZW50LCBwYXJ0Q3VycmVudDogcGFydCB9ID0gdGhpcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZyYWcgJiZcbiAgICAgICAgICBmcmFnQ3VycmVudCAmJlxuICAgICAgICAgIGZyYWcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgZnJhZy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgY29uc3Qgc3RhdHM6IExvYWRlclN0YXRzID0gcGFydCA/IHBhcnQuc3RhdHMgOiBmcmFnLnN0YXRzO1xuICAgICAgICAgIGNvbnN0IHRpbWVMb2FkaW5nID0gbm93IC0gc3RhdHMubG9hZGluZy5zdGFydDtcbiAgICAgICAgICBjb25zdCB0dGZiID0gc3RhdHMubG9hZGluZy5maXJzdFxuICAgICAgICAgICAgPyBzdGF0cy5sb2FkaW5nLmZpcnN0IC0gc3RhdHMubG9hZGluZy5zdGFydFxuICAgICAgICAgICAgOiAtMTtcbiAgICAgICAgICBjb25zdCBsb2FkZWRGaXJzdEJ5dGUgPSBzdGF0cy5sb2FkZWQgJiYgdHRmYiA+IC0xO1xuICAgICAgICAgIGlmIChsb2FkZWRGaXJzdEJ5dGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHR0ZmJFc3RpbWF0ZSA9IHRoaXMuYndFc3RpbWF0b3IuZ2V0RXN0aW1hdGVUVEZCKCk7XG4gICAgICAgICAgICB0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZShcbiAgICAgICAgICAgICAgdGltZUxvYWRpbmcgLSBNYXRoLm1pbih0dGZiRXN0aW1hdGUsIHR0ZmIpLFxuICAgICAgICAgICAgICBzdGF0cy5sb2FkZWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZVRURkIodGltZUxvYWRpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFRpbWVUb0xvYWRGcmFnKFxuICAgIHRpbWVUb0ZpcnN0Qnl0ZVNlYzogbnVtYmVyLFxuICAgIGJhbmR3aWR0aDogbnVtYmVyLFxuICAgIGZyYWdTaXplQml0czogbnVtYmVyLFxuICAgIGlzU3dpdGNoOiBib29sZWFuLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGZyYWdMb2FkU2VjID0gdGltZVRvRmlyc3RCeXRlU2VjICsgZnJhZ1NpemVCaXRzIC8gYmFuZHdpZHRoO1xuICAgIGNvbnN0IHBsYXlsaXN0TG9hZFNlYyA9IGlzU3dpdGNoID8gdGhpcy5sYXN0TGV2ZWxMb2FkU2VjIDogMDtcbiAgICByZXR1cm4gZnJhZ0xvYWRTZWMgKyBwbGF5bGlzdExvYWRTZWM7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25MZXZlbExvYWRlZChldmVudDogRXZlbnRzLkxFVkVMX0xPQURFRCwgZGF0YTogTGV2ZWxMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIGNvbnN0IHsgbG9hZGluZyB9ID0gZGF0YS5zdGF0cztcbiAgICBjb25zdCB0aW1lTG9hZGluZ01zID0gbG9hZGluZy5lbmQgLSBsb2FkaW5nLnN0YXJ0O1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodGltZUxvYWRpbmdNcykpIHtcbiAgICAgIHRoaXMubGFzdExldmVsTG9hZFNlYyA9IHRpbWVMb2FkaW5nTXMgLyAxMDAwO1xuICAgIH1cbiAgICBpZiAoZGF0YS5kZXRhaWxzLmxpdmUpIHtcbiAgICAgIHRoaXMuYndFc3RpbWF0b3IudXBkYXRlKGNvbmZpZy5hYnJFd21hU2xvd0xpdmUsIGNvbmZpZy5hYnJFd21hRmFzdExpdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ3RXN0aW1hdG9yLnVwZGF0ZShjb25maWcuYWJyRXdtYVNsb3dWb0QsIGNvbmZpZy5hYnJFd21hRmFzdFZvRCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICAgIFRoaXMgbWV0aG9kIG1vbml0b3JzIHRoZSBkb3dubG9hZCByYXRlIG9mIHRoZSBjdXJyZW50IGZyYWdtZW50LCBhbmQgd2lsbCBkb3duc3dpdGNoIGlmIHRoYXQgZnJhZ21lbnQgd2lsbCBub3QgbG9hZFxuICAgICAgcXVpY2tseSBlbm91Z2ggdG8gcHJldmVudCB1bmRlcmJ1ZmZlcmluZ1xuICAgICovXG4gIHByaXZhdGUgX2FiYW5kb25SdWxlc0NoZWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZnJhZ0N1cnJlbnQ6IGZyYWcsIHBhcnRDdXJyZW50OiBwYXJ0LCBobHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBhdXRvTGV2ZWxFbmFibGVkLCBtZWRpYSB9ID0gaGxzO1xuICAgIGlmICghZnJhZyB8fCAhbWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBzdGF0czogTG9hZGVyU3RhdHMgPSBwYXJ0ID8gcGFydC5zdGF0cyA6IGZyYWcuc3RhdHM7XG4gICAgY29uc3QgZHVyYXRpb24gPSBwYXJ0ID8gcGFydC5kdXJhdGlvbiA6IGZyYWcuZHVyYXRpb247XG4gICAgY29uc3QgdGltZUxvYWRpbmcgPSBub3cgLSBzdGF0cy5sb2FkaW5nLnN0YXJ0O1xuICAgIGNvbnN0IG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG4gICAgLy8gSWYgZnJhZyBsb2FkaW5nIGlzIGFib3J0ZWQsIGNvbXBsZXRlLCBvciBmcm9tIGxvd2VzdCBsZXZlbCwgc3RvcCB0aW1lciBhbmQgcmV0dXJuXG4gICAgaWYgKFxuICAgICAgc3RhdHMuYWJvcnRlZCB8fFxuICAgICAgKHN0YXRzLmxvYWRlZCAmJiBzdGF0cy5sb2FkZWQgPT09IHN0YXRzLnRvdGFsKSB8fFxuICAgICAgZnJhZy5sZXZlbCA8PSBtaW5BdXRvTGV2ZWxcbiAgICApIHtcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgLy8gcmVzZXQgZm9yY2VkIGF1dG8gbGV2ZWwgdmFsdWUgc28gdGhhdCBuZXh0IGxldmVsIHdpbGwgYmUgc2VsZWN0ZWRcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGNoZWNrIG9ubHkgcnVucyBpZiB3ZSdyZSBpbiBBQlIgbW9kZSBhbmQgYWN0dWFsbHkgcGxheWluZ1xuICAgIGlmIChcbiAgICAgICFhdXRvTGV2ZWxFbmFibGVkIHx8XG4gICAgICBtZWRpYS5wYXVzZWQgfHxcbiAgICAgICFtZWRpYS5wbGF5YmFja1JhdGUgfHxcbiAgICAgICFtZWRpYS5yZWFkeVN0YXRlXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVySW5mbyA9IGhscy5tYWluRm9yd2FyZEJ1ZmZlckluZm87XG4gICAgaWYgKGJ1ZmZlckluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0dGZiRXN0aW1hdGUgPSB0aGlzLmJ3RXN0aW1hdG9yLmdldEVzdGltYXRlVFRGQigpO1xuICAgIGNvbnN0IHBsYXliYWNrUmF0ZSA9IE1hdGguYWJzKG1lZGlhLnBsYXliYWNrUmF0ZSk7XG4gICAgLy8gVG8gbWFpbnRhaW4gc3RhYmxlIGFkYXB0aXZlIHBsYXliYWNrLCBvbmx5IGJlZ2luIG1vbml0b3JpbmcgZnJhZyBsb2FkaW5nIGFmdGVyIGhhbGYgb3IgbW9yZSBvZiBpdHMgcGxheWJhY2sgZHVyYXRpb24gaGFzIHBhc3NlZFxuICAgIGlmIChcbiAgICAgIHRpbWVMb2FkaW5nIDw9XG4gICAgICBNYXRoLm1heCh0dGZiRXN0aW1hdGUsIDEwMDAgKiAoZHVyYXRpb24gLyAocGxheWJhY2tSYXRlICogMikpKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSBpcyBhbiBlc3RpbWF0ZSBvZiB0aGUgYW1vdW50IHRpbWUgKGluIHNlY29uZHMpIGl0IHdpbGwgdGFrZSB0byBleGhhdXN0IHRoZSBidWZmZXJcbiAgICBjb25zdCBidWZmZXJTdGFydmF0aW9uRGVsYXkgPSBidWZmZXJJbmZvLmxlbiAvIHBsYXliYWNrUmF0ZTtcbiAgICBjb25zdCB0dGZiID0gc3RhdHMubG9hZGluZy5maXJzdFxuICAgICAgPyBzdGF0cy5sb2FkaW5nLmZpcnN0IC0gc3RhdHMubG9hZGluZy5zdGFydFxuICAgICAgOiAtMTtcbiAgICBjb25zdCBsb2FkZWRGaXJzdEJ5dGUgPSBzdGF0cy5sb2FkZWQgJiYgdHRmYiA+IC0xO1xuICAgIGNvbnN0IGJ3RXN0aW1hdGU6IG51bWJlciA9IHRoaXMuZ2V0QndFc3RpbWF0ZSgpO1xuICAgIGNvbnN0IGxldmVscyA9IGhscy5sZXZlbHM7XG4gICAgY29uc3QgbGV2ZWwgPSBsZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgY29uc3QgZXhwZWN0ZWRMZW4gPVxuICAgICAgc3RhdHMudG90YWwgfHxcbiAgICAgIE1hdGgubWF4KHN0YXRzLmxvYWRlZCwgTWF0aC5yb3VuZCgoZHVyYXRpb24gKiBsZXZlbC5hdmVyYWdlQml0cmF0ZSkgLyA4KSk7XG4gICAgbGV0IHRpbWVTdHJlYW1pbmcgPSBsb2FkZWRGaXJzdEJ5dGUgPyB0aW1lTG9hZGluZyAtIHR0ZmIgOiB0aW1lTG9hZGluZztcbiAgICBpZiAodGltZVN0cmVhbWluZyA8IDEgJiYgbG9hZGVkRmlyc3RCeXRlKSB7XG4gICAgICB0aW1lU3RyZWFtaW5nID0gTWF0aC5taW4odGltZUxvYWRpbmcsIChzdGF0cy5sb2FkZWQgKiA4KSAvIGJ3RXN0aW1hdGUpO1xuICAgIH1cbiAgICBjb25zdCBsb2FkUmF0ZSA9IGxvYWRlZEZpcnN0Qnl0ZVxuICAgICAgPyAoc3RhdHMubG9hZGVkICogMTAwMCkgLyB0aW1lU3RyZWFtaW5nXG4gICAgICA6IDA7XG4gICAgLy8gZnJhZ0xvYWREZWxheSBpcyBhbiBlc3RpbWF0ZSBvZiB0aGUgdGltZSAoaW4gc2Vjb25kcykgaXQgd2lsbCB0YWtlIHRvIGJ1ZmZlciB0aGUgcmVtYWluZGVyIG9mIHRoZSBmcmFnbWVudFxuICAgIGNvbnN0IGZyYWdMb2FkZWREZWxheSA9IGxvYWRSYXRlXG4gICAgICA/IChleHBlY3RlZExlbiAtIHN0YXRzLmxvYWRlZCkgLyBsb2FkUmF0ZVxuICAgICAgOiAoZXhwZWN0ZWRMZW4gKiA4KSAvIGJ3RXN0aW1hdGUgKyB0dGZiRXN0aW1hdGUgLyAxMDAwO1xuICAgIC8vIE9ubHkgZG93bnN3aXRjaCBpZiB0aGUgdGltZSB0byBmaW5pc2ggbG9hZGluZyB0aGUgY3VycmVudCBmcmFnbWVudCBpcyBncmVhdGVyIHRoYW4gdGhlIGFtb3VudCBvZiBidWZmZXIgbGVmdFxuICAgIGlmIChmcmFnTG9hZGVkRGVsYXkgPD0gYnVmZmVyU3RhcnZhdGlvbkRlbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYndlID0gbG9hZFJhdGUgPyBsb2FkUmF0ZSAqIDggOiBid0VzdGltYXRlO1xuICAgIGxldCBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXk6IG51bWJlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBsZXQgbmV4dExvYWRMZXZlbDogbnVtYmVyO1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBsb3dlciBsZXZlbCBhbmQgdHJ5IHRvIGZpbmQgdGhlIGxhcmdlc3Qgb25lIHRoYXQgYXZvaWRzIHJlYnVmZmVyaW5nXG4gICAgZm9yIChcbiAgICAgIG5leHRMb2FkTGV2ZWwgPSBmcmFnLmxldmVsIC0gMTtcbiAgICAgIG5leHRMb2FkTGV2ZWwgPiBtaW5BdXRvTGV2ZWw7XG4gICAgICBuZXh0TG9hZExldmVsLS1cbiAgICApIHtcbiAgICAgIC8vIGNvbXB1dGUgdGltZSB0byBsb2FkIG5leHQgZnJhZ21lbnQgYXQgbG93ZXIgbGV2ZWxcbiAgICAgIC8vIDggPSBiaXRzIHBlciBieXRlIChicHMvQnBzKVxuICAgICAgY29uc3QgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tuZXh0TG9hZExldmVsXS5tYXhCaXRyYXRlO1xuICAgICAgZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5ID0gdGhpcy5nZXRUaW1lVG9Mb2FkRnJhZyhcbiAgICAgICAgdHRmYkVzdGltYXRlIC8gMTAwMCxcbiAgICAgICAgYndlLFxuICAgICAgICBkdXJhdGlvbiAqIGxldmVsTmV4dEJpdHJhdGUsXG4gICAgICAgICFsZXZlbHNbbmV4dExvYWRMZXZlbF0uZGV0YWlscyxcbiAgICAgICk7XG4gICAgICBpZiAoZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5IDwgYnVmZmVyU3RhcnZhdGlvbkRlbGF5KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPbmx5IGVtZXJnZW5jeSBzd2l0Y2ggZG93biBpZiBpdCB0YWtlcyBsZXNzIHRpbWUgdG8gbG9hZCBhIG5ldyBmcmFnbWVudCBhdCBsb3dlc3QgbGV2ZWwgaW5zdGVhZCBvZiBjb250aW51aW5nXG4gICAgLy8gdG8gbG9hZCB0aGUgY3VycmVudCBvbmVcbiAgICBpZiAoZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5ID49IGZyYWdMb2FkZWREZWxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIGVzdGltYXRlZCBsb2FkIHRpbWUgb2YgbmV3IHNlZ21lbnQgaXMgY29tcGxldGVseSB1bnJlYXNvbmFibGUsIGlnbm9yZSBhbmQgZG8gbm90IGVtZXJnZW5jeSBzd2l0Y2ggZG93blxuICAgIGlmIChmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPiBkdXJhdGlvbiAqIDEwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhscy5uZXh0TG9hZExldmVsID0gaGxzLm5leHRBdXRvTGV2ZWwgPSBuZXh0TG9hZExldmVsO1xuICAgIGlmIChsb2FkZWRGaXJzdEJ5dGUpIHtcbiAgICAgIC8vIElmIHRoZXJlIGhhcyBiZWVuIGxvYWRpbmcgcHJvZ3Jlc3MsIHNhbXBsZSBiYW5kd2lkdGggdXNpbmcgbG9hZGluZyB0aW1lIG9mZnNldCBieSBtaW5pbXVtIFRURkIgdGltZVxuICAgICAgdGhpcy5id0VzdGltYXRvci5zYW1wbGUoXG4gICAgICAgIHRpbWVMb2FkaW5nIC0gTWF0aC5taW4odHRmYkVzdGltYXRlLCB0dGZiKSxcbiAgICAgICAgc3RhdHMubG9hZGVkLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlcmUgaGFzIGJlZW4gbm8gbG9hZGluZyBwcm9ncmVzcywgc2FtcGxlIFRURkJcbiAgICAgIHRoaXMuYndFc3RpbWF0b3Iuc2FtcGxlVFRGQih0aW1lTG9hZGluZyk7XG4gICAgfVxuICAgIGNvbnN0IG5leHRMb2FkTGV2ZWxCaXRyYXRlID0gbGV2ZWxzW25leHRMb2FkTGV2ZWxdLm1heEJpdHJhdGU7XG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRCd0VzdGltYXRlKCkgKiB0aGlzLmhscy5jb25maWcuYWJyQmFuZFdpZHRoVXBGYWN0b3IgPlxuICAgICAgbmV4dExvYWRMZXZlbEJpdHJhdGVcbiAgICApIHtcbiAgICAgIHRoaXMucmVzZXRFc3RpbWF0b3IobmV4dExvYWRMZXZlbEJpdHJhdGUpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIGxvZ2dlci53YXJuKGBbYWJyXSBGcmFnbWVudCAke2ZyYWcuc259JHtcbiAgICAgIHBhcnQgPyAnIHBhcnQgJyArIHBhcnQuaW5kZXggOiAnJ1xuICAgIH0gb2YgbGV2ZWwgJHtmcmFnLmxldmVsfSBpcyBsb2FkaW5nIHRvbyBzbG93bHk7XG4gICAgICBUaW1lIHRvIHVuZGVyYnVmZmVyOiAke2J1ZmZlclN0YXJ2YXRpb25EZWxheS50b0ZpeGVkKDMpfSBzXG4gICAgICBFc3RpbWF0ZWQgbG9hZCB0aW1lIGZvciBjdXJyZW50IGZyYWdtZW50OiAke2ZyYWdMb2FkZWREZWxheS50b0ZpeGVkKDMpfSBzXG4gICAgICBFc3RpbWF0ZWQgbG9hZCB0aW1lIGZvciBkb3duIHN3aXRjaCBmcmFnbWVudDogJHtmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkudG9GaXhlZChcbiAgICAgICAgMyxcbiAgICAgICl9IHNcbiAgICAgIFRURkIgZXN0aW1hdGU6ICR7dHRmYiB8IDB9IG1zXG4gICAgICBDdXJyZW50IEJXIGVzdGltYXRlOiAke1xuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoYndFc3RpbWF0ZSkgPyBid0VzdGltYXRlIHwgMCA6ICdVbmtub3duJ1xuICAgICAgfSBicHNcbiAgICAgIE5ldyBCVyBlc3RpbWF0ZTogJHt0aGlzLmdldEJ3RXN0aW1hdGUoKSB8IDB9IGJwc1xuICAgICAgU3dpdGNoaW5nIHRvIGxldmVsICR7bmV4dExvYWRMZXZlbH0gQCAke25leHRMb2FkTGV2ZWxCaXRyYXRlIHwgMH0gYnBzYCk7XG4gICAgaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgeyBmcmFnLCBwYXJ0LCBzdGF0cyB9KTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgb25GcmFnTG9hZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuRlJBR19MT0FERUQsXG4gICAgeyBmcmFnLCBwYXJ0IH06IEZyYWdMb2FkZWREYXRhLFxuICApIHtcbiAgICBjb25zdCBzdGF0cyA9IHBhcnQgPyBwYXJ0LnN0YXRzIDogZnJhZy5zdGF0cztcbiAgICBpZiAoZnJhZy50eXBlID09PSBQbGF5bGlzdExldmVsVHlwZS5NQUlOKSB7XG4gICAgICB0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZVRURkIoc3RhdHMubG9hZGluZy5maXJzdCAtIHN0YXRzLmxvYWRpbmcuc3RhcnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZ25vcmVGcmFnbWVudChmcmFnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBzdG9wIG1vbml0b3JpbmcgYncgb25jZSBmcmFnIGxvYWRlZFxuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIC8vIHJlc2V0IGZvcmNlZCBhdXRvIGxldmVsIHZhbHVlIHNvIHRoYXQgbmV4dCBsZXZlbCB3aWxsIGJlIHNlbGVjdGVkXG4gICAgaWYgKGZyYWcubGV2ZWwgPT09IHRoaXMuX25leHRBdXRvTGV2ZWwpIHtcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICB9XG4gICAgdGhpcy5maXJzdFNlbGVjdGlvbiA9IC0xO1xuXG4gICAgLy8gY29tcHV0ZSBsZXZlbCBhdmVyYWdlIGJpdHJhdGVcbiAgICBpZiAodGhpcy5obHMuY29uZmlnLmFick1heFdpdGhSZWFsQml0cmF0ZSkge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBwYXJ0ID8gcGFydC5kdXJhdGlvbiA6IGZyYWcuZHVyYXRpb247XG4gICAgICBjb25zdCBsZXZlbCA9IHRoaXMuaGxzLmxldmVsc1tmcmFnLmxldmVsXTtcbiAgICAgIGNvbnN0IGxvYWRlZEJ5dGVzID1cbiAgICAgICAgKGxldmVsLmxvYWRlZCA/IGxldmVsLmxvYWRlZC5ieXRlcyA6IDApICsgc3RhdHMubG9hZGVkO1xuICAgICAgY29uc3QgbG9hZGVkRHVyYXRpb24gPVxuICAgICAgICAobGV2ZWwubG9hZGVkID8gbGV2ZWwubG9hZGVkLmR1cmF0aW9uIDogMCkgKyBkdXJhdGlvbjtcbiAgICAgIGxldmVsLmxvYWRlZCA9IHsgYnl0ZXM6IGxvYWRlZEJ5dGVzLCBkdXJhdGlvbjogbG9hZGVkRHVyYXRpb24gfTtcbiAgICAgIGxldmVsLnJlYWxCaXRyYXRlID0gTWF0aC5yb3VuZCgoOCAqIGxvYWRlZEJ5dGVzKSAvIGxvYWRlZER1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGZyYWcuYml0cmF0ZVRlc3QpIHtcbiAgICAgIGNvbnN0IGZyYWdCdWZmZXJlZERhdGE6IEZyYWdCdWZmZXJlZERhdGEgPSB7XG4gICAgICAgIHN0YXRzLFxuICAgICAgICBmcmFnLFxuICAgICAgICBwYXJ0LFxuICAgICAgICBpZDogZnJhZy50eXBlLFxuICAgICAgfTtcbiAgICAgIHRoaXMub25GcmFnQnVmZmVyZWQoRXZlbnRzLkZSQUdfQlVGRkVSRUQsIGZyYWdCdWZmZXJlZERhdGEpO1xuICAgICAgZnJhZy5iaXRyYXRlVGVzdCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdG9yZSBsZXZlbCBpZCBhZnRlciBzdWNjZXNzZnVsIGZyYWdtZW50IGxvYWQgZm9yIHBsYXliYWNrXG4gICAgICB0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWwgPSBmcmFnLmxldmVsO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkZyYWdCdWZmZXJlZChcbiAgICBldmVudDogRXZlbnRzLkZSQUdfQlVGRkVSRUQsXG4gICAgZGF0YTogRnJhZ0J1ZmZlcmVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBmcmFnLCBwYXJ0IH0gPSBkYXRhO1xuICAgIGNvbnN0IHN0YXRzID0gcGFydD8uc3RhdHMubG9hZGVkID8gcGFydC5zdGF0cyA6IGZyYWcuc3RhdHM7XG5cbiAgICBpZiAoc3RhdHMuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZ25vcmVGcmFnbWVudChmcmFnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBVc2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBwYXJzaW5nIGFuZCByZXF1ZXN0IGluc3RlYWQgb2YgYnVmZmVyaW5nIGFuZCByZXF1ZXN0IHRvIGNvbXB1dGUgZnJhZ0xvYWRpbmdQcm9jZXNzaW5nO1xuICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGJ1ZmZlciBhcHBlbmRpbmcgb25seSBoYXBwZW5zIG9uY2UgbWVkaWEgaXMgYXR0YWNoZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaFxuICAgIC8vIGlzIHVzZWQuIElmIHdlIHVzZWQgYnVmZmVyaW5nIGluIHRoYXQgY2FzZSwgb3VyIEJXIGVzdGltYXRlIHNhbXBsZSB3aWxsIGJlIHZlcnkgbGFyZ2UuXG4gICAgY29uc3QgcHJvY2Vzc2luZ01zID1cbiAgICAgIHN0YXRzLnBhcnNpbmcuZW5kIC1cbiAgICAgIHN0YXRzLmxvYWRpbmcuc3RhcnQgLVxuICAgICAgTWF0aC5taW4oXG4gICAgICAgIHN0YXRzLmxvYWRpbmcuZmlyc3QgLSBzdGF0cy5sb2FkaW5nLnN0YXJ0LFxuICAgICAgICB0aGlzLmJ3RXN0aW1hdG9yLmdldEVzdGltYXRlVFRGQigpLFxuICAgICAgKTtcbiAgICB0aGlzLmJ3RXN0aW1hdG9yLnNhbXBsZShwcm9jZXNzaW5nTXMsIHN0YXRzLmxvYWRlZCk7XG4gICAgc3RhdHMuYndFc3RpbWF0ZSA9IHRoaXMuZ2V0QndFc3RpbWF0ZSgpO1xuICAgIGlmIChmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICB0aGlzLmJpdHJhdGVUZXN0RGVsYXkgPSBwcm9jZXNzaW5nTXMgLyAxMDAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJpdHJhdGVUZXN0RGVsYXkgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaWdub3JlRnJhZ21lbnQoZnJhZzogRnJhZ21lbnQpOiBib29sZWFuIHtcbiAgICAvLyBPbmx5IGNvdW50IG5vbi1hbHQtYXVkaW8gZnJhZ3Mgd2hpY2ggd2VyZSBhY3R1YWxseSBidWZmZXJlZCBpbiBvdXIgQlcgY2FsY3VsYXRpb25zXG4gICAgcmV0dXJuIGZyYWcudHlwZSAhPT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTiB8fCBmcmFnLnNuID09PSAnaW5pdFNlZ21lbnQnO1xuICB9XG5cbiAgcHVibGljIGNsZWFyVGltZXIoKSB7XG4gICAgaWYgKHRoaXMudGltZXIgPiAtMSkge1xuICAgICAgc2VsZi5jbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXQgZmlyc3RBdXRvTGV2ZWwoKTogbnVtYmVyIHtcbiAgICBjb25zdCB7IG1heEF1dG9MZXZlbCwgbWluQXV0b0xldmVsIH0gPSB0aGlzLmhscztcbiAgICBjb25zdCBid0VzdGltYXRlID0gdGhpcy5nZXRCd0VzdGltYXRlKCk7XG4gICAgY29uc3QgbWF4U3RhcnREZWxheSA9IHRoaXMuaGxzLmNvbmZpZy5tYXhTdGFydmF0aW9uRGVsYXk7XG4gICAgY29uc3QgYWJyQXV0b0xldmVsID0gdGhpcy5maW5kQmVzdExldmVsKFxuICAgICAgYndFc3RpbWF0ZSxcbiAgICAgIG1pbkF1dG9MZXZlbCxcbiAgICAgIG1heEF1dG9MZXZlbCxcbiAgICAgIDAsXG4gICAgICBtYXhTdGFydERlbGF5LFxuICAgICAgMSxcbiAgICAgIDEsXG4gICAgKTtcbiAgICBpZiAoYWJyQXV0b0xldmVsID4gLTEpIHtcbiAgICAgIHJldHVybiBhYnJBdXRvTGV2ZWw7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0TGV2ZWwgPSB0aGlzLmhscy5maXJzdExldmVsO1xuICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1pbihNYXRoLm1heChmaXJzdExldmVsLCBtaW5BdXRvTGV2ZWwpLCBtYXhBdXRvTGV2ZWwpO1xuICAgIGxvZ2dlci53YXJuKFxuICAgICAgYFthYnJdIENvdWxkIG5vdCBmaW5kIGJlc3Qgc3RhcnRpbmcgYXV0byBsZXZlbC4gRGVmYXVsdGluZyB0byBmaXJzdCBpbiBwbGF5bGlzdCAke2ZpcnN0TGV2ZWx9IGNsYW1wZWQgdG8gJHtjbGFtcGVkfWAsXG4gICAgKTtcbiAgICByZXR1cm4gY2xhbXBlZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZm9yY2VkQXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubmV4dEF1dG9MZXZlbEtleSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbmV4dEF1dG9MZXZlbDtcbiAgfVxuXG4gIC8vIHJldHVybiBuZXh0IGF1dG8gbGV2ZWxcbiAgcHVibGljIGdldCBuZXh0QXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgY29uc3QgZm9yY2VkQXV0b0xldmVsID0gdGhpcy5mb3JjZWRBdXRvTGV2ZWw7XG4gICAgY29uc3QgYndFc3RpbWF0b3IgPSB0aGlzLmJ3RXN0aW1hdG9yO1xuICAgIGNvbnN0IHVzZUVzdGltYXRlID0gYndFc3RpbWF0b3IuY2FuRXN0aW1hdGUoKTtcbiAgICBjb25zdCBsb2FkZWRGaXJzdEZyYWcgPSB0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWwgPiAtMTtcbiAgICAvLyBpbiBjYXNlIG5leHQgYXV0byBsZXZlbCBoYXMgYmVlbiBmb3JjZWQsIGFuZCBidyBub3QgYXZhaWxhYmxlIG9yIG5vdCByZWxpYWJsZSwgcmV0dXJuIGZvcmNlZCB2YWx1ZVxuICAgIGlmIChcbiAgICAgIGZvcmNlZEF1dG9MZXZlbCAhPT0gLTEgJiZcbiAgICAgICghdXNlRXN0aW1hdGUgfHxcbiAgICAgICAgIWxvYWRlZEZpcnN0RnJhZyB8fFxuICAgICAgICB0aGlzLm5leHRBdXRvTGV2ZWxLZXkgPT09IHRoaXMuZ2V0QXV0b0xldmVsS2V5KCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZm9yY2VkQXV0b0xldmVsO1xuICAgIH1cblxuICAgIC8vIGNvbXB1dGUgbmV4dCBsZXZlbCB1c2luZyBBQlIgbG9naWNcbiAgICBjb25zdCBuZXh0QUJSQXV0b0xldmVsID1cbiAgICAgIHVzZUVzdGltYXRlICYmIGxvYWRlZEZpcnN0RnJhZ1xuICAgICAgICA/IHRoaXMuZ2V0TmV4dEFCUkF1dG9MZXZlbCgpXG4gICAgICAgIDogdGhpcy5maXJzdEF1dG9MZXZlbDtcblxuICAgIC8vIHVzZSBmb3JjZWQgYXV0byBsZXZlbCB3aGlsZSBpdCBoYXNuJ3QgZXJyb3JlZCBtb3JlIHRoYW4gQUJSIHNlbGVjdGlvblxuICAgIGlmIChmb3JjZWRBdXRvTGV2ZWwgIT09IC0xKSB7XG4gICAgICBjb25zdCBsZXZlbHMgPSB0aGlzLmhscy5sZXZlbHM7XG4gICAgICBpZiAoXG4gICAgICAgIGxldmVscy5sZW5ndGggPiBNYXRoLm1heChmb3JjZWRBdXRvTGV2ZWwsIG5leHRBQlJBdXRvTGV2ZWwpICYmXG4gICAgICAgIGxldmVsc1tmb3JjZWRBdXRvTGV2ZWxdLmxvYWRFcnJvciA8PSBsZXZlbHNbbmV4dEFCUkF1dG9MZXZlbF0ubG9hZEVycm9yXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZvcmNlZEF1dG9MZXZlbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzYXZlIHJlc3VsdCB1bnRpbCBzdGF0ZSBoYXMgY2hhbmdlZFxuICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSBuZXh0QUJSQXV0b0xldmVsO1xuICAgIHRoaXMubmV4dEF1dG9MZXZlbEtleSA9IHRoaXMuZ2V0QXV0b0xldmVsS2V5KCk7XG5cbiAgICByZXR1cm4gbmV4dEFCUkF1dG9MZXZlbDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QXV0b0xldmVsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuZ2V0QndFc3RpbWF0ZSgpfV8ke3RoaXMuZ2V0U3RhcnZhdGlvbkRlbGF5KCkudG9GaXhlZCgyKX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXROZXh0QUJSQXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgY29uc3QgeyBmcmFnQ3VycmVudCwgcGFydEN1cnJlbnQsIGhscyB9ID0gdGhpcztcbiAgICBjb25zdCB7IG1heEF1dG9MZXZlbCwgY29uZmlnLCBtaW5BdXRvTGV2ZWwgfSA9IGhscztcbiAgICBjb25zdCBjdXJyZW50RnJhZ0R1cmF0aW9uID0gcGFydEN1cnJlbnRcbiAgICAgID8gcGFydEN1cnJlbnQuZHVyYXRpb25cbiAgICAgIDogZnJhZ0N1cnJlbnRcbiAgICAgICAgPyBmcmFnQ3VycmVudC5kdXJhdGlvblxuICAgICAgICA6IDA7XG4gICAgY29uc3QgYXZnYncgPSB0aGlzLmdldEJ3RXN0aW1hdGUoKTtcbiAgICAvLyBidWZmZXJTdGFydmF0aW9uRGVsYXkgaXMgdGhlIHdhbGwtY2xvY2sgdGltZSBsZWZ0IHVudGlsIHRoZSBwbGF5YmFjayBidWZmZXIgaXMgZXhoYXVzdGVkLlxuICAgIGNvbnN0IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9IHRoaXMuZ2V0U3RhcnZhdGlvbkRlbGF5KCk7XG5cbiAgICBsZXQgYndGYWN0b3IgPSBjb25maWcuYWJyQmFuZFdpZHRoRmFjdG9yO1xuICAgIGxldCBid1VwRmFjdG9yID0gY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yO1xuXG4gICAgLy8gRmlyc3QsIGxvb2sgdG8gc2VlIGlmIHdlIGNhbiBmaW5kIGEgbGV2ZWwgbWF0Y2hpbmcgd2l0aCBvdXIgYXZnIGJhbmR3aWR0aCBBTkQgdGhhdCBjb3VsZCBhbHNvIGd1YXJhbnRlZSBubyByZWJ1ZmZlcmluZyBhdCBhbGxcbiAgICBpZiAoYnVmZmVyU3RhcnZhdGlvbkRlbGF5KSB7XG4gICAgICBjb25zdCBiZXN0TGV2ZWwgPSB0aGlzLmZpbmRCZXN0TGV2ZWwoXG4gICAgICAgIGF2Z2J3LFxuICAgICAgICBtaW5BdXRvTGV2ZWwsXG4gICAgICAgIG1heEF1dG9MZXZlbCxcbiAgICAgICAgYnVmZmVyU3RhcnZhdGlvbkRlbGF5LFxuICAgICAgICAwLFxuICAgICAgICBid0ZhY3RvcixcbiAgICAgICAgYndVcEZhY3RvcixcbiAgICAgICk7XG4gICAgICBpZiAoYmVzdExldmVsID49IDApIHtcbiAgICAgICAgcmV0dXJuIGJlc3RMZXZlbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbm90IHBvc3NpYmxlIHRvIGdldCByaWQgb2YgcmVidWZmZXJpbmcuLi4gdHJ5IHRvIGZpbmQgbGV2ZWwgdGhhdCB3aWxsIGd1YXJhbnRlZSBsZXNzIHRoYW4gbWF4U3RhcnZhdGlvbkRlbGF5IG9mIHJlYnVmZmVyaW5nXG4gICAgbGV0IG1heFN0YXJ2YXRpb25EZWxheSA9IGN1cnJlbnRGcmFnRHVyYXRpb25cbiAgICAgID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheSlcbiAgICAgIDogY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheTtcblxuICAgIGlmICghYnVmZmVyU3RhcnZhdGlvbkRlbGF5KSB7XG4gICAgICAvLyBpbiBjYXNlIGJ1ZmZlciBpcyBlbXB0eSwgbGV0J3MgY2hlY2sgaWYgcHJldmlvdXMgZnJhZ21lbnQgd2FzIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0XG4gICAgICBjb25zdCBiaXRyYXRlVGVzdERlbGF5ID0gdGhpcy5iaXRyYXRlVGVzdERlbGF5O1xuICAgICAgaWYgKGJpdHJhdGVUZXN0RGVsYXkpIHtcbiAgICAgICAgLy8gaWYgaXQgaXMgdGhlIGNhc2UsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb3VyIG1heCBzdGFydmF0aW9uIGRlbGF5IHVzaW5nIG1heExvYWRpbmdEZWxheSBjb25maWcgdmFsdWVcbiAgICAgICAgLy8gbWF4IHZpZGVvIGxvYWRpbmcgZGVsYXkgdXNlZCBpbiAgYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiA6XG4gICAgICAgIC8vIGluIHRoYXQgbW9kZSBBQlIgY29udHJvbGxlciB3aWxsIGVuc3VyZSB0aGF0IHZpZGVvIGxvYWRpbmcgdGltZSAoaWUgdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZpcnN0IGZyYWdtZW50IGF0IGxvd2VzdCBxdWFsaXR5IGxldmVsICtcbiAgICAgICAgLy8gdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZyYWdtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBxdWFsaXR5IGxldmVsIGlzIGxlc3MgdGhhbiBgYGBtYXhMb2FkaW5nRGVsYXlgYGAgKVxuICAgICAgICAvLyBjYXAgbWF4TG9hZGluZ0RlbGF5IGFuZCBlbnN1cmUgaXQgaXMgbm90IGJpZ2dlciAndGhhbiBiaXRyYXRlIHRlc3QnIGZyYWcgZHVyYXRpb25cbiAgICAgICAgY29uc3QgbWF4TG9hZGluZ0RlbGF5ID0gY3VycmVudEZyYWdEdXJhdGlvblxuICAgICAgICAgID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heExvYWRpbmdEZWxheSlcbiAgICAgICAgICA6IGNvbmZpZy5tYXhMb2FkaW5nRGVsYXk7XG4gICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9IG1heExvYWRpbmdEZWxheSAtIGJpdHJhdGVUZXN0RGVsYXk7XG4gICAgICAgIGxvZ2dlci5pbmZvKFxuICAgICAgICAgIGBbYWJyXSBiaXRyYXRlIHRlc3QgdG9vayAke01hdGgucm91bmQoXG4gICAgICAgICAgICAxMDAwICogYml0cmF0ZVRlc3REZWxheSxcbiAgICAgICAgICApfW1zLCBzZXQgZmlyc3QgZnJhZ21lbnQgbWF4IGZldGNoRHVyYXRpb24gdG8gJHtNYXRoLnJvdW5kKFxuICAgICAgICAgICAgMTAwMCAqIG1heFN0YXJ2YXRpb25EZWxheSxcbiAgICAgICAgICApfSBtc2AsXG4gICAgICAgICk7XG4gICAgICAgIC8vIGRvbid0IHVzZSBjb25zZXJ2YXRpdmUgZmFjdG9yIG9uIGJpdHJhdGUgdGVzdFxuICAgICAgICBid0ZhY3RvciA9IGJ3VXBGYWN0b3IgPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBiZXN0TGV2ZWwgPSB0aGlzLmZpbmRCZXN0TGV2ZWwoXG4gICAgICBhdmdidyxcbiAgICAgIG1pbkF1dG9MZXZlbCxcbiAgICAgIG1heEF1dG9MZXZlbCxcbiAgICAgIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSxcbiAgICAgIG1heFN0YXJ2YXRpb25EZWxheSxcbiAgICAgIGJ3RmFjdG9yLFxuICAgICAgYndVcEZhY3RvcixcbiAgICApO1xuICAgIGxvZ2dlci5pbmZvKFxuICAgICAgYFthYnJdICR7XG4gICAgICAgIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA/ICdyZWJ1ZmZlcmluZyBleHBlY3RlZCcgOiAnYnVmZmVyIGlzIGVtcHR5J1xuICAgICAgfSwgb3B0aW1hbCBxdWFsaXR5IGxldmVsICR7YmVzdExldmVsfWAsXG4gICAgKTtcbiAgICBpZiAoYmVzdExldmVsID4gLTEpIHtcbiAgICAgIHJldHVybiBiZXN0TGV2ZWw7XG4gICAgfVxuICAgIC8vIElmIG5vIG1hdGNoaW5nIGxldmVsIGZvdW5kLCBzZWUgaWYgbWluIGF1dG8gbGV2ZWwgd291bGQgYmUgYSBiZXR0ZXIgb3B0aW9uXG4gICAgY29uc3QgbWluTGV2ZWwgPSBobHMubGV2ZWxzW21pbkF1dG9MZXZlbF07XG4gICAgY29uc3QgYXV0b0xldmVsID0gaGxzLmxldmVsc1tobHMubG9hZExldmVsXTtcbiAgICBpZiAobWluTGV2ZWw/LmJpdHJhdGUgPCBhdXRvTGV2ZWw/LmJpdHJhdGUpIHtcbiAgICAgIHJldHVybiBtaW5BdXRvTGV2ZWw7XG4gICAgfVxuICAgIC8vIG9yIGlmIGJpdHJhdGUgaXMgbm90IGxvd2VyLCBjb250aW51ZSB0byB1c2UgbG9hZExldmVsXG4gICAgcmV0dXJuIGhscy5sb2FkTGV2ZWw7XG4gIH1cblxuICBwcml2YXRlIGdldFN0YXJ2YXRpb25EZWxheSgpOiBudW1iZXIge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGNvbnN0IG1lZGlhID0gaGxzLm1lZGlhO1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgLy8gcGxheWJhY2tSYXRlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGUgcGxheWJhY2sgcmF0ZTsgaWYgbWVkaWEucGxheWJhY2tSYXRlIGlzIDAsIHdlIHVzZSAxIHRvIGxvYWQgYXNcbiAgICAvLyBpZiB3ZSdyZSBwbGF5aW5nIGJhY2sgYXQgdGhlIG5vcm1hbCByYXRlLlxuICAgIGNvbnN0IHBsYXliYWNrUmF0ZSA9XG4gICAgICBtZWRpYSAmJiBtZWRpYS5wbGF5YmFja1JhdGUgIT09IDAgPyBNYXRoLmFicyhtZWRpYS5wbGF5YmFja1JhdGUpIDogMS4wO1xuICAgIGNvbnN0IGJ1ZmZlckluZm8gPSBobHMubWFpbkZvcndhcmRCdWZmZXJJbmZvO1xuICAgIHJldHVybiAoYnVmZmVySW5mbyA/IGJ1ZmZlckluZm8ubGVuIDogMCkgLyBwbGF5YmFja1JhdGU7XG4gIH1cblxuICBwcml2YXRlIGdldEJ3RXN0aW1hdGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5id0VzdGltYXRvci5jYW5Fc3RpbWF0ZSgpXG4gICAgICA/IHRoaXMuYndFc3RpbWF0b3IuZ2V0RXN0aW1hdGUoKVxuICAgICAgOiB0aGlzLmhscy5jb25maWcuYWJyRXdtYURlZmF1bHRFc3RpbWF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZEJlc3RMZXZlbChcbiAgICBjdXJyZW50Qnc6IG51bWJlcixcbiAgICBtaW5BdXRvTGV2ZWw6IG51bWJlcixcbiAgICBtYXhBdXRvTGV2ZWw6IG51bWJlcixcbiAgICBidWZmZXJTdGFydmF0aW9uRGVsYXk6IG51bWJlcixcbiAgICBtYXhTdGFydmF0aW9uRGVsYXk6IG51bWJlcixcbiAgICBid0ZhY3RvcjogbnVtYmVyLFxuICAgIGJ3VXBGYWN0b3I6IG51bWJlcixcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBtYXhGZXRjaER1cmF0aW9uOiBudW1iZXIgPSBidWZmZXJTdGFydmF0aW9uRGVsYXkgKyBtYXhTdGFydmF0aW9uRGVsYXk7XG4gICAgY29uc3QgbGFzdExvYWRlZEZyYWdMZXZlbCA9IHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbDtcbiAgICBjb25zdCBzZWxlY3Rpb25CYXNlTGV2ZWwgPVxuICAgICAgbGFzdExvYWRlZEZyYWdMZXZlbCA9PT0gLTEgPyB0aGlzLmhscy5maXJzdExldmVsIDogbGFzdExvYWRlZEZyYWdMZXZlbDtcbiAgICBjb25zdCB7IGZyYWdDdXJyZW50LCBwYXJ0Q3VycmVudCB9ID0gdGhpcztcbiAgICBjb25zdCB7IGxldmVscywgYWxsQXVkaW9UcmFja3MsIGxvYWRMZXZlbCwgY29uZmlnIH0gPSB0aGlzLmhscztcbiAgICBpZiAobGV2ZWxzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IGxldmVsOiBMZXZlbCB8IHVuZGVmaW5lZCA9IGxldmVsc1tzZWxlY3Rpb25CYXNlTGV2ZWxdO1xuICAgIGNvbnN0IGxpdmUgPSAhIWxldmVsPy5kZXRhaWxzPy5saXZlO1xuICAgIGNvbnN0IGZpcnN0U2VsZWN0aW9uID0gbG9hZExldmVsID09PSAtMSB8fCBsYXN0TG9hZGVkRnJhZ0xldmVsID09PSAtMTtcbiAgICBsZXQgY3VycmVudENvZGVjU2V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGN1cnJlbnRWaWRlb1JhbmdlOiBWaWRlb1JhbmdlIHwgdW5kZWZpbmVkID0gJ1NEUic7XG4gICAgbGV0IGN1cnJlbnRGcmFtZVJhdGUgPSBsZXZlbD8uZnJhbWVSYXRlIHx8IDA7XG5cbiAgICBjb25zdCB7IGF1ZGlvUHJlZmVyZW5jZSwgdmlkZW9QcmVmZXJlbmNlIH0gPSBjb25maWc7XG4gICAgY29uc3QgYXVkaW9UcmFja3NCeUdyb3VwID1cbiAgICAgIHRoaXMuYXVkaW9UcmFja3NCeUdyb3VwIHx8XG4gICAgICAodGhpcy5hdWRpb1RyYWNrc0J5R3JvdXAgPSBnZXRBdWRpb1RyYWNrc0J5R3JvdXAoYWxsQXVkaW9UcmFja3MpKTtcbiAgICBpZiAoZmlyc3RTZWxlY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLmZpcnN0U2VsZWN0aW9uICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdFNlbGVjdGlvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvZGVjVGllcnMgPVxuICAgICAgICB0aGlzLmNvZGVjVGllcnMgfHxcbiAgICAgICAgKHRoaXMuY29kZWNUaWVycyA9IGdldENvZGVjVGllcnMoXG4gICAgICAgICAgbGV2ZWxzLFxuICAgICAgICAgIGF1ZGlvVHJhY2tzQnlHcm91cCxcbiAgICAgICAgICBtaW5BdXRvTGV2ZWwsXG4gICAgICAgICAgbWF4QXV0b0xldmVsLFxuICAgICAgICApKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGllciA9IGdldFN0YXJ0Q29kZWNUaWVyKFxuICAgICAgICBjb2RlY1RpZXJzLFxuICAgICAgICBjdXJyZW50VmlkZW9SYW5nZSxcbiAgICAgICAgY3VycmVudEJ3LFxuICAgICAgICBhdWRpb1ByZWZlcmVuY2UsXG4gICAgICAgIHZpZGVvUHJlZmVyZW5jZSxcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGNvZGVjU2V0LCB2aWRlb1JhbmdlcywgbWluRnJhbWVyYXRlLCBtaW5CaXRyYXRlLCBwcmVmZXJIRFIgfSA9XG4gICAgICAgIHN0YXJ0VGllcjtcbiAgICAgIGN1cnJlbnRDb2RlY1NldCA9IGNvZGVjU2V0O1xuICAgICAgY3VycmVudFZpZGVvUmFuZ2UgPSBwcmVmZXJIRFJcbiAgICAgICAgPyB2aWRlb1Jhbmdlc1t2aWRlb1Jhbmdlcy5sZW5ndGggLSAxXVxuICAgICAgICA6IHZpZGVvUmFuZ2VzWzBdO1xuICAgICAgY3VycmVudEZyYW1lUmF0ZSA9IG1pbkZyYW1lcmF0ZTtcbiAgICAgIGN1cnJlbnRCdyA9IE1hdGgubWF4KGN1cnJlbnRCdywgbWluQml0cmF0ZSk7XG4gICAgICBsb2dnZXIubG9nKGBbYWJyXSBwaWNrZWQgc3RhcnQgdGllciAke0pTT04uc3RyaW5naWZ5KHN0YXJ0VGllcil9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRDb2RlY1NldCA9IGxldmVsPy5jb2RlY1NldDtcbiAgICAgIGN1cnJlbnRWaWRlb1JhbmdlID0gbGV2ZWw/LnZpZGVvUmFuZ2U7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudEZyYWdEdXJhdGlvbiA9IHBhcnRDdXJyZW50XG4gICAgICA/IHBhcnRDdXJyZW50LmR1cmF0aW9uXG4gICAgICA6IGZyYWdDdXJyZW50XG4gICAgICAgID8gZnJhZ0N1cnJlbnQuZHVyYXRpb25cbiAgICAgICAgOiAwO1xuXG4gICAgY29uc3QgdHRmYkVzdGltYXRlU2VjID0gdGhpcy5id0VzdGltYXRvci5nZXRFc3RpbWF0ZVRURkIoKSAvIDEwMDA7XG4gICAgY29uc3QgbGV2ZWxzU2tpcHBlZDogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gbWF4QXV0b0xldmVsOyBpID49IG1pbkF1dG9MZXZlbDsgaS0tKSB7XG4gICAgICBjb25zdCBsZXZlbEluZm8gPSBsZXZlbHNbaV07XG4gICAgICBjb25zdCB1cFN3aXRjaCA9IGkgPiBzZWxlY3Rpb25CYXNlTGV2ZWw7XG4gICAgICBpZiAoIWxldmVsSW5mbykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgX19VU0VfTUVESUFfQ0FQQUJJTElUSUVTX18gJiZcbiAgICAgICAgY29uZmlnLnVzZU1lZGlhQ2FwYWJpbGl0aWVzICYmXG4gICAgICAgICFsZXZlbEluZm8uc3VwcG9ydGVkUmVzdWx0ICYmXG4gICAgICAgICFsZXZlbEluZm8uc3VwcG9ydGVkUHJvbWlzZVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IG1lZGlhQ2FwYWJpbGl0aWVzID0gbmF2aWdhdG9yLm1lZGlhQ2FwYWJpbGl0aWVzIGFzXG4gICAgICAgICAgfCBNZWRpYUNhcGFiaWxpdGllc1xuICAgICAgICAgIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIG1lZGlhQ2FwYWJpbGl0aWVzPy5kZWNvZGluZ0luZm8gPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICByZXF1aXJlc01lZGlhQ2FwYWJpbGl0aWVzRGVjb2RpbmdJbmZvKFxuICAgICAgICAgICAgbGV2ZWxJbmZvLFxuICAgICAgICAgICAgYXVkaW9UcmFja3NCeUdyb3VwLFxuICAgICAgICAgICAgY3VycmVudFZpZGVvUmFuZ2UsXG4gICAgICAgICAgICBjdXJyZW50RnJhbWVSYXRlLFxuICAgICAgICAgICAgY3VycmVudEJ3LFxuICAgICAgICAgICAgYXVkaW9QcmVmZXJlbmNlLFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGV2ZWxJbmZvLnN1cHBvcnRlZFByb21pc2UgPSBnZXRNZWRpYURlY29kaW5nSW5mb1Byb21pc2UoXG4gICAgICAgICAgICBsZXZlbEluZm8sXG4gICAgICAgICAgICBhdWRpb1RyYWNrc0J5R3JvdXAsXG4gICAgICAgICAgICBtZWRpYUNhcGFiaWxpdGllcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldmVsSW5mby5zdXBwb3J0ZWRQcm9taXNlLnRoZW4oKGRlY29kaW5nSW5mbykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhscykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbEluZm8uc3VwcG9ydGVkUmVzdWx0ID0gZGVjb2RpbmdJbmZvO1xuICAgICAgICAgICAgY29uc3QgbGV2ZWxzID0gdGhpcy5obHMubGV2ZWxzO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsZXZlbHMuaW5kZXhPZihsZXZlbEluZm8pO1xuICAgICAgICAgICAgaWYgKGRlY29kaW5nSW5mby5lcnJvcikge1xuICAgICAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgW2Ficl0gTWVkaWFDYXBhYmlsaXRpZXMgZGVjb2RpbmdJbmZvIGVycm9yOiBcIiR7XG4gICAgICAgICAgICAgICAgICBkZWNvZGluZ0luZm8uZXJyb3JcbiAgICAgICAgICAgICAgICB9XCIgZm9yIGxldmVsICR7aW5kZXh9ICR7SlNPTi5zdHJpbmdpZnkoZGVjb2RpbmdJbmZvKX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZGVjb2RpbmdJbmZvLnN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgW2Ficl0gVW5zdXBwb3J0ZWQgTWVkaWFDYXBhYmlsaXRpZXMgZGVjb2RpbmdJbmZvIHJlc3VsdCBmb3IgbGV2ZWwgJHtpbmRleH0gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgIGRlY29kaW5nSW5mbyxcbiAgICAgICAgICAgICAgICApfWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xICYmIGxldmVscy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgW2Ficl0gUmVtb3ZpbmcgdW5zdXBwb3J0ZWQgbGV2ZWwgJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhscy5yZW1vdmVMZXZlbChpbmRleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXZlbEluZm8uc3VwcG9ydGVkUmVzdWx0ID0gU1VQUE9SVEVEX0lORk9fREVGQVVMVDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBza2lwIGNhbmRpZGF0ZXMgd2hpY2ggY2hhbmdlIGNvZGVjLWZhbWlseSBvciB2aWRlby1yYW5nZSxcbiAgICAgIC8vIGFuZCB3aGljaCBkZWNyZWFzZSBvciBpbmNyZWFzZSBmcmFtZS1yYXRlIGZvciB1cCBhbmQgZG93bi1zd2l0Y2ggcmVzcGVjdGZ1bGx5XG4gICAgICBpZiAoXG4gICAgICAgIChjdXJyZW50Q29kZWNTZXQgJiYgbGV2ZWxJbmZvLmNvZGVjU2V0ICE9PSBjdXJyZW50Q29kZWNTZXQpIHx8XG4gICAgICAgIChjdXJyZW50VmlkZW9SYW5nZSAmJiBsZXZlbEluZm8udmlkZW9SYW5nZSAhPT0gY3VycmVudFZpZGVvUmFuZ2UpIHx8XG4gICAgICAgICh1cFN3aXRjaCAmJiBjdXJyZW50RnJhbWVSYXRlID4gbGV2ZWxJbmZvLmZyYW1lUmF0ZSkgfHxcbiAgICAgICAgKCF1cFN3aXRjaCAmJlxuICAgICAgICAgIGN1cnJlbnRGcmFtZVJhdGUgPiAwICYmXG4gICAgICAgICAgY3VycmVudEZyYW1lUmF0ZSA8IGxldmVsSW5mby5mcmFtZVJhdGUpIHx8XG4gICAgICAgIChsZXZlbEluZm8uc3VwcG9ydGVkUmVzdWx0ICYmXG4gICAgICAgICAgIWxldmVsSW5mby5zdXBwb3J0ZWRSZXN1bHQuZGVjb2RpbmdJbmZvUmVzdWx0cz8uWzBdLnNtb290aClcbiAgICAgICkge1xuICAgICAgICBsZXZlbHNTa2lwcGVkLnB1c2goaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscztcbiAgICAgIGNvbnN0IGF2Z0R1cmF0aW9uID1cbiAgICAgICAgKHBhcnRDdXJyZW50XG4gICAgICAgICAgPyBsZXZlbERldGFpbHM/LnBhcnRUYXJnZXRcbiAgICAgICAgICA6IGxldmVsRGV0YWlscz8uYXZlcmFnZXRhcmdldGR1cmF0aW9uKSB8fCBjdXJyZW50RnJhZ0R1cmF0aW9uO1xuXG4gICAgICBsZXQgYWRqdXN0ZWRidzogbnVtYmVyO1xuICAgICAgLy8gZm9sbG93IGFsZ29yaXRobSBjYXB0dXJlZCBmcm9tIHN0YWdlZnJpZ2h0IDpcbiAgICAgIC8vIGh0dHBzOi8vYW5kcm9pZC5nb29nbGVzb3VyY2UuY29tL3BsYXRmb3JtL2ZyYW1ld29ya3MvYXYvKy9tYXN0ZXIvbWVkaWEvbGlic3RhZ2VmcmlnaHQvaHR0cGxpdmUvTGl2ZVNlc3Npb24uY3BwXG4gICAgICAvLyBQaWNrIHRoZSBoaWdoZXN0IGJhbmR3aWR0aCBzdHJlYW0gYmVsb3cgb3IgZXF1YWwgdG8gZXN0aW1hdGVkIGJhbmR3aWR0aC5cbiAgICAgIC8vIGNvbnNpZGVyIG9ubHkgODAlIG9mIHRoZSBhdmFpbGFibGUgYmFuZHdpZHRoLCBidXQgaWYgd2UgYXJlIHN3aXRjaGluZyB1cCxcbiAgICAgIC8vIGJlIGV2ZW4gbW9yZSBjb25zZXJ2YXRpdmUgKDcwJSkgdG8gYXZvaWQgb3ZlcmVzdGltYXRpbmcgYW5kIGltbWVkaWF0ZWx5XG4gICAgICAvLyBzd2l0Y2hpbmcgYmFjay5cbiAgICAgIGlmICghdXBTd2l0Y2gpIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3RmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3VXBGYWN0b3IgKiBjdXJyZW50Qnc7XG4gICAgICB9XG5cbiAgICAgIC8vIFVzZSBhdmVyYWdlIGJpdHJhdGUgd2hlbiBzdGFydmF0aW9uIGRlbGF5IChidWZmZXIgbGVuZ3RoKSBpcyBndCBvciBlcSB0d28gc2VnbWVudCBkdXJhdGlvbnMgYW5kIHJlYnVmZmVyaW5nIGlzIG5vdCBleHBlY3RlZCAobWF4U3RhcnZhdGlvbkRlbGF5ID4gMClcbiAgICAgIGNvbnN0IGJpdHJhdGU6IG51bWJlciA9XG4gICAgICAgIGN1cnJlbnRGcmFnRHVyYXRpb24gJiZcbiAgICAgICAgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID49IGN1cnJlbnRGcmFnRHVyYXRpb24gKiAyICYmXG4gICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9PT0gMFxuICAgICAgICAgID8gbGV2ZWxzW2ldLmF2ZXJhZ2VCaXRyYXRlXG4gICAgICAgICAgOiBsZXZlbHNbaV0ubWF4Qml0cmF0ZTtcbiAgICAgIGNvbnN0IGZldGNoRHVyYXRpb246IG51bWJlciA9IHRoaXMuZ2V0VGltZVRvTG9hZEZyYWcoXG4gICAgICAgIHR0ZmJFc3RpbWF0ZVNlYyxcbiAgICAgICAgYWRqdXN0ZWRidyxcbiAgICAgICAgYml0cmF0ZSAqIGF2Z0R1cmF0aW9uLFxuICAgICAgICBsZXZlbERldGFpbHMgPT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNhblN3aXRjaFdpdGhpblRvbGVyYW5jZSA9XG4gICAgICAgIC8vIGlmIGFkanVzdGVkIGJ3IGlzIGdyZWF0ZXIgdGhhbiBsZXZlbCBiaXRyYXRlIEFORFxuICAgICAgICBhZGp1c3RlZGJ3ID49IGJpdHJhdGUgJiZcbiAgICAgICAgLy8gbm8gbGV2ZWwgY2hhbmdlLCBvciBuZXcgbGV2ZWwgaGFzIG5vIGVycm9yIGhpc3RvcnlcbiAgICAgICAgKGkgPT09IGxhc3RMb2FkZWRGcmFnTGV2ZWwgfHxcbiAgICAgICAgICAobGV2ZWxJbmZvLmxvYWRFcnJvciA9PT0gMCAmJiBsZXZlbEluZm8uZnJhZ21lbnRFcnJvciA9PT0gMCkpICYmXG4gICAgICAgIC8vIGZyYWdtZW50IGZldGNoRHVyYXRpb24gdW5rbm93biBPUiBsaXZlIHN0cmVhbSBPUiBmcmFnbWVudCBmZXRjaER1cmF0aW9uIGxlc3MgdGhhbiBtYXggYWxsb3dlZCBmZXRjaCBkdXJhdGlvbiwgdGhlbiB0aGlzIGxldmVsIG1hdGNoZXNcbiAgICAgICAgLy8gd2UgZG9uJ3QgYWNjb3VudCBmb3IgbWF4IEZldGNoIER1cmF0aW9uIGZvciBsaXZlIHN0cmVhbXMsIHRoaXMgaXMgdG8gYXZvaWQgc3dpdGNoaW5nIGRvd24gd2hlbiBuZWFyIHRoZSBlZGdlIG9mIGxpdmUgc2xpZGluZyB3aW5kb3cgLi4uXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSB0byBzdXBwb3J0IHN0YXJ0TGV2ZWwgPSAtMSAoYml0cmF0ZVRlc3QpIG9uIGxpdmUgc3RyZWFtcyA6IGluIHRoYXQgY2FzZSB3ZSBzaG91bGQgbm90IGV4aXQgbG9vcCBzbyB0aGF0IGZpbmRCZXN0TGV2ZWwgd2lsbCByZXR1cm4gLTFcbiAgICAgICAgKGZldGNoRHVyYXRpb24gPD0gdHRmYkVzdGltYXRlU2VjIHx8XG4gICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShmZXRjaER1cmF0aW9uKSB8fFxuICAgICAgICAgIChsaXZlICYmICF0aGlzLmJpdHJhdGVUZXN0RGVsYXkpIHx8XG4gICAgICAgICAgZmV0Y2hEdXJhdGlvbiA8IG1heEZldGNoRHVyYXRpb24pO1xuICAgICAgaWYgKGNhblN3aXRjaFdpdGhpblRvbGVyYW5jZSkge1xuICAgICAgICBjb25zdCBmb3JjZWRBdXRvTGV2ZWwgPSB0aGlzLmZvcmNlZEF1dG9MZXZlbDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGkgIT09IGxvYWRMZXZlbCAmJlxuICAgICAgICAgIChmb3JjZWRBdXRvTGV2ZWwgPT09IC0xIHx8IGZvcmNlZEF1dG9MZXZlbCAhPT0gbG9hZExldmVsKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobGV2ZWxzU2tpcHBlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50cmFjZShcbiAgICAgICAgICAgICAgYFthYnJdIFNraXBwZWQgbGV2ZWwocykgJHtsZXZlbHNTa2lwcGVkLmpvaW4oXG4gICAgICAgICAgICAgICAgJywnLFxuICAgICAgICAgICAgICApfSBvZiAke21heEF1dG9MZXZlbH0gbWF4IHdpdGggQ09ERUNTIGFuZCBWSURFTy1SQU5HRTpcIiR7XG4gICAgICAgICAgICAgICAgbGV2ZWxzW2xldmVsc1NraXBwZWRbMF1dLmNvZGVjc1xuICAgICAgICAgICAgICB9XCIgJHtsZXZlbHNbbGV2ZWxzU2tpcHBlZFswXV0udmlkZW9SYW5nZX07IG5vdCBjb21wYXRpYmxlIHdpdGggXCIke1xuICAgICAgICAgICAgICAgIGxldmVsLmNvZGVjc1xuICAgICAgICAgICAgICB9XCIgJHtjdXJyZW50VmlkZW9SYW5nZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyLmluZm8oXG4gICAgICAgICAgICBgW2Ficl0gc3dpdGNoIGNhbmRpZGF0ZToke3NlbGVjdGlvbkJhc2VMZXZlbH0tPiR7aX0gYWRqdXN0ZWRidygke01hdGgucm91bmQoXG4gICAgICAgICAgICAgIGFkanVzdGVkYncsXG4gICAgICAgICAgICApfSktYml0cmF0ZT0ke01hdGgucm91bmQoXG4gICAgICAgICAgICAgIGFkanVzdGVkYncgLSBiaXRyYXRlLFxuICAgICAgICAgICAgKX0gdHRmYjoke3R0ZmJFc3RpbWF0ZVNlYy50b0ZpeGVkKFxuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgKX0gYXZnRHVyYXRpb246JHthdmdEdXJhdGlvbi50b0ZpeGVkKFxuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgKX0gbWF4RmV0Y2hEdXJhdGlvbjoke21heEZldGNoRHVyYXRpb24udG9GaXhlZChcbiAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICl9IGZldGNoRHVyYXRpb246JHtmZXRjaER1cmF0aW9uLnRvRml4ZWQoXG4gICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICApfSBmaXJzdFNlbGVjdGlvbjoke2ZpcnN0U2VsZWN0aW9ufSBjb2RlY1NldDoke2N1cnJlbnRDb2RlY1NldH0gdmlkZW9SYW5nZToke2N1cnJlbnRWaWRlb1JhbmdlfSBobHMubG9hZExldmVsOiR7bG9hZExldmVsfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RTZWxlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmZpcnN0U2VsZWN0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcyB3ZSBhcmUgbG9vcGluZyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0LCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBiZXN0IGFjaGlldmFibGUgcXVhbGl0eSBsZXZlbFxuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbm90IGVub3VnaCB0aW1lIGJ1ZGdldCBldmVuIHdpdGggcXVhbGl0eSBsZXZlbCAwIC4uLiByZWJ1ZmZlcmluZyBtaWdodCBoYXBwZW5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBwdWJsaWMgc2V0IG5leHRBdXRvTGV2ZWwobmV4dExldmVsOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IG1heEF1dG9MZXZlbCwgbWluQXV0b0xldmVsIH0gPSB0aGlzLmhscztcbiAgICBjb25zdCB2YWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KG5leHRMZXZlbCwgbWluQXV0b0xldmVsKSwgbWF4QXV0b0xldmVsKTtcbiAgICBpZiAodGhpcy5fbmV4dEF1dG9MZXZlbCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMubmV4dEF1dG9MZXZlbEtleSA9ICcnO1xuICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBYnJDb250cm9sbGVyO1xuIiwgIi8qKlxuICogQGlnbm9yZVxuICogU3ViLWNsYXNzIHNwZWNpYWxpemF0aW9uIG9mIEV2ZW50SGFuZGxlciBiYXNlIGNsYXNzLlxuICpcbiAqIFRhc2tMb29wIGFsbG93cyB0byBzY2hlZHVsZSBhIHRhc2sgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIChvcHRpb25uYWx5IHJlcGVhdGVkbHkpIG9uIHRoZSBtYWluIGxvb3AsXG4gKiBzY2hlZHVsZWQgYXN5bmNocm9uZW91c2x5LCBhdm9pZGluZyByZWN1cnNpdmUgY2FsbHMgaW4gdGhlIHNhbWUgdGljay5cbiAqXG4gKiBUaGUgdGFzayBpdHNlbGYgaXMgaW1wbGVtZW50ZWQgaW4gYGRvVGlja2AuIEl0IGNhbiBiZSByZXF1ZXN0ZWQgYW5kIGNhbGxlZCBmb3Igc2luZ2xlIGV4ZWN1dGlvblxuICogdXNpbmcgdGhlIGB0aWNrYCBtZXRob2QuXG4gKlxuICogSXQgd2lsbCBiZSBhc3N1cmVkIHRoYXQgdGhlIHRhc2sgZXhlY3V0aW9uIG1ldGhvZCAoYHRpY2tgKSBvbmx5IGdldHMgY2FsbGVkIG9uY2UgcGVyIG1haW4gbG9vcCBcInRpY2tcIixcbiAqIG5vIG1hdHRlciBob3cgb2Z0ZW4gaXQgZ2V0cyByZXF1ZXN0ZWQgZm9yIGV4ZWN1dGlvbi4gRXhlY3V0aW9uIGluIGZ1cnRoZXIgdGlja3Mgd2lsbCBiZSBzY2hlZHVsZWQgYWNjb3JkaW5nbHkuXG4gKlxuICogSWYgZnVydGhlciBleGVjdXRpb24gcmVxdWVzdHMgaGF2ZSBhbHJlYWR5IGJlZW4gc2NoZWR1bGVkIG9uIHRoZSBuZXh0IHRpY2ssIGl0IGNhbiBiZSBjaGVja2VkIHdpdGggYGhhc05leHRUaWNrYCxcbiAqIGFuZCBjYW5jZWxsZWQgd2l0aCBgY2xlYXJOZXh0VGlja2AuXG4gKlxuICogVGhlIHRhc2sgY2FuIGJlIHNjaGVkdWxlZCBhcyBhbiBpbnRlcnZhbCByZXBlYXRlZGx5IHdpdGggYSBwZXJpb2QgYXMgcGFyYW1ldGVyIChzZWUgYHNldEludGVydmFsYCwgYGNsZWFySW50ZXJ2YWxgKS5cbiAqXG4gKiBTdWItY2xhc3NlcyBuZWVkIHRvIGltcGxlbWVudCB0aGUgYGRvVGlja2AgbWV0aG9kIHdoaWNoIHdpbGwgZWZmZWN0aXZlbHkgaGF2ZSB0aGUgdGFzayBleGVjdXRpb24gcm91dGluZS5cbiAqXG4gKiBGdXJ0aGVyIGV4cGxhbmF0aW9uczpcbiAqXG4gKiBUaGUgYmFzZWNsYXNzIGhhcyBhIGB0aWNrYCBtZXRob2QgdGhhdCB3aWxsIHNjaGVkdWxlIHRoZSBkb1RpY2sgY2FsbC4gSXQgbWF5IGJlIGNhbGxlZCBzeW5jaHJvbmVvdXNseVxuICogb25seSBmb3IgYSBzdGFjay1kZXB0aCBvZiBvbmUuIE9uIHJlLWVudHJhbnQgY2FsbHMsIHN1Yi1zZXF1ZW50IGNhbGxzIGFyZSBzY2hlZHVsZWQgZm9yIG5leHQgbWFpbiBsb29wIHRpY2tzLlxuICpcbiAqIFdoZW4gdGhlIHRhc2sgZXhlY3V0aW9uIChgdGlja2AgbWV0aG9kKSBpcyBjYWxsZWQgaW4gcmUtZW50cmFudCB3YXkgdGhpcyBpcyBkZXRlY3RlZCBhbmRcbiAqIHdlIGFyZSBsaW1pdGluZyB0aGUgdGFzayBleGVjdXRpb24gcGVyIGNhbGwgc3RhY2sgdG8gZXhhY3RseSBvbmUsIGJ1dCBzY2hlZHVsaW5nL3Bvc3QtcG9uaW5nIGZ1cnRoZXJcbiAqIHRhc2sgcHJvY2Vzc2luZyBvbiB0aGUgbmV4dCBtYWluIGxvb3AgaXRlcmF0aW9uIChhbHNvIGtub3duIGFzIFwibmV4dCB0aWNrXCIgaW4gdGhlIE5vZGUvSlMgcnVudGltZSBsaW5nbykuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tMb29wIHtcbiAgcHJpdmF0ZSByZWFkb25seSBfYm91bmRUaWNrOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIF90aWNrVGltZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF90aWNrSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF90aWNrQ2FsbENvdW50ID0gMDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9ib3VuZFRpY2sgPSB0aGlzLnRpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMub25IYW5kbGVyRGVzdHJveWluZygpO1xuICAgIHRoaXMub25IYW5kbGVyRGVzdHJveWVkKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25IYW5kbGVyRGVzdHJveWluZygpIHtcbiAgICAvLyBjbGVhciBhbGwgdGltZXJzIGJlZm9yZSB1bnJlZ2lzdGVyaW5nIGZyb20gZXZlbnQgYnVzXG4gICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25IYW5kbGVyRGVzdHJveWVkKCkge31cblxuICBwdWJsaWMgaGFzSW50ZXJ2YWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5fdGlja0ludGVydmFsO1xuICB9XG5cbiAgcHVibGljIGhhc05leHRUaWNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuX3RpY2tUaW1lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbWlsbGlzIC0gSW50ZXJ2YWwgdGltZSAobXMpXG4gICAqIEBldHVybnMgVHJ1ZSB3aGVuIGludGVydmFsIGhhcyBiZWVuIHNjaGVkdWxlZCwgZmFsc2Ugd2hlbiBhbHJlYWR5IHNjaGVkdWxlZCAobm8gZWZmZWN0KVxuICAgKi9cbiAgcHVibGljIHNldEludGVydmFsKG1pbGxpczogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLl90aWNrSW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMuX3RpY2tDYWxsQ291bnQgPSAwO1xuICAgICAgdGhpcy5fdGlja0ludGVydmFsID0gc2VsZi5zZXRJbnRlcnZhbCh0aGlzLl9ib3VuZFRpY2ssIG1pbGxpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRydWUgd2hlbiBpbnRlcnZhbCB3YXMgY2xlYXJlZCwgZmFsc2Ugd2hlbiBub25lIHdhcyBzZXQgKG5vIGVmZmVjdClcbiAgICovXG4gIHB1YmxpYyBjbGVhckludGVydmFsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl90aWNrSW50ZXJ2YWwpIHtcbiAgICAgIHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLl90aWNrSW50ZXJ2YWwpO1xuICAgICAgdGhpcy5fdGlja0ludGVydmFsID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVHJ1ZSB3aGVuIHRpbWVvdXQgd2FzIGNsZWFyZWQsIGZhbHNlIHdoZW4gbm9uZSB3YXMgc2V0IChubyBlZmZlY3QpXG4gICAqL1xuICBwdWJsaWMgY2xlYXJOZXh0VGljaygpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fdGlja1RpbWVyKSB7XG4gICAgICBzZWxmLmNsZWFyVGltZW91dCh0aGlzLl90aWNrVGltZXIpO1xuICAgICAgdGhpcy5fdGlja1RpbWVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBjYWxsIHRoZSBzdWJjbGFzcyBkb1RpY2sgaW1wbGVtZW50YXRpb24gaW4gdGhpcyBtYWluIGxvb3AgdGlja1xuICAgKiBvciBpbiB0aGUgbmV4dCBvbmUgKHZpYSBzZXRUaW1lb3V0KCwwKSkgaW4gY2FzZSBpdCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgKiBpbiB0aGlzIHRpY2sgKGluIGNhc2UgdGhpcyBpcyBhIHJlLWVudHJhbnQgY2FsbCkuXG4gICAqL1xuICBwdWJsaWMgdGljaygpOiB2b2lkIHtcbiAgICB0aGlzLl90aWNrQ2FsbENvdW50Kys7XG4gICAgaWYgKHRoaXMuX3RpY2tDYWxsQ291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgICAvLyByZS1lbnRyYW50IGNhbGwgdG8gdGljayBmcm9tIHByZXZpb3VzIGRvVGljayBjYWxsIHN0YWNrXG4gICAgICAvLyAtPiBzY2hlZHVsZSBhIGNhbGwgb24gdGhlIG5leHQgbWFpbiBsb29wIGl0ZXJhdGlvbiB0byBwcm9jZXNzIHRoaXMgdGFzayBwcm9jZXNzaW5nIHJlcXVlc3RcbiAgICAgIGlmICh0aGlzLl90aWNrQ2FsbENvdW50ID4gMSkge1xuICAgICAgICAvLyBtYWtlIHN1cmUgb25seSBvbmUgdGltZXIgZXhpc3RzIGF0IGFueSB0aW1lIGF0IG1heFxuICAgICAgICB0aGlzLnRpY2tJbW1lZGlhdGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3RpY2tDYWxsQ291bnQgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB0aWNrSW1tZWRpYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJOZXh0VGljaygpO1xuICAgIHRoaXMuX3RpY2tUaW1lciA9IHNlbGYuc2V0VGltZW91dCh0aGlzLl9ib3VuZFRpY2ssIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzdWJjbGFzcyB0byBpbXBsZW1lbnQgdGFzayBsb2dpY1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHByb3RlY3RlZCBkb1RpY2soKTogdm9pZCB7fVxufVxuIiwgImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBGcmFnbWVudCwgUGFydCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgeyBQbGF5bGlzdExldmVsVHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSB7IFNvdXJjZUJ1ZmZlck5hbWUgfSBmcm9tICcuLi90eXBlcy9idWZmZXInO1xuaW1wb3J0IHR5cGUge1xuICBGcmFnbWVudEJ1ZmZlcmVkUmFuZ2UsXG4gIEZyYWdtZW50RW50aXR5LFxuICBGcmFnbWVudFRpbWVSYW5nZSxcbn0gZnJvbSAnLi4vdHlwZXMvZnJhZ21lbnQtdHJhY2tlcic7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUge1xuICBCdWZmZXJBcHBlbmRlZERhdGEsXG4gIEZyYWdCdWZmZXJlZERhdGEsXG4gIEZyYWdMb2FkZWREYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEZyYWdtZW50U3RhdGUge1xuICBOT1RfTE9BREVEID0gJ05PVF9MT0FERUQnLFxuICBBUFBFTkRJTkcgPSAnQVBQRU5ESU5HJyxcbiAgUEFSVElBTCA9ICdQQVJUSUFMJyxcbiAgT0sgPSAnT0snLFxufVxuXG5leHBvcnQgY2xhc3MgRnJhZ21lbnRUcmFja2VyIGltcGxlbWVudHMgQ29tcG9uZW50QVBJIHtcbiAgcHJpdmF0ZSBhY3RpdmVQYXJ0TGlzdHM6IHsgW2tleSBpbiBQbGF5bGlzdExldmVsVHlwZV0/OiBQYXJ0W10gfSA9XG4gICAgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcHJpdmF0ZSBlbmRMaXN0RnJhZ21lbnRzOiB7IFtrZXkgaW4gUGxheWxpc3RMZXZlbFR5cGVdPzogRnJhZ21lbnRFbnRpdHkgfSA9XG4gICAgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcHJpdmF0ZSBmcmFnbWVudHM6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgRnJhZ21lbnRFbnRpdHk+PiA9XG4gICAgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcHJpdmF0ZSB0aW1lUmFuZ2VzOlxuICAgIHwge1xuICAgICAgICBba2V5IGluIFNvdXJjZUJ1ZmZlck5hbWVdPzogVGltZVJhbmdlcztcbiAgICAgIH1cbiAgICB8IG51bGwgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHByaXZhdGUgYnVmZmVyUGFkZGluZzogbnVtYmVyID0gMC4yO1xuICBwcml2YXRlIGhsczogSGxzO1xuICBwcml2YXRlIGhhc0dhcHM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuXG4gICAgdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0FQUEVOREVELCB0aGlzLm9uQnVmZmVyQXBwZW5kZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRlJBR19CVUZGRVJFRCwgdGhpcy5vbkZyYWdCdWZmZXJlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX0xPQURFRCwgdGhpcy5vbkZyYWdMb2FkZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub2ZmKEV2ZW50cy5CVUZGRVJfQVBQRU5ERUQsIHRoaXMub25CdWZmZXJBcHBlbmRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19CVUZGRVJFRCwgdGhpcy5vbkZyYWdCdWZmZXJlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19MT0FERUQsIHRoaXMub25GcmFnTG9hZGVkLCB0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMuX3VucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5mcmFnbWVudHMgPVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdGhpcy5hY3RpdmVQYXJ0TGlzdHMgPVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdGhpcy5lbmRMaXN0RnJhZ21lbnRzID1cbiAgICAgIHRoaXMudGltZVJhbmdlcyA9XG4gICAgICAgIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgRnJhZ21lbnQgb3IgUGFydCB3aXRoIGFuIGFwcGVuZGVkIHJhbmdlIHRoYXQgbWF0Y2hlcyB0aGUgcG9zaXRpb24gYW5kIGxldmVsVHlwZVxuICAgKiBPdGhlcndpc2UsIHJldHVybiBudWxsXG4gICAqL1xuICBwdWJsaWMgZ2V0QXBwZW5kZWRGcmFnKFxuICAgIHBvc2l0aW9uOiBudW1iZXIsXG4gICAgbGV2ZWxUeXBlOiBQbGF5bGlzdExldmVsVHlwZSxcbiAgKTogRnJhZ21lbnQgfCBQYXJ0IHwgbnVsbCB7XG4gICAgY29uc3QgYWN0aXZlUGFydHMgPSB0aGlzLmFjdGl2ZVBhcnRMaXN0c1tsZXZlbFR5cGVdO1xuICAgIGlmIChhY3RpdmVQYXJ0cykge1xuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZVBhcnRzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgY29uc3QgYWN0aXZlUGFydCA9IGFjdGl2ZVBhcnRzW2ldO1xuICAgICAgICBpZiAoIWFjdGl2ZVBhcnQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHBlbmRlZFBUUyA9IGFjdGl2ZVBhcnQuZW5kO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYWN0aXZlUGFydC5zdGFydCA8PSBwb3NpdGlvbiAmJlxuICAgICAgICAgIGFwcGVuZGVkUFRTICE9PSBudWxsICYmXG4gICAgICAgICAgcG9zaXRpb24gPD0gYXBwZW5kZWRQVFNcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGl2ZVBhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyZWRGcmFnKHBvc2l0aW9uLCBsZXZlbFR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGJ1ZmZlcmVkIEZyYWdtZW50IHRoYXQgbWF0Y2hlcyB0aGUgcG9zaXRpb24gYW5kIGxldmVsVHlwZS5cbiAgICogQSBidWZmZXJlZCBGcmFnbWVudCBpcyBvbmUgd2hvc2UgbG9hZGluZywgcGFyc2luZyBhbmQgYXBwZW5kaW5nIGlzIGRvbmUgKGNvbXBsZXRlZCBvciBcInBhcnRpYWxcIiBtZWFuaW5nIGFib3J0ZWQpLlxuICAgKiBJZiBub3QgZm91bmQgYW55IEZyYWdtZW50LCByZXR1cm4gbnVsbFxuICAgKi9cbiAgcHVibGljIGdldEJ1ZmZlcmVkRnJhZyhcbiAgICBwb3NpdGlvbjogbnVtYmVyLFxuICAgIGxldmVsVHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICk6IEZyYWdtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgeyBmcmFnbWVudHMgfSA9IHRoaXM7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50cyk7XG4gICAgZm9yIChsZXQgaSA9IGtleXMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgY29uc3QgZnJhZ21lbnRFbnRpdHkgPSBmcmFnbWVudHNba2V5c1tpXV07XG4gICAgICBpZiAoZnJhZ21lbnRFbnRpdHk/LmJvZHkudHlwZSA9PT0gbGV2ZWxUeXBlICYmIGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkKSB7XG4gICAgICAgIGNvbnN0IGZyYWcgPSBmcmFnbWVudEVudGl0eS5ib2R5O1xuICAgICAgICBpZiAoZnJhZy5zdGFydCA8PSBwb3NpdGlvbiAmJiBwb3NpdGlvbiA8PSBmcmFnLmVuZCkge1xuICAgICAgICAgIHJldHVybiBmcmFnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnRpYWwgZnJhZ21lbnRzIGVmZmVjdGVkIGJ5IGNvZGVkIGZyYW1lIGV2aWN0aW9uIHdpbGwgYmUgcmVtb3ZlZFxuICAgKiBUaGUgYnJvd3NlciB3aWxsIHVubG9hZCBwYXJ0cyBvZiB0aGUgYnVmZmVyIHRvIGZyZWUgdXAgbWVtb3J5IGZvciBuZXcgYnVmZmVyIGRhdGFcbiAgICogRnJhZ21lbnRzIHdpbGwgbmVlZCB0byBiZSByZWxvYWRlZCB3aGVuIHRoZSBidWZmZXIgaXMgZnJlZWQgdXAsIHJlbW92aW5nIHBhcnRpYWwgZnJhZ21lbnRzIHdpbGwgYWxsb3cgdGhlbSB0byByZWxvYWQoc2luY2UgdGhlcmUgbWlnaHQgYmUgcGFydHMgdGhhdCBhcmUgc3RpbGwgcGxheWFibGUpXG4gICAqL1xuICBwdWJsaWMgZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhcbiAgICBlbGVtZW50YXJ5U3RyZWFtOiBTb3VyY2VCdWZmZXJOYW1lLFxuICAgIHRpbWVSYW5nZTogVGltZVJhbmdlcyxcbiAgICBwbGF5bGlzdFR5cGU6IFBsYXlsaXN0TGV2ZWxUeXBlLFxuICAgIGFwcGVuZGVkUGFydD86IFBhcnQgfCBudWxsLFxuICApIHtcbiAgICBpZiAodGhpcy50aW1lUmFuZ2VzKSB7XG4gICAgICB0aGlzLnRpbWVSYW5nZXNbZWxlbWVudGFyeVN0cmVhbV0gPSB0aW1lUmFuZ2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIGFueSBmbGFnZ2VkIGZyYWdtZW50cyBoYXZlIGJlZW4gdW5sb2FkZWRcbiAgICAvLyBleGNsdWRpbmcgYW55dGhpbmcgbmV3ZXIgdGhhbiBhcHBlbmRlZFBhcnRTblxuICAgIGNvbnN0IGFwcGVuZGVkUGFydFNuID0gKGFwcGVuZGVkUGFydD8uZnJhZ21lbnQuc24gfHwgLTEpIGFzIG51bWJlcjtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2tleV07XG4gICAgICBpZiAoIWZyYWdtZW50RW50aXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhcHBlbmRlZFBhcnRTbiA+PSAoZnJhZ21lbnRFbnRpdHkuYm9keS5zbiBhcyBudW1iZXIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQgJiYgIWZyYWdtZW50RW50aXR5LmxvYWRlZCkge1xuICAgICAgICBpZiAoZnJhZ21lbnRFbnRpdHkuYm9keS50eXBlID09PSBwbGF5bGlzdFR5cGUpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUZyYWdtZW50KGZyYWdtZW50RW50aXR5LmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVzRGF0YSA9IGZyYWdtZW50RW50aXR5LnJhbmdlW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgaWYgKCFlc0RhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXNEYXRhLnRpbWUuc29tZSgodGltZTogRnJhZ21lbnRUaW1lUmFuZ2UpID0+IHtcbiAgICAgICAgY29uc3QgaXNOb3RCdWZmZXJlZCA9ICF0aGlzLmlzVGltZUJ1ZmZlcmVkKFxuICAgICAgICAgIHRpbWUuc3RhcnRQVFMsXG4gICAgICAgICAgdGltZS5lbmRQVFMsXG4gICAgICAgICAgdGltZVJhbmdlLFxuICAgICAgICApO1xuICAgICAgICBpZiAoaXNOb3RCdWZmZXJlZCkge1xuICAgICAgICAgIC8vIFVucmVnaXN0ZXIgcGFydGlhbCBmcmFnbWVudCBhcyBpdCBuZWVkcyB0byBsb2FkIGFnYWluIHRvIGJlIHJldXNlZFxuICAgICAgICAgIHRoaXMucmVtb3ZlRnJhZ21lbnQoZnJhZ21lbnRFbnRpdHkuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTm90QnVmZmVyZWQ7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZyYWdtZW50IHBhc3NlZCBpbiBpcyBsb2FkZWQgaW4gdGhlIGJ1ZmZlciBwcm9wZXJseVxuICAgKiBQYXJ0aWFsbHkgbG9hZGVkIGZyYWdtZW50cyB3aWxsIGJlIHJlZ2lzdGVyZWQgYXMgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAqL1xuICBwdWJsaWMgZGV0ZWN0UGFydGlhbEZyYWdtZW50cyhkYXRhOiBGcmFnQnVmZmVyZWREYXRhKSB7XG4gICAgY29uc3QgdGltZVJhbmdlcyA9IHRoaXMudGltZVJhbmdlcztcbiAgICBjb25zdCB7IGZyYWcsIHBhcnQgfSA9IGRhdGE7XG4gICAgaWYgKCF0aW1lUmFuZ2VzIHx8IGZyYWcuc24gPT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmcmFnS2V5ID0gZ2V0RnJhZ21lbnRLZXkoZnJhZyk7XG4gICAgY29uc3QgZnJhZ21lbnRFbnRpdHkgPSB0aGlzLmZyYWdtZW50c1tmcmFnS2V5XTtcbiAgICBpZiAoIWZyYWdtZW50RW50aXR5IHx8IChmcmFnbWVudEVudGl0eS5idWZmZXJlZCAmJiBmcmFnLmdhcCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNGcmFnSGludCA9ICFmcmFnLnJlbHVybDtcbiAgICBPYmplY3Qua2V5cyh0aW1lUmFuZ2VzKS5mb3JFYWNoKChlbGVtZW50YXJ5U3RyZWFtOiBTb3VyY2VCdWZmZXJOYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdHJlYW1JbmZvID0gZnJhZy5lbGVtZW50YXJ5U3RyZWFtc1tlbGVtZW50YXJ5U3RyZWFtXTtcbiAgICAgIGlmICghc3RyZWFtSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0aW1lUmFuZ2UgPSB0aW1lUmFuZ2VzW2VsZW1lbnRhcnlTdHJlYW1dIGFzIFRpbWVSYW5nZXM7XG4gICAgICBjb25zdCBwYXJ0aWFsID0gaXNGcmFnSGludCB8fCBzdHJlYW1JbmZvLnBhcnRpYWwgPT09IHRydWU7XG4gICAgICBmcmFnbWVudEVudGl0eS5yYW5nZVtlbGVtZW50YXJ5U3RyZWFtXSA9IHRoaXMuZ2V0QnVmZmVyZWRUaW1lcyhcbiAgICAgICAgZnJhZyxcbiAgICAgICAgcGFydCxcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGltZVJhbmdlLFxuICAgICAgKTtcbiAgICB9KTtcbiAgICBmcmFnbWVudEVudGl0eS5sb2FkZWQgPSBudWxsO1xuICAgIGlmIChPYmplY3Qua2V5cyhmcmFnbWVudEVudGl0eS5yYW5nZSkubGVuZ3RoKSB7XG4gICAgICBmcmFnbWVudEVudGl0eS5idWZmZXJlZCA9IHRydWU7XG4gICAgICBjb25zdCBlbmRMaXN0ID0gKGZyYWdtZW50RW50aXR5LmJvZHkuZW5kTGlzdCA9XG4gICAgICAgIGZyYWcuZW5kTGlzdCB8fCBmcmFnbWVudEVudGl0eS5ib2R5LmVuZExpc3QpO1xuICAgICAgaWYgKGVuZExpc3QpIHtcbiAgICAgICAgdGhpcy5lbmRMaXN0RnJhZ21lbnRzW2ZyYWdtZW50RW50aXR5LmJvZHkudHlwZV0gPSBmcmFnbWVudEVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNQYXJ0aWFsKGZyYWdtZW50RW50aXR5KSkge1xuICAgICAgICAvLyBSZW1vdmUgb2xkZXIgZnJhZ21lbnQgcGFydHMgZnJvbSBsb29rdXAgYWZ0ZXIgZnJhZyBpcyB0cmFja2VkIGFzIGJ1ZmZlcmVkXG4gICAgICAgIHRoaXMucmVtb3ZlUGFydHMoKGZyYWcuc24gYXMgbnVtYmVyKSAtIDEsIGZyYWcudHlwZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlbW92ZSBmcmFnbWVudCBpZiBub3RoaW5nIHdhcyBhcHBlbmRlZFxuICAgICAgdGhpcy5yZW1vdmVGcmFnbWVudChmcmFnbWVudEVudGl0eS5ib2R5KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZVBhcnRzKHNuVG9LZWVwOiBudW1iZXIsIGxldmVsVHlwZTogUGxheWxpc3RMZXZlbFR5cGUpIHtcbiAgICBjb25zdCBhY3RpdmVQYXJ0cyA9IHRoaXMuYWN0aXZlUGFydExpc3RzW2xldmVsVHlwZV07XG4gICAgaWYgKCFhY3RpdmVQYXJ0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZVBhcnRMaXN0c1tsZXZlbFR5cGVdID0gYWN0aXZlUGFydHMuZmlsdGVyKFxuICAgICAgKHBhcnQpID0+IChwYXJ0LmZyYWdtZW50LnNuIGFzIG51bWJlcikgPj0gc25Ub0tlZXAsXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmcmFnQnVmZmVyZWQoZnJhZzogRnJhZ21lbnQsIGZvcmNlPzogdHJ1ZSkge1xuICAgIGNvbnN0IGZyYWdLZXkgPSBnZXRGcmFnbWVudEtleShmcmFnKTtcbiAgICBsZXQgZnJhZ21lbnRFbnRpdHkgPSB0aGlzLmZyYWdtZW50c1tmcmFnS2V5XTtcbiAgICBpZiAoIWZyYWdtZW50RW50aXR5ICYmIGZvcmNlKSB7XG4gICAgICBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldID0ge1xuICAgICAgICBib2R5OiBmcmFnLFxuICAgICAgICBhcHBlbmRlZFBUUzogbnVsbCxcbiAgICAgICAgbG9hZGVkOiBudWxsLFxuICAgICAgICBidWZmZXJlZDogZmFsc2UsXG4gICAgICAgIHJhbmdlOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgfTtcbiAgICAgIGlmIChmcmFnLmdhcCkge1xuICAgICAgICB0aGlzLmhhc0dhcHMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgIGZyYWdtZW50RW50aXR5LmxvYWRlZCA9IG51bGw7XG4gICAgICBmcmFnbWVudEVudGl0eS5idWZmZXJlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRCdWZmZXJlZFRpbWVzKFxuICAgIGZyYWdtZW50OiBGcmFnbWVudCxcbiAgICBwYXJ0OiBQYXJ0IHwgbnVsbCxcbiAgICBwYXJ0aWFsOiBib29sZWFuLFxuICAgIHRpbWVSYW5nZTogVGltZVJhbmdlcyxcbiAgKTogRnJhZ21lbnRCdWZmZXJlZFJhbmdlIHtcbiAgICBjb25zdCBidWZmZXJlZDogRnJhZ21lbnRCdWZmZXJlZFJhbmdlID0ge1xuICAgICAgdGltZTogW10sXG4gICAgICBwYXJ0aWFsLFxuICAgIH07XG4gICAgY29uc3Qgc3RhcnRQVFMgPSBmcmFnbWVudC5zdGFydDtcbiAgICBjb25zdCBlbmRQVFMgPSBmcmFnbWVudC5lbmQ7XG4gICAgY29uc3QgbWluRW5kUFRTID0gZnJhZ21lbnQubWluRW5kUFRTIHx8IGVuZFBUUztcbiAgICBjb25zdCBtYXhTdGFydFBUUyA9IGZyYWdtZW50Lm1heFN0YXJ0UFRTIHx8IHN0YXJ0UFRTO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZVJhbmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSB0aW1lUmFuZ2Uuc3RhcnQoaSkgLSB0aGlzLmJ1ZmZlclBhZGRpbmc7XG4gICAgICBjb25zdCBlbmRUaW1lID0gdGltZVJhbmdlLmVuZChpKSArIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgIGlmIChtYXhTdGFydFBUUyA+PSBzdGFydFRpbWUgJiYgbWluRW5kUFRTIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgLy8gRnJhZ21lbnQgaXMgZW50aXJlbHkgY29udGFpbmVkIGluIGJ1ZmZlclxuICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSBvdGhlciB0aW1lUmFuZ2UgdGltZXMgc2luY2UgaXQncyBjb21wbGV0ZWx5IHBsYXlhYmxlXG4gICAgICAgIGJ1ZmZlcmVkLnRpbWUucHVzaCh7XG4gICAgICAgICAgc3RhcnRQVFM6IE1hdGgubWF4KHN0YXJ0UFRTLCB0aW1lUmFuZ2Uuc3RhcnQoaSkpLFxuICAgICAgICAgIGVuZFBUUzogTWF0aC5taW4oZW5kUFRTLCB0aW1lUmFuZ2UuZW5kKGkpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChzdGFydFBUUyA8IGVuZFRpbWUgJiYgZW5kUFRTID4gc3RhcnRUaW1lKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgoc3RhcnRQVFMsIHRpbWVSYW5nZS5zdGFydChpKSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKGVuZFBUUywgdGltZVJhbmdlLmVuZChpKSk7XG4gICAgICAgIGlmIChlbmQgPiBzdGFydCkge1xuICAgICAgICAgIGJ1ZmZlcmVkLnBhcnRpYWwgPSB0cnVlO1xuICAgICAgICAgIC8vIENoZWNrIGZvciBpbnRlcnNlY3Rpb24gd2l0aCBidWZmZXJcbiAgICAgICAgICAvLyBHZXQgcGxheWFibGUgc2VjdGlvbnMgb2YgdGhlIGZyYWdtZW50XG4gICAgICAgICAgYnVmZmVyZWQudGltZS5wdXNoKHtcbiAgICAgICAgICAgIHN0YXJ0UFRTOiBzdGFydCxcbiAgICAgICAgICAgIGVuZFBUUzogZW5kLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVuZFBUUyA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBjaGVjayB0aGUgcmVzdCBvZiB0aGUgdGltZVJhbmdlIGFzIGl0IGlzIGluIG9yZGVyXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyZWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcGFydGlhbCBmcmFnbWVudCBmb3IgYSBjZXJ0YWluIHRpbWVcbiAgICovXG4gIHB1YmxpYyBnZXRQYXJ0aWFsRnJhZ21lbnQodGltZTogbnVtYmVyKTogRnJhZ21lbnQgfCBudWxsIHtcbiAgICBsZXQgYmVzdEZyYWdtZW50OiBGcmFnbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGxldCB0aW1lUGFkZGluZzogbnVtYmVyO1xuICAgIGxldCBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBsZXQgZW5kVGltZTogbnVtYmVyO1xuICAgIGxldCBiZXN0T3ZlcmxhcDogbnVtYmVyID0gMDtcbiAgICBjb25zdCB7IGJ1ZmZlclBhZGRpbmcsIGZyYWdtZW50cyB9ID0gdGhpcztcbiAgICBPYmplY3Qua2V5cyhmcmFnbWVudHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgZnJhZ21lbnRFbnRpdHkgPSBmcmFnbWVudHNba2V5XTtcbiAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzUGFydGlhbChmcmFnbWVudEVudGl0eSkpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gZnJhZ21lbnRFbnRpdHkuYm9keS5zdGFydCAtIGJ1ZmZlclBhZGRpbmc7XG4gICAgICAgIGVuZFRpbWUgPSBmcmFnbWVudEVudGl0eS5ib2R5LmVuZCArIGJ1ZmZlclBhZGRpbmc7XG4gICAgICAgIGlmICh0aW1lID49IHN0YXJ0VGltZSAmJiB0aW1lIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgICAvLyBVc2UgdGhlIGZyYWdtZW50IHRoYXQgaGFzIHRoZSBtb3N0IHBhZGRpbmcgZnJvbSBzdGFydCBhbmQgZW5kIHRpbWVcbiAgICAgICAgICB0aW1lUGFkZGluZyA9IE1hdGgubWluKHRpbWUgLSBzdGFydFRpbWUsIGVuZFRpbWUgLSB0aW1lKTtcbiAgICAgICAgICBpZiAoYmVzdE92ZXJsYXAgPD0gdGltZVBhZGRpbmcpIHtcbiAgICAgICAgICAgIGJlc3RGcmFnbWVudCA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICAgICAgICBiZXN0T3ZlcmxhcCA9IHRpbWVQYWRkaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBiZXN0RnJhZ21lbnQ7XG4gIH1cblxuICBwdWJsaWMgaXNFbmRMaXN0QXBwZW5kZWQodHlwZTogUGxheWxpc3RMZXZlbFR5cGUpOiBib29sZWFuIHtcbiAgICBjb25zdCBsYXN0RnJhZ21lbnRFbnRpdHkgPSB0aGlzLmVuZExpc3RGcmFnbWVudHNbdHlwZV07XG4gICAgcmV0dXJuIChcbiAgICAgIGxhc3RGcmFnbWVudEVudGl0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAobGFzdEZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkIHx8IGlzUGFydGlhbChsYXN0RnJhZ21lbnRFbnRpdHkpKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RhdGUoZnJhZ21lbnQ6IEZyYWdtZW50KTogRnJhZ21lbnRTdGF0ZSB7XG4gICAgY29uc3QgZnJhZ0tleSA9IGdldEZyYWdtZW50S2V5KGZyYWdtZW50KTtcbiAgICBjb25zdCBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuXG4gICAgaWYgKGZyYWdtZW50RW50aXR5KSB7XG4gICAgICBpZiAoIWZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkKSB7XG4gICAgICAgIHJldHVybiBGcmFnbWVudFN0YXRlLkFQUEVORElORztcbiAgICAgIH0gZWxzZSBpZiAoaXNQYXJ0aWFsKGZyYWdtZW50RW50aXR5KSkge1xuICAgICAgICByZXR1cm4gRnJhZ21lbnRTdGF0ZS5QQVJUSUFMO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZyYWdtZW50U3RhdGUuT0s7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEZyYWdtZW50U3RhdGUuTk9UX0xPQURFRDtcbiAgfVxuXG4gIHByaXZhdGUgaXNUaW1lQnVmZmVyZWQoXG4gICAgc3RhcnRQVFM6IG51bWJlcixcbiAgICBlbmRQVFM6IG51bWJlcixcbiAgICB0aW1lUmFuZ2U6IFRpbWVSYW5nZXMsXG4gICk6IGJvb2xlYW4ge1xuICAgIGxldCBzdGFydFRpbWU7XG4gICAgbGV0IGVuZFRpbWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lUmFuZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0YXJ0VGltZSA9IHRpbWVSYW5nZS5zdGFydChpKSAtIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgIGVuZFRpbWUgPSB0aW1lUmFuZ2UuZW5kKGkpICsgdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgaWYgKHN0YXJ0UFRTID49IHN0YXJ0VGltZSAmJiBlbmRQVFMgPD0gZW5kVGltZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVuZFBUUyA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBjaGVjayB0aGUgcmVzdCBvZiB0aGUgdGltZVJhbmdlIGFzIGl0IGlzIGluIG9yZGVyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0xvYWRlZChldmVudDogRXZlbnRzLkZSQUdfTE9BREVELCBkYXRhOiBGcmFnTG9hZGVkRGF0YSkge1xuICAgIGNvbnN0IHsgZnJhZywgcGFydCB9ID0gZGF0YTtcbiAgICAvLyBkb24ndCB0cmFjayBpbml0c2VnbWVudCAoZm9yIHdoaWNoIHNuIGlzIG5vdCBhIG51bWJlcilcbiAgICAvLyBkb24ndCB0cmFjayBmcmFncyB1c2VkIGZvciBiaXRyYXRlVGVzdCwgdGhleSdyZSBpcnJlbGV2YW50LlxuICAgIGlmIChmcmFnLnNuID09PSAnaW5pdFNlZ21lbnQnIHx8IGZyYWcuYml0cmF0ZVRlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGcmFnbWVudCBlbnRpdHkgYGxvYWRlZGAgRnJhZ0xvYWRlZERhdGEgaXMgbnVsbCB3aGVuIGxvYWRpbmcgcGFydHNcbiAgICBjb25zdCBsb2FkZWQgPSBwYXJ0ID8gbnVsbCA6IGRhdGE7XG5cbiAgICBjb25zdCBmcmFnS2V5ID0gZ2V0RnJhZ21lbnRLZXkoZnJhZyk7XG4gICAgdGhpcy5mcmFnbWVudHNbZnJhZ0tleV0gPSB7XG4gICAgICBib2R5OiBmcmFnLFxuICAgICAgYXBwZW5kZWRQVFM6IG51bGwsXG4gICAgICBsb2FkZWQsXG4gICAgICBidWZmZXJlZDogZmFsc2UsXG4gICAgICByYW5nZTogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1ZmZlckFwcGVuZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuQlVGRkVSX0FQUEVOREVELFxuICAgIGRhdGE6IEJ1ZmZlckFwcGVuZGVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBmcmFnLCBwYXJ0LCB0aW1lUmFuZ2VzIH0gPSBkYXRhO1xuICAgIGlmIChmcmFnLnNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBsYXlsaXN0VHlwZSA9IGZyYWcudHlwZTtcbiAgICBpZiAocGFydCkge1xuICAgICAgbGV0IGFjdGl2ZVBhcnRzID0gdGhpcy5hY3RpdmVQYXJ0TGlzdHNbcGxheWxpc3RUeXBlXTtcbiAgICAgIGlmICghYWN0aXZlUGFydHMpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVQYXJ0TGlzdHNbcGxheWxpc3RUeXBlXSA9IGFjdGl2ZVBhcnRzID0gW107XG4gICAgICB9XG4gICAgICBhY3RpdmVQYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgICAvLyBTdG9yZSB0aGUgbGF0ZXN0IHRpbWVSYW5nZXMgbG9hZGVkIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLnRpbWVSYW5nZXMgPSB0aW1lUmFuZ2VzO1xuICAgIE9iamVjdC5rZXlzKHRpbWVSYW5nZXMpLmZvckVhY2goKGVsZW1lbnRhcnlTdHJlYW06IFNvdXJjZUJ1ZmZlck5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IHRpbWVSYW5nZXNbZWxlbWVudGFyeVN0cmVhbV0gYXMgVGltZVJhbmdlcztcbiAgICAgIHRoaXMuZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhcbiAgICAgICAgZWxlbWVudGFyeVN0cmVhbSxcbiAgICAgICAgdGltZVJhbmdlLFxuICAgICAgICBwbGF5bGlzdFR5cGUsXG4gICAgICAgIHBhcnQsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkZyYWdCdWZmZXJlZChldmVudDogRXZlbnRzLkZSQUdfQlVGRkVSRUQsIGRhdGE6IEZyYWdCdWZmZXJlZERhdGEpIHtcbiAgICB0aGlzLmRldGVjdFBhcnRpYWxGcmFnbWVudHMoZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGhhc0ZyYWdtZW50KGZyYWdtZW50OiBGcmFnbWVudCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZyYWdLZXkgPSBnZXRGcmFnbWVudEtleShmcmFnbWVudCk7XG4gICAgcmV0dXJuICEhdGhpcy5mcmFnbWVudHNbZnJhZ0tleV07XG4gIH1cblxuICBwdWJsaWMgaGFzUGFydHModHlwZTogUGxheWxpc3RMZXZlbFR5cGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmFjdGl2ZVBhcnRMaXN0c1t0eXBlXT8ubGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUZyYWdtZW50c0luUmFuZ2UoXG4gICAgc3RhcnQ6IG51bWJlcixcbiAgICBlbmQ6IG51bWJlcixcbiAgICBwbGF5bGlzdFR5cGU6IFBsYXlsaXN0TGV2ZWxUeXBlLFxuICAgIHdpdGhHYXBPbmx5PzogYm9vbGVhbixcbiAgICB1bmJ1ZmZlcmVkT25seT86IGJvb2xlYW4sXG4gICkge1xuICAgIGlmICh3aXRoR2FwT25seSAmJiAhdGhpcy5oYXNHYXBzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHRoaXMuZnJhZ21lbnRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGZyYWdtZW50RW50aXR5ID0gdGhpcy5mcmFnbWVudHNba2V5XTtcbiAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZnJhZyA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICBpZiAoZnJhZy50eXBlICE9PSBwbGF5bGlzdFR5cGUgfHwgKHdpdGhHYXBPbmx5ICYmICFmcmFnLmdhcCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBmcmFnLnN0YXJ0IDwgZW5kICYmXG4gICAgICAgIGZyYWcuZW5kID4gc3RhcnQgJiZcbiAgICAgICAgKGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkIHx8IHVuYnVmZmVyZWRPbmx5KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlRnJhZ21lbnQoZnJhZ21lbnQ6IEZyYWdtZW50KSB7XG4gICAgY29uc3QgZnJhZ0tleSA9IGdldEZyYWdtZW50S2V5KGZyYWdtZW50KTtcbiAgICBmcmFnbWVudC5zdGF0cy5sb2FkZWQgPSAwO1xuICAgIGZyYWdtZW50LmNsZWFyRWxlbWVudGFyeVN0cmVhbUluZm8oKTtcbiAgICBjb25zdCBhY3RpdmVQYXJ0cyA9IHRoaXMuYWN0aXZlUGFydExpc3RzW2ZyYWdtZW50LnR5cGVdO1xuICAgIGlmIChhY3RpdmVQYXJ0cykge1xuICAgICAgY29uc3Qgc25Ub1JlbW92ZSA9IGZyYWdtZW50LnNuO1xuICAgICAgdGhpcy5hY3RpdmVQYXJ0TGlzdHNbZnJhZ21lbnQudHlwZV0gPSBhY3RpdmVQYXJ0cy5maWx0ZXIoXG4gICAgICAgIChwYXJ0KSA9PiBwYXJ0LmZyYWdtZW50LnNuICE9PSBzblRvUmVtb3ZlLFxuICAgICAgKTtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgIGlmIChmcmFnbWVudC5lbmRMaXN0KSB7XG4gICAgICBkZWxldGUgdGhpcy5lbmRMaXN0RnJhZ21lbnRzW2ZyYWdtZW50LnR5cGVdO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVBbGxGcmFnbWVudHMoKSB7XG4gICAgdGhpcy5mcmFnbWVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuZW5kTGlzdEZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5hY3RpdmVQYXJ0TGlzdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuaGFzR2FwcyA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzUGFydGlhbChmcmFnbWVudEVudGl0eTogRnJhZ21lbnRFbnRpdHkpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBmcmFnbWVudEVudGl0eS5idWZmZXJlZCAmJlxuICAgIChmcmFnbWVudEVudGl0eS5ib2R5LmdhcCB8fFxuICAgICAgZnJhZ21lbnRFbnRpdHkucmFuZ2UudmlkZW8/LnBhcnRpYWwgfHxcbiAgICAgIGZyYWdtZW50RW50aXR5LnJhbmdlLmF1ZGlvPy5wYXJ0aWFsIHx8XG4gICAgICBmcmFnbWVudEVudGl0eS5yYW5nZS5hdWRpb3ZpZGVvPy5wYXJ0aWFsKVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRGcmFnbWVudEtleShmcmFnbWVudDogRnJhZ21lbnQpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7ZnJhZ21lbnQudHlwZX1fJHtmcmFnbWVudC5sZXZlbH1fJHtmcmFnbWVudC5zbn1gO1xufVxuIiwgIi8qKlxuICogUHJvdmlkZXMgbWV0aG9kcyBkZWFsaW5nIHdpdGggYnVmZmVyIGxlbmd0aCByZXRyaWV2YWwgZm9yIGV4YW1wbGUuXG4gKlxuICogSW4gZ2VuZXJhbCwgYSBoZWxwZXIgYXJvdW5kIEhUTUw1IE1lZGlhRWxlbWVudCBUaW1lUmFuZ2VzIGdhdGhlcmVkIGZyb20gYGJ1ZmZlcmVkYCBwcm9wZXJ0eS5cbiAqXG4gKiBBbHNvIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvYnVmZmVyZWRcbiAqL1xuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbnR5cGUgQnVmZmVyVGltZVJhbmdlID0ge1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEJ1ZmZlcmFibGUgPSB7XG4gIGJ1ZmZlcmVkOiBUaW1lUmFuZ2VzO1xufTtcblxuZXhwb3J0IHR5cGUgQnVmZmVySW5mbyA9IHtcbiAgbGVuOiBudW1iZXI7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xuICBuZXh0U3RhcnQ/OiBudW1iZXI7XG59O1xuXG5jb25zdCBub29wQnVmZmVyZWQ6IFRpbWVSYW5nZXMgPSB7XG4gIGxlbmd0aDogMCxcbiAgc3RhcnQ6ICgpID0+IDAsXG4gIGVuZDogKCkgPT4gMCxcbn07XG5cbmV4cG9ydCBjbGFzcyBCdWZmZXJIZWxwZXIge1xuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgYG1lZGlhYCdzIGJ1ZmZlcmVkIGluY2x1ZGUgYHBvc2l0aW9uYFxuICAgKi9cbiAgc3RhdGljIGlzQnVmZmVyZWQobWVkaWE6IEJ1ZmZlcmFibGUsIHBvc2l0aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICB0cnkge1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcmVkID0gQnVmZmVySGVscGVyLmdldEJ1ZmZlcmVkKG1lZGlhKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChwb3NpdGlvbiA+PSBidWZmZXJlZC5zdGFydChpKSAmJiBwb3NpdGlvbiA8PSBidWZmZXJlZC5lbmQoaSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgYnVmZmVySW5mbyhcbiAgICBtZWRpYTogQnVmZmVyYWJsZSB8IG51bGwsXG4gICAgcG9zOiBudW1iZXIsXG4gICAgbWF4SG9sZUR1cmF0aW9uOiBudW1iZXIsXG4gICk6IEJ1ZmZlckluZm8ge1xuICAgIHRyeSB7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgY29uc3QgdmJ1ZmZlcmVkID0gQnVmZmVySGVscGVyLmdldEJ1ZmZlcmVkKG1lZGlhKTtcbiAgICAgICAgY29uc3QgYnVmZmVyZWQ6IEJ1ZmZlclRpbWVSYW5nZVtdID0gW107XG4gICAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBidWZmZXJlZC5wdXNoKHsgc3RhcnQ6IHZidWZmZXJlZC5zdGFydChpKSwgZW5kOiB2YnVmZmVyZWQuZW5kKGkpIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRJbmZvKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHRoaXMgaXMgdG8gY2F0Y2hcbiAgICAgIC8vIEludmFsaWRTdGF0ZUVycm9yOiBGYWlsZWQgdG8gcmVhZCB0aGUgJ2J1ZmZlcmVkJyBwcm9wZXJ0eSBmcm9tICdTb3VyY2VCdWZmZXInOlxuICAgICAgLy8gVGhpcyBTb3VyY2VCdWZmZXIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBwYXJlbnQgbWVkaWEgc291cmNlXG4gICAgfVxuICAgIHJldHVybiB7IGxlbjogMCwgc3RhcnQ6IHBvcywgZW5kOiBwb3MsIG5leHRTdGFydDogdW5kZWZpbmVkIH07XG4gIH1cblxuICBzdGF0aWMgYnVmZmVyZWRJbmZvKFxuICAgIGJ1ZmZlcmVkOiBCdWZmZXJUaW1lUmFuZ2VbXSxcbiAgICBwb3M6IG51bWJlcixcbiAgICBtYXhIb2xlRHVyYXRpb246IG51bWJlcixcbiAgKToge1xuICAgIGxlbjogbnVtYmVyO1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG4gICAgbmV4dFN0YXJ0PzogbnVtYmVyO1xuICB9IHtcbiAgICBwb3MgPSBNYXRoLm1heCgwLCBwb3MpO1xuICAgIC8vIHNvcnQgb24gYnVmZmVyLnN0YXJ0L3NtYWxsZXIgZW5kIChJRSBkb2VzIG5vdCBhbHdheXMgcmV0dXJuIHNvcnRlZCBidWZmZXJlZCByYW5nZSlcbiAgICBidWZmZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBjb25zdCBkaWZmID0gYS5zdGFydCAtIGIuc3RhcnQ7XG4gICAgICBpZiAoZGlmZikge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiLmVuZCAtIGEuZW5kO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGJ1ZmZlcmVkMjogQnVmZmVyVGltZVJhbmdlW10gPSBbXTtcbiAgICBpZiAobWF4SG9sZUR1cmF0aW9uKSB7XG4gICAgICAvLyB0aGVyZSBtaWdodCBiZSBzb21lIHNtYWxsIGhvbGVzIGJldHdlZW4gYnVmZmVyIHRpbWUgcmFuZ2VcbiAgICAgIC8vIGNvbnNpZGVyIHRoYXQgaG9sZXMgc21hbGxlciB0aGFuIG1heEhvbGVEdXJhdGlvbiBhcmUgaXJyZWxldmFudCBhbmQgYnVpbGQgYW5vdGhlclxuICAgICAgLy8gYnVmZmVyIHRpbWUgcmFuZ2UgcmVwcmVzZW50YXRpb25zIHRoYXQgZGlzY2FyZHMgdGhvc2UgaG9sZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYnVmMmxlbiA9IGJ1ZmZlcmVkMi5sZW5ndGg7XG4gICAgICAgIGlmIChidWYybGVuKSB7XG4gICAgICAgICAgY29uc3QgYnVmMmVuZCA9IGJ1ZmZlcmVkMltidWYybGVuIC0gMV0uZW5kO1xuICAgICAgICAgIC8vIGlmIHNtYWxsIGhvbGUgKHZhbHVlIGJldHdlZW4gMCBvciBtYXhIb2xlRHVyYXRpb24gKSBvciBvdmVybGFwcGluZyAobmVnYXRpdmUpXG4gICAgICAgICAgaWYgKGJ1ZmZlcmVkW2ldLnN0YXJ0IC0gYnVmMmVuZCA8IG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgLy8gbWVyZ2Ugb3ZlcmxhcHBpbmcgdGltZSByYW5nZXNcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsYXN0UmFuZ2UuZW5kIG9ubHkgaWYgc21hbGxlciB0aGFuIGl0ZW0uZW5kXG4gICAgICAgICAgICAvLyBlLmcuICBbIDEsIDE1XSB3aXRoICBbIDIsOF0gPT4gWyAxLDE1XSAobm8gbmVlZCB0byBtb2RpZnkgbGFzdFJhbmdlLmVuZClcbiAgICAgICAgICAgIC8vIHdoZXJlYXMgWyAxLCA4XSB3aXRoICBbIDIsMTVdID0+IFsgMSwxNV0gKCBsYXN0UmFuZ2Ugc2hvdWxkIHN3aXRjaCBmcm9tIFsxLDhdIHRvIFsxLDE1XSlcbiAgICAgICAgICAgIGlmIChidWZmZXJlZFtpXS5lbmQgPiBidWYyZW5kKSB7XG4gICAgICAgICAgICAgIGJ1ZmZlcmVkMltidWYybGVuIC0gMV0uZW5kID0gYnVmZmVyZWRbaV0uZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBiaWcgaG9sZVxuICAgICAgICAgICAgYnVmZmVyZWQyLnB1c2goYnVmZmVyZWRbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmaXJzdCB2YWx1ZVxuICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXJlZDIgPSBidWZmZXJlZDtcbiAgICB9XG5cbiAgICBsZXQgYnVmZmVyTGVuID0gMDtcblxuICAgIC8vIGJ1ZmZlclN0YXJ0TmV4dCBjYW4gcG9zc2libHkgYmUgdW5kZWZpbmVkIGJhc2VkIG9uIHRoZSBjb25kaXRpb25hbCBsb2dpYyBiZWxvd1xuICAgIGxldCBidWZmZXJTdGFydE5leHQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIC8vIGJ1ZmZlclN0YXJ0IGFuZCBidWZmZXJFbmQgYXJlIGJ1ZmZlciBib3VuZGFyaWVzIGFyb3VuZCBjdXJyZW50IHZpZGVvIHBvc2l0aW9uXG4gICAgbGV0IGJ1ZmZlclN0YXJ0OiBudW1iZXIgPSBwb3M7XG4gICAgbGV0IGJ1ZmZlckVuZDogbnVtYmVyID0gcG9zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGJ1ZmZlcmVkMltpXS5zdGFydDtcbiAgICAgIGNvbnN0IGVuZCA9IGJ1ZmZlcmVkMltpXS5lbmQ7XG4gICAgICAvLyBsb2dnZXIubG9nKCdidWYgc3RhcnQvZW5kOicgKyBidWZmZXJlZC5zdGFydChpKSArICcvJyArIGJ1ZmZlcmVkLmVuZChpKSk7XG4gICAgICBpZiAocG9zICsgbWF4SG9sZUR1cmF0aW9uID49IHN0YXJ0ICYmIHBvcyA8IGVuZCkge1xuICAgICAgICAvLyBwbGF5IHBvc2l0aW9uIGlzIGluc2lkZSB0aGlzIGJ1ZmZlciBUaW1lUmFuZ2UsIHJldHJpZXZlIGVuZCBvZiBidWZmZXIgcG9zaXRpb24gYW5kIGJ1ZmZlciBsZW5ndGhcbiAgICAgICAgYnVmZmVyU3RhcnQgPSBzdGFydDtcbiAgICAgICAgYnVmZmVyRW5kID0gZW5kO1xuICAgICAgICBidWZmZXJMZW4gPSBidWZmZXJFbmQgLSBwb3M7XG4gICAgICB9IGVsc2UgaWYgKHBvcyArIG1heEhvbGVEdXJhdGlvbiA8IHN0YXJ0KSB7XG4gICAgICAgIGJ1ZmZlclN0YXJ0TmV4dCA9IHN0YXJ0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlbjogYnVmZmVyTGVuLFxuICAgICAgc3RhcnQ6IGJ1ZmZlclN0YXJ0IHx8IDAsXG4gICAgICBlbmQ6IGJ1ZmZlckVuZCB8fCAwLFxuICAgICAgbmV4dFN0YXJ0OiBidWZmZXJTdGFydE5leHQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYWZlIG1ldGhvZCB0byBnZXQgYnVmZmVyZWQgcHJvcGVydHkuXG4gICAqIFNvdXJjZUJ1ZmZlci5idWZmZXJlZCBtYXkgdGhyb3cgaWYgU291cmNlQnVmZmVyIGlzIHJlbW92ZWQgZnJvbSBpdCdzIE1lZGlhU291cmNlXG4gICAqL1xuICBzdGF0aWMgZ2V0QnVmZmVyZWQobWVkaWE6IEJ1ZmZlcmFibGUpOiBUaW1lUmFuZ2VzIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG1lZGlhLmJ1ZmZlcmVkO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2coJ2ZhaWxlZCB0byBnZXQgbWVkaWEuYnVmZmVyZWQnLCBlKTtcbiAgICAgIHJldHVybiBub29wQnVmZmVyZWQ7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBSZW11eGVyUmVzdWx0IH0gZnJvbSAnLi9yZW11eGVyJztcbmltcG9ydCB0eXBlIHsgSGxzQ2h1bmtQZXJmb3JtYW5jZVRpbWluZyB9IGZyb20gJy4vbG9hZGVyJztcbmltcG9ydCB0eXBlIHsgU291cmNlQnVmZmVyTmFtZSB9IGZyb20gJy4vYnVmZmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc211eGVyUmVzdWx0IHtcbiAgcmVtdXhSZXN1bHQ6IFJlbXV4ZXJSZXN1bHQ7XG4gIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YTtcbn1cblxuZXhwb3J0IGNsYXNzIENodW5rTWV0YWRhdGEge1xuICBwdWJsaWMgcmVhZG9ubHkgbGV2ZWw6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IHNuOiBudW1iZXI7XG4gIHB1YmxpYyByZWFkb25seSBwYXJ0OiBudW1iZXI7XG4gIHB1YmxpYyByZWFkb25seSBpZDogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgcGFydGlhbDogYm9vbGVhbjtcbiAgcHVibGljIHJlYWRvbmx5IHRyYW5zbXV4aW5nOiBIbHNDaHVua1BlcmZvcm1hbmNlVGltaW5nID1cbiAgICBnZXROZXdQZXJmb3JtYW5jZVRpbWluZygpO1xuICBwdWJsaWMgcmVhZG9ubHkgYnVmZmVyaW5nOiB7XG4gICAgW2tleSBpbiBTb3VyY2VCdWZmZXJOYW1lXTogSGxzQ2h1bmtQZXJmb3JtYW5jZVRpbWluZztcbiAgfSA9IHtcbiAgICBhdWRpbzogZ2V0TmV3UGVyZm9ybWFuY2VUaW1pbmcoKSxcbiAgICB2aWRlbzogZ2V0TmV3UGVyZm9ybWFuY2VUaW1pbmcoKSxcbiAgICBhdWRpb3ZpZGVvOiBnZXROZXdQZXJmb3JtYW5jZVRpbWluZygpLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGxldmVsOiBudW1iZXIsXG4gICAgc246IG51bWJlcixcbiAgICBpZDogbnVtYmVyLFxuICAgIHNpemUgPSAwLFxuICAgIHBhcnQgPSAtMSxcbiAgICBwYXJ0aWFsID0gZmFsc2UsXG4gICkge1xuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB0aGlzLnNuID0gc247XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5wYXJ0ID0gcGFydDtcbiAgICB0aGlzLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE5ld1BlcmZvcm1hbmNlVGltaW5nKCk6IEhsc0NodW5rUGVyZm9ybWFuY2VUaW1pbmcge1xuICByZXR1cm4geyBzdGFydDogMCwgZXhlY3V0ZVN0YXJ0OiAwLCBleGVjdXRlRW5kOiAwLCBlbmQ6IDAgfTtcbn1cbiIsICJpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBhZGp1c3RTbGlkaW5nIH0gZnJvbSAnLi9sZXZlbC1oZWxwZXInO1xuXG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWRldGFpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZEZpcnN0RnJhZ1dpdGhDQyhcbiAgZnJhZ21lbnRzOiBGcmFnbWVudFtdLFxuICBjYzogbnVtYmVyLFxuKTogRnJhZ21lbnQgfCBudWxsIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGZyYWdtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChmcmFnbWVudHNbaV0/LmNjID09PSBjYykge1xuICAgICAgcmV0dXJuIGZyYWdtZW50c1tpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzKFxuICBsYXN0RnJhZzogRnJhZ21lbnQgfCBudWxsLFxuICBzd2l0Y2hEZXRhaWxzOiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQsXG4gIGRldGFpbHM6IExldmVsRGV0YWlscyxcbik6IHN3aXRjaERldGFpbHMgaXMgTGV2ZWxEZXRhaWxzICYgYm9vbGVhbiB7XG4gIGlmIChzd2l0Y2hEZXRhaWxzKSB7XG4gICAgaWYgKFxuICAgICAgZGV0YWlscy5lbmRDQyA+IGRldGFpbHMuc3RhcnRDQyB8fFxuICAgICAgKGxhc3RGcmFnICYmIGxhc3RGcmFnLmNjIDwgZGV0YWlscy5zdGFydENDKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gRmluZCB0aGUgZmlyc3QgZnJhZyBpbiB0aGUgcHJldmlvdXMgbGV2ZWwgd2hpY2ggbWF0Y2hlcyB0aGUgQ0Mgb2YgdGhlIGZpcnN0IGZyYWcgb2YgdGhlIG5ldyBsZXZlbFxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREaXNjb250aW51b3VzUmVmZXJlbmNlRnJhZyhcbiAgcHJldkRldGFpbHM6IExldmVsRGV0YWlscyxcbiAgY3VyRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuKSB7XG4gIGNvbnN0IHByZXZGcmFncyA9IHByZXZEZXRhaWxzLmZyYWdtZW50cztcbiAgY29uc3QgY3VyRnJhZ3MgPSBjdXJEZXRhaWxzLmZyYWdtZW50cztcblxuICBpZiAoIWN1ckZyYWdzLmxlbmd0aCB8fCAhcHJldkZyYWdzLmxlbmd0aCkge1xuICAgIGxvZ2dlci5sb2coJ05vIGZyYWdtZW50cyB0byBhbGlnbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHByZXZTdGFydEZyYWcgPSBmaW5kRmlyc3RGcmFnV2l0aENDKHByZXZGcmFncywgY3VyRnJhZ3NbMF0uY2MpO1xuXG4gIGlmICghcHJldlN0YXJ0RnJhZyB8fCAocHJldlN0YXJ0RnJhZyAmJiAhcHJldlN0YXJ0RnJhZy5zdGFydFBUUykpIHtcbiAgICBsb2dnZXIubG9nKCdObyBmcmFnIGluIHByZXZpb3VzIGxldmVsIHRvIGFsaWduIG9uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHByZXZTdGFydEZyYWc7XG59XG5cbmZ1bmN0aW9uIGFkanVzdEZyYWdtZW50U3RhcnQoZnJhZzogRnJhZ21lbnQsIHNsaWRpbmc6IG51bWJlcikge1xuICBpZiAoZnJhZykge1xuICAgIGNvbnN0IHN0YXJ0ID0gZnJhZy5zdGFydCArIHNsaWRpbmc7XG4gICAgZnJhZy5zdGFydCA9IGZyYWcuc3RhcnRQVFMgPSBzdGFydDtcbiAgICBmcmFnLmVuZFBUUyA9IHN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0U2xpZGluZ1N0YXJ0KHNsaWRpbmc6IG51bWJlciwgZGV0YWlsczogTGV2ZWxEZXRhaWxzKSB7XG4gIC8vIFVwZGF0ZSBzZWdtZW50c1xuICBjb25zdCBmcmFnbWVudHMgPSBkZXRhaWxzLmZyYWdtZW50cztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGZyYWdtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGFkanVzdEZyYWdtZW50U3RhcnQoZnJhZ21lbnRzW2ldLCBzbGlkaW5nKTtcbiAgfVxuICAvLyBVcGRhdGUgTEwtSExTIHBhcnRzIGF0IHRoZSBlbmQgb2YgdGhlIHBsYXlsaXN0XG4gIGlmIChkZXRhaWxzLmZyYWdtZW50SGludCkge1xuICAgIGFkanVzdEZyYWdtZW50U3RhcnQoZGV0YWlscy5mcmFnbWVudEhpbnQsIHNsaWRpbmcpO1xuICB9XG4gIGRldGFpbHMuYWxpZ25lZFNsaWRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIFVzaW5nIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBsYXN0IGxldmVsLCB0aGlzIGZ1bmN0aW9uIGNvbXB1dGVzIFBUUycgb2YgdGhlIG5ldyBmcmFnbWVudHMgc28gdGhhdCB0aGV5IGZvcm0gYVxuICogY29udGlndW91cyBzdHJlYW0gd2l0aCB0aGUgbGFzdCBmcmFnbWVudHMuXG4gKiBUaGUgUFRTIG9mIGEgZnJhZ21lbnQgbGV0cyBIbHMuanMga25vdyB3aGVyZSBpdCBmaXRzIGludG8gYSBzdHJlYW0gLSBieSBrbm93aW5nIGV2ZXJ5IFBUUywgd2Uga25vdyB3aGljaCBmcmFnbWVudCB0b1xuICogZG93bmxvYWQgYXQgYW55IGdpdmVuIHRpbWUuIFBUUyBpcyBub3JtYWxseSBjb21wdXRlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBkZW11eGVkLCBzbyB0YWtpbmcgdGhpcyBzdGVwIHNhdmVzIHVzIHRpbWVcbiAqIGFuZCBhbiBleHRyYSBkb3dubG9hZC5cbiAqIEBwYXJhbSBsYXN0RnJhZ1xuICogQHBhcmFtIGxhc3RMZXZlbFxuICogQHBhcmFtIGRldGFpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsaWduU3RyZWFtKFxuICBsYXN0RnJhZzogRnJhZ21lbnQgfCBudWxsLFxuICBzd2l0Y2hEZXRhaWxzOiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQsXG4gIGRldGFpbHM6IExldmVsRGV0YWlscyxcbikge1xuICBpZiAoIXN3aXRjaERldGFpbHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYWxpZ25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGRldGFpbHMsIHN3aXRjaERldGFpbHMpO1xuICBpZiAoIWRldGFpbHMuYWxpZ25lZFNsaWRpbmcgJiYgc3dpdGNoRGV0YWlscykge1xuICAgIC8vIElmIHRoZSBQVFMgd2Fzbid0IGZpZ3VyZWQgb3V0IHZpYSBkaXNjb250aW51aXR5IHNlcXVlbmNlIHRoYXQgbWVhbnMgdGhlcmUgd2FzIG5vIENDIGluY3JlYXNlIHdpdGhpbiB0aGUgbGV2ZWwuXG4gICAgLy8gQWxpZ25pbmcgdmlhIFByb2dyYW0gRGF0ZSBUaW1lIHNob3VsZCB0aGVyZWZvcmUgYmUgcmVsaWFibGUsIHNpbmNlIFBEVCBzaG91bGQgYmUgdGhlIHNhbWUgd2l0aGluIHRoZSBzYW1lXG4gICAgLy8gZGlzY29udGludWl0eSBzZXF1ZW5jZS5cbiAgICBhbGlnbk1lZGlhUGxheWxpc3RCeVBEVChkZXRhaWxzLCBzd2l0Y2hEZXRhaWxzKTtcbiAgfVxuICBpZiAoIWRldGFpbHMuYWxpZ25lZFNsaWRpbmcgJiYgc3dpdGNoRGV0YWlscyAmJiAhZGV0YWlscy5za2lwcGVkU2VnbWVudHMpIHtcbiAgICAvLyBUcnkgdG8gYWxpZ24gb24gc24gc28gdGhhdCB3ZSBwaWNrIGEgYmV0dGVyIHN0YXJ0IGZyYWdtZW50LlxuICAgIC8vIERvIG5vdCBwZXJmb3JtIHRoaXMgb24gcGxheWxpc3RzIHdpdGggZGVsdGEgdXBkYXRlcyBhcyB0aGlzIGlzIG9ubHkgdG8gYWxpZ24gbGV2ZWxzIG9uIHN3aXRjaFxuICAgIC8vIGFuZCBhZGp1c3RTbGlkaW5nIG9ubHkgYWRqdXN0cyBmcmFnbWVudHMgYWZ0ZXIgc2tpcHBlZFNlZ21lbnRzLlxuICAgIGFkanVzdFNsaWRpbmcoc3dpdGNoRGV0YWlscywgZGV0YWlscyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgUFRTIGlmIGEgbmV3IGxldmVsJ3MgZnJhZ21lbnRzIHVzaW5nIHRoZSBQVFMgb2YgYSBmcmFnbWVudCBpbiB0aGUgbGFzdCBsZXZlbCB3aGljaCBzaGFyZXMgdGhlIHNhbWVcbiAqIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UuXG4gKiBAcGFyYW0gbGFzdEZyYWcgLSBUaGUgbGFzdCBGcmFnbWVudCB3aGljaCBzaGFyZXMgdGhlIHNhbWUgZGlzY29udGludWl0eSBzZXF1ZW5jZVxuICogQHBhcmFtIGxhc3RMZXZlbCAtIFRoZSBkZXRhaWxzIG9mIHRoZSBsYXN0IGxvYWRlZCBsZXZlbFxuICogQHBhcmFtIGRldGFpbHMgLSBUaGUgZGV0YWlscyBvZiB0aGUgbmV3IGxldmVsXG4gKi9cbmZ1bmN0aW9uIGFsaWduRGlzY29udGludWl0aWVzKFxuICBsYXN0RnJhZzogRnJhZ21lbnQgfCBudWxsLFxuICBkZXRhaWxzOiBMZXZlbERldGFpbHMsXG4gIHN3aXRjaERldGFpbHM6IExldmVsRGV0YWlscyB8IHVuZGVmaW5lZCxcbikge1xuICBpZiAoc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgc3dpdGNoRGV0YWlscywgZGV0YWlscykpIHtcbiAgICBjb25zdCByZWZlcmVuY2VGcmFnID0gZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnKFxuICAgICAgc3dpdGNoRGV0YWlscyxcbiAgICAgIGRldGFpbHMsXG4gICAgKTtcbiAgICBpZiAocmVmZXJlbmNlRnJhZyAmJiBOdW1iZXIuaXNGaW5pdGUocmVmZXJlbmNlRnJhZy5zdGFydCkpIHtcbiAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgIGBBZGp1c3RpbmcgUFRTIHVzaW5nIGxhc3QgbGV2ZWwgZHVlIHRvIENDIGluY3JlYXNlIHdpdGhpbiBjdXJyZW50IGxldmVsICR7ZGV0YWlscy51cmx9YCxcbiAgICAgICk7XG4gICAgICBhZGp1c3RTbGlkaW5nU3RhcnQocmVmZXJlbmNlRnJhZy5zdGFydCwgZGV0YWlscyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRW5zdXJlcyBhcHByb3ByaWF0ZSB0aW1lLWFsaWdubWVudCBiZXR3ZWVuIHJlbmRpdGlvbnMgYmFzZWQgb24gUERULlxuICogVGhpcyBmdW5jdGlvbiBhc3N1bWVzIHRoZSB0aW1lbGluZXMgcmVwcmVzZW50ZWQgaW4gYHJlZkRldGFpbHNgIGFyZSBhY2N1cmF0ZSwgaW5jbHVkaW5nIHRoZSBQRFRzXG4gKiBmb3IgdGhlIGxhc3QgZGlzY29udGludWl0eSBzZXF1ZW5jZSBudW1iZXIgc2hhcmVkIGJ5IGJvdGggcGxheWxpc3RzIHdoZW4gcHJlc2VudCxcbiAqIGFuZCB1c2VzIHRoZSBcIndhbGxjbG9ja1wiL1BEVCB0aW1lbGluZSBhcyBhIGNyb3NzLXJlZmVyZW5jZSB0byBgZGV0YWlsc2AsIGFkanVzdGluZyB0aGUgcHJlc2VudGF0aW9uXG4gKiB0aW1lcy90aW1lbGluZXMgb2YgYGRldGFpbHNgIGFjY29yZGluZ2x5LlxuICogR2l2ZW4gdGhlIGFzeW5jaHJvbm91cyBuYXR1cmUgb2YgZmV0Y2hlcyBhbmQgaW5pdGlhbCBsb2FkcyBvZiBsaXZlIGBtYWluYCBhbmQgYXVkaW8vc3VidGl0bGUgdHJhY2tzLFxuICogdGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIGVuc3VyZSB0aGUgXCJsb2NhbCB0aW1lbGluZXNcIiBvZiBhdWRpby9zdWJ0aXRsZSB0cmFja3NcbiAqIGFyZSBhbGlnbmVkIHRvIHRoZSBtYWluL3ZpZGVvIHRpbWVsaW5lLCB1c2luZyBQRFQgYXMgdGhlIGNyb3NzLXJlZmVyZW5jZS9cImFuY2hvclwiIHRoYXQgc2hvdWxkXG4gKiBiZSBjb25zaXN0ZW50IGFjcm9zcyBwbGF5bGlzdHMsIHBlciB0aGUgSExTIHNwZWMuXG4gKiBAcGFyYW0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSByZW5kaXRpb24geW91J2QgbGlrZSB0byB0aW1lLWFsaWduIChlLmcuIGFuIGF1ZGlvIHJlbmRpdGlvbikuXG4gKiBAcGFyYW0gcmVmRGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSByZWZlcmVuY2UgcmVuZGl0aW9uIHdpdGggc3RhcnQgYW5kIFBEVCB0aW1lcyBmb3IgYWxpZ25tZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxpZ25NZWRpYVBsYXlsaXN0QnlQRFQoXG4gIGRldGFpbHM6IExldmVsRGV0YWlscyxcbiAgcmVmRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuKSB7XG4gIGlmICghZGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUgfHwgIXJlZkRldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZnJhZ21lbnRzID0gZGV0YWlscy5mcmFnbWVudHM7XG4gIGNvbnN0IHJlZkZyYWdtZW50cyA9IHJlZkRldGFpbHMuZnJhZ21lbnRzO1xuICBpZiAoIWZyYWdtZW50cy5sZW5ndGggfHwgIXJlZkZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgYSBkZWx0YSB0byBhcHBseSB0byBhbGwgZnJhZ21lbnRzIGFjY29yZGluZyB0byB0aGUgZGVsdGEgaW4gUERUIHRpbWVzIGFuZCBzdGFydCB0aW1lc1xuICAvLyBvZiBhIGZyYWdtZW50IGluIHRoZSByZWZlcmVuY2UgZGV0YWlscywgYW5kIGEgZnJhZ21lbnQgaW4gdGhlIHRhcmdldCBkZXRhaWxzIG9mIHRoZSBzYW1lIGRpc2NvbnRpbnVpdHkuXG4gIC8vIElmIGEgZnJhZ21lbnQgb2YgdGhlIHNhbWUgZGlzY29udGludWl0eSB3YXMgbm90IGZvdW5kIHVzZSB0aGUgbWlkZGxlIGZyYWdtZW50IG9mIGJvdGguXG4gIGxldCByZWZGcmFnOiBGcmFnbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGxldCBmcmFnOiBGcmFnbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHRhcmdldENDID0gTWF0aC5taW4ocmVmRGV0YWlscy5lbmRDQywgZGV0YWlscy5lbmRDQyk7XG4gIGlmIChyZWZEZXRhaWxzLnN0YXJ0Q0MgPCB0YXJnZXRDQyAmJiBkZXRhaWxzLnN0YXJ0Q0MgPCB0YXJnZXRDQykge1xuICAgIHJlZkZyYWcgPSBmaW5kRmlyc3RGcmFnV2l0aENDKHJlZkZyYWdtZW50cywgdGFyZ2V0Q0MpO1xuICAgIGZyYWcgPSBmaW5kRmlyc3RGcmFnV2l0aENDKGZyYWdtZW50cywgdGFyZ2V0Q0MpO1xuICB9XG4gIGlmICghcmVmRnJhZyB8fCAhZnJhZykge1xuICAgIHJlZkZyYWcgPSByZWZGcmFnbWVudHNbTWF0aC5mbG9vcihyZWZGcmFnbWVudHMubGVuZ3RoIC8gMildO1xuICAgIGZyYWcgPVxuICAgICAgZmluZEZpcnN0RnJhZ1dpdGhDQyhmcmFnbWVudHMsIHJlZkZyYWcuY2MpIHx8XG4gICAgICBmcmFnbWVudHNbTWF0aC5mbG9vcihmcmFnbWVudHMubGVuZ3RoIC8gMildO1xuICB9XG4gIGNvbnN0IHJlZlBEVCA9IHJlZkZyYWcucHJvZ3JhbURhdGVUaW1lO1xuICBjb25zdCB0YXJnZXRQRFQgPSBmcmFnLnByb2dyYW1EYXRlVGltZTtcbiAgaWYgKCFyZWZQRFQgfHwgIXRhcmdldFBEVCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGRlbHRhID0gKHRhcmdldFBEVCAtIHJlZlBEVCkgLyAxMDAwIC0gKGZyYWcuc3RhcnQgLSByZWZGcmFnLnN0YXJ0KTtcbiAgYWRqdXN0U2xpZGluZ1N0YXJ0KGRlbHRhLCBkZXRhaWxzKTtcbn1cbiIsICJpbXBvcnQgeyBFcnJvclR5cGVzLCBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuL2ZyYWdtZW50JztcbmltcG9ydCB7XG4gIExvYWRlcixcbiAgTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgRnJhZ21lbnRMb2FkZXJDb250ZXh0LFxufSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgZ2V0TG9hZGVyQ29uZmlnV2l0aG91dFJldGllcyB9IGZyb20gJy4uL3V0aWxzL2Vycm9yLWhlbHBlcic7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEJhc2VTZWdtZW50LCBQYXJ0IH0gZnJvbSAnLi9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7XG4gIEVycm9yRGF0YSxcbiAgRnJhZ0xvYWRlZERhdGEsXG4gIFBhcnRzTG9hZGVkRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcblxuY29uc3QgTUlOX0NIVU5LX1NJWkUgPSBNYXRoLnBvdygyLCAxNyk7IC8vIDEyOGtiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYWdtZW50TG9hZGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSBsb2FkZXI6IExvYWRlcjxGcmFnbWVudExvYWRlckNvbnRleHQ+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGFydExvYWRUaW1lb3V0OiBudW1iZXIgPSAtMTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEhsc0NvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBhYm9ydCgpIHtcbiAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgIC8vIEFib3J0IHRoZSBsb2FkZXIgZm9yIGN1cnJlbnQgZnJhZ21lbnQuIE9ubHkgb25lIG1heSBsb2FkIGF0IGFueSBnaXZlbiB0aW1lXG4gICAgICB0aGlzLmxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgfVxuXG4gIGxvYWQoXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAgb25Qcm9ncmVzcz86IEZyYWdtZW50TG9hZFByb2dyZXNzQ2FsbGJhY2ssXG4gICk6IFByb21pc2U8RnJhZ0xvYWRlZERhdGE+IHtcbiAgICBjb25zdCB1cmwgPSBmcmFnLnVybDtcbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgTG9hZEVycm9yKHtcbiAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUixcbiAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKFxuICAgICAgICAgICAgYEZyYWdtZW50IGRvZXMgbm90IGhhdmUgYSAke3VybCA/ICdwYXJ0IGxpc3QnIDogJ3VybCd9YCxcbiAgICAgICAgICApLFxuICAgICAgICAgIG5ldHdvcmtEZXRhaWxzOiBudWxsLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYWJvcnQoKTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGNvbnN0IEZyYWdtZW50SUxvYWRlciA9IGNvbmZpZy5mTG9hZGVyO1xuICAgIGNvbnN0IERlZmF1bHRJTG9hZGVyID0gY29uZmlnLmxvYWRlcjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgaWYgKGZyYWcuZ2FwKSB7XG4gICAgICAgIGlmIChmcmFnLnRhZ0xpc3Quc29tZSgodGFncykgPT4gdGFnc1swXSA9PT0gJ0dBUCcpKSB7XG4gICAgICAgICAgcmVqZWN0KGNyZWF0ZUdhcExvYWRFcnJvcihmcmFnKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlc2V0IHRlbXBvcmFyeSB0cmVhdG1lbnQgYXMgR0FQIHRhZ1xuICAgICAgICAgIGZyYWcuZ2FwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvYWRlciA9XG4gICAgICAgICh0aGlzLmxvYWRlciA9XG4gICAgICAgIGZyYWcubG9hZGVyID1cbiAgICAgICAgICBGcmFnbWVudElMb2FkZXJcbiAgICAgICAgICAgID8gbmV3IEZyYWdtZW50SUxvYWRlcihjb25maWcpXG4gICAgICAgICAgICA6IChuZXcgRGVmYXVsdElMb2FkZXIoY29uZmlnKSBhcyBMb2FkZXI8RnJhZ21lbnRMb2FkZXJDb250ZXh0PikpO1xuICAgICAgY29uc3QgbG9hZGVyQ29udGV4dCA9IGNyZWF0ZUxvYWRlckNvbnRleHQoZnJhZyk7XG4gICAgICBjb25zdCBsb2FkUG9saWN5ID0gZ2V0TG9hZGVyQ29uZmlnV2l0aG91dFJldGllcyhcbiAgICAgICAgY29uZmlnLmZyYWdMb2FkUG9saWN5LmRlZmF1bHQsXG4gICAgICApO1xuICAgICAgY29uc3QgbG9hZGVyQ29uZmlnOiBMb2FkZXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICBsb2FkUG9saWN5LFxuICAgICAgICB0aW1lb3V0OiBsb2FkUG9saWN5Lm1heExvYWRUaW1lTXMsXG4gICAgICAgIG1heFJldHJ5OiAwLFxuICAgICAgICByZXRyeURlbGF5OiAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5OiAwLFxuICAgICAgICBoaWdoV2F0ZXJNYXJrOiBmcmFnLnNuID09PSAnaW5pdFNlZ21lbnQnID8gSW5maW5pdHkgOiBNSU5fQ0hVTktfU0laRSxcbiAgICAgIH07XG4gICAgICAvLyBBc3NpZ24gZnJhZyBzdGF0cyB0byB0aGUgbG9hZGVyJ3Mgc3RhdHMgcmVmZXJlbmNlXG4gICAgICBmcmFnLnN0YXRzID0gbG9hZGVyLnN0YXRzO1xuICAgICAgbG9hZGVyLmxvYWQobG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCB7XG4gICAgICAgIG9uU3VjY2VzczogKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpID0+IHtcbiAgICAgICAgICB0aGlzLnJlc2V0TG9hZGVyKGZyYWcsIGxvYWRlcik7XG4gICAgICAgICAgbGV0IHBheWxvYWQgPSByZXNwb25zZS5kYXRhIGFzIEFycmF5QnVmZmVyO1xuICAgICAgICAgIGlmIChjb250ZXh0LnJlc2V0SVYgJiYgZnJhZy5kZWNyeXB0ZGF0YSkge1xuICAgICAgICAgICAgZnJhZy5kZWNyeXB0ZGF0YS5pdiA9IG5ldyBVaW50OEFycmF5KHBheWxvYWQuc2xpY2UoMCwgMTYpKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBwYXlsb2FkLnNsaWNlKDE2KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgcGFydDogbnVsbCxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogKHJlc3BvbnNlLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscywgc3RhdHMpID0+IHtcbiAgICAgICAgICB0aGlzLnJlc2V0TG9hZGVyKGZyYWcsIGxvYWRlcik7XG4gICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgbmV3IExvYWRFcnJvcih7XG4gICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTkVUV09SS19FUlJPUixcbiAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUixcbiAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICByZXNwb25zZTogeyB1cmwsIGRhdGE6IHVuZGVmaW5lZCwgLi4ucmVzcG9uc2UgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihgSFRUUCBFcnJvciAke3Jlc3BvbnNlLmNvZGV9ICR7cmVzcG9uc2UudGV4dH1gKSxcbiAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BYm9ydDogKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRMb2FkZXIoZnJhZywgbG9hZGVyKTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICBuZXcgTG9hZEVycm9yKHtcbiAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuSU5URVJOQUxfQUJPUlRFRCxcbiAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdBYm9ydGVkJyksXG4gICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgICAgICBzdGF0cyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVGltZW91dDogKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRMb2FkZXIoZnJhZywgbG9hZGVyKTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICBuZXcgTG9hZEVycm9yKHtcbiAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuRlJBR19MT0FEX1RJTUVPVVQsXG4gICAgICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihgVGltZW91dCBhZnRlciAke2xvYWRlckNvbmZpZy50aW1lb3V0fW1zYCksXG4gICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgICAgICBzdGF0cyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUHJvZ3Jlc3M6IChzdGF0cywgY29udGV4dCwgZGF0YSwgbmV0d29ya0RldGFpbHMpID0+IHtcbiAgICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgICAgb25Qcm9ncmVzcyh7XG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIHBhcnQ6IG51bGwsXG4gICAgICAgICAgICAgIHBheWxvYWQ6IGRhdGEgYXMgQXJyYXlCdWZmZXIsXG4gICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgbG9hZFBhcnQoXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAgcGFydDogUGFydCxcbiAgICBvblByb2dyZXNzOiBGcmFnbWVudExvYWRQcm9ncmVzc0NhbGxiYWNrLFxuICApOiBQcm9taXNlPEZyYWdMb2FkZWREYXRhPiB7XG4gICAgdGhpcy5hYm9ydCgpO1xuXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgY29uc3QgRnJhZ21lbnRJTG9hZGVyID0gY29uZmlnLmZMb2FkZXI7XG4gICAgY29uc3QgRGVmYXVsdElMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmxvYWRlcikge1xuICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICBpZiAoZnJhZy5nYXAgfHwgcGFydC5nYXApIHtcbiAgICAgICAgcmVqZWN0KGNyZWF0ZUdhcExvYWRFcnJvcihmcmFnLCBwYXJ0KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvYWRlciA9XG4gICAgICAgICh0aGlzLmxvYWRlciA9XG4gICAgICAgIGZyYWcubG9hZGVyID1cbiAgICAgICAgICBGcmFnbWVudElMb2FkZXJcbiAgICAgICAgICAgID8gbmV3IEZyYWdtZW50SUxvYWRlcihjb25maWcpXG4gICAgICAgICAgICA6IChuZXcgRGVmYXVsdElMb2FkZXIoY29uZmlnKSBhcyBMb2FkZXI8RnJhZ21lbnRMb2FkZXJDb250ZXh0PikpO1xuICAgICAgY29uc3QgbG9hZGVyQ29udGV4dCA9IGNyZWF0ZUxvYWRlckNvbnRleHQoZnJhZywgcGFydCk7XG4gICAgICAvLyBTaG91bGQgd2UgZGVmaW5lIGFub3RoZXIgbG9hZCBwb2xpY3kgZm9yIHBhcnRzP1xuICAgICAgY29uc3QgbG9hZFBvbGljeSA9IGdldExvYWRlckNvbmZpZ1dpdGhvdXRSZXRpZXMoXG4gICAgICAgIGNvbmZpZy5mcmFnTG9hZFBvbGljeS5kZWZhdWx0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGxvYWRlckNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgbG9hZFBvbGljeSxcbiAgICAgICAgdGltZW91dDogbG9hZFBvbGljeS5tYXhMb2FkVGltZU1zLFxuICAgICAgICBtYXhSZXRyeTogMCxcbiAgICAgICAgcmV0cnlEZWxheTogMCxcbiAgICAgICAgbWF4UmV0cnlEZWxheTogMCxcbiAgICAgICAgaGlnaFdhdGVyTWFyazogTUlOX0NIVU5LX1NJWkUsXG4gICAgICB9O1xuICAgICAgLy8gQXNzaWduIHBhcnQgc3RhdHMgdG8gdGhlIGxvYWRlcidzIHN0YXRzIHJlZmVyZW5jZVxuICAgICAgcGFydC5zdGF0cyA9IGxvYWRlci5zdGF0cztcbiAgICAgIGxvYWRlci5sb2FkKGxvYWRlckNvbnRleHQsIGxvYWRlckNvbmZpZywge1xuICAgICAgICBvblN1Y2Nlc3M6IChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldExvYWRlcihmcmFnLCBsb2FkZXIpO1xuICAgICAgICAgIHRoaXMudXBkYXRlU3RhdHNGcm9tUGFydChmcmFnLCBwYXJ0KTtcbiAgICAgICAgICBjb25zdCBwYXJ0TG9hZGVkRGF0YTogRnJhZ0xvYWRlZERhdGEgPSB7XG4gICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHJlc3BvbnNlLmRhdGEgYXMgQXJyYXlCdWZmZXIsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9uUHJvZ3Jlc3MocGFydExvYWRlZERhdGEpO1xuICAgICAgICAgIHJlc29sdmUocGFydExvYWRlZERhdGEpO1xuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAocmVzcG9uc2UsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzLCBzdGF0cykgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRMb2FkZXIoZnJhZywgbG9hZGVyKTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICBuZXcgTG9hZEVycm9yKHtcbiAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuRlJBR19MT0FEX0VSUk9SLFxuICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBsb2FkZXJDb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoYEhUVFAgRXJyb3IgJHtyZXNwb25zZS5jb2RlfSAke3Jlc3BvbnNlLnRleHR9YCksXG4gICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgICAgICBzdGF0cyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQWJvcnQ6IChzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpID0+IHtcbiAgICAgICAgICBmcmFnLnN0YXRzLmFib3J0ZWQgPSBwYXJ0LnN0YXRzLmFib3J0ZWQ7XG4gICAgICAgICAgdGhpcy5yZXNldExvYWRlcihmcmFnLCBsb2FkZXIpO1xuICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBMb2FkRXJyb3Ioe1xuICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5JTlRFUk5BTF9BQk9SVEVELFxuICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoJ0Fib3J0ZWQnKSxcbiAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25UaW1lb3V0OiAoc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldExvYWRlcihmcmFnLCBsb2FkZXIpO1xuICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBMb2FkRXJyb3Ioe1xuICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk5FVFdPUktfRVJST1IsXG4gICAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVCxcbiAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKGBUaW1lb3V0IGFmdGVyICR7bG9hZGVyQ29uZmlnLnRpbWVvdXR9bXNgKSxcbiAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdGF0c0Zyb21QYXJ0KGZyYWc6IEZyYWdtZW50LCBwYXJ0OiBQYXJ0KSB7XG4gICAgY29uc3QgZnJhZ1N0YXRzID0gZnJhZy5zdGF0cztcbiAgICBjb25zdCBwYXJ0U3RhdHMgPSBwYXJ0LnN0YXRzO1xuICAgIGNvbnN0IHBhcnRUb3RhbCA9IHBhcnRTdGF0cy50b3RhbDtcbiAgICBmcmFnU3RhdHMubG9hZGVkICs9IHBhcnRTdGF0cy5sb2FkZWQ7XG4gICAgaWYgKHBhcnRUb3RhbCkge1xuICAgICAgY29uc3QgZXN0VG90YWxQYXJ0cyA9IE1hdGgucm91bmQoZnJhZy5kdXJhdGlvbiAvIHBhcnQuZHVyYXRpb24pO1xuICAgICAgY29uc3QgZXN0TG9hZGVkUGFydHMgPSBNYXRoLm1pbihcbiAgICAgICAgTWF0aC5yb3VuZChmcmFnU3RhdHMubG9hZGVkIC8gcGFydFRvdGFsKSxcbiAgICAgICAgZXN0VG90YWxQYXJ0cyxcbiAgICAgICk7XG4gICAgICBjb25zdCBlc3RSZW1haW5pbmdQYXJ0cyA9IGVzdFRvdGFsUGFydHMgLSBlc3RMb2FkZWRQYXJ0cztcbiAgICAgIGNvbnN0IGVzdFJlbWFpbmluZ0J5dGVzID1cbiAgICAgICAgZXN0UmVtYWluaW5nUGFydHMgKiBNYXRoLnJvdW5kKGZyYWdTdGF0cy5sb2FkZWQgLyBlc3RMb2FkZWRQYXJ0cyk7XG4gICAgICBmcmFnU3RhdHMudG90YWwgPSBmcmFnU3RhdHMubG9hZGVkICsgZXN0UmVtYWluaW5nQnl0ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYWdTdGF0cy50b3RhbCA9IE1hdGgubWF4KGZyYWdTdGF0cy5sb2FkZWQsIGZyYWdTdGF0cy50b3RhbCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYWdMb2FkaW5nID0gZnJhZ1N0YXRzLmxvYWRpbmc7XG4gICAgY29uc3QgcGFydExvYWRpbmcgPSBwYXJ0U3RhdHMubG9hZGluZztcbiAgICBpZiAoZnJhZ0xvYWRpbmcuc3RhcnQpIHtcbiAgICAgIC8vIGFkZCB0byBmcmFnbWVudCBsb2FkZXIgbGF0ZW5jeVxuICAgICAgZnJhZ0xvYWRpbmcuZmlyc3QgKz0gcGFydExvYWRpbmcuZmlyc3QgLSBwYXJ0TG9hZGluZy5zdGFydDtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhZ0xvYWRpbmcuc3RhcnQgPSBwYXJ0TG9hZGluZy5zdGFydDtcbiAgICAgIGZyYWdMb2FkaW5nLmZpcnN0ID0gcGFydExvYWRpbmcuZmlyc3Q7XG4gICAgfVxuICAgIGZyYWdMb2FkaW5nLmVuZCA9IHBhcnRMb2FkaW5nLmVuZDtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRMb2FkZXIoZnJhZzogRnJhZ21lbnQsIGxvYWRlcjogTG9hZGVyPEZyYWdtZW50TG9hZGVyQ29udGV4dD4pIHtcbiAgICBmcmFnLmxvYWRlciA9IG51bGw7XG4gICAgaWYgKHRoaXMubG9hZGVyID09PSBsb2FkZXIpIHtcbiAgICAgIHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMucGFydExvYWRUaW1lb3V0KTtcbiAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB9XG4gICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2FkZXJDb250ZXh0KFxuICBmcmFnOiBGcmFnbWVudCxcbiAgcGFydDogUGFydCB8IG51bGwgPSBudWxsLFxuKTogRnJhZ21lbnRMb2FkZXJDb250ZXh0IHtcbiAgY29uc3Qgc2VnbWVudDogQmFzZVNlZ21lbnQgPSBwYXJ0IHx8IGZyYWc7XG4gIGNvbnN0IGxvYWRlckNvbnRleHQ6IEZyYWdtZW50TG9hZGVyQ29udGV4dCA9IHtcbiAgICBmcmFnLFxuICAgIHBhcnQsXG4gICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgIHVybDogc2VnbWVudC51cmwsXG4gICAgaGVhZGVyczoge30sXG4gICAgcmFuZ2VTdGFydDogMCxcbiAgICByYW5nZUVuZDogMCxcbiAgfTtcbiAgY29uc3Qgc3RhcnQgPSBzZWdtZW50LmJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IGFzIG51bWJlcjtcbiAgY29uc3QgZW5kID0gc2VnbWVudC5ieXRlUmFuZ2VFbmRPZmZzZXQgYXMgbnVtYmVyO1xuICBpZiAoTnVtYmVyLmlzRmluaXRlKHN0YXJ0KSAmJiBOdW1iZXIuaXNGaW5pdGUoZW5kKSkge1xuICAgIGxldCBieXRlUmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgIGxldCBieXRlUmFuZ2VFbmQgPSBlbmQ7XG4gICAgaWYgKGZyYWcuc24gPT09ICdpbml0U2VnbWVudCcgJiYgZnJhZy5kZWNyeXB0ZGF0YT8ubWV0aG9kID09PSAnQUVTLTEyOCcpIHtcbiAgICAgIC8vIE1BUCBzZWdtZW50IGVuY3J5cHRlZCB3aXRoIG1ldGhvZCAnQUVTLTEyOCcsIHdoZW4gc2VydmVkIHdpdGggSFRUUCBSYW5nZSxcbiAgICAgIC8vIGhhcyB0aGUgdW5lbmNyeXB0ZWQgc2l6ZSBzcGVjaWZpZWQgaW4gdGhlIHJhbmdlLlxuICAgICAgLy8gUmVmOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtcGFudG9zLWhscy1yZmM4MjE2YmlzLTA4I3NlY3Rpb24tNi4zLjZcbiAgICAgIGNvbnN0IGZyYWdtZW50TGVuID0gZW5kIC0gc3RhcnQ7XG4gICAgICBpZiAoZnJhZ21lbnRMZW4gJSAxNikge1xuICAgICAgICBieXRlUmFuZ2VFbmQgPSBlbmQgKyAoMTYgLSAoZnJhZ21lbnRMZW4gJSAxNikpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICE9PSAwKSB7XG4gICAgICAgIGxvYWRlckNvbnRleHQucmVzZXRJViA9IHRydWU7XG4gICAgICAgIGJ5dGVSYW5nZVN0YXJ0ID0gc3RhcnQgLSAxNjtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9hZGVyQ29udGV4dC5yYW5nZVN0YXJ0ID0gYnl0ZVJhbmdlU3RhcnQ7XG4gICAgbG9hZGVyQ29udGV4dC5yYW5nZUVuZCA9IGJ5dGVSYW5nZUVuZDtcbiAgfVxuICByZXR1cm4gbG9hZGVyQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR2FwTG9hZEVycm9yKGZyYWc6IEZyYWdtZW50LCBwYXJ0PzogUGFydCk6IExvYWRFcnJvciB7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBHQVAgJHtmcmFnLmdhcCA/ICd0YWcnIDogJ2F0dHJpYnV0ZSd9IGZvdW5kYCk7XG4gIGNvbnN0IGVycm9yRGF0YTogRnJhZ0xvYWRGYWlsUmVzdWx0ID0ge1xuICAgIHR5cGU6IEVycm9yVHlwZXMuTUVESUFfRVJST1IsXG4gICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfR0FQLFxuICAgIGZhdGFsOiBmYWxzZSxcbiAgICBmcmFnLFxuICAgIGVycm9yLFxuICAgIG5ldHdvcmtEZXRhaWxzOiBudWxsLFxuICB9O1xuICBpZiAocGFydCkge1xuICAgIGVycm9yRGF0YS5wYXJ0ID0gcGFydDtcbiAgfVxuICAocGFydCA/IHBhcnQgOiBmcmFnKS5zdGF0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgcmV0dXJuIG5ldyBMb2FkRXJyb3IoZXJyb3JEYXRhKTtcbn1cblxuZXhwb3J0IGNsYXNzIExvYWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHJlYWRvbmx5IGRhdGE6IEZyYWdMb2FkRmFpbFJlc3VsdDtcbiAgY29uc3RydWN0b3IoZGF0YTogRnJhZ0xvYWRGYWlsUmVzdWx0KSB7XG4gICAgc3VwZXIoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnJhZ0xvYWRGYWlsUmVzdWx0IGV4dGVuZHMgRXJyb3JEYXRhIHtcbiAgZnJhZzogRnJhZ21lbnQ7XG4gIHBhcnQ/OiBQYXJ0O1xuICByZXNwb25zZT86IHtcbiAgICBkYXRhOiBhbnk7XG4gICAgLy8gZXJyb3Igc3RhdHVzIGNvZGVcbiAgICBjb2RlOiBudW1iZXI7XG4gICAgLy8gZXJyb3IgZGVzY3JpcHRpb25cbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gIH07XG4gIG5ldHdvcmtEZXRhaWxzOiBhbnk7XG59XG5cbmV4cG9ydCB0eXBlIEZyYWdtZW50TG9hZFByb2dyZXNzQ2FsbGJhY2sgPSAoXG4gIHJlc3VsdDogRnJhZ0xvYWRlZERhdGEgfCBQYXJ0c0xvYWRlZERhdGEsXG4pID0+IHZvaWQ7XG4iLCAiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUVTQ3J5cHRvIHtcbiAgcHJpdmF0ZSBzdWJ0bGU6IFN1YnRsZUNyeXB0bztcbiAgcHJpdmF0ZSBhZXNJVjogVWludDhBcnJheTtcblxuICBjb25zdHJ1Y3RvcihzdWJ0bGU6IFN1YnRsZUNyeXB0bywgaXY6IFVpbnQ4QXJyYXkpIHtcbiAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcbiAgICB0aGlzLmFlc0lWID0gaXY7XG4gIH1cblxuICBkZWNyeXB0KGRhdGE6IEFycmF5QnVmZmVyLCBrZXk6IENyeXB0b0tleSkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5kZWNyeXB0KHsgbmFtZTogJ0FFUy1DQkMnLCBpdjogdGhpcy5hZXNJViB9LCBrZXksIGRhdGEpO1xuICB9XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFzdEFFU0tleSB7XG4gIHByaXZhdGUgc3VidGxlOiBTdWJ0bGVDcnlwdG87XG4gIHByaXZhdGUga2V5OiBBcnJheUJ1ZmZlcjtcblxuICBjb25zdHJ1Y3RvcihzdWJ0bGU6IFN1YnRsZUNyeXB0bywga2V5OiBBcnJheUJ1ZmZlcikge1xuICAgIHRoaXMuc3VidGxlID0gc3VidGxlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgZXhwYW5kS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIHRoaXMua2V5LCB7IG5hbWU6ICdBRVMtQ0JDJyB9LCBmYWxzZSwgW1xuICAgICAgJ2VuY3J5cHQnLFxuICAgICAgJ2RlY3J5cHQnLFxuICAgIF0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgc2xpY2VVaW50OCB9IGZyb20gJy4uL3V0aWxzL3R5cGVkLWFycmF5JztcblxuLy8gUEtDUzdcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQYWRkaW5nKGFycmF5OiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gIGNvbnN0IG91dHB1dEJ5dGVzID0gYXJyYXkuYnl0ZUxlbmd0aDtcbiAgY29uc3QgcGFkZGluZ0J5dGVzID1cbiAgICBvdXRwdXRCeXRlcyAmJiBuZXcgRGF0YVZpZXcoYXJyYXkuYnVmZmVyKS5nZXRVaW50OChvdXRwdXRCeXRlcyAtIDEpO1xuICBpZiAocGFkZGluZ0J5dGVzKSB7XG4gICAgcmV0dXJuIHNsaWNlVWludDgoYXJyYXksIDAsIG91dHB1dEJ5dGVzIC0gcGFkZGluZ0J5dGVzKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFFU0RlY3J5cHRvciB7XG4gIHByaXZhdGUgcmNvbjogQXJyYXk8bnVtYmVyPiA9IFtcbiAgICAweDAsIDB4MSwgMHgyLCAweDQsIDB4OCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNixcbiAgXTtcbiAgcHJpdmF0ZSBzdWJNaXg6IEFycmF5PFVpbnQzMkFycmF5PiA9IFtcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgXTtcbiAgcHJpdmF0ZSBpbnZTdWJNaXg6IEFycmF5PFVpbnQzMkFycmF5PiA9IFtcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgICBuZXcgVWludDMyQXJyYXkoMjU2KSxcbiAgXTtcbiAgcHJpdmF0ZSBzQm94OiBVaW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuICBwcml2YXRlIGludlNCb3g6IFVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gIHByaXZhdGUga2V5OiBVaW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSgwKTtcblxuICBwcml2YXRlIGtzUm93czogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBrZXlTaXplOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGtleVNjaGVkdWxlITogVWludDMyQXJyYXk7XG4gIHByaXZhdGUgaW52S2V5U2NoZWR1bGUhOiBVaW50MzJBcnJheTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuICB9XG5cbiAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuICB1aW50OEFycmF5VG9VaW50MzJBcnJheV8oYXJyYXlCdWZmZXIpIHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICBjb25zdCBuZXdBcnJheSA9IG5ldyBVaW50MzJBcnJheSg0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgbmV3QXJyYXlbaV0gPSB2aWV3LmdldFVpbnQzMihpICogNCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgaW5pdFRhYmxlKCkge1xuICAgIGNvbnN0IHNCb3ggPSB0aGlzLnNCb3g7XG4gICAgY29uc3QgaW52U0JveCA9IHRoaXMuaW52U0JveDtcbiAgICBjb25zdCBzdWJNaXggPSB0aGlzLnN1Yk1peDtcbiAgICBjb25zdCBzdWJNaXgwID0gc3ViTWl4WzBdO1xuICAgIGNvbnN0IHN1Yk1peDEgPSBzdWJNaXhbMV07XG4gICAgY29uc3Qgc3ViTWl4MiA9IHN1Yk1peFsyXTtcbiAgICBjb25zdCBzdWJNaXgzID0gc3ViTWl4WzNdO1xuICAgIGNvbnN0IGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgIGNvbnN0IGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgY29uc3QgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICBjb25zdCBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgIGNvbnN0IGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICBjb25zdCBkID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgbGV0IHggPSAwO1xuICAgIGxldCB4aSA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgZFtpXSA9IGkgPDwgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRbaV0gPSAoaSA8PCAxKSBeIDB4MTFiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgbGV0IHN4ID0geGkgXiAoeGkgPDwgMSkgXiAoeGkgPDwgMikgXiAoeGkgPDwgMykgXiAoeGkgPDwgNCk7XG4gICAgICBzeCA9IChzeCA+Pj4gOCkgXiAoc3ggJiAweGZmKSBeIDB4NjM7XG4gICAgICBzQm94W3hdID0gc3g7XG4gICAgICBpbnZTQm94W3N4XSA9IHg7XG5cbiAgICAgIC8vIENvbXB1dGUgbXVsdGlwbGljYXRpb25cbiAgICAgIGNvbnN0IHgyID0gZFt4XTtcbiAgICAgIGNvbnN0IHg0ID0gZFt4Ml07XG4gICAgICBjb25zdCB4OCA9IGRbeDRdO1xuXG4gICAgICAvLyBDb21wdXRlIHN1Yi9pbnZTdWIgYnl0ZXMsIG1peCBjb2x1bW5zIHRhYmxlc1xuICAgICAgbGV0IHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApO1xuICAgICAgc3ViTWl4MFt4XSA9ICh0IDw8IDI0KSB8ICh0ID4+PiA4KTtcbiAgICAgIHN1Yk1peDFbeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xuICAgICAgc3ViTWl4Mlt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcbiAgICAgIHN1Yk1peDNbeF0gPSB0O1xuXG4gICAgICAvLyBDb21wdXRlIGludiBzdWIgYnl0ZXMsIGludiBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgIHQgPSAoeDggKiAweDEwMTAxMDEpIF4gKHg0ICogMHgxMDAwMSkgXiAoeDIgKiAweDEwMSkgXiAoeCAqIDB4MTAxMDEwMCk7XG4gICAgICBpbnZTdWJNaXgwW3N4XSA9ICh0IDw8IDI0KSB8ICh0ID4+PiA4KTtcbiAgICAgIGludlN1Yk1peDFbc3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcbiAgICAgIGludlN1Yk1peDJbc3hdID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpO1xuICAgICAgaW52U3ViTWl4M1tzeF0gPSB0O1xuXG4gICAgICAvLyBDb21wdXRlIG5leHQgY291bnRlclxuICAgICAgaWYgKCF4KSB7XG4gICAgICAgIHggPSB4aSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0geDIgXiBkW2RbZFt4OCBeIHgyXV1dO1xuICAgICAgICB4aSBePSBkW2RbeGldXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHBhbmRLZXkoa2V5QnVmZmVyOiBBcnJheUJ1ZmZlcikge1xuICAgIC8vIGNvbnZlcnQga2V5QnVmZmVyIHRvIFVpbnQzMkFycmF5XG4gICAgY29uc3Qga2V5ID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oa2V5QnVmZmVyKTtcbiAgICBsZXQgc2FtZUtleSA9IHRydWU7XG4gICAgbGV0IG9mZnNldCA9IDA7XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwga2V5Lmxlbmd0aCAmJiBzYW1lS2V5KSB7XG4gICAgICBzYW1lS2V5ID0ga2V5W29mZnNldF0gPT09IHRoaXMua2V5W29mZnNldF07XG4gICAgICBvZmZzZXQrKztcbiAgICB9XG5cbiAgICBpZiAoc2FtZUtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIGNvbnN0IGtleVNpemUgPSAodGhpcy5rZXlTaXplID0ga2V5Lmxlbmd0aCk7XG5cbiAgICBpZiAoa2V5U2l6ZSAhPT0gNCAmJiBrZXlTaXplICE9PSA2ICYmIGtleVNpemUgIT09IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZXMga2V5IHNpemU9JyArIGtleVNpemUpO1xuICAgIH1cblxuICAgIGNvbnN0IGtzUm93cyA9ICh0aGlzLmtzUm93cyA9IChrZXlTaXplICsgNiArIDEpICogNCk7XG4gICAgbGV0IGtzUm93O1xuICAgIGxldCBpbnZLc1JvdztcblxuICAgIGNvbnN0IGtleVNjaGVkdWxlID0gKHRoaXMua2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKSk7XG4gICAgY29uc3QgaW52S2V5U2NoZWR1bGUgPSAodGhpcy5pbnZLZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpKTtcbiAgICBjb25zdCBzYm94ID0gdGhpcy5zQm94O1xuICAgIGNvbnN0IHJjb24gPSB0aGlzLnJjb247XG5cbiAgICBjb25zdCBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICBjb25zdCBpbnZTdWJNaXgwID0gaW52U3ViTWl4WzBdO1xuICAgIGNvbnN0IGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgY29uc3QgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICBjb25zdCBpbnZTdWJNaXgzID0gaW52U3ViTWl4WzNdO1xuXG4gICAgbGV0IHByZXY7XG4gICAgbGV0IHQ7XG5cbiAgICBmb3IgKGtzUm93ID0gMDsga3NSb3cgPCBrc1Jvd3M7IGtzUm93KyspIHtcbiAgICAgIGlmIChrc1JvdyA8IGtleVNpemUpIHtcbiAgICAgICAgcHJldiA9IGtleVNjaGVkdWxlW2tzUm93XSA9IGtleVtrc1Jvd107XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdCA9IHByZXY7XG5cbiAgICAgIGlmIChrc1JvdyAlIGtleVNpemUgPT09IDApIHtcbiAgICAgICAgLy8gUm90IHdvcmRcbiAgICAgICAgdCA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcblxuICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICB0ID1cbiAgICAgICAgICAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHxcbiAgICAgICAgICAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHxcbiAgICAgICAgICAoc2JveFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8XG4gICAgICAgICAgc2JveFt0ICYgMHhmZl07XG5cbiAgICAgICAgLy8gTWl4IFJjb25cbiAgICAgICAgdCBePSByY29uWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQ7XG4gICAgICB9IGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PT0gNCkge1xuICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICB0ID1cbiAgICAgICAgICAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHxcbiAgICAgICAgICAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHxcbiAgICAgICAgICAoc2JveFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8XG4gICAgICAgICAgc2JveFt0ICYgMHhmZl07XG4gICAgICB9XG5cbiAgICAgIGtleVNjaGVkdWxlW2tzUm93XSA9IHByZXYgPSAoa2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQpID4+PiAwO1xuICAgIH1cblxuICAgIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgICAga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1JvdztcbiAgICAgIGlmIChpbnZLc1JvdyAmIDMpIHtcbiAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1JvdyAtIDRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcbiAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9XG4gICAgICAgICAgaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXlxuICAgICAgICAgIGludlN1Yk1peDFbc2JveFsodCA+Pj4gMTYpICYgMHhmZl1dIF5cbiAgICAgICAgICBpbnZTdWJNaXgyW3Nib3hbKHQgPj4+IDgpICYgMHhmZl1dIF5cbiAgICAgICAgICBpbnZTdWJNaXgzW3Nib3hbdCAmIDB4ZmZdXTtcbiAgICAgIH1cblxuICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID4+PiAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZGluZyB0aGlzIGFzIGEgbWV0aG9kIGdyZWF0bHkgaW1wcm92ZXMgcGVyZm9ybWFuY2UuXG4gIG5ldHdvcmtUb0hvc3RPcmRlclN3YXAod29yZCkge1xuICAgIHJldHVybiAoXG4gICAgICAod29yZCA8PCAyNCkgfFxuICAgICAgKCh3b3JkICYgMHhmZjAwKSA8PCA4KSB8XG4gICAgICAoKHdvcmQgJiAweGZmMDAwMCkgPj4gOCkgfFxuICAgICAgKHdvcmQgPj4+IDI0KVxuICAgICk7XG4gIH1cblxuICBkZWNyeXB0KGlucHV0QXJyYXlCdWZmZXI6IEFycmF5QnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgYWVzSVY6IEFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgblJvdW5kcyA9IHRoaXMua2V5U2l6ZSArIDY7XG4gICAgY29uc3QgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlO1xuICAgIGNvbnN0IGludlNCT1ggPSB0aGlzLmludlNCb3g7XG5cbiAgICBjb25zdCBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICBjb25zdCBpbnZTdWJNaXgwID0gaW52U3ViTWl4WzBdO1xuICAgIGNvbnN0IGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgY29uc3QgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICBjb25zdCBpbnZTdWJNaXgzID0gaW52U3ViTWl4WzNdO1xuXG4gICAgY29uc3QgaW5pdFZlY3RvciA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGFlc0lWKTtcbiAgICBsZXQgaW5pdFZlY3RvcjAgPSBpbml0VmVjdG9yWzBdO1xuICAgIGxldCBpbml0VmVjdG9yMSA9IGluaXRWZWN0b3JbMV07XG4gICAgbGV0IGluaXRWZWN0b3IyID0gaW5pdFZlY3RvclsyXTtcbiAgICBsZXQgaW5pdFZlY3RvcjMgPSBpbml0VmVjdG9yWzNdO1xuXG4gICAgY29uc3QgaW5wdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0QXJyYXlCdWZmZXIpO1xuICAgIGNvbnN0IG91dHB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRJbnQzMi5sZW5ndGgpO1xuXG4gICAgbGV0IHQwLCB0MSwgdDIsIHQzO1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcbiAgICBsZXQgaW5wdXRXb3JkczAsIGlucHV0V29yZHMxLCBpbnB1dFdvcmRzMiwgaW5wdXRXb3JkczM7XG5cbiAgICBsZXQga3NSb3csIGk7XG4gICAgY29uc3Qgc3dhcFdvcmQgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXA7XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcbiAgICAgIGlucHV0V29yZHMwID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXRdKTtcbiAgICAgIGlucHV0V29yZHMxID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XG4gICAgICBpbnB1dFdvcmRzMiA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xuICAgICAgaW5wdXRXb3JkczMgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDNdKTtcblxuICAgICAgczAgPSBpbnB1dFdvcmRzMCBeIGludktleVNjaGVkdWxlWzBdO1xuICAgICAgczEgPSBpbnB1dFdvcmRzMyBeIGludktleVNjaGVkdWxlWzFdO1xuICAgICAgczIgPSBpbnB1dFdvcmRzMiBeIGludktleVNjaGVkdWxlWzJdO1xuICAgICAgczMgPSBpbnB1dFdvcmRzMSBeIGludktleVNjaGVkdWxlWzNdO1xuXG4gICAgICBrc1JvdyA9IDQ7XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcm91bmRzIG9mIGRlY3J5cHRpb25cbiAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcbiAgICAgICAgdDAgPVxuICAgICAgICAgIGludlN1Yk1peDBbczAgPj4+IDI0XSBeXG4gICAgICAgICAgaW52U3ViTWl4MVsoczEgPj4gMTYpICYgMHhmZl0gXlxuICAgICAgICAgIGludlN1Yk1peDJbKHMyID4+IDgpICYgMHhmZl0gXlxuICAgICAgICAgIGludlN1Yk1peDNbczMgJiAweGZmXSBeXG4gICAgICAgICAgaW52S2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgICB0MSA9XG4gICAgICAgICAgaW52U3ViTWl4MFtzMSA+Pj4gMjRdIF5cbiAgICAgICAgICBpbnZTdWJNaXgxWyhzMiA+PiAxNikgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4MlsoczMgPj4gOCkgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4M1tzMCAmIDB4ZmZdIF5cbiAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICB0MiA9XG4gICAgICAgICAgaW52U3ViTWl4MFtzMiA+Pj4gMjRdIF5cbiAgICAgICAgICBpbnZTdWJNaXgxWyhzMyA+PiAxNikgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4MlsoczAgPj4gOCkgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4M1tzMSAmIDB4ZmZdIF5cbiAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICB0MyA9XG4gICAgICAgICAgaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF5cbiAgICAgICAgICBpbnZTdWJNaXgxWyhzMCA+PiAxNikgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4MlsoczEgPj4gOCkgJiAweGZmXSBeXG4gICAgICAgICAgaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF5cbiAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xuICAgICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgICAgczAgPSB0MDtcbiAgICAgICAgczEgPSB0MTtcbiAgICAgICAgczIgPSB0MjtcbiAgICAgICAgczMgPSB0MztcblxuICAgICAgICBrc1JvdyA9IGtzUm93ICsgNDtcbiAgICAgIH1cblxuICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG4gICAgICB0MCA9XG4gICAgICAgIChpbnZTQk9YW3MwID4+PiAyNF0gPDwgMjQpIF5cbiAgICAgICAgKGludlNCT1hbKHMxID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeXG4gICAgICAgIChpbnZTQk9YWyhzMiA+PiA4KSAmIDB4ZmZdIDw8IDgpIF5cbiAgICAgICAgaW52U0JPWFtzMyAmIDB4ZmZdIF5cbiAgICAgICAgaW52S2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgdDEgPVxuICAgICAgICAoaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSBeXG4gICAgICAgIChpbnZTQk9YWyhzMiA+PiAxNikgJiAweGZmXSA8PCAxNikgXlxuICAgICAgICAoaW52U0JPWFsoczMgPj4gOCkgJiAweGZmXSA8PCA4KSBeXG4gICAgICAgIGludlNCT1hbczAgJiAweGZmXSBeXG4gICAgICAgIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICB0MiA9XG4gICAgICAgIChpbnZTQk9YW3MyID4+PiAyNF0gPDwgMjQpIF5cbiAgICAgICAgKGludlNCT1hbKHMzID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeXG4gICAgICAgIChpbnZTQk9YWyhzMCA+PiA4KSAmIDB4ZmZdIDw8IDgpIF5cbiAgICAgICAgaW52U0JPWFtzMSAmIDB4ZmZdIF5cbiAgICAgICAgaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgIHQzID1cbiAgICAgICAgKGludlNCT1hbczMgPj4+IDI0XSA8PCAyNCkgXlxuICAgICAgICAoaW52U0JPWFsoczAgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF5cbiAgICAgICAgKGludlNCT1hbKHMxID4+IDgpICYgMHhmZl0gPDwgOCkgXlxuICAgICAgICBpbnZTQk9YW3MyICYgMHhmZl0gXlxuICAgICAgICBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xuXG4gICAgICAvLyBXcml0ZVxuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0XSA9IHN3YXBXb3JkKHQwIF4gaW5pdFZlY3RvcjApO1xuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMV0gPSBzd2FwV29yZCh0MyBeIGluaXRWZWN0b3IxKTtcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDJdID0gc3dhcFdvcmQodDIgXiBpbml0VmVjdG9yMik7XG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAzXSA9IHN3YXBXb3JkKHQxIF4gaW5pdFZlY3RvcjMpO1xuXG4gICAgICAvLyByZXNldCBpbml0VmVjdG9yIHRvIGxhc3QgNCB1bnNpZ25lZCBpbnRcbiAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XG4gICAgICBpbml0VmVjdG9yMSA9IGlucHV0V29yZHMxO1xuICAgICAgaW5pdFZlY3RvcjIgPSBpbnB1dFdvcmRzMjtcbiAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XG5cbiAgICAgIG9mZnNldCA9IG9mZnNldCArIDQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dEludDMyLmJ1ZmZlcjtcbiAgfVxufVxuIiwgImltcG9ydCBBRVNDcnlwdG8gZnJvbSAnLi9hZXMtY3J5cHRvJztcbmltcG9ydCBGYXN0QUVTS2V5IGZyb20gJy4vZmFzdC1hZXMta2V5JztcbmltcG9ydCBBRVNEZWNyeXB0b3IsIHsgcmVtb3ZlUGFkZGluZyB9IGZyb20gJy4vYWVzLWRlY3J5cHRvcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHsgYXBwZW5kVWludDhBcnJheSB9IGZyb20gJy4uL3V0aWxzL21wNC10b29scyc7XG5pbXBvcnQgeyBzbGljZVVpbnQ4IH0gZnJvbSAnLi4vdXRpbHMvdHlwZWQtYXJyYXknO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBDSFVOS19TSVpFID0gMTY7IC8vIDE2IGJ5dGVzLCAxMjggYml0c1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWNyeXB0ZXIge1xuICBwcml2YXRlIGxvZ0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHJlbW92ZVBLQ1M3UGFkZGluZzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBzdWJ0bGU6IFN1YnRsZUNyeXB0byB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHNvZnR3YXJlRGVjcnlwdGVyOiBBRVNEZWNyeXB0b3IgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBrZXk6IEFycmF5QnVmZmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZmFzdEFlc0tleTogRmFzdEFFU0tleSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlbWFpbmRlckRhdGE6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjdXJyZW50SVY6IEFycmF5QnVmZmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY3VycmVudFJlc3VsdDogQXJyYXlCdWZmZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB1c2VTb2Z0d2FyZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEhsc0NvbmZpZywgeyByZW1vdmVQS0NTN1BhZGRpbmcgPSB0cnVlIH0gPSB7fSkge1xuICAgIHRoaXMudXNlU29mdHdhcmUgPSBjb25maWcuZW5hYmxlU29mdHdhcmVBRVM7XG4gICAgdGhpcy5yZW1vdmVQS0NTN1BhZGRpbmcgPSByZW1vdmVQS0NTN1BhZGRpbmc7XG4gICAgLy8gYnVpbHQgaW4gZGVjcnlwdG9yIGV4cGVjdHMgUEtDUzcgcGFkZGluZ1xuICAgIGlmIChyZW1vdmVQS0NTN1BhZGRpbmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJyb3dzZXJDcnlwdG8gPSBzZWxmLmNyeXB0bztcbiAgICAgICAgaWYgKGJyb3dzZXJDcnlwdG8pIHtcbiAgICAgICAgICB0aGlzLnN1YnRsZSA9XG4gICAgICAgICAgICBicm93c2VyQ3J5cHRvLnN1YnRsZSB8fFxuICAgICAgICAgICAgKChicm93c2VyQ3J5cHRvIGFzIGFueSkud2Via2l0U3VidGxlIGFzIFN1YnRsZUNyeXB0byk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVzZVNvZnR3YXJlID0gIXRoaXMuc3VidGxlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnRsZSA9IG51bGw7XG4gICAgdGhpcy5zb2Z0d2FyZURlY3J5cHRlciA9IG51bGw7XG4gICAgdGhpcy5rZXkgPSBudWxsO1xuICAgIHRoaXMuZmFzdEFlc0tleSA9IG51bGw7XG4gICAgdGhpcy5yZW1haW5kZXJEYXRhID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRJViA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50UmVzdWx0ID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBpc1N5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU29mdHdhcmU7XG4gIH1cblxuICBwdWJsaWMgZmx1c2goKTogVWludDhBcnJheSB8IG51bGwge1xuICAgIGNvbnN0IHsgY3VycmVudFJlc3VsdCwgcmVtYWluZGVyRGF0YSB9ID0gdGhpcztcbiAgICBpZiAoIWN1cnJlbnRSZXN1bHQgfHwgcmVtYWluZGVyRGF0YSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShjdXJyZW50UmVzdWx0KTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgaWYgKHRoaXMucmVtb3ZlUEtDUzdQYWRkaW5nKSB7XG4gICAgICByZXR1cm4gcmVtb3ZlUGFkZGluZyhkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy5jdXJyZW50UmVzdWx0ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRJViA9IG51bGw7XG4gICAgdGhpcy5yZW1haW5kZXJEYXRhID0gbnVsbDtcbiAgICBpZiAodGhpcy5zb2Z0d2FyZURlY3J5cHRlcikge1xuICAgICAgdGhpcy5zb2Z0d2FyZURlY3J5cHRlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRlY3J5cHQoXG4gICAgZGF0YTogVWludDhBcnJheSB8IEFycmF5QnVmZmVyLFxuICAgIGtleTogQXJyYXlCdWZmZXIsXG4gICAgaXY6IEFycmF5QnVmZmVyLFxuICApOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XG4gICAgaWYgKHRoaXMudXNlU29mdHdhcmUpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMuc29mdHdhcmVEZWNyeXB0KG5ldyBVaW50OEFycmF5KGRhdGEpLCBrZXksIGl2KTtcbiAgICAgICAgY29uc3QgZGVjcnlwdFJlc3VsdCA9IHRoaXMuZmx1c2goKTtcbiAgICAgICAgaWYgKGRlY3J5cHRSZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKGRlY3J5cHRSZXN1bHQuYnVmZmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdbc29mdHdhcmVEZWNyeXB0XSBGYWlsZWQgdG8gZGVjcnlwdCBkYXRhJykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud2ViQ3J5cHRvRGVjcnlwdChuZXcgVWludDhBcnJheShkYXRhKSwga2V5LCBpdik7XG4gIH1cblxuICAvLyBTb2Z0d2FyZSBkZWNyeXB0aW9uIGlzIHByb2dyZXNzaXZlLiBQcm9ncmVzc2l2ZSBkZWNyeXB0aW9uIG1heSBub3QgcmV0dXJuIGEgcmVzdWx0IG9uIGVhY2ggY2FsbC4gQW55IGNhY2hlZFxuICAvLyBkYXRhIGlzIGhhbmRsZWQgaW4gdGhlIGZsdXNoKCkgY2FsbFxuICBwdWJsaWMgc29mdHdhcmVEZWNyeXB0KFxuICAgIGRhdGE6IFVpbnQ4QXJyYXksXG4gICAga2V5OiBBcnJheUJ1ZmZlcixcbiAgICBpdjogQXJyYXlCdWZmZXIsXG4gICk6IEFycmF5QnVmZmVyIHwgbnVsbCB7XG4gICAgY29uc3QgeyBjdXJyZW50SVYsIGN1cnJlbnRSZXN1bHQsIHJlbWFpbmRlckRhdGEgfSA9IHRoaXM7XG4gICAgdGhpcy5sb2dPbmNlKCdKUyBBRVMgZGVjcnlwdCcpO1xuICAgIC8vIFRoZSBvdXRwdXQgaXMgc3RhZ2dlcmVkIGR1cmluZyBwcm9ncmVzc2l2ZSBwYXJzaW5nIC0gdGhlIGN1cnJlbnQgcmVzdWx0IGlzIGNhY2hlZCwgYW5kIGVtaXR0ZWQgb24gdGhlIG5leHQgY2FsbFxuICAgIC8vIFRoaXMgaXMgZG9uZSBpbiBvcmRlciB0byBzdHJpcCBQS0NTNyBwYWRkaW5nLCB3aGljaCBpcyBmb3VuZCBhdCB0aGUgZW5kIG9mIGVhY2ggc2VnbWVudC4gV2Ugb25seSBrbm93IHdlJ3ZlIHJlYWNoZWRcbiAgICAvLyB0aGUgZW5kIG9uIGZsdXNoKCksIGJ1dCBieSB0aGF0IHRpbWUgd2UgaGF2ZSBhbHJlYWR5IHJlY2VpdmVkIGFsbCBieXRlcyBmb3IgdGhlIHNlZ21lbnQuXG4gICAgLy8gUHJvZ3Jlc3NpdmUgZGVjcnlwdGlvbiBkb2VzIG5vdCB3b3JrIHdpdGggV2ViQ3J5cHRvXG5cbiAgICBpZiAocmVtYWluZGVyRGF0YSkge1xuICAgICAgZGF0YSA9IGFwcGVuZFVpbnQ4QXJyYXkocmVtYWluZGVyRGF0YSwgZGF0YSk7XG4gICAgICB0aGlzLnJlbWFpbmRlckRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIEJ5dGUgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNiAoQUVTLTEyOCA9IDEyOCBiaXQgYmxvY2tzID0gMTYgYnl0ZXMpXG4gICAgY29uc3QgY3VycmVudENodW5rID0gdGhpcy5nZXRWYWxpZENodW5rKGRhdGEpO1xuICAgIGlmICghY3VycmVudENodW5rLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRJVikge1xuICAgICAgaXYgPSBjdXJyZW50SVY7XG4gICAgfVxuXG4gICAgbGV0IHNvZnR3YXJlRGVjcnlwdGVyID0gdGhpcy5zb2Z0d2FyZURlY3J5cHRlcjtcbiAgICBpZiAoIXNvZnR3YXJlRGVjcnlwdGVyKSB7XG4gICAgICBzb2Z0d2FyZURlY3J5cHRlciA9IHRoaXMuc29mdHdhcmVEZWNyeXB0ZXIgPSBuZXcgQUVTRGVjcnlwdG9yKCk7XG4gICAgfVxuICAgIHNvZnR3YXJlRGVjcnlwdGVyLmV4cGFuZEtleShrZXkpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY3VycmVudFJlc3VsdDtcblxuICAgIHRoaXMuY3VycmVudFJlc3VsdCA9IHNvZnR3YXJlRGVjcnlwdGVyLmRlY3J5cHQoY3VycmVudENodW5rLmJ1ZmZlciwgMCwgaXYpO1xuICAgIHRoaXMuY3VycmVudElWID0gc2xpY2VVaW50OChjdXJyZW50Q2h1bmssIC0xNikuYnVmZmVyO1xuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHVibGljIHdlYkNyeXB0b0RlY3J5cHQoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICBrZXk6IEFycmF5QnVmZmVyLFxuICAgIGl2OiBBcnJheUJ1ZmZlcixcbiAgKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGlmICh0aGlzLmtleSAhPT0ga2V5IHx8ICF0aGlzLmZhc3RBZXNLZXkpIHtcbiAgICAgIGlmICghdGhpcy5zdWJ0bGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZGF0YSwga2V5LCBpdikpO1xuICAgICAgfVxuICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICB0aGlzLmZhc3RBZXNLZXkgPSBuZXcgRmFzdEFFU0tleSh0aGlzLnN1YnRsZSwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmFzdEFlc0tleVxuICAgICAgLmV4cGFuZEtleSgpXG4gICAgICAudGhlbigoYWVzS2V5KSA9PiB7XG4gICAgICAgIC8vIGRlY3J5cHQgdXNpbmcgd2ViIGNyeXB0b1xuICAgICAgICBpZiAoIXRoaXMuc3VidGxlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignd2ViIGNyeXB0byBub3QgaW5pdGlhbGl6ZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dPbmNlKCdXZWJDcnlwdG8gQUVTIGRlY3J5cHQnKTtcbiAgICAgICAgY29uc3QgY3J5cHRvID0gbmV3IEFFU0NyeXB0byh0aGlzLnN1YnRsZSwgbmV3IFVpbnQ4QXJyYXkoaXYpKTtcbiAgICAgICAgcmV0dXJuIGNyeXB0by5kZWNyeXB0KGRhdGEuYnVmZmVyLCBhZXNLZXkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgIGBbZGVjcnlwdGVyXTogV2ViQ3J5cHRvIEVycm9yLCBkaXNhYmxlIFdlYkNyeXB0byBBUEksICR7ZXJyLm5hbWV9OiAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub25XZWJDcnlwdG9FcnJvcihkYXRhLCBrZXksIGl2KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvbldlYkNyeXB0b0Vycm9yKFxuICAgIGRhdGE6IFVpbnQ4QXJyYXksXG4gICAga2V5OiBBcnJheUJ1ZmZlcixcbiAgICBpdjogQXJyYXlCdWZmZXIsXG4gICk6IEFycmF5QnVmZmVyIHwgbmV2ZXIge1xuICAgIHRoaXMudXNlU29mdHdhcmUgPSB0cnVlO1xuICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5zb2Z0d2FyZURlY3J5cHQoZGF0YSwga2V5LCBpdik7XG4gICAgY29uc3QgZGVjcnlwdFJlc3VsdCA9IHRoaXMuZmx1c2goKTtcbiAgICBpZiAoZGVjcnlwdFJlc3VsdCkge1xuICAgICAgcmV0dXJuIGRlY3J5cHRSZXN1bHQuYnVmZmVyO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkNyeXB0byBhbmQgc29mdHdhcmVEZWNyeXB0OiBmYWlsZWQgdG8gZGVjcnlwdCBkYXRhJyk7XG4gIH1cblxuICBwcml2YXRlIGdldFZhbGlkQ2h1bmsoZGF0YTogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkge1xuICAgIGxldCBjdXJyZW50Q2h1bmsgPSBkYXRhO1xuICAgIGNvbnN0IHNwbGl0UG9pbnQgPSBkYXRhLmxlbmd0aCAtIChkYXRhLmxlbmd0aCAlIENIVU5LX1NJWkUpO1xuICAgIGlmIChzcGxpdFBvaW50ICE9PSBkYXRhLmxlbmd0aCkge1xuICAgICAgY3VycmVudENodW5rID0gc2xpY2VVaW50OChkYXRhLCAwLCBzcGxpdFBvaW50KTtcbiAgICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IHNsaWNlVWludDgoZGF0YSwgc3BsaXRQb2ludCk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50Q2h1bms7XG4gIH1cblxuICBwcml2YXRlIGxvZ09uY2UobXNnOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMubG9nRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIubG9nKGBbZGVjcnlwdGVyXTogJHttc2d9YCk7XG4gICAgdGhpcy5sb2dFbmFibGVkID0gZmFsc2U7XG4gIH1cbn1cbiIsICIvKipcbiAqICBUaW1lUmFuZ2VzIHRvIHN0cmluZyBoZWxwZXJcbiAqL1xuXG5jb25zdCBUaW1lUmFuZ2VzID0ge1xuICB0b1N0cmluZzogZnVuY3Rpb24gKHI6IFRpbWVSYW5nZXMpIHtcbiAgICBsZXQgbG9nID0gJyc7XG4gICAgY29uc3QgbGVuID0gci5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgbG9nICs9IGBbJHtyLnN0YXJ0KGkpLnRvRml4ZWQoMyl9LSR7ci5lbmQoaSkudG9GaXhlZCgzKX1dYDtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9nO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGltZVJhbmdlcztcbiIsICJpbXBvcnQgVGFza0xvb3AgZnJvbSAnLi4vdGFzay1sb29wJztcbmltcG9ydCB7IEZyYWdtZW50U3RhdGUgfSBmcm9tICcuL2ZyYWdtZW50LXRyYWNrZXInO1xuaW1wb3J0IHsgQnVmZmVyYWJsZSwgQnVmZmVySGVscGVyLCBCdWZmZXJJbmZvIH0gZnJvbSAnLi4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IEVycm9yRGV0YWlscywgRXJyb3JUeXBlcyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBDaHVua01ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvdHJhbnNtdXhlcic7XG5pbXBvcnQgeyBhcHBlbmRVaW50OEFycmF5IH0gZnJvbSAnLi4vdXRpbHMvbXA0LXRvb2xzJztcbmltcG9ydCB7IGFsaWduU3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvZGlzY29udGludWl0aWVzJztcbmltcG9ydCB7XG4gIGZpbmRGcmFnbWVudEJ5UERULFxuICBmaW5kRnJhZ21lbnRCeVBUUyxcbiAgZmluZEZyYWdXaXRoQ0MsXG59IGZyb20gJy4vZnJhZ21lbnQtZmluZGVycyc7XG5pbXBvcnQge1xuICBmaW5kUGFydCxcbiAgZ2V0RnJhZ21lbnRXaXRoU04sXG4gIGdldFBhcnRXaXRoLFxuICB1cGRhdGVGcmFnUFRTRFRTLFxufSBmcm9tICcuLi91dGlscy9sZXZlbC1oZWxwZXInO1xuaW1wb3J0IFRyYW5zbXV4ZXJJbnRlcmZhY2UgZnJvbSAnLi4vZGVtdXgvdHJhbnNtdXhlci1pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIFBhcnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IEZyYWdtZW50TG9hZGVyLCB7XG4gIEZyYWdtZW50TG9hZFByb2dyZXNzQ2FsbGJhY2ssXG4gIExvYWRFcnJvcixcbn0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50LWxvYWRlcic7XG5pbXBvcnQgS2V5TG9hZGVyIGZyb20gJy4uL2xvYWRlci9rZXktbG9hZGVyJztcbmltcG9ydCB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCBEZWNyeXB0ZXIgZnJvbSAnLi4vY3J5cHQvZGVjcnlwdGVyJztcbmltcG9ydCBUaW1lUmFuZ2VzIGZyb20gJy4uL3V0aWxzL3RpbWUtcmFuZ2VzJztcbmltcG9ydCB7IFBsYXlsaXN0TGV2ZWxUeXBlIH0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcbmltcG9ydCB7IGdldFJldHJ5RGVsYXkgfSBmcm9tICcuLi91dGlscy9lcnJvci1oZWxwZXInO1xuaW1wb3J0IHsgTmV0d29ya0Vycm9yQWN0aW9uIH0gZnJvbSAnLi9lcnJvci1jb250cm9sbGVyJztcbmltcG9ydCB0eXBlIHtcbiAgQnVmZmVyQXBwZW5kaW5nRGF0YSxcbiAgRXJyb3JEYXRhLFxuICBGcmFnTG9hZGVkRGF0YSxcbiAgUGFydHNMb2FkZWREYXRhLFxuICBLZXlMb2FkZWREYXRhLFxuICBNZWRpYUF0dGFjaGVkRGF0YSxcbiAgQnVmZmVyRmx1c2hpbmdEYXRhLFxuICBNYW5pZmVzdExvYWRlZERhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50VHJhY2tlciB9IGZyb20gJy4vZnJhZ21lbnQtdHJhY2tlcic7XG5pbXBvcnQgdHlwZSB7IExldmVsIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuaW1wb3J0IHR5cGUgeyBSZW11eGVkVHJhY2sgfSBmcm9tICcuLi90eXBlcy9yZW11eGVyJztcbmltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSB7IFNvdXJjZUJ1ZmZlck5hbWUgfSBmcm9tICcuLi90eXBlcy9idWZmZXInO1xuaW1wb3J0IHR5cGUgeyBSYXRpb25hbFRpbWVzdGFtcCB9IGZyb20gJy4uL3V0aWxzL3RpbWVzY2FsZS1jb252ZXJzaW9uJztcblxudHlwZSBSZXNvbHZlRnJhZ0xvYWRlZCA9IChGcmFnTG9hZGVkRW5kRGF0YSkgPT4gdm9pZDtcbnR5cGUgUmVqZWN0RnJhZ0xvYWRlZCA9IChMb2FkRXJyb3IpID0+IHZvaWQ7XG5cbmV4cG9ydCBjb25zdCBTdGF0ZSA9IHtcbiAgU1RPUFBFRDogJ1NUT1BQRUQnLFxuICBJRExFOiAnSURMRScsXG4gIEtFWV9MT0FESU5HOiAnS0VZX0xPQURJTkcnLFxuICBGUkFHX0xPQURJTkc6ICdGUkFHX0xPQURJTkcnLFxuICBGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTogJ0ZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZJyxcbiAgV0FJVElOR19UUkFDSzogJ1dBSVRJTkdfVFJBQ0snLFxuICBQQVJTSU5HOiAnUEFSU0lORycsXG4gIFBBUlNFRDogJ1BBUlNFRCcsXG4gIEVOREVEOiAnRU5ERUQnLFxuICBFUlJPUjogJ0VSUk9SJyxcbiAgV0FJVElOR19JTklUX1BUUzogJ1dBSVRJTkdfSU5JVF9QVFMnLFxuICBXQUlUSU5HX0xFVkVMOiAnV0FJVElOR19MRVZFTCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlU3RyZWFtQ29udHJvbGxlclxuICBleHRlbmRzIFRhc2tMb29wXG4gIGltcGxlbWVudHMgTmV0d29ya0NvbXBvbmVudEFQSVxue1xuICBwcm90ZWN0ZWQgaGxzOiBIbHM7XG5cbiAgcHJvdGVjdGVkIGZyYWdQcmV2aW91czogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIGZyYWdDdXJyZW50OiBGcmFnbWVudCB8IG51bGwgPSBudWxsO1xuICBwcm90ZWN0ZWQgZnJhZ21lbnRUcmFja2VyOiBGcmFnbWVudFRyYWNrZXI7XG4gIHByb3RlY3RlZCB0cmFuc211eGVyOiBUcmFuc211eGVySW50ZXJmYWNlIHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBfc3RhdGU6IHN0cmluZyA9IFN0YXRlLlNUT1BQRUQ7XG4gIHByb3RlY3RlZCBwbGF5bGlzdFR5cGU6IFBsYXlsaXN0TGV2ZWxUeXBlO1xuICBwcm90ZWN0ZWQgbWVkaWE6IEhUTUxNZWRpYUVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIG1lZGlhQnVmZmVyOiBCdWZmZXJhYmxlIHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJvdGVjdGVkIGJpdHJhdGVUZXN0OiBib29sZWFuID0gZmFsc2U7XG4gIHByb3RlY3RlZCBsYXN0Q3VycmVudFRpbWU6IG51bWJlciA9IDA7XG4gIHByb3RlY3RlZCBuZXh0TG9hZFBvc2l0aW9uOiBudW1iZXIgPSAwO1xuICBwcm90ZWN0ZWQgc3RhcnRQb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgcHJvdGVjdGVkIHN0YXJ0VGltZU9mZnNldDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBsb2FkZWRtZXRhZGF0YTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcm90ZWN0ZWQgcmV0cnlEYXRlOiBudW1iZXIgPSAwO1xuICBwcm90ZWN0ZWQgbGV2ZWxzOiBBcnJheTxMZXZlbD4gfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIGZyYWdtZW50TG9hZGVyOiBGcmFnbWVudExvYWRlcjtcbiAgcHJvdGVjdGVkIGtleUxvYWRlcjogS2V5TG9hZGVyO1xuICBwcm90ZWN0ZWQgbGV2ZWxMYXN0TG9hZGVkOiBMZXZlbCB8IG51bGwgPSBudWxsO1xuICBwcm90ZWN0ZWQgc3RhcnRGcmFnUmVxdWVzdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByb3RlY3RlZCBkZWNyeXB0ZXI6IERlY3J5cHRlcjtcbiAgcHJvdGVjdGVkIGluaXRQVFM6IFJhdGlvbmFsVGltZXN0YW1wW10gPSBbXTtcbiAgcHJvdGVjdGVkIG9udnNlZWtpbmc6IEV2ZW50TGlzdGVuZXIgfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIG9udmVuZGVkOiBFdmVudExpc3RlbmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBsb2dQcmVmaXg6IHN0cmluZyA9ICcnO1xuICBwcm90ZWN0ZWQgbG9nOiAobXNnOiBhbnkpID0+IHZvaWQ7XG4gIHByb3RlY3RlZCB3YXJuOiAobXNnOiBhbnkpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgaGxzOiBIbHMsXG4gICAgZnJhZ21lbnRUcmFja2VyOiBGcmFnbWVudFRyYWNrZXIsXG4gICAga2V5TG9hZGVyOiBLZXlMb2FkZXIsXG4gICAgbG9nUHJlZml4OiBzdHJpbmcsXG4gICAgcGxheWxpc3RUeXBlOiBQbGF5bGlzdExldmVsVHlwZSxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBsYXlsaXN0VHlwZSA9IHBsYXlsaXN0VHlwZTtcbiAgICB0aGlzLmxvZ1ByZWZpeCA9IGxvZ1ByZWZpeDtcbiAgICB0aGlzLmxvZyA9IGxvZ2dlci5sb2cuYmluZChsb2dnZXIsIGAke2xvZ1ByZWZpeH06YCk7XG4gICAgdGhpcy53YXJuID0gbG9nZ2VyLndhcm4uYmluZChsb2dnZXIsIGAke2xvZ1ByZWZpeH06YCk7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgdGhpcy5mcmFnbWVudExvYWRlciA9IG5ldyBGcmFnbWVudExvYWRlcihobHMuY29uZmlnKTtcbiAgICB0aGlzLmtleUxvYWRlciA9IGtleUxvYWRlcjtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgRGVjcnlwdGVyKGhscy5jb25maWcpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BREVELCB0aGlzLm9uTWFuaWZlc3RMb2FkZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGRvVGljaygpIHtcbiAgICB0aGlzLm9uVGlja0VuZCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uVGlja0VuZCgpIHt9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBwdWJsaWMgc3RhcnRMb2FkKHN0YXJ0UG9zaXRpb246IG51bWJlcik6IHZvaWQge31cblxuICBwdWJsaWMgc3RvcExvYWQoKSB7XG4gICAgdGhpcy5mcmFnbWVudExvYWRlci5hYm9ydCgpO1xuICAgIHRoaXMua2V5TG9hZGVyLmFib3J0KHRoaXMucGxheWxpc3RUeXBlKTtcbiAgICBjb25zdCBmcmFnID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICBpZiAoZnJhZz8ubG9hZGVyKSB7XG4gICAgICBmcmFnLmFib3J0UmVxdWVzdHMoKTtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0VHJhbnNtdXhlcigpO1xuICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICB0aGlzLmNsZWFyTmV4dFRpY2soKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgfVxuXG4gIHByb3RlY3RlZCBfc3RyZWFtRW5kZWQoXG4gICAgYnVmZmVySW5mbzogQnVmZmVySW5mbyxcbiAgICBsZXZlbERldGFpbHM6IExldmVsRGV0YWlscyxcbiAgKTogYm9vbGVhbiB7XG4gICAgLy8gSWYgcGxheWxpc3QgaXMgbGl2ZSwgdGhlcmUgaXMgYW5vdGhlciBidWZmZXJlZCByYW5nZSBhZnRlciB0aGUgY3VycmVudCByYW5nZSwgbm90aGluZyBidWZmZXJlZCwgbWVkaWEgaXMgZGV0YWNoZWQsXG4gICAgLy8gb2Ygbm90aGluZyBsb2FkaW5nL2xvYWRlZCByZXR1cm4gZmFsc2VcbiAgICBpZiAoXG4gICAgICBsZXZlbERldGFpbHMubGl2ZSB8fFxuICAgICAgYnVmZmVySW5mby5uZXh0U3RhcnQgfHxcbiAgICAgICFidWZmZXJJbmZvLmVuZCB8fFxuICAgICAgIXRoaXMubWVkaWFcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcGFydExpc3QgPSBsZXZlbERldGFpbHMucGFydExpc3Q7XG4gICAgLy8gU2luY2UgdGhlIGxhc3QgcGFydCBpc24ndCBndWFyYW50ZWVkIHRvIGNvcnJlc3BvbmQgdG8gdGhlIGxhc3QgcGxheWxpc3Qgc2VnbWVudCBmb3IgTG93LUxhdGVuY3kgSExTLFxuICAgIC8vIGNoZWNrIGluc3RlYWQgaWYgdGhlIGxhc3QgcGFydCBpcyBidWZmZXJlZC5cbiAgICBpZiAocGFydExpc3Q/Lmxlbmd0aCkge1xuICAgICAgY29uc3QgbGFzdFBhcnQgPSBwYXJ0TGlzdFtwYXJ0TGlzdC5sZW5ndGggLSAxXTtcblxuICAgICAgLy8gQ2hlY2tpbmcgdGhlIG1pZHBvaW50IG9mIHRoZSBwYXJ0IGZvciBwb3RlbnRpYWwgbWFyZ2luIG9mIGVycm9yIGFuZCByZWxhdGVkIGlzc3Vlcy5cbiAgICAgIC8vIE5PVEU6IFRlY2huaWNhbGx5IEkgYmVsaWV2ZSBwYXJ0cyBjb3VsZCB5aWVsZCBjb250ZW50IHRoYXQgaXMgPCB0aGUgY29tcHV0ZWQgZHVyYXRpb24gKGluY2x1ZGluZyBwb3RlbnRpYWwgYSBkdXJhdGlvbiBvZiAwKVxuICAgICAgLy8gYW5kIHN0aWxsIGJlIHNwZWMtY29tcGxpYW50LCBzbyB0aGVyZSBtYXkgc3RpbGwgYmUgZWRnZSBjYXNlcyBoZXJlLiBMaWtld2lzZSwgdGhlcmUgY291bGQgYmUgaXNzdWVzIGluIGVuZCBvZiBzdHJlYW1cbiAgICAgIC8vIHBhcnQgbWlzbWF0Y2hlcyBmb3IgaW5kZXBlbmRlbnQgYXVkaW8gYW5kIHZpZGVvIHBsYXlsaXN0cy9zZWdtZW50cy5cbiAgICAgIGNvbnN0IGxhc3RQYXJ0QnVmZmVyZWQgPSBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZChcbiAgICAgICAgdGhpcy5tZWRpYSxcbiAgICAgICAgbGFzdFBhcnQuc3RhcnQgKyBsYXN0UGFydC5kdXJhdGlvbiAvIDIsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGxhc3RQYXJ0QnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgcGxheWxpc3RUeXBlID1cbiAgICAgIGxldmVsRGV0YWlscy5mcmFnbWVudHNbbGV2ZWxEZXRhaWxzLmZyYWdtZW50cy5sZW5ndGggLSAxXS50eXBlO1xuICAgIHJldHVybiB0aGlzLmZyYWdtZW50VHJhY2tlci5pc0VuZExpc3RBcHBlbmRlZChwbGF5bGlzdFR5cGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldExldmVsRGV0YWlscygpOiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLmxldmVscyAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxMYXN0TG9hZGVkPy5kZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1lZGlhQXR0YWNoZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NRURJQV9BVFRBQ0hFRCxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgbWVkaWEgPSAodGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhKTtcbiAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcykgYXMgRXZlbnRMaXN0ZW5lcjtcbiAgICB0aGlzLm9udmVuZGVkID0gdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKSBhcyBFdmVudExpc3RlbmVyO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbnZlbmRlZCk7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKHRoaXMubGV2ZWxzICYmIGNvbmZpZy5hdXRvU3RhcnRMb2FkICYmIHRoaXMuc3RhdGUgPT09IFN0YXRlLlNUT1BQRUQpIHtcbiAgICAgIHRoaXMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZWRpYURldGFjaGluZygpIHtcbiAgICBjb25zdCBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhPy5lbmRlZCkge1xuICAgICAgdGhpcy5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgIGlmIChtZWRpYSAmJiB0aGlzLm9udnNlZWtpbmcgJiYgdGhpcy5vbnZlbmRlZCkge1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub252c2Vla2luZyk7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgICAgdGhpcy5vbnZzZWVraW5nID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmtleUxvYWRlcikge1xuICAgICAgdGhpcy5rZXlMb2FkZXIuZGV0YWNoKCk7XG4gICAgfVxuICAgIHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gICAgdGhpcy5zdG9wTG9hZCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWVkaWFTZWVraW5nKCkge1xuICAgIGNvbnN0IHsgY29uZmlnLCBmcmFnQ3VycmVudCwgbWVkaWEsIG1lZGlhQnVmZmVyLCBzdGF0ZSB9ID0gdGhpcztcbiAgICBjb25zdCBjdXJyZW50VGltZTogbnVtYmVyID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IDA7XG4gICAgY29uc3QgYnVmZmVySW5mbyA9IEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKFxuICAgICAgbWVkaWFCdWZmZXIgPyBtZWRpYUJ1ZmZlciA6IG1lZGlhLFxuICAgICAgY3VycmVudFRpbWUsXG4gICAgICBjb25maWcubWF4QnVmZmVySG9sZSxcbiAgICApO1xuXG4gICAgdGhpcy5sb2coXG4gICAgICBgbWVkaWEgc2Vla2luZyB0byAke1xuICAgICAgICBOdW1iZXIuaXNGaW5pdGUoY3VycmVudFRpbWUpID8gY3VycmVudFRpbWUudG9GaXhlZCgzKSA6IGN1cnJlbnRUaW1lXG4gICAgICB9LCBzdGF0ZTogJHtzdGF0ZX1gLFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuRU5ERUQpIHtcbiAgICAgIHRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKTtcbiAgICB9IGVsc2UgaWYgKGZyYWdDdXJyZW50KSB7XG4gICAgICAvLyBTZWVraW5nIHdoaWxlIGZyYWcgbG9hZCBpcyBpbiBwcm9ncmVzc1xuICAgICAgY29uc3QgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICBjb25zdCBmcmFnU3RhcnRPZmZzZXQgPSBmcmFnQ3VycmVudC5zdGFydCAtIHRvbGVyYW5jZTtcbiAgICAgIGNvbnN0IGZyYWdFbmRPZmZzZXQgPVxuICAgICAgICBmcmFnQ3VycmVudC5zdGFydCArIGZyYWdDdXJyZW50LmR1cmF0aW9uICsgdG9sZXJhbmNlO1xuICAgICAgLy8gaWYgc2Vla2luZyBvdXQgb2YgYnVmZmVyZWQgcmFuZ2Ugb3IgaW50byBuZXcgb25lXG4gICAgICBpZiAoXG4gICAgICAgICFidWZmZXJJbmZvLmxlbiB8fFxuICAgICAgICBmcmFnRW5kT2Zmc2V0IDwgYnVmZmVySW5mby5zdGFydCB8fFxuICAgICAgICBmcmFnU3RhcnRPZmZzZXQgPiBidWZmZXJJbmZvLmVuZFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHBhc3RGcmFnbWVudCA9IGN1cnJlbnRUaW1lID4gZnJhZ0VuZE9mZnNldDtcbiAgICAgICAgLy8gaWYgdGhlIHNlZWsgcG9zaXRpb24gaXMgb3V0c2lkZSB0aGUgY3VycmVudCBmcmFnbWVudCByYW5nZVxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPCBmcmFnU3RhcnRPZmZzZXQgfHwgcGFzdEZyYWdtZW50KSB7XG4gICAgICAgICAgaWYgKHBhc3RGcmFnbWVudCAmJiBmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICAnc2Vla2luZyBvdXRzaWRlIG9mIGJ1ZmZlciB3aGlsZSBmcmFnbWVudCBsb2FkIGluIHByb2dyZXNzLCBjYW5jZWwgZnJhZ21lbnQgbG9hZCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZnJhZ0N1cnJlbnQuYWJvcnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIC8vIFJlbW92ZSBnYXAgZnJhZ21lbnRzXG4gICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudHNJblJhbmdlKFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgSW5maW5pdHksXG4gICAgICAgIHRoaXMucGxheWxpc3RUeXBlLFxuICAgICAgICB0cnVlLFxuICAgICAgKTtcblxuICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICAvLyBpbiBjYXNlIHNlZWtpbmcgb2NjdXJzIGFsdGhvdWdoIG5vIG1lZGlhIGJ1ZmZlcmVkLCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiBhbmQgbmV4dExvYWRQb3NpdGlvbiB0byBzZWVrIHRhcmdldFxuICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSAmJiAhYnVmZmVySW5mby5sZW4pIHtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbiA9IGN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIC8vIEFzeW5jIHRpY2sgdG8gc3BlZWQgdXAgcHJvY2Vzc2luZ1xuICAgIHRoaXMudGlja0ltbWVkaWF0ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWVkaWFFbmRlZCgpIHtcbiAgICAvLyByZXNldCBzdGFydFBvc2l0aW9uIGFuZCBsYXN0Q3VycmVudFRpbWUgdG8gcmVzdGFydCBwbGF5YmFjayBAIHN0cmVhbSBiZWdpbm5pbmdcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NYW5pZmVzdExvYWRlZChcbiAgICBldmVudDogRXZlbnRzLk1BTklGRVNUX0xPQURFRCxcbiAgICBkYXRhOiBNYW5pZmVzdExvYWRlZERhdGEsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc3RhcnRUaW1lT2Zmc2V0ID0gZGF0YS5zdGFydFRpbWVPZmZzZXQ7XG4gICAgdGhpcy5pbml0UFRTID0gW107XG4gIH1cblxuICBwcm90ZWN0ZWQgb25IYW5kbGVyRGVzdHJveWluZygpIHtcbiAgICB0aGlzLmhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURFRCwgdGhpcy5vbk1hbmlmZXN0TG9hZGVkLCB0aGlzKTtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgc3VwZXIub25IYW5kbGVyRGVzdHJveWluZygpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmhscyA9IG51bGw7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25IYW5kbGVyRGVzdHJveWVkKCkge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIGlmICh0aGlzLmZyYWdtZW50TG9hZGVyKSB7XG4gICAgICB0aGlzLmZyYWdtZW50TG9hZGVyLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgaWYgKHRoaXMua2V5TG9hZGVyKSB7XG4gICAgICB0aGlzLmtleUxvYWRlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlY3J5cHRlcikge1xuICAgICAgdGhpcy5kZWNyeXB0ZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuaGxzID1cbiAgICAgIHRoaXMubG9nID1cbiAgICAgIHRoaXMud2FybiA9XG4gICAgICB0aGlzLmRlY3J5cHRlciA9XG4gICAgICB0aGlzLmtleUxvYWRlciA9XG4gICAgICB0aGlzLmZyYWdtZW50TG9hZGVyID1cbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyID1cbiAgICAgICAgbnVsbCBhcyBhbnk7XG4gICAgc3VwZXIub25IYW5kbGVyRGVzdHJveWVkKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgbG9hZEZyYWdtZW50KFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIGxldmVsOiBMZXZlbCxcbiAgICB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMuX2xvYWRGcmFnRm9yUGxheWJhY2soZnJhZywgbGV2ZWwsIHRhcmdldEJ1ZmZlclRpbWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfbG9hZEZyYWdGb3JQbGF5YmFjayhcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICBsZXZlbDogTGV2ZWwsXG4gICAgdGFyZ2V0QnVmZmVyVGltZTogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBwcm9ncmVzc0NhbGxiYWNrOiBGcmFnbWVudExvYWRQcm9ncmVzc0NhbGxiYWNrID0gKFxuICAgICAgZGF0YTogRnJhZ0xvYWRlZERhdGEsXG4gICAgKSA9PiB7XG4gICAgICBpZiAodGhpcy5mcmFnQ29udGV4dENoYW5nZWQoZnJhZykpIHtcbiAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgIGBGcmFnbWVudCAke2ZyYWcuc259JHtcbiAgICAgICAgICAgIGRhdGEucGFydCA/ICcgcDogJyArIGRhdGEucGFydC5pbmRleCA6ICcnXG4gICAgICAgICAgfSBvZiBsZXZlbCAke2ZyYWcubGV2ZWx9IHdhcyBkcm9wcGVkIGR1cmluZyBkb3dubG9hZC5gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChmcmFnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZnJhZy5zdGF0cy5jaHVua0NvdW50Kys7XG4gICAgICB0aGlzLl9oYW5kbGVGcmFnbWVudExvYWRQcm9ncmVzcyhkYXRhKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZG9GcmFnTG9hZChmcmFnLCBsZXZlbCwgdGFyZ2V0QnVmZmVyVGltZSwgcHJvZ3Jlc3NDYWxsYmFjaylcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIC8vIGlmIHdlJ3JlIGhlcmUgd2UgcHJvYmFibHkgbmVlZGVkIHRvIGJhY2t0cmFjayBvciBhcmUgd2FpdGluZyBmb3IgbW9yZSBwYXJ0c1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICh0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0YXRlID09PSBTdGF0ZS5GUkFHX0xPQURJTkcgfHxcbiAgICAgICAgICAgICghdGhpcy5mcmFnQ3VycmVudCAmJiBzdGF0ZSA9PT0gU3RhdGUuUEFSU0lORylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgncGF5bG9hZCcgaW4gZGF0YSkge1xuICAgICAgICAgIHRoaXMubG9nKGBMb2FkZWQgZnJhZ21lbnQgJHtmcmFnLnNufSBvZiBsZXZlbCAke2ZyYWcubGV2ZWx9YCk7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRlJBR19MT0FERUQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIHRoZSB3aG9sZSBwYXlsb2FkOyBjb250cm9sbGVycyBub3QgaW1wbGVtZW50aW5nIHByb2dyZXNzaXZlIGxvYWRpbmcgcmVjZWl2ZSBkYXRhIGZyb20gdGhpcyBjYWxsYmFja1xuICAgICAgICB0aGlzLl9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZShkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuU1RPUFBFRCB8fCB0aGlzLnN0YXRlID09PSBTdGF0ZS5FUlJPUikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhcm4oYEZyYWcgZXJyb3I6ICR7cmVhc29uPy5tZXNzYWdlIHx8IHJlYXNvbn1gKTtcbiAgICAgICAgdGhpcy5yZXNldEZyYWdtZW50TG9hZGluZyhmcmFnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNsZWFyVHJhY2tlcklmTmVlZGVkKGZyYWc6IEZyYWdtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudFRyYWNrZXIgfSA9IHRoaXM7XG4gICAgY29uc3QgZnJhZ1N0YXRlID0gZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZyYWcpO1xuICAgIGlmIChmcmFnU3RhdGUgPT09IEZyYWdtZW50U3RhdGUuQVBQRU5ESU5HKSB7XG4gICAgICAvLyBMb3dlciB0aGUgbWF4IGJ1ZmZlciBsZW5ndGggYW5kIHRyeSBhZ2FpblxuICAgICAgY29uc3QgcGxheWxpc3RUeXBlID0gZnJhZy50eXBlIGFzIFBsYXlsaXN0TGV2ZWxUeXBlO1xuICAgICAgY29uc3QgYnVmZmVyZWRJbmZvID0gdGhpcy5nZXRGd2RCdWZmZXJJbmZvKFxuICAgICAgICB0aGlzLm1lZGlhQnVmZmVyLFxuICAgICAgICBwbGF5bGlzdFR5cGUsXG4gICAgICApO1xuICAgICAgY29uc3QgbWluRm9yd2FyZEJ1ZmZlckxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICBmcmFnLmR1cmF0aW9uLFxuICAgICAgICBidWZmZXJlZEluZm8gPyBidWZmZXJlZEluZm8ubGVuIDogdGhpcy5jb25maWcubWF4QnVmZmVyTGVuZ3RoLFxuICAgICAgKTtcbiAgICAgIC8vIElmIGJhY2t0cmFja2luZywgYWx3YXlzIHJlbW92ZSBmcm9tIHRoZSB0cmFja2VyIHdpdGhvdXQgcmVkdWNpbmcgbWF4IGJ1ZmZlciBsZW5ndGhcbiAgICAgIGNvbnN0IGJhY2t0cmFja0ZyYWdtZW50ID0gKHRoaXMgYXMgYW55KS5iYWNrdHJhY2tGcmFnbWVudCBhc1xuICAgICAgICB8IEZyYWdtZW50XG4gICAgICAgIHwgdW5kZWZpbmVkO1xuICAgICAgY29uc3QgYmFja3RyYWNrZWQgPSBiYWNrdHJhY2tGcmFnbWVudFxuICAgICAgICA/IChmcmFnLnNuIGFzIG51bWJlcikgLSAoYmFja3RyYWNrRnJhZ21lbnQuc24gYXMgbnVtYmVyKVxuICAgICAgICA6IDA7XG4gICAgICBpZiAoXG4gICAgICAgIGJhY2t0cmFja2VkID09PSAxIHx8XG4gICAgICAgIHRoaXMucmVkdWNlTWF4QnVmZmVyTGVuZ3RoKG1pbkZvcndhcmRCdWZmZXJMZW5ndGgsIGZyYWcuZHVyYXRpb24pXG4gICAgICApIHtcbiAgICAgICAgZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5tZWRpYUJ1ZmZlcj8uYnVmZmVyZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBTdG9wIGdhcCBmb3IgYmFkIHRyYWNrZXIgLyBidWZmZXIgZmx1c2ggYmVoYXZpb3JcbiAgICAgIGZyYWdtZW50VHJhY2tlci5yZW1vdmVBbGxGcmFnbWVudHMoKTtcbiAgICB9IGVsc2UgaWYgKGZyYWdtZW50VHJhY2tlci5oYXNQYXJ0cyhmcmFnLnR5cGUpKSB7XG4gICAgICAvLyBJbiBsb3cgbGF0ZW5jeSBtb2RlLCByZW1vdmUgZnJhZ21lbnRzIGZvciB3aGljaCBvbmx5IHNvbWUgcGFydHMgd2VyZSBidWZmZXJlZFxuICAgICAgZnJhZ21lbnRUcmFja2VyLmRldGVjdFBhcnRpYWxGcmFnbWVudHMoe1xuICAgICAgICBmcmFnLFxuICAgICAgICBwYXJ0OiBudWxsLFxuICAgICAgICBzdGF0czogZnJhZy5zdGF0cyxcbiAgICAgICAgaWQ6IGZyYWcudHlwZSxcbiAgICAgIH0pO1xuICAgICAgaWYgKGZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKSA9PT0gRnJhZ21lbnRTdGF0ZS5QQVJUSUFMKSB7XG4gICAgICAgIGZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChmcmFnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgY2hlY2tMaXZlVXBkYXRlKGRldGFpbHM6IExldmVsRGV0YWlscykge1xuICAgIGlmIChkZXRhaWxzLnVwZGF0ZWQgJiYgIWRldGFpbHMubGl2ZSkge1xuICAgICAgLy8gTGl2ZSBzdHJlYW0gZW5kZWQsIHVwZGF0ZSBmcmFnbWVudCB0cmFja2VyXG4gICAgICBjb25zdCBsYXN0RnJhZ21lbnQgPSBkZXRhaWxzLmZyYWdtZW50c1tkZXRhaWxzLmZyYWdtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLmRldGVjdFBhcnRpYWxGcmFnbWVudHMoe1xuICAgICAgICBmcmFnOiBsYXN0RnJhZ21lbnQsXG4gICAgICAgIHBhcnQ6IG51bGwsXG4gICAgICAgIHN0YXRzOiBsYXN0RnJhZ21lbnQuc3RhdHMsXG4gICAgICAgIGlkOiBsYXN0RnJhZ21lbnQudHlwZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWRldGFpbHMuZnJhZ21lbnRzWzBdKSB7XG4gICAgICBkZXRhaWxzLmRlbHRhVXBkYXRlRmFpbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZmx1c2hNYWluQnVmZmVyKFxuICAgIHN0YXJ0T2Zmc2V0OiBudW1iZXIsXG4gICAgZW5kT2Zmc2V0OiBudW1iZXIsXG4gICAgdHlwZTogU291cmNlQnVmZmVyTmFtZSB8IG51bGwgPSBudWxsLFxuICApIHtcbiAgICBpZiAoIShzdGFydE9mZnNldCAtIGVuZE9mZnNldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gV2hlbiBhbHRlcm5hdGUgYXVkaW8gaXMgcGxheWluZywgdGhlIGF1ZGlvLXN0cmVhbS1jb250cm9sbGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgYXVkaW8gYnVmZmVyLiBPdGhlcndpc2UsXG4gICAgLy8gcGFzc2luZyBhIG51bGwgdHlwZSBmbHVzaGVzIGJvdGggYnVmZmVyc1xuICAgIGNvbnN0IGZsdXNoU2NvcGU6IEJ1ZmZlckZsdXNoaW5nRGF0YSA9IHsgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgdHlwZSB9O1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9GTFVTSElORywgZmx1c2hTY29wZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2xvYWRJbml0U2VnbWVudChmcmFnOiBGcmFnbWVudCwgbGV2ZWw6IExldmVsKSB7XG4gICAgdGhpcy5fZG9GcmFnTG9hZChmcmFnLCBsZXZlbClcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YSB8fCB0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSB8fCAhdGhpcy5sZXZlbHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luaXQgbG9hZCBhYm9ydGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YTogRnJhZ0xvYWRlZERhdGEpID0+IHtcbiAgICAgICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgZGVjcnlwdERhdGEgPSBmcmFnLmRlY3J5cHRkYXRhO1xuXG4gICAgICAgIC8vIGNoZWNrIHRvIHNlZSBpZiB0aGUgcGF5bG9hZCBuZWVkcyB0byBiZSBkZWNyeXB0ZWRcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBheWxvYWQgJiZcbiAgICAgICAgICBwYXlsb2FkLmJ5dGVMZW5ndGggPiAwICYmXG4gICAgICAgICAgZGVjcnlwdERhdGE/LmtleSAmJlxuICAgICAgICAgIGRlY3J5cHREYXRhLml2ICYmXG4gICAgICAgICAgZGVjcnlwdERhdGEubWV0aG9kID09PSAnQUVTLTEyOCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAvLyBkZWNyeXB0IGluaXQgc2VnbWVudCBkYXRhXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGVjcnlwdGVyXG4gICAgICAgICAgICAuZGVjcnlwdChcbiAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkocGF5bG9hZCksXG4gICAgICAgICAgICAgIGRlY3J5cHREYXRhLmtleS5idWZmZXIsXG4gICAgICAgICAgICAgIGRlY3J5cHREYXRhLml2LmJ1ZmZlcixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTUVESUFfRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfREVDUllQVF9FUlJPUixcbiAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgICByZWFzb246IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGRlY3J5cHRlZERhdGEpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5GUkFHX0RFQ1JZUFRFRCwge1xuICAgICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogZGVjcnlwdGVkRGF0YSxcbiAgICAgICAgICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgICAgICAgdHN0YXJ0OiBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICB0ZGVjcnlwdDogZW5kVGltZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZGF0YS5wYXlsb2FkID0gZGVjcnlwdGVkRGF0YTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVJbml0U2VnbWVudExvYWQoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZUluaXRTZWdtZW50TG9hZChkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuU1RPUFBFRCB8fCB0aGlzLnN0YXRlID09PSBTdGF0ZS5FUlJPUikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhcm4ocmVhc29uKTtcbiAgICAgICAgdGhpcy5yZXNldEZyYWdtZW50TG9hZGluZyhmcmFnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wbGV0ZUluaXRTZWdtZW50TG9hZChkYXRhOiBGcmFnTG9hZGVkRGF0YSkge1xuICAgIGNvbnN0IHsgbGV2ZWxzIH0gPSB0aGlzO1xuICAgIGlmICghbGV2ZWxzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luaXQgbG9hZCBhYm9ydGVkLCBtaXNzaW5nIGxldmVscycpO1xuICAgIH1cbiAgICBjb25zdCBzdGF0cyA9IGRhdGEuZnJhZy5zdGF0cztcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICBkYXRhLmZyYWcuZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEucGF5bG9hZCk7XG4gICAgc3RhdHMucGFyc2luZy5zdGFydCA9IHN0YXRzLmJ1ZmZlcmluZy5zdGFydCA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgc3RhdHMucGFyc2luZy5lbmQgPSBzdGF0cy5idWZmZXJpbmcuZW5kID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnRpY2soKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBmcmFnQ29udGV4dENoYW5nZWQoZnJhZzogRnJhZ21lbnQgfCBudWxsKSB7XG4gICAgY29uc3QgeyBmcmFnQ3VycmVudCB9ID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgIWZyYWcgfHxcbiAgICAgICFmcmFnQ3VycmVudCB8fFxuICAgICAgZnJhZy5zbiAhPT0gZnJhZ0N1cnJlbnQuc24gfHxcbiAgICAgIGZyYWcubGV2ZWwgIT09IGZyYWdDdXJyZW50LmxldmVsXG4gICAgKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBmcmFnQnVmZmVyZWRDb21wbGV0ZShmcmFnOiBGcmFnbWVudCwgcGFydDogUGFydCB8IG51bGwpIHtcbiAgICBjb25zdCBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYTtcbiAgICB0aGlzLmxvZyhcbiAgICAgIGBCdWZmZXJlZCAke2ZyYWcudHlwZX0gc246ICR7ZnJhZy5zbn0ke1xuICAgICAgICBwYXJ0ID8gJyBwYXJ0OiAnICsgcGFydC5pbmRleCA6ICcnXG4gICAgICB9IG9mICR7XG4gICAgICAgIHRoaXMucGxheWxpc3RUeXBlID09PSBQbGF5bGlzdExldmVsVHlwZS5NQUlOID8gJ2xldmVsJyA6ICd0cmFjaydcbiAgICAgIH0gJHtmcmFnLmxldmVsfSAoZnJhZzpbJHsoZnJhZy5zdGFydFBUUyA/PyBOYU4pLnRvRml4ZWQoMyl9LSR7KFxuICAgICAgICBmcmFnLmVuZFBUUyA/PyBOYU5cbiAgICAgICkudG9GaXhlZCgzKX1dID4gYnVmZmVyOiR7XG4gICAgICAgIG1lZGlhXG4gICAgICAgICAgPyBUaW1lUmFuZ2VzLnRvU3RyaW5nKEJ1ZmZlckhlbHBlci5nZXRCdWZmZXJlZChtZWRpYSkpXG4gICAgICAgICAgOiAnKGRldGFjaGVkKSdcbiAgICAgIH0pYCxcbiAgICApO1xuICAgIGlmIChmcmFnLnNuICE9PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICBpZiAoZnJhZy50eXBlICE9PSBQbGF5bGlzdExldmVsVHlwZS5TVUJUSVRMRSkge1xuICAgICAgICBjb25zdCBlbCA9IGZyYWcuZWxlbWVudGFyeVN0cmVhbXM7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXMoZWwpLnNvbWUoKHR5cGUpID0+ICEhZWxbdHlwZV0pKSB7XG4gICAgICAgICAgLy8gZW1wdHkgc2VnbWVudFxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgbGV2ZWwgPSB0aGlzLmxldmVscz8uW2ZyYWcubGV2ZWxdO1xuICAgICAgaWYgKGxldmVsPy5mcmFnbWVudEVycm9yKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBSZXNldHRpbmcgbGV2ZWwgZnJhZ21lbnQgZXJyb3IgY291bnQgb2YgJHtsZXZlbC5mcmFnbWVudEVycm9yfSBvbiBmcmFnIGJ1ZmZlcmVkYCxcbiAgICAgICAgKTtcbiAgICAgICAgbGV2ZWwuZnJhZ21lbnRFcnJvciA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMubG9hZGVkbWV0YWRhdGEgJiZcbiAgICAgIGZyYWcudHlwZSA9PSBQbGF5bGlzdExldmVsVHlwZS5NQUlOICYmXG4gICAgICBtZWRpYS5idWZmZXJlZC5sZW5ndGggJiZcbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQ/LnNuID09PSB0aGlzLmZyYWdQcmV2aW91cz8uc25cbiAgICApIHtcbiAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgICAgdGhpcy5zZWVrVG9TdGFydFBvcygpO1xuICAgIH1cbiAgICB0aGlzLnRpY2soKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzZWVrVG9TdGFydFBvcygpIHt9XG5cbiAgcHJvdGVjdGVkIF9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZShmcmFnTG9hZGVkRW5kRGF0YTogUGFydHNMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgeyB0cmFuc211eGVyIH0gPSB0aGlzO1xuICAgIGlmICghdHJhbnNtdXhlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGZyYWcsIHBhcnQsIHBhcnRzTG9hZGVkIH0gPSBmcmFnTG9hZGVkRW5kRGF0YTtcbiAgICAvLyBJZiB3ZSBkaWQgbm90IGxvYWQgcGFydHMsIG9yIGxvYWRlZCBhbGwgcGFydHMsIHdlIGhhdmUgY29tcGxldGUgKG5vdCBwYXJ0aWFsKSBmcmFnbWVudCBkYXRhXG4gICAgY29uc3QgY29tcGxldGUgPVxuICAgICAgIXBhcnRzTG9hZGVkIHx8XG4gICAgICBwYXJ0c0xvYWRlZC5sZW5ndGggPT09IDAgfHxcbiAgICAgIHBhcnRzTG9hZGVkLnNvbWUoKGZyYWdMb2FkZWQpID0+ICFmcmFnTG9hZGVkKTtcbiAgICBjb25zdCBjaHVua01ldGEgPSBuZXcgQ2h1bmtNZXRhZGF0YShcbiAgICAgIGZyYWcubGV2ZWwsXG4gICAgICBmcmFnLnNuIGFzIG51bWJlcixcbiAgICAgIGZyYWcuc3RhdHMuY2h1bmtDb3VudCArIDEsXG4gICAgICAwLFxuICAgICAgcGFydCA/IHBhcnQuaW5kZXggOiAtMSxcbiAgICAgICFjb21wbGV0ZSxcbiAgICApO1xuICAgIHRyYW5zbXV4ZXIuZmx1c2goY2h1bmtNZXRhKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgcHJvdGVjdGVkIF9oYW5kbGVGcmFnbWVudExvYWRQcm9ncmVzcyhcbiAgICBmcmFnOiBQYXJ0c0xvYWRlZERhdGEgfCBGcmFnTG9hZGVkRGF0YSxcbiAgKSB7fVxuXG4gIHByb3RlY3RlZCBfZG9GcmFnTG9hZChcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICBsZXZlbDogTGV2ZWwsXG4gICAgdGFyZ2V0QnVmZmVyVGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGwsXG4gICAgcHJvZ3Jlc3NDYWxsYmFjaz86IEZyYWdtZW50TG9hZFByb2dyZXNzQ2FsbGJhY2ssXG4gICk6IFByb21pc2U8UGFydHNMb2FkZWREYXRhIHwgRnJhZ0xvYWRlZERhdGEgfCBudWxsPiB7XG4gICAgY29uc3QgZGV0YWlscyA9IGxldmVsPy5kZXRhaWxzO1xuICAgIGlmICghdGhpcy5sZXZlbHMgfHwgIWRldGFpbHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYGZyYWcgbG9hZCBhYm9ydGVkLCBtaXNzaW5nIGxldmVsJHtkZXRhaWxzID8gJycgOiAnIGRldGFpbCd9c2AsXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBrZXlMb2FkaW5nUHJvbWlzZTogUHJvbWlzZTxLZXlMb2FkZWREYXRhIHwgdm9pZD4gfCBudWxsID0gbnVsbDtcbiAgICBpZiAoZnJhZy5lbmNyeXB0ZWQgJiYgIWZyYWcuZGVjcnlwdGRhdGE/LmtleSkge1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBMb2FkaW5nIGtleSBmb3IgJHtmcmFnLnNufSBvZiBbJHtkZXRhaWxzLnN0YXJ0U059LSR7ZGV0YWlscy5lbmRTTn1dLCAke1xuICAgICAgICAgIHRoaXMubG9nUHJlZml4ID09PSAnW3N0cmVhbS1jb250cm9sbGVyXScgPyAnbGV2ZWwnIDogJ3RyYWNrJ1xuICAgICAgICB9ICR7ZnJhZy5sZXZlbH1gLFxuICAgICAgKTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5LRVlfTE9BRElORztcbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAga2V5TG9hZGluZ1Byb21pc2UgPSB0aGlzLmtleUxvYWRlci5sb2FkKGZyYWcpLnRoZW4oKGtleUxvYWRlZERhdGEpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChrZXlMb2FkZWREYXRhLmZyYWcpKSB7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuS0VZX0xPQURFRCwga2V5TG9hZGVkRGF0YSk7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGtleUxvYWRlZERhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuS0VZX0xPQURJTkcsIHsgZnJhZyB9KTtcbiAgICAgIGlmICh0aGlzLmZyYWdDdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGtleUxvYWRpbmdQcm9taXNlID0gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKGBmcmFnIGxvYWQgYWJvcnRlZCwgY29udGV4dCBjaGFuZ2VkIGluIEtFWV9MT0FESU5HYCksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghZnJhZy5lbmNyeXB0ZWQgJiYgZGV0YWlscy5lbmNyeXB0ZWRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmtleUxvYWRlci5sb2FkQ2xlYXIoZnJhZywgZGV0YWlscy5lbmNyeXB0ZWRGcmFnbWVudHMpO1xuICAgIH1cblxuICAgIHRhcmdldEJ1ZmZlclRpbWUgPSBNYXRoLm1heChmcmFnLnN0YXJ0LCB0YXJnZXRCdWZmZXJUaW1lIHx8IDApO1xuICAgIGlmICh0aGlzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSAmJiBmcmFnLnNuICE9PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICBjb25zdCBwYXJ0TGlzdCA9IGRldGFpbHMucGFydExpc3Q7XG4gICAgICBpZiAocGFydExpc3QgJiYgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICAgICAgICBpZiAodGFyZ2V0QnVmZmVyVGltZSA+IGZyYWcuZW5kICYmIGRldGFpbHMuZnJhZ21lbnRIaW50KSB7XG4gICAgICAgICAgZnJhZyA9IGRldGFpbHMuZnJhZ21lbnRIaW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnRJbmRleCA9IHRoaXMuZ2V0TmV4dFBhcnQocGFydExpc3QsIGZyYWcsIHRhcmdldEJ1ZmZlclRpbWUpO1xuICAgICAgICBpZiAocGFydEluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBwYXJ0ID0gcGFydExpc3RbcGFydEluZGV4XTtcbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBMb2FkaW5nIHBhcnQgc246ICR7ZnJhZy5zbn0gcDogJHtwYXJ0LmluZGV4fSBjYzogJHtcbiAgICAgICAgICAgICAgZnJhZy5jY1xuICAgICAgICAgICAgfSBvZiBwbGF5bGlzdCBbJHtkZXRhaWxzLnN0YXJ0U059LSR7XG4gICAgICAgICAgICAgIGRldGFpbHMuZW5kU05cbiAgICAgICAgICAgIH1dIHBhcnRzIFswLSR7cGFydEluZGV4fS0ke3BhcnRMaXN0Lmxlbmd0aCAtIDF9XSAke1xuICAgICAgICAgICAgICB0aGlzLmxvZ1ByZWZpeCA9PT0gJ1tzdHJlYW0tY29udHJvbGxlcl0nID8gJ2xldmVsJyA6ICd0cmFjaydcbiAgICAgICAgICAgIH06ICR7ZnJhZy5sZXZlbH0sIHRhcmdldDogJHtwYXJzZUZsb2F0KFxuICAgICAgICAgICAgICB0YXJnZXRCdWZmZXJUaW1lLnRvRml4ZWQoMyksXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBwYXJ0LnN0YXJ0ICsgcGFydC5kdXJhdGlvbjtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgIGxldCByZXN1bHQ6IFByb21pc2U8UGFydHNMb2FkZWREYXRhIHwgRnJhZ0xvYWRlZERhdGEgfCBudWxsPjtcbiAgICAgICAgICBpZiAoa2V5TG9hZGluZ1Byb21pc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGtleUxvYWRpbmdQcm9taXNlXG4gICAgICAgICAgICAgIC50aGVuKChrZXlMb2FkZWREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIWtleUxvYWRlZERhdGEgfHxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0NvbnRleHRDaGFuZ2VkKGtleUxvYWRlZERhdGEuZnJhZylcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb0ZyYWdQYXJ0c0xvYWQoXG4gICAgICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB0aGlzLmhhbmRsZUZyYWdMb2FkRXJyb3IoZXJyb3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5kb0ZyYWdQYXJ0c0xvYWQoXG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrLFxuICAgICAgICAgICAgKS5jYXRjaCgoZXJyb3I6IExvYWRFcnJvcikgPT4gdGhpcy5oYW5kbGVGcmFnTG9hZEVycm9yKGVycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfTE9BRElORywge1xuICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICB0YXJnZXRCdWZmZXJUaW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh0aGlzLmZyYWdDdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgZnJhZyBsb2FkIGFib3J0ZWQsIGNvbnRleHQgY2hhbmdlZCBpbiBGUkFHX0xPQURJTkcgcGFydHNgLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAhZnJhZy51cmwgfHxcbiAgICAgICAgICB0aGlzLmxvYWRlZEVuZE9mUGFydHMocGFydExpc3QsIHRhcmdldEJ1ZmZlclRpbWUpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEZyYWdtZW50IGhpbnQgaGFzIG5vIHBhcnRzXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubG9nKFxuICAgICAgYExvYWRpbmcgZnJhZ21lbnQgJHtmcmFnLnNufSBjYzogJHtmcmFnLmNjfSAke1xuICAgICAgICBkZXRhaWxzID8gJ29mIFsnICsgZGV0YWlscy5zdGFydFNOICsgJy0nICsgZGV0YWlscy5lbmRTTiArICddICcgOiAnJ1xuICAgICAgfSR7dGhpcy5sb2dQcmVmaXggPT09ICdbc3RyZWFtLWNvbnRyb2xsZXJdJyA/ICdsZXZlbCcgOiAndHJhY2snfTogJHtcbiAgICAgICAgZnJhZy5sZXZlbFxuICAgICAgfSwgdGFyZ2V0OiAke3BhcnNlRmxvYXQodGFyZ2V0QnVmZmVyVGltZS50b0ZpeGVkKDMpKX1gLFxuICAgICk7XG4gICAgLy8gRG9uJ3QgdXBkYXRlIG5leHRMb2FkUG9zaXRpb24gZm9yIGZyYWdtZW50cyB3aGljaCBhcmUgbm90IGJ1ZmZlcmVkXG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShmcmFnLnNuIGFzIG51bWJlcikgJiYgIXRoaXMuYml0cmF0ZVRlc3QpIHtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuRlJBR19MT0FESU5HO1xuXG4gICAgLy8gTG9hZCBrZXkgYmVmb3JlIHN0cmVhbWluZyBmcmFnbWVudCBkYXRhXG4gICAgY29uc3QgZGF0YU9uUHJvZ3Jlc3MgPSB0aGlzLmNvbmZpZy5wcm9ncmVzc2l2ZTtcbiAgICBsZXQgcmVzdWx0OiBQcm9taXNlPFBhcnRzTG9hZGVkRGF0YSB8IEZyYWdMb2FkZWREYXRhIHwgbnVsbD47XG4gICAgaWYgKGRhdGFPblByb2dyZXNzICYmIGtleUxvYWRpbmdQcm9taXNlKSB7XG4gICAgICByZXN1bHQgPSBrZXlMb2FkaW5nUHJvbWlzZVxuICAgICAgICAudGhlbigoa2V5TG9hZGVkRGF0YSkgPT4ge1xuICAgICAgICAgIGlmICgha2V5TG9hZGVkRGF0YSB8fCB0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChrZXlMb2FkZWREYXRhPy5mcmFnKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50TG9hZGVyLmxvYWQoZnJhZywgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuaGFuZGxlRnJhZ0xvYWRFcnJvcihlcnJvcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBsb2FkIHVuZW5jcnlwdGVkIGZyYWdtZW50IGRhdGEgd2l0aCBwcm9ncmVzcyBldmVudCxcbiAgICAgIC8vIG9yIGhhbmRsZSBmcmFnbWVudCByZXN1bHQgYWZ0ZXIga2V5IGFuZCBmcmFnbWVudCBhcmUgZmluaXNoZWQgbG9hZGluZ1xuICAgICAgcmVzdWx0ID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLmZyYWdtZW50TG9hZGVyLmxvYWQoXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBkYXRhT25Qcm9ncmVzcyA/IHByb2dyZXNzQ2FsbGJhY2sgOiB1bmRlZmluZWQsXG4gICAgICAgICksXG4gICAgICAgIGtleUxvYWRpbmdQcm9taXNlLFxuICAgICAgXSlcbiAgICAgICAgLnRoZW4oKFtmcmFnTG9hZGVkRGF0YV0pID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGFPblByb2dyZXNzICYmIGZyYWdMb2FkZWREYXRhICYmIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soZnJhZ0xvYWRlZERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZnJhZ0xvYWRlZERhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuaGFuZGxlRnJhZ0xvYWRFcnJvcihlcnJvcikpO1xuICAgIH1cbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5GUkFHX0xPQURJTkcsIHsgZnJhZywgdGFyZ2V0QnVmZmVyVGltZSB9KTtcbiAgICBpZiAodGhpcy5mcmFnQ3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoYGZyYWcgbG9hZCBhYm9ydGVkLCBjb250ZXh0IGNoYW5nZWQgaW4gRlJBR19MT0FESU5HYCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBkb0ZyYWdQYXJ0c0xvYWQoXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAgZnJvbVBhcnQ6IFBhcnQsXG4gICAgbGV2ZWw6IExldmVsLFxuICAgIHByb2dyZXNzQ2FsbGJhY2s6IEZyYWdtZW50TG9hZFByb2dyZXNzQ2FsbGJhY2ssXG4gICk6IFByb21pc2U8UGFydHNMb2FkZWREYXRhIHwgbnVsbD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgIChyZXNvbHZlOiBSZXNvbHZlRnJhZ0xvYWRlZCwgcmVqZWN0OiBSZWplY3RGcmFnTG9hZGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRzTG9hZGVkOiBGcmFnTG9hZGVkRGF0YVtdID0gW107XG4gICAgICAgIGNvbnN0IGluaXRpYWxQYXJ0TGlzdCA9IGxldmVsLmRldGFpbHM/LnBhcnRMaXN0O1xuICAgICAgICBjb25zdCBsb2FkUGFydCA9IChwYXJ0OiBQYXJ0KSA9PiB7XG4gICAgICAgICAgdGhpcy5mcmFnbWVudExvYWRlclxuICAgICAgICAgICAgLmxvYWRQYXJ0KGZyYWcsIHBhcnQsIHByb2dyZXNzQ2FsbGJhY2spXG4gICAgICAgICAgICAudGhlbigocGFydExvYWRlZERhdGE6IEZyYWdMb2FkZWREYXRhKSA9PiB7XG4gICAgICAgICAgICAgIHBhcnRzTG9hZGVkW3BhcnQuaW5kZXhdID0gcGFydExvYWRlZERhdGE7XG4gICAgICAgICAgICAgIGNvbnN0IGxvYWRlZFBhcnQgPSBwYXJ0TG9hZGVkRGF0YS5wYXJ0IGFzIFBhcnQ7XG4gICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfTE9BREVELCBwYXJ0TG9hZGVkRGF0YSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5leHRQYXJ0ID1cbiAgICAgICAgICAgICAgICBnZXRQYXJ0V2l0aChsZXZlbCwgZnJhZy5zbiBhcyBudW1iZXIsIHBhcnQuaW5kZXggKyAxKSB8fFxuICAgICAgICAgICAgICAgIGZpbmRQYXJ0KGluaXRpYWxQYXJ0TGlzdCwgZnJhZy5zbiBhcyBudW1iZXIsIHBhcnQuaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgaWYgKG5leHRQYXJ0KSB7XG4gICAgICAgICAgICAgICAgbG9hZFBhcnQobmV4dFBhcnQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgICAgICBwYXJ0OiBsb2FkZWRQYXJ0LFxuICAgICAgICAgICAgICAgICAgcGFydHNMb2FkZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgbG9hZFBhcnQoZnJvbVBhcnQpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGcmFnTG9hZEVycm9yKGVycm9yOiBMb2FkRXJyb3IgfCBFcnJvcikge1xuICAgIGlmICgnZGF0YScgaW4gZXJyb3IpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBlcnJvci5kYXRhO1xuICAgICAgaWYgKGVycm9yLmRhdGEgJiYgZGF0YS5kZXRhaWxzID09PSBFcnJvckRldGFpbHMuSU5URVJOQUxfQUJPUlRFRCkge1xuICAgICAgICB0aGlzLmhhbmRsZUZyYWdMb2FkQWJvcnRlZChkYXRhLmZyYWcsIGRhdGEucGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwgZGF0YSBhcyBFcnJvckRhdGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk9USEVSX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OLFxuICAgICAgICBlcnI6IGVycm9yLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2hhbmRsZVRyYW5zbXV4ZXJGbHVzaChjaHVua01ldGE6IENodW5rTWV0YWRhdGEpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5nZXRDdXJyZW50Q29udGV4dChjaHVua01ldGEpO1xuICAgIGlmICghY29udGV4dCB8fCB0aGlzLnN0YXRlICE9PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmZyYWdDdXJyZW50ICYmXG4gICAgICAgIHRoaXMuc3RhdGUgIT09IFN0YXRlLlNUT1BQRUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZSAhPT0gU3RhdGUuRVJST1JcbiAgICAgICkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBmcmFnLCBwYXJ0LCBsZXZlbCB9ID0gY29udGV4dDtcbiAgICBjb25zdCBub3cgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGZyYWcuc3RhdHMucGFyc2luZy5lbmQgPSBub3c7XG4gICAgaWYgKHBhcnQpIHtcbiAgICAgIHBhcnQuc3RhdHMucGFyc2luZy5lbmQgPSBub3c7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTGV2ZWxUaW1pbmcoZnJhZywgcGFydCwgbGV2ZWwsIGNodW5rTWV0YS5wYXJ0aWFsKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRDdXJyZW50Q29udGV4dChcbiAgICBjaHVua01ldGE6IENodW5rTWV0YWRhdGEsXG4gICk6IHsgZnJhZzogRnJhZ21lbnQ7IHBhcnQ6IFBhcnQgfCBudWxsOyBsZXZlbDogTGV2ZWwgfSB8IG51bGwge1xuICAgIGNvbnN0IHsgbGV2ZWxzLCBmcmFnQ3VycmVudCB9ID0gdGhpcztcbiAgICBjb25zdCB7IGxldmVsOiBsZXZlbEluZGV4LCBzbiwgcGFydDogcGFydEluZGV4IH0gPSBjaHVua01ldGE7XG4gICAgaWYgKCFsZXZlbHM/LltsZXZlbEluZGV4XSkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgTGV2ZWxzIG9iamVjdCB3YXMgdW5zZXQgd2hpbGUgYnVmZmVyaW5nIGZyYWdtZW50ICR7c259IG9mIGxldmVsICR7bGV2ZWxJbmRleH0uIFRoZSBjdXJyZW50IGNodW5rIHdpbGwgbm90IGJlIGJ1ZmZlcmVkLmAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gbGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgIGNvbnN0IHBhcnQgPSBwYXJ0SW5kZXggPiAtMSA/IGdldFBhcnRXaXRoKGxldmVsLCBzbiwgcGFydEluZGV4KSA6IG51bGw7XG4gICAgY29uc3QgZnJhZyA9IHBhcnRcbiAgICAgID8gcGFydC5mcmFnbWVudFxuICAgICAgOiBnZXRGcmFnbWVudFdpdGhTTihsZXZlbCwgc24sIGZyYWdDdXJyZW50KTtcbiAgICBpZiAoIWZyYWcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQgIT09IGZyYWcpIHtcbiAgICAgIGZyYWcuc3RhdHMgPSBmcmFnQ3VycmVudC5zdGF0cztcbiAgICB9XG4gICAgcmV0dXJuIHsgZnJhZywgcGFydCwgbGV2ZWwgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWZmZXJGcmFnbWVudERhdGEoXG4gICAgZGF0YTogUmVtdXhlZFRyYWNrLFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIHBhcnQ6IFBhcnQgfCBudWxsLFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgICBub0JhY2t0cmFja2luZz86IGJvb2xlYW4sXG4gICkge1xuICAgIGlmICghZGF0YSB8fCB0aGlzLnN0YXRlICE9PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhMSwgZGF0YTIgfSA9IGRhdGE7XG4gICAgbGV0IGJ1ZmZlciA9IGRhdGExO1xuICAgIGlmIChkYXRhMSAmJiBkYXRhMikge1xuICAgICAgLy8gQ29tYmluZSB0aGUgbW9vZiArIG1kYXQgc28gdGhhdCB3ZSBidWZmZXIgd2l0aCBhIHNpbmdsZSBhcHBlbmRcbiAgICAgIGJ1ZmZlciA9IGFwcGVuZFVpbnQ4QXJyYXkoZGF0YTEsIGRhdGEyKTtcbiAgICB9XG5cbiAgICBpZiAoIWJ1ZmZlcj8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VnbWVudDogQnVmZmVyQXBwZW5kaW5nRGF0YSA9IHtcbiAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgIGZyYWcsXG4gICAgICBwYXJ0LFxuICAgICAgY2h1bmtNZXRhLFxuICAgICAgcGFyZW50OiBmcmFnLnR5cGUsXG4gICAgICBkYXRhOiBidWZmZXIsXG4gICAgfTtcbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5CVUZGRVJfQVBQRU5ESU5HLCBzZWdtZW50KTtcblxuICAgIGlmIChkYXRhLmRyb3BwZWQgJiYgZGF0YS5pbmRlcGVuZGVudCAmJiAhcGFydCkge1xuICAgICAgaWYgKG5vQmFja3RyYWNraW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIGJ1ZmZlciBzbyB0aGF0IHdlIHJlbG9hZCBwcmV2aW91cyBzZWdtZW50cyBzZXF1ZW50aWFsbHkgaWYgcmVxdWlyZWRcbiAgICAgIHRoaXMuZmx1c2hCdWZmZXJHYXAoZnJhZyk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGZsdXNoQnVmZmVyR2FwKGZyYWc6IEZyYWdtZW50KSB7XG4gICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBjbGVhciB0aGUgYmFjayBidWZmZXIgc28gdGhhdCB3ZSBjYW4gYmFja3RyYWNrIGFzIG11Y2ggYXMgbmVlZGVkXG4gICAgaWYgKCFCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgbWVkaWEuY3VycmVudFRpbWUpKSB7XG4gICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBmcmFnLnN0YXJ0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGJhY2stYnVmZmVyIHdpdGhvdXQgaW50ZXJydXB0aW5nIHBsYXliYWNrIHRvIGFsbG93IGJhY2sgdHJhY2tpbmdcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIGNvbnN0IGJ1ZmZlckluZm8gPSBCdWZmZXJIZWxwZXIuYnVmZmVySW5mbyhtZWRpYSwgY3VycmVudFRpbWUsIDApO1xuICAgIGNvbnN0IGZyYWdEdXJhdGlvbiA9IGZyYWcuZHVyYXRpb247XG4gICAgY29uc3Qgc2VnbWVudEZyYWN0aW9uID0gTWF0aC5taW4oXG4gICAgICB0aGlzLmNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlICogMixcbiAgICAgIGZyYWdEdXJhdGlvbiAqIDAuMjUsXG4gICAgKTtcbiAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KFxuICAgICAgTWF0aC5taW4oZnJhZy5zdGFydCAtIHNlZ21lbnRGcmFjdGlvbiwgYnVmZmVySW5mby5lbmQgLSBzZWdtZW50RnJhY3Rpb24pLFxuICAgICAgY3VycmVudFRpbWUgKyBzZWdtZW50RnJhY3Rpb24sXG4gICAgKTtcbiAgICBpZiAoZnJhZy5zdGFydCAtIHN0YXJ0ID4gc2VnbWVudEZyYWN0aW9uKSB7XG4gICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcihzdGFydCwgZnJhZy5zdGFydCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldEZ3ZEJ1ZmZlckluZm8oXG4gICAgYnVmZmVyYWJsZTogQnVmZmVyYWJsZSB8IG51bGwsXG4gICAgdHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICk6IEJ1ZmZlckluZm8gfCBudWxsIHtcbiAgICBjb25zdCBwb3MgPSB0aGlzLmdldExvYWRQb3NpdGlvbigpO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHBvcykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRGd2RCdWZmZXJJbmZvQXRQb3MoYnVmZmVyYWJsZSwgcG9zLCB0eXBlKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRGd2RCdWZmZXJJbmZvQXRQb3MoXG4gICAgYnVmZmVyYWJsZTogQnVmZmVyYWJsZSB8IG51bGwsXG4gICAgcG9zOiBudW1iZXIsXG4gICAgdHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICk6IEJ1ZmZlckluZm8gfCBudWxsIHtcbiAgICBjb25zdCB7XG4gICAgICBjb25maWc6IHsgbWF4QnVmZmVySG9sZSB9LFxuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IGJ1ZmZlckluZm8gPSBCdWZmZXJIZWxwZXIuYnVmZmVySW5mbyhidWZmZXJhYmxlLCBwb3MsIG1heEJ1ZmZlckhvbGUpO1xuICAgIC8vIFdvcmthcm91bmQgZmxhdyBpbiBnZXR0aW5nIGZvcndhcmQgYnVmZmVyIHdoZW4gbWF4QnVmZmVySG9sZSBpcyBzbWFsbGVyIHRoYW4gZ2FwIGF0IGN1cnJlbnQgcG9zXG4gICAgaWYgKGJ1ZmZlckluZm8ubGVuID09PSAwICYmIGJ1ZmZlckluZm8ubmV4dFN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGJ1ZmZlcmVkRnJhZ0F0UG9zID0gdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0QnVmZmVyZWRGcmFnKHBvcywgdHlwZSk7XG4gICAgICBpZiAoYnVmZmVyZWRGcmFnQXRQb3MgJiYgYnVmZmVySW5mby5uZXh0U3RhcnQgPCBidWZmZXJlZEZyYWdBdFBvcy5lbmQpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKFxuICAgICAgICAgIGJ1ZmZlcmFibGUsXG4gICAgICAgICAgcG9zLFxuICAgICAgICAgIE1hdGgubWF4KGJ1ZmZlckluZm8ubmV4dFN0YXJ0LCBtYXhCdWZmZXJIb2xlKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlckluZm87XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TWF4QnVmZmVyTGVuZ3RoKGxldmVsQml0cmF0ZT86IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXM7XG4gICAgbGV0IG1heEJ1ZkxlbjtcbiAgICBpZiAobGV2ZWxCaXRyYXRlKSB7XG4gICAgICBtYXhCdWZMZW4gPSBNYXRoLm1heChcbiAgICAgICAgKDggKiBjb25maWcubWF4QnVmZmVyU2l6ZSkgLyBsZXZlbEJpdHJhdGUsXG4gICAgICAgIGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXhCdWZMZW4gPSBjb25maWcubWF4QnVmZmVyTGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4obWF4QnVmTGVuLCBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWR1Y2VNYXhCdWZmZXJMZW5ndGgodGhyZXNob2xkOiBudW1iZXIsIGZyYWdEdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgY29uc3QgbWluTGVuZ3RoID0gTWF0aC5tYXgoXG4gICAgICBNYXRoLm1pbih0aHJlc2hvbGQgLSBmcmFnRHVyYXRpb24sIGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgpLFxuICAgICAgZnJhZ0R1cmF0aW9uLFxuICAgICk7XG4gICAgY29uc3QgcmVkdWNlZExlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgdGhyZXNob2xkIC0gZnJhZ0R1cmF0aW9uICogMyxcbiAgICAgIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggLyAyLFxuICAgICAgbWluTGVuZ3RoLFxuICAgICk7XG4gICAgaWYgKHJlZHVjZWRMZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAvLyByZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggYXMgaXQgbWlnaHQgYmUgdG9vIGhpZ2guIHdlIGRvIHRoaXMgdG8gYXZvaWQgbG9vcCBmbHVzaGluZyAuLi5cbiAgICAgIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggPSByZWR1Y2VkTGVuZ3RoO1xuICAgICAgdGhpcy53YXJuKGBSZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggdG8gJHtyZWR1Y2VkTGVuZ3RofXNgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0QXBwZW5kZWRGcmFnKFxuICAgIHBvc2l0aW9uOiBudW1iZXIsXG4gICAgcGxheWxpc3RUeXBlOiBQbGF5bGlzdExldmVsVHlwZSA9IFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4sXG4gICk6IEZyYWdtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgZnJhZ09yUGFydCA9IHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldEFwcGVuZGVkRnJhZyhcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgUGxheWxpc3RMZXZlbFR5cGUuTUFJTixcbiAgICApO1xuICAgIGlmIChmcmFnT3JQYXJ0ICYmICdmcmFnbWVudCcgaW4gZnJhZ09yUGFydCkge1xuICAgICAgcmV0dXJuIGZyYWdPclBhcnQuZnJhZ21lbnQ7XG4gICAgfVxuICAgIHJldHVybiBmcmFnT3JQYXJ0O1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE5leHRGcmFnbWVudChcbiAgICBwb3M6IG51bWJlcixcbiAgICBsZXZlbERldGFpbHM6IExldmVsRGV0YWlscyxcbiAgKTogRnJhZ21lbnQgfCBudWxsIHtcbiAgICBjb25zdCBmcmFnbWVudHMgPSBsZXZlbERldGFpbHMuZnJhZ21lbnRzO1xuICAgIGNvbnN0IGZyYWdMZW4gPSBmcmFnbWVudHMubGVuZ3RoO1xuXG4gICAgaWYgKCFmcmFnTGVuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBmaW5kIGZyYWdtZW50IGluZGV4LCBjb250aWd1b3VzIHdpdGggZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzO1xuICAgIGNvbnN0IHN0YXJ0ID0gZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgIGxldCBmcmFnO1xuXG4gICAgaWYgKGxldmVsRGV0YWlscy5saXZlKSB7XG4gICAgICBjb25zdCBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSA9IGNvbmZpZy5pbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZTtcbiAgICAgIGlmIChmcmFnTGVuIDwgaW5pdGlhbExpdmVNYW5pZmVzdFNpemUpIHtcbiAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgIGBOb3QgZW5vdWdoIGZyYWdtZW50cyB0byBzdGFydCBwbGF5YmFjayAoaGF2ZTogJHtmcmFnTGVufSwgbmVlZDogJHtpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZX0pYCxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBUaGUgcmVhbCBmcmFnbWVudCBzdGFydCB0aW1lcyBmb3IgYSBsaXZlIHN0cmVhbSBhcmUgb25seSBrbm93biBhZnRlciB0aGUgUFRTIHJhbmdlIGZvciB0aGF0IGxldmVsIGlzIGtub3duLlxuICAgICAgLy8gSW4gb3JkZXIgdG8gZGlzY292ZXIgdGhlIHJhbmdlLCB3ZSBsb2FkIHRoZSBiZXN0IG1hdGNoaW5nIGZyYWdtZW50IGZvciB0aGF0IGxldmVsIGFuZCBkZW11eCBpdC5cbiAgICAgIC8vIERvIG5vdCBsb2FkIHVzaW5nIGxpdmUgbG9naWMgaWYgdGhlIHN0YXJ0aW5nIGZyYWcgaXMgcmVxdWVzdGVkIC0gd2Ugd2FudCB0byB1c2UgZ2V0RnJhZ21lbnRBdFBvc2l0aW9uKCkgc28gdGhhdFxuICAgICAgLy8gd2UgZ2V0IHRoZSBmcmFnbWVudCBtYXRjaGluZyB0aGF0IHN0YXJ0IHRpbWVcbiAgICAgIGlmIChcbiAgICAgICAgKCFsZXZlbERldGFpbHMuUFRTS25vd24gJiZcbiAgICAgICAgICAhdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgJiZcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPT09IC0xKSB8fFxuICAgICAgICBwb3MgPCBzdGFydFxuICAgICAgKSB7XG4gICAgICAgIGZyYWcgPSB0aGlzLmdldEluaXRpYWxMaXZlRnJhZ21lbnQobGV2ZWxEZXRhaWxzLCBmcmFnbWVudHMpO1xuICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnXG4gICAgICAgICAgPyB0aGlzLmhscy5saXZlU3luY1Bvc2l0aW9uIHx8IGZyYWcuc3RhcnRcbiAgICAgICAgICA6IHBvcztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBvcyA8PSBzdGFydCkge1xuICAgICAgLy8gVm9EIHBsYXlsaXN0OiBpZiBsb2FkUG9zaXRpb24gYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICBmcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGhhdmVuJ3QgcnVuIGludG8gYW55IHNwZWNpYWwgY2FzZXMgYWxyZWFkeSwganVzdCBsb2FkIHRoZSBmcmFnbWVudCBtb3N0IGNsb3NlbHkgbWF0Y2hpbmcgdGhlIHJlcXVlc3RlZCBwb3NpdGlvblxuICAgIGlmICghZnJhZykge1xuICAgICAgY29uc3QgZW5kID0gY29uZmlnLmxvd0xhdGVuY3lNb2RlXG4gICAgICAgID8gbGV2ZWxEZXRhaWxzLnBhcnRFbmRcbiAgICAgICAgOiBsZXZlbERldGFpbHMuZnJhZ21lbnRFbmQ7XG4gICAgICBmcmFnID0gdGhpcy5nZXRGcmFnbWVudEF0UG9zaXRpb24ocG9zLCBlbmQsIGxldmVsRGV0YWlscyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWFwVG9Jbml0RnJhZ1doZW5SZXF1aXJlZChmcmFnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpc0xvb3BMb2FkaW5nKGZyYWc6IEZyYWdtZW50LCB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCB0cmFja2VyU3RhdGUgPSB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKTtcbiAgICByZXR1cm4gKFxuICAgICAgKHRyYWNrZXJTdGF0ZSA9PT0gRnJhZ21lbnRTdGF0ZS5PSyB8fFxuICAgICAgICAodHJhY2tlclN0YXRlID09PSBGcmFnbWVudFN0YXRlLlBBUlRJQUwgJiYgISFmcmFnLmdhcCkpICYmXG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPiB0YXJnZXRCdWZmZXJUaW1lXG4gICAgKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXROZXh0RnJhZ21lbnRMb29wTG9hZGluZyhcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICBsZXZlbERldGFpbHM6IExldmVsRGV0YWlscyxcbiAgICBidWZmZXJJbmZvOiBCdWZmZXJJbmZvLFxuICAgIHBsYXlsaXN0VHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICAgbWF4QnVmTGVuOiBudW1iZXIsXG4gICk6IEZyYWdtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgZ2FwU3RhcnQgPSBmcmFnLmdhcDtcbiAgICBjb25zdCBuZXh0RnJhZ21lbnQgPSB0aGlzLmdldE5leHRGcmFnbWVudChcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbixcbiAgICAgIGxldmVsRGV0YWlscyxcbiAgICApO1xuICAgIGlmIChuZXh0RnJhZ21lbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBuZXh0RnJhZ21lbnQ7XG4gICAgfVxuICAgIGZyYWcgPSBuZXh0RnJhZ21lbnQ7XG4gICAgaWYgKGdhcFN0YXJ0ICYmIGZyYWcgJiYgIWZyYWcuZ2FwICYmIGJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAvLyBNZWRpYSBidWZmZXJlZCBhZnRlciBHQVAgdGFncyBzaG91bGQgbm90IG1ha2UgdGhlIG5leHQgYnVmZmVyIHRpbWVyYW5nZSBleGNlZWQgZm9yd2FyZCBidWZmZXIgbGVuZ3RoXG4gICAgICBjb25zdCBuZXh0YnVmZmVySW5mbyA9IHRoaXMuZ2V0RndkQnVmZmVySW5mb0F0UG9zKFxuICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWEsXG4gICAgICAgIGJ1ZmZlckluZm8ubmV4dFN0YXJ0LFxuICAgICAgICBwbGF5bGlzdFR5cGUsXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBuZXh0YnVmZmVySW5mbyAhPT0gbnVsbCAmJlxuICAgICAgICBidWZmZXJJbmZvLmxlbiArIG5leHRidWZmZXJJbmZvLmxlbiA+PSBtYXhCdWZMZW5cbiAgICAgICkge1xuICAgICAgICAvLyBSZXR1cm5pbmcgaGVyZSBtaWdodCByZXN1bHQgaW4gbm90IGZpbmRpbmcgYW4gYXVkaW8gYW5kIHZpZGVvIGNhbmRpYXRlIHRvIHNraXAgdG9cbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYGJ1ZmZlciBmdWxsIGFmdGVyIGdhcHMgaW4gXCIke3BsYXlsaXN0VHlwZX1cIiBwbGF5bGlzdCBzdGFydGluZyBhdCBzbjogJHtmcmFnLnNufWAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZztcbiAgfVxuXG4gIG1hcFRvSW5pdEZyYWdXaGVuUmVxdWlyZWQoZnJhZzogRnJhZ21lbnQgfCBudWxsKTogdHlwZW9mIGZyYWcge1xuICAgIC8vIElmIGFuIGluaXRTZWdtZW50IGlzIHByZXNlbnQsIGl0IG11c3QgYmUgYnVmZmVyZWQgZmlyc3RcbiAgICBpZiAoZnJhZz8uaW5pdFNlZ21lbnQgJiYgIWZyYWc/LmluaXRTZWdtZW50LmRhdGEgJiYgIXRoaXMuYml0cmF0ZVRlc3QpIHtcbiAgICAgIHJldHVybiBmcmFnLmluaXRTZWdtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBmcmFnO1xuICB9XG5cbiAgZ2V0TmV4dFBhcnQoXG4gICAgcGFydExpc3Q6IFBhcnRbXSxcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgbGV0IG5leHRQYXJ0ID0gLTE7XG4gICAgbGV0IGNvbnRpZ3VvdXMgPSBmYWxzZTtcbiAgICBsZXQgaW5kZXBlbmRlbnRBdHRyT21pdHRlZCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcnRMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJ0ID0gcGFydExpc3RbaV07XG4gICAgICBpbmRlcGVuZGVudEF0dHJPbWl0dGVkID0gaW5kZXBlbmRlbnRBdHRyT21pdHRlZCAmJiAhcGFydC5pbmRlcGVuZGVudDtcbiAgICAgIGlmIChuZXh0UGFydCA+IC0xICYmIHRhcmdldEJ1ZmZlclRpbWUgPCBwYXJ0LnN0YXJ0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcGFydC5sb2FkZWQ7XG4gICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgIG5leHRQYXJ0ID0gLTE7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAoY29udGlndW91cyB8fCBwYXJ0LmluZGVwZW5kZW50IHx8IGluZGVwZW5kZW50QXR0ck9taXR0ZWQpICYmXG4gICAgICAgIHBhcnQuZnJhZ21lbnQgPT09IGZyYWdcbiAgICAgICkge1xuICAgICAgICBuZXh0UGFydCA9IGk7XG4gICAgICB9XG4gICAgICBjb250aWd1b3VzID0gbG9hZGVkO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dFBhcnQ7XG4gIH1cblxuICBwcml2YXRlIGxvYWRlZEVuZE9mUGFydHMoXG4gICAgcGFydExpc3Q6IFBhcnRbXSxcbiAgICB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxhc3RQYXJ0ID0gcGFydExpc3RbcGFydExpc3QubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIGxhc3RQYXJ0ICYmIHRhcmdldEJ1ZmZlclRpbWUgPiBsYXN0UGFydC5zdGFydCAmJiBsYXN0UGFydC5sb2FkZWQ7XG4gIH1cblxuICAvKlxuICAgVGhpcyBtZXRob2QgaXMgdXNlZCBmaW5kIHRoZSBiZXN0IG1hdGNoaW5nIGZpcnN0IGZyYWdtZW50IGZvciBhIGxpdmUgcGxheWxpc3QuIFRoaXMgZnJhZ21lbnQgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlXG4gICBcInNsaWRpbmdcIiBvZiB0aGUgcGxheWxpc3QsIHdoaWNoIGlzIGl0cyBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgcGxheWJhY2suIEFmdGVyIHNsaWRpbmcgd2UgY2FuIGNvbXB1dGUgdGhlIHJlYWxcbiAgIHN0YXJ0IGFuZCBlbmQgdGltZXMgZm9yIGVhY2ggZnJhZ21lbnQgaW4gdGhlIHBsYXlsaXN0IChhZnRlciB3aGljaCB0aGlzIG1ldGhvZCB3aWxsIG5vdCBuZWVkIHRvIGJlIGNhbGxlZCkuXG4gICovXG4gIHByb3RlY3RlZCBnZXRJbml0aWFsTGl2ZUZyYWdtZW50KFxuICAgIGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzLFxuICAgIGZyYWdtZW50czogQXJyYXk8RnJhZ21lbnQ+LFxuICApOiBGcmFnbWVudCB8IG51bGwge1xuICAgIGNvbnN0IGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzO1xuICAgIGxldCBmcmFnOiBGcmFnbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGlmIChmcmFnUHJldmlvdXMpIHtcbiAgICAgIGlmIChsZXZlbERldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIC8vIFByZWZlciB1c2luZyBQRFQsIGJlY2F1c2UgaXQgY2FuIGJlIGFjY3VyYXRlIGVub3VnaCB0byBjaG9vc2UgdGhlIGNvcnJlY3QgZnJhZ21lbnQgd2l0aG91dCBrbm93aW5nIHRoZSBsZXZlbCBzbGlkaW5nXG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBMaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIHNhbWUgUERUOiAke2ZyYWdQcmV2aW91cy5wcm9ncmFtRGF0ZVRpbWV9YCxcbiAgICAgICAgKTtcbiAgICAgICAgZnJhZyA9IGZpbmRGcmFnbWVudEJ5UERUKFxuICAgICAgICAgIGZyYWdtZW50cyxcbiAgICAgICAgICBmcmFnUHJldmlvdXMuZW5kUHJvZ3JhbURhdGVUaW1lLFxuICAgICAgICAgIHRoaXMuY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoIWZyYWcpIHtcbiAgICAgICAgLy8gU04gZG9lcyBub3QgbmVlZCB0byBiZSBhY2N1cmF0ZSBiZXR3ZWVuIHJlbmRpdGlvbnMsIGJ1dCBkZXBlbmRpbmcgb24gdGhlIHBhY2thZ2luZyBpdCBtYXkgYmUgc28uXG4gICAgICAgIGNvbnN0IHRhcmdldFNOID0gKGZyYWdQcmV2aW91cy5zbiBhcyBudW1iZXIpICsgMTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRhcmdldFNOID49IGxldmVsRGV0YWlscy5zdGFydFNOICYmXG4gICAgICAgICAgdGFyZ2V0U04gPD0gbGV2ZWxEZXRhaWxzLmVuZFNOXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGZyYWdOZXh0ID0gZnJhZ21lbnRzW3RhcmdldFNOIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHdlJ3JlIHN0YXlpbmcgd2l0aGluIHRoZSBjb250aW51aXR5IHJhbmdlLCBzaW5jZSBQVFMgcmVzZXRzIHVwb24gYSBuZXcgcmFuZ2VcbiAgICAgICAgICBpZiAoZnJhZ1ByZXZpb3VzLmNjID09PSBmcmFnTmV4dC5jYykge1xuICAgICAgICAgICAgZnJhZyA9IGZyYWdOZXh0O1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIGBMaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIG5leHQgU046ICR7XG4gICAgICAgICAgICAgICAgZnJhZyEuc25cbiAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJdCdzIGltcG9ydGFudCB0byBzdGF5IHdpdGhpbiB0aGUgY29udGludWl0eSByYW5nZSBpZiBhdmFpbGFibGU7IG90aGVyd2lzZSB0aGUgZnJhZ21lbnRzIGluIHRoZSBwbGF5bGlzdFxuICAgICAgICAvLyB3aWxsIGhhdmUgdGhlIHdyb25nIHN0YXJ0IHRpbWVzXG4gICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgIGZyYWcgPSBmaW5kRnJhZ1dpdGhDQyhmcmFnbWVudHMsIGZyYWdQcmV2aW91cy5jYyk7XG4gICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICBgTGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCBsb2FkIGZyYWcgd2l0aCBzYW1lIENDOiAke2ZyYWcuc259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgYSBuZXcgc3RhcnQgZnJhZ21lbnQgd2hlbiBmcmFnUHJldmlvdXMgaXMgbnVsbFxuICAgICAgY29uc3QgbGl2ZVN0YXJ0ID0gdGhpcy5obHMubGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgIGlmIChsaXZlU3RhcnQgIT09IG51bGwpIHtcbiAgICAgICAgZnJhZyA9IHRoaXMuZ2V0RnJhZ21lbnRBdFBvc2l0aW9uKFxuICAgICAgICAgIGxpdmVTdGFydCxcbiAgICAgICAgICB0aGlzLmJpdHJhdGVUZXN0ID8gbGV2ZWxEZXRhaWxzLmZyYWdtZW50RW5kIDogbGV2ZWxEZXRhaWxzLmVkZ2UsXG4gICAgICAgICAgbGV2ZWxEZXRhaWxzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmcmFnO1xuICB9XG5cbiAgLypcbiAgVGhpcyBtZXRob2QgZmluZHMgdGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnQgZ2l2ZW4gdGhlIHByb3ZpZGVkIHBvc2l0aW9uLlxuICAgKi9cbiAgcHJvdGVjdGVkIGdldEZyYWdtZW50QXRQb3NpdGlvbihcbiAgICBidWZmZXJFbmQ6IG51bWJlcixcbiAgICBlbmQ6IG51bWJlcixcbiAgICBsZXZlbERldGFpbHM6IExldmVsRGV0YWlscyxcbiAgKTogRnJhZ21lbnQgfCBudWxsIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcztcbiAgICBsZXQgeyBmcmFnUHJldmlvdXMgfSA9IHRoaXM7XG4gICAgbGV0IHsgZnJhZ21lbnRzLCBlbmRTTiB9ID0gbGV2ZWxEZXRhaWxzO1xuICAgIGNvbnN0IHsgZnJhZ21lbnRIaW50IH0gPSBsZXZlbERldGFpbHM7XG4gICAgY29uc3QgeyBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIH0gPSBjb25maWc7XG4gICAgY29uc3QgcGFydExpc3QgPSBsZXZlbERldGFpbHMucGFydExpc3Q7XG5cbiAgICBjb25zdCBsb2FkaW5nUGFydHMgPSAhIShcbiAgICAgIGNvbmZpZy5sb3dMYXRlbmN5TW9kZSAmJlxuICAgICAgcGFydExpc3Q/Lmxlbmd0aCAmJlxuICAgICAgZnJhZ21lbnRIaW50XG4gICAgKTtcbiAgICBpZiAobG9hZGluZ1BhcnRzICYmIGZyYWdtZW50SGludCAmJiAhdGhpcy5iaXRyYXRlVGVzdCkge1xuICAgICAgLy8gSW5jbHVkZSBpbmNvbXBsZXRlIGZyYWdtZW50IHdpdGggcGFydHMgYXQgZW5kXG4gICAgICBmcmFnbWVudHMgPSBmcmFnbWVudHMuY29uY2F0KGZyYWdtZW50SGludCk7XG4gICAgICBlbmRTTiA9IGZyYWdtZW50SGludC5zbiBhcyBudW1iZXI7XG4gICAgfVxuXG4gICAgbGV0IGZyYWc7XG4gICAgaWYgKGJ1ZmZlckVuZCA8IGVuZCkge1xuICAgICAgY29uc3QgbG9va3VwVG9sZXJhbmNlID1cbiAgICAgICAgYnVmZmVyRW5kID4gZW5kIC0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA/IDAgOiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlO1xuICAgICAgLy8gUmVtb3ZlIHRoZSB0b2xlcmFuY2UgaWYgaXQgd291bGQgcHV0IHRoZSBidWZmZXJFbmQgcGFzdCB0aGUgYWN0dWFsIGVuZCBvZiBzdHJlYW1cbiAgICAgIC8vIFVzZXMgYnVmZmVyIGFuZCBzZXF1ZW5jZSBudW1iZXIgdG8gY2FsY3VsYXRlIHN3aXRjaCBzZWdtZW50IChyZXF1aXJlZCBpZiB1c2luZyBFWFQtWC1ESVNDT05USU5VSVRZLVNFUVVFTkNFKVxuICAgICAgZnJhZyA9IGZpbmRGcmFnbWVudEJ5UFRTKFxuICAgICAgICBmcmFnUHJldmlvdXMsXG4gICAgICAgIGZyYWdtZW50cyxcbiAgICAgICAgYnVmZmVyRW5kLFxuICAgICAgICBsb29rdXBUb2xlcmFuY2UsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWFjaCBlbmQgb2YgcGxheWxpc3RcbiAgICAgIGZyYWcgPSBmcmFnbWVudHNbZnJhZ21lbnRzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIGlmIChmcmFnKSB7XG4gICAgICBjb25zdCBjdXJTTklkeCA9IGZyYWcuc24gLSBsZXZlbERldGFpbHMuc3RhcnRTTjtcbiAgICAgIC8vIE1vdmUgZnJhZ1ByZXZpb3VzIGZvcndhcmQgdG8gc3VwcG9ydCBmb3JjaW5nIHRoZSBuZXh0IGZyYWdtZW50IHRvIGxvYWRcbiAgICAgIC8vIHdoZW4gdGhlIGJ1ZmZlciBjYXRjaGVzIHVwIHRvIGEgcHJldmlvdXNseSBidWZmZXJlZCByYW5nZS5cbiAgICAgIGNvbnN0IGZyYWdTdGF0ZSA9IHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZyYWcpO1xuICAgICAgaWYgKFxuICAgICAgICBmcmFnU3RhdGUgPT09IEZyYWdtZW50U3RhdGUuT0sgfHxcbiAgICAgICAgKGZyYWdTdGF0ZSA9PT0gRnJhZ21lbnRTdGF0ZS5QQVJUSUFMICYmIGZyYWcuZ2FwKVxuICAgICAgKSB7XG4gICAgICAgIGZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGZyYWdQcmV2aW91cyAmJlxuICAgICAgICBmcmFnLnNuID09PSBmcmFnUHJldmlvdXMuc24gJiZcbiAgICAgICAgKCFsb2FkaW5nUGFydHMgfHwgcGFydExpc3RbMF0uZnJhZ21lbnQuc24gPiBmcmFnLnNuKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEZvcmNlIHRoZSBuZXh0IGZyYWdtZW50IHRvIGxvYWQgaWYgdGhlIHByZXZpb3VzIG9uZSB3YXMgYWxyZWFkeSBzZWxlY3RlZC4gVGhpcyBjYW4gb2NjYXNpb25hbGx5IGhhcHBlbiB3aXRoXG4gICAgICAgIC8vIG5vbi11bmlmb3JtIGZyYWdtZW50IGR1cmF0aW9uc1xuICAgICAgICBjb25zdCBzYW1lTGV2ZWwgPSBmcmFnUHJldmlvdXMgJiYgZnJhZy5sZXZlbCA9PT0gZnJhZ1ByZXZpb3VzLmxldmVsO1xuICAgICAgICBpZiAoc2FtZUxldmVsKSB7XG4gICAgICAgICAgY29uc3QgbmV4dEZyYWcgPSBmcmFnbWVudHNbY3VyU05JZHggKyAxXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmcmFnLnNuIDwgZW5kU04gJiZcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKG5leHRGcmFnKSAhPT0gRnJhZ21lbnRTdGF0ZS5PS1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgZnJhZyA9IG5leHRGcmFnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyYWc7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3luY2hyb25pemVUb0xpdmVFZGdlKGxldmVsRGV0YWlsczogTGV2ZWxEZXRhaWxzKSB7XG4gICAgY29uc3QgeyBjb25maWcsIG1lZGlhIH0gPSB0aGlzO1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuaGxzLmxpdmVTeW5jUG9zaXRpb247XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcbiAgICBjb25zdCBzdGFydCA9IGxldmVsRGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgY29uc3QgZW5kID0gbGV2ZWxEZXRhaWxzLmVkZ2U7XG4gICAgY29uc3Qgd2l0aGluU2xpZGluZ1dpbmRvdyA9XG4gICAgICBjdXJyZW50VGltZSA+PSBzdGFydCAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlICYmXG4gICAgICBjdXJyZW50VGltZSA8PSBlbmQ7XG4gICAgLy8gQ29udGludWUgaWYgd2UgY2FuIHNlZWsgZm9yd2FyZCB0byBzeW5jIHBvc2l0aW9uIG9yIGlmIGN1cnJlbnQgdGltZSBpcyBvdXRzaWRlIG9mIHNsaWRpbmcgd2luZG93XG4gICAgaWYgKFxuICAgICAgbGl2ZVN5bmNQb3NpdGlvbiAhPT0gbnVsbCAmJlxuICAgICAgbWVkaWEuZHVyYXRpb24gPiBsaXZlU3luY1Bvc2l0aW9uICYmXG4gICAgICAoY3VycmVudFRpbWUgPCBsaXZlU3luY1Bvc2l0aW9uIHx8ICF3aXRoaW5TbGlkaW5nV2luZG93KVxuICAgICkge1xuICAgICAgLy8gQ29udGludWUgaWYgYnVmZmVyIGlzIHN0YXJ2aW5nIG9yIGlmIGN1cnJlbnQgdGltZSBpcyBiZWhpbmQgbWF4IGxhdGVuY3lcbiAgICAgIGNvbnN0IG1heExhdGVuY3kgPVxuICAgICAgICBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvblxuICAgICAgICAgIDogY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCAqIGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbjtcbiAgICAgIGlmIChcbiAgICAgICAgKCF3aXRoaW5TbGlkaW5nV2luZG93ICYmIG1lZGlhLnJlYWR5U3RhdGUgPCA0KSB8fFxuICAgICAgICBjdXJyZW50VGltZSA8IGVuZCAtIG1heExhdGVuY3lcbiAgICAgICkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgc2VlayBpZiByZWFkeSBhbmQgdGhlcmUgaXMgbm90IGEgc2lnbmlmaWNhbnQgZm9yd2FyZCBidWZmZXIgYXZhaWxhYmxlIGZvciBwbGF5YmFja1xuICAgICAgICBpZiAobWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICAgIGBQbGF5YmFjazogJHtjdXJyZW50VGltZS50b0ZpeGVkKFxuICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgKX0gaXMgbG9jYXRlZCB0b28gZmFyIGZyb20gdGhlIGVuZCBvZiBsaXZlIHNsaWRpbmcgcGxheWxpc3Q6ICR7ZW5kfSwgcmVzZXQgY3VycmVudFRpbWUgdG8gOiAke2xpdmVTeW5jUG9zaXRpb24udG9GaXhlZChcbiAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICl9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhbGlnblBsYXlsaXN0cyhcbiAgICBkZXRhaWxzOiBMZXZlbERldGFpbHMsXG4gICAgcHJldmlvdXNEZXRhaWxzOiBMZXZlbERldGFpbHMgfCB1bmRlZmluZWQsXG4gICAgc3dpdGNoRGV0YWlsczogTGV2ZWxEZXRhaWxzIHwgdW5kZWZpbmVkLFxuICApOiBudW1iZXIge1xuICAgIC8vIEZJWE1FOiBJZiBub3QgZm9yIGBzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzYCByZXF1aXJpbmcgZnJhZ1ByZXZpb3VzLmNjLFxuICAgIC8vICB0aGlzIGNvdWxkIGFsbCBnbyBpbiBsZXZlbC1oZWxwZXIgbWVyZ2VEZXRhaWxzKClcbiAgICBjb25zdCBsZW5ndGggPSBkZXRhaWxzLmZyYWdtZW50cy5sZW5ndGg7XG4gICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgIHRoaXMud2FybihgTm8gZnJhZ21lbnRzIGluIGxpdmUgcGxheWxpc3RgKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBzbGlkaW5nU3RhcnQgPSBkZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICBjb25zdCBmaXJzdExldmVsTG9hZCA9ICFwcmV2aW91c0RldGFpbHM7XG4gICAgY29uc3QgYWxpZ25lZCA9IGRldGFpbHMuYWxpZ25lZFNsaWRpbmcgJiYgTnVtYmVyLmlzRmluaXRlKHNsaWRpbmdTdGFydCk7XG4gICAgaWYgKGZpcnN0TGV2ZWxMb2FkIHx8ICghYWxpZ25lZCAmJiAhc2xpZGluZ1N0YXJ0KSkge1xuICAgICAgY29uc3QgeyBmcmFnUHJldmlvdXMgfSA9IHRoaXM7XG4gICAgICBhbGlnblN0cmVhbShmcmFnUHJldmlvdXMsIHN3aXRjaERldGFpbHMsIGRldGFpbHMpO1xuICAgICAgY29uc3QgYWxpZ25lZFNsaWRpbmdTdGFydCA9IGRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBMaXZlIHBsYXlsaXN0IHNsaWRpbmc6ICR7YWxpZ25lZFNsaWRpbmdTdGFydC50b0ZpeGVkKDIpfSBzdGFydC1zbjogJHtcbiAgICAgICAgICBwcmV2aW91c0RldGFpbHMgPyBwcmV2aW91c0RldGFpbHMuc3RhcnRTTiA6ICduYSdcbiAgICAgICAgfS0+JHtkZXRhaWxzLnN0YXJ0U059IHByZXYtc246ICR7XG4gICAgICAgICAgZnJhZ1ByZXZpb3VzID8gZnJhZ1ByZXZpb3VzLnNuIDogJ25hJ1xuICAgICAgICB9IGZyYWdtZW50czogJHtsZW5ndGh9YCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gYWxpZ25lZFNsaWRpbmdTdGFydDtcbiAgICB9XG4gICAgcmV0dXJuIHNsaWRpbmdTdGFydDtcbiAgfVxuXG4gIHByb3RlY3RlZCB3YWl0Rm9yQ2RuVHVuZUluKGRldGFpbHM6IExldmVsRGV0YWlscykge1xuICAgIC8vIFdhaXQgZm9yIExvdy1MYXRlbmN5IENETiBUdW5lLWluIHRvIGdldCBhbiB1cGRhdGVkIHBsYXlsaXN0XG4gICAgY29uc3QgYWR2YW5jZVBhcnRMaW1pdCA9IDM7XG4gICAgcmV0dXJuIChcbiAgICAgIGRldGFpbHMubGl2ZSAmJlxuICAgICAgZGV0YWlscy5jYW5CbG9ja1JlbG9hZCAmJlxuICAgICAgZGV0YWlscy5wYXJ0VGFyZ2V0ICYmXG4gICAgICBkZXRhaWxzLnR1bmVJbkdvYWwgPlxuICAgICAgICBNYXRoLm1heChkZXRhaWxzLnBhcnRIb2xkQmFjaywgZGV0YWlscy5wYXJ0VGFyZ2V0ICogYWR2YW5jZVBhcnRMaW1pdClcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNldFN0YXJ0UG9zaXRpb24oZGV0YWlsczogTGV2ZWxEZXRhaWxzLCBzbGlkaW5nOiBudW1iZXIpIHtcbiAgICAvLyBjb21wdXRlIHN0YXJ0IHBvc2l0aW9uIGlmIHNldCB0byAtMS4gdXNlIGl0IHN0cmFpZ2h0IGF3YXkgaWYgdmFsdWUgaXMgZGVmaW5lZFxuICAgIGxldCBzdGFydFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgIGlmIChzdGFydFBvc2l0aW9uIDwgc2xpZGluZykge1xuICAgICAgc3RhcnRQb3NpdGlvbiA9IC0xO1xuICAgIH1cbiAgICBpZiAoc3RhcnRQb3NpdGlvbiA9PT0gLTEgfHwgdGhpcy5sYXN0Q3VycmVudFRpbWUgPT09IC0xKSB7XG4gICAgICAvLyBVc2UgUGxheWxpc3QgRVhULVgtU1RBUlQ6VElNRS1PRkZTRVQgd2hlbiBzZXRcbiAgICAgIC8vIFByaW9yaXRpemUgTXVsdGl2YXJpYW50IFBsYXlsaXN0IG9mZnNldCBzbyB0aGF0IG1haW4sIGF1ZGlvLCBhbmQgc3VidGl0bGUgc3RyZWFtLWNvbnRyb2xsZXIgc3RhcnQgdGltZXMgbWF0Y2hcbiAgICAgIGNvbnN0IG9mZnNldEluTXVsdGl2YXJpYW50UGxheWxpc3QgPSB0aGlzLnN0YXJ0VGltZU9mZnNldCAhPT0gbnVsbDtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZU9mZnNldCA9IG9mZnNldEluTXVsdGl2YXJpYW50UGxheWxpc3RcbiAgICAgICAgPyB0aGlzLnN0YXJ0VGltZU9mZnNldFxuICAgICAgICA6IGRldGFpbHMuc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgaWYgKHN0YXJ0VGltZU9mZnNldCAhPT0gbnVsbCAmJiBOdW1iZXIuaXNGaW5pdGUoc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gc2xpZGluZyArIHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgaWYgKHN0YXJ0VGltZU9mZnNldCA8IDApIHtcbiAgICAgICAgICBzdGFydFBvc2l0aW9uICs9IGRldGFpbHMudG90YWxkdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzdGFydFBvc2l0aW9uID0gTWF0aC5taW4oXG4gICAgICAgICAgTWF0aC5tYXgoc2xpZGluZywgc3RhcnRQb3NpdGlvbiksXG4gICAgICAgICAgc2xpZGluZyArIGRldGFpbHMudG90YWxkdXJhdGlvbixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYFN0YXJ0IHRpbWUgb2Zmc2V0ICR7c3RhcnRUaW1lT2Zmc2V0fSBmb3VuZCBpbiAke1xuICAgICAgICAgICAgb2Zmc2V0SW5NdWx0aXZhcmlhbnRQbGF5bGlzdCA/ICdtdWx0aXZhcmlhbnQnIDogJ21lZGlhJ1xuICAgICAgICAgIH0gcGxheWxpc3QsIGFkanVzdCBzdGFydFBvc2l0aW9uIHRvICR7c3RhcnRQb3NpdGlvbn1gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgICAgfSBlbHNlIGlmIChkZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgLy8gTGVhdmUgdGhpcy5zdGFydFBvc2l0aW9uIGF0IC0xLCBzbyB0aGF0IHdlIGNhbiB1c2UgYGdldEluaXRpYWxMaXZlRnJhZ21lbnRgIGxvZ2ljIHdoZW4gc3RhcnRQb3NpdGlvbiBoYXNcbiAgICAgICAgLy8gbm90IGJlZW4gc3BlY2lmaWVkIHZpYSB0aGUgY29uZmlnIG9yIGFuIGFzIGFuIGFyZ3VtZW50IHRvIHN0YXJ0TG9hZCAoIzM3MzYpLlxuICAgICAgICBzdGFydFBvc2l0aW9uID0gdGhpcy5obHMubGl2ZVN5bmNQb3NpdGlvbiB8fCBzbGlkaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgfVxuICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TG9hZFBvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gdGhpcztcbiAgICAvLyBpZiB3ZSBoYXZlIG5vdCB5ZXQgbG9hZGVkIGFueSBmcmFnbWVudCwgc3RhcnQgbG9hZGluZyBmcm9tIHN0YXJ0IHBvc2l0aW9uXG4gICAgbGV0IHBvcyA9IDA7XG4gICAgaWYgKHRoaXMubG9hZGVkbWV0YWRhdGEgJiYgbWVkaWEpIHtcbiAgICAgIHBvcyA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIH0gZWxzZSBpZiAodGhpcy5uZXh0TG9hZFBvc2l0aW9uKSB7XG4gICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvcztcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRnJhZ0xvYWRBYm9ydGVkKGZyYWc6IEZyYWdtZW50LCBwYXJ0OiBQYXJ0IHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMudHJhbnNtdXhlciAmJiBmcmFnLnNuICE9PSAnaW5pdFNlZ21lbnQnICYmIGZyYWcuc3RhdHMuYWJvcnRlZCkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgRnJhZ21lbnQgJHtmcmFnLnNufSR7cGFydCA/ICcgcGFydCAnICsgcGFydC5pbmRleCA6ICcnfSBvZiBsZXZlbCAke1xuICAgICAgICAgIGZyYWcubGV2ZWxcbiAgICAgICAgfSB3YXMgYWJvcnRlZGAsXG4gICAgICApO1xuICAgICAgdGhpcy5yZXNldEZyYWdtZW50TG9hZGluZyhmcmFnKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRGcmFnbWVudExvYWRpbmcoZnJhZzogRnJhZ21lbnQpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5mcmFnQ3VycmVudCB8fFxuICAgICAgKCF0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSAmJlxuICAgICAgICB0aGlzLnN0YXRlICE9PSBTdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWSlcbiAgICApIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkZyYWdtZW50T3JLZXlMb2FkRXJyb3IoXG4gICAgZmlsdGVyVHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICAgZGF0YTogRXJyb3JEYXRhLFxuICApIHtcbiAgICBpZiAoZGF0YS5jaHVua01ldGEgJiYgIWRhdGEuZnJhZykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZ2V0Q3VycmVudENvbnRleHQoZGF0YS5jaHVua01ldGEpO1xuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgZGF0YS5mcmFnID0gY29udGV4dC5mcmFnO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmcmFnID0gZGF0YS5mcmFnO1xuICAgIC8vIEhhbmRsZSBmcmFnIGVycm9yIHJlbGF0ZWQgdG8gY2FsbGVyJ3MgZmlsdGVyVHlwZVxuICAgIGlmICghZnJhZyB8fCBmcmFnLnR5cGUgIT09IGZpbHRlclR5cGUgfHwgIXRoaXMubGV2ZWxzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgRnJhZyBsb2FkIGVycm9yIG11c3QgbWF0Y2ggY3VycmVudCBmcmFnIHRvIHJldHJ5ICR7ZnJhZy51cmx9ID4gJHt0aGlzLmZyYWdDdXJyZW50Py51cmx9YCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGdhcFRhZ0VuY291bnRlcmVkID0gZGF0YS5kZXRhaWxzID09PSBFcnJvckRldGFpbHMuRlJBR19HQVA7XG4gICAgaWYgKGdhcFRhZ0VuY291bnRlcmVkKSB7XG4gICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5mcmFnQnVmZmVyZWQoZnJhZywgdHJ1ZSk7XG4gICAgfVxuICAgIC8vIGtlZXAgcmV0cnlpbmcgdW50aWwgdGhlIGxpbWl0IHdpbGwgYmUgcmVhY2hlZFxuICAgIGNvbnN0IGVycm9yQWN0aW9uID0gZGF0YS5lcnJvckFjdGlvbjtcbiAgICBjb25zdCB7IGFjdGlvbiwgcmV0cnlDb3VudCA9IDAsIHJldHJ5Q29uZmlnIH0gPSBlcnJvckFjdGlvbiB8fCB7fTtcbiAgICBpZiAoXG4gICAgICBlcnJvckFjdGlvbiAmJlxuICAgICAgYWN0aW9uID09PSBOZXR3b3JrRXJyb3JBY3Rpb24uUmV0cnlSZXF1ZXN0ICYmXG4gICAgICByZXRyeUNvbmZpZ1xuICAgICkge1xuICAgICAgdGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZCh0aGlzLmxldmVsTGFzdExvYWRlZCk7XG4gICAgICBjb25zdCBkZWxheSA9IGdldFJldHJ5RGVsYXkocmV0cnlDb25maWcsIHJldHJ5Q291bnQpO1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgRnJhZ21lbnQgJHtmcmFnLnNufSBvZiAke2ZpbHRlclR5cGV9ICR7ZnJhZy5sZXZlbH0gZXJyb3JlZCB3aXRoICR7XG4gICAgICAgICAgZGF0YS5kZXRhaWxzXG4gICAgICAgIH0sIHJldHJ5aW5nIGxvYWRpbmcgJHtyZXRyeUNvdW50ICsgMX0vJHtcbiAgICAgICAgICByZXRyeUNvbmZpZy5tYXhOdW1SZXRyeVxuICAgICAgICB9IGluICR7ZGVsYXl9bXNgLFxuICAgICAgKTtcbiAgICAgIGVycm9yQWN0aW9uLnJlc29sdmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucmV0cnlEYXRlID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKSArIGRlbGF5O1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZO1xuICAgIH0gZWxzZSBpZiAocmV0cnlDb25maWcgJiYgZXJyb3JBY3Rpb24pIHtcbiAgICAgIHRoaXMucmVzZXRGcmFnbWVudEVycm9ycyhmaWx0ZXJUeXBlKTtcbiAgICAgIGlmIChyZXRyeUNvdW50IDwgcmV0cnlDb25maWcubWF4TnVtUmV0cnkpIHtcbiAgICAgICAgLy8gTmV0d29yayByZXRyeSBpcyBza2lwcGVkIHdoZW4gbGV2ZWwgc3dpdGNoIGlzIHByZWZlcnJlZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgIWdhcFRhZ0VuY291bnRlcmVkICYmXG4gICAgICAgICAgYWN0aW9uICE9PSBOZXR3b3JrRXJyb3JBY3Rpb24uUmVtb3ZlQWx0ZXJuYXRlUGVybWFuZW50bHlcbiAgICAgICAgKSB7XG4gICAgICAgICAgZXJyb3JBY3Rpb24ucmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICBgJHtkYXRhLmRldGFpbHN9IHJlYWNoZWQgb3IgZXhjZWVkZWQgbWF4IHJldHJ5ICgke3JldHJ5Q291bnR9KWAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZXJyb3JBY3Rpb24/LmFjdGlvbiA9PT0gTmV0d29ya0Vycm9yQWN0aW9uLlNlbmRBbHRlcm5hdGVUb1BlbmFsdHlCb3hcbiAgICApIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0xFVkVMO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRVJST1I7XG4gICAgfVxuICAgIC8vIFBlcmZvcm0gbmV4dCBhc3luYyB0aWNrIHNvb25lciB0byBzcGVlZCB1cCBlcnJvciBhY3Rpb24gcmVzb2x1dGlvblxuICAgIHRoaXMudGlja0ltbWVkaWF0ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlZHVjZUxlbmd0aEFuZEZsdXNoQnVmZmVyKGRhdGE6IEVycm9yRGF0YSk6IGJvb2xlYW4ge1xuICAgIC8vIGlmIGluIGFwcGVuZGluZyBzdGF0ZVxuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HIHx8IHRoaXMuc3RhdGUgPT09IFN0YXRlLlBBUlNFRCkge1xuICAgICAgY29uc3QgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgIGNvbnN0IHBsYXlsaXN0VHlwZSA9IGRhdGEucGFyZW50IGFzIFBsYXlsaXN0TGV2ZWxUeXBlO1xuICAgICAgY29uc3QgYnVmZmVyZWRJbmZvID0gdGhpcy5nZXRGd2RCdWZmZXJJbmZvKFxuICAgICAgICB0aGlzLm1lZGlhQnVmZmVyLFxuICAgICAgICBwbGF5bGlzdFR5cGUsXG4gICAgICApO1xuICAgICAgLy8gMC41IDogdG9sZXJhbmNlIG5lZWRlZCBhcyBzb21lIGJyb3dzZXJzIHN0YWxscyBwbGF5YmFjayBiZWZvcmUgcmVhY2hpbmcgYnVmZmVyZWQgZW5kXG4gICAgICAvLyByZWR1Y2UgbWF4IGJ1ZiBsZW4gaWYgY3VycmVudCBwb3NpdGlvbiBpcyBidWZmZXJlZFxuICAgICAgY29uc3QgYnVmZmVyZWQgPSBidWZmZXJlZEluZm8gJiYgYnVmZmVyZWRJbmZvLmxlbiA+IDAuNTtcbiAgICAgIGlmIChidWZmZXJlZCkge1xuICAgICAgICB0aGlzLnJlZHVjZU1heEJ1ZmZlckxlbmd0aChidWZmZXJlZEluZm8ubGVuLCBmcmFnPy5kdXJhdGlvbiB8fCAxMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBmbHVzaEJ1ZmZlciA9ICFidWZmZXJlZDtcbiAgICAgIGlmIChmbHVzaEJ1ZmZlcikge1xuICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgLy8gdGhpcyBoYXBwZW5zIG9uIElFL0VkZ2UsIHJlZmVyIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL3B1bGwvNzA4XG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSBmbHVzaCB0aGUgd2hvbGUgYXVkaW8gYnVmZmVyIHRvIHJlY292ZXJcbiAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgIGBCdWZmZXIgZnVsbCBlcnJvciB3aGlsZSBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoICR7cGxheWxpc3RUeXBlfSBidWZmZXJgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGZyYWcuc3RhcnQ7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2V0TG9hZGluZ1N0YXRlKCk7XG4gICAgICByZXR1cm4gZmx1c2hCdWZmZXI7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZXNldEZyYWdtZW50RXJyb3JzKGZpbHRlclR5cGU6IFBsYXlsaXN0TGV2ZWxUeXBlKSB7XG4gICAgaWYgKGZpbHRlclR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLkFVRElPKSB7XG4gICAgICAvLyBSZXNldCBjdXJyZW50IGZyYWdtZW50IHNpbmNlIGF1ZGlvIHRyYWNrIGF1ZGlvIGlzIGVzc2VudGlhbCBhbmQgbWF5IG5vdCBoYXZlIGEgZmFpbC1vdmVyIHRyYWNrXG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgLy8gRnJhZ21lbnQgZXJyb3JzIHRoYXQgcmVzdWx0IGluIGEgbGV2ZWwgc3dpdGNoIG9yIHJlZHVuZGFudCBmYWlsLW92ZXJcbiAgICAvLyBzaG91bGQgcmVzZXQgdGhlIHN0cmVhbSBjb250cm9sbGVyIHN0YXRlIHRvIGlkbGVcbiAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlICE9PSBTdGF0ZS5TVE9QUEVEKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYWZ0ZXJCdWZmZXJGbHVzaGVkKFxuICAgIG1lZGlhOiBCdWZmZXJhYmxlLFxuICAgIGJ1ZmZlclR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUsXG4gICAgcGxheWxpc3RUeXBlOiBQbGF5bGlzdExldmVsVHlwZSxcbiAgKSB7XG4gICAgaWYgKCFtZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBBZnRlciBzdWNjZXNzZnVsIGJ1ZmZlciBmbHVzaGluZywgZmlsdGVyIGZsdXNoZWQgZnJhZ21lbnRzIGZyb20gYnVmZmVyZWRGcmFncyB1c2UgbWVkaWFCdWZmZXJlZCBpbnN0ZWFkIG9mIG1lZGlhXG4gICAgLy8gKHNvIHRoYXQgd2Ugd2lsbCBjaGVjayBhZ2FpbnN0IHZpZGVvLmJ1ZmZlcmVkIHJhbmdlcyBpbiBjYXNlIG9mIGFsdCBhdWRpbyB0cmFjaylcbiAgICBjb25zdCBidWZmZXJlZFRpbWVSYW5nZXMgPSBCdWZmZXJIZWxwZXIuZ2V0QnVmZmVyZWQobWVkaWEpO1xuICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLmRldGVjdEV2aWN0ZWRGcmFnbWVudHMoXG4gICAgICBidWZmZXJUeXBlLFxuICAgICAgYnVmZmVyZWRUaW1lUmFuZ2VzLFxuICAgICAgcGxheWxpc3RUeXBlLFxuICAgICk7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkVOREVEKSB7XG4gICAgICB0aGlzLnJlc2V0TG9hZGluZ1N0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHJlc2V0TG9hZGluZ1N0YXRlKCkge1xuICAgIHRoaXMubG9nKCdSZXNldCBsb2FkaW5nIHN0YXRlJyk7XG4gICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlc2V0U3RhcnRXaGVuTm90TG9hZGVkKGxldmVsOiBMZXZlbCB8IG51bGwpOiB2b2lkIHtcbiAgICAvLyBpZiBsb2FkZWRtZXRhZGF0YSBpcyBub3Qgc2V0LCBpdCBtZWFucyB0aGF0IGZpcnN0IGZyYWcgcmVxdWVzdCBmYWlsZWRcbiAgICAvLyBpbiB0aGF0IGNhc2UsIHJlc2V0IHN0YXJ0RnJhZ1JlcXVlc3RlZCBmbGFnXG4gICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZGV0YWlscyA9IGxldmVsID8gbGV2ZWwuZGV0YWlscyA6IG51bGw7XG4gICAgICBpZiAoZGV0YWlscz8ubGl2ZSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHN0YXJ0IHBvc2l0aW9uIGFuZCByZXR1cm4gdG8gSURMRSB0byByZWNvdmVyIGxpdmUgc3RhcnRcbiAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gLTE7XG4gICAgICAgIHRoaXMuc2V0U3RhcnRQb3NpdGlvbihkZXRhaWxzLCAwKTtcbiAgICAgICAgdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZXNldFdoZW5NaXNzaW5nQ29udGV4dChjaHVua01ldGE6IENodW5rTWV0YWRhdGEpIHtcbiAgICB0aGlzLndhcm4oXG4gICAgICBgVGhlIGxvYWRpbmcgY29udGV4dCBjaGFuZ2VkIHdoaWxlIGJ1ZmZlcmluZyBmcmFnbWVudCAke2NodW5rTWV0YS5zbn0gb2YgbGV2ZWwgJHtjaHVua01ldGEubGV2ZWx9LiBUaGlzIGNodW5rIHdpbGwgbm90IGJlIGJ1ZmZlcmVkLmAsXG4gICAgKTtcbiAgICB0aGlzLnJlbW92ZVVuYnVmZmVyZWRGcmFncygpO1xuICAgIHRoaXMucmVzZXRTdGFydFdoZW5Ob3RMb2FkZWQodGhpcy5sZXZlbExhc3RMb2FkZWQpO1xuICAgIHRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW1vdmVVbmJ1ZmZlcmVkRnJhZ3Moc3RhcnQ6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudHNJblJhbmdlKFxuICAgICAgc3RhcnQsXG4gICAgICBJbmZpbml0eSxcbiAgICAgIHRoaXMucGxheWxpc3RUeXBlLFxuICAgICAgZmFsc2UsXG4gICAgICB0cnVlLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUxldmVsVGltaW5nKFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIHBhcnQ6IFBhcnQgfCBudWxsLFxuICAgIGxldmVsOiBMZXZlbCxcbiAgICBwYXJ0aWFsOiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBkZXRhaWxzID0gbGV2ZWwuZGV0YWlscyBhcyBMZXZlbERldGFpbHM7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICB0aGlzLndhcm4oJ2xldmVsLmRldGFpbHMgdW5kZWZpbmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5rZXlzKGZyYWcuZWxlbWVudGFyeVN0cmVhbXMpLnJlZHVjZShcbiAgICAgIChyZXN1bHQsIHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgaW5mbyA9IGZyYWcuZWxlbWVudGFyeVN0cmVhbXNbdHlwZV07XG4gICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRHVyYXRpb24gPSBpbmZvLmVuZFBUUyAtIGluZm8uc3RhcnRQVFM7XG4gICAgICAgICAgaWYgKHBhcnNlZER1cmF0aW9uIDw9IDApIHtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgdGhlIHRyYW5zbXV4ZXIgYWZ0ZXIgaXQncyBuZXh0IHRpbWUgb2Zmc2V0IGZhaWxlZCB0byBhZHZhbmNlIGJlY2F1c2UgZHVyYXRpb24gd2FzIDw9IDAuXG4gICAgICAgICAgICAvLyBUaGUgbmV3IHRyYW5zbXV4ZXIgd2lsbCBiZSBjb25maWd1cmVkIHdpdGggYSB0aW1lIG9mZnNldCBtYXRjaGluZyB0aGUgbmV4dCBmcmFnbWVudCBzdGFydCxcbiAgICAgICAgICAgIC8vIHByZXZlbnRpbmcgdGhlIHRpbWVsaW5lIGZyb20gc2hpZnRpbmcuXG4gICAgICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgICAgIGBDb3VsZCBub3QgcGFyc2UgZnJhZ21lbnQgJHtmcmFnLnNufSAke3R5cGV9IGR1cmF0aW9uIHJlbGlhYmx5ICgke3BhcnNlZER1cmF0aW9ufSlgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgfHwgZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRyaWZ0ID0gcGFydGlhbFxuICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICA6IHVwZGF0ZUZyYWdQVFNEVFMoXG4gICAgICAgICAgICAgICAgZGV0YWlscyxcbiAgICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICAgIGluZm8uc3RhcnRQVFMsXG4gICAgICAgICAgICAgICAgaW5mby5lbmRQVFMsXG4gICAgICAgICAgICAgICAgaW5mby5zdGFydERUUyxcbiAgICAgICAgICAgICAgICBpbmZvLmVuZERUUyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5MRVZFTF9QVFNfVVBEQVRFRCwge1xuICAgICAgICAgICAgZGV0YWlscyxcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgZHJpZnQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgIHN0YXJ0OiBpbmZvLnN0YXJ0UFRTLFxuICAgICAgICAgICAgZW5kOiBpbmZvLmVuZFBUUyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gICAgaWYgKCFwYXJzZWQgJiYgdGhpcy50cmFuc211eGVyPy5lcnJvciA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBGb3VuZCBubyBtZWRpYSBpbiBmcmFnbWVudCAke2ZyYWcuc259IG9mIGxldmVsICR7ZnJhZy5sZXZlbH0gcmVzZXR0aW5nIHRyYW5zbXV4ZXIgdG8gZmFsbGJhY2sgdG8gcGxheWxpc3QgdGltaW5nYCxcbiAgICAgICk7XG4gICAgICBpZiAobGV2ZWwuZnJhZ21lbnRFcnJvciA9PT0gMCkge1xuICAgICAgICAvLyBNYXJrIGFuZCB0cmFjayB0aGUgb2RkIGVtcHR5IHNlZ21lbnQgYXMgYSBnYXAgdG8gYXZvaWQgcmVsb2FkaW5nXG4gICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IrKztcbiAgICAgICAgZnJhZy5nYXAgPSB0cnVlO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChmcmFnKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIuZnJhZ0J1ZmZlcmVkKGZyYWcsIHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRVJST1IsIHtcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfUEFSU0lOR19FUlJPUixcbiAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZnJhZyxcbiAgICAgICAgcmVhc29uOiBgRm91bmQgbm8gbWVkaWEgaW4gbXNuICR7ZnJhZy5zbn0gb2YgbGV2ZWwgXCIke2xldmVsLnVybH1cImAsXG4gICAgICB9KTtcbiAgICAgIGlmICghdGhpcy5obHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNldFRyYW5zbXV4ZXIoKTtcbiAgICAgIC8vIEZvciB0aGlzIGVycm9yIGZhbGx0aHJvdWdoLiBNYXJraW5nIHBhcnNlZCB3aWxsIGFsbG93IGFkdmFuY2luZyB0byBuZXh0IGZyYWdtZW50LlxuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuUEFSU0VEO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfUEFSU0VELCB7IGZyYWcsIHBhcnQgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRUcmFuc211eGVyKCkge1xuICAgIGlmICh0aGlzLnRyYW5zbXV4ZXIpIHtcbiAgICAgIHRoaXMudHJhbnNtdXhlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLnRyYW5zbXV4ZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZWNvdmVyV29ya2VyRXJyb3IoZGF0YTogRXJyb3JEYXRhKSB7XG4gICAgaWYgKGRhdGEuZXZlbnQgPT09ICdkZW11eGVyV29ya2VyJykge1xuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gICAgICB0aGlzLnJlc2V0VHJhbnNtdXhlcigpO1xuICAgICAgdGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZCh0aGlzLmxldmVsTGFzdExvYWRlZCk7XG4gICAgICB0aGlzLnJlc2V0TG9hZGluZ1N0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0IHN0YXRlKG5leHRTdGF0ZSkge1xuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICBpZiAocHJldmlvdXNTdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLl9zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgIHRoaXMubG9nKGAke3ByZXZpb3VzU3RhdGV9LT4ke25leHRTdGF0ZX1gKTtcbiAgICB9XG4gIH1cblxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2h1bmtDYWNoZSB7XG4gIHByaXZhdGUgY2h1bmtzOiBBcnJheTxVaW50OEFycmF5PiA9IFtdO1xuICBwdWJsaWMgZGF0YUxlbmd0aDogbnVtYmVyID0gMDtcblxuICBwdXNoKGNodW5rOiBVaW50OEFycmF5KSB7XG4gICAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG4gICAgdGhpcy5kYXRhTGVuZ3RoICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuXG4gIGZsdXNoKCk6IFVpbnQ4QXJyYXkge1xuICAgIGNvbnN0IHsgY2h1bmtzLCBkYXRhTGVuZ3RoIH0gPSB0aGlzO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKCFjaHVua3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgfSBlbHNlIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXN1bHQgPSBjaHVua3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGNvbmNhdFVpbnQ4QXJyYXlzKGNodW5rcywgZGF0YUxlbmd0aCk7XG4gICAgfVxuICAgIHRoaXMucmVzZXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jaHVua3MubGVuZ3RoID0gMDtcbiAgICB0aGlzLmRhdGFMZW5ndGggPSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbmNhdFVpbnQ4QXJyYXlzKFxuICBjaHVua3M6IEFycmF5PFVpbnQ4QXJyYXk+LFxuICBkYXRhTGVuZ3RoOiBudW1iZXIsXG4pOiBVaW50OEFycmF5IHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YUxlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNodW5rID0gY2h1bmtzW2ldO1xuICAgIHJlc3VsdC5zZXQoY2h1bmssIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwgIi8vIGVuc3VyZSB0aGUgd29ya2VyIGVuZHMgdXAgaW4gdGhlIGJ1bmRsZVxuLy8gSWYgdGhlIHdvcmtlciBzaG91bGQgbm90IGJlIGluY2x1ZGVkIHRoaXMgZ2V0cyBhbGlhc2VkIHRvIGVtcHR5LmpzXG5pbXBvcnQgJy4vdHJhbnNtdXhlci13b3JrZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzVU1EV29ya2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIF9fSExTX1dPUktFUl9CVU5ETEVfXyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IHR5cGUgV29ya2VyQ29udGV4dCA9IHtcbiAgd29ya2VyOiBXb3JrZXI7XG4gIG9iamVjdFVSTD86IHN0cmluZztcbiAgc2NyaXB0VVJMPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdFdvcmtlcigpOiBXb3JrZXJDb250ZXh0IHtcbiAgY29uc3QgYmxvYiA9IG5ldyBzZWxmLkJsb2IoXG4gICAgW1xuICAgICAgYHZhciBleHBvcnRzPXt9O3ZhciBtb2R1bGU9e2V4cG9ydHM6ZXhwb3J0c307ZnVuY3Rpb24gZGVmaW5lKGYpe2YoKX07ZGVmaW5lLmFtZD10cnVlOygke19fSExTX1dPUktFUl9CVU5ETEVfXy50b1N0cmluZygpfSkodHJ1ZSk7YCxcbiAgICBdLFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnLFxuICAgIH0sXG4gICk7XG4gIGNvbnN0IG9iamVjdFVSTCA9IHNlbGYuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgY29uc3Qgd29ya2VyID0gbmV3IHNlbGYuV29ya2VyKG9iamVjdFVSTCk7XG5cbiAgcmV0dXJuIHtcbiAgICB3b3JrZXIsXG4gICAgb2JqZWN0VVJMLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFdvcmtlcihwYXRoOiBzdHJpbmcpOiBXb3JrZXJDb250ZXh0IHtcbiAgY29uc3Qgc2NyaXB0VVJMID0gbmV3IHNlbGYuVVJMKHBhdGgsIHNlbGYubG9jYXRpb24uaHJlZikuaHJlZjtcbiAgY29uc3Qgd29ya2VyID0gbmV3IHNlbGYuV29ya2VyKHNjcmlwdFVSTCk7XG5cbiAgcmV0dXJuIHtcbiAgICB3b3JrZXIsXG4gICAgc2NyaXB0VVJMLFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgRGVtdXhlZFRyYWNrIH0gZnJvbSAnLi4vdHlwZXMvZGVtdXhlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBkdW1teVRyYWNrKHR5cGUgPSAnJywgaW5wdXRUaW1lU2NhbGUgPSA5MDAwMCk6IERlbXV4ZWRUcmFjayB7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICBpZDogLTEsXG4gICAgcGlkOiAtMSxcbiAgICBpbnB1dFRpbWVTY2FsZSxcbiAgICBzZXF1ZW5jZU51bWJlcjogLTEsXG4gICAgc2FtcGxlczogW10sXG4gICAgZHJvcHBlZDogMCxcbiAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyBJRDMgZnJvbSAnLi4vaWQzJztcbmltcG9ydCB7XG4gIERlbXV4ZXJSZXN1bHQsXG4gIERlbXV4ZXIsXG4gIERlbXV4ZWRBdWRpb1RyYWNrLFxuICBBdWRpb0ZyYW1lLFxuICBEZW11eGVkTWV0YWRhdGFUcmFjayxcbiAgRGVtdXhlZFZpZGVvVHJhY2tCYXNlLFxuICBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgS2V5RGF0YSxcbiAgTWV0YWRhdGFTY2hlbWEsXG59IGZyb20gJy4uLy4uL3R5cGVzL2RlbXV4ZXInO1xuaW1wb3J0IHsgZHVtbXlUcmFjayB9IGZyb20gJy4uL2R1bW15LWRlbXV4ZWQtdHJhY2snO1xuaW1wb3J0IHsgYXBwZW5kVWludDhBcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzL21wNC10b29scyc7XG5pbXBvcnQgeyBzbGljZVVpbnQ4IH0gZnJvbSAnLi4vLi4vdXRpbHMvdHlwZWQtYXJyYXknO1xuaW1wb3J0IHsgUmF0aW9uYWxUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi91dGlscy90aW1lc2NhbGUtY29udmVyc2lvbic7XG5cbmNsYXNzIEJhc2VBdWRpb0RlbXV4ZXIgaW1wbGVtZW50cyBEZW11eGVyIHtcbiAgcHJvdGVjdGVkIF9hdWRpb1RyYWNrITogRGVtdXhlZEF1ZGlvVHJhY2s7XG4gIHByb3RlY3RlZCBfaWQzVHJhY2shOiBEZW11eGVkTWV0YWRhdGFUcmFjaztcbiAgcHJvdGVjdGVkIGZyYW1lSW5kZXg6IG51bWJlciA9IDA7XG4gIHByb3RlY3RlZCBjYWNoZWREYXRhOiBVaW50OEFycmF5IHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBiYXNlUFRTOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIGluaXRQVFM6IFJhdGlvbmFsVGltZXN0YW1wIHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBsYXN0UFRTOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICByZXNldEluaXRTZWdtZW50KFxuICAgIGluaXRTZWdtZW50OiBVaW50OEFycmF5IHwgdW5kZWZpbmVkLFxuICAgIGF1ZGlvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICB2aWRlb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdHJhY2tEdXJhdGlvbjogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLl9pZDNUcmFjayA9IHtcbiAgICAgIHR5cGU6ICdpZDMnLFxuICAgICAgaWQ6IDMsXG4gICAgICBwaWQ6IC0xLFxuICAgICAgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICBzYW1wbGVzOiBbXSxcbiAgICAgIGRyb3BwZWQ6IDAsXG4gICAgfTtcbiAgfVxuXG4gIHJlc2V0VGltZVN0YW1wKGRlYXVsdFRpbWVzdGFtcDogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsKSB7XG4gICAgdGhpcy5pbml0UFRTID0gZGVhdWx0VGltZXN0YW1wO1xuICAgIHRoaXMucmVzZXRDb250aWd1aXR5KCk7XG4gIH1cblxuICByZXNldENvbnRpZ3VpdHkoKTogdm9pZCB7XG4gICAgdGhpcy5iYXNlUFRTID0gbnVsbDtcbiAgICB0aGlzLmxhc3RQVFMgPSBudWxsO1xuICAgIHRoaXMuZnJhbWVJbmRleCA9IDA7XG4gIH1cblxuICBjYW5QYXJzZShkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFwcGVuZEZyYW1lKFxuICAgIHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgICBkYXRhOiBVaW50OEFycmF5LFxuICAgIG9mZnNldDogbnVtYmVyLFxuICApOiBBdWRpb0ZyYW1lIHwgdm9pZCB7fVxuXG4gIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcbiAgZGVtdXgoZGF0YTogVWludDhBcnJheSwgdGltZU9mZnNldDogbnVtYmVyKTogRGVtdXhlclJlc3VsdCB7XG4gICAgaWYgKHRoaXMuY2FjaGVkRGF0YSkge1xuICAgICAgZGF0YSA9IGFwcGVuZFVpbnQ4QXJyYXkodGhpcy5jYWNoZWREYXRhLCBkYXRhKTtcbiAgICAgIHRoaXMuY2FjaGVkRGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgbGV0IGlkM0RhdGE6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQgPSBJRDMuZ2V0SUQzRGF0YShkYXRhLCAwKTtcbiAgICBsZXQgb2Zmc2V0ID0gaWQzRGF0YSA/IGlkM0RhdGEubGVuZ3RoIDogMDtcbiAgICBsZXQgbGFzdERhdGFJbmRleDtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMuX2F1ZGlvVHJhY2s7XG4gICAgY29uc3QgaWQzVHJhY2sgPSB0aGlzLl9pZDNUcmFjaztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBpZDNEYXRhID8gSUQzLmdldFRpbWVTdGFtcChpZDNEYXRhKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZVBUUyA9PT0gbnVsbCB8fFxuICAgICAgKHRoaXMuZnJhbWVJbmRleCA9PT0gMCAmJiBOdW1iZXIuaXNGaW5pdGUodGltZXN0YW1wKSlcbiAgICApIHtcbiAgICAgIHRoaXMuYmFzZVBUUyA9IGluaXRQVFNGbih0aW1lc3RhbXAsIHRpbWVPZmZzZXQsIHRoaXMuaW5pdFBUUyk7XG4gICAgICB0aGlzLmxhc3RQVFMgPSB0aGlzLmJhc2VQVFM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubGFzdFBUUyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5sYXN0UFRTID0gdGhpcy5iYXNlUFRTO1xuICAgIH1cblxuICAgIC8vIG1vcmUgZXhwcmVzc2l2ZSB0aGFuIGFsdGVybmF0aXZlOiBpZDNEYXRhPy5sZW5ndGhcbiAgICBpZiAoaWQzRGF0YSAmJiBpZDNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGlkM1RyYWNrLnNhbXBsZXMucHVzaCh7XG4gICAgICAgIHB0czogdGhpcy5sYXN0UFRTLFxuICAgICAgICBkdHM6IHRoaXMubGFzdFBUUyxcbiAgICAgICAgZGF0YTogaWQzRGF0YSxcbiAgICAgICAgdHlwZTogTWV0YWRhdGFTY2hlbWEuYXVkaW9JZDMsXG4gICAgICAgIGR1cmF0aW9uOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5jYW5QYXJzZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgdGhpcy5mcmFtZUluZGV4Kys7XG4gICAgICAgICAgdGhpcy5sYXN0UFRTID0gZnJhbWUuc2FtcGxlLnB0cztcbiAgICAgICAgICBvZmZzZXQgKz0gZnJhbWUubGVuZ3RoO1xuICAgICAgICAgIGxhc3REYXRhSW5kZXggPSBvZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Zmc2V0ID0gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKElEMy5jYW5QYXJzZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIC8vIGFmdGVyIGEgSUQzLmNhblBhcnNlLCBhIGNhbGwgdG8gSUQzLmdldElEM0RhdGEgKnNob3VsZCogYWx3YXlzIHJldHVybnMgc29tZSBkYXRhXG4gICAgICAgIGlkM0RhdGEgPSBJRDMuZ2V0SUQzRGF0YShkYXRhLCBvZmZzZXQpITtcbiAgICAgICAgaWQzVHJhY2suc2FtcGxlcy5wdXNoKHtcbiAgICAgICAgICBwdHM6IHRoaXMubGFzdFBUUyxcbiAgICAgICAgICBkdHM6IHRoaXMubGFzdFBUUyxcbiAgICAgICAgICBkYXRhOiBpZDNEYXRhLFxuICAgICAgICAgIHR5cGU6IE1ldGFkYXRhU2NoZW1hLmF1ZGlvSWQzLFxuICAgICAgICAgIGR1cmF0aW9uOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgIH0pO1xuICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICAgIGxhc3REYXRhSW5kZXggPSBvZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICAgIGlmIChvZmZzZXQgPT09IGxlbmd0aCAmJiBsYXN0RGF0YUluZGV4ICE9PSBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbERhdGEgPSBzbGljZVVpbnQ4KGRhdGEsIGxhc3REYXRhSW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZWREYXRhKSB7XG4gICAgICAgICAgdGhpcy5jYWNoZWREYXRhID0gYXBwZW5kVWludDhBcnJheSh0aGlzLmNhY2hlZERhdGEsIHBhcnRpYWxEYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNhY2hlZERhdGEgPSBwYXJ0aWFsRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhdWRpb1RyYWNrOiB0cmFjayxcbiAgICAgIHZpZGVvVHJhY2s6IGR1bW15VHJhY2soKSBhcyBEZW11eGVkVmlkZW9UcmFja0Jhc2UsXG4gICAgICBpZDNUcmFjayxcbiAgICAgIHRleHRUcmFjazogZHVtbXlUcmFjaygpIGFzIERlbXV4ZWRVc2VyZGF0YVRyYWNrLFxuICAgIH07XG4gIH1cblxuICBkZW11eFNhbXBsZUFlcyhcbiAgICBkYXRhOiBVaW50OEFycmF5LFxuICAgIGtleURhdGE6IEtleURhdGEsXG4gICAgdGltZU9mZnNldDogbnVtYmVyLFxuICApOiBQcm9taXNlPERlbXV4ZXJSZXN1bHQ+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgRXJyb3IoXG4gICAgICAgIGBbJHt0aGlzfV0gVGhpcyBkZW11eGVyIGRvZXMgbm90IHN1cHBvcnQgU2FtcGxlLUFFUyBkZWNyeXB0aW9uYCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGZsdXNoKHRpbWVPZmZzZXQ6IG51bWJlcik6IERlbXV4ZXJSZXN1bHQge1xuICAgIC8vIFBhcnNlIGNhY2hlIGluIGNhc2Ugb2YgcmVtYWluaW5nIGZyYW1lcy5cbiAgICBjb25zdCBjYWNoZWREYXRhID0gdGhpcy5jYWNoZWREYXRhO1xuICAgIGlmIChjYWNoZWREYXRhKSB7XG4gICAgICB0aGlzLmNhY2hlZERhdGEgPSBudWxsO1xuICAgICAgdGhpcy5kZW11eChjYWNoZWREYXRhLCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXVkaW9UcmFjazogdGhpcy5fYXVkaW9UcmFjayxcbiAgICAgIHZpZGVvVHJhY2s6IGR1bW15VHJhY2soKSBhcyBEZW11eGVkVmlkZW9UcmFja0Jhc2UsXG4gICAgICBpZDNUcmFjazogdGhpcy5faWQzVHJhY2ssXG4gICAgICB0ZXh0VHJhY2s6IGR1bW15VHJhY2soKSBhcyBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgICB9O1xuICB9XG5cbiAgZGVzdHJveSgpIHt9XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBQVFNcbiAqIDxwPlxuICogICAgdXNlIHRpbWVzdGFtcCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBOYU4gb3IgSW5maW5pdHlcbiAqIDwvcD5cbiAqL1xuZXhwb3J0IGNvbnN0IGluaXRQVFNGbiA9IChcbiAgdGltZXN0YW1wOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgaW5pdFBUUzogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsLFxuKTogbnVtYmVyID0+IHtcbiAgaWYgKE51bWJlci5pc0Zpbml0ZSh0aW1lc3RhbXAgYXMgbnVtYmVyKSkge1xuICAgIHJldHVybiB0aW1lc3RhbXAhICogOTA7XG4gIH1cbiAgY29uc3QgaW5pdDkwa0h6ID0gaW5pdFBUU1xuICAgID8gKGluaXRQVFMuYmFzZVRpbWUgKiA5MDAwMCkgLyBpbml0UFRTLnRpbWVzY2FsZVxuICAgIDogMDtcbiAgcmV0dXJuIHRpbWVPZmZzZXQgKiA5MDAwMCArIGluaXQ5MGtIejtcbn07XG5leHBvcnQgZGVmYXVsdCBCYXNlQXVkaW9EZW11eGVyO1xuIiwgIi8qKlxuICogQURUUyBwYXJzZXIgaGVscGVyXG4gKiBAbGluayBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICovXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHsgRXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzIH0gZnJvbSAnLi4vLi4vZXJyb3JzJztcbmltcG9ydCB0eXBlIHsgSGxzRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7XG4gIERlbXV4ZWRBdWRpb1RyYWNrLFxuICBBdWRpb0ZyYW1lLFxuICBBdWRpb1NhbXBsZSxcbn0gZnJvbSAnLi4vLi4vdHlwZXMvZGVtdXhlcic7XG5cbnR5cGUgQXVkaW9Db25maWcgPSB7XG4gIGNvbmZpZzogbnVtYmVyW107XG4gIHNhbXBsZXJhdGU6IG51bWJlcjtcbiAgY2hhbm5lbENvdW50OiBudW1iZXI7XG4gIGNvZGVjOiBzdHJpbmc7XG4gIG1hbmlmZXN0Q29kZWM6IHN0cmluZztcbn07XG5cbnR5cGUgRnJhbWVIZWFkZXIgPSB7XG4gIGhlYWRlckxlbmd0aDogbnVtYmVyO1xuICBmcmFtZUxlbmd0aDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGlvQ29uZmlnKFxuICBvYnNlcnZlcjogSGxzRXZlbnRFbWl0dGVyLFxuICBkYXRhOiBVaW50OEFycmF5LFxuICBvZmZzZXQ6IG51bWJlcixcbiAgYXVkaW9Db2RlYzogc3RyaW5nLFxuKTogQXVkaW9Db25maWcgfCB2b2lkIHtcbiAgbGV0IGFkdHNPYmplY3RUeXBlOiBudW1iZXI7XG4gIGxldCBhZHRzRXh0ZW5zaW9uU2FtcGxpbmdJbmRleDogbnVtYmVyO1xuICBsZXQgYWR0c0NoYW5uZWxDb25maWc6IG51bWJlcjtcbiAgbGV0IGNvbmZpZzogbnVtYmVyW107XG4gIGNvbnN0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgbWFuaWZlc3RDb2RlYyA9IGF1ZGlvQ29kZWM7XG4gIGNvbnN0IGFkdHNTYW1wbGluZ1JhdGVzID0gW1xuICAgIDk2MDAwLCA4ODIwMCwgNjQwMDAsIDQ4MDAwLCA0NDEwMCwgMzIwMDAsIDI0MDAwLCAyMjA1MCwgMTYwMDAsIDEyMDAwLCAxMTAyNSxcbiAgICA4MDAwLCA3MzUwLFxuICBdO1xuICAvLyBieXRlIDJcbiAgYWR0c09iamVjdFR5cGUgPSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweGMwKSA+Pj4gNikgKyAxO1xuICBjb25zdCBhZHRzU2FtcGxpbmdJbmRleCA9IChkYXRhW29mZnNldCArIDJdICYgMHgzYykgPj4+IDI7XG4gIGlmIChhZHRzU2FtcGxpbmdJbmRleCA+IGFkdHNTYW1wbGluZ1JhdGVzLmxlbmd0aCAtIDEpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgaW52YWxpZCBBRFRTIHNhbXBsaW5nIGluZGV4OiR7YWR0c1NhbXBsaW5nSW5kZXh9YCk7XG4gICAgb2JzZXJ2ZXIuZW1pdChFdmVudHMuRVJST1IsIEV2ZW50cy5FUlJPUiwge1xuICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsXG4gICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgIGVycm9yLFxuICAgICAgcmVhc29uOiBlcnJvci5tZXNzYWdlLFxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBhZHRzQ2hhbm5lbENvbmZpZyA9IChkYXRhW29mZnNldCArIDJdICYgMHgwMSkgPDwgMjtcbiAgLy8gYnl0ZSAzXG4gIGFkdHNDaGFubmVsQ29uZmlnIHw9IChkYXRhW29mZnNldCArIDNdICYgMHhjMCkgPj4+IDY7XG4gIGxvZ2dlci5sb2coXG4gICAgYG1hbmlmZXN0IGNvZGVjOiR7YXVkaW9Db2RlY30sIEFEVFMgdHlwZToke2FkdHNPYmplY3RUeXBlfSwgc2FtcGxpbmdJbmRleDoke2FkdHNTYW1wbGluZ0luZGV4fWAsXG4gICk7XG4gIC8vIGZpcmVmb3g6IGZyZXEgbGVzcyB0aGFuIDI0a0h6ID0gQUFDIFNCUiAoSEUtQUFDKVxuICBpZiAoL2ZpcmVmb3gvaS50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICBpZiAoYWR0c1NhbXBsaW5nSW5kZXggPj0gNikge1xuICAgICAgYWR0c09iamVjdFR5cGUgPSA1O1xuICAgICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGluZ0luZGV4ID0gYWR0c1NhbXBsaW5nSW5kZXggLSAzO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IGFkdHNTYW1wbGluZ0luZGV4O1xuICAgIH1cbiAgICAvLyBBbmRyb2lkIDogYWx3YXlzIHVzZSBBQUNcbiAgfSBlbHNlIGlmICh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSkge1xuICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgYWR0c0V4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBhZHRzU2FtcGxpbmdJbmRleDtcbiAgfSBlbHNlIHtcbiAgICAvKiAgZm9yIG90aGVyIGJyb3dzZXJzIChDaHJvbWUvVml2YWxkaS9PcGVyYSAuLi4pXG4gICAgICAgIGFsd2F5cyBmb3JjZSBhdWRpbyB0eXBlIHRvIGJlIEhFLUFBQyBTQlIsIGFzIHNvbWUgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgYXVkaW8gY29kZWMgc3dpdGNoIHByb3Blcmx5IChsaWtlIENocm9tZSAuLi4pXG4gICAgKi9cbiAgICBhZHRzT2JqZWN0VHlwZSA9IDU7XG4gICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgIC8vIGlmIChtYW5pZmVzdCBjb2RlYyBpcyBIRS1BQUMgb3IgSEUtQUFDdjIpIE9SIChtYW5pZmVzdCBjb2RlYyBub3Qgc3BlY2lmaWVkIEFORCBmcmVxdWVuY3kgbGVzcyB0aGFuIDI0a0h6KVxuICAgIGlmIChcbiAgICAgIChhdWRpb0NvZGVjICYmXG4gICAgICAgIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuMjknKSAhPT0gLTEgfHxcbiAgICAgICAgICBhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkpIHx8XG4gICAgICAoIWF1ZGlvQ29kZWMgJiYgYWR0c1NhbXBsaW5nSW5kZXggPj0gNilcbiAgICApIHtcbiAgICAgIC8vIEhFLUFBQyB1c2VzIFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbikgLCBoaWdoIGZyZXF1ZW5jaWVzIGFyZSBjb25zdHJ1Y3RlZCBmcm9tIGxvdyBmcmVxdWVuY2llc1xuICAgICAgLy8gdGhlcmUgaXMgYSBmYWN0b3IgMiBiZXR3ZWVuIGZyYW1lIHNhbXBsZSByYXRlIGFuZCBvdXRwdXQgc2FtcGxlIHJhdGVcbiAgICAgIC8vIG11bHRpcGx5IGZyZXF1ZW5jeSBieSAyIChzZWUgdGFibGUgYmVsb3csIGVxdWl2YWxlbnQgdG8gc3Vic3RyYWN0IDMpXG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IGFkdHNTYW1wbGluZ0luZGV4IC0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgKG1hbmlmZXN0IGNvZGVjIGlzIEFBQykgQU5EIChmcmVxdWVuY3kgbGVzcyB0aGFuIDI0a0h6IEFORCBuYiBjaGFubmVsIGlzIDEpIE9SIChtYW5pZmVzdCBjb2RlYyBub3Qgc3BlY2lmaWVkIGFuZCBtb25vIGF1ZGlvKVxuICAgICAgLy8gQ2hyb21lIGZhaWxzIHRvIHBsYXkgYmFjayB3aXRoIGxvdyBmcmVxdWVuY3kgQUFDIExDIG1vbm8gd2hlbiBpbml0aWFsaXplZCB3aXRoIEhFLUFBQy4gIFRoaXMgaXMgbm90IGEgcHJvYmxlbSB3aXRoIHN0ZXJlby5cbiAgICAgIGlmIChcbiAgICAgICAgKGF1ZGlvQ29kZWMgJiZcbiAgICAgICAgICBhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuMicpICE9PSAtMSAmJlxuICAgICAgICAgICgoYWR0c1NhbXBsaW5nSW5kZXggPj0gNiAmJiBhZHRzQ2hhbm5lbENvbmZpZyA9PT0gMSkgfHxcbiAgICAgICAgICAgIC92aXZhbGRpL2kudGVzdCh1c2VyQWdlbnQpKSkgfHxcbiAgICAgICAgKCFhdWRpb0NvZGVjICYmIGFkdHNDaGFubmVsQ29uZmlnID09PSAxKVxuICAgICAgKSB7XG4gICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgfVxuICAgICAgYWR0c0V4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBhZHRzU2FtcGxpbmdJbmRleDtcbiAgICB9XG4gIH1cbiAgLyogcmVmZXIgdG8gaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9TVBFRy00X0F1ZGlvI0F1ZGlvX1NwZWNpZmljX0NvbmZpZ1xuICAgICAgSVNPIDE0NDk2LTMgKEFBQykucGRmIC0gVGFibGUgMS4xMyDigJQgU3ludGF4IG9mIEF1ZGlvU3BlY2lmaWNDb25maWcoKVxuICAgIEF1ZGlvIFByb2ZpbGUgLyBBdWRpbyBPYmplY3QgVHlwZVxuICAgIDA6IE51bGxcbiAgICAxOiBBQUMgTWFpblxuICAgIDI6IEFBQyBMQyAoTG93IENvbXBsZXhpdHkpXG4gICAgMzogQUFDIFNTUiAoU2NhbGFibGUgU2FtcGxlIFJhdGUpXG4gICAgNDogQUFDIExUUCAoTG9uZyBUZXJtIFByZWRpY3Rpb24pXG4gICAgNTogU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKVxuICAgIDY6IEFBQyBTY2FsYWJsZVxuICAgc2FtcGxpbmcgZnJlcVxuICAgIDA6IDk2MDAwIEh6XG4gICAgMTogODgyMDAgSHpcbiAgICAyOiA2NDAwMCBIelxuICAgIDM6IDQ4MDAwIEh6XG4gICAgNDogNDQxMDAgSHpcbiAgICA1OiAzMjAwMCBIelxuICAgIDY6IDI0MDAwIEh6XG4gICAgNzogMjIwNTAgSHpcbiAgICA4OiAxNjAwMCBIelxuICAgIDk6IDEyMDAwIEh6XG4gICAgMTA6IDExMDI1IEh6XG4gICAgMTE6IDgwMDAgSHpcbiAgICAxMjogNzM1MCBIelxuICAgIDEzOiBSZXNlcnZlZFxuICAgIDE0OiBSZXNlcnZlZFxuICAgIDE1OiBmcmVxdWVuY3kgaXMgd3JpdHRlbiBleHBsaWN0bHlcbiAgICBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgVGhlc2UgYXJlIHRoZSBjaGFubmVsIGNvbmZpZ3VyYXRpb25zOlxuICAgIDA6IERlZmluZWQgaW4gQU9UIFNwZWNpZmMgQ29uZmlnXG4gICAgMTogMSBjaGFubmVsOiBmcm9udC1jZW50ZXJcbiAgICAyOiAyIGNoYW5uZWxzOiBmcm9udC1sZWZ0LCBmcm9udC1yaWdodFxuICAqL1xuICAvLyBhdWRpb09iamVjdFR5cGUgPSBwcm9maWxlID0+IHByb2ZpbGUsIHRoZSBNUEVHLTQgQXVkaW8gT2JqZWN0IFR5cGUgbWludXMgMVxuICBjb25maWdbMF0gPSBhZHRzT2JqZWN0VHlwZSA8PCAzO1xuICAvLyBzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4XG4gIGNvbmZpZ1swXSB8PSAoYWR0c1NhbXBsaW5nSW5kZXggJiAweDBlKSA+PiAxO1xuICBjb25maWdbMV0gfD0gKGFkdHNTYW1wbGluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgLy8gY2hhbm5lbENvbmZpZ3VyYXRpb25cbiAgY29uZmlnWzFdIHw9IGFkdHNDaGFubmVsQ29uZmlnIDw8IDM7XG4gIGlmIChhZHRzT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgIC8vIGFkdHNFeHRlbnNpb25TYW1wbGluZ0luZGV4XG4gICAgY29uZmlnWzFdIHw9IChhZHRzRXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MGUpID4+IDE7XG4gICAgY29uZmlnWzJdID0gKGFkdHNFeHRlbnNpb25TYW1wbGluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAvLyBhZHRzT2JqZWN0VHlwZSAoZm9yY2UgdG8gMiwgY2hyb21lIGlzIGNoZWNraW5nIHRoYXQgb2JqZWN0IHR5cGUgaXMgbGVzcyB0aGFuIDUgPz8/XG4gICAgLy8gICAgaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy5naXQvKy9tYXN0ZXIvbWVkaWEvZm9ybWF0cy9tcDQvYWFjLmNjXG4gICAgY29uZmlnWzJdIHw9IDIgPDwgMjtcbiAgICBjb25maWdbM10gPSAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgY29uZmlnLFxuICAgIHNhbXBsZXJhdGU6IGFkdHNTYW1wbGluZ1JhdGVzW2FkdHNTYW1wbGluZ0luZGV4XSxcbiAgICBjaGFubmVsQ291bnQ6IGFkdHNDaGFubmVsQ29uZmlnLFxuICAgIGNvZGVjOiAnbXA0YS40MC4nICsgYWR0c09iamVjdFR5cGUsXG4gICAgbWFuaWZlc3RDb2RlYyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSGVhZGVyUGF0dGVybihkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gZGF0YVtvZmZzZXRdID09PSAweGZmICYmIChkYXRhW29mZnNldCArIDFdICYgMHhmNikgPT09IDB4ZjA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkZXJMZW5ndGgoZGF0YTogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDEgPyA3IDogOTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiAoXG4gICAgKChkYXRhW29mZnNldCArIDNdICYgMHgwMykgPDwgMTEpIHxcbiAgICAoZGF0YVtvZmZzZXQgKyA0XSA8PCAzKSB8XG4gICAgKChkYXRhW29mZnNldCArIDVdICYgMHhlMCkgPj4+IDUpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5HZXRGcmFtZUxlbmd0aChkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gb2Zmc2V0ICsgNSA8IGRhdGEubGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIZWFkZXIoZGF0YTogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgLy8gTG9vayBmb3IgQURUUyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTExIFgwMFggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxXG4gIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAvLyBNb3JlIGluZm8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgcmV0dXJuIG9mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhblBhcnNlKGRhdGE6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgY2FuR2V0RnJhbWVMZW5ndGgoZGF0YSwgb2Zmc2V0KSAmJlxuICAgIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpICYmXG4gICAgZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCkgPD0gZGF0YS5sZW5ndGggLSBvZmZzZXRcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2JlKGRhdGE6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIC8vIHNhbWUgYXMgaXNIZWFkZXIgYnV0IHdlIGFsc28gY2hlY2sgdGhhdCBBRFRTIGZyYW1lIGZvbGxvd3MgbGFzdCBBRFRTIGZyYW1lXG4gIC8vIG9yIGVuZCBvZiBkYXRhIGlzIHJlYWNoZWRcbiAgaWYgKGlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAvLyBBRFRTIGhlYWRlciBMZW5ndGhcbiAgICBjb25zdCBoZWFkZXJMZW5ndGggPSBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICBpZiAob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFEVFMgZnJhbWUgTGVuZ3RoXG4gICAgY29uc3QgZnJhbWVMZW5ndGggPSBnZXRGdWxsRnJhbWVMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICBpZiAoZnJhbWVMZW5ndGggPD0gaGVhZGVyTGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3T2Zmc2V0ID0gb2Zmc2V0ICsgZnJhbWVMZW5ndGg7XG4gICAgcmV0dXJuIG5ld09mZnNldCA9PT0gZGF0YS5sZW5ndGggfHwgaXNIZWFkZXIoZGF0YSwgbmV3T2Zmc2V0KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VHJhY2tDb25maWcoXG4gIHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcixcbiAgZGF0YTogVWludDhBcnJheSxcbiAgb2Zmc2V0OiBudW1iZXIsXG4gIGF1ZGlvQ29kZWM6IHN0cmluZyxcbikge1xuICBpZiAoIXRyYWNrLnNhbXBsZXJhdGUpIHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRBdWRpb0NvbmZpZyhvYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCBhdWRpb0NvZGVjKTtcbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cmFjay5jb25maWcgPSBjb25maWcuY29uZmlnO1xuICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBjb25maWcuc2FtcGxlcmF0ZTtcbiAgICB0cmFjay5jaGFubmVsQ291bnQgPSBjb25maWcuY2hhbm5lbENvdW50O1xuICAgIHRyYWNrLmNvZGVjID0gY29uZmlnLmNvZGVjO1xuICAgIHRyYWNrLm1hbmlmZXN0Q29kZWMgPSBjb25maWcubWFuaWZlc3RDb2RlYztcbiAgICBsb2dnZXIubG9nKFxuICAgICAgYHBhcnNlZCBjb2RlYzoke3RyYWNrLmNvZGVjfSwgcmF0ZToke2NvbmZpZy5zYW1wbGVyYXRlfSwgY2hhbm5lbHM6JHtjb25maWcuY2hhbm5lbENvdW50fWAsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJhbWVEdXJhdGlvbihzYW1wbGVyYXRlOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gKDEwMjQgKiA5MDAwMCkgLyBzYW1wbGVyYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VGcmFtZUhlYWRlcihcbiAgZGF0YTogVWludDhBcnJheSxcbiAgb2Zmc2V0OiBudW1iZXIsXG4pOiBGcmFtZUhlYWRlciB8IHZvaWQge1xuICAvLyBUaGUgcHJvdGVjdGlvbiBza2lwIGJpdCB0ZWxscyB1cyBpZiB3ZSBoYXZlIDIgYnl0ZXMgb2YgQ1JDIGRhdGEgYXQgdGhlIGVuZCBvZiB0aGUgQURUUyBoZWFkZXJcbiAgY29uc3QgaGVhZGVyTGVuZ3RoID0gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gIGlmIChvZmZzZXQgKyBoZWFkZXJMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAvLyByZXRyaWV2ZSBmcmFtZSBzaXplXG4gICAgY29uc3QgZnJhbWVMZW5ndGggPSBnZXRGdWxsRnJhbWVMZW5ndGgoZGF0YSwgb2Zmc2V0KSAtIGhlYWRlckxlbmd0aDtcbiAgICBpZiAoZnJhbWVMZW5ndGggPiAwKSB7XG4gICAgICAvLyBsb2dnZXIubG9nKGBBQUMgZnJhbWUsIG9mZnNldC9sZW5ndGgvdG90YWwvcHRzOiR7b2Zmc2V0K2hlYWRlckxlbmd0aH0vJHtmcmFtZUxlbmd0aH0vJHtkYXRhLmJ5dGVMZW5ndGh9YCk7XG4gICAgICByZXR1cm4geyBoZWFkZXJMZW5ndGgsIGZyYW1lTGVuZ3RoIH07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRGcmFtZShcbiAgdHJhY2s6IERlbXV4ZWRBdWRpb1RyYWNrLFxuICBkYXRhOiBVaW50OEFycmF5LFxuICBvZmZzZXQ6IG51bWJlcixcbiAgcHRzOiBudW1iZXIsXG4gIGZyYW1lSW5kZXg6IG51bWJlcixcbik6IEF1ZGlvRnJhbWUge1xuICBjb25zdCBmcmFtZUR1cmF0aW9uID0gZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlIGFzIG51bWJlcik7XG4gIGNvbnN0IHN0YW1wID0gcHRzICsgZnJhbWVJbmRleCAqIGZyYW1lRHVyYXRpb247XG4gIGNvbnN0IGhlYWRlciA9IHBhcnNlRnJhbWVIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgbGV0IHVuaXQ6IFVpbnQ4QXJyYXk7XG4gIGlmIChoZWFkZXIpIHtcbiAgICBjb25zdCB7IGZyYW1lTGVuZ3RoLCBoZWFkZXJMZW5ndGggfSA9IGhlYWRlcjtcbiAgICBjb25zdCBsZW5ndGggPSBoZWFkZXJMZW5ndGggKyBmcmFtZUxlbmd0aDtcbiAgICBjb25zdCBtaXNzaW5nID0gTWF0aC5tYXgoMCwgb2Zmc2V0ICsgbGVuZ3RoIC0gZGF0YS5sZW5ndGgpO1xuICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSAke2ZyYW1lSW5kZXh9LCBwdHM6JHtzdGFtcH0gbGVuZ3RoQG9mZnNldC90b3RhbDogJHtmcmFtZUxlbmd0aH1AJHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0gbWlzc2luZzogJHttaXNzaW5nfWApO1xuICAgIGlmIChtaXNzaW5nKSB7XG4gICAgICB1bml0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoIC0gaGVhZGVyTGVuZ3RoKTtcbiAgICAgIHVuaXQuc2V0KGRhdGEuc3ViYXJyYXkob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoLCBkYXRhLmxlbmd0aCksIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bml0ID0gZGF0YS5zdWJhcnJheShvZmZzZXQgKyBoZWFkZXJMZW5ndGgsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2FtcGxlOiBBdWRpb1NhbXBsZSA9IHtcbiAgICAgIHVuaXQsXG4gICAgICBwdHM6IHN0YW1wLFxuICAgIH07XG4gICAgaWYgKCFtaXNzaW5nKSB7XG4gICAgICB0cmFjay5zYW1wbGVzLnB1c2goc2FtcGxlIGFzIEF1ZGlvU2FtcGxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzYW1wbGUsIGxlbmd0aCwgbWlzc2luZyB9O1xuICB9XG4gIC8vIG92ZXJmbG93IGluY29tcGxldGUgaGVhZGVyXG4gIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoIC0gb2Zmc2V0O1xuICB1bml0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgdW5pdC5zZXQoZGF0YS5zdWJhcnJheShvZmZzZXQsIGRhdGEubGVuZ3RoKSwgMCk7XG4gIGNvbnN0IHNhbXBsZTogQXVkaW9TYW1wbGUgPSB7XG4gICAgdW5pdCxcbiAgICBwdHM6IHN0YW1wLFxuICB9O1xuICByZXR1cm4geyBzYW1wbGUsIGxlbmd0aCwgbWlzc2luZzogLTEgfTtcbn1cbiIsICIvKipcbiAqICBNUEVHIHBhcnNlciBoZWxwZXJcbiAqL1xuaW1wb3J0IHsgRGVtdXhlZEF1ZGlvVHJhY2sgfSBmcm9tICcuLi8uLi90eXBlcy9kZW11eGVyJztcblxubGV0IGNocm9tZVZlcnNpb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5jb25zdCBCaXRyYXRlc01hcCA9IFtcbiAgMzIsIDY0LCA5NiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDI4OCwgMzIwLCAzNTIsIDM4NCwgNDE2LCA0NDgsIDMyLCA0OCwgNTYsXG4gIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzg0LCAzMiwgNDAsIDQ4LCA1NiwgNjQsIDgwLFxuICA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAzMiwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTQ0LFxuICAxNjAsIDE3NiwgMTkyLCAyMjQsIDI1NiwgOCwgMTYsIDI0LCAzMiwgNDAsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE0NCxcbiAgMTYwLFxuXTtcblxuY29uc3QgU2FtcGxpbmdSYXRlTWFwID0gW1xuICA0NDEwMCwgNDgwMDAsIDMyMDAwLCAyMjA1MCwgMjQwMDAsIDE2MDAwLCAxMTAyNSwgMTIwMDAsIDgwMDAsXG5dO1xuXG5jb25zdCBTYW1wbGVzQ29lZmZpY2llbnRzID0gW1xuICAvLyBNUEVHIDIuNVxuICBbXG4gICAgMCwgLy8gUmVzZXJ2ZWRcbiAgICA3MiwgLy8gTGF5ZXIzXG4gICAgMTQ0LCAvLyBMYXllcjJcbiAgICAxMiwgLy8gTGF5ZXIxXG4gIF0sXG4gIC8vIFJlc2VydmVkXG4gIFtcbiAgICAwLCAvLyBSZXNlcnZlZFxuICAgIDAsIC8vIExheWVyM1xuICAgIDAsIC8vIExheWVyMlxuICAgIDAsIC8vIExheWVyMVxuICBdLFxuICAvLyBNUEVHIDJcbiAgW1xuICAgIDAsIC8vIFJlc2VydmVkXG4gICAgNzIsIC8vIExheWVyM1xuICAgIDE0NCwgLy8gTGF5ZXIyXG4gICAgMTIsIC8vIExheWVyMVxuICBdLFxuICAvLyBNUEVHIDFcbiAgW1xuICAgIDAsIC8vIFJlc2VydmVkXG4gICAgMTQ0LCAvLyBMYXllcjNcbiAgICAxNDQsIC8vIExheWVyMlxuICAgIDEyLCAvLyBMYXllcjFcbiAgXSxcbl07XG5cbmNvbnN0IEJ5dGVzSW5TbG90ID0gW1xuICAwLCAvLyBSZXNlcnZlZFxuICAxLCAvLyBMYXllcjNcbiAgMSwgLy8gTGF5ZXIyXG4gIDQsIC8vIExheWVyMVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZyYW1lKFxuICB0cmFjazogRGVtdXhlZEF1ZGlvVHJhY2ssXG4gIGRhdGE6IFVpbnQ4QXJyYXksXG4gIG9mZnNldDogbnVtYmVyLFxuICBwdHM6IG51bWJlcixcbiAgZnJhbWVJbmRleDogbnVtYmVyLFxuKSB7XG4gIC8vIFVzaW5nIGh0dHA6Ly93d3cuZGF0YXZveWFnZS5jb20vbXBnc2NyaXB0L21wZWdoZHIuaHRtIGFzIGEgcmVmZXJlbmNlXG4gIGlmIChvZmZzZXQgKyAyNCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaGVhZGVyID0gcGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgaWYgKGhlYWRlciAmJiBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gKGhlYWRlci5zYW1wbGVzUGVyRnJhbWUgKiA5MDAwMCkgLyBoZWFkZXIuc2FtcGxlUmF0ZTtcbiAgICBjb25zdCBzdGFtcCA9IHB0cyArIGZyYW1lSW5kZXggKiBmcmFtZUR1cmF0aW9uO1xuICAgIGNvbnN0IHNhbXBsZSA9IHtcbiAgICAgIHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGgpLFxuICAgICAgcHRzOiBzdGFtcCxcbiAgICAgIGR0czogc3RhbXAsXG4gICAgfTtcblxuICAgIHRyYWNrLmNvbmZpZyA9IFtdO1xuICAgIHRyYWNrLmNoYW5uZWxDb3VudCA9IGhlYWRlci5jaGFubmVsQ291bnQ7XG4gICAgdHJhY2suc2FtcGxlcmF0ZSA9IGhlYWRlci5zYW1wbGVSYXRlO1xuICAgIHRyYWNrLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuXG4gICAgcmV0dXJuIHsgc2FtcGxlLCBsZW5ndGg6IGhlYWRlci5mcmFtZUxlbmd0aCwgbWlzc2luZzogMCB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhlYWRlcihkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcikge1xuICBjb25zdCBtcGVnVmVyc2lvbiA9IChkYXRhW29mZnNldCArIDFdID4+IDMpICYgMztcbiAgY29uc3QgbXBlZ0xheWVyID0gKGRhdGFbb2Zmc2V0ICsgMV0gPj4gMSkgJiAzO1xuICBjb25zdCBiaXRSYXRlSW5kZXggPSAoZGF0YVtvZmZzZXQgKyAyXSA+PiA0KSAmIDE1O1xuICBjb25zdCBzYW1wbGVSYXRlSW5kZXggPSAoZGF0YVtvZmZzZXQgKyAyXSA+PiAyKSAmIDM7XG4gIGlmIChcbiAgICBtcGVnVmVyc2lvbiAhPT0gMSAmJlxuICAgIGJpdFJhdGVJbmRleCAhPT0gMCAmJlxuICAgIGJpdFJhdGVJbmRleCAhPT0gMTUgJiZcbiAgICBzYW1wbGVSYXRlSW5kZXggIT09IDNcbiAgKSB7XG4gICAgY29uc3QgcGFkZGluZ0JpdCA9IChkYXRhW29mZnNldCArIDJdID4+IDEpICYgMTtcbiAgICBjb25zdCBjaGFubmVsTW9kZSA9IGRhdGFbb2Zmc2V0ICsgM10gPj4gNjtcbiAgICBjb25zdCBjb2x1bW5JbkJpdHJhdGVzID1cbiAgICAgIG1wZWdWZXJzaW9uID09PSAzID8gMyAtIG1wZWdMYXllciA6IG1wZWdMYXllciA9PT0gMyA/IDMgOiA0O1xuICAgIGNvbnN0IGJpdFJhdGUgPVxuICAgICAgQml0cmF0ZXNNYXBbY29sdW1uSW5CaXRyYXRlcyAqIDE0ICsgYml0UmF0ZUluZGV4IC0gMV0gKiAxMDAwO1xuICAgIGNvbnN0IGNvbHVtbkluU2FtcGxlUmF0ZXMgPVxuICAgICAgbXBlZ1ZlcnNpb24gPT09IDMgPyAwIDogbXBlZ1ZlcnNpb24gPT09IDIgPyAxIDogMjtcbiAgICBjb25zdCBzYW1wbGVSYXRlID1cbiAgICAgIFNhbXBsaW5nUmF0ZU1hcFtjb2x1bW5JblNhbXBsZVJhdGVzICogMyArIHNhbXBsZVJhdGVJbmRleF07XG4gICAgY29uc3QgY2hhbm5lbENvdW50ID0gY2hhbm5lbE1vZGUgPT09IDMgPyAxIDogMjsgLy8gSWYgYml0cyBvZiBjaGFubmVsIG1vZGUgYXJlIGAxMWAgdGhlbiBpdCBpcyBhIHNpbmdsZSBjaGFubmVsIChNb25vKVxuICAgIGNvbnN0IHNhbXBsZUNvZWZmaWNpZW50ID0gU2FtcGxlc0NvZWZmaWNpZW50c1ttcGVnVmVyc2lvbl1bbXBlZ0xheWVyXTtcbiAgICBjb25zdCBieXRlc0luU2xvdCA9IEJ5dGVzSW5TbG90W21wZWdMYXllcl07XG4gICAgY29uc3Qgc2FtcGxlc1BlckZyYW1lID0gc2FtcGxlQ29lZmZpY2llbnQgKiA4ICogYnl0ZXNJblNsb3Q7XG4gICAgY29uc3QgZnJhbWVMZW5ndGggPVxuICAgICAgTWF0aC5mbG9vcigoc2FtcGxlQ29lZmZpY2llbnQgKiBiaXRSYXRlKSAvIHNhbXBsZVJhdGUgKyBwYWRkaW5nQml0KSAqXG4gICAgICBieXRlc0luU2xvdDtcblxuICAgIGlmIChjaHJvbWVWZXJzaW9uID09PSBudWxsKSB7XG4gICAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvaSk7XG4gICAgICBjaHJvbWVWZXJzaW9uID0gcmVzdWx0ID8gcGFyc2VJbnQocmVzdWx0WzFdKSA6IDA7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDaHJvbWVGaXggPSAhIWNocm9tZVZlcnNpb24gJiYgY2hyb21lVmVyc2lvbiA8PSA4NztcblxuICAgIGlmIChcbiAgICAgIG5lZWRDaHJvbWVGaXggJiZcbiAgICAgIG1wZWdMYXllciA9PT0gMiAmJlxuICAgICAgYml0UmF0ZSA+PSAyMjQwMDAgJiZcbiAgICAgIGNoYW5uZWxNb2RlID09PSAwXG4gICAgKSB7XG4gICAgICAvLyBXb3JrIGFyb3VuZCBidWcgaW4gQ2hyb21pdW0gYnkgc2V0dGluZyBjaGFubmVsTW9kZSB0byBkdWFsLWNoYW5uZWwgKDAxKSBpbnN0ZWFkIG9mIHN0ZXJlbyAoMDApXG4gICAgICBkYXRhW29mZnNldCArIDNdID0gZGF0YVtvZmZzZXQgKyAzXSB8IDB4ODA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc2FtcGxlUmF0ZSwgY2hhbm5lbENvdW50LCBmcmFtZUxlbmd0aCwgc2FtcGxlc1BlckZyYW1lIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSGVhZGVyUGF0dGVybihkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGRhdGFbb2Zmc2V0XSA9PT0gMHhmZiAmJlxuICAgIChkYXRhW29mZnNldCArIDFdICYgMHhlMCkgPT09IDB4ZTAgJiZcbiAgICAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDYpICE9PSAweDAwXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hlYWRlcihkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAvLyBMb29rIGZvciBNUEVHIGhlYWRlciB8IDExMTEgMTExMSB8IDExMVggWFlaWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDEgYW5kIFkgb3IgWiBzaG91bGQgYmUgMVxuICAvLyBMYXllciBiaXRzIChwb3NpdGlvbiAxNCBhbmQgMTUpIGluIGhlYWRlciBzaG91bGQgYmUgYWx3YXlzIGRpZmZlcmVudCBmcm9tIDAgKExheWVyIEkgb3IgTGF5ZXIgSUkgb3IgTGF5ZXIgSUlJKVxuICAvLyBNb3JlIGluZm8gaHR0cDovL3d3dy5tcDMtdGVjaC5vcmcvcHJvZ3JhbW1lci9mcmFtZV9oZWFkZXIuaHRtbFxuICByZXR1cm4gb2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuUGFyc2UoZGF0YTogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3QgaGVhZGVyU2l6ZSA9IDQ7XG5cbiAgcmV0dXJuIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpICYmIGhlYWRlclNpemUgPD0gZGF0YS5sZW5ndGggLSBvZmZzZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9iZShkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAvLyBzYW1lIGFzIGlzSGVhZGVyIGJ1dCB3ZSBhbHNvIGNoZWNrIHRoYXQgTVBFRyBmcmFtZSBmb2xsb3dzIGxhc3QgTVBFRyBmcmFtZVxuICAvLyBvciBlbmQgb2YgZGF0YSBpcyByZWFjaGVkXG4gIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAvLyBNUEVHIGhlYWRlciBMZW5ndGhcbiAgICBjb25zdCBoZWFkZXJMZW5ndGggPSA0O1xuICAgIC8vIE1QRUcgZnJhbWUgTGVuZ3RoXG4gICAgY29uc3QgaGVhZGVyID0gcGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICBsZXQgZnJhbWVMZW5ndGggPSBoZWFkZXJMZW5ndGg7XG4gICAgaWYgKGhlYWRlcj8uZnJhbWVMZW5ndGgpIHtcbiAgICAgIGZyYW1lTGVuZ3RoID0gaGVhZGVyLmZyYW1lTGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld09mZnNldCA9IG9mZnNldCArIGZyYW1lTGVuZ3RoO1xuICAgIHJldHVybiBuZXdPZmZzZXQgPT09IGRhdGEubGVuZ3RoIHx8IGlzSGVhZGVyKGRhdGEsIG5ld09mZnNldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwgIi8qKlxuICogQUFDIGRlbXV4ZXJcbiAqL1xuaW1wb3J0IEJhc2VBdWRpb0RlbXV4ZXIgZnJvbSAnLi9iYXNlLWF1ZGlvLWRlbXV4ZXInO1xuaW1wb3J0ICogYXMgQURUUyBmcm9tICcuL2FkdHMnO1xuaW1wb3J0ICogYXMgTXBlZ0F1ZGlvIGZyb20gJy4vbXBlZ2F1ZGlvJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgKiBhcyBJRDMgZnJvbSAnLi4vaWQzJztcbmltcG9ydCB0eXBlIHsgSGxzRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgSGxzQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnJztcblxuY2xhc3MgQUFDRGVtdXhlciBleHRlbmRzIEJhc2VBdWRpb0RlbXV4ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IG9ic2VydmVyOiBIbHNFdmVudEVtaXR0ZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBIbHNDb25maWc7XG5cbiAgY29uc3RydWN0b3Iob2JzZXJ2ZXIsIGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcmVzZXRJbml0U2VnbWVudChcbiAgICBpbml0U2VnbWVudDogVWludDhBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBhdWRpb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdmlkZW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrRHVyYXRpb246IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIucmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdHJhY2tEdXJhdGlvbik7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IHtcbiAgICAgIGNvbnRhaW5lcjogJ2F1ZGlvL2FkdHMnLFxuICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgIGlkOiAyLFxuICAgICAgcGlkOiAtMSxcbiAgICAgIHNlcXVlbmNlTnVtYmVyOiAwLFxuICAgICAgc2VnbWVudENvZGVjOiAnYWFjJyxcbiAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgbWFuaWZlc3RDb2RlYzogYXVkaW9Db2RlYyxcbiAgICAgIGR1cmF0aW9uOiB0cmFja0R1cmF0aW9uLFxuICAgICAgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLFxuICAgICAgZHJvcHBlZDogMCxcbiAgICB9O1xuICB9XG5cbiAgLy8gU291cmNlIGZvciBwcm9iZSBpbmZvIC0gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgc3RhdGljIHByb2JlKGRhdGE6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgdGhlIEFEVFMgc3luYyB3b3JkXG4gICAgLy8gTG9vayBmb3IgQURUUyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTExIFgwMFggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxXG4gICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyAwIGZvciBBRFRTXG4gICAgLy8gTW9yZSBpbmZvIGh0dHBzOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocD90aXRsZT1BRFRTXG4gICAgY29uc3QgaWQzRGF0YSA9IElEMy5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgIGxldCBvZmZzZXQgPSBpZDNEYXRhPy5sZW5ndGggfHwgMDtcblxuICAgIGlmIChNcGVnQXVkaW8ucHJvYmUoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW5ndGg7IG9mZnNldCsrKSB7XG4gICAgICBpZiAoQURUUy5wcm9iZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0FEVFMgc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNhblBhcnNlKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiBBRFRTLmNhblBhcnNlKGRhdGEsIG9mZnNldCk7XG4gIH1cblxuICBhcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0KSB7XG4gICAgQURUUy5pbml0VHJhY2tDb25maWcoXG4gICAgICB0cmFjayxcbiAgICAgIHRoaXMub2JzZXJ2ZXIsXG4gICAgICBkYXRhLFxuICAgICAgb2Zmc2V0LFxuICAgICAgdHJhY2subWFuaWZlc3RDb2RlYyxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lID0gQURUUy5hcHBlbmRGcmFtZShcbiAgICAgIHRyYWNrLFxuICAgICAgZGF0YSxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRoaXMuYmFzZVBUUyBhcyBudW1iZXIsXG4gICAgICB0aGlzLmZyYW1lSW5kZXgsXG4gICAgKTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUubWlzc2luZyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBQUNEZW11eGVyO1xuIiwgIi8qKlxuICogTVA0IGRlbXV4ZXJcbiAqL1xuaW1wb3J0IHtcbiAgRGVtdXhlcixcbiAgRGVtdXhlclJlc3VsdCxcbiAgUGFzc3Rocm91Z2hUcmFjayxcbiAgRGVtdXhlZEF1ZGlvVHJhY2ssXG4gIERlbXV4ZWRVc2VyZGF0YVRyYWNrLFxuICBEZW11eGVkTWV0YWRhdGFUcmFjayxcbiAgS2V5RGF0YSxcbiAgTWV0YWRhdGFTY2hlbWEsXG59IGZyb20gJy4uL3R5cGVzL2RlbXV4ZXInO1xuaW1wb3J0IHtcbiAgZmluZEJveCxcbiAgc2VnbWVudFZhbGlkUmFuZ2UsXG4gIGFwcGVuZFVpbnQ4QXJyYXksXG4gIHBhcnNlRW1zZyxcbiAgcGFyc2VTYW1wbGVzLFxuICBwYXJzZUluaXRTZWdtZW50LFxuICBSZW11eGVyVHJhY2tJZENvbmZpZyxcbiAgaGFzTW9vZkRhdGEsXG59IGZyb20gJy4uL3V0aWxzL21wNC10b29scyc7XG5pbXBvcnQgeyBkdW1teVRyYWNrIH0gZnJvbSAnLi9kdW1teS1kZW11eGVkLXRyYWNrJztcbmltcG9ydCB0eXBlIHsgSGxzRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgSGxzQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcblxuY29uc3QgZW1zZ1NjaGVtZVBhdHRlcm4gPSAvXFwvZW1zZ1stL11JRDMvaTtcblxuY2xhc3MgTVA0RGVtdXhlciBpbXBsZW1lbnRzIERlbXV4ZXIge1xuICBwcml2YXRlIHJlbWFpbmRlckRhdGE6IFVpbnQ4QXJyYXkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0aW1lT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNvbmZpZzogSGxzQ29uZmlnO1xuICBwcml2YXRlIHZpZGVvVHJhY2s/OiBQYXNzdGhyb3VnaFRyYWNrO1xuICBwcml2YXRlIGF1ZGlvVHJhY2s/OiBEZW11eGVkQXVkaW9UcmFjaztcbiAgcHJpdmF0ZSBpZDNUcmFjaz86IERlbXV4ZWRNZXRhZGF0YVRyYWNrO1xuICBwcml2YXRlIHR4dFRyYWNrPzogRGVtdXhlZFVzZXJkYXRhVHJhY2s7XG5cbiAgY29uc3RydWN0b3Iob2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlciwgY29uZmlnOiBIbHNDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIHB1YmxpYyByZXNldFRpbWVTdGFtcCgpIHt9XG5cbiAgcHVibGljIHJlc2V0SW5pdFNlZ21lbnQoXG4gICAgaW5pdFNlZ21lbnQ6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQsXG4gICAgYXVkaW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHZpZGVvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICB0cmFja0R1cmF0aW9uOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IHZpZGVvVHJhY2sgPSAodGhpcy52aWRlb1RyYWNrID0gZHVtbXlUcmFjayhcbiAgICAgICd2aWRlbycsXG4gICAgICAxLFxuICAgICkgYXMgUGFzc3Rocm91Z2hUcmFjayk7XG4gICAgY29uc3QgYXVkaW9UcmFjayA9ICh0aGlzLmF1ZGlvVHJhY2sgPSBkdW1teVRyYWNrKFxuICAgICAgJ2F1ZGlvJyxcbiAgICAgIDEsXG4gICAgKSBhcyBEZW11eGVkQXVkaW9UcmFjayk7XG4gICAgY29uc3QgY2FwdGlvblRyYWNrID0gKHRoaXMudHh0VHJhY2sgPSBkdW1teVRyYWNrKFxuICAgICAgJ3RleHQnLFxuICAgICAgMSxcbiAgICApIGFzIERlbXV4ZWRVc2VyZGF0YVRyYWNrKTtcblxuICAgIHRoaXMuaWQzVHJhY2sgPSBkdW1teVRyYWNrKCdpZDMnLCAxKSBhcyBEZW11eGVkTWV0YWRhdGFUcmFjaztcbiAgICB0aGlzLnRpbWVPZmZzZXQgPSAwO1xuXG4gICAgaWYgKCFpbml0U2VnbWVudD8uYnl0ZUxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbml0RGF0YSA9IHBhcnNlSW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQpO1xuXG4gICAgaWYgKGluaXREYXRhLnZpZGVvKSB7XG4gICAgICBjb25zdCB7IGlkLCB0aW1lc2NhbGUsIGNvZGVjIH0gPSBpbml0RGF0YS52aWRlbztcbiAgICAgIHZpZGVvVHJhY2suaWQgPSBpZDtcbiAgICAgIHZpZGVvVHJhY2sudGltZXNjYWxlID0gY2FwdGlvblRyYWNrLnRpbWVzY2FsZSA9IHRpbWVzY2FsZTtcbiAgICAgIHZpZGVvVHJhY2suY29kZWMgPSBjb2RlYztcbiAgICB9XG5cbiAgICBpZiAoaW5pdERhdGEuYXVkaW8pIHtcbiAgICAgIGNvbnN0IHsgaWQsIHRpbWVzY2FsZSwgY29kZWMgfSA9IGluaXREYXRhLmF1ZGlvO1xuICAgICAgYXVkaW9UcmFjay5pZCA9IGlkO1xuICAgICAgYXVkaW9UcmFjay50aW1lc2NhbGUgPSB0aW1lc2NhbGU7XG4gICAgICBhdWRpb1RyYWNrLmNvZGVjID0gY29kZWM7XG4gICAgfVxuXG4gICAgY2FwdGlvblRyYWNrLmlkID0gUmVtdXhlclRyYWNrSWRDb25maWcudGV4dDtcbiAgICB2aWRlb1RyYWNrLnNhbXBsZUR1cmF0aW9uID0gMDtcbiAgICB2aWRlb1RyYWNrLmR1cmF0aW9uID0gYXVkaW9UcmFjay5kdXJhdGlvbiA9IHRyYWNrRHVyYXRpb247XG4gIH1cblxuICBwdWJsaWMgcmVzZXRDb250aWd1aXR5KCk6IHZvaWQge1xuICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IG51bGw7XG4gIH1cblxuICBzdGF0aWMgcHJvYmUoZGF0YTogVWludDhBcnJheSkge1xuICAgIHJldHVybiBoYXNNb29mRGF0YShkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyBkZW11eChkYXRhOiBVaW50OEFycmF5LCB0aW1lT2Zmc2V0OiBudW1iZXIpOiBEZW11eGVyUmVzdWx0IHtcbiAgICB0aGlzLnRpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICAgIC8vIExvYWQgYWxsIGRhdGEgaW50byB0aGUgYXZjIHRyYWNrLiBUaGUgQ01BRiByZW11eGVyIHdpbGwgbG9vayBmb3IgdGhlIGRhdGEgaW4gdGhlIHNhbXBsZXMgb2JqZWN0OyB0aGUgcmVzdCBvZiB0aGUgZmllbGRzIGRvIG5vdCBtYXR0ZXJcbiAgICBsZXQgdmlkZW9TYW1wbGVzID0gZGF0YTtcbiAgICBjb25zdCB2aWRlb1RyYWNrID0gdGhpcy52aWRlb1RyYWNrIGFzIFBhc3N0aHJvdWdoVHJhY2s7XG4gICAgY29uc3QgdGV4dFRyYWNrID0gdGhpcy50eHRUcmFjayBhcyBEZW11eGVkVXNlcmRhdGFUcmFjaztcbiAgICBpZiAodGhpcy5jb25maWcucHJvZ3Jlc3NpdmUpIHtcbiAgICAgIC8vIFNwbGl0IHRoZSBieXRlc3RyZWFtIGludG8gdHdvIHJhbmdlczogb25lIGVuY29tcGFzc2luZyBhbGwgZGF0YSB1cCB1bnRpbCB0aGUgc3RhcnQgb2YgdGhlIGxhc3QgbW9vZiwgYW5kIGV2ZXJ5dGhpbmcgZWxzZS5cbiAgICAgIC8vIFRoaXMgaXMgZG9uZSB0byBndWFyYW50ZWUgdGhhdCB3ZSdyZSBzZW5kaW5nIHZhbGlkIGRhdGEgdG8gTVNFIC0gd2hlbiBkZW11eGluZyBwcm9ncmVzc2l2ZWx5LCB3ZSBoYXZlIG5vIGd1YXJhbnRlZVxuICAgICAgLy8gdGhhdCB0aGUgZmV0Y2ggbG9hZGVyIGdpdmVzIHVzIGZsdXNoIG1vb2YrbWRhdCBwYWlycy4gSWYgd2UgcHVzaCBqYWdnZWQgZGF0YSB0byBNU0UsIGl0IHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uLlxuICAgICAgaWYgKHRoaXMucmVtYWluZGVyRGF0YSkge1xuICAgICAgICB2aWRlb1NhbXBsZXMgPSBhcHBlbmRVaW50OEFycmF5KHRoaXMucmVtYWluZGVyRGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50ZWREYXRhID0gc2VnbWVudFZhbGlkUmFuZ2UodmlkZW9TYW1wbGVzKTtcbiAgICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IHNlZ21lbnRlZERhdGEucmVtYWluZGVyO1xuICAgICAgdmlkZW9UcmFjay5zYW1wbGVzID0gc2VnbWVudGVkRGF0YS52YWxpZCB8fCBuZXcgVWludDhBcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWRlb1RyYWNrLnNhbXBsZXMgPSB2aWRlb1NhbXBsZXM7XG4gICAgfVxuXG4gICAgY29uc3QgaWQzVHJhY2sgPSB0aGlzLmV4dHJhY3RJRDNUcmFjayh2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICB0ZXh0VHJhY2suc2FtcGxlcyA9IHBhcnNlU2FtcGxlcyh0aW1lT2Zmc2V0LCB2aWRlb1RyYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICB2aWRlb1RyYWNrLFxuICAgICAgYXVkaW9UcmFjazogdGhpcy5hdWRpb1RyYWNrIGFzIERlbXV4ZWRBdWRpb1RyYWNrLFxuICAgICAgaWQzVHJhY2ssXG4gICAgICB0ZXh0VHJhY2s6IHRoaXMudHh0VHJhY2sgYXMgRGVtdXhlZFVzZXJkYXRhVHJhY2ssXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaCgpIHtcbiAgICBjb25zdCB0aW1lT2Zmc2V0ID0gdGhpcy50aW1lT2Zmc2V0O1xuICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0aGlzLnZpZGVvVHJhY2sgYXMgUGFzc3Rocm91Z2hUcmFjaztcbiAgICBjb25zdCB0ZXh0VHJhY2sgPSB0aGlzLnR4dFRyYWNrIGFzIERlbXV4ZWRVc2VyZGF0YVRyYWNrO1xuICAgIHZpZGVvVHJhY2suc2FtcGxlcyA9IHRoaXMucmVtYWluZGVyRGF0YSB8fCBuZXcgVWludDhBcnJheSgpO1xuICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IG51bGw7XG5cbiAgICBjb25zdCBpZDNUcmFjayA9IHRoaXMuZXh0cmFjdElEM1RyYWNrKHZpZGVvVHJhY2ssIHRoaXMudGltZU9mZnNldCk7XG4gICAgdGV4dFRyYWNrLnNhbXBsZXMgPSBwYXJzZVNhbXBsZXModGltZU9mZnNldCwgdmlkZW9UcmFjayk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlkZW9UcmFjayxcbiAgICAgIGF1ZGlvVHJhY2s6IGR1bW15VHJhY2soKSBhcyBEZW11eGVkQXVkaW9UcmFjayxcbiAgICAgIGlkM1RyYWNrLFxuICAgICAgdGV4dFRyYWNrOiBkdW1teVRyYWNrKCkgYXMgRGVtdXhlZFVzZXJkYXRhVHJhY2ssXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdElEM1RyYWNrKFxuICAgIHZpZGVvVHJhY2s6IFBhc3N0aHJvdWdoVHJhY2ssXG4gICAgdGltZU9mZnNldDogbnVtYmVyLFxuICApOiBEZW11eGVkTWV0YWRhdGFUcmFjayB7XG4gICAgY29uc3QgaWQzVHJhY2sgPSB0aGlzLmlkM1RyYWNrIGFzIERlbXV4ZWRNZXRhZGF0YVRyYWNrO1xuICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBlbXNncyA9IGZpbmRCb3godmlkZW9UcmFjay5zYW1wbGVzLCBbJ2Vtc2cnXSk7XG4gICAgICBpZiAoZW1zZ3MpIHtcbiAgICAgICAgZW1zZ3MuZm9yRWFjaCgoZGF0YTogVWludDhBcnJheSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVtc2dJbmZvID0gcGFyc2VFbXNnKGRhdGEpO1xuICAgICAgICAgIGlmIChlbXNnU2NoZW1lUGF0dGVybi50ZXN0KGVtc2dJbmZvLnNjaGVtZUlkVXJpKSkge1xuICAgICAgICAgICAgY29uc3QgcHRzID0gTnVtYmVyLmlzRmluaXRlKGVtc2dJbmZvLnByZXNlbnRhdGlvblRpbWUpXG4gICAgICAgICAgICAgID8gZW1zZ0luZm8ucHJlc2VudGF0aW9uVGltZSEgLyBlbXNnSW5mby50aW1lU2NhbGVcbiAgICAgICAgICAgICAgOiB0aW1lT2Zmc2V0ICtcbiAgICAgICAgICAgICAgICBlbXNnSW5mby5wcmVzZW50YXRpb25UaW1lRGVsdGEhIC8gZW1zZ0luZm8udGltZVNjYWxlO1xuICAgICAgICAgICAgbGV0IGR1cmF0aW9uID1cbiAgICAgICAgICAgICAgZW1zZ0luZm8uZXZlbnREdXJhdGlvbiA9PT0gMHhmZmZmZmZmZlxuICAgICAgICAgICAgICAgID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgICAgICAgICAgICAgOiBlbXNnSW5mby5ldmVudER1cmF0aW9uIC8gZW1zZ0luZm8udGltZVNjYWxlO1xuICAgICAgICAgICAgLy8gU2FmYXJpIHRha2VzIGFueXRoaW5nIDw9IDAuMDAxIHNlY29uZHMgYW5kIG1hcHMgaXQgdG8gSW5maW5pdHlcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiA8PSAwLjAwMSkge1xuICAgICAgICAgICAgICBkdXJhdGlvbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBlbXNnSW5mby5wYXlsb2FkO1xuICAgICAgICAgICAgaWQzVHJhY2suc2FtcGxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcbiAgICAgICAgICAgICAgbGVuOiBwYXlsb2FkLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgIGR0czogcHRzLFxuICAgICAgICAgICAgICBwdHM6IHB0cyxcbiAgICAgICAgICAgICAgdHlwZTogTWV0YWRhdGFTY2hlbWEuZW1zZyxcbiAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlkM1RyYWNrO1xuICB9XG5cbiAgZGVtdXhTYW1wbGVBZXMoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICBrZXlEYXRhOiBLZXlEYXRhLFxuICAgIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgKTogUHJvbWlzZTxEZW11eGVyUmVzdWx0PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEVycm9yKCdUaGUgTVA0IGRlbXV4ZXIgZG9lcyBub3Qgc3VwcG9ydCBTQU1QTEUtQUVTIGRlY3J5cHRpb24nKSxcbiAgICApO1xuICB9XG5cbiAgZGVzdHJveSgpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1QNERlbXV4ZXI7XG4iLCAiZXhwb3J0IGNvbnN0IGdldEF1ZGlvQlNJRCA9IChkYXRhOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIC8vIGNoZWNrIHRoZSBic2lkIHRvIGNvbmZpcm0gYWMtMyB8IGVjLTNcbiAgbGV0IGJzaWQgPSAwO1xuICBsZXQgbnVtQml0cyA9IDU7XG4gIG9mZnNldCArPSBudW1CaXRzO1xuICBjb25zdCB0ZW1wID0gbmV3IFVpbnQzMkFycmF5KDEpOyAvLyB1bnNpZ25lZCAzMiBiaXQgZm9yIHRlbXBvcmFyeSBzdG9yYWdlXG4gIGNvbnN0IG1hc2sgPSBuZXcgVWludDMyQXJyYXkoMSk7IC8vIHVuc2lnbmVkIDMyIGJpdCBtYXNrIHZhbHVlXG4gIGNvbnN0IGJ5dGUgPSBuZXcgVWludDhBcnJheSgxKTsgLy8gdW5zaWduZWQgOCBiaXQgZm9yIHRlbXBvcmFyeSBzdG9yYWdlXG4gIHdoaWxlIChudW1CaXRzID4gMCkge1xuICAgIGJ5dGVbMF0gPSBkYXRhW29mZnNldF07XG4gICAgLy8gcmVhZCByZW1haW5pbmcgYml0cywgdXB0byA4IGJpdHMgYXQgYSB0aW1lXG4gICAgY29uc3QgYml0cyA9IE1hdGgubWluKG51bUJpdHMsIDgpO1xuICAgIGNvbnN0IHNoaWZ0ID0gOCAtIGJpdHM7XG4gICAgbWFza1swXSA9ICgweGZmMDAwMDAwID4+PiAoMjQgKyBzaGlmdCkpIDw8IHNoaWZ0O1xuICAgIHRlbXBbMF0gPSAoYnl0ZVswXSAmIG1hc2tbMF0pID4+IHNoaWZ0O1xuICAgIGJzaWQgPSAhYnNpZCA/IHRlbXBbMF0gOiAoYnNpZCA8PCBiaXRzKSB8IHRlbXBbMF07XG4gICAgb2Zmc2V0ICs9IDE7XG4gICAgbnVtQml0cyAtPSBiaXRzO1xuICB9XG4gIHJldHVybiBic2lkO1xufTtcbiIsICJpbXBvcnQgQmFzZUF1ZGlvRGVtdXhlciBmcm9tICcuL2Jhc2UtYXVkaW8tZGVtdXhlcic7XG5pbXBvcnQgeyBnZXRJRDNEYXRhLCBnZXRUaW1lU3RhbXAgfSBmcm9tICcuLi9pZDMnO1xuaW1wb3J0IHsgZ2V0QXVkaW9CU0lEIH0gZnJvbSAnLi9kb2xieSc7XG5pbXBvcnQgdHlwZSB7IEhsc0V2ZW50RW1pdHRlciB9IGZyb20gJy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IEF1ZGlvRnJhbWUsIERlbXV4ZWRBdWRpb1RyYWNrIH0gZnJvbSAnLi4vLi4vdHlwZXMvZGVtdXhlcic7XG5cbmV4cG9ydCBjbGFzcyBBQzNEZW11eGVyIGV4dGVuZHMgQmFzZUF1ZGlvRGVtdXhlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihvYnNlcnZlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICB9XG5cbiAgcmVzZXRJbml0U2VnbWVudChcbiAgICBpbml0U2VnbWVudDogVWludDhBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBhdWRpb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdmlkZW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrRHVyYXRpb246IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIucmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdHJhY2tEdXJhdGlvbik7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IHtcbiAgICAgIGNvbnRhaW5lcjogJ2F1ZGlvL2FjLTMnLFxuICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgIGlkOiAyLFxuICAgICAgcGlkOiAtMSxcbiAgICAgIHNlcXVlbmNlTnVtYmVyOiAwLFxuICAgICAgc2VnbWVudENvZGVjOiAnYWMzJyxcbiAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgbWFuaWZlc3RDb2RlYzogYXVkaW9Db2RlYyxcbiAgICAgIGR1cmF0aW9uOiB0cmFja0R1cmF0aW9uLFxuICAgICAgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLFxuICAgICAgZHJvcHBlZDogMCxcbiAgICB9O1xuICB9XG5cbiAgY2FuUGFyc2UoZGF0YTogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gb2Zmc2V0ICsgNjQgPCBkYXRhLmxlbmd0aDtcbiAgfVxuXG4gIGFwcGVuZEZyYW1lKFxuICAgIHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgICBkYXRhOiBVaW50OEFycmF5LFxuICAgIG9mZnNldDogbnVtYmVyLFxuICApOiBBdWRpb0ZyYW1lIHwgdm9pZCB7XG4gICAgY29uc3QgZnJhbWVMZW5ndGggPSBhcHBlbmRGcmFtZShcbiAgICAgIHRyYWNrLFxuICAgICAgZGF0YSxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRoaXMuYmFzZVBUUyBhcyBudW1iZXIsXG4gICAgICB0aGlzLmZyYW1lSW5kZXgsXG4gICAgKTtcbiAgICBpZiAoZnJhbWVMZW5ndGggIT09IC0xKSB7XG4gICAgICBjb25zdCBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW3RyYWNrLnNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICByZXR1cm4geyBzYW1wbGUsIGxlbmd0aDogZnJhbWVMZW5ndGgsIG1pc3Npbmc6IDAgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcHJvYmUoZGF0YTogVWludDhBcnJheSB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGlkM0RhdGEgPSBnZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgIGlmICghaWQzRGF0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHRoZSBhYy0zIHN5bmMgYnl0ZXNcbiAgICBjb25zdCBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcbiAgICBpZiAoXG4gICAgICBkYXRhW29mZnNldF0gPT09IDB4MGIgJiZcbiAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPT09IDB4NzcgJiZcbiAgICAgIGdldFRpbWVTdGFtcChpZDNEYXRhKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAvLyBjaGVjayB0aGUgYnNpZCB0byBjb25maXJtIGFjLTNcbiAgICAgIGdldEF1ZGlvQlNJRChkYXRhLCBvZmZzZXQpIDwgMTZcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZyYW1lKFxuICB0cmFjazogRGVtdXhlZEF1ZGlvVHJhY2ssXG4gIGRhdGE6IFVpbnQ4QXJyYXksXG4gIHN0YXJ0OiBudW1iZXIsXG4gIHB0czogbnVtYmVyLFxuICBmcmFtZUluZGV4OiBudW1iZXIsXG4pOiBudW1iZXIge1xuICBpZiAoc3RhcnQgKyA4ID4gZGF0YS5sZW5ndGgpIHtcbiAgICByZXR1cm4gLTE7IC8vIG5vdCBlbm91Z2ggYnl0ZXMgbGVmdFxuICB9XG5cbiAgaWYgKGRhdGFbc3RhcnRdICE9PSAweDBiIHx8IGRhdGFbc3RhcnQgKyAxXSAhPT0gMHg3Nykge1xuICAgIHJldHVybiAtMTsgLy8gaW52YWxpZCBtYWdpY1xuICB9XG5cbiAgLy8gZ2V0IHNhbXBsZSByYXRlXG4gIGNvbnN0IHNhbXBsaW5nUmF0ZUNvZGUgPSBkYXRhW3N0YXJ0ICsgNF0gPj4gNjtcbiAgaWYgKHNhbXBsaW5nUmF0ZUNvZGUgPj0gMykge1xuICAgIHJldHVybiAtMTsgLy8gaW52YWxpZCBzYW1wbGluZyByYXRlXG4gIH1cblxuICBjb25zdCBzYW1wbGluZ1JhdGVNYXAgPSBbNDgwMDAsIDQ0MTAwLCAzMjAwMF07XG4gIGNvbnN0IHNhbXBsZVJhdGUgPSBzYW1wbGluZ1JhdGVNYXBbc2FtcGxpbmdSYXRlQ29kZV07XG5cbiAgLy8gZ2V0IGZyYW1lIHNpemVcbiAgY29uc3QgZnJhbWVTaXplQ29kZSA9IGRhdGFbc3RhcnQgKyA0XSAmIDB4M2Y7XG4gIGNvbnN0IGZyYW1lU2l6ZU1hcCA9IFtcbiAgICA2NCwgNjksIDk2LCA2NCwgNzAsIDk2LCA4MCwgODcsIDEyMCwgODAsIDg4LCAxMjAsIDk2LCAxMDQsIDE0NCwgOTYsIDEwNSxcbiAgICAxNDQsIDExMiwgMTIxLCAxNjgsIDExMiwgMTIyLCAxNjgsIDEyOCwgMTM5LCAxOTIsIDEyOCwgMTQwLCAxOTIsIDE2MCwgMTc0LFxuICAgIDI0MCwgMTYwLCAxNzUsIDI0MCwgMTkyLCAyMDgsIDI4OCwgMTkyLCAyMDksIDI4OCwgMjI0LCAyNDMsIDMzNiwgMjI0LCAyNDQsXG4gICAgMzM2LCAyNTYsIDI3OCwgMzg0LCAyNTYsIDI3OSwgMzg0LCAzMjAsIDM0OCwgNDgwLCAzMjAsIDM0OSwgNDgwLCAzODQsIDQxNyxcbiAgICA1NzYsIDM4NCwgNDE4LCA1NzYsIDQ0OCwgNDg3LCA2NzIsIDQ0OCwgNDg4LCA2NzIsIDUxMiwgNTU3LCA3NjgsIDUxMiwgNTU4LFxuICAgIDc2OCwgNjQwLCA2OTYsIDk2MCwgNjQwLCA2OTcsIDk2MCwgNzY4LCA4MzUsIDExNTIsIDc2OCwgODM2LCAxMTUyLCA4OTYsIDk3NSxcbiAgICAxMzQ0LCA4OTYsIDk3NiwgMTM0NCwgMTAyNCwgMTExNCwgMTUzNiwgMTAyNCwgMTExNSwgMTUzNiwgMTE1MiwgMTI1MywgMTcyOCxcbiAgICAxMTUyLCAxMjU0LCAxNzI4LCAxMjgwLCAxMzkzLCAxOTIwLCAxMjgwLCAxMzk0LCAxOTIwLFxuICBdO1xuXG4gIGNvbnN0IGZyYW1lTGVuZ3RoID0gZnJhbWVTaXplTWFwW2ZyYW1lU2l6ZUNvZGUgKiAzICsgc2FtcGxpbmdSYXRlQ29kZV0gKiAyO1xuICBpZiAoc3RhcnQgKyBmcmFtZUxlbmd0aCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLy8gZ2V0IGNoYW5uZWwgY291bnRcbiAgY29uc3QgY2hhbm5lbE1vZGUgPSBkYXRhW3N0YXJ0ICsgNl0gPj4gNTtcbiAgbGV0IHNraXBDb3VudCA9IDA7XG4gIGlmIChjaGFubmVsTW9kZSA9PT0gMikge1xuICAgIHNraXBDb3VudCArPSAyO1xuICB9IGVsc2Uge1xuICAgIGlmIChjaGFubmVsTW9kZSAmIDEgJiYgY2hhbm5lbE1vZGUgIT09IDEpIHtcbiAgICAgIHNraXBDb3VudCArPSAyO1xuICAgIH1cbiAgICBpZiAoY2hhbm5lbE1vZGUgJiA0KSB7XG4gICAgICBza2lwQ291bnQgKz0gMjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBsZmVvbiA9XG4gICAgKCgoZGF0YVtzdGFydCArIDZdIDw8IDgpIHwgZGF0YVtzdGFydCArIDddKSA+PiAoMTIgLSBza2lwQ291bnQpKSAmIDE7XG5cbiAgY29uc3QgY2hhbm5lbHNNYXAgPSBbMiwgMSwgMiwgMywgMywgNCwgNCwgNV07XG4gIGNvbnN0IGNoYW5uZWxDb3VudCA9IGNoYW5uZWxzTWFwW2NoYW5uZWxNb2RlXSArIGxmZW9uO1xuXG4gIC8vIGJ1aWxkIGRhYzMgYm94XG4gIGNvbnN0IGJzaWQgPSBkYXRhW3N0YXJ0ICsgNV0gPj4gMztcbiAgY29uc3QgYnNtb2QgPSBkYXRhW3N0YXJ0ICsgNV0gJiA3O1xuXG4gIGNvbnN0IGNvbmZpZyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAoc2FtcGxpbmdSYXRlQ29kZSA8PCA2KSB8IChic2lkIDw8IDEpIHwgKGJzbW9kID4+IDIpLFxuICAgICgoYnNtb2QgJiAzKSA8PCA2KSB8XG4gICAgICAoY2hhbm5lbE1vZGUgPDwgMykgfFxuICAgICAgKGxmZW9uIDw8IDIpIHxcbiAgICAgIChmcmFtZVNpemVDb2RlID4+IDQpLFxuICAgIChmcmFtZVNpemVDb2RlIDw8IDQpICYgMHhlMCxcbiAgXSk7XG5cbiAgY29uc3QgZnJhbWVEdXJhdGlvbiA9ICgxNTM2IC8gc2FtcGxlUmF0ZSkgKiA5MDAwMDtcbiAgY29uc3Qgc3RhbXAgPSBwdHMgKyBmcmFtZUluZGV4ICogZnJhbWVEdXJhdGlvbjtcbiAgY29uc3QgdW5pdCA9IGRhdGEuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgZnJhbWVMZW5ndGgpO1xuXG4gIHRyYWNrLmNvbmZpZyA9IGNvbmZpZztcbiAgdHJhY2suY2hhbm5lbENvdW50ID0gY2hhbm5lbENvdW50O1xuICB0cmFjay5zYW1wbGVyYXRlID0gc2FtcGxlUmF0ZTtcbiAgdHJhY2suc2FtcGxlcy5wdXNoKHsgdW5pdCwgcHRzOiBzdGFtcCB9KTtcblxuICByZXR1cm4gZnJhbWVMZW5ndGg7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQYXJzZWRWaWRlb1NhbXBsZSB9IGZyb20gJy4uL3RzZGVtdXhlcic7XG5pbXBvcnQge1xuICBEZW11eGVkVmlkZW9UcmFjayxcbiAgVmlkZW9TYW1wbGUsXG4gIFZpZGVvU2FtcGxlVW5pdCxcbn0gZnJvbSAnLi4vLi4vdHlwZXMvZGVtdXhlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnZXInO1xuXG5jbGFzcyBCYXNlVmlkZW9QYXJzZXIge1xuICBwcm90ZWN0ZWQgVmlkZW9TYW1wbGU6IFBhcnNlZFZpZGVvU2FtcGxlIHwgbnVsbCA9IG51bGw7XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVZpZGVvU2FtcGxlKFxuICAgIGtleTogYm9vbGVhbixcbiAgICBwdHM6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgICBkdHM6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgICBkZWJ1Zzogc3RyaW5nLFxuICApOiBQYXJzZWRWaWRlb1NhbXBsZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleSxcbiAgICAgIGZyYW1lOiBmYWxzZSxcbiAgICAgIHB0cyxcbiAgICAgIGR0cyxcbiAgICAgIHVuaXRzOiBbXSxcbiAgICAgIGRlYnVnLFxuICAgICAgbGVuZ3RoOiAwLFxuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TGFzdE5hbFVuaXQoXG4gICAgc2FtcGxlczogVmlkZW9TYW1wbGVbXSxcbiAgKTogVmlkZW9TYW1wbGVVbml0IHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgVmlkZW9TYW1wbGUgPSB0aGlzLlZpZGVvU2FtcGxlO1xuICAgIGxldCBsYXN0VW5pdDogVmlkZW9TYW1wbGVVbml0IHwgdW5kZWZpbmVkO1xuICAgIC8vIHRyeSB0byBmYWxsYmFjayB0byBwcmV2aW91cyBzYW1wbGUgaWYgY3VycmVudCBvbmUgaXMgZW1wdHlcbiAgICBpZiAoIVZpZGVvU2FtcGxlIHx8IFZpZGVvU2FtcGxlLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgVmlkZW9TYW1wbGUgPSBzYW1wbGVzW3NhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGlmIChWaWRlb1NhbXBsZT8udW5pdHMpIHtcbiAgICAgIGNvbnN0IHVuaXRzID0gVmlkZW9TYW1wbGUudW5pdHM7XG4gICAgICBsYXN0VW5pdCA9IHVuaXRzW3VuaXRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdFVuaXQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHVzaEFjY2Vzc1VuaXQoXG4gICAgVmlkZW9TYW1wbGU6IFBhcnNlZFZpZGVvU2FtcGxlLFxuICAgIHZpZGVvVHJhY2s6IERlbXV4ZWRWaWRlb1RyYWNrLFxuICApIHtcbiAgICBpZiAoVmlkZW9TYW1wbGUudW5pdHMubGVuZ3RoICYmIFZpZGVvU2FtcGxlLmZyYW1lKSB7XG4gICAgICAvLyBpZiBzYW1wbGUgZG9lcyBub3QgaGF2ZSBQVFMvRFRTLCBwYXRjaCB3aXRoIGxhc3Qgc2FtcGxlIFBUUy9EVFNcbiAgICAgIGlmIChWaWRlb1NhbXBsZS5wdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gdmlkZW9UcmFjay5zYW1wbGVzO1xuICAgICAgICBjb25zdCBuYlNhbXBsZXMgPSBzYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKG5iU2FtcGxlcykge1xuICAgICAgICAgIGNvbnN0IGxhc3RTYW1wbGUgPSBzYW1wbGVzW25iU2FtcGxlcyAtIDFdO1xuICAgICAgICAgIFZpZGVvU2FtcGxlLnB0cyA9IGxhc3RTYW1wbGUucHRzO1xuICAgICAgICAgIFZpZGVvU2FtcGxlLmR0cyA9IGxhc3RTYW1wbGUuZHRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRyb3BwaW5nIHNhbXBsZXMsIG5vIHRpbWVzdGFtcCBmb3VuZFxuICAgICAgICAgIHZpZGVvVHJhY2suZHJvcHBlZCsrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmlkZW9UcmFjay5zYW1wbGVzLnB1c2goVmlkZW9TYW1wbGUgYXMgVmlkZW9TYW1wbGUpO1xuICAgIH1cbiAgICBpZiAoVmlkZW9TYW1wbGUuZGVidWcubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFxuICAgICAgICBWaWRlb1NhbXBsZS5wdHMgKyAnLycgKyBWaWRlb1NhbXBsZS5kdHMgKyAnOicgKyBWaWRlb1NhbXBsZS5kZWJ1ZyxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VWaWRlb1BhcnNlcjtcbiIsICIvKipcbiAqIFBhcnNlciBmb3IgZXhwb25lbnRpYWwgR29sb21iIGNvZGVzLCBhIHZhcmlhYmxlLWJpdHdpZHRoIG51bWJlciBlbmNvZGluZyBzY2hlbWUgdXNlZCBieSBoMjY0LlxuICovXG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dlcic7XG5cbmNsYXNzIEV4cEdvbG9tYiB7XG4gIHByaXZhdGUgZGF0YTogVWludDhBcnJheTtcbiAgcHVibGljIGJ5dGVzQXZhaWxhYmxlOiBudW1iZXI7XG4gIHByaXZhdGUgd29yZDogbnVtYmVyO1xuICBwcml2YXRlIGJpdHNBdmFpbGFibGU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBVaW50OEFycmF5KSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAvLyB0aGUgbnVtYmVyIG9mIGJ5dGVzIGxlZnQgdG8gZXhhbWluZSBpbiB0aGlzLmRhdGFcbiAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgIC8vIHRoZSBjdXJyZW50IHdvcmQgYmVpbmcgZXhhbWluZWRcbiAgICB0aGlzLndvcmQgPSAwOyAvLyA6dWludFxuICAgIC8vIHRoZSBudW1iZXIgb2YgYml0cyBsZWZ0IHRvIGV4YW1pbmUgaW4gdGhlIGN1cnJlbnQgd29yZFxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IDA7IC8vIDp1aW50XG4gIH1cblxuICAvLyAoKTp2b2lkXG4gIGxvYWRXb3JkKCk6IHZvaWQge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgYnl0ZXNBdmFpbGFibGUgPSB0aGlzLmJ5dGVzQXZhaWxhYmxlO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gZGF0YS5ieXRlTGVuZ3RoIC0gYnl0ZXNBdmFpbGFibGU7XG4gICAgY29uc3Qgd29ya2luZ0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgY29uc3QgYXZhaWxhYmxlQnl0ZXMgPSBNYXRoLm1pbig0LCBieXRlc0F2YWlsYWJsZSk7XG4gICAgaWYgKGF2YWlsYWJsZUJ5dGVzID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJ5dGVzIGF2YWlsYWJsZScpO1xuICAgIH1cblxuICAgIHdvcmtpbmdCeXRlcy5zZXQoZGF0YS5zdWJhcnJheShwb3NpdGlvbiwgcG9zaXRpb24gKyBhdmFpbGFibGVCeXRlcykpO1xuICAgIHRoaXMud29yZCA9IG5ldyBEYXRhVmlldyh3b3JraW5nQnl0ZXMuYnVmZmVyKS5nZXRVaW50MzIoMCk7XG4gICAgLy8gdHJhY2sgdGhlIGFtb3VudCBvZiB0aGlzLmRhdGEgdGhhdCBoYXMgYmVlbiBwcm9jZXNzZWRcbiAgICB0aGlzLmJpdHNBdmFpbGFibGUgPSBhdmFpbGFibGVCeXRlcyAqIDg7XG4gICAgdGhpcy5ieXRlc0F2YWlsYWJsZSAtPSBhdmFpbGFibGVCeXRlcztcbiAgfVxuXG4gIC8vIChjb3VudDppbnQpOnZvaWRcbiAgc2tpcEJpdHMoY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGxldCBza2lwQnl0ZXM7IC8vIDppbnRcbiAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCB0aGlzLmJ5dGVzQXZhaWxhYmxlICogOCArIHRoaXMuYml0c0F2YWlsYWJsZSk7XG4gICAgaWYgKHRoaXMuYml0c0F2YWlsYWJsZSA+IGNvdW50KSB7XG4gICAgICB0aGlzLndvcmQgPDw9IGNvdW50O1xuICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGNvdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCAtPSB0aGlzLmJpdHNBdmFpbGFibGU7XG4gICAgICBza2lwQnl0ZXMgPSBjb3VudCA+PiAzO1xuICAgICAgY291bnQgLT0gc2tpcEJ5dGVzIDw8IDM7XG4gICAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlIC09IHNraXBCeXRlcztcbiAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICAgIHRoaXMud29yZCA8PD0gY291bnQ7XG4gICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gY291bnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gKHNpemU6aW50KTp1aW50XG4gIHJlYWRCaXRzKHNpemU6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGJpdHMgPSBNYXRoLm1pbih0aGlzLmJpdHNBdmFpbGFibGUsIHNpemUpOyAvLyA6dWludFxuICAgIGNvbnN0IHZhbHUgPSB0aGlzLndvcmQgPj4+ICgzMiAtIGJpdHMpOyAvLyA6dWludFxuICAgIGlmIChzaXplID4gMzIpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignQ2Fubm90IHJlYWQgbW9yZSB0aGFuIDMyIGJpdHMgYXQgYSB0aW1lJyk7XG4gICAgfVxuXG4gICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGJpdHM7XG4gICAgaWYgKHRoaXMuYml0c0F2YWlsYWJsZSA+IDApIHtcbiAgICAgIHRoaXMud29yZCA8PD0gYml0cztcbiAgICB9IGVsc2UgaWYgKHRoaXMuYnl0ZXNBdmFpbGFibGUgPiAwKSB7XG4gICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm8gYml0cyBhdmFpbGFibGUnKTtcbiAgICB9XG5cbiAgICBiaXRzID0gc2l6ZSAtIGJpdHM7XG4gICAgaWYgKGJpdHMgPiAwICYmIHRoaXMuYml0c0F2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuICh2YWx1IDw8IGJpdHMpIHwgdGhpcy5yZWFkQml0cyhiaXRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHU7XG4gICAgfVxuICB9XG5cbiAgLy8gKCk6dWludFxuICBza2lwTFooKTogbnVtYmVyIHtcbiAgICBsZXQgbGVhZGluZ1plcm9Db3VudDsgLy8gOnVpbnRcbiAgICBmb3IgKFxuICAgICAgbGVhZGluZ1plcm9Db3VudCA9IDA7XG4gICAgICBsZWFkaW5nWmVyb0NvdW50IDwgdGhpcy5iaXRzQXZhaWxhYmxlO1xuICAgICAgKytsZWFkaW5nWmVyb0NvdW50XG4gICAgKSB7XG4gICAgICBpZiAoKHRoaXMud29yZCAmICgweDgwMDAwMDAwID4+PiBsZWFkaW5nWmVyb0NvdW50KSkgIT09IDApIHtcbiAgICAgICAgLy8gdGhlIGZpcnN0IGJpdCBvZiB3b3JraW5nIHdvcmQgaXMgMVxuICAgICAgICB0aGlzLndvcmQgPDw9IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICByZXR1cm4gbGVhZGluZ1plcm9Db3VudDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gd2UgZXhoYXVzdGVkIHdvcmQgYW5kIHN0aWxsIGhhdmUgbm90IGZvdW5kIGEgMVxuICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICByZXR1cm4gbGVhZGluZ1plcm9Db3VudCArIHRoaXMuc2tpcExaKCk7XG4gIH1cblxuICAvLyAoKTp2b2lkXG4gIHNraXBVRUcoKTogdm9pZCB7XG4gICAgdGhpcy5za2lwQml0cygxICsgdGhpcy5za2lwTFooKSk7XG4gIH1cblxuICAvLyAoKTp2b2lkXG4gIHNraXBFRygpOiB2b2lkIHtcbiAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgfVxuXG4gIC8vICgpOnVpbnRcbiAgcmVhZFVFRygpOiBudW1iZXIge1xuICAgIGNvbnN0IGNseiA9IHRoaXMuc2tpcExaKCk7IC8vIDp1aW50XG4gICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoY2x6ICsgMSkgLSAxO1xuICB9XG5cbiAgLy8gKCk6aW50XG4gIHJlYWRFRygpOiBudW1iZXIge1xuICAgIGNvbnN0IHZhbHUgPSB0aGlzLnJlYWRVRUcoKTsgLy8gOmludFxuICAgIGlmICgweDAxICYgdmFsdSkge1xuICAgICAgLy8gdGhlIG51bWJlciBpcyBvZGQgaWYgdGhlIGxvdyBvcmRlciBiaXQgaXMgc2V0XG4gICAgICByZXR1cm4gKDEgKyB2YWx1KSA+Pj4gMTsgLy8gYWRkIDEgdG8gbWFrZSBpdCBldmVuLCBhbmQgZGl2aWRlIGJ5IDJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC0xICogKHZhbHUgPj4+IDEpOyAvLyBkaXZpZGUgYnkgdHdvIHRoZW4gbWFrZSBpdCBuZWdhdGl2ZVxuICAgIH1cbiAgfVxuXG4gIC8vIFNvbWUgY29udmVuaWVuY2UgZnVuY3Rpb25zXG4gIC8vIDpCb29sZWFuXG4gIHJlYWRCb29sZWFuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDEpID09PSAxO1xuICB9XG5cbiAgLy8gKCk6aW50XG4gIHJlYWRVQnl0ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDgpO1xuICB9XG5cbiAgLy8gKCk6aW50XG4gIHJlYWRVU2hvcnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxNik7XG4gIH1cblxuICAvLyAoKTppbnRcbiAgcmVhZFVJbnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cygzMik7XG4gIH1cblxuICAvKipcbiAgICogQWR2YW5jZSB0aGUgRXhwR29sb21iIGRlY29kZXIgcGFzdCBhIHNjYWxpbmcgbGlzdC4gVGhlIHNjYWxpbmdcbiAgICogbGlzdCBpcyBvcHRpb25hbGx5IHRyYW5zbWl0dGVkIGFzIHBhcnQgb2YgYSBzZXF1ZW5jZSBwYXJhbWV0ZXJcbiAgICogc2V0IGFuZCBpcyBub3QgcmVsZXZhbnQgdG8gdHJhbnNtdXhpbmcuXG4gICAqIEBwYXJhbSBjb3VudCB0aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhpcyBzY2FsaW5nIGxpc3RcbiAgICogQHNlZSBSZWNvbW1lbmRhdGlvbiBJVFUtVCBILjI2NCwgU2VjdGlvbiA3LjMuMi4xLjEuMVxuICAgKi9cbiAgc2tpcFNjYWxpbmdMaXN0KGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICBsZXQgbGFzdFNjYWxlID0gODtcbiAgICBsZXQgbmV4dFNjYWxlID0gODtcbiAgICBsZXQgZGVsdGFTY2FsZTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgIGlmIChuZXh0U2NhbGUgIT09IDApIHtcbiAgICAgICAgZGVsdGFTY2FsZSA9IHRoaXMucmVhZEVHKCk7XG4gICAgICAgIG5leHRTY2FsZSA9IChsYXN0U2NhbGUgKyBkZWx0YVNjYWxlICsgMjU2KSAlIDI1NjtcbiAgICAgIH1cbiAgICAgIGxhc3RTY2FsZSA9IG5leHRTY2FsZSA9PT0gMCA/IGxhc3RTY2FsZSA6IG5leHRTY2FsZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBhIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQgYW5kIHJldHVybiBzb21lIGludGVyZXN0aW5nIHZpZGVvXG4gICAqIHByb3BlcnRpZXMuIEEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldCBpcyB0aGUgSDI2NCBtZXRhZGF0YSB0aGF0XG4gICAqIGRlc2NyaWJlcyB0aGUgcHJvcGVydGllcyBvZiB1cGNvbWluZyB2aWRlbyBmcmFtZXMuXG4gICAqIEByZXR1cm5zIGFuIG9iamVjdCB3aXRoIGNvbmZpZ3VyYXRpb24gcGFyc2VkIGZyb20gdGhlXG4gICAqIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQsIGluY2x1ZGluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGVcbiAgICogYXNzb2NpYXRlZCB2aWRlbyBmcmFtZXMuXG4gICAqL1xuICByZWFkU1BTKCk6IHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHBpeGVsUmF0aW86IFtudW1iZXIsIG51bWJlcl07XG4gIH0ge1xuICAgIGxldCBmcmFtZUNyb3BMZWZ0T2Zmc2V0ID0gMDtcbiAgICBsZXQgZnJhbWVDcm9wUmlnaHRPZmZzZXQgPSAwO1xuICAgIGxldCBmcmFtZUNyb3BUb3BPZmZzZXQgPSAwO1xuICAgIGxldCBmcmFtZUNyb3BCb3R0b21PZmZzZXQgPSAwO1xuICAgIGxldCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7XG4gICAgbGV0IHNjYWxpbmdMaXN0Q291bnQ7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcmVhZFVCeXRlID0gdGhpcy5yZWFkVUJ5dGUuYmluZCh0aGlzKTtcbiAgICBjb25zdCByZWFkQml0cyA9IHRoaXMucmVhZEJpdHMuYmluZCh0aGlzKTtcbiAgICBjb25zdCByZWFkVUVHID0gdGhpcy5yZWFkVUVHLmJpbmQodGhpcyk7XG4gICAgY29uc3QgcmVhZEJvb2xlYW4gPSB0aGlzLnJlYWRCb29sZWFuLmJpbmQodGhpcyk7XG4gICAgY29uc3Qgc2tpcEJpdHMgPSB0aGlzLnNraXBCaXRzLmJpbmQodGhpcyk7XG4gICAgY29uc3Qgc2tpcEVHID0gdGhpcy5za2lwRUcuYmluZCh0aGlzKTtcbiAgICBjb25zdCBza2lwVUVHID0gdGhpcy5za2lwVUVHLmJpbmQodGhpcyk7XG4gICAgY29uc3Qgc2tpcFNjYWxpbmdMaXN0ID0gdGhpcy5za2lwU2NhbGluZ0xpc3QuYmluZCh0aGlzKTtcblxuICAgIHJlYWRVQnl0ZSgpO1xuICAgIGNvbnN0IHByb2ZpbGVJZGMgPSByZWFkVUJ5dGUoKTsgLy8gcHJvZmlsZV9pZGNcbiAgICByZWFkQml0cyg1KTsgLy8gcHJvZmlsZUNvbXBhdCBjb25zdHJhaW50X3NldFswLTRdX2ZsYWcsIHUoNSlcbiAgICBza2lwQml0cygzKTsgLy8gcmVzZXJ2ZWRfemVyb18zYml0cyB1KDMpLFxuICAgIHJlYWRVQnl0ZSgpOyAvLyBsZXZlbF9pZGMgdSg4KVxuICAgIHNraXBVRUcoKTsgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcbiAgICAvLyBzb21lIHByb2ZpbGVzIGhhdmUgbW9yZSBvcHRpb25hbCBkYXRhIHdlIGRvbid0IG5lZWRcbiAgICBpZiAoXG4gICAgICBwcm9maWxlSWRjID09PSAxMDAgfHxcbiAgICAgIHByb2ZpbGVJZGMgPT09IDExMCB8fFxuICAgICAgcHJvZmlsZUlkYyA9PT0gMTIyIHx8XG4gICAgICBwcm9maWxlSWRjID09PSAyNDQgfHxcbiAgICAgIHByb2ZpbGVJZGMgPT09IDQ0IHx8XG4gICAgICBwcm9maWxlSWRjID09PSA4MyB8fFxuICAgICAgcHJvZmlsZUlkYyA9PT0gODYgfHxcbiAgICAgIHByb2ZpbGVJZGMgPT09IDExOCB8fFxuICAgICAgcHJvZmlsZUlkYyA9PT0gMTI4XG4gICAgKSB7XG4gICAgICBjb25zdCBjaHJvbWFGb3JtYXRJZGMgPSByZWFkVUVHKCk7XG4gICAgICBpZiAoY2hyb21hRm9ybWF0SWRjID09PSAzKSB7XG4gICAgICAgIHNraXBCaXRzKDEpO1xuICAgICAgfSAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuXG4gICAgICBza2lwVUVHKCk7IC8vIGJpdF9kZXB0aF9sdW1hX21pbnVzOFxuICAgICAgc2tpcFVFRygpOyAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgc2tpcEJpdHMoMSk7IC8vIHFwcHJpbWVfeV96ZXJvX3RyYW5zZm9ybV9ieXBhc3NfZmxhZ1xuICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgLy8gc2VxX3NjYWxpbmdfbWF0cml4X3ByZXNlbnRfZmxhZ1xuICAgICAgICBzY2FsaW5nTGlzdENvdW50ID0gY2hyb21hRm9ybWF0SWRjICE9PSAzID8gOCA6IDEyO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2NhbGluZ0xpc3RDb3VudDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIC8vIHNlcV9zY2FsaW5nX2xpc3RfcHJlc2VudF9mbGFnWyBpIF1cbiAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICBza2lwU2NhbGluZ0xpc3QoMTYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2tpcFNjYWxpbmdMaXN0KDY0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2tpcFVFRygpOyAvLyBsb2cyX21heF9mcmFtZV9udW1fbWludXM0XG4gICAgY29uc3QgcGljT3JkZXJDbnRUeXBlID0gcmVhZFVFRygpO1xuICAgIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDApIHtcbiAgICAgIHJlYWRVRUcoKTsgLy8gbG9nMl9tYXhfcGljX29yZGVyX2NudF9sc2JfbWludXM0XG4gICAgfSBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgIHNraXBCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHJlYWRVRUcoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICBza2lwRUcoKTtcbiAgICAgIH0gLy8gb2Zmc2V0X2Zvcl9yZWZfZnJhbWVbIGkgXVxuICAgIH1cbiAgICBza2lwVUVHKCk7IC8vIG1heF9udW1fcmVmX2ZyYW1lc1xuICAgIHNraXBCaXRzKDEpOyAvLyBnYXBzX2luX2ZyYW1lX251bV92YWx1ZV9hbGxvd2VkX2ZsYWdcbiAgICBjb25zdCBwaWNXaWR0aEluTWJzTWludXMxID0gcmVhZFVFRygpO1xuICAgIGNvbnN0IHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEgPSByZWFkVUVHKCk7XG4gICAgY29uc3QgZnJhbWVNYnNPbmx5RmxhZyA9IHJlYWRCaXRzKDEpO1xuICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICBza2lwQml0cygxKTtcbiAgICB9IC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcblxuICAgIHNraXBCaXRzKDEpOyAvLyBkaXJlY3RfOHg4X2luZmVyZW5jZV9mbGFnXG4gICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgIC8vIGZyYW1lX2Nyb3BwaW5nX2ZsYWdcbiAgICAgIGZyYW1lQ3JvcExlZnRPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICBmcmFtZUNyb3BSaWdodE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICB9XG4gICAgbGV0IHBpeGVsUmF0aW86IFtudW1iZXIsIG51bWJlcl0gPSBbMSwgMV07XG4gICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgIC8vIHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZ1xuICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgLy8gYXNwZWN0X3JhdGlvX2luZm9fcHJlc2VudF9mbGFnXG4gICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvSWRjID0gcmVhZFVCeXRlKCk7XG4gICAgICAgIHN3aXRjaCAoYXNwZWN0UmF0aW9JZGMpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzEsIDFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMiwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMCwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNiwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0MCwgMzNdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyNCwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyMCwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszMiwgMTFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs4MCwgMzNdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTgsIDExXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE1LCAxMV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs2NCwgMzNdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTYwLCA5OV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0LCAzXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzMsIDJdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMiwgMV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI1NToge1xuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFtcbiAgICAgICAgICAgICAgKHJlYWRVQnl0ZSgpIDw8IDgpIHwgcmVhZFVCeXRlKCksXG4gICAgICAgICAgICAgIChyZWFkVUJ5dGUoKSA8PCA4KSB8IHJlYWRVQnl0ZSgpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IE1hdGguY2VpbChcbiAgICAgICAgKHBpY1dpZHRoSW5NYnNNaW51czEgKyAxKSAqIDE2IC1cbiAgICAgICAgICBmcmFtZUNyb3BMZWZ0T2Zmc2V0ICogMiAtXG4gICAgICAgICAgZnJhbWVDcm9wUmlnaHRPZmZzZXQgKiAyLFxuICAgICAgKSxcbiAgICAgIGhlaWdodDpcbiAgICAgICAgKDIgLSBmcmFtZU1ic09ubHlGbGFnKSAqIChwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxICsgMSkgKiAxNiAtXG4gICAgICAgIChmcmFtZU1ic09ubHlGbGFnID8gMiA6IDQpICpcbiAgICAgICAgICAoZnJhbWVDcm9wVG9wT2Zmc2V0ICsgZnJhbWVDcm9wQm90dG9tT2Zmc2V0KSxcbiAgICAgIHBpeGVsUmF0aW86IHBpeGVsUmF0aW8sXG4gICAgfTtcbiAgfVxuXG4gIHJlYWRTbGljZVR5cGUoKSB7XG4gICAgLy8gc2tpcCBOQUx1IHR5cGVcbiAgICB0aGlzLnJlYWRVQnl0ZSgpO1xuICAgIC8vIGRpc2NhcmQgZmlyc3RfbWJfaW5fc2xpY2VcbiAgICB0aGlzLnJlYWRVRUcoKTtcbiAgICAvLyByZXR1cm4gc2xpY2VfdHlwZVxuICAgIHJldHVybiB0aGlzLnJlYWRVRUcoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHBHb2xvbWI7XG4iLCAiaW1wb3J0IEJhc2VWaWRlb1BhcnNlciBmcm9tICcuL2Jhc2UtdmlkZW8tcGFyc2VyJztcbmltcG9ydCB7XG4gIERlbXV4ZWRWaWRlb1RyYWNrLFxuICBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgVmlkZW9TYW1wbGVVbml0LFxufSBmcm9tICcuLi8uLi90eXBlcy9kZW11eGVyJztcbmltcG9ydCB7XG4gIGFwcGVuZFVpbnQ4QXJyYXksXG4gIHBhcnNlU0VJTWVzc2FnZUZyb21OQUx1LFxufSBmcm9tICcuLi8uLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IEV4cEdvbG9tYiBmcm9tICcuL2V4cC1nb2xvbWInO1xuaW1wb3J0IHR5cGUgeyBQRVMgfSBmcm9tICcuLi90c2RlbXV4ZXInO1xuXG5jbGFzcyBBdmNWaWRlb1BhcnNlciBleHRlbmRzIEJhc2VWaWRlb1BhcnNlciB7XG4gIHB1YmxpYyBwYXJzZUFWQ1BFUyhcbiAgICB0cmFjazogRGVtdXhlZFZpZGVvVHJhY2ssXG4gICAgdGV4dFRyYWNrOiBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgICBwZXM6IFBFUyxcbiAgICBsYXN0OiBib29sZWFuLFxuICAgIGR1cmF0aW9uOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IHVuaXRzID0gdGhpcy5wYXJzZUFWQ05BTHUodHJhY2ssIHBlcy5kYXRhKTtcbiAgICBjb25zdCBkZWJ1ZyA9IGZhbHNlO1xuICAgIGxldCBWaWRlb1NhbXBsZSA9IHRoaXMuVmlkZW9TYW1wbGU7XG4gICAgbGV0IHB1c2g6IGJvb2xlYW47XG4gICAgbGV0IHNwc2ZvdW5kID0gZmFsc2U7XG4gICAgLy8gZnJlZSBwZXMuZGF0YSB0byBzYXZlIHVwIHNvbWUgbWVtb3J5XG4gICAgKHBlcyBhcyBhbnkpLmRhdGEgPSBudWxsO1xuXG4gICAgLy8gaWYgbmV3IE5BTCB1bml0cyBmb3VuZCBhbmQgbGFzdCBzYW1wbGUgc3RpbGwgdGhlcmUsIGxldCdzIHB1c2ggLi4uXG4gICAgLy8gdGhpcyBoZWxwcyBwYXJzaW5nIHN0cmVhbXMgd2l0aCBtaXNzaW5nIEFVRCAob25seSBkbyB0aGlzIGlmIEFVRCBuZXZlciBmb3VuZClcbiAgICBpZiAoVmlkZW9TYW1wbGUgJiYgdW5pdHMubGVuZ3RoICYmICF0cmFjay5hdWRGb3VuZCkge1xuICAgICAgdGhpcy5wdXNoQWNjZXNzVW5pdChWaWRlb1NhbXBsZSwgdHJhY2spO1xuICAgICAgVmlkZW9TYW1wbGUgPSB0aGlzLlZpZGVvU2FtcGxlID0gdGhpcy5jcmVhdGVWaWRlb1NhbXBsZShcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHBlcy5wdHMsXG4gICAgICAgIHBlcy5kdHMsXG4gICAgICAgICcnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB1bml0cy5mb3JFYWNoKCh1bml0KSA9PiB7XG4gICAgICBzd2l0Y2ggKHVuaXQudHlwZSkge1xuICAgICAgICAvLyBORFJcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgbGV0IGlza2V5ID0gZmFsc2U7XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHVuaXQuZGF0YTtcbiAgICAgICAgICAvLyBvbmx5IGNoZWNrIHNsaWNlIHR5cGUgdG8gZGV0ZWN0IEtGIGluIGNhc2UgU1BTIGZvdW5kIGluIHNhbWUgcGFja2V0IChhbnkga2V5ZnJhbWUgaXMgcHJlY2VkZWQgYnkgU1BTIC4uLilcbiAgICAgICAgICBpZiAoc3BzZm91bmQgJiYgZGF0YS5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAvLyByZXRyaWV2ZSBzbGljZSB0eXBlIGJ5IHBhcnNpbmcgYmVnaW5uaW5nIG9mIE5BTCB1bml0IChmb2xsb3cgSDI2NCBzcGVjLCBzbGljZV9oZWFkZXIgZGVmaW5pdGlvbikgdG8gZGV0ZWN0IGtleWZyYW1lIGVtYmVkZGVkIGluIE5EUlxuICAgICAgICAgICAgY29uc3Qgc2xpY2VUeXBlID0gbmV3IEV4cEdvbG9tYihkYXRhKS5yZWFkU2xpY2VUeXBlKCk7XG4gICAgICAgICAgICAvLyAyIDogSSBzbGljZSwgNCA6IFNJIHNsaWNlLCA3IDogSSBzbGljZSwgOTogU0kgc2xpY2VcbiAgICAgICAgICAgIC8vIFNJIHNsaWNlIDogQSBzbGljZSB0aGF0IGlzIGNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seSBhbmQgdXNpbmcgcXVhbnRpc2F0aW9uIG9mIHRoZSBwcmVkaWN0aW9uIHNhbXBsZXMuXG4gICAgICAgICAgICAvLyBBbiBTSSBzbGljZSBjYW4gYmUgY29kZWQgc3VjaCB0aGF0IGl0cyBkZWNvZGVkIHNhbXBsZXMgY2FuIGJlIGNvbnN0cnVjdGVkIGlkZW50aWNhbGx5IHRvIGFuIFNQIHNsaWNlLlxuICAgICAgICAgICAgLy8gSSBzbGljZTogQSBzbGljZSB0aGF0IGlzIG5vdCBhbiBTSSBzbGljZSB0aGF0IGlzIGRlY29kZWQgdXNpbmcgaW50cmEgcHJlZGljdGlvbiBvbmx5LlxuICAgICAgICAgICAgLy8gaWYgKHNsaWNlVHlwZSA9PT0gMiB8fCBzbGljZVR5cGUgPT09IDcpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2xpY2VUeXBlID09PSAyIHx8XG4gICAgICAgICAgICAgIHNsaWNlVHlwZSA9PT0gNCB8fFxuICAgICAgICAgICAgICBzbGljZVR5cGUgPT09IDcgfHxcbiAgICAgICAgICAgICAgc2xpY2VUeXBlID09PSA5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaXNrZXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc2tleSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBub24ta2V5ZnJhbWUgZGF0YSBhbHJlYWR5LCB0aGF0IGNhbm5vdCBiZWxvbmcgdG8gdGhlIHNhbWUgZnJhbWUgYXMgYSBrZXlmcmFtZSwgc28gZm9yY2UgYSBwdXNoXG4gICAgICAgICAgICBpZiAoVmlkZW9TYW1wbGU/LmZyYW1lICYmICFWaWRlb1NhbXBsZS5rZXkpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoQWNjZXNzVW5pdChWaWRlb1NhbXBsZSwgdHJhY2spO1xuICAgICAgICAgICAgICBWaWRlb1NhbXBsZSA9IHRoaXMuVmlkZW9TYW1wbGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghVmlkZW9TYW1wbGUpIHtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlID0gdGhpcy5WaWRlb1NhbXBsZSA9IHRoaXMuY3JlYXRlVmlkZW9TYW1wbGUoXG4gICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgIHBlcy5wdHMsXG4gICAgICAgICAgICAgIHBlcy5kdHMsXG4gICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlLmRlYnVnICs9ICdORFIgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBWaWRlb1NhbXBsZS5mcmFtZSA9IHRydWU7XG4gICAgICAgICAgVmlkZW9TYW1wbGUua2V5ID0gaXNrZXk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBJRFJcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgLy8gaGFuZGxlIFBFUyBub3Qgc3RhcnRpbmcgd2l0aCBBVURcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGZyYW1lIGRhdGEgYWxyZWFkeSwgdGhhdCBjYW5ub3QgYmVsb25nIHRvIHRoZSBzYW1lIGZyYW1lLCBzbyBmb3JjZSBhIHB1c2hcbiAgICAgICAgICBpZiAoVmlkZW9TYW1wbGU/LmZyYW1lICYmICFWaWRlb1NhbXBsZS5rZXkpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaEFjY2Vzc1VuaXQoVmlkZW9TYW1wbGUsIHRyYWNrKTtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlID0gdGhpcy5WaWRlb1NhbXBsZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghVmlkZW9TYW1wbGUpIHtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlID0gdGhpcy5WaWRlb1NhbXBsZSA9IHRoaXMuY3JlYXRlVmlkZW9TYW1wbGUoXG4gICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgIHBlcy5wdHMsXG4gICAgICAgICAgICAgIHBlcy5kdHMsXG4gICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlLmRlYnVnICs9ICdJRFIgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBWaWRlb1NhbXBsZS5rZXkgPSB0cnVlO1xuICAgICAgICAgIFZpZGVvU2FtcGxlLmZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gU0VJXG4gICAgICAgIGNhc2UgNjoge1xuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChkZWJ1ZyAmJiBWaWRlb1NhbXBsZSkge1xuICAgICAgICAgICAgVmlkZW9TYW1wbGUuZGVidWcgKz0gJ1NFSSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZVNFSU1lc3NhZ2VGcm9tTkFMdShcbiAgICAgICAgICAgIHVuaXQuZGF0YSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBwZXMucHRzIGFzIG51bWJlcixcbiAgICAgICAgICAgIHRleHRUcmFjay5zYW1wbGVzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gU1BTXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA3OiB7XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgc3BzZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGlmIChkZWJ1ZyAmJiBWaWRlb1NhbXBsZSkge1xuICAgICAgICAgICAgVmlkZW9TYW1wbGUuZGVidWcgKz0gJ1NQUyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzcHMgPSB1bml0LmRhdGE7XG4gICAgICAgICAgY29uc3QgZXhwR29sb21iRGVjb2RlciA9IG5ldyBFeHBHb2xvbWIoc3BzKTtcbiAgICAgICAgICBjb25zdCBjb25maWcgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRTUFMoKTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICF0cmFjay5zcHMgfHxcbiAgICAgICAgICAgIHRyYWNrLndpZHRoICE9PSBjb25maWcud2lkdGggfHxcbiAgICAgICAgICAgIHRyYWNrLmhlaWdodCAhPT0gY29uZmlnLmhlaWdodCB8fFxuICAgICAgICAgICAgdHJhY2sucGl4ZWxSYXRpbz8uWzBdICE9PSBjb25maWcucGl4ZWxSYXRpb1swXSB8fFxuICAgICAgICAgICAgdHJhY2sucGl4ZWxSYXRpbz8uWzFdICE9PSBjb25maWcucGl4ZWxSYXRpb1sxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdHJhY2sud2lkdGggPSBjb25maWcud2lkdGg7XG4gICAgICAgICAgICB0cmFjay5oZWlnaHQgPSBjb25maWcuaGVpZ2h0O1xuICAgICAgICAgICAgdHJhY2sucGl4ZWxSYXRpbyA9IGNvbmZpZy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgdHJhY2suc3BzID0gW3Nwc107XG4gICAgICAgICAgICB0cmFjay5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3QgY29kZWNhcnJheSA9IHNwcy5zdWJhcnJheSgxLCA0KTtcbiAgICAgICAgICAgIGxldCBjb2RlY3N0cmluZyA9ICdhdmMxLic7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICBsZXQgaCA9IGNvZGVjYXJyYXlbaV0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgaCA9ICcwJyArIGg7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb2RlY3N0cmluZyArPSBoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2suY29kZWMgPSBjb2RlY3N0cmluZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBQUFNcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChkZWJ1ZyAmJiBWaWRlb1NhbXBsZSkge1xuICAgICAgICAgICAgVmlkZW9TYW1wbGUuZGVidWcgKz0gJ1BQUyAnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYWNrLnBwcyA9IFt1bml0LmRhdGFdO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEFVRFxuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgdHJhY2suYXVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgIGlmIChWaWRlb1NhbXBsZSkge1xuICAgICAgICAgICAgdGhpcy5wdXNoQWNjZXNzVW5pdChWaWRlb1NhbXBsZSwgdHJhY2spO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFZpZGVvU2FtcGxlID0gdGhpcy5WaWRlb1NhbXBsZSA9IHRoaXMuY3JlYXRlVmlkZW9TYW1wbGUoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHBlcy5wdHMsXG4gICAgICAgICAgICBwZXMuZHRzLFxuICAgICAgICAgICAgZGVidWcgPyAnQVVEICcgOiAnJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBGaWxsZXIgRGF0YVxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgICBpZiAoVmlkZW9TYW1wbGUpIHtcbiAgICAgICAgICAgIFZpZGVvU2FtcGxlLmRlYnVnICs9ICd1bmtub3duIE5BTCAnICsgdW5pdC50eXBlICsgJyAnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKFZpZGVvU2FtcGxlICYmIHB1c2gpIHtcbiAgICAgICAgY29uc3QgdW5pdHMgPSBWaWRlb1NhbXBsZS51bml0cztcbiAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiBsYXN0IFBFUyBwYWNrZXQsIHB1c2ggc2FtcGxlc1xuICAgIGlmIChsYXN0ICYmIFZpZGVvU2FtcGxlKSB7XG4gICAgICB0aGlzLnB1c2hBY2Nlc3NVbml0KFZpZGVvU2FtcGxlLCB0cmFjayk7XG4gICAgICB0aGlzLlZpZGVvU2FtcGxlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQVZDTkFMdShcbiAgICB0cmFjazogRGVtdXhlZFZpZGVvVHJhY2ssXG4gICAgYXJyYXk6IFVpbnQ4QXJyYXksXG4gICk6IEFycmF5PHtcbiAgICBkYXRhOiBVaW50OEFycmF5O1xuICAgIHR5cGU6IG51bWJlcjtcbiAgICBzdGF0ZT86IG51bWJlcjtcbiAgfT4ge1xuICAgIGNvbnN0IGxlbiA9IGFycmF5LmJ5dGVMZW5ndGg7XG4gICAgbGV0IHN0YXRlID0gdHJhY2submFsdVN0YXRlIHx8IDA7XG4gICAgY29uc3QgbGFzdFN0YXRlID0gc3RhdGU7XG4gICAgY29uc3QgdW5pdHM6IFZpZGVvU2FtcGxlVW5pdFtdID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCB2YWx1ZTogbnVtYmVyO1xuICAgIGxldCBvdmVyZmxvdzogbnVtYmVyO1xuICAgIGxldCB1bml0VHlwZTogbnVtYmVyO1xuICAgIGxldCBsYXN0VW5pdFN0YXJ0ID0gLTE7XG4gICAgbGV0IGxhc3RVbml0VHlwZTogbnVtYmVyID0gMDtcbiAgICAvLyBsb2dnZXIubG9nKCdQRVM6JyArIEhleC5oZXhEdW1wKGFycmF5KSk7XG5cbiAgICBpZiAoc3RhdGUgPT09IC0xKSB7XG4gICAgICAvLyBzcGVjaWFsIHVzZSBjYXNlIHdoZXJlIHdlIGZvdW5kIDMgb3IgNC1ieXRlIHN0YXJ0IGNvZGVzIGV4YWN0bHkgYXQgdGhlIGVuZCBvZiBwcmV2aW91cyBQRVMgcGFja2V0XG4gICAgICBsYXN0VW5pdFN0YXJ0ID0gMDtcbiAgICAgIC8vIE5BTHUgdHlwZSBpcyB2YWx1ZSByZWFkIGZyb20gb2Zmc2V0IDBcbiAgICAgIGxhc3RVbml0VHlwZSA9IGFycmF5WzBdICYgMHgxZjtcbiAgICAgIHN0YXRlID0gMDtcbiAgICAgIGkgPSAxO1xuICAgIH1cblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICB2YWx1ZSA9IGFycmF5W2krK107XG4gICAgICAvLyBvcHRpbWl6YXRpb24uIHN0YXRlIDAgYW5kIDEgYXJlIHRoZSBwcmVkb21pbmFudCBjYXNlLiBsZXQncyBoYW5kbGUgdGhlbSBvdXRzaWRlIG9mIHRoZSBzd2l0Y2gvY2FzZVxuICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHZhbHVlID8gMCA6IDE7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09PSAxKSB7XG4gICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBoZXJlIHdlIGhhdmUgc3RhdGUgZWl0aGVyIGVxdWFsIHRvIDIgb3IgM1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBzdGF0ZSA9IDM7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAxKSB7XG4gICAgICAgIG92ZXJmbG93ID0gaSAtIHN0YXRlIC0gMTtcbiAgICAgICAgaWYgKGxhc3RVbml0U3RhcnQgPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHVuaXQ6IFZpZGVvU2FtcGxlVW5pdCA9IHtcbiAgICAgICAgICAgIGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIG92ZXJmbG93KSxcbiAgICAgICAgICAgIHR5cGU6IGxhc3RVbml0VHlwZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ3B1c2hpbmcgTkFMVSwgdHlwZS9zaXplOicgKyB1bml0LnR5cGUgKyAnLycgKyB1bml0LmRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsYXN0VW5pdFN0YXJ0IGlzIHVuZGVmaW5lZCA9PiB0aGlzIGlzIHRoZSBmaXJzdCBzdGFydCBjb2RlIGZvdW5kIGluIHRoaXMgUEVTIHBhY2tldFxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHN0YXJ0IGNvZGUgZGVsaW1pdGVyIGlzIG92ZXJsYXBwaW5nIGJldHdlZW4gMiBQRVMgcGFja2V0cyxcbiAgICAgICAgICAvLyBpZSBpdCBzdGFydGVkIGluIGxhc3QgcGFja2V0IChsYXN0U3RhdGUgbm90IHplcm8pXG4gICAgICAgICAgLy8gYW5kIGVuZGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBQRVMgcGFja2V0IChpIDw9IDQgLSBsYXN0U3RhdGUpXG4gICAgICAgICAgY29uc3QgbGFzdFVuaXQgPSB0aGlzLmdldExhc3ROYWxVbml0KHRyYWNrLnNhbXBsZXMpO1xuICAgICAgICAgIGlmIChsYXN0VW5pdCkge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBpIDw9IDQgLSBsYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgLy8gc3RhcnQgZGVsaW1pdGVyIG92ZXJsYXBwaW5nIGJldHdlZW4gUEVTIHBhY2tldHNcbiAgICAgICAgICAgICAgLy8gc3RyaXAgc3RhcnQgZGVsaW1pdGVyIGJ5dGVzIGZyb20gdGhlIGVuZCBvZiBsYXN0IE5BTCB1bml0XG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGxhc3RVbml0IGhhZCBhIHN0YXRlIGRpZmZlcmVudCBmcm9tIHplcm9cbiAgICAgICAgICAgICAgaWYgKGxhc3RVbml0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgbGFzdCBieXRlc1xuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSBsYXN0VW5pdC5kYXRhLnN1YmFycmF5KFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCAtIGxhc3RTdGF0ZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBOQUwgdW5pdHMgYXJlIG5vdCBzdGFydGluZyByaWdodCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBQRVMgcGFja2V0LCBwdXNoIHByZWNlZGluZyBkYXRhIGludG8gcHJldmlvdXMgTkFMIHVuaXQuXG5cbiAgICAgICAgICAgIGlmIChvdmVyZmxvdyA+IDApIHtcbiAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnZmlyc3QgTkFMVSBmb3VuZCB3aXRoIG92ZXJmbG93OicgKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSBhcHBlbmRVaW50OEFycmF5KFxuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEsXG4gICAgICAgICAgICAgICAgYXJyYXkuc3ViYXJyYXkoMCwgb3ZlcmZsb3cpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsYXN0VW5pdC5zdGF0ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIGNhbiByZWFkIHVuaXQgdHlwZVxuICAgICAgICBpZiAoaSA8IGxlbikge1xuICAgICAgICAgIHVuaXRUeXBlID0gYXJyYXlbaV0gJiAweDFmO1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZpbmQgTkFMVSBAIG9mZnNldDonICsgaSArICcsdHlwZTonICsgdW5pdFR5cGUpO1xuICAgICAgICAgIGxhc3RVbml0U3RhcnQgPSBpO1xuICAgICAgICAgIGxhc3RVbml0VHlwZSA9IHVuaXRUeXBlO1xuICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub3QgZW5vdWdoIGJ5dGUgdG8gcmVhZCB1bml0IHR5cGUuIGxldCdzIHJlYWQgaXQgb24gbmV4dCBQRVMgcGFyc2luZ1xuICAgICAgICAgIHN0YXRlID0gLTE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3RVbml0U3RhcnQgPj0gMCAmJiBzdGF0ZSA+PSAwKSB7XG4gICAgICBjb25zdCB1bml0OiBWaWRlb1NhbXBsZVVuaXQgPSB7XG4gICAgICAgIGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIGxlbiksXG4gICAgICAgIHR5cGU6IGxhc3RVbml0VHlwZSxcbiAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgfTtcbiAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICAvLyBsb2dnZXIubG9nKCdwdXNoaW5nIE5BTFUsIHR5cGUvc2l6ZS9zdGF0ZTonICsgdW5pdC50eXBlICsgJy8nICsgdW5pdC5kYXRhLmJ5dGVMZW5ndGggKyAnLycgKyBzdGF0ZSk7XG4gICAgfVxuICAgIC8vIG5vIE5BTHUgZm91bmRcbiAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBhcHBlbmQgcGVzLmRhdGEgdG8gcHJldmlvdXMgTkFMIHVuaXRcbiAgICAgIGNvbnN0IGxhc3RVbml0ID0gdGhpcy5nZXRMYXN0TmFsVW5pdCh0cmFjay5zYW1wbGVzKTtcbiAgICAgIGlmIChsYXN0VW5pdCkge1xuICAgICAgICBsYXN0VW5pdC5kYXRhID0gYXBwZW5kVWludDhBcnJheShsYXN0VW5pdC5kYXRhLCBhcnJheSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRyYWNrLm5hbHVTdGF0ZSA9IHN0YXRlO1xuICAgIHJldHVybiB1bml0cztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdmNWaWRlb1BhcnNlcjtcbiIsICIvKipcbiAqIFNBTVBMRS1BRVMgZGVjcnlwdGVyXG4gKi9cblxuaW1wb3J0IHsgSGxzQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCBEZWNyeXB0ZXIgZnJvbSAnLi4vY3J5cHQvZGVjcnlwdGVyJztcbmltcG9ydCB7IEhsc0V2ZW50RW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7XG4gIEF1ZGlvU2FtcGxlLFxuICBWaWRlb1NhbXBsZSxcbiAgVmlkZW9TYW1wbGVVbml0LFxuICBEZW11eGVkVmlkZW9UcmFja0Jhc2UsXG4gIEtleURhdGEsXG59IGZyb20gJy4uL3R5cGVzL2RlbXV4ZXInO1xuaW1wb3J0IHsgZGlzY2FyZEVQQiB9IGZyb20gJy4uL3V0aWxzL21wNC10b29scyc7XG5cbmNsYXNzIFNhbXBsZUFlc0RlY3J5cHRlciB7XG4gIHByaXZhdGUga2V5RGF0YTogS2V5RGF0YTtcbiAgcHJpdmF0ZSBkZWNyeXB0ZXI6IERlY3J5cHRlcjtcblxuICBjb25zdHJ1Y3RvcihvYnNlcnZlcjogSGxzRXZlbnRFbWl0dGVyLCBjb25maWc6IEhsc0NvbmZpZywga2V5RGF0YTogS2V5RGF0YSkge1xuICAgIHRoaXMua2V5RGF0YSA9IGtleURhdGE7XG4gICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgRGVjcnlwdGVyKGNvbmZpZywge1xuICAgICAgcmVtb3ZlUEtDUzdQYWRkaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlY3J5cHRCdWZmZXIoZW5jcnlwdGVkRGF0YTogVWludDhBcnJheSB8IEFycmF5QnVmZmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiB0aGlzLmRlY3J5cHRlci5kZWNyeXB0KFxuICAgICAgZW5jcnlwdGVkRGF0YSxcbiAgICAgIHRoaXMua2V5RGF0YS5rZXkuYnVmZmVyLFxuICAgICAgdGhpcy5rZXlEYXRhLml2LmJ1ZmZlcixcbiAgICApO1xuICB9XG5cbiAgLy8gQUFDIC0gZW5jcnlwdCBhbGwgZnVsbCAxNiBieXRlcyBibG9ja3Mgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMTZcbiAgcHJpdmF0ZSBkZWNyeXB0QWFjU2FtcGxlKFxuICAgIHNhbXBsZXM6IEF1ZGlvU2FtcGxlW10sXG4gICAgc2FtcGxlSW5kZXg6IG51bWJlcixcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgY29uc3QgY3VyVW5pdCA9IHNhbXBsZXNbc2FtcGxlSW5kZXhdLnVuaXQ7XG4gICAgaWYgKGN1clVuaXQubGVuZ3RoIDw9IDE2KSB7XG4gICAgICAvLyBObyBlbmNyeXB0ZWQgcG9ydGlvbiBpbiB0aGlzIHNhbXBsZSAoZmlyc3QgMTYgYnl0ZXMgaXMgbm90XG4gICAgICAvLyBlbmNyeXB0ZWQsIHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vQXVkaW9WaWRlby9Db25jZXB0dWFsL0hMU19TYW1wbGVfRW5jcnlwdGlvbi9FbmNyeXB0aW9uL0VuY3J5cHRpb24uaHRtbCksXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBjdXJVbml0LnN1YmFycmF5KFxuICAgICAgMTYsXG4gICAgICBjdXJVbml0Lmxlbmd0aCAtIChjdXJVbml0Lmxlbmd0aCAlIDE2KSxcbiAgICApO1xuICAgIGNvbnN0IGVuY3J5cHRlZEJ1ZmZlciA9IGVuY3J5cHRlZERhdGEuYnVmZmVyLnNsaWNlKFxuICAgICAgZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0LFxuICAgICAgZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0ICsgZW5jcnlwdGVkRGF0YS5sZW5ndGgsXG4gICAgKTtcblxuICAgIHRoaXMuZGVjcnlwdEJ1ZmZlcihlbmNyeXB0ZWRCdWZmZXIpLnRoZW4oKGRlY3J5cHRlZEJ1ZmZlcjogQXJyYXlCdWZmZXIpID0+IHtcbiAgICAgIGNvbnN0IGRlY3J5cHRlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNyeXB0ZWRCdWZmZXIpO1xuICAgICAgY3VyVW5pdC5zZXQoZGVjcnlwdGVkRGF0YSwgMTYpO1xuXG4gICAgICBpZiAoIXRoaXMuZGVjcnlwdGVyLmlzU3luYygpKSB7XG4gICAgICAgIHRoaXMuZGVjcnlwdEFhY1NhbXBsZXMoc2FtcGxlcywgc2FtcGxlSW5kZXggKyAxLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkZWNyeXB0QWFjU2FtcGxlcyhcbiAgICBzYW1wbGVzOiBBdWRpb1NhbXBsZVtdLFxuICAgIHNhbXBsZUluZGV4OiBudW1iZXIsXG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICkge1xuICAgIGZvciAoOyA7IHNhbXBsZUluZGV4KyspIHtcbiAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0Lmxlbmd0aCA8IDMyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrKTtcblxuICAgICAgaWYgKCF0aGlzLmRlY3J5cHRlci5pc1N5bmMoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQVZDIC0gZW5jcnlwdCBvbmUgMTYgYnl0ZXMgYmxvY2sgb3V0IG9mIHRlbiwgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMzJcbiAgZ2V0QXZjRW5jcnlwdGVkRGF0YShkZWNvZGVkRGF0YTogVWludDhBcnJheSkge1xuICAgIGNvbnN0IGVuY3J5cHRlZERhdGFMZW4gPVxuICAgICAgTWF0aC5mbG9vcigoZGVjb2RlZERhdGEubGVuZ3RoIC0gNDgpIC8gMTYwKSAqIDE2ICsgMTY7XG4gICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IG5ldyBJbnQ4QXJyYXkoZW5jcnlwdGVkRGF0YUxlbik7XG4gICAgbGV0IG91dHB1dFBvcyA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpbnB1dFBvcyA9IDMyO1xuICAgICAgaW5wdXRQb3MgPCBkZWNvZGVkRGF0YS5sZW5ndGggLSAxNjtcbiAgICAgIGlucHV0UG9zICs9IDE2MCwgb3V0cHV0UG9zICs9IDE2XG4gICAgKSB7XG4gICAgICBlbmNyeXB0ZWREYXRhLnNldChcbiAgICAgICAgZGVjb2RlZERhdGEuc3ViYXJyYXkoaW5wdXRQb3MsIGlucHV0UG9zICsgMTYpLFxuICAgICAgICBvdXRwdXRQb3MsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBlbmNyeXB0ZWREYXRhO1xuICB9XG5cbiAgZ2V0QXZjRGVjcnlwdGVkVW5pdChcbiAgICBkZWNvZGVkRGF0YTogVWludDhBcnJheSxcbiAgICBkZWNyeXB0ZWREYXRhOiBBcnJheUxpa2U8bnVtYmVyPiB8IEFycmF5QnVmZmVyIHwgU2hhcmVkQXJyYXlCdWZmZXIsXG4gICkge1xuICAgIGNvbnN0IHVpbnQ4RGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgIGxldCBpbnB1dFBvcyA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBvdXRwdXRQb3MgPSAzMjtcbiAgICAgIG91dHB1dFBvcyA8IGRlY29kZWREYXRhLmxlbmd0aCAtIDE2O1xuICAgICAgb3V0cHV0UG9zICs9IDE2MCwgaW5wdXRQb3MgKz0gMTZcbiAgICApIHtcbiAgICAgIGRlY29kZWREYXRhLnNldChcbiAgICAgICAgdWludDhEZWNyeXB0ZWREYXRhLnN1YmFycmF5KGlucHV0UG9zLCBpbnB1dFBvcyArIDE2KSxcbiAgICAgICAgb3V0cHV0UG9zLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVjb2RlZERhdGE7XG4gIH1cblxuICBkZWNyeXB0QXZjU2FtcGxlKFxuICAgIHNhbXBsZXM6IFZpZGVvU2FtcGxlW10sXG4gICAgc2FtcGxlSW5kZXg6IG51bWJlcixcbiAgICB1bml0SW5kZXg6IG51bWJlcixcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBjdXJVbml0OiBWaWRlb1NhbXBsZVVuaXQsXG4gICkge1xuICAgIGNvbnN0IGRlY29kZWREYXRhID0gZGlzY2FyZEVQQihjdXJVbml0LmRhdGEpO1xuICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSB0aGlzLmdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpO1xuXG4gICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEuYnVmZmVyKS50aGVuKFxuICAgICAgKGRlY3J5cHRlZEJ1ZmZlcjogQXJyYXlCdWZmZXIpID0+IHtcbiAgICAgICAgY3VyVW5pdC5kYXRhID0gdGhpcy5nZXRBdmNEZWNyeXB0ZWRVbml0KGRlY29kZWREYXRhLCBkZWNyeXB0ZWRCdWZmZXIpO1xuXG4gICAgICAgIGlmICghdGhpcy5kZWNyeXB0ZXIuaXNTeW5jKCkpIHtcbiAgICAgICAgICB0aGlzLmRlY3J5cHRBdmNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXggKyAxLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIGRlY3J5cHRBdmNTYW1wbGVzKFxuICAgIHNhbXBsZXM6IERlbXV4ZWRWaWRlb1RyYWNrQmFzZVsnc2FtcGxlcyddLFxuICAgIHNhbXBsZUluZGV4OiBudW1iZXIsXG4gICAgdW5pdEluZGV4OiBudW1iZXIsXG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICkge1xuICAgIGlmIChzYW1wbGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGVjcnlwdCBzYW1wbGVzIG9mIHR5cGUgVWludDhBcnJheScpO1xuICAgIH1cblxuICAgIGZvciAoOyA7IHNhbXBsZUluZGV4KyssIHVuaXRJbmRleCA9IDApIHtcbiAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1clVuaXRzID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdHM7XG4gICAgICBmb3IgKDsgOyB1bml0SW5kZXgrKykge1xuICAgICAgICBpZiAodW5pdEluZGV4ID49IGN1clVuaXRzLmxlbmd0aCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VyVW5pdCA9IGN1clVuaXRzW3VuaXRJbmRleF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJVbml0LmRhdGEubGVuZ3RoIDw9IDQ4IHx8XG4gICAgICAgICAgKGN1clVuaXQudHlwZSAhPT0gMSAmJiBjdXJVbml0LnR5cGUgIT09IDUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWNyeXB0QXZjU2FtcGxlKFxuICAgICAgICAgIHNhbXBsZXMsXG4gICAgICAgICAgc2FtcGxlSW5kZXgsXG4gICAgICAgICAgdW5pdEluZGV4LFxuICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgIGN1clVuaXQsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRlY3J5cHRlci5pc1N5bmMoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTYW1wbGVBZXNEZWNyeXB0ZXI7XG4iLCAiLyoqXG4gKiBoaWdobHkgb3B0aW1pemVkIFRTIGRlbXV4ZXI6XG4gKiBwYXJzZSBQQVQsIFBNVFxuICogZXh0cmFjdCBQRVMgcGFja2V0IGZyb20gYXVkaW8gYW5kIHZpZGVvIFBJRHNcbiAqIGV4dHJhY3QgQVZDL0gyNjQgTkFMIHVuaXRzIGFuZCBBQUMvQURUUyBzYW1wbGVzIGZyb20gUEVTIHBhY2tldFxuICogdHJpZ2dlciB0aGUgcmVtdXhlciB1cG9uIHBhcnNpbmcgY29tcGxldGlvblxuICogaXQgYWxzbyB0cmllcyB0byB3b3JrYXJvdW5kIGFzIGJlc3QgYXMgaXQgY2FuIGF1ZGlvIGNvZGVjIHN3aXRjaCAoSEUtQUFDIHRvIEFBQyBhbmQgdmljZSB2ZXJzYSksIHdpdGhvdXQgaGF2aW5nIHRvIHJlc3RhcnQgdGhlIE1lZGlhU291cmNlLlxuICogaXQgYWxzbyBjb250cm9scyB0aGUgcmVtdXhpbmcgcHJvY2VzcyA6XG4gKiB1cG9uIGRpc2NvbnRpbnVpdHkgb3IgbGV2ZWwgc3dpdGNoIGRldGVjdGlvbiwgaXQgd2lsbCBhbHNvIG5vdGlmaWVzIHRoZSByZW11eGVyIHNvIHRoYXQgaXQgY2FuIHJlc2V0IGl0cyBzdGF0ZS5cbiAqL1xuXG5pbXBvcnQgKiBhcyBBRFRTIGZyb20gJy4vYXVkaW8vYWR0cyc7XG5pbXBvcnQgKiBhcyBNcGVnQXVkaW8gZnJvbSAnLi9hdWRpby9tcGVnYXVkaW8nO1xuaW1wb3J0ICogYXMgQUMzIGZyb20gJy4vYXVkaW8vYWMzLWRlbXV4ZXInO1xuaW1wb3J0IEF2Y1ZpZGVvUGFyc2VyIGZyb20gJy4vdmlkZW8vYXZjLXZpZGVvLXBhcnNlcic7XG5pbXBvcnQgU2FtcGxlQWVzRGVjcnlwdGVyIGZyb20gJy4vc2FtcGxlLWFlcyc7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgYXBwZW5kVWludDhBcnJheSwgUmVtdXhlclRyYWNrSWRDb25maWcgfSBmcm9tICcuLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IEVycm9yVHlwZXMsIEVycm9yRGV0YWlscyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEhsc0V2ZW50RW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQge1xuICBEZW11eGVkVmlkZW9UcmFjayxcbiAgRGVtdXhlZEF1ZGlvVHJhY2ssXG4gIERlbXV4ZWRUcmFjayxcbiAgRGVtdXhlcixcbiAgRGVtdXhlclJlc3VsdCxcbiAgVmlkZW9TYW1wbGUsXG4gIERlbXV4ZWRNZXRhZGF0YVRyYWNrLFxuICBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgRWxlbWVudGFyeVN0cmVhbURhdGEsXG4gIEtleURhdGEsXG4gIE1ldGFkYXRhU2NoZW1hLFxufSBmcm9tICcuLi90eXBlcy9kZW11eGVyJztcbmltcG9ydCB7IEF1ZGlvRnJhbWUgfSBmcm9tICcuLi90eXBlcy9kZW11eGVyJztcblxuZXhwb3J0IHR5cGUgUGFyc2VkVGltZXN0YW1wID0ge1xuICBwdHM/OiBudW1iZXI7XG4gIGR0cz86IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFBFUyA9IFBhcnNlZFRpbWVzdGFtcCAmIHtcbiAgZGF0YTogVWludDhBcnJheTtcbiAgbGVuOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBQYXJzZWRWaWRlb1NhbXBsZSA9IFBhcnNlZFRpbWVzdGFtcCAmXG4gIE9taXQ8VmlkZW9TYW1wbGUsICdwdHMnIHwgJ2R0cyc+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVTdXBwb3J0ZWQge1xuICBtcGVnOiBib29sZWFuO1xuICBtcDM6IGJvb2xlYW47XG4gIGFjMzogYm9vbGVhbjtcbn1cblxuY29uc3QgUEFDS0VUX0xFTkdUSCA9IDE4ODtcblxuY2xhc3MgVFNEZW11eGVyIGltcGxlbWVudHMgRGVtdXhlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSB0eXBlU3VwcG9ydGVkOiBUeXBlU3VwcG9ydGVkO1xuXG4gIHByaXZhdGUgc2FtcGxlQWVzOiBTYW1wbGVBZXNEZWNyeXB0ZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwbXRQYXJzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBhdWRpb0NvZGVjPzogc3RyaW5nO1xuICBwcml2YXRlIHZpZGVvQ29kZWM/OiBzdHJpbmc7XG4gIHByaXZhdGUgX2R1cmF0aW9uOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9wbXRJZDogbnVtYmVyID0gLTE7XG5cbiAgcHJpdmF0ZSBfdmlkZW9UcmFjaz86IERlbXV4ZWRWaWRlb1RyYWNrO1xuICBwcml2YXRlIF9hdWRpb1RyYWNrPzogRGVtdXhlZEF1ZGlvVHJhY2s7XG4gIHByaXZhdGUgX2lkM1RyYWNrPzogRGVtdXhlZE1ldGFkYXRhVHJhY2s7XG4gIHByaXZhdGUgX3R4dFRyYWNrPzogRGVtdXhlZFVzZXJkYXRhVHJhY2s7XG4gIHByaXZhdGUgYWFjT3ZlckZsb3c6IEF1ZGlvRnJhbWUgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZW1haW5kZXJEYXRhOiBVaW50OEFycmF5IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdmlkZW9QYXJzZXI6IEF2Y1ZpZGVvUGFyc2VyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG9ic2VydmVyOiBIbHNFdmVudEVtaXR0ZXIsXG4gICAgY29uZmlnOiBIbHNDb25maWcsXG4gICAgdHlwZVN1cHBvcnRlZDogVHlwZVN1cHBvcnRlZCxcbiAgKSB7XG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMudHlwZVN1cHBvcnRlZCA9IHR5cGVTdXBwb3J0ZWQ7XG4gICAgdGhpcy52aWRlb1BhcnNlciA9IG5ldyBBdmNWaWRlb1BhcnNlcigpO1xuICB9XG5cbiAgc3RhdGljIHByb2JlKGRhdGE6IFVpbnQ4QXJyYXkpIHtcbiAgICBjb25zdCBzeW5jT2Zmc2V0ID0gVFNEZW11eGVyLnN5bmNPZmZzZXQoZGF0YSk7XG4gICAgaWYgKHN5bmNPZmZzZXQgPiAwKSB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgYE1QRUcyLVRTIGRldGVjdGVkIGJ1dCBmaXJzdCBzeW5jIHdvcmQgZm91bmQgQCBvZmZzZXQgJHtzeW5jT2Zmc2V0fWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc3luY09mZnNldCAhPT0gLTE7XG4gIH1cblxuICBzdGF0aWMgc3luY09mZnNldChkYXRhOiBVaW50OEFycmF5KTogbnVtYmVyIHtcbiAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICBsZXQgc2NhbndpbmRvdyA9IE1hdGgubWluKFBBQ0tFVF9MRU5HVEggKiA1LCBsZW5ndGggLSBQQUNLRVRfTEVOR1RIKSArIDE7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgc2NhbndpbmRvdykge1xuICAgICAgLy8gYSBUUyBpbml0IHNlZ21lbnQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgMiBUUyBwYWNrZXRzOiBQQVQgYW5kIFBNVCwgZWFjaCBzdGFydGluZyB3aXRoIDB4NDdcbiAgICAgIGxldCBmb3VuZFBhdCA9IGZhbHNlO1xuICAgICAgbGV0IHBhY2tldFN0YXJ0ID0gLTE7XG4gICAgICBsZXQgdHNQYWNrZXRzID0gMDtcbiAgICAgIGZvciAobGV0IGogPSBpOyBqIDwgbGVuZ3RoOyBqICs9IFBBQ0tFVF9MRU5HVEgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGFbal0gPT09IDB4NDcgJiZcbiAgICAgICAgICAobGVuZ3RoIC0gaiA9PT0gUEFDS0VUX0xFTkdUSCB8fCBkYXRhW2ogKyBQQUNLRVRfTEVOR1RIXSA9PT0gMHg0NylcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHNQYWNrZXRzKys7XG4gICAgICAgICAgaWYgKHBhY2tldFN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgcGFja2V0U3RhcnQgPSBqO1xuICAgICAgICAgICAgLy8gRmlyc3Qgc3luYyB3b3JkIGZvdW5kIGF0IG9mZnNldCwgaW5jcmVhc2Ugc2NhbiBsZW5ndGggKCM1MjUxKVxuICAgICAgICAgICAgaWYgKHBhY2tldFN0YXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAgIHNjYW53aW5kb3cgPVxuICAgICAgICAgICAgICAgIE1hdGgubWluKFxuICAgICAgICAgICAgICAgICAgcGFja2V0U3RhcnQgKyBQQUNLRVRfTEVOR1RIICogOTksXG4gICAgICAgICAgICAgICAgICBkYXRhLmxlbmd0aCAtIFBBQ0tFVF9MRU5HVEgsXG4gICAgICAgICAgICAgICAgKSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZm91bmRQYXQpIHtcbiAgICAgICAgICAgIGZvdW5kUGF0ID0gcGFyc2VQSUQoZGF0YSwgaikgPT09IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFN5bmMgd29yZCBmb3VuZCBhdCAwIHdpdGggMyBwYWNrZXRzLCBvciBmb3VuZCBhdCBvZmZzZXQgbGVhc3QgMiBwYWNrZXRzIHVwIHRvIHNjYW53aW5kb3cgKCM1NTAxKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZvdW5kUGF0ICYmXG4gICAgICAgICAgICB0c1BhY2tldHMgPiAxICYmXG4gICAgICAgICAgICAoKHBhY2tldFN0YXJ0ID09PSAwICYmIHRzUGFja2V0cyA+IDIpIHx8XG4gICAgICAgICAgICAgIGogKyBQQUNLRVRfTEVOR1RIID4gc2NhbndpbmRvdylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBwYWNrZXRTdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHNQYWNrZXRzKSB7XG4gICAgICAgICAgLy8gRXhpdCBpZiBzeW5jIHdvcmQgZm91bmQsIGJ1dCBkb2VzIG5vdCBjb250YWluIGNvbnRpZ3VvdXMgcGFja2V0c1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHRyYWNrIG1vZGVsIGludGVybmFsIHRvIGRlbXV4ZXIgdXNlZCB0byBkcml2ZSByZW11eGluZyBpbnB1dFxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVRyYWNrKFxuICAgIHR5cGU6ICdhdWRpbycgfCAndmlkZW8nIHwgJ2lkMycgfCAndGV4dCcsXG4gICAgZHVyYXRpb24/OiBudW1iZXIsXG4gICk6IERlbXV4ZWRUcmFjayB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRhaW5lcjpcbiAgICAgICAgdHlwZSA9PT0gJ3ZpZGVvJyB8fCB0eXBlID09PSAnYXVkaW8nID8gJ3ZpZGVvL21wMnQnIDogdW5kZWZpbmVkLFxuICAgICAgdHlwZSxcbiAgICAgIGlkOiBSZW11eGVyVHJhY2tJZENvbmZpZ1t0eXBlXSxcbiAgICAgIHBpZDogLTEsXG4gICAgICBpbnB1dFRpbWVTY2FsZTogOTAwMDAsXG4gICAgICBzZXF1ZW5jZU51bWJlcjogMCxcbiAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgZHJvcHBlZDogMCxcbiAgICAgIGR1cmF0aW9uOiB0eXBlID09PSAnYXVkaW8nID8gZHVyYXRpb24gOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbml0IHNlZ21lbnQgb24gdGhlIGRlbXV4ZXIvcmVtdXhlciBpbnRlcmZhY2UuIE5lZWRlZCBmb3IgZGlzY29udGludWl0aWVzL3RyYWNrLXN3aXRjaGVzIChvciBhdCBzdHJlYW0gc3RhcnQpXG4gICAqIFJlc2V0cyBhbGwgaW50ZXJuYWwgdHJhY2sgaW5zdGFuY2VzIG9mIHRoZSBkZW11eGVyLlxuICAgKi9cbiAgcHVibGljIHJlc2V0SW5pdFNlZ21lbnQoXG4gICAgaW5pdFNlZ21lbnQ6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQsXG4gICAgYXVkaW9Db2RlYzogc3RyaW5nLFxuICAgIHZpZGVvQ29kZWM6IHN0cmluZyxcbiAgICB0cmFja0R1cmF0aW9uOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucG10UGFyc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fcG10SWQgPSAtMTtcblxuICAgIHRoaXMuX3ZpZGVvVHJhY2sgPSBUU0RlbXV4ZXIuY3JlYXRlVHJhY2soJ3ZpZGVvJykgYXMgRGVtdXhlZFZpZGVvVHJhY2s7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjayhcbiAgICAgICdhdWRpbycsXG4gICAgICB0cmFja0R1cmF0aW9uLFxuICAgICkgYXMgRGVtdXhlZEF1ZGlvVHJhY2s7XG4gICAgdGhpcy5faWQzVHJhY2sgPSBUU0RlbXV4ZXIuY3JlYXRlVHJhY2soJ2lkMycpIGFzIERlbXV4ZWRNZXRhZGF0YVRyYWNrO1xuICAgIHRoaXMuX3R4dFRyYWNrID0gVFNEZW11eGVyLmNyZWF0ZVRyYWNrKCd0ZXh0JykgYXMgRGVtdXhlZFVzZXJkYXRhVHJhY2s7XG4gICAgdGhpcy5fYXVkaW9UcmFjay5zZWdtZW50Q29kZWMgPSAnYWFjJztcblxuICAgIC8vIGZsdXNoIGFueSBwYXJ0aWFsIGNvbnRlbnRcbiAgICB0aGlzLmFhY092ZXJGbG93ID0gbnVsbDtcbiAgICB0aGlzLnJlbWFpbmRlckRhdGEgPSBudWxsO1xuICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgdGhpcy52aWRlb0NvZGVjID0gdmlkZW9Db2RlYztcbiAgICB0aGlzLl9kdXJhdGlvbiA9IHRyYWNrRHVyYXRpb247XG4gIH1cblxuICBwdWJsaWMgcmVzZXRUaW1lU3RhbXAoKSB7fVxuXG4gIHB1YmxpYyByZXNldENvbnRpZ3VpdHkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBfYXVkaW9UcmFjaywgX3ZpZGVvVHJhY2ssIF9pZDNUcmFjayB9ID0gdGhpcztcbiAgICBpZiAoX2F1ZGlvVHJhY2spIHtcbiAgICAgIF9hdWRpb1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoX3ZpZGVvVHJhY2spIHtcbiAgICAgIF92aWRlb1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoX2lkM1RyYWNrKSB7XG4gICAgICBfaWQzVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuYWFjT3ZlckZsb3cgPSBudWxsO1xuICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IG51bGw7XG4gIH1cblxuICBwdWJsaWMgZGVtdXgoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgaXNTYW1wbGVBZXMgPSBmYWxzZSxcbiAgICBmbHVzaCA9IGZhbHNlLFxuICApOiBEZW11eGVyUmVzdWx0IHtcbiAgICBpZiAoIWlzU2FtcGxlQWVzKSB7XG4gICAgICB0aGlzLnNhbXBsZUFlcyA9IG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHBlczogUEVTIHwgbnVsbDtcblxuICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0aGlzLl92aWRlb1RyYWNrIGFzIERlbXV4ZWRWaWRlb1RyYWNrO1xuICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrIGFzIERlbXV4ZWRBdWRpb1RyYWNrO1xuICAgIGNvbnN0IGlkM1RyYWNrID0gdGhpcy5faWQzVHJhY2sgYXMgRGVtdXhlZE1ldGFkYXRhVHJhY2s7XG4gICAgY29uc3QgdGV4dFRyYWNrID0gdGhpcy5fdHh0VHJhY2sgYXMgRGVtdXhlZFVzZXJkYXRhVHJhY2s7XG5cbiAgICBsZXQgdmlkZW9QaWQgPSB2aWRlb1RyYWNrLnBpZDtcbiAgICBsZXQgdmlkZW9EYXRhID0gdmlkZW9UcmFjay5wZXNEYXRhO1xuICAgIGxldCBhdWRpb1BpZCA9IGF1ZGlvVHJhY2sucGlkO1xuICAgIGxldCBpZDNQaWQgPSBpZDNUcmFjay5waWQ7XG4gICAgbGV0IGF1ZGlvRGF0YSA9IGF1ZGlvVHJhY2sucGVzRGF0YTtcbiAgICBsZXQgaWQzRGF0YSA9IGlkM1RyYWNrLnBlc0RhdGE7XG4gICAgbGV0IHVua25vd25QSUQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGxldCBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZDtcbiAgICBsZXQgcG10SWQgPSB0aGlzLl9wbXRJZDtcblxuICAgIGxldCBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICBpZiAodGhpcy5yZW1haW5kZXJEYXRhKSB7XG4gICAgICBkYXRhID0gYXBwZW5kVWludDhBcnJheSh0aGlzLnJlbWFpbmRlckRhdGEsIGRhdGEpO1xuICAgICAgbGVuID0gZGF0YS5sZW5ndGg7XG4gICAgICB0aGlzLnJlbWFpbmRlckRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChsZW4gPCBQQUNLRVRfTEVOR1RIICYmICFmbHVzaCkge1xuICAgICAgdGhpcy5yZW1haW5kZXJEYXRhID0gZGF0YTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF1ZGlvVHJhY2ssXG4gICAgICAgIHZpZGVvVHJhY2ssXG4gICAgICAgIGlkM1RyYWNrLFxuICAgICAgICB0ZXh0VHJhY2ssXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN5bmNPZmZzZXQgPSBNYXRoLm1heCgwLCBUU0RlbXV4ZXIuc3luY09mZnNldChkYXRhKSk7XG4gICAgbGVuIC09IChsZW4gLSBzeW5jT2Zmc2V0KSAlIFBBQ0tFVF9MRU5HVEg7XG4gICAgaWYgKGxlbiA8IGRhdGEuYnl0ZUxlbmd0aCAmJiAhZmx1c2gpIHtcbiAgICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgICBkYXRhLmJ1ZmZlcixcbiAgICAgICAgbGVuLFxuICAgICAgICBkYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoIC0gbGVuLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBsb29wIHRocm91Z2ggVFMgcGFja2V0c1xuICAgIGxldCB0c1BhY2tldEVycm9ycyA9IDA7XG4gICAgZm9yIChsZXQgc3RhcnQgPSBzeW5jT2Zmc2V0OyBzdGFydCA8IGxlbjsgc3RhcnQgKz0gUEFDS0VUX0xFTkdUSCkge1xuICAgICAgaWYgKGRhdGFbc3RhcnRdID09PSAweDQ3KSB7XG4gICAgICAgIGNvbnN0IHN0dCA9ICEhKGRhdGFbc3RhcnQgKyAxXSAmIDB4NDApO1xuICAgICAgICBjb25zdCBwaWQgPSBwYXJzZVBJRChkYXRhLCBzdGFydCk7XG4gICAgICAgIGNvbnN0IGF0ZiA9IChkYXRhW3N0YXJ0ICsgM10gJiAweDMwKSA+PiA0O1xuXG4gICAgICAgIC8vIGlmIGFuIGFkYXB0aW9uIGZpZWxkIGlzIHByZXNlbnQsIGl0cyBsZW5ndGggaXMgc3BlY2lmaWVkIGJ5IHRoZSBmaWZ0aCBieXRlIG9mIHRoZSBUUyBwYWNrZXQgaGVhZGVyLlxuICAgICAgICBsZXQgb2Zmc2V0OiBudW1iZXI7XG4gICAgICAgIGlmIChhdGYgPiAxKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gc3RhcnQgKyA1ICsgZGF0YVtzdGFydCArIDRdO1xuICAgICAgICAgIC8vIGNvbnRpbnVlIGlmIHRoZXJlIGlzIG9ubHkgYWRhcHRhdGlvbiBmaWVsZFxuICAgICAgICAgIGlmIChvZmZzZXQgPT09IHN0YXJ0ICsgUEFDS0VUX0xFTkdUSCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCA9IHN0YXJ0ICsgNDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHBpZCkge1xuICAgICAgICAgIGNhc2UgdmlkZW9QaWQ6XG4gICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgIGlmICh2aWRlb0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKHZpZGVvRGF0YSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlb1BhcnNlci5wYXJzZUFWQ1BFUyhcbiAgICAgICAgICAgICAgICAgIHZpZGVvVHJhY2ssXG4gICAgICAgICAgICAgICAgICB0ZXh0VHJhY2ssXG4gICAgICAgICAgICAgICAgICBwZXMsXG4gICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2aWRlb0RhdGEgPSB7IGRhdGE6IFtdLCBzaXplOiAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlkZW9EYXRhKSB7XG4gICAgICAgICAgICAgIHZpZGVvRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgUEFDS0VUX0xFTkdUSCkpO1xuICAgICAgICAgICAgICB2aWRlb0RhdGEuc2l6ZSArPSBzdGFydCArIFBBQ0tFVF9MRU5HVEggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGF1ZGlvUGlkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBpZiAoYXVkaW9EYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdWRpb0RhdGEpKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXVkaW9UcmFjay5zZWdtZW50Q29kZWMpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2FhYyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VBQUNQRVMoYXVkaW9UcmFjaywgcGVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlICdtcDMnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlTVBFR1BFUyhhdWRpb1RyYWNrLCBwZXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2FjMyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChfX1VTRV9NMlRTX0FEVkFOQ0VEX0NPREVDU19fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZUFDM1BFUyhhdWRpb1RyYWNrLCBwZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhdWRpb0RhdGEgPSB7IGRhdGE6IFtdLCBzaXplOiAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9EYXRhKSB7XG4gICAgICAgICAgICAgIGF1ZGlvRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgUEFDS0VUX0xFTkdUSCkpO1xuICAgICAgICAgICAgICBhdWRpb0RhdGEuc2l6ZSArPSBzdGFydCArIFBBQ0tFVF9MRU5HVEggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGlkM1BpZDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VJRDNQRVMoaWQzVHJhY2ssIHBlcyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZDNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlkM0RhdGEpIHtcbiAgICAgICAgICAgICAgaWQzRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgUEFDS0VUX0xFTkdUSCkpO1xuICAgICAgICAgICAgICBpZDNEYXRhLnNpemUgKz0gc3RhcnQgKyBQQUNLRVRfTEVOR1RIIC0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YVtvZmZzZXRdICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG10SWQgPSB0aGlzLl9wbXRJZCA9IHBhcnNlUEFUKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdQTVQgUElEOicgICsgdGhpcy5fcG10SWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBwbXRJZDoge1xuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YVtvZmZzZXRdICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGFyc2VkUElEcyA9IHBhcnNlUE1UKFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRoaXMudHlwZVN1cHBvcnRlZCxcbiAgICAgICAgICAgICAgaXNTYW1wbGVBZXMsXG4gICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0cmFjayBpZCBpZiB0cmFjayBQSUQgZm91bmQgd2hpbGUgcGFyc2luZyBQTVRcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgcmVzZXR0aW5nIHRoZSBQSUQgdG8gLTEgaW4gY2FzZVxuICAgICAgICAgICAgLy8gdHJhY2sgUElEIHRyYW5zaWVudGx5IGRpc2FwcGVhcnMgZnJvbSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiBpbiBjYXNlIG9mIHRyYW5zaWVudCBtaXNzaW5nIGF1ZGlvIHNhbXBsZXMgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIC8vIE5PVEUgdGhpcyBpcyBvbmx5IHRoZSBQSUQgb2YgdGhlIHRyYWNrIGFzIGZvdW5kIGluIFRTLFxuICAgICAgICAgICAgLy8gYnV0IHdlIGFyZSBub3QgdXNpbmcgdGhpcyBmb3IgTVA0IHRyYWNrIElEcy5cbiAgICAgICAgICAgIHZpZGVvUGlkID0gcGFyc2VkUElEcy52aWRlb1BpZDtcbiAgICAgICAgICAgIGlmICh2aWRlb1BpZCA+IDApIHtcbiAgICAgICAgICAgICAgdmlkZW9UcmFjay5waWQgPSB2aWRlb1BpZDtcbiAgICAgICAgICAgICAgdmlkZW9UcmFjay5zZWdtZW50Q29kZWMgPSBwYXJzZWRQSURzLnNlZ21lbnRWaWRlb0NvZGVjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdWRpb1BpZCA9IHBhcnNlZFBJRHMuYXVkaW9QaWQ7XG4gICAgICAgICAgICBpZiAoYXVkaW9QaWQgPiAwKSB7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhY2sucGlkID0gYXVkaW9QaWQ7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhY2suc2VnbWVudENvZGVjID0gcGFyc2VkUElEcy5zZWdtZW50QXVkaW9Db2RlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkM1BpZCA9IHBhcnNlZFBJRHMuaWQzUGlkO1xuICAgICAgICAgICAgaWYgKGlkM1BpZCA+IDApIHtcbiAgICAgICAgICAgICAgaWQzVHJhY2sucGlkID0gaWQzUGlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodW5rbm93blBJRCAhPT0gbnVsbCAmJiAhcG10UGFyc2VkKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgIGBNUEVHLVRTIFBNVCBmb3VuZCBhdCAke3N0YXJ0fSBhZnRlciB1bmtub3duIFBJRCAnJHt1bmtub3duUElEfScuIEJhY2t0cmFja2luZyB0byBzeW5jIGJ5dGUgQCR7c3luY09mZnNldH0gdG8gcGFyc2UgYWxsIFRTIHBhY2tldHMuYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdW5rbm93blBJRCA9IG51bGw7XG4gICAgICAgICAgICAgIC8vIHdlIHNldCBpdCB0byAtMTg4LCB0aGUgKz0gMTg4IGluIHRoZSBmb3IgbG9vcCB3aWxsIHJlc2V0IHN0YXJ0IHRvIDBcbiAgICAgICAgICAgICAgc3RhcnQgPSBzeW5jT2Zmc2V0IC0gMTg4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG10UGFyc2VkID0gdGhpcy5wbXRQYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgMHgxMTpcbiAgICAgICAgICBjYXNlIDB4MWZmZjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1bmtub3duUElEID0gcGlkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRzUGFja2V0RXJyb3JzKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRzUGFja2V0RXJyb3JzID4gMCkge1xuICAgICAgZW1pdFBhcnNpbmdFcnJvcihcbiAgICAgICAgdGhpcy5vYnNlcnZlcixcbiAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgIGBGb3VuZCAke3RzUGFja2V0RXJyb3JzfSBUUyBwYWNrZXQvcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIDB4NDdgLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2aWRlb1RyYWNrLnBlc0RhdGEgPSB2aWRlb0RhdGE7XG4gICAgYXVkaW9UcmFjay5wZXNEYXRhID0gYXVkaW9EYXRhO1xuICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBpZDNEYXRhO1xuXG4gICAgY29uc3QgZGVtdXhSZXN1bHQ6IERlbXV4ZXJSZXN1bHQgPSB7XG4gICAgICBhdWRpb1RyYWNrLFxuICAgICAgdmlkZW9UcmFjayxcbiAgICAgIGlkM1RyYWNrLFxuICAgICAgdGV4dFRyYWNrLFxuICAgIH07XG5cbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIHRoaXMuZXh0cmFjdFJlbWFpbmluZ1NhbXBsZXMoZGVtdXhSZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBkZW11eFJlc3VsdDtcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaCgpOiBEZW11eGVyUmVzdWx0IHwgUHJvbWlzZTxEZW11eGVyUmVzdWx0PiB7XG4gICAgY29uc3QgeyByZW1haW5kZXJEYXRhIH0gPSB0aGlzO1xuICAgIHRoaXMucmVtYWluZGVyRGF0YSA9IG51bGw7XG4gICAgbGV0IHJlc3VsdDogRGVtdXhlclJlc3VsdDtcbiAgICBpZiAocmVtYWluZGVyRGF0YSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5kZW11eChyZW1haW5kZXJEYXRhLCAtMSwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHZpZGVvVHJhY2s6IHRoaXMuX3ZpZGVvVHJhY2sgYXMgRGVtdXhlZFZpZGVvVHJhY2ssXG4gICAgICAgIGF1ZGlvVHJhY2s6IHRoaXMuX2F1ZGlvVHJhY2sgYXMgRGVtdXhlZEF1ZGlvVHJhY2ssXG4gICAgICAgIGlkM1RyYWNrOiB0aGlzLl9pZDNUcmFjayBhcyBEZW11eGVkTWV0YWRhdGFUcmFjayxcbiAgICAgICAgdGV4dFRyYWNrOiB0aGlzLl90eHRUcmFjayBhcyBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZXh0cmFjdFJlbWFpbmluZ1NhbXBsZXMocmVzdWx0KTtcbiAgICBpZiAodGhpcy5zYW1wbGVBZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlY3J5cHQocmVzdWx0LCB0aGlzLnNhbXBsZUFlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RSZW1haW5pbmdTYW1wbGVzKGRlbXV4UmVzdWx0OiBEZW11eGVyUmVzdWx0KSB7XG4gICAgY29uc3QgeyBhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrIH0gPSBkZW11eFJlc3VsdDtcbiAgICBjb25zdCB2aWRlb0RhdGEgPSB2aWRlb1RyYWNrLnBlc0RhdGE7XG4gICAgY29uc3QgYXVkaW9EYXRhID0gYXVkaW9UcmFjay5wZXNEYXRhO1xuICAgIGNvbnN0IGlkM0RhdGEgPSBpZDNUcmFjay5wZXNEYXRhO1xuICAgIC8vIHRyeSB0byBwYXJzZSBsYXN0IFBFUyBwYWNrZXRzXG4gICAgbGV0IHBlczogUEVTIHwgbnVsbDtcbiAgICBpZiAodmlkZW9EYXRhICYmIChwZXMgPSBwYXJzZVBFUyh2aWRlb0RhdGEpKSkge1xuICAgICAgdGhpcy52aWRlb1BhcnNlci5wYXJzZUFWQ1BFUyhcbiAgICAgICAgdmlkZW9UcmFjayBhcyBEZW11eGVkVmlkZW9UcmFjayxcbiAgICAgICAgdGV4dFRyYWNrIGFzIERlbXV4ZWRVc2VyZGF0YVRyYWNrLFxuICAgICAgICBwZXMsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHRoaXMuX2R1cmF0aW9uLFxuICAgICAgKTtcbiAgICAgIHZpZGVvVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVpdGhlciBhdmNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgIHZpZGVvVHJhY2sucGVzRGF0YSA9IHZpZGVvRGF0YTtcbiAgICB9XG5cbiAgICBpZiAoYXVkaW9EYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdWRpb0RhdGEpKSkge1xuICAgICAgc3dpdGNoIChhdWRpb1RyYWNrLnNlZ21lbnRDb2RlYykge1xuICAgICAgICBjYXNlICdhYWMnOlxuICAgICAgICAgIHRoaXMucGFyc2VBQUNQRVMoYXVkaW9UcmFjaywgcGVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbXAzJzpcbiAgICAgICAgICB0aGlzLnBhcnNlTVBFR1BFUyhhdWRpb1RyYWNrLCBwZXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhYzMnOlxuICAgICAgICAgIGlmIChfX1VTRV9NMlRTX0FEVkFOQ0VEX0NPREVDU19fKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlQUMzUEVTKGF1ZGlvVHJhY2ssIHBlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYXVkaW9UcmFjay5wZXNEYXRhID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGF1ZGlvRGF0YT8uc2l6ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICdsYXN0IEFBQyBQRVMgcGFja2V0IHRydW5jYXRlZCxtaWdodCBvdmVybGFwIGJldHdlZW4gZnJhZ21lbnRzJyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gZWl0aGVyIGF1ZGlvRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICBhdWRpb1RyYWNrLnBlc0RhdGEgPSBhdWRpb0RhdGE7XG4gICAgfVxuXG4gICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSkge1xuICAgICAgdGhpcy5wYXJzZUlEM1BFUyhpZDNUcmFjaywgcGVzKTtcbiAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlaXRoZXIgaWQzRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICBpZDNUcmFjay5wZXNEYXRhID0gaWQzRGF0YTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGVtdXhTYW1wbGVBZXMoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICBrZXlEYXRhOiBLZXlEYXRhLFxuICAgIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgKTogUHJvbWlzZTxEZW11eGVyUmVzdWx0PiB7XG4gICAgY29uc3QgZGVtdXhSZXN1bHQgPSB0aGlzLmRlbXV4KFxuICAgICAgZGF0YSxcbiAgICAgIHRpbWVPZmZzZXQsXG4gICAgICB0cnVlLFxuICAgICAgIXRoaXMuY29uZmlnLnByb2dyZXNzaXZlLFxuICAgICk7XG4gICAgY29uc3Qgc2FtcGxlQWVzID0gKHRoaXMuc2FtcGxlQWVzID0gbmV3IFNhbXBsZUFlc0RlY3J5cHRlcihcbiAgICAgIHRoaXMub2JzZXJ2ZXIsXG4gICAgICB0aGlzLmNvbmZpZyxcbiAgICAgIGtleURhdGEsXG4gICAgKSk7XG4gICAgcmV0dXJuIHRoaXMuZGVjcnlwdChkZW11eFJlc3VsdCwgc2FtcGxlQWVzKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVjcnlwdChcbiAgICBkZW11eFJlc3VsdDogRGVtdXhlclJlc3VsdCxcbiAgICBzYW1wbGVBZXM6IFNhbXBsZUFlc0RlY3J5cHRlcixcbiAgKTogUHJvbWlzZTxEZW11eGVyUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCB7IGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2sgfSA9IGRlbXV4UmVzdWx0O1xuICAgICAgaWYgKGF1ZGlvVHJhY2suc2FtcGxlcyAmJiBhdWRpb1RyYWNrLnNlZ21lbnRDb2RlYyA9PT0gJ2FhYycpIHtcbiAgICAgICAgc2FtcGxlQWVzLmRlY3J5cHRBYWNTYW1wbGVzKGF1ZGlvVHJhY2suc2FtcGxlcywgMCwgKCkgPT4ge1xuICAgICAgICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMpIHtcbiAgICAgICAgICAgIHNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsICgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkZW11eFJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShkZW11eFJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW9UcmFjay5zYW1wbGVzKSB7XG4gICAgICAgIHNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRlbXV4UmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQUFDUEVTKHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjaywgcGVzOiBQRVMpIHtcbiAgICBsZXQgc3RhcnRPZmZzZXQgPSAwO1xuICAgIGNvbnN0IGFhY092ZXJGbG93ID0gdGhpcy5hYWNPdmVyRmxvdztcbiAgICBsZXQgZGF0YSA9IHBlcy5kYXRhO1xuICAgIGlmIChhYWNPdmVyRmxvdykge1xuICAgICAgdGhpcy5hYWNPdmVyRmxvdyA9IG51bGw7XG4gICAgICBjb25zdCBmcmFtZU1pc3NpbmdCeXRlcyA9IGFhY092ZXJGbG93Lm1pc3Npbmc7XG4gICAgICBjb25zdCBzYW1wbGVMZW5ndGggPSBhYWNPdmVyRmxvdy5zYW1wbGUudW5pdC5ieXRlTGVuZ3RoO1xuICAgICAgLy8gbG9nZ2VyLmxvZyhgQUFDOiBhcHBlbmQgb3ZlcmZsb3dpbmcgJHtzYW1wbGVMZW5ndGh9IGJ5dGVzIHRvIGJlZ2lubmluZyBvZiBuZXcgUEVTYCk7XG4gICAgICBpZiAoZnJhbWVNaXNzaW5nQnl0ZXMgPT09IC0xKSB7XG4gICAgICAgIGRhdGEgPSBhcHBlbmRVaW50OEFycmF5KGFhY092ZXJGbG93LnNhbXBsZS51bml0LCBkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGZyYW1lT3ZlcmZsb3dCeXRlcyA9IHNhbXBsZUxlbmd0aCAtIGZyYW1lTWlzc2luZ0J5dGVzO1xuICAgICAgICBhYWNPdmVyRmxvdy5zYW1wbGUudW5pdC5zZXQoXG4gICAgICAgICAgZGF0YS5zdWJhcnJheSgwLCBmcmFtZU1pc3NpbmdCeXRlcyksXG4gICAgICAgICAgZnJhbWVPdmVyZmxvd0J5dGVzLFxuICAgICAgICApO1xuICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2goYWFjT3ZlckZsb3cuc2FtcGxlKTtcbiAgICAgICAgc3RhcnRPZmZzZXQgPSBhYWNPdmVyRmxvdy5taXNzaW5nO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBsb29rIGZvciBBRFRTIGhlYWRlciAoMHhGRkZ4KVxuICAgIGxldCBvZmZzZXQ6IG51bWJlcjtcbiAgICBsZXQgbGVuOiBudW1iZXI7XG4gICAgZm9yIChvZmZzZXQgPSBzdGFydE9mZnNldCwgbGVuID0gZGF0YS5sZW5ndGg7IG9mZnNldCA8IGxlbiAtIDE7IG9mZnNldCsrKSB7XG4gICAgICBpZiAoQURUUy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBBRFRTIGhlYWRlciBkb2VzIG5vdCBzdGFydCBzdHJhaWdodCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIFBFUyBwYXlsb2FkLCByYWlzZSBhbiBlcnJvclxuICAgIGlmIChvZmZzZXQgIT09IHN0YXJ0T2Zmc2V0KSB7XG4gICAgICBsZXQgcmVhc29uOiBzdHJpbmc7XG4gICAgICBjb25zdCByZWNvdmVyYWJsZSA9IG9mZnNldCA8IGxlbiAtIDE7XG4gICAgICBpZiAocmVjb3ZlcmFibGUpIHtcbiAgICAgICAgcmVhc29uID0gYEFBQyBQRVMgZGlkIG5vdCBzdGFydCB3aXRoIEFEVFMgaGVhZGVyLG9mZnNldDoke29mZnNldH1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVhc29uID0gJ05vIEFEVFMgaGVhZGVyIGZvdW5kIGluIEFBQyBQRVMnO1xuICAgICAgfVxuICAgICAgZW1pdFBhcnNpbmdFcnJvcih0aGlzLm9ic2VydmVyLCBuZXcgRXJyb3IocmVhc29uKSwgcmVjb3ZlcmFibGUpO1xuICAgICAgaWYgKCFyZWNvdmVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgQURUUy5pbml0VHJhY2tDb25maWcoXG4gICAgICB0cmFjayxcbiAgICAgIHRoaXMub2JzZXJ2ZXIsXG4gICAgICBkYXRhLFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGhpcy5hdWRpb0NvZGVjIGFzIHN0cmluZyxcbiAgICApO1xuXG4gICAgbGV0IHB0czogbnVtYmVyO1xuICAgIGlmIChwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHB0cyA9IHBlcy5wdHM7XG4gICAgfSBlbHNlIGlmIChhYWNPdmVyRmxvdykge1xuICAgICAgLy8gaWYgbGFzdCBBQUMgZnJhbWUgaXMgb3ZlcmZsb3dpbmcsIHdlIHNob3VsZCBlbnN1cmUgdGltZXN0YW1wcyBhcmUgY29udGlndW91czpcbiAgICAgIC8vIGZpcnN0IHNhbXBsZSBQVFMgc2hvdWxkIGJlIGVxdWFsIHRvIGxhc3Qgc2FtcGxlIFBUUyArIGZyYW1lRHVyYXRpb25cbiAgICAgIGNvbnN0IGZyYW1lRHVyYXRpb24gPSBBRFRTLmdldEZyYW1lRHVyYXRpb24odHJhY2suc2FtcGxlcmF0ZSBhcyBudW1iZXIpO1xuICAgICAgcHRzID0gYWFjT3ZlckZsb3cuc2FtcGxlLnB0cyArIGZyYW1lRHVyYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci53YXJuKCdbdHNkZW11eGVyXTogQUFDIFBFUyB1bmtub3duIFBUUycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHNjYW4gZm9yIGFhYyBzYW1wbGVzXG4gICAgbGV0IGZyYW1lSW5kZXggPSAwO1xuICAgIGxldCBmcmFtZTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBmcmFtZSA9IEFEVFMuYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICBpZiAoIWZyYW1lLm1pc3NpbmcpIHtcbiAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgbGVuIC0gMTsgb2Zmc2V0KyspIHtcbiAgICAgICAgICBpZiAoQURUUy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWFjT3ZlckZsb3cgPSBmcmFtZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZU1QRUdQRVModHJhY2s6IERlbXV4ZWRBdWRpb1RyYWNrLCBwZXM6IFBFUykge1xuICAgIGNvbnN0IGRhdGEgPSBwZXMuZGF0YTtcbiAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICBsZXQgZnJhbWVJbmRleCA9IDA7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgY29uc3QgcHRzID0gcGVzLnB0cztcbiAgICBpZiAocHRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdbdHNkZW11eGVyXTogTVBFRyBQRVMgdW5rbm93biBQVFMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoTXBlZ0F1ZGlvLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBNcGVnQXVkaW8uYXBwZW5kRnJhbWUoXG4gICAgICAgICAgdHJhY2ssXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgcHRzLFxuICAgICAgICAgIGZyYW1lSW5kZXgsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ1VuYWJsZSB0byBwYXJzZSBNcGVnIGF1ZGlvIGZyYW1lJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQUMzUEVTKHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjaywgcGVzOiBQRVMpIHtcbiAgICBpZiAoX19VU0VfTTJUU19BRFZBTkNFRF9DT0RFQ1NfXykge1xuICAgICAgY29uc3QgZGF0YSA9IHBlcy5kYXRhO1xuICAgICAgY29uc3QgcHRzID0gcGVzLnB0cztcbiAgICAgIGlmIChwdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb2dnZXIud2FybignW3RzZGVtdXhlcl06IEFDMyBQRVMgdW5rbm93biBQVFMnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICBsZXQgZnJhbWVJbmRleCA9IDA7XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGxldCBwYXJzZWQ7XG5cbiAgICAgIHdoaWxlIChcbiAgICAgICAgb2Zmc2V0IDwgbGVuZ3RoICYmXG4gICAgICAgIChwYXJzZWQgPSBBQzMuYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KyspKSA+IDBcbiAgICAgICkge1xuICAgICAgICBvZmZzZXQgKz0gcGFyc2VkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VJRDNQRVMoaWQzVHJhY2s6IERlbXV4ZWRNZXRhZGF0YVRyYWNrLCBwZXM6IFBFUykge1xuICAgIGlmIChwZXMucHRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdbdHNkZW11eGVyXTogSUQzIFBFUyB1bmtub3duIFBUUycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpZDNTYW1wbGUgPSBPYmplY3QuYXNzaWduKHt9LCBwZXMgYXMgUmVxdWlyZWQ8UEVTPiwge1xuICAgICAgdHlwZTogdGhpcy5fdmlkZW9UcmFjayA/IE1ldGFkYXRhU2NoZW1hLmVtc2cgOiBNZXRhZGF0YVNjaGVtYS5hdWRpb0lkMyxcbiAgICAgIGR1cmF0aW9uOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgfSk7XG4gICAgaWQzVHJhY2suc2FtcGxlcy5wdXNoKGlkM1NhbXBsZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VQSUQoZGF0YTogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICAvLyBwaWQgaXMgYSAxMy1iaXQgZmllbGQgc3RhcnRpbmcgYXQgdGhlIGxhc3QgYml0IG9mIFRTWzFdXG4gIHJldHVybiAoKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDFmKSA8PCA4KSArIGRhdGFbb2Zmc2V0ICsgMl07XG59XG5cbmZ1bmN0aW9uIHBhcnNlUEFUKGRhdGE6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyKTogbnVtYmVyIHtcbiAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuICByZXR1cm4gKChkYXRhW29mZnNldCArIDEwXSAmIDB4MWYpIDw8IDgpIHwgZGF0YVtvZmZzZXQgKyAxMV07XG59XG5cbmZ1bmN0aW9uIHBhcnNlUE1UKFxuICBkYXRhOiBVaW50OEFycmF5LFxuICBvZmZzZXQ6IG51bWJlcixcbiAgdHlwZVN1cHBvcnRlZDogVHlwZVN1cHBvcnRlZCxcbiAgaXNTYW1wbGVBZXM6IGJvb2xlYW4sXG4gIG9ic2VydmVyOiBIbHNFdmVudEVtaXR0ZXIsXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGF1ZGlvUGlkOiAtMSxcbiAgICB2aWRlb1BpZDogLTEsXG4gICAgaWQzUGlkOiAtMSxcbiAgICBzZWdtZW50VmlkZW9Db2RlYzogJ2F2YycsXG4gICAgc2VnbWVudEF1ZGlvQ29kZWM6ICdhYWMnLFxuICB9O1xuICBjb25zdCBzZWN0aW9uTGVuZ3RoID0gKChkYXRhW29mZnNldCArIDFdICYgMHgwZikgPDwgOCkgfCBkYXRhW29mZnNldCArIDJdO1xuICBjb25zdCB0YWJsZUVuZCA9IG9mZnNldCArIDMgKyBzZWN0aW9uTGVuZ3RoIC0gNDtcbiAgLy8gdG8gZGV0ZXJtaW5lIHdoZXJlIHRoZSB0YWJsZSBpcywgd2UgaGF2ZSB0byBmaWd1cmUgb3V0IGhvd1xuICAvLyBsb25nIHRoZSBwcm9ncmFtIGluZm8gZGVzY3JpcHRvcnMgYXJlXG4gIGNvbnN0IHByb2dyYW1JbmZvTGVuZ3RoID1cbiAgICAoKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgwZikgPDwgOCkgfCBkYXRhW29mZnNldCArIDExXTtcbiAgLy8gYWR2YW5jZSB0aGUgb2Zmc2V0IHRvIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgbWFwcGluZyB0YWJsZVxuICBvZmZzZXQgKz0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcbiAgd2hpbGUgKG9mZnNldCA8IHRhYmxlRW5kKSB7XG4gICAgY29uc3QgcGlkID0gcGFyc2VQSUQoZGF0YSwgb2Zmc2V0KTtcbiAgICBjb25zdCBlc0luZm9MZW5ndGggPSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweDBmKSA8PCA4KSB8IGRhdGFbb2Zmc2V0ICsgNF07XG4gICAgc3dpdGNoIChkYXRhW29mZnNldF0pIHtcbiAgICAgIGNhc2UgMHhjZjogLy8gU0FNUExFLUFFUyBBQUNcbiAgICAgICAgaWYgKCFpc1NhbXBsZUFlcykge1xuICAgICAgICAgIGxvZ0VuY3J5cHRlZFNhbXBsZXNGb3VuZEluVW5lbmNyeXB0ZWRTdHJlYW0oJ0FEVFMgQUFDJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgMHgwZjogLy8gSVNPL0lFQyAxMzgxOC03IEFEVFMgQUFDIChNUEVHLTIgbG93ZXIgYml0LXJhdGUgYXVkaW8pXG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ0FBQyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICBpZiAocmVzdWx0LmF1ZGlvUGlkID09PSAtMSkge1xuICAgICAgICAgIHJlc3VsdC5hdWRpb1BpZCA9IHBpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBQYWNrZXRpemVkIG1ldGFkYXRhIChJRDMpXG4gICAgICBjYXNlIDB4MTU6XG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ0lEMyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICBpZiAocmVzdWx0LmlkM1BpZCA9PT0gLTEpIHtcbiAgICAgICAgICByZXN1bHQuaWQzUGlkID0gcGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMHhkYjogLy8gU0FNUExFLUFFUyBBVkNcbiAgICAgICAgaWYgKCFpc1NhbXBsZUFlcykge1xuICAgICAgICAgIGxvZ0VuY3J5cHRlZFNhbXBsZXNGb3VuZEluVW5lbmNyeXB0ZWRTdHJlYW0oJ0guMjY0Jyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgMHgxYjogLy8gSVRVLVQgUmVjLiBILjI2NCBhbmQgSVNPL0lFQyAxNDQ5Ni0xMCAobG93ZXIgYml0LXJhdGUgdmlkZW8pXG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ0FWQyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICBpZiAocmVzdWx0LnZpZGVvUGlkID09PSAtMSkge1xuICAgICAgICAgIHJlc3VsdC52aWRlb1BpZCA9IHBpZDtcbiAgICAgICAgICByZXN1bHQuc2VnbWVudFZpZGVvQ29kZWMgPSAnYXZjJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBJU08vSUVDIDExMTcyLTMgKE1QRUctMSBhdWRpbylcbiAgICAgIC8vIG9yIElTTy9JRUMgMTM4MTgtMyAoTVBFRy0yIGhhbHZlZCBzYW1wbGUgcmF0ZSBhdWRpbylcbiAgICAgIGNhc2UgMHgwMzpcbiAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnTVBFRyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICBpZiAoIXR5cGVTdXBwb3J0ZWQubXBlZyAmJiAhdHlwZVN1cHBvcnRlZC5tcDMpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKCdNUEVHIGF1ZGlvIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlcicpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5hdWRpb1BpZCA9PT0gLTEpIHtcbiAgICAgICAgICByZXN1bHQuYXVkaW9QaWQgPSBwaWQ7XG4gICAgICAgICAgcmVzdWx0LnNlZ21lbnRBdWRpb0NvZGVjID0gJ21wMyc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMHhjMTogLy8gU0FNUExFLUFFUyBBQzNcbiAgICAgICAgaWYgKCFpc1NhbXBsZUFlcykge1xuICAgICAgICAgIGxvZ0VuY3J5cHRlZFNhbXBsZXNGb3VuZEluVW5lbmNyeXB0ZWRTdHJlYW0oJ0FDLTMnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAweDgxOlxuICAgICAgICBpZiAoX19VU0VfTTJUU19BRFZBTkNFRF9DT0RFQ1NfXykge1xuICAgICAgICAgIGlmICghdHlwZVN1cHBvcnRlZC5hYzMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0FDLTMgYXVkaW8gZm91bmQsIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuYXVkaW9QaWQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXN1bHQuYXVkaW9QaWQgPSBwaWQ7XG4gICAgICAgICAgICByZXN1bHQuc2VnbWVudEF1ZGlvQ29kZWMgPSAnYWMzJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oJ0FDLTMgaW4gTTJUUyBzdXBwb3J0IG5vdCBpbmNsdWRlZCBpbiBidWlsZCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDB4MDY6XG4gICAgICAgIC8vIHN0cmVhbV90eXBlIDYgY2FuIG1lYW4gYSBsb3Qgb2YgZGlmZmVyZW50IHRoaW5ncyBpbiBjYXNlIG9mIERWQi5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBsb29rIGF0IHRoZSBkZXNjcmlwdG9ycy4gUmlnaHQgbm93LCB3ZSdyZSBvbmx5IGludGVyZXN0ZWRcbiAgICAgICAgLy8gaW4gQUMtMyBhdWRpbywgc28gd2UgZG8gdGhlIGRlc2NyaXB0b3IgcGFyc2luZyBvbmx5IHdoZW4gd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAvLyBhbiBhdWRpbyBQSUQgeWV0LlxuICAgICAgICBpZiAocmVzdWx0LmF1ZGlvUGlkID09PSAtMSAmJiBlc0luZm9MZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IHBhcnNlUG9zID0gb2Zmc2V0ICsgNTtcbiAgICAgICAgICBsZXQgcmVtYWluaW5nID0gZXNJbmZvTGVuZ3RoO1xuXG4gICAgICAgICAgd2hpbGUgKHJlbWFpbmluZyA+IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3JJZCA9IGRhdGFbcGFyc2VQb3NdO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRlc2NyaXB0b3JJZCkge1xuICAgICAgICAgICAgICBjYXNlIDB4NmE6IC8vIERWQiBEZXNjcmlwdG9yIGZvciBBQy0zXG4gICAgICAgICAgICAgICAgaWYgKF9fVVNFX00yVFNfQURWQU5DRURfQ09ERUNTX18pIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlU3VwcG9ydGVkLmFjMyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICdBQy0zIGF1ZGlvIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciBmb3Igbm93JyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hdWRpb1BpZCA9IHBpZDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNlZ21lbnRBdWRpb0NvZGVjID0gJ2FjMyc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdBQy0zIGluIE0yVFMgc3VwcG9ydCBub3QgaW5jbHVkZWQgaW4gYnVpbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3JMZW4gPSBkYXRhW3BhcnNlUG9zICsgMV0gKyAyO1xuICAgICAgICAgICAgcGFyc2VQb3MgKz0gZGVzY3JpcHRvckxlbjtcbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSBkZXNjcmlwdG9yTGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAweGMyOiAvLyBTQU1QTEUtQUVTIEVDM1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAweDg3OlxuICAgICAgICBlbWl0UGFyc2luZ0Vycm9yKG9ic2VydmVyLCBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIEVDLTMgaW4gTTJUUyBmb3VuZCcpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgY2FzZSAweDI0OlxuICAgICAgICBlbWl0UGFyc2luZ0Vycm9yKG9ic2VydmVyLCBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIEhFVkMgaW4gTTJUUyBmb3VuZCcpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygndW5rbm93biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1vdmUgdG8gdGhlIG5leHQgdGFibGUgZW50cnlcbiAgICAvLyBza2lwIHBhc3QgdGhlIGVsZW1lbnRhcnkgc3RyZWFtIGRlc2NyaXB0b3JzLCBpZiBwcmVzZW50XG4gICAgb2Zmc2V0ICs9IGVzSW5mb0xlbmd0aCArIDU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZW1pdFBhcnNpbmdFcnJvcihcbiAgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcixcbiAgZXJyb3I6IEVycm9yLFxuICBsZXZlbFJldHJ5PzogYm9vbGVhbixcbikge1xuICBsb2dnZXIud2FybihgcGFyc2luZyBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICBvYnNlcnZlci5lbWl0KEV2ZW50cy5FUlJPUiwgRXZlbnRzLkVSUk9SLCB7XG4gICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLFxuICAgIGZhdGFsOiBmYWxzZSxcbiAgICBsZXZlbFJldHJ5LFxuICAgIGVycm9yLFxuICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0VuY3J5cHRlZFNhbXBsZXNGb3VuZEluVW5lbmNyeXB0ZWRTdHJlYW0odHlwZTogc3RyaW5nKSB7XG4gIGxvZ2dlci5sb2coYCR7dHlwZX0gd2l0aCBBRVMtMTI4LUNCQyBlbmNyeXB0aW9uIGZvdW5kIGluIHVuZW5jcnlwdGVkIHN0cmVhbWApO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBFUyhzdHJlYW06IEVsZW1lbnRhcnlTdHJlYW1EYXRhKTogUEVTIHwgbnVsbCB7XG4gIGxldCBpID0gMDtcbiAgbGV0IGZyYWc6IFVpbnQ4QXJyYXk7XG4gIGxldCBwZXNMZW46IG51bWJlcjtcbiAgbGV0IHBlc0hkckxlbjogbnVtYmVyO1xuICBsZXQgcGVzUHRzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGxldCBwZXNEdHM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgY29uc3QgZGF0YSA9IHN0cmVhbS5kYXRhO1xuICAvLyBzYWZldHkgY2hlY2tcbiAgaWYgKCFzdHJlYW0gfHwgc3RyZWFtLnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIHdlIG1pZ2h0IG5lZWQgdXAgdG8gMTkgYnl0ZXMgdG8gcmVhZCBQRVMgaGVhZGVyXG4gIC8vIGlmIGZpcnN0IGNodW5rIG9mIGRhdGEgaXMgbGVzcyB0aGFuIDE5IGJ5dGVzLCBsZXQncyBtZXJnZSBpdCB3aXRoIGZvbGxvd2luZyBvbmVzIHVudGlsIHdlIGdldCAxOSBieXRlc1xuICAvLyB1c3VhbGx5IG9ubHkgb25lIG1lcmdlIGlzIG5lZWRlZCAoYW5kIHRoaXMgaXMgcmFyZSAuLi4pXG4gIHdoaWxlIChkYXRhWzBdLmxlbmd0aCA8IDE5ICYmIGRhdGEubGVuZ3RoID4gMSkge1xuICAgIGRhdGFbMF0gPSBhcHBlbmRVaW50OEFycmF5KGRhdGFbMF0sIGRhdGFbMV0pO1xuICAgIGRhdGEuc3BsaWNlKDEsIDEpO1xuICB9XG4gIC8vIHJldHJpZXZlIFBUUy9EVFMgZnJvbSBmaXJzdCBmcmFnbWVudFxuICBmcmFnID0gZGF0YVswXTtcbiAgY29uc3QgcGVzUHJlZml4ID0gKGZyYWdbMF0gPDwgMTYpICsgKGZyYWdbMV0gPDwgOCkgKyBmcmFnWzJdO1xuICBpZiAocGVzUHJlZml4ID09PSAxKSB7XG4gICAgcGVzTGVuID0gKGZyYWdbNF0gPDwgOCkgKyBmcmFnWzVdO1xuICAgIC8vIGlmIFBFUyBwYXJzZWQgbGVuZ3RoIGlzIG5vdCB6ZXJvIGFuZCBncmVhdGVyIHRoYW4gdG90YWwgcmVjZWl2ZWQgbGVuZ3RoLCBzdG9wIHBhcnNpbmcuIFBFUyBtaWdodCBiZSB0cnVuY2F0ZWRcbiAgICAvLyBtaW51cyA2IDogUEVTIGhlYWRlciBzaXplXG4gICAgaWYgKHBlc0xlbiAmJiBwZXNMZW4gPiBzdHJlYW0uc2l6ZSAtIDYpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHBlc0ZsYWdzID0gZnJhZ1s3XTtcbiAgICBpZiAocGVzRmxhZ3MgJiAweGMwKSB7XG4gICAgICAvKiBQRVMgaGVhZGVyIGRlc2NyaWJlZCBoZXJlIDogaHR0cDovL2R2ZC5zb3VyY2Vmb3JnZS5uZXQvZHZkaW5mby9wZXMtaGRyLmh0bWxcbiAgICAgICAgICBhcyBQVFMgLyBEVFMgaXMgMzMgYml0IHdlIGNhbm5vdCB1c2UgYml0d2lzZSBvcGVyYXRvciBpbiBKUyxcbiAgICAgICAgICBhcyBCaXR3aXNlIG9wZXJhdG9ycyB0cmVhdCB0aGVpciBvcGVyYW5kcyBhcyBhIHNlcXVlbmNlIG9mIDMyIGJpdHMgKi9cbiAgICAgIHBlc1B0cyA9XG4gICAgICAgIChmcmFnWzldICYgMHgwZSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgIChmcmFnWzEwXSAmIDB4ZmYpICogNDE5NDMwNCArIC8vIDEgPDwgMjJcbiAgICAgICAgKGZyYWdbMTFdICYgMHhmZSkgKiAxNjM4NCArIC8vIDEgPDwgMTRcbiAgICAgICAgKGZyYWdbMTJdICYgMHhmZikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgKGZyYWdbMTNdICYgMHhmZSkgLyAyO1xuXG4gICAgICBpZiAocGVzRmxhZ3MgJiAweDQwKSB7XG4gICAgICAgIHBlc0R0cyA9XG4gICAgICAgICAgKGZyYWdbMTRdICYgMHgwZSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgKGZyYWdbMTVdICYgMHhmZikgKiA0MTk0MzA0ICsgLy8gMSA8PCAyMlxuICAgICAgICAgIChmcmFnWzE2XSAmIDB4ZmUpICogMTYzODQgKyAvLyAxIDw8IDE0XG4gICAgICAgICAgKGZyYWdbMTddICYgMHhmZikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAoZnJhZ1sxOF0gJiAweGZlKSAvIDI7XG5cbiAgICAgICAgaWYgKHBlc1B0cyAtIHBlc0R0cyA+IDYwICogOTAwMDApIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGAke01hdGgucm91bmQoXG4gICAgICAgICAgICAgIChwZXNQdHMgLSBwZXNEdHMpIC8gOTAwMDAsXG4gICAgICAgICAgICApfXMgZGVsdGEgYmV0d2VlbiBQVFMgYW5kIERUUywgYWxpZ24gdGhlbWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwZXNQdHMgPSBwZXNEdHM7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlc0R0cyA9IHBlc1B0cztcbiAgICAgIH1cbiAgICB9XG4gICAgcGVzSGRyTGVuID0gZnJhZ1s4XTtcbiAgICAvLyA5IGJ5dGVzIDogNiBieXRlcyBmb3IgUEVTIGhlYWRlciArIDMgYnl0ZXMgZm9yIFBFUyBleHRlbnNpb25cbiAgICBsZXQgcGF5bG9hZFN0YXJ0T2Zmc2V0ID0gcGVzSGRyTGVuICsgOTtcbiAgICBpZiAoc3RyZWFtLnNpemUgPD0gcGF5bG9hZFN0YXJ0T2Zmc2V0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RyZWFtLnNpemUgLT0gcGF5bG9hZFN0YXJ0T2Zmc2V0O1xuICAgIC8vIHJlYXNzZW1ibGUgUEVTIHBhY2tldFxuICAgIGNvbnN0IHBlc0RhdGEgPSBuZXcgVWludDhBcnJheShzdHJlYW0uc2l6ZSk7XG4gICAgZm9yIChsZXQgaiA9IDAsIGRhdGFMZW4gPSBkYXRhLmxlbmd0aDsgaiA8IGRhdGFMZW47IGorKykge1xuICAgICAgZnJhZyA9IGRhdGFbal07XG4gICAgICBsZXQgbGVuID0gZnJhZy5ieXRlTGVuZ3RoO1xuICAgICAgaWYgKHBheWxvYWRTdGFydE9mZnNldCkge1xuICAgICAgICBpZiAocGF5bG9hZFN0YXJ0T2Zmc2V0ID4gbGVuKSB7XG4gICAgICAgICAgLy8gdHJpbSBmdWxsIGZyYWcgaWYgUEVTIGhlYWRlciBiaWdnZXIgdGhhbiBmcmFnXG4gICAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0IC09IGxlbjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0cmltIHBhcnRpYWwgZnJhZyBpZiBQRVMgaGVhZGVyIHNtYWxsZXIgdGhhbiBmcmFnXG4gICAgICAgICAgZnJhZyA9IGZyYWcuc3ViYXJyYXkocGF5bG9hZFN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICBsZW4gLT0gcGF5bG9hZFN0YXJ0T2Zmc2V0O1xuICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlc0RhdGEuc2V0KGZyYWcsIGkpO1xuICAgICAgaSArPSBsZW47XG4gICAgfVxuICAgIGlmIChwZXNMZW4pIHtcbiAgICAgIC8vIHBheWxvYWQgc2l6ZSA6IHJlbW92ZSBQRVMgaGVhZGVyICsgUEVTIGV4dGVuc2lvblxuICAgICAgcGVzTGVuIC09IHBlc0hkckxlbiArIDM7XG4gICAgfVxuICAgIHJldHVybiB7IGRhdGE6IHBlc0RhdGEsIHB0czogcGVzUHRzLCBkdHM6IHBlc0R0cywgbGVuOiBwZXNMZW4gfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVFNEZW11eGVyO1xuIiwgIi8qKlxuICogTVAzIGRlbXV4ZXJcbiAqL1xuaW1wb3J0IEJhc2VBdWRpb0RlbXV4ZXIgZnJvbSAnLi9iYXNlLWF1ZGlvLWRlbXV4ZXInO1xuaW1wb3J0IHsgZ2V0SUQzRGF0YSwgZ2V0VGltZVN0YW1wIH0gZnJvbSAnLi4vaWQzJztcbmltcG9ydCB7IGdldEF1ZGlvQlNJRCB9IGZyb20gJy4vZG9sYnknO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCAqIGFzIE1wZWdBdWRpbyBmcm9tICcuL21wZWdhdWRpbyc7XG5cbmNsYXNzIE1QM0RlbXV4ZXIgZXh0ZW5kcyBCYXNlQXVkaW9EZW11eGVyIHtcbiAgcmVzZXRJbml0U2VnbWVudChcbiAgICBpbml0U2VnbWVudDogVWludDhBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBhdWRpb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdmlkZW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrRHVyYXRpb246IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIucmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdHJhY2tEdXJhdGlvbik7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IHtcbiAgICAgIGNvbnRhaW5lcjogJ2F1ZGlvL21wZWcnLFxuICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgIGlkOiAyLFxuICAgICAgcGlkOiAtMSxcbiAgICAgIHNlcXVlbmNlTnVtYmVyOiAwLFxuICAgICAgc2VnbWVudENvZGVjOiAnbXAzJyxcbiAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgbWFuaWZlc3RDb2RlYzogYXVkaW9Db2RlYyxcbiAgICAgIGR1cmF0aW9uOiB0cmFja0R1cmF0aW9uLFxuICAgICAgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLFxuICAgICAgZHJvcHBlZDogMCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHByb2JlKGRhdGE6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBkYXRhIGNvbnRhaW5zIElEMyB0aW1lc3RhbXAgYW5kIE1QRUcgc3luYyB3b3JkXG4gICAgLy8gTG9vayBmb3IgTVBFRyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTFYIFhZWlggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxIGFuZCBZIG9yIFogc2hvdWxkIGJlIDFcbiAgICAvLyBMYXllciBiaXRzIChwb3NpdGlvbiAxNCBhbmQgMTUpIGluIGhlYWRlciBzaG91bGQgYmUgYWx3YXlzIGRpZmZlcmVudCBmcm9tIDAgKExheWVyIEkgb3IgTGF5ZXIgSUkgb3IgTGF5ZXIgSUlJKVxuICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgY29uc3QgaWQzRGF0YSA9IGdldElEM0RhdGEoZGF0YSwgMCk7XG4gICAgbGV0IG9mZnNldCA9IGlkM0RhdGE/Lmxlbmd0aCB8fCAwO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGFjLTN8ZWMtMyBzeW5jIGJ5dGVzIGFuZCByZXR1cm4gZmFsc2UgaWYgcHJlc2VudFxuICAgIGlmIChcbiAgICAgIGlkM0RhdGEgJiZcbiAgICAgIGRhdGFbb2Zmc2V0XSA9PT0gMHgwYiAmJlxuICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9PT0gMHg3NyAmJlxuICAgICAgZ2V0VGltZVN0YW1wKGlkM0RhdGEpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIC8vIGNoZWNrIHRoZSBic2lkIHRvIGNvbmZpcm0gYWMtMyBvciBlYy0zIChub3QgbXAzKVxuICAgICAgZ2V0QXVkaW9CU0lEKGRhdGEsIG9mZnNldCkgPD0gMTZcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBsZW5ndGggPSBkYXRhLmxlbmd0aDsgb2Zmc2V0IDwgbGVuZ3RoOyBvZmZzZXQrKykge1xuICAgICAgaWYgKE1wZWdBdWRpby5wcm9iZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ01QRUcgQXVkaW8gc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNhblBhcnNlKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiBNcGVnQXVkaW8uY2FuUGFyc2UoZGF0YSwgb2Zmc2V0KTtcbiAgfVxuXG4gIGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQpIHtcbiAgICBpZiAodGhpcy5iYXNlUFRTID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBNcGVnQXVkaW8uYXBwZW5kRnJhbWUoXG4gICAgICB0cmFjayxcbiAgICAgIGRhdGEsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aGlzLmJhc2VQVFMsXG4gICAgICB0aGlzLmZyYW1lSW5kZXgsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNUDNEZW11eGVyO1xuIiwgIi8qKlxuICogIEFBQyBoZWxwZXJcbiAqL1xuXG5jbGFzcyBBQUMge1xuICBzdGF0aWMgZ2V0U2lsZW50RnJhbWUoXG4gICAgY29kZWM/OiBzdHJpbmcsXG4gICAgY2hhbm5lbENvdW50PzogbnVtYmVyLFxuICApOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkIHtcbiAgICBzd2l0Y2ggKGNvZGVjKSB7XG4gICAgICBjYXNlICdtcDRhLjQwLjInOlxuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MjEsIDB4MDAsIDB4NDksIDB4OTAsIDB4MDIsIDB4MTksIDB4MDAsIDB4MjMsIDB4ODAsXG4gICAgICAgICAgXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsXG4gICAgICAgICAgICAweDAwLCAweDhlLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNCkge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LFxuICAgICAgICAgICAgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOCxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCxcbiAgICAgICAgICAgIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MzgsXG4gICAgICAgICAgXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsXG4gICAgICAgICAgICAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLFxuICAgICAgICAgICAgMHgwMCwgMHgyMCwgMHgwOCwgMHhlMCxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gaGFuZGxlIEhFLUFBQyBiZWxvdyAobXA0YS40MC41IC8gbXA0YS40MC4yOSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZSAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NGUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsXG4gICAgICAgICAgICAweDAsIDB4MWMsIDB4NiwgMHhmMSwgMHhjMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLFxuICAgICAgICAgICAgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSxcbiAgICAgICAgICAgIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsXG4gICAgICAgICAgICAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLFxuICAgICAgICAgICAgMHg1YSwgMHg1ZSxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCxcbiAgICAgICAgICAgIDB4MCwgMHgwLCAweDk1LCAweDAsIDB4NiwgMHhmMSwgMHhhMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLFxuICAgICAgICAgICAgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSxcbiAgICAgICAgICAgIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsXG4gICAgICAgICAgICAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLFxuICAgICAgICAgICAgMHg1YSwgMHg1ZSxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLFxuICAgICAgICAgICAgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsXG4gICAgICAgICAgICAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLFxuICAgICAgICAgICAgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSxcbiAgICAgICAgICAgIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsXG4gICAgICAgICAgICAweDVhLCAweDVlLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFBQztcbiIsICIvKipcbiAqIEdlbmVyYXRlIE1QNCBCb3hcbiAqL1xuXG5pbXBvcnQgeyBhcHBlbmRVaW50OEFycmF5IH0gZnJvbSAnLi4vdXRpbHMvbXA0LXRvb2xzJztcblxudHlwZSBIZGxyVHlwZXMgPSB7XG4gIHZpZGVvOiBVaW50OEFycmF5O1xuICBhdWRpbzogVWludDhBcnJheTtcbn07XG5cbmNvbnN0IFVJTlQzMl9NQVggPSBNYXRoLnBvdygyLCAzMikgLSAxO1xuXG5jbGFzcyBNUDQge1xuICBwdWJsaWMgc3RhdGljIHR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXJbXT47XG4gIHByaXZhdGUgc3RhdGljIEhETFJfVFlQRVM6IEhkbHJUeXBlcztcbiAgcHJpdmF0ZSBzdGF0aWMgU1RUUzogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgU1RTQzogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgU1RDTzogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgU1RTWjogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgVk1IRDogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgU01IRDogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgU1RTRDogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgRlRZUDogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBzdGF0aWMgRElORjogVWludDhBcnJheTtcblxuICBzdGF0aWMgaW5pdCgpIHtcbiAgICBNUDQudHlwZXMgPSB7XG4gICAgICBhdmMxOiBbXSwgLy8gY29kaW5nbmFtZVxuICAgICAgYXZjQzogW10sXG4gICAgICBidHJ0OiBbXSxcbiAgICAgIGRpbmY6IFtdLFxuICAgICAgZHJlZjogW10sXG4gICAgICBlc2RzOiBbXSxcbiAgICAgIGZ0eXA6IFtdLFxuICAgICAgaGRscjogW10sXG4gICAgICBtZGF0OiBbXSxcbiAgICAgIG1kaGQ6IFtdLFxuICAgICAgbWRpYTogW10sXG4gICAgICBtZmhkOiBbXSxcbiAgICAgIG1pbmY6IFtdLFxuICAgICAgbW9vZjogW10sXG4gICAgICBtb292OiBbXSxcbiAgICAgIG1wNGE6IFtdLFxuICAgICAgJy5tcDMnOiBbXSxcbiAgICAgIGRhYzM6IFtdLFxuICAgICAgJ2FjLTMnOiBbXSxcbiAgICAgIG12ZXg6IFtdLFxuICAgICAgbXZoZDogW10sXG4gICAgICBwYXNwOiBbXSxcbiAgICAgIHNkdHA6IFtdLFxuICAgICAgc3RibDogW10sXG4gICAgICBzdGNvOiBbXSxcbiAgICAgIHN0c2M6IFtdLFxuICAgICAgc3RzZDogW10sXG4gICAgICBzdHN6OiBbXSxcbiAgICAgIHN0dHM6IFtdLFxuICAgICAgdGZkdDogW10sXG4gICAgICB0ZmhkOiBbXSxcbiAgICAgIHRyYWY6IFtdLFxuICAgICAgdHJhazogW10sXG4gICAgICB0cnVuOiBbXSxcbiAgICAgIHRyZXg6IFtdLFxuICAgICAgdGtoZDogW10sXG4gICAgICB2bWhkOiBbXSxcbiAgICAgIHNtaGQ6IFtdLFxuICAgIH07XG5cbiAgICBsZXQgaTogc3RyaW5nO1xuICAgIGZvciAoaSBpbiBNUDQudHlwZXMpIHtcbiAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgTVA0LnR5cGVzW2ldID0gW1xuICAgICAgICAgIGkuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICBpLmNoYXJDb2RlQXQoMSksXG4gICAgICAgICAgaS5jaGFyQ29kZUF0KDIpLFxuICAgICAgICAgIGkuY2hhckNvZGVBdCgzKSxcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2aWRlb0hkbHIgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgICAweDc2LFxuICAgICAgMHg2OSxcbiAgICAgIDB4NjQsXG4gICAgICAweDY1LCAvLyBoYW5kbGVyX3R5cGU6ICd2aWRlJ1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHg1NixcbiAgICAgIDB4NjksXG4gICAgICAweDY0LFxuICAgICAgMHg2NSxcbiAgICAgIDB4NmYsXG4gICAgICAweDQ4LFxuICAgICAgMHg2MSxcbiAgICAgIDB4NmUsXG4gICAgICAweDY0LFxuICAgICAgMHg2YyxcbiAgICAgIDB4NjUsXG4gICAgICAweDcyLFxuICAgICAgMHgwMCwgLy8gbmFtZTogJ1ZpZGVvSGFuZGxlcidcbiAgICBdKTtcblxuICAgIGNvbnN0IGF1ZGlvSGRsciA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyBmbGFnc1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgIDB4NzMsXG4gICAgICAweDZmLFxuICAgICAgMHg3NSxcbiAgICAgIDB4NmUsIC8vIGhhbmRsZXJfdHlwZTogJ3NvdW4nXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDUzLFxuICAgICAgMHg2ZixcbiAgICAgIDB4NzUsXG4gICAgICAweDZlLFxuICAgICAgMHg2NCxcbiAgICAgIDB4NDgsXG4gICAgICAweDYxLFxuICAgICAgMHg2ZSxcbiAgICAgIDB4NjQsXG4gICAgICAweDZjLFxuICAgICAgMHg2NSxcbiAgICAgIDB4NzIsXG4gICAgICAweDAwLCAvLyBuYW1lOiAnU291bmRIYW5kbGVyJ1xuICAgIF0pO1xuXG4gICAgTVA0LkhETFJfVFlQRVMgPSB7XG4gICAgICB2aWRlbzogdmlkZW9IZGxyLFxuICAgICAgYXVkaW86IGF1ZGlvSGRscixcbiAgICB9O1xuXG4gICAgY29uc3QgZHJlZiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyBmbGFnc1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMSwgLy8gZW50cnlfY291bnRcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MGMsIC8vIGVudHJ5X3NpemVcbiAgICAgIDB4NzUsXG4gICAgICAweDcyLFxuICAgICAgMHg2YyxcbiAgICAgIDB4MjAsIC8vICd1cmwnIHR5cGVcbiAgICAgIDB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAxLCAvLyBlbnRyeV9mbGFnc1xuICAgIF0pO1xuXG4gICAgY29uc3Qgc3RjbyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIC8vIHZlcnNpb25cbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIGVudHJ5X2NvdW50XG4gICAgXSk7XG5cbiAgICBNUDQuU1RUUyA9IE1QNC5TVFNDID0gTVA0LlNUQ08gPSBzdGNvO1xuXG4gICAgTVA0LlNUU1ogPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAvLyB2ZXJzaW9uXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIGZsYWdzXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyBzYW1wbGVfc2l6ZVxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gc2FtcGxlX2NvdW50XG4gICAgXSk7XG4gICAgTVA0LlZNSEQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAvLyB2ZXJzaW9uXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDEsIC8vIGZsYWdzXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gZ3JhcGhpY3Ntb2RlXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIG9wY29sb3JcbiAgICBdKTtcbiAgICBNUDQuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIC8vIHZlcnNpb25cbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyBiYWxhbmNlXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICBdKTtcblxuICAgIE1QNC5TVFNEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIGZsYWdzXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAxLFxuICAgIF0pOyAvLyBlbnRyeV9jb3VudFxuXG4gICAgY29uc3QgbWFqb3JCcmFuZCA9IG5ldyBVaW50OEFycmF5KFsxMDUsIDExNSwgMTExLCAxMDldKTsgLy8gaXNvbVxuICAgIGNvbnN0IGF2YzFCcmFuZCA9IG5ldyBVaW50OEFycmF5KFs5NywgMTE4LCA5OSwgNDldKTsgLy8gYXZjMVxuICAgIGNvbnN0IG1pbm9yVmVyc2lvbiA9IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAxXSk7XG5cbiAgICBNUDQuRlRZUCA9IE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMuZnR5cCxcbiAgICAgIG1ham9yQnJhbmQsXG4gICAgICBtaW5vclZlcnNpb24sXG4gICAgICBtYWpvckJyYW5kLFxuICAgICAgYXZjMUJyYW5kLFxuICAgICk7XG4gICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gIH1cblxuICBzdGF0aWMgYm94KHR5cGUsIC4uLnBheWxvYWQ6IFVpbnQ4QXJyYXlbXSkge1xuICAgIGxldCBzaXplID0gODtcbiAgICBsZXQgaSA9IHBheWxvYWQubGVuZ3RoO1xuICAgIGNvbnN0IGxlbiA9IGk7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBzaXplIHdlIG5lZWQgdG8gYWxsb2NhdGVcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBzaXplICs9IHBheWxvYWRbaV0uYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICByZXN1bHRbMF0gPSAoc2l6ZSA+PiAyNCkgJiAweGZmO1xuICAgIHJlc3VsdFsxXSA9IChzaXplID4+IDE2KSAmIDB4ZmY7XG4gICAgcmVzdWx0WzJdID0gKHNpemUgPj4gOCkgJiAweGZmO1xuICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgIHJlc3VsdC5zZXQodHlwZSwgNCk7XG4gICAgLy8gY29weSB0aGUgcGF5bG9hZCBpbnRvIHRoZSByZXN1bHRcbiAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAvLyBjb3B5IHBheWxvYWRbaV0gYXJyYXkgQCBvZmZzZXQgc2l6ZVxuICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGhkbHIodHlwZSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5oZGxyLCBNUDQuSERMUl9UWVBFU1t0eXBlXSk7XG4gIH1cblxuICBzdGF0aWMgbWRhdChkYXRhKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kYXQsIGRhdGEpO1xuICB9XG5cbiAgc3RhdGljIG1kaGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uICo9IHRpbWVzY2FsZTtcbiAgICBjb25zdCB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICBjb25zdCBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICByZXR1cm4gTVA0LmJveChcbiAgICAgIE1QNC50eXBlcy5tZGhkLFxuICAgICAgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAweDAxLCAvLyB2ZXJzaW9uIDFcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gZmxhZ3NcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMiwgLy8gY3JlYXRpb25fdGltZVxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAzLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgICAodGltZXNjYWxlID4+IDI0KSAmIDB4ZmYsXG4gICAgICAgICh0aW1lc2NhbGUgPj4gMTYpICYgMHhmZixcbiAgICAgICAgKHRpbWVzY2FsZSA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIHRpbWVzY2FsZSAmIDB4ZmYsIC8vIHRpbWVzY2FsZVxuICAgICAgICB1cHBlcldvcmREdXJhdGlvbiA+PiAyNCxcbiAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIHVwcGVyV29yZER1cmF0aW9uICYgMHhmZixcbiAgICAgICAgbG93ZXJXb3JkRHVyYXRpb24gPj4gMjQsXG4gICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiAxNikgJiAweGZmLFxuICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweGZmLFxuICAgICAgICBsb3dlcldvcmREdXJhdGlvbiAmIDB4ZmYsXG4gICAgICAgIDB4NTUsXG4gICAgICAgIDB4YzQsIC8vICd1bmQnIGxhbmd1YWdlICh1bmRldGVybWluZWQpXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICBdKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG1kaWEodHJhY2spIHtcbiAgICByZXR1cm4gTVA0LmJveChcbiAgICAgIE1QNC50eXBlcy5tZGlhLFxuICAgICAgTVA0Lm1kaGQodHJhY2sudGltZXNjYWxlLCB0cmFjay5kdXJhdGlvbiksXG4gICAgICBNUDQuaGRscih0cmFjay50eXBlKSxcbiAgICAgIE1QNC5taW5mKHRyYWNrKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG1maGQoc2VxdWVuY2VOdW1iZXIpIHtcbiAgICByZXR1cm4gTVA0LmJveChcbiAgICAgIE1QNC50eXBlcy5tZmhkLFxuICAgICAgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBmbGFnc1xuICAgICAgICBzZXF1ZW5jZU51bWJlciA+PiAyNCxcbiAgICAgICAgKHNlcXVlbmNlTnVtYmVyID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgIChzZXF1ZW5jZU51bWJlciA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIHNlcXVlbmNlTnVtYmVyICYgMHhmZiwgLy8gc2VxdWVuY2VfbnVtYmVyXG4gICAgICBdKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG1pbmYodHJhY2spIHtcbiAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICAgIE1QNC50eXBlcy5taW5mLFxuICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zbWhkLCBNUDQuU01IRCksXG4gICAgICAgIE1QNC5ESU5GLFxuICAgICAgICBNUDQuc3RibCh0cmFjayksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChcbiAgICAgICAgTVA0LnR5cGVzLm1pbmYsXG4gICAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnZtaGQsIE1QNC5WTUhEKSxcbiAgICAgICAgTVA0LkRJTkYsXG4gICAgICAgIE1QNC5zdGJsKHRyYWNrKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG1vb2Yoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMubW9vZixcbiAgICAgIE1QNC5tZmhkKHNuKSxcbiAgICAgIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG1vb3YodHJhY2tzKSB7XG4gICAgbGV0IGkgPSB0cmFja3MubGVuZ3RoO1xuICAgIGNvbnN0IGJveGVzOiBVaW50OEFycmF5W10gPSBbXTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGJveGVzW2ldID0gTVA0LnRyYWsodHJhY2tzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTVA0LmJveC5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBbTVA0LnR5cGVzLm1vb3YsIE1QNC5tdmhkKHRyYWNrc1swXS50aW1lc2NhbGUsIHRyYWNrc1swXS5kdXJhdGlvbildXG4gICAgICAgIC5jb25jYXQoYm94ZXMpXG4gICAgICAgIC5jb25jYXQoTVA0Lm12ZXgodHJhY2tzKSksXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBtdmV4KHRyYWNrcykge1xuICAgIGxldCBpID0gdHJhY2tzLmxlbmd0aDtcbiAgICBjb25zdCBib3hlczogVWludDhBcnJheVtdID0gW107XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBib3hlc1tpXSA9IE1QNC50cmV4KHRyYWNrc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tdmV4LCAuLi5ib3hlc10pO1xuICB9XG5cbiAgc3RhdGljIG12aGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uICo9IHRpbWVzY2FsZTtcbiAgICBjb25zdCB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICBjb25zdCBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDEsIC8vIHZlcnNpb24gMVxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyBmbGFnc1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAzLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgKHRpbWVzY2FsZSA+PiAyNCkgJiAweGZmLFxuICAgICAgKHRpbWVzY2FsZSA+PiAxNikgJiAweGZmLFxuICAgICAgKHRpbWVzY2FsZSA+PiA4KSAmIDB4ZmYsXG4gICAgICB0aW1lc2NhbGUgJiAweGZmLCAvLyB0aW1lc2NhbGVcbiAgICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LFxuICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4ZmYsXG4gICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweGZmLFxuICAgICAgdXBwZXJXb3JkRHVyYXRpb24gJiAweGZmLFxuICAgICAgbG93ZXJXb3JkRHVyYXRpb24gPj4gMjQsXG4gICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhmZixcbiAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4ZmYsXG4gICAgICBsb3dlcldvcmREdXJhdGlvbiAmIDB4ZmYsXG4gICAgICAweDAwLFxuICAgICAgMHgwMSxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyAxLjAgcmF0ZVxuICAgICAgMHgwMSxcbiAgICAgIDB4MDAsIC8vIDEuMCB2b2x1bWVcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLFxuICAgICAgMHgwMSxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDEsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4NDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsIC8vIHRyYW5zZm9ybWF0aW9uOiB1bml0eSBtYXRyaXhcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgIDB4ZmYsXG4gICAgICAweGZmLFxuICAgICAgMHhmZixcbiAgICAgIDB4ZmYsIC8vIG5leHRfdHJhY2tfSURcbiAgICBdKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZoZCwgYnl0ZXMpO1xuICB9XG5cbiAgc3RhdGljIHNkdHAodHJhY2spIHtcbiAgICBjb25zdCBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDQgKyBzYW1wbGVzLmxlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgbGV0IGZsYWdzO1xuICAgIC8vIGxlYXZlIHRoZSBmdWxsIGJveCBoZWFkZXIgKDQgYnl0ZXMpIGFsbCB6ZXJvXG4gICAgLy8gd3JpdGUgdGhlIHNhbXBsZSB0YWJsZVxuICAgIGZvciAoaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbGFncyA9IHNhbXBsZXNbaV0uZmxhZ3M7XG4gICAgICBieXRlc1tpICsgNF0gPVxuICAgICAgICAoZmxhZ3MuZGVwZW5kc09uIDw8IDQpIHxcbiAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyKSB8XG4gICAgICAgIGZsYWdzLmhhc1JlZHVuZGFuY3k7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnNkdHAsIGJ5dGVzKTtcbiAgfVxuXG4gIHN0YXRpYyBzdGJsKHRyYWNrKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMuc3RibCxcbiAgICAgIE1QNC5zdHNkKHRyYWNrKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5TVFRTKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0c2MsIE1QNC5TVFNDKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5TVFNaKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0Y28sIE1QNC5TVENPKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGF2YzEodHJhY2spIHtcbiAgICBsZXQgc3BzOiBudW1iZXJbXSA9IFtdO1xuICAgIGxldCBwcHM6IG51bWJlcltdID0gW107XG4gICAgbGV0IGk7XG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGxlbjtcbiAgICAvLyBhc3NlbWJsZSB0aGUgU1BTc1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRyYWNrLnNwcy5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YSA9IHRyYWNrLnNwc1tpXTtcbiAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgIHNwcy5wdXNoKChsZW4gPj4+IDgpICYgMHhmZik7XG4gICAgICBzcHMucHVzaChsZW4gJiAweGZmKTtcblxuICAgICAgLy8gU1BTXG4gICAgICBzcHMgPSBzcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICB9XG5cbiAgICAvLyBhc3NlbWJsZSB0aGUgUFBTc1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmFjay5wcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEgPSB0cmFjay5wcHNbaV07XG4gICAgICBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBwcHMucHVzaCgobGVuID4+PiA4KSAmIDB4ZmYpO1xuICAgICAgcHBzLnB1c2gobGVuICYgMHhmZik7XG5cbiAgICAgIHBwcyA9IHBwcy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGF2Y2MgPSBNUDQuYm94KFxuICAgICAgTVA0LnR5cGVzLmF2Y0MsXG4gICAgICBuZXcgVWludDhBcnJheShcbiAgICAgICAgW1xuICAgICAgICAgIDB4MDEsIC8vIHZlcnNpb25cbiAgICAgICAgICBzcHNbM10sIC8vIHByb2ZpbGVcbiAgICAgICAgICBzcHNbNF0sIC8vIHByb2ZpbGUgY29tcGF0XG4gICAgICAgICAgc3BzWzVdLCAvLyBsZXZlbFxuICAgICAgICAgIDB4ZmMgfCAzLCAvLyBsZW5ndGhTaXplTWludXNPbmUsIGhhcmQtY29kZWQgdG8gNCBieXRlc1xuICAgICAgICAgIDB4ZTAgfCB0cmFjay5zcHMubGVuZ3RoLCAvLyAzYml0IHJlc2VydmVkICgxMTEpICsgbnVtT2ZTZXF1ZW5jZVBhcmFtZXRlclNldHNcbiAgICAgICAgXVxuICAgICAgICAgIC5jb25jYXQoc3BzKVxuICAgICAgICAgIC5jb25jYXQoW1xuICAgICAgICAgICAgdHJhY2sucHBzLmxlbmd0aCwgLy8gbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0c1xuICAgICAgICAgIF0pXG4gICAgICAgICAgLmNvbmNhdChwcHMpLFxuICAgICAgKSxcbiAgICApOyAvLyBcIlBQU1wiXG4gICAgY29uc3Qgd2lkdGggPSB0cmFjay53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB0cmFjay5oZWlnaHQ7XG4gICAgY29uc3QgaFNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzBdO1xuICAgIGNvbnN0IHZTcGFjaW5nID0gdHJhY2sucGl4ZWxSYXRpb1sxXTtcblxuICAgIHJldHVybiBNUDQuYm94KFxuICAgICAgTVA0LnR5cGVzLmF2YzEsXG4gICAgICBuZXcgVWludDhBcnJheShbXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDEsIC8vIGRhdGFfcmVmZXJlbmNlX2luZGV4XG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgICAgICh3aWR0aCA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIHdpZHRoICYgMHhmZiwgLy8gd2lkdGhcbiAgICAgICAgKGhlaWdodCA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIGhlaWdodCAmIDB4ZmYsIC8vIGhlaWdodFxuICAgICAgICAweDAwLFxuICAgICAgICAweDQ4LFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBob3JpenJlc29sdXRpb25cbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHg0OCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gdmVydHJlc29sdXRpb25cbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMSwgLy8gZnJhbWVfY291bnRcbiAgICAgICAgMHgxMixcbiAgICAgICAgMHg2NCxcbiAgICAgICAgMHg2MSxcbiAgICAgICAgMHg2OSxcbiAgICAgICAgMHg2YywgLy8gZGFpbHltb3Rpb24vaGxzLmpzXG4gICAgICAgIDB4NzksXG4gICAgICAgIDB4NmQsXG4gICAgICAgIDB4NmYsXG4gICAgICAgIDB4NzQsXG4gICAgICAgIDB4NjksXG4gICAgICAgIDB4NmYsXG4gICAgICAgIDB4NmUsXG4gICAgICAgIDB4MmYsXG4gICAgICAgIDB4NjgsXG4gICAgICAgIDB4NmMsXG4gICAgICAgIDB4NzMsXG4gICAgICAgIDB4MmUsXG4gICAgICAgIDB4NmEsXG4gICAgICAgIDB4NzMsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIGNvbXByZXNzb3JuYW1lXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MTgsIC8vIGRlcHRoID0gMjRcbiAgICAgICAgMHgxMSxcbiAgICAgICAgMHgxMSxcbiAgICAgIF0pLCAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICBhdmNjLFxuICAgICAgTVA0LmJveChcbiAgICAgICAgTVA0LnR5cGVzLmJ0cnQsXG4gICAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAweDAwLFxuICAgICAgICAgIDB4MWMsXG4gICAgICAgICAgMHg5YyxcbiAgICAgICAgICAweDgwLCAvLyBidWZmZXJTaXplREJcbiAgICAgICAgICAweDAwLFxuICAgICAgICAgIDB4MmQsXG4gICAgICAgICAgMHhjNixcbiAgICAgICAgICAweGMwLCAvLyBtYXhCaXRyYXRlXG4gICAgICAgICAgMHgwMCxcbiAgICAgICAgICAweDJkLFxuICAgICAgICAgIDB4YzYsXG4gICAgICAgICAgMHhjMCxcbiAgICAgICAgXSksXG4gICAgICApLCAvLyBhdmdCaXRyYXRlXG4gICAgICBNUDQuYm94KFxuICAgICAgICBNUDQudHlwZXMucGFzcCxcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgIGhTcGFjaW5nID4+IDI0LCAvLyBoU3BhY2luZ1xuICAgICAgICAgIChoU3BhY2luZyA+PiAxNikgJiAweGZmLFxuICAgICAgICAgIChoU3BhY2luZyA+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgaFNwYWNpbmcgJiAweGZmLFxuICAgICAgICAgIHZTcGFjaW5nID4+IDI0LCAvLyB2U3BhY2luZ1xuICAgICAgICAgICh2U3BhY2luZyA+PiAxNikgJiAweGZmLFxuICAgICAgICAgICh2U3BhY2luZyA+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgdlNwYWNpbmcgJiAweGZmLFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBlc2RzKHRyYWNrKSB7XG4gICAgY29uc3QgY29uZmlnbGVuID0gdHJhY2suY29uZmlnLmxlbmd0aDtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICBbXG4gICAgICAgIDB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBmbGFnc1xuXG4gICAgICAgIDB4MDMsIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgICAgICAweDE3ICsgY29uZmlnbGVuLCAvLyBsZW5ndGhcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMSwgLy8gZXNfaWRcbiAgICAgICAgMHgwMCwgLy8gc3RyZWFtX3ByaW9yaXR5XG5cbiAgICAgICAgMHgwNCwgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAgIDB4MGYgKyBjb25maWdsZW4sIC8vIGxlbmd0aFxuICAgICAgICAweDQwLCAvLyBjb2RlYyA6IG1wZWc0X2F1ZGlvXG4gICAgICAgIDB4MTUsIC8vIHN0cmVhbV90eXBlXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIGJ1ZmZlcl9zaXplXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIG1heEJpdHJhdGVcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gYXZnQml0cmF0ZVxuXG4gICAgICAgIDB4MDUsIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgICAgXVxuICAgICAgICAuY29uY2F0KFtjb25maWdsZW5dKVxuICAgICAgICAuY29uY2F0KHRyYWNrLmNvbmZpZylcbiAgICAgICAgLmNvbmNhdChbMHgwNiwgMHgwMSwgMHgwMl0pLFxuICAgICk7IC8vIEdBU3BlY2lmaWNDb25maWcpKTsgLy8gbGVuZ3RoICsgYXVkaW8gY29uZmlnIGRlc2NyaXB0b3JcbiAgfVxuXG4gIHN0YXRpYyBhdWRpb1N0c2QodHJhY2spIHtcbiAgICBjb25zdCBzYW1wbGVyYXRlID0gdHJhY2suc2FtcGxlcmF0ZTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDEsIC8vIGRhdGFfcmVmZXJlbmNlX2luZGV4XG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLFxuICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4MDAsXG4gICAgICB0cmFjay5jaGFubmVsQ291bnQsIC8vIGNoYW5uZWxjb3VudFxuICAgICAgMHgwMCxcbiAgICAgIDB4MTAsIC8vIHNhbXBsZVNpemU6MTZiaXRzXG4gICAgICAweDAwLFxuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgICAweDAwLCAvLyByZXNlcnZlZDJcbiAgICAgIChzYW1wbGVyYXRlID4+IDgpICYgMHhmZixcbiAgICAgIHNhbXBsZXJhdGUgJiAweGZmLCAvL1xuICAgICAgMHgwMCxcbiAgICAgIDB4MDAsXG4gICAgXSk7XG4gIH1cblxuICBzdGF0aWMgbXA0YSh0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KFxuICAgICAgTVA0LnR5cGVzLm1wNGEsXG4gICAgICBNUDQuYXVkaW9TdHNkKHRyYWNrKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIE1QNC5lc2RzKHRyYWNrKSksXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBtcDModHJhY2spIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXNbJy5tcDMnXSwgTVA0LmF1ZGlvU3RzZCh0cmFjaykpO1xuICB9XG5cbiAgc3RhdGljIGFjMyh0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KFxuICAgICAgTVA0LnR5cGVzWydhYy0zJ10sXG4gICAgICBNUDQuYXVkaW9TdHNkKHRyYWNrKSxcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLmRhYzMsIHRyYWNrLmNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzdHNkKHRyYWNrKSB7XG4gICAgaWYgKHRyYWNrLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIGlmICh0cmFjay5zZWdtZW50Q29kZWMgPT09ICdtcDMnICYmIHRyYWNrLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5tcDModHJhY2spKTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFjay5zZWdtZW50Q29kZWMgPT09ICdhYzMnKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuU1RTRCwgTVA0LmFjMyh0cmFjaykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQubXA0YSh0cmFjaykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5hdmMxKHRyYWNrKSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRraGQodHJhY2spIHtcbiAgICBjb25zdCBpZCA9IHRyYWNrLmlkO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gKiB0cmFjay50aW1lc2NhbGU7XG4gICAgY29uc3Qgd2lkdGggPSB0cmFjay53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB0cmFjay5oZWlnaHQ7XG4gICAgY29uc3QgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgY29uc3QgbG93ZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uICUgKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMudGtoZCxcbiAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDcsIC8vIGZsYWdzXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMywgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICAgICAgKGlkID4+IDI0KSAmIDB4ZmYsXG4gICAgICAgIChpZCA+PiAxNikgJiAweGZmLFxuICAgICAgICAoaWQgPj4gOCkgJiAweGZmLFxuICAgICAgICBpZCAmIDB4ZmYsIC8vIHRyYWNrX0lEXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LFxuICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhmZixcbiAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDgpICYgMHhmZixcbiAgICAgICAgdXBwZXJXb3JkRHVyYXRpb24gJiAweGZmLFxuICAgICAgICBsb3dlcldvcmREdXJhdGlvbiA+PiAyNCxcbiAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4ZmYsXG4gICAgICAgIGxvd2VyV29yZER1cmF0aW9uICYgMHhmZixcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gbGF5ZXJcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gYWx0ZXJuYXRlX2dyb3VwXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIG5vbi1hdWRpbyB0cmFjayB2b2x1bWVcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMSxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMSxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHg0MCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwMCwgLy8gdHJhbnNmb3JtYXRpb246IHVuaXR5IG1hdHJpeFxuICAgICAgICAod2lkdGggPj4gOCkgJiAweGZmLFxuICAgICAgICB3aWR0aCAmIDB4ZmYsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIHdpZHRoXG4gICAgICAgIChoZWlnaHQgPj4gOCkgJiAweGZmLFxuICAgICAgICBoZWlnaHQgJiAweGZmLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBoZWlnaHRcbiAgICAgIF0pLFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgdHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgIGNvbnN0IHNhbXBsZURlcGVuZGVuY3lUYWJsZSA9IE1QNC5zZHRwKHRyYWNrKTtcbiAgICBjb25zdCBpZCA9IHRyYWNrLmlkO1xuICAgIGNvbnN0IHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKFxuICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSAvIChVSU5UMzJfTUFYICsgMSksXG4gICAgKTtcbiAgICBjb25zdCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5mbG9vcihcbiAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgJSAoVUlOVDMyX01BWCArIDEpLFxuICAgICk7XG4gICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMudHJhZixcbiAgICAgIE1QNC5ib3goXG4gICAgICAgIE1QNC50eXBlcy50ZmhkLFxuICAgICAgICBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgICAgICAgMHgwMCxcbiAgICAgICAgICAweDAwLFxuICAgICAgICAgIDB4MDAsIC8vIGZsYWdzXG4gICAgICAgICAgaWQgPj4gMjQsXG4gICAgICAgICAgKGlkID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgKGlkID4+IDgpICYgMHhmZixcbiAgICAgICAgICBpZCAmIDB4ZmYsIC8vIHRyYWNrX0lEXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICAgIE1QNC5ib3goXG4gICAgICAgIE1QNC50eXBlcy50ZmR0LFxuICAgICAgICBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgICAgICAgMHgwMCxcbiAgICAgICAgICAweDAwLFxuICAgICAgICAgIDB4MDAsIC8vIGZsYWdzXG4gICAgICAgICAgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAyNCxcbiAgICAgICAgICAodXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAxNikgJiAweGZmLFxuICAgICAgICAgICh1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDgpICYgMHhmZixcbiAgICAgICAgICB1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lICYgMHhmZixcbiAgICAgICAgICBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0LFxuICAgICAgICAgIChsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgKGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gOCkgJiAweGZmLFxuICAgICAgICAgIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgJiAweGZmLFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgICBNUDQudHJ1bihcbiAgICAgICAgdHJhY2ssXG4gICAgICAgIHNhbXBsZURlcGVuZGVuY3lUYWJsZS5sZW5ndGggK1xuICAgICAgICAgIDE2ICsgLy8gdGZoZFxuICAgICAgICAgIDIwICsgLy8gdGZkdFxuICAgICAgICAgIDggKyAvLyB0cmFmIGhlYWRlclxuICAgICAgICAgIDE2ICsgLy8gbWZoZFxuICAgICAgICAgIDggKyAvLyBtb29mIGhlYWRlclxuICAgICAgICAgIDgsXG4gICAgICApLCAvLyBtZGF0IGhlYWRlclxuICAgICAgc2FtcGxlRGVwZW5kZW5jeVRhYmxlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSB0cmFjayBib3guXG4gICAqIEBwYXJhbSB0cmFjayBhIHRyYWNrIGRlZmluaXRpb25cbiAgICovXG4gIHN0YXRpYyB0cmFrKHRyYWNrKSB7XG4gICAgdHJhY2suZHVyYXRpb24gPSB0cmFjay5kdXJhdGlvbiB8fCAweGZmZmZmZmZmO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmFrLCBNUDQudGtoZCh0cmFjayksIE1QNC5tZGlhKHRyYWNrKSk7XG4gIH1cblxuICBzdGF0aWMgdHJleCh0cmFjaykge1xuICAgIGNvbnN0IGlkID0gdHJhY2suaWQ7XG4gICAgcmV0dXJuIE1QNC5ib3goXG4gICAgICBNUDQudHlwZXMudHJleCxcbiAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDAsIC8vIGZsYWdzXG4gICAgICAgIGlkID4+IDI0LFxuICAgICAgICAoaWQgPj4gMTYpICYgMHhmZixcbiAgICAgICAgKGlkID4+IDgpICYgMHhmZixcbiAgICAgICAgaWQgJiAweGZmLCAvLyB0cmFja19JRFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAxLCAvLyBkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvblxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLFxuICAgICAgICAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9zaXplXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDEsXG4gICAgICAgIDB4MDAsXG4gICAgICAgIDB4MDEsIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgICBdKSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHRydW4odHJhY2ssIG9mZnNldCkge1xuICAgIGNvbnN0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdO1xuICAgIGNvbnN0IGxlbiA9IHNhbXBsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGFycmF5bGVuID0gMTIgKyAxNiAqIGxlbjtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5bGVuKTtcbiAgICBsZXQgaTtcbiAgICBsZXQgc2FtcGxlO1xuICAgIGxldCBkdXJhdGlvbjtcbiAgICBsZXQgc2l6ZTtcbiAgICBsZXQgZmxhZ3M7XG4gICAgbGV0IGN0cztcbiAgICBvZmZzZXQgKz0gOCArIGFycmF5bGVuO1xuICAgIGFycmF5LnNldChcbiAgICAgIFtcbiAgICAgICAgdHJhY2sudHlwZSA9PT0gJ3ZpZGVvJyA/IDB4MDEgOiAweDAwLCAvLyB2ZXJzaW9uIDEgZm9yIHZpZGVvIHdpdGggc2lnbmVkLWludCBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgICAgMHgwMCxcbiAgICAgICAgMHgwZixcbiAgICAgICAgMHgwMSwgLy8gZmxhZ3NcbiAgICAgICAgKGxlbiA+Pj4gMjQpICYgMHhmZixcbiAgICAgICAgKGxlbiA+Pj4gMTYpICYgMHhmZixcbiAgICAgICAgKGxlbiA+Pj4gOCkgJiAweGZmLFxuICAgICAgICBsZW4gJiAweGZmLCAvLyBzYW1wbGVfY291bnRcbiAgICAgICAgKG9mZnNldCA+Pj4gMjQpICYgMHhmZixcbiAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhmZixcbiAgICAgICAgKG9mZnNldCA+Pj4gOCkgJiAweGZmLFxuICAgICAgICBvZmZzZXQgJiAweGZmLCAvLyBkYXRhX29mZnNldFxuICAgICAgXSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICBkdXJhdGlvbiA9IHNhbXBsZS5kdXJhdGlvbjtcbiAgICAgIHNpemUgPSBzYW1wbGUuc2l6ZTtcbiAgICAgIGZsYWdzID0gc2FtcGxlLmZsYWdzO1xuICAgICAgY3RzID0gc2FtcGxlLmN0cztcbiAgICAgIGFycmF5LnNldChcbiAgICAgICAgW1xuICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhmZixcbiAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4ZmYsXG4gICAgICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgZHVyYXRpb24gJiAweGZmLCAvLyBzYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAoc2l6ZSA+Pj4gMjQpICYgMHhmZixcbiAgICAgICAgICAoc2l6ZSA+Pj4gMTYpICYgMHhmZixcbiAgICAgICAgICAoc2l6ZSA+Pj4gOCkgJiAweGZmLFxuICAgICAgICAgIHNpemUgJiAweGZmLCAvLyBzYW1wbGVfc2l6ZVxuICAgICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sXG4gICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2KSB8XG4gICAgICAgICAgICAoZmxhZ3MuaGFzUmVkdW5kYW5jeSA8PCA0KSB8XG4gICAgICAgICAgICAoZmxhZ3MucGFkZGluZ1ZhbHVlIDw8IDEpIHxcbiAgICAgICAgICAgIGZsYWdzLmlzTm9uU3luYyxcbiAgICAgICAgICBmbGFncy5kZWdyYWRQcmlvICYgKDB4ZjAgPDwgOCksXG4gICAgICAgICAgZmxhZ3MuZGVncmFkUHJpbyAmIDB4MGYsIC8vIHNhbXBsZV9mbGFnc1xuICAgICAgICAgIChjdHMgPj4+IDI0KSAmIDB4ZmYsXG4gICAgICAgICAgKGN0cyA+Pj4gMTYpICYgMHhmZixcbiAgICAgICAgICAoY3RzID4+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgY3RzICYgMHhmZiwgLy8gc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0XG4gICAgICAgIF0sXG4gICAgICAgIDEyICsgMTYgKiBpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRydW4sIGFycmF5KTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0U2VnbWVudCh0cmFja3MpIHtcbiAgICBpZiAoIU1QNC50eXBlcykge1xuICAgICAgTVA0LmluaXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtb3ZpZSA9IE1QNC5tb292KHRyYWNrcyk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXBwZW5kVWludDhBcnJheShNUDQuRlRZUCwgbW92aWUpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTVA0O1xuIiwgImNvbnN0IE1QRUdfVFNfQ0xPQ0tfRlJFUV9IWiA9IDkwMDAwO1xuXG5leHBvcnQgdHlwZSBSYXRpb25hbFRpbWVzdGFtcCA9IHtcbiAgYmFzZVRpbWU6IG51bWJlcjsgLy8gdGlja3NcbiAgdGltZXNjYWxlOiBudW1iZXI7IC8vIHRpY2tzIHBlciBzZWNvbmRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1RpbWVzY2FsZUZyb21CYXNlKFxuICBiYXNlVGltZTogbnVtYmVyLFxuICBkZXN0U2NhbGU6IG51bWJlcixcbiAgc3JjQmFzZTogbnVtYmVyID0gMSxcbiAgcm91bmQ6IGJvb2xlYW4gPSBmYWxzZSxcbik6IG51bWJlciB7XG4gIGNvbnN0IHJlc3VsdCA9IGJhc2VUaW1lICogZGVzdFNjYWxlICogc3JjQmFzZTsgLy8gZXF1aXZhbGVudCB0byBgKHZhbHVlICogc2NhbGUpIC8gKDEgLyBiYXNlKWBcbiAgcmV0dXJuIHJvdW5kID8gTWF0aC5yb3VuZChyZXN1bHQpIDogcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9UaW1lc2NhbGVGcm9tU2NhbGUoXG4gIGJhc2VUaW1lOiBudW1iZXIsXG4gIGRlc3RTY2FsZTogbnVtYmVyLFxuICBzcmNTY2FsZTogbnVtYmVyID0gMSxcbiAgcm91bmQ6IGJvb2xlYW4gPSBmYWxzZSxcbik6IG51bWJlciB7XG4gIHJldHVybiB0b1RpbWVzY2FsZUZyb21CYXNlKGJhc2VUaW1lLCBkZXN0U2NhbGUsIDEgLyBzcmNTY2FsZSwgcm91bmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9Nc0Zyb21NcGVnVHNDbG9jayhcbiAgYmFzZVRpbWU6IG51bWJlcixcbiAgcm91bmQ6IGJvb2xlYW4gPSBmYWxzZSxcbik6IG51bWJlciB7XG4gIHJldHVybiB0b1RpbWVzY2FsZUZyb21CYXNlKGJhc2VUaW1lLCAxMDAwLCAxIC8gTVBFR19UU19DTE9DS19GUkVRX0haLCByb3VuZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b01wZWdUc0Nsb2NrRnJvbVRpbWVzY2FsZShcbiAgYmFzZVRpbWU6IG51bWJlcixcbiAgc3JjU2NhbGU6IG51bWJlciA9IDEsXG4pOiBudW1iZXIge1xuICByZXR1cm4gdG9UaW1lc2NhbGVGcm9tQmFzZShiYXNlVGltZSwgTVBFR19UU19DTE9DS19GUkVRX0haLCAxIC8gc3JjU2NhbGUpO1xufVxuIiwgImltcG9ydCBBQUMgZnJvbSAnLi9hYWMtaGVscGVyJztcbmltcG9ydCBNUDQgZnJvbSAnLi9tcDQtZ2VuZXJhdG9yJztcbmltcG9ydCB0eXBlIHsgSGxzRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBFcnJvclR5cGVzLCBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7XG4gIEluaXRTZWdtZW50RGF0YSxcbiAgUmVtdXhlcixcbiAgUmVtdXhlclJlc3VsdCxcbiAgUmVtdXhlZE1ldGFkYXRhLFxuICBSZW11eGVkVHJhY2ssXG4gIFJlbXV4ZWRVc2VyZGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvcmVtdXhlcic7XG5pbXBvcnQgeyBQbGF5bGlzdExldmVsVHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQge1xuICBSYXRpb25hbFRpbWVzdGFtcCxcbiAgdG9Nc0Zyb21NcGVnVHNDbG9jayxcbn0gZnJvbSAnLi4vdXRpbHMvdGltZXNjYWxlLWNvbnZlcnNpb24nO1xuaW1wb3J0IHR5cGUge1xuICBBdWRpb1NhbXBsZSxcbiAgVmlkZW9TYW1wbGUsXG4gIERlbXV4ZWRBdWRpb1RyYWNrLFxuICBEZW11eGVkVmlkZW9UcmFjayxcbiAgRGVtdXhlZE1ldGFkYXRhVHJhY2ssXG4gIERlbXV4ZWRVc2VyZGF0YVRyYWNrLFxufSBmcm9tICcuLi90eXBlcy9kZW11eGVyJztcbmltcG9ydCB0eXBlIHsgVHJhY2tTZXQgfSBmcm9tICcuLi90eXBlcy90cmFjayc7XG5pbXBvcnQgdHlwZSB7IFNvdXJjZUJ1ZmZlck5hbWUgfSBmcm9tICcuLi90eXBlcy9idWZmZXInO1xuaW1wb3J0IHR5cGUgeyBGcmFnbWVudCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IE1BWF9TSUxFTlRfRlJBTUVfRFVSQVRJT04gPSAxMCAqIDEwMDA7IC8vIDEwIHNlY29uZHNcbmNvbnN0IEFBQ19TQU1QTEVTX1BFUl9GUkFNRSA9IDEwMjQ7XG5jb25zdCBNUEVHX0FVRElPX1NBTVBMRV9QRVJfRlJBTUUgPSAxMTUyO1xuY29uc3QgQUMzX1NBTVBMRVNfUEVSX0ZSQU1FID0gMTUzNjtcblxubGV0IGNocm9tZVZlcnNpb246IG51bWJlciB8IG51bGwgPSBudWxsO1xubGV0IHNhZmFyaVdlYmtpdFZlcnNpb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNUDRSZW11eGVyIGltcGxlbWVudHMgUmVtdXhlciB7XG4gIHByaXZhdGUgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcjtcbiAgcHJpdmF0ZSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSB0eXBlU3VwcG9ydGVkOiBhbnk7XG4gIHByaXZhdGUgSVNHZW5lcmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaW5pdFBUUzogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfaW5pdERUUzogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBuZXh0QXZjRHRzOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBuZXh0QXVkaW9QdHM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHZpZGVvU2FtcGxlRHVyYXRpb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzQXVkaW9Db250aWd1b3VzOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaXNWaWRlb0NvbnRpZ3VvdXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSB2aWRlb1RyYWNrQ29uZmlnPzoge1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICBwaXhlbFJhdGlvPzogW251bWJlciwgbnVtYmVyXTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBvYnNlcnZlcjogSGxzRXZlbnRFbWl0dGVyLFxuICAgIGNvbmZpZzogSGxzQ29uZmlnLFxuICAgIHR5cGVTdXBwb3J0ZWQsXG4gICAgdmVuZG9yID0gJycsXG4gICkge1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgIHRoaXMuSVNHZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgIGlmIChjaHJvbWVWZXJzaW9uID09PSBudWxsKSB7XG4gICAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvaSk7XG4gICAgICBjaHJvbWVWZXJzaW9uID0gcmVzdWx0ID8gcGFyc2VJbnQocmVzdWx0WzFdKSA6IDA7XG4gICAgfVxuICAgIGlmIChzYWZhcmlXZWJraXRWZXJzaW9uID09PSBudWxsKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9TYWZhcmlcXC8oXFxkKykvaSk7XG4gICAgICBzYWZhcmlXZWJraXRWZXJzaW9uID0gcmVzdWx0ID8gcGFyc2VJbnQocmVzdWx0WzFdKSA6IDA7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5jb25maWcgPSB0aGlzLnZpZGVvVHJhY2tDb25maWcgPSB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IG51bGw7XG4gIH1cblxuICByZXNldFRpbWVTdGFtcChkZWZhdWx0VGltZVN0YW1wOiBSYXRpb25hbFRpbWVzdGFtcCB8IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKCdbbXA0LXJlbXV4ZXJdOiBpbml0UFRTICYgaW5pdERUUyByZXNldCcpO1xuICAgIHRoaXMuX2luaXRQVFMgPSB0aGlzLl9pbml0RFRTID0gZGVmYXVsdFRpbWVTdGFtcDtcbiAgfVxuXG4gIHJlc2V0TmV4dFRpbWVzdGFtcCgpIHtcbiAgICBsb2dnZXIubG9nKCdbbXA0LXJlbXV4ZXJdOiByZXNldCBuZXh0IHRpbWVzdGFtcCcpO1xuICAgIHRoaXMuaXNWaWRlb0NvbnRpZ3VvdXMgPSBmYWxzZTtcbiAgICB0aGlzLmlzQXVkaW9Db250aWd1b3VzID0gZmFsc2U7XG4gIH1cblxuICByZXNldEluaXRTZWdtZW50KCkge1xuICAgIGxvZ2dlci5sb2coJ1ttcDQtcmVtdXhlcl06IElTR2VuZXJhdGVkIGZsYWcgcmVzZXQnKTtcbiAgICB0aGlzLklTR2VuZXJhdGVkID0gZmFsc2U7XG4gICAgdGhpcy52aWRlb1RyYWNrQ29uZmlnID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0VmlkZW9TdGFydFB0cyh2aWRlb1NhbXBsZXMpIHtcbiAgICBsZXQgcm9sbG92ZXJEZXRlY3RlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHN0YXJ0UFRTID0gdmlkZW9TYW1wbGVzLnJlZHVjZSgobWluUFRTLCBzYW1wbGUpID0+IHtcbiAgICAgIGNvbnN0IGRlbHRhID0gc2FtcGxlLnB0cyAtIG1pblBUUztcbiAgICAgIGlmIChkZWx0YSA8IC00Mjk0OTY3Mjk2KSB7XG4gICAgICAgIC8vIDJeMzIsIHNlZSBQVFNOb3JtYWxpemUgZm9yIHJlYXNvbmluZywgYnV0IHdlJ3JlIGhpdHRpbmcgYSByb2xsb3ZlciBoZXJlLCBhbmQgd2UgZG9uJ3Qgd2FudCB0aGF0IHRvIGltcGFjdCB0aGUgdGltZU9mZnNldCBjYWxjdWxhdGlvblxuICAgICAgICByb2xsb3ZlckRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVB0cyhtaW5QVFMsIHNhbXBsZS5wdHMpO1xuICAgICAgfSBlbHNlIGlmIChkZWx0YSA+IDApIHtcbiAgICAgICAgcmV0dXJuIG1pblBUUztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzYW1wbGUucHRzO1xuICAgICAgfVxuICAgIH0sIHZpZGVvU2FtcGxlc1swXS5wdHMpO1xuICAgIGlmIChyb2xsb3ZlckRldGVjdGVkKSB7XG4gICAgICBsb2dnZXIuZGVidWcoJ1BUUyByb2xsb3ZlciBkZXRlY3RlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRQVFM7XG4gIH1cblxuICByZW11eChcbiAgICBhdWRpb1RyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgICB2aWRlb1RyYWNrOiBEZW11eGVkVmlkZW9UcmFjayxcbiAgICBpZDNUcmFjazogRGVtdXhlZE1ldGFkYXRhVHJhY2ssXG4gICAgdGV4dFRyYWNrOiBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgYWNjdXJhdGVUaW1lT2Zmc2V0OiBib29sZWFuLFxuICAgIGZsdXNoOiBib29sZWFuLFxuICAgIHBsYXlsaXN0VHlwZTogUGxheWxpc3RMZXZlbFR5cGUsXG4gICk6IFJlbXV4ZXJSZXN1bHQge1xuICAgIGxldCB2aWRlbzogUmVtdXhlZFRyYWNrIHwgdW5kZWZpbmVkO1xuICAgIGxldCBhdWRpbzogUmVtdXhlZFRyYWNrIHwgdW5kZWZpbmVkO1xuICAgIGxldCBpbml0U2VnbWVudDogSW5pdFNlZ21lbnREYXRhIHwgdW5kZWZpbmVkO1xuICAgIGxldCB0ZXh0OiBSZW11eGVkVXNlcmRhdGEgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGlkMzogUmVtdXhlZE1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgIGxldCBpbmRlcGVuZGVudDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICBsZXQgYXVkaW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgICBsZXQgdmlkZW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcblxuICAgIC8vIElmIHdlJ3JlIHJlbXV4aW5nIGF1ZGlvIGFuZCB2aWRlbyBwcm9ncmVzc2l2ZWx5LCB3YWl0IHVudGlsIHdlJ3ZlIHJlY2VpdmVkIGVub3VnaCBzYW1wbGVzIGZvciBlYWNoIHRyYWNrIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgIC8vIFRoaXMgaXMgZG9uZSB0byBzeW5jaHJvbml6ZSB0aGUgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMuIFdlIGtub3cgaWYgdGhlIGN1cnJlbnQgc2VnbWVudCB3aWxsIGhhdmUgc2FtcGxlcyBpZiB0aGUgXCJwaWRcIlxuICAgIC8vIHBhcmFtZXRlciBpcyBncmVhdGVyIHRoYW4gLTEuIFRoZSBwaWQgaXMgc2V0IHdoZW4gdGhlIFBNVCBpcyBwYXJzZWQsIHdoaWNoIGNvbnRhaW5zIHRoZSB0cmFja3MgbGlzdC5cbiAgICAvLyBIb3dldmVyLCBpZiB0aGUgaW5pdFNlZ21lbnQgaGFzIGFscmVhZHkgYmVlbiBnZW5lcmF0ZWQsIG9yIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiBhIHNlZ21lbnQgKGZsdXNoKSxcbiAgICAvLyB0aGVuIHdlIGNhbiByZW11eCBvbmUgdHJhY2sgd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgb3RoZXIuXG4gICAgY29uc3QgaGFzQXVkaW8gPSBhdWRpb1RyYWNrLnBpZCA+IC0xO1xuICAgIGNvbnN0IGhhc1ZpZGVvID0gdmlkZW9UcmFjay5waWQgPiAtMTtcbiAgICBjb25zdCBsZW5ndGggPSB2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGVub3VnaEF1ZGlvU2FtcGxlcyA9IGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGggPiAwO1xuICAgIGNvbnN0IGVub3VnaFZpZGVvU2FtcGxlcyA9IChmbHVzaCAmJiBsZW5ndGggPiAwKSB8fCBsZW5ndGggPiAxO1xuICAgIGNvbnN0IGNhblJlbXV4QXZjID1cbiAgICAgICgoIWhhc0F1ZGlvIHx8IGVub3VnaEF1ZGlvU2FtcGxlcykgJiZcbiAgICAgICAgKCFoYXNWaWRlbyB8fCBlbm91Z2hWaWRlb1NhbXBsZXMpKSB8fFxuICAgICAgdGhpcy5JU0dlbmVyYXRlZCB8fFxuICAgICAgZmx1c2g7XG5cbiAgICBpZiAoY2FuUmVtdXhBdmMpIHtcbiAgICAgIGlmICh0aGlzLklTR2VuZXJhdGVkKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMudmlkZW9UcmFja0NvbmZpZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbmZpZyAmJlxuICAgICAgICAgICh2aWRlb1RyYWNrLndpZHRoICE9PSBjb25maWcud2lkdGggfHxcbiAgICAgICAgICAgIHZpZGVvVHJhY2suaGVpZ2h0ICE9PSBjb25maWcuaGVpZ2h0IHx8XG4gICAgICAgICAgICB2aWRlb1RyYWNrLnBpeGVsUmF0aW8/LlswXSAhPT0gY29uZmlnLnBpeGVsUmF0aW8/LlswXSB8fFxuICAgICAgICAgICAgdmlkZW9UcmFjay5waXhlbFJhdGlvPy5bMV0gIT09IGNvbmZpZy5waXhlbFJhdGlvPy5bMV0pXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucmVzZXRJbml0U2VnbWVudCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0U2VnbWVudCA9IHRoaXMuZ2VuZXJhdGVJUyhcbiAgICAgICAgICBhdWRpb1RyYWNrLFxuICAgICAgICAgIHZpZGVvVHJhY2ssXG4gICAgICAgICAgdGltZU9mZnNldCxcbiAgICAgICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzVmlkZW9Db250aWd1b3VzID0gdGhpcy5pc1ZpZGVvQ29udGlndW91cztcbiAgICAgIGxldCBmaXJzdEtleUZyYW1lSW5kZXggPSAtMTtcbiAgICAgIGxldCBmaXJzdEtleUZyYW1lUFRTO1xuXG4gICAgICBpZiAoZW5vdWdoVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgIGZpcnN0S2V5RnJhbWVJbmRleCA9IGZpbmRLZXlmcmFtZUluZGV4KHZpZGVvVHJhY2suc2FtcGxlcyk7XG4gICAgICAgIGlmICghaXNWaWRlb0NvbnRpZ3VvdXMgJiYgdGhpcy5jb25maWcuZm9yY2VLZXlGcmFtZU9uRGlzY29udGludWl0eSkge1xuICAgICAgICAgIGluZGVwZW5kZW50ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZmlyc3RLZXlGcmFtZUluZGV4ID4gMCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIGBbbXA0LXJlbXV4ZXJdOiBEcm9wcGVkICR7Zmlyc3RLZXlGcmFtZUluZGV4fSBvdXQgb2YgJHtsZW5ndGh9IHZpZGVvIHNhbXBsZXMgZHVlIHRvIGEgbWlzc2luZyBrZXlmcmFtZWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRQVFMgPSB0aGlzLmdldFZpZGVvU3RhcnRQdHModmlkZW9UcmFjay5zYW1wbGVzKTtcbiAgICAgICAgICAgIHZpZGVvVHJhY2suc2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcy5zbGljZShmaXJzdEtleUZyYW1lSW5kZXgpO1xuICAgICAgICAgICAgdmlkZW9UcmFjay5kcm9wcGVkICs9IGZpcnN0S2V5RnJhbWVJbmRleDtcbiAgICAgICAgICAgIHZpZGVvVGltZU9mZnNldCArPVxuICAgICAgICAgICAgICAodmlkZW9UcmFjay5zYW1wbGVzWzBdLnB0cyAtIHN0YXJ0UFRTKSAvXG4gICAgICAgICAgICAgIHZpZGVvVHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgICAgICBmaXJzdEtleUZyYW1lUFRTID0gdmlkZW9UaW1lT2Zmc2V0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RLZXlGcmFtZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIGBbbXA0LXJlbXV4ZXJdOiBObyBrZXlmcmFtZSBmb3VuZCBvdXQgb2YgJHtsZW5ndGh9IHZpZGVvIHNhbXBsZXNgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluZGVwZW5kZW50ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLklTR2VuZXJhdGVkKSB7XG4gICAgICAgIGlmIChlbm91Z2hBdWRpb1NhbXBsZXMgJiYgZW5vdWdoVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgICAgLy8gdGltZU9mZnNldCBpcyBleHBlY3RlZCB0byBiZSB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCB0aW1lc3RhbXAgb2YgdGhpcyBmcmFnbWVudCAoZmlyc3QgRFRTKVxuICAgICAgICAgIC8vIGlmIGZpcnN0IGF1ZGlvIERUUyBpcyBub3QgYWxpZ25lZCB3aXRoIGZpcnN0IHZpZGVvIERUUyB0aGVuIHdlIG5lZWQgdG8gdGFrZSB0aGF0IGludG8gYWNjb3VudFxuICAgICAgICAgIC8vIHdoZW4gcHJvdmlkaW5nIHRpbWVPZmZzZXQgdG8gcmVtdXhBdWRpbyAvIHJlbXV4VmlkZW8uIGlmIHdlIGRvbid0IGRvIHRoYXQsIHRoZXJlIG1pZ2h0IGJlIGEgcGVybWFuZW50IC8gc21hbGxcbiAgICAgICAgICAvLyBkcmlmdCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zXG4gICAgICAgICAgY29uc3Qgc3RhcnRQVFMgPSB0aGlzLmdldFZpZGVvU3RhcnRQdHModmlkZW9UcmFjay5zYW1wbGVzKTtcbiAgICAgICAgICBjb25zdCB0c0RlbHRhID1cbiAgICAgICAgICAgIG5vcm1hbGl6ZVB0cyhhdWRpb1RyYWNrLnNhbXBsZXNbMF0ucHRzLCBzdGFydFBUUykgLSBzdGFydFBUUztcbiAgICAgICAgICBjb25zdCBhdWRpb3ZpZGVvVGltZXN0YW1wRGVsdGEgPSB0c0RlbHRhIC8gdmlkZW9UcmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICBhdWRpb1RpbWVPZmZzZXQgKz0gTWF0aC5tYXgoMCwgYXVkaW92aWRlb1RpbWVzdGFtcERlbHRhKTtcbiAgICAgICAgICB2aWRlb1RpbWVPZmZzZXQgKz0gTWF0aC5tYXgoMCwgLWF1ZGlvdmlkZW9UaW1lc3RhbXBEZWx0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQdXJwb3NlZnVsbHkgcmVtdXhpbmcgYXVkaW8gYmVmb3JlIHZpZGVvLCBzbyB0aGF0IHJlbXV4VmlkZW8gY2FuIHVzZSBuZXh0QXVkaW9QdHMsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgaW4gcmVtdXhBdWRpby5cbiAgICAgICAgaWYgKGVub3VnaEF1ZGlvU2FtcGxlcykge1xuICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCBhdWRpbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgaWYgKCFhdWRpb1RyYWNrLnNhbXBsZXJhdGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAnW21wNC1yZW11eGVyXTogcmVnZW5lcmF0ZSBJbml0U2VnbWVudCBhcyBhdWRpbyBkZXRlY3RlZCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5pdFNlZ21lbnQgPSB0aGlzLmdlbmVyYXRlSVMoXG4gICAgICAgICAgICAgIGF1ZGlvVHJhY2ssXG4gICAgICAgICAgICAgIHZpZGVvVHJhY2ssXG4gICAgICAgICAgICAgIHRpbWVPZmZzZXQsXG4gICAgICAgICAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF1ZGlvID0gdGhpcy5yZW11eEF1ZGlvKFxuICAgICAgICAgICAgYXVkaW9UcmFjayxcbiAgICAgICAgICAgIGF1ZGlvVGltZU9mZnNldCxcbiAgICAgICAgICAgIHRoaXMuaXNBdWRpb0NvbnRpZ3VvdXMsXG4gICAgICAgICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICAgICAgICBoYXNWaWRlbyB8fFxuICAgICAgICAgICAgICBlbm91Z2hWaWRlb1NhbXBsZXMgfHxcbiAgICAgICAgICAgICAgcGxheWxpc3RUeXBlID09PSBQbGF5bGlzdExldmVsVHlwZS5BVURJT1xuICAgICAgICAgICAgICA/IHZpZGVvVGltZU9mZnNldFxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChlbm91Z2hWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2tMZW5ndGggPSBhdWRpbyA/IGF1ZGlvLmVuZFBUUyAtIGF1ZGlvLnN0YXJ0UFRTIDogMDtcbiAgICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCB2aWRlbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgICBpZiAoIXZpZGVvVHJhY2suaW5wdXRUaW1lU2NhbGUpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgICAgJ1ttcDQtcmVtdXhlcl06IHJlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgdmlkZW8gZGV0ZWN0ZWQnLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpbml0U2VnbWVudCA9IHRoaXMuZ2VuZXJhdGVJUyhcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLFxuICAgICAgICAgICAgICAgIHZpZGVvVHJhY2ssXG4gICAgICAgICAgICAgICAgdGltZU9mZnNldCxcbiAgICAgICAgICAgICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWRlbyA9IHRoaXMucmVtdXhWaWRlbyhcbiAgICAgICAgICAgICAgdmlkZW9UcmFjayxcbiAgICAgICAgICAgICAgdmlkZW9UaW1lT2Zmc2V0LFxuICAgICAgICAgICAgICBpc1ZpZGVvQ29udGlndW91cyxcbiAgICAgICAgICAgICAgYXVkaW9UcmFja0xlbmd0aCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVub3VnaFZpZGVvU2FtcGxlcykge1xuICAgICAgICAgIHZpZGVvID0gdGhpcy5yZW11eFZpZGVvKFxuICAgICAgICAgICAgdmlkZW9UcmFjayxcbiAgICAgICAgICAgIHZpZGVvVGltZU9mZnNldCxcbiAgICAgICAgICAgIGlzVmlkZW9Db250aWd1b3VzLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWRlbykge1xuICAgICAgICAgIHZpZGVvLmZpcnN0S2V5RnJhbWUgPSBmaXJzdEtleUZyYW1lSW5kZXg7XG4gICAgICAgICAgdmlkZW8uaW5kZXBlbmRlbnQgPSBmaXJzdEtleUZyYW1lSW5kZXggIT09IC0xO1xuICAgICAgICAgIHZpZGVvLmZpcnN0S2V5RnJhbWVQVFMgPSBmaXJzdEtleUZyYW1lUFRTO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgSUQzIGFuZCB0ZXh0IHRvIHJlbXV4LCBldmVuIGlmIG1vcmUgYXVkaW8vdmlkZW8gc2FtcGxlcyBhcmUgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5JU0dlbmVyYXRlZCAmJiB0aGlzLl9pbml0UFRTICYmIHRoaXMuX2luaXREVFMpIHtcbiAgICAgIGlmIChpZDNUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICBpZDMgPSBmbHVzaFRleHRUcmFja01ldGFkYXRhQ3VlU2FtcGxlcyhcbiAgICAgICAgICBpZDNUcmFjayxcbiAgICAgICAgICB0aW1lT2Zmc2V0LFxuICAgICAgICAgIHRoaXMuX2luaXRQVFMsXG4gICAgICAgICAgdGhpcy5faW5pdERUUyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHRUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICB0ZXh0ID0gZmx1c2hUZXh0VHJhY2tVc2VyZGF0YUN1ZVNhbXBsZXMoXG4gICAgICAgICAgdGV4dFRyYWNrLFxuICAgICAgICAgIHRpbWVPZmZzZXQsXG4gICAgICAgICAgdGhpcy5faW5pdFBUUyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXVkaW8sXG4gICAgICB2aWRlbyxcbiAgICAgIGluaXRTZWdtZW50LFxuICAgICAgaW5kZXBlbmRlbnQsXG4gICAgICB0ZXh0LFxuICAgICAgaWQzLFxuICAgIH07XG4gIH1cblxuICBnZW5lcmF0ZUlTKFxuICAgIGF1ZGlvVHJhY2s6IERlbXV4ZWRBdWRpb1RyYWNrLFxuICAgIHZpZGVvVHJhY2s6IERlbXV4ZWRWaWRlb1RyYWNrLFxuICAgIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgICBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGJvb2xlYW4sXG4gICk6IEluaXRTZWdtZW50RGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgYXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzO1xuICAgIGNvbnN0IHZpZGVvU2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcztcbiAgICBjb25zdCB0eXBlU3VwcG9ydGVkID0gdGhpcy50eXBlU3VwcG9ydGVkO1xuICAgIGNvbnN0IHRyYWNrczogVHJhY2tTZXQgPSB7fTtcbiAgICBjb25zdCBfaW5pdFBUUyA9IHRoaXMuX2luaXRQVFM7XG4gICAgbGV0IGNvbXB1dGVQVFNEVFMgPSAhX2luaXRQVFMgfHwgYWNjdXJhdGVUaW1lT2Zmc2V0O1xuICAgIGxldCBjb250YWluZXIgPSAnYXVkaW8vbXA0JztcbiAgICBsZXQgaW5pdFBUUzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGxldCBpbml0RFRTOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgbGV0IHRpbWVzY2FsZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKGNvbXB1dGVQVFNEVFMpIHtcbiAgICAgIGluaXRQVFMgPSBpbml0RFRTID0gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvVHJhY2suY29uZmlnICYmIGF1ZGlvU2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIC8vIGxldCdzIHVzZSBhdWRpbyBzYW1wbGluZyByYXRlIGFzIE1QNCB0aW1lIHNjYWxlLlxuICAgICAgLy8gcmF0aW9uYWxlIGlzIHRoYXQgdGhlcmUgaXMgYSBpbnRlZ2VyIG5iIG9mIGF1ZGlvIGZyYW1lcyBwZXIgYXVkaW8gc2FtcGxlICgxMDI0IGZvciBBQUMpXG4gICAgICAvLyB1c2luZyBhdWRpbyBzYW1wbGluZyByYXRlIGhlcmUgaGVscHMgaGF2aW5nIGFuIGludGVnZXIgTVA0IGZyYW1lIGR1cmF0aW9uXG4gICAgICAvLyB0aGlzIGF2b2lkcyBwb3RlbnRpYWwgcm91bmRpbmcgaXNzdWUgYW5kIEFWIHN5bmMgaXNzdWVcbiAgICAgIGF1ZGlvVHJhY2sudGltZXNjYWxlID0gYXVkaW9UcmFjay5zYW1wbGVyYXRlO1xuICAgICAgc3dpdGNoIChhdWRpb1RyYWNrLnNlZ21lbnRDb2RlYykge1xuICAgICAgICBjYXNlICdtcDMnOlxuICAgICAgICAgIGlmICh0eXBlU3VwcG9ydGVkLm1wZWcpIHtcbiAgICAgICAgICAgIC8vIENocm9tZSBhbmQgU2FmYXJpXG4gICAgICAgICAgICBjb250YWluZXIgPSAnYXVkaW8vbXBlZyc7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLmNvZGVjID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlU3VwcG9ydGVkLm1wMykge1xuICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgYXVkaW9UcmFjay5jb2RlYyA9ICdtcDMnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdhYzMnOlxuICAgICAgICAgIGF1ZGlvVHJhY2suY29kZWMgPSAnYWMtMyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0cmFja3MuYXVkaW8gPSB7XG4gICAgICAgIGlkOiAnYXVkaW8nLFxuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgY29kZWM6IGF1ZGlvVHJhY2suY29kZWMsXG4gICAgICAgIGluaXRTZWdtZW50OlxuICAgICAgICAgIGF1ZGlvVHJhY2suc2VnbWVudENvZGVjID09PSAnbXAzJyAmJiB0eXBlU3VwcG9ydGVkLm1wZWdcbiAgICAgICAgICAgID8gbmV3IFVpbnQ4QXJyYXkoMClcbiAgICAgICAgICAgIDogTVA0LmluaXRTZWdtZW50KFthdWRpb1RyYWNrXSksXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgY2hhbm5lbENvdW50OiBhdWRpb1RyYWNrLmNoYW5uZWxDb3VudCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICB0aW1lc2NhbGUgPSBhdWRpb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICBpZiAoIV9pbml0UFRTIHx8IHRpbWVzY2FsZSAhPT0gX2luaXRQVFMudGltZXNjYWxlKSB7XG4gICAgICAgICAgLy8gcmVtZW1iZXIgZmlyc3QgUFRTIG9mIHRoaXMgZGVtdXhpbmcgY29udGV4dC4gZm9yIGF1ZGlvLCBQVFMgPSBEVFNcbiAgICAgICAgICBpbml0UFRTID0gaW5pdERUUyA9XG4gICAgICAgICAgICBhdWRpb1NhbXBsZXNbMF0ucHRzIC0gTWF0aC5yb3VuZCh0aW1lc2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wdXRlUFRTRFRTID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlkZW9UcmFjay5zcHMgJiYgdmlkZW9UcmFjay5wcHMgJiYgdmlkZW9TYW1wbGVzLmxlbmd0aCkge1xuICAgICAgLy8gbGV0J3MgdXNlIGlucHV0IHRpbWUgc2NhbGUgYXMgTVA0IHZpZGVvIHRpbWVzY2FsZVxuICAgICAgLy8gd2UgdXNlIGlucHV0IHRpbWUgc2NhbGUgc3RyYWlnaHQgYXdheSB0byBhdm9pZCByb3VuZGluZyBpc3N1ZXMgb24gZnJhbWUgZHVyYXRpb24gLyBjdHMgY29tcHV0YXRpb25cbiAgICAgIHZpZGVvVHJhY2sudGltZXNjYWxlID0gdmlkZW9UcmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgIHRyYWNrcy52aWRlbyA9IHtcbiAgICAgICAgaWQ6ICdtYWluJyxcbiAgICAgICAgY29udGFpbmVyOiAndmlkZW8vbXA0JyxcbiAgICAgICAgY29kZWM6IHZpZGVvVHJhY2suY29kZWMsXG4gICAgICAgIGluaXRTZWdtZW50OiBNUDQuaW5pdFNlZ21lbnQoW3ZpZGVvVHJhY2tdKSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICB3aWR0aDogdmlkZW9UcmFjay53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZpZGVvVHJhY2suaGVpZ2h0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgIHRpbWVzY2FsZSA9IHZpZGVvVHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIGlmICghX2luaXRQVFMgfHwgdGltZXNjYWxlICE9PSBfaW5pdFBUUy50aW1lc2NhbGUpIHtcbiAgICAgICAgICBjb25zdCBzdGFydFBUUyA9IHRoaXMuZ2V0VmlkZW9TdGFydFB0cyh2aWRlb1NhbXBsZXMpO1xuICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gTWF0aC5yb3VuZCh0aW1lc2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgICBpbml0RFRTID0gTWF0aC5taW4oXG4gICAgICAgICAgICBpbml0RFRTIGFzIG51bWJlcixcbiAgICAgICAgICAgIG5vcm1hbGl6ZVB0cyh2aWRlb1NhbXBsZXNbMF0uZHRzLCBzdGFydFBUUykgLSBzdGFydE9mZnNldCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGluaXRQVFMgPSBNYXRoLm1pbihpbml0UFRTIGFzIG51bWJlciwgc3RhcnRQVFMgLSBzdGFydE9mZnNldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcHV0ZVBUU0RUUyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnZpZGVvVHJhY2tDb25maWcgPSB7XG4gICAgICAgIHdpZHRoOiB2aWRlb1RyYWNrLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZGVvVHJhY2suaGVpZ2h0LFxuICAgICAgICBwaXhlbFJhdGlvOiB2aWRlb1RyYWNrLnBpeGVsUmF0aW8sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0cmFja3MpLmxlbmd0aCkge1xuICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IHRydWU7XG4gICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICB0aGlzLl9pbml0UFRTID0ge1xuICAgICAgICAgIGJhc2VUaW1lOiBpbml0UFRTIGFzIG51bWJlcixcbiAgICAgICAgICB0aW1lc2NhbGU6IHRpbWVzY2FsZSBhcyBudW1iZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2luaXREVFMgPSB7XG4gICAgICAgICAgYmFzZVRpbWU6IGluaXREVFMgYXMgbnVtYmVyLFxuICAgICAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlIGFzIG51bWJlcixcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRQVFMgPSB0aW1lc2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYWNrcyxcbiAgICAgICAgaW5pdFBUUyxcbiAgICAgICAgdGltZXNjYWxlLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZW11eFZpZGVvKFxuICAgIHRyYWNrOiBEZW11eGVkVmlkZW9UcmFjayxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgY29udGlndW91czogYm9vbGVhbixcbiAgICBhdWRpb1RyYWNrTGVuZ3RoOiBudW1iZXIsXG4gICk6IFJlbXV4ZWRUcmFjayB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgdGltZVNjYWxlOiBudW1iZXIgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICBjb25zdCBpbnB1dFNhbXBsZXM6IEFycmF5PFZpZGVvU2FtcGxlPiA9IHRyYWNrLnNhbXBsZXM7XG4gICAgY29uc3Qgb3V0cHV0U2FtcGxlczogQXJyYXk8TXA0U2FtcGxlPiA9IFtdO1xuICAgIGNvbnN0IG5iU2FtcGxlcyA9IGlucHV0U2FtcGxlcy5sZW5ndGg7XG4gICAgY29uc3QgaW5pdFBUUyA9IHRoaXMuX2luaXRQVFMgYXMgUmF0aW9uYWxUaW1lc3RhbXA7XG4gICAgbGV0IG5leHRBdmNEdHMgPSB0aGlzLm5leHRBdmNEdHM7XG4gICAgbGV0IG9mZnNldCA9IDg7XG4gICAgbGV0IG1wNFNhbXBsZUR1cmF0aW9uID0gdGhpcy52aWRlb1NhbXBsZUR1cmF0aW9uO1xuICAgIGxldCBmaXJzdERUUztcbiAgICBsZXQgbGFzdERUUztcbiAgICBsZXQgbWluUFRTOiBudW1iZXIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IG1heFBUUzogbnVtYmVyID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIGxldCBzb3J0U2FtcGxlcyA9IGZhbHNlO1xuXG4gICAgLy8gaWYgcGFyc2VkIGZyYWdtZW50IGlzIGNvbnRpZ3VvdXMgd2l0aCBsYXN0IG9uZSwgbGV0J3MgdXNlIGxhc3QgRFRTIHZhbHVlIGFzIHJlZmVyZW5jZVxuICAgIGlmICghY29udGlndW91cyB8fCBuZXh0QXZjRHRzID09PSBudWxsKSB7XG4gICAgICBjb25zdCBwdHMgPSB0aW1lT2Zmc2V0ICogdGltZVNjYWxlO1xuICAgICAgY29uc3QgY3RzID1cbiAgICAgICAgaW5wdXRTYW1wbGVzWzBdLnB0cyAtXG4gICAgICAgIG5vcm1hbGl6ZVB0cyhpbnB1dFNhbXBsZXNbMF0uZHRzLCBpbnB1dFNhbXBsZXNbMF0ucHRzKTtcbiAgICAgIGlmIChcbiAgICAgICAgY2hyb21lVmVyc2lvbiAmJlxuICAgICAgICBuZXh0QXZjRHRzICE9PSBudWxsICYmXG4gICAgICAgIE1hdGguYWJzKHB0cyAtIGN0cyAtIG5leHRBdmNEdHMpIDwgMTUwMDBcbiAgICAgICkge1xuICAgICAgICAvLyB0cmVhdCBhcyBjb250aWdvdXMgdG8gYWRqdXN0IHNhbXBsZXMgdGhhdCB3b3VsZCBvdGhlcndpc2UgcHJvZHVjZSB2aWRlbyBidWZmZXIgZ2FwcyBpbiBDaHJvbWVcbiAgICAgICAgY29udGlndW91cyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBub3QgY29udGlndW91cywgbGV0J3MgdXNlIHRhcmdldCB0aW1lT2Zmc2V0XG4gICAgICAgIG5leHRBdmNEdHMgPSBwdHMgLSBjdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUFRTIGlzIGNvZGVkIG9uIDMzYml0cywgYW5kIGNhbiBsb29wIGZyb20gLTJeMzIgdG8gMl4zMlxuICAgIC8vIFBUU05vcm1hbGl6ZSB3aWxsIG1ha2UgUFRTL0RUUyB2YWx1ZSBtb25vdG9uaWMsIHdlIHVzZSBsYXN0IGtub3duIERUUyB2YWx1ZSBhcyByZWZlcmVuY2UgdmFsdWVcbiAgICBjb25zdCBpbml0VGltZSA9IChpbml0UFRTLmJhc2VUaW1lICogdGltZVNjYWxlKSAvIGluaXRQVFMudGltZXNjYWxlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgIGNvbnN0IHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpXTtcbiAgICAgIHNhbXBsZS5wdHMgPSBub3JtYWxpemVQdHMoc2FtcGxlLnB0cyAtIGluaXRUaW1lLCBuZXh0QXZjRHRzKTtcbiAgICAgIHNhbXBsZS5kdHMgPSBub3JtYWxpemVQdHMoc2FtcGxlLmR0cyAtIGluaXRUaW1lLCBuZXh0QXZjRHRzKTtcbiAgICAgIGlmIChzYW1wbGUuZHRzIDwgaW5wdXRTYW1wbGVzW2kgPiAwID8gaSAtIDEgOiBpXS5kdHMpIHtcbiAgICAgICAgc29ydFNhbXBsZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNvcnQgdmlkZW8gc2FtcGxlcyBieSBEVFMgdGhlbiBQVFMgdGhlbiBkZW11eCBpZCBvcmRlclxuICAgIGlmIChzb3J0U2FtcGxlcykge1xuICAgICAgaW5wdXRTYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgY29uc3QgZGVsdGFkdHMgPSBhLmR0cyAtIGIuZHRzO1xuICAgICAgICBjb25zdCBkZWx0YXB0cyA9IGEucHRzIC0gYi5wdHM7XG4gICAgICAgIHJldHVybiBkZWx0YWR0cyB8fCBkZWx0YXB0cztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEdldCBmaXJzdC9sYXN0IERUU1xuICAgIGZpcnN0RFRTID0gaW5wdXRTYW1wbGVzWzBdLmR0cztcbiAgICBsYXN0RFRTID0gaW5wdXRTYW1wbGVzW2lucHV0U2FtcGxlcy5sZW5ndGggLSAxXS5kdHM7XG5cbiAgICAvLyBTYW1wbGUgZHVyYXRpb24gKGFzIGV4cGVjdGVkIGJ5IHRydW4gTVA0IGJveGVzKSwgc2hvdWxkIGJlIHRoZSBkZWx0YSBiZXR3ZWVuIHNhbXBsZSBEVFNcbiAgICAvLyBzZXQgdGhpcyBjb25zdGFudCBkdXJhdGlvbiBhcyBiZWluZyB0aGUgYXZnIGRlbHRhIGJldHdlZW4gY29uc2VjdXRpdmUgRFRTLlxuICAgIGNvbnN0IGlucHV0RHVyYXRpb24gPSBsYXN0RFRTIC0gZmlyc3REVFM7XG4gICAgY29uc3QgYXZlcmFnZVNhbXBsZUR1cmF0aW9uID0gaW5wdXREdXJhdGlvblxuICAgICAgPyBNYXRoLnJvdW5kKGlucHV0RHVyYXRpb24gLyAobmJTYW1wbGVzIC0gMSkpXG4gICAgICA6IG1wNFNhbXBsZUR1cmF0aW9uIHx8IHRyYWNrLmlucHV0VGltZVNjYWxlIC8gMzA7XG5cbiAgICAvLyBpZiBmcmFnbWVudCBhcmUgY29udGlndW91cywgZGV0ZWN0IGhvbGUvb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHNcbiAgICBpZiAoY29udGlndW91cykge1xuICAgICAgLy8gY2hlY2sgdGltZXN0YW1wIGNvbnRpbnVpdHkgYWNyb3NzIGNvbnNlY3V0aXZlIGZyYWdtZW50cyAodGhpcyBpcyB0byByZW1vdmUgaW50ZXItZnJhZ21lbnQgZ2FwL2hvbGUpXG4gICAgICBjb25zdCBkZWx0YSA9IGZpcnN0RFRTIC0gbmV4dEF2Y0R0cztcbiAgICAgIGNvbnN0IGZvdW5kSG9sZSA9IGRlbHRhID4gYXZlcmFnZVNhbXBsZUR1cmF0aW9uO1xuICAgICAgY29uc3QgZm91bmRPdmVybGFwID0gZGVsdGEgPCAtMTtcbiAgICAgIGlmIChmb3VuZEhvbGUgfHwgZm91bmRPdmVybGFwKSB7XG4gICAgICAgIGlmIChmb3VuZEhvbGUpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGBBVkM6ICR7dG9Nc0Zyb21NcGVnVHNDbG9jayhcbiAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICApfSBtcyAoJHtkZWx0YX1kdHMpIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQgYXQgJHt0aW1lT2Zmc2V0LnRvRml4ZWQoXG4gICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGBBVkM6ICR7dG9Nc0Zyb21NcGVnVHNDbG9jayhcbiAgICAgICAgICAgICAgLWRlbHRhLFxuICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgKX0gbXMgKCR7ZGVsdGF9ZHRzKSBvdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZCBhdCAke3RpbWVPZmZzZXQudG9GaXhlZChcbiAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICl9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhZm91bmRPdmVybGFwIHx8XG4gICAgICAgICAgbmV4dEF2Y0R0cyA+PSBpbnB1dFNhbXBsZXNbMF0ucHRzIHx8XG4gICAgICAgICAgY2hyb21lVmVyc2lvblxuICAgICAgICApIHtcbiAgICAgICAgICBmaXJzdERUUyA9IG5leHRBdmNEdHM7XG4gICAgICAgICAgY29uc3QgZmlyc3RQVFMgPSBpbnB1dFNhbXBsZXNbMF0ucHRzIC0gZGVsdGE7XG4gICAgICAgICAgaWYgKGZvdW5kSG9sZSkge1xuICAgICAgICAgICAgaW5wdXRTYW1wbGVzWzBdLmR0cyA9IGZpcnN0RFRTO1xuICAgICAgICAgICAgaW5wdXRTYW1wbGVzWzBdLnB0cyA9IGZpcnN0UFRTO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoaW5wdXRTYW1wbGVzW2ldLmR0cyA+IGZpcnN0UFRTKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzW2ldLmR0cyAtPSBkZWx0YTtcbiAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzW2ldLnB0cyAtPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAgIGBWaWRlbzogSW5pdGlhbCBQVFMvRFRTIGFkanVzdGVkOiAke3RvTXNGcm9tTXBlZ1RzQ2xvY2soXG4gICAgICAgICAgICAgIGZpcnN0UFRTLFxuICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgKX0vJHt0b01zRnJvbU1wZWdUc0Nsb2NrKFxuICAgICAgICAgICAgICBmaXJzdERUUyxcbiAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICl9LCBkZWx0YTogJHt0b01zRnJvbU1wZWdUc0Nsb2NrKGRlbHRhLCB0cnVlKX0gbXNgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaXJzdERUUyA9IE1hdGgubWF4KDAsIGZpcnN0RFRTKTtcblxuICAgIGxldCBuYk5hbHUgPSAwO1xuICAgIGxldCBuYWx1TGVuID0gMDtcbiAgICBsZXQgZHRzU3RlcCA9IGZpcnN0RFRTO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgIC8vIGNvbXB1dGUgdG90YWwvYXZjIHNhbXBsZSBsZW5ndGggYW5kIG5iIG9mIE5BTCB1bml0c1xuICAgICAgY29uc3Qgc2FtcGxlID0gaW5wdXRTYW1wbGVzW2ldO1xuICAgICAgY29uc3QgdW5pdHMgPSBzYW1wbGUudW5pdHM7XG4gICAgICBjb25zdCBuYlVuaXRzID0gdW5pdHMubGVuZ3RoO1xuICAgICAgbGV0IHNhbXBsZUxlbiA9IDA7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iVW5pdHM7IGorKykge1xuICAgICAgICBzYW1wbGVMZW4gKz0gdW5pdHNbal0uZGF0YS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIG5hbHVMZW4gKz0gc2FtcGxlTGVuO1xuICAgICAgbmJOYWx1ICs9IG5iVW5pdHM7XG4gICAgICBzYW1wbGUubGVuZ3RoID0gc2FtcGxlTGVuO1xuXG4gICAgICAvLyBlbnN1cmUgc2FtcGxlIG1vbm90b25pYyBEVFNcbiAgICAgIGlmIChzYW1wbGUuZHRzIDwgZHRzU3RlcCkge1xuICAgICAgICBzYW1wbGUuZHRzID0gZHRzU3RlcDtcbiAgICAgICAgZHRzU3RlcCArPSAoYXZlcmFnZVNhbXBsZUR1cmF0aW9uIC8gNCkgfCAwIHx8IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkdHNTdGVwID0gc2FtcGxlLmR0cztcbiAgICAgIH1cblxuICAgICAgbWluUFRTID0gTWF0aC5taW4oc2FtcGxlLnB0cywgbWluUFRTKTtcbiAgICAgIG1heFBUUyA9IE1hdGgubWF4KHNhbXBsZS5wdHMsIG1heFBUUyk7XG4gICAgfVxuICAgIGxhc3REVFMgPSBpbnB1dFNhbXBsZXNbbmJTYW1wbGVzIC0gMV0uZHRzO1xuXG4gICAgLyogY29uY2F0ZW5hdGUgdGhlIHZpZGVvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgKG5lZWQgOCBtb3JlIGJ5dGVzIHRvIGZpbGwgbGVuZ3RoIGFuZCBtcGRhdCB0eXBlKSAqL1xuICAgIGNvbnN0IG1kYXRTaXplID0gbmFsdUxlbiArIDQgKiBuYk5hbHUgKyA4O1xuICAgIGxldCBtZGF0O1xuICAgIHRyeSB7XG4gICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5vYnNlcnZlci5lbWl0KEV2ZW50cy5FUlJPUiwgRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTVVYX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuUkVNVVhfQUxMT0NfRVJST1IsXG4gICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgYnl0ZXM6IG1kYXRTaXplLFxuICAgICAgICByZWFzb246IGBmYWlsIGFsbG9jYXRpbmcgdmlkZW8gbWRhdCAke21kYXRTaXplfWAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgdmlldy5zZXRVaW50MzIoMCwgbWRhdFNpemUpO1xuICAgIG1kYXQuc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcblxuICAgIGxldCBzdHJldGNoZWRMYXN0RnJhbWUgPSBmYWxzZTtcbiAgICBsZXQgbWluRHRzRGVsdGEgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IG1pblB0c0RlbHRhID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGxldCBtYXhEdHNEZWx0YSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICBsZXQgbWF4UHRzRGVsdGEgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYlNhbXBsZXM7IGkrKykge1xuICAgICAgY29uc3QgVmlkZW9TYW1wbGUgPSBpbnB1dFNhbXBsZXNbaV07XG4gICAgICBjb25zdCBWaWRlb1NhbXBsZVVuaXRzID0gVmlkZW9TYW1wbGUudW5pdHM7XG4gICAgICBsZXQgbXA0U2FtcGxlTGVuZ3RoID0gMDtcbiAgICAgIC8vIGNvbnZlcnQgTkFMVSBiaXRzdHJlYW0gdG8gTVA0IGZvcm1hdCAocHJlcGVuZCBOQUxVIHdpdGggc2l6ZSBmaWVsZClcbiAgICAgIGZvciAobGV0IGogPSAwLCBuYlVuaXRzID0gVmlkZW9TYW1wbGVVbml0cy5sZW5ndGg7IGogPCBuYlVuaXRzOyBqKyspIHtcbiAgICAgICAgY29uc3QgdW5pdCA9IFZpZGVvU2FtcGxlVW5pdHNbal07XG4gICAgICAgIGNvbnN0IHVuaXREYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICBjb25zdCB1bml0RGF0YUxlbiA9IHVuaXQuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQsIHVuaXREYXRhTGVuKTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIG1kYXQuc2V0KHVuaXREYXRhLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gdW5pdERhdGFMZW47XG4gICAgICAgIG1wNFNhbXBsZUxlbmd0aCArPSA0ICsgdW5pdERhdGFMZW47XG4gICAgICB9XG5cbiAgICAgIC8vIGV4cGVjdGVkIHNhbXBsZSBkdXJhdGlvbiBpcyB0aGUgRGVjb2RpbmcgVGltZXN0YW1wIGRpZmYgb2YgY29uc2VjdXRpdmUgc2FtcGxlc1xuICAgICAgbGV0IHB0c0RlbHRhO1xuICAgICAgaWYgKGkgPCBuYlNhbXBsZXMgLSAxKSB7XG4gICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gaW5wdXRTYW1wbGVzW2kgKyAxXS5kdHMgLSBWaWRlb1NhbXBsZS5kdHM7XG4gICAgICAgIHB0c0RlbHRhID0gaW5wdXRTYW1wbGVzW2kgKyAxXS5wdHMgLSBWaWRlb1NhbXBsZS5wdHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lRHVyYXRpb24gPVxuICAgICAgICAgIGkgPiAwXG4gICAgICAgICAgICA/IFZpZGVvU2FtcGxlLmR0cyAtIGlucHV0U2FtcGxlc1tpIC0gMV0uZHRzXG4gICAgICAgICAgICA6IGF2ZXJhZ2VTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgcHRzRGVsdGEgPVxuICAgICAgICAgIGkgPiAwXG4gICAgICAgICAgICA/IFZpZGVvU2FtcGxlLnB0cyAtIGlucHV0U2FtcGxlc1tpIC0gMV0ucHRzXG4gICAgICAgICAgICA6IGF2ZXJhZ2VTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgaWYgKGNvbmZpZy5zdHJldGNoU2hvcnRWaWRlb1RyYWNrICYmIHRoaXMubmV4dEF1ZGlvUHRzICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gSW4gc29tZSBjYXNlcywgYSBzZWdtZW50J3MgYXVkaW8gdHJhY2sgZHVyYXRpb24gbWF5IGV4Y2VlZCB0aGUgdmlkZW8gdHJhY2sgZHVyYXRpb24uXG4gICAgICAgICAgLy8gU2luY2Ugd2UndmUgYWxyZWFkeSByZW11eGVkIGF1ZGlvLCBhbmQgd2Uga25vdyBob3cgbG9uZyB0aGUgYXVkaW8gdHJhY2sgaXMsIHdlIGxvb2sgdG9cbiAgICAgICAgICAvLyBzZWUgaWYgdGhlIGRlbHRhIHRvIHRoZSBuZXh0IHNlZ21lbnQgaXMgbG9uZ2VyIHRoYW4gbWF4QnVmZmVySG9sZS5cbiAgICAgICAgICAvLyBJZiBzbywgcGxheWJhY2sgd291bGQgcG90ZW50aWFsbHkgZ2V0IHN0dWNrLCBzbyB3ZSBhcnRpZmljaWFsbHkgaW5mbGF0ZVxuICAgICAgICAgIC8vIHRoZSBkdXJhdGlvbiBvZiB0aGUgbGFzdCBmcmFtZSB0byBtaW5pbWl6ZSBhbnkgcG90ZW50aWFsIGdhcCBiZXR3ZWVuIHNlZ21lbnRzLlxuICAgICAgICAgIGNvbnN0IGdhcFRvbGVyYW5jZSA9IE1hdGguZmxvb3IoY29uZmlnLm1heEJ1ZmZlckhvbGUgKiB0aW1lU2NhbGUpO1xuICAgICAgICAgIGNvbnN0IGRlbHRhVG9GcmFtZUVuZCA9XG4gICAgICAgICAgICAoYXVkaW9UcmFja0xlbmd0aFxuICAgICAgICAgICAgICA/IG1pblBUUyArIGF1ZGlvVHJhY2tMZW5ndGggKiB0aW1lU2NhbGVcbiAgICAgICAgICAgICAgOiB0aGlzLm5leHRBdWRpb1B0cykgLSBWaWRlb1NhbXBsZS5wdHM7XG4gICAgICAgICAgaWYgKGRlbHRhVG9GcmFtZUVuZCA+IGdhcFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgLy8gV2Ugc3VidHJhY3QgbGFzdEZyYW1lRHVyYXRpb24gZnJvbSBkZWx0YVRvRnJhbWVFbmQgdG8gdHJ5IHRvIHByZXZlbnQgYW55IHZpZGVvXG4gICAgICAgICAgICAvLyBmcmFtZSBvdmVybGFwLiBtYXhCdWZmZXJIb2xlIHNob3VsZCBiZSA+PiBsYXN0RnJhbWVEdXJhdGlvbiBhbnl3YXkuXG4gICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGRlbHRhVG9GcmFtZUVuZCAtIGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKG1wNFNhbXBsZUR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RyZXRjaGVkTGFzdEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICAgIGBbbXA0LXJlbXV4ZXJdOiBJdCBpcyBhcHByb3hpbWF0ZWx5ICR7XG4gICAgICAgICAgICAgICAgZGVsdGFUb0ZyYW1lRW5kIC8gOTBcbiAgICAgICAgICAgICAgfSBtcyB0byB0aGUgbmV4dCBzZWdtZW50OyB1c2luZyBkdXJhdGlvbiAke1xuICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uIC8gOTBcbiAgICAgICAgICAgICAgfSBtcyBmb3IgdGhlIGxhc3QgdmlkZW8gZnJhbWUuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXBvc2l0aW9uVGltZU9mZnNldCA9IE1hdGgucm91bmQoXG4gICAgICAgIFZpZGVvU2FtcGxlLnB0cyAtIFZpZGVvU2FtcGxlLmR0cyxcbiAgICAgICk7XG4gICAgICBtaW5EdHNEZWx0YSA9IE1hdGgubWluKG1pbkR0c0RlbHRhLCBtcDRTYW1wbGVEdXJhdGlvbik7XG4gICAgICBtYXhEdHNEZWx0YSA9IE1hdGgubWF4KG1heER0c0RlbHRhLCBtcDRTYW1wbGVEdXJhdGlvbik7XG4gICAgICBtaW5QdHNEZWx0YSA9IE1hdGgubWluKG1pblB0c0RlbHRhLCBwdHNEZWx0YSk7XG4gICAgICBtYXhQdHNEZWx0YSA9IE1hdGgubWF4KG1heFB0c0RlbHRhLCBwdHNEZWx0YSk7XG5cbiAgICAgIG91dHB1dFNhbXBsZXMucHVzaChcbiAgICAgICAgbmV3IE1wNFNhbXBsZShcbiAgICAgICAgICBWaWRlb1NhbXBsZS5rZXksXG4gICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24sXG4gICAgICAgICAgbXA0U2FtcGxlTGVuZ3RoLFxuICAgICAgICAgIGNvbXBvc2l0aW9uVGltZU9mZnNldCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKG91dHB1dFNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICBpZiAoY2hyb21lVmVyc2lvbikge1xuICAgICAgICBpZiAoY2hyb21lVmVyc2lvbiA8IDcwKSB7XG4gICAgICAgICAgLy8gQ2hyb21lIHdvcmthcm91bmQsIG1hcmsgZmlyc3Qgc2FtcGxlIGFzIGJlaW5nIGEgUmFuZG9tIEFjY2VzcyBQb2ludCAoa2V5ZnJhbWUpIHRvIGF2b2lkIHNvdXJjZWJ1ZmZlciBhcHBlbmQgaXNzdWVcbiAgICAgICAgICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5NDEyXG4gICAgICAgICAgY29uc3QgZmxhZ3MgPSBvdXRwdXRTYW1wbGVzWzBdLmZsYWdzO1xuICAgICAgICAgIGZsYWdzLmRlcGVuZHNPbiA9IDI7XG4gICAgICAgICAgZmxhZ3MuaXNOb25TeW5jID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzYWZhcmlXZWJraXRWZXJzaW9uKSB7XG4gICAgICAgIC8vIEZpeCBmb3IgXCJDTk4gc3BlY2lhbCByZXBvcnQsIHdpdGggQ0NcIiBpbiB0ZXN0LXN0cmVhbXMgKFNhZmFyaSBicm93c2VyIG9ubHkpXG4gICAgICAgIC8vIElnbm9yZSBEVFMgd2hlbiBmcmFtZSBkdXJhdGlvbnMgYXJlIGlycmVndWxhci4gU2FmYXJpIE1TRSBkb2VzIG5vdCBoYW5kbGUgdGhpcyBsZWFkaW5nIHRvIGdhcHMuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBtYXhQdHNEZWx0YSAtIG1pblB0c0RlbHRhIDwgbWF4RHRzRGVsdGEgLSBtaW5EdHNEZWx0YSAmJlxuICAgICAgICAgIGF2ZXJhZ2VTYW1wbGVEdXJhdGlvbiAvIG1heER0c0RlbHRhIDwgMC4wMjUgJiZcbiAgICAgICAgICBvdXRwdXRTYW1wbGVzWzBdLmN0cyA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgICdGb3VuZCBpcnJlZ3VsYXIgZ2FwcyBpbiBzYW1wbGUgZHVyYXRpb24uIFVzaW5nIFBUUyBpbnN0ZWFkIG9mIERUUyB0byBkZXRlcm1pbmUgTVA0IHNhbXBsZSBkdXJhdGlvbi4nLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGR0cyA9IGZpcnN0RFRTO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBvdXRwdXRTYW1wbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0RHRzID0gZHRzICsgb3V0cHV0U2FtcGxlc1tpXS5kdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHB0cyA9IGR0cyArIG91dHB1dFNhbXBsZXNbaV0uY3RzO1xuICAgICAgICAgICAgaWYgKGkgPCBsZW4gLSAxKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5leHRQdHMgPSBuZXh0RHRzICsgb3V0cHV0U2FtcGxlc1tpICsgMV0uY3RzO1xuICAgICAgICAgICAgICBvdXRwdXRTYW1wbGVzW2ldLmR1cmF0aW9uID0gbmV4dFB0cyAtIHB0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dHB1dFNhbXBsZXNbaV0uZHVyYXRpb24gPSBpXG4gICAgICAgICAgICAgICAgPyBvdXRwdXRTYW1wbGVzW2kgLSAxXS5kdXJhdGlvblxuICAgICAgICAgICAgICAgIDogYXZlcmFnZVNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0U2FtcGxlc1tpXS5jdHMgPSAwO1xuICAgICAgICAgICAgZHRzID0gbmV4dER0cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbmV4dCBBVkMgc2FtcGxlIERUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgRFRTICsgbGFzdCBzYW1wbGUgZHVyYXRpb24gKGluIFBFUyB0aW1lc2NhbGUpXG4gICAgbXA0U2FtcGxlRHVyYXRpb24gPVxuICAgICAgc3RyZXRjaGVkTGFzdEZyYW1lIHx8ICFtcDRTYW1wbGVEdXJhdGlvblxuICAgICAgICA/IGF2ZXJhZ2VTYW1wbGVEdXJhdGlvblxuICAgICAgICA6IG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgIHRoaXMubmV4dEF2Y0R0cyA9IG5leHRBdmNEdHMgPSBsYXN0RFRTICsgbXA0U2FtcGxlRHVyYXRpb247XG4gICAgdGhpcy52aWRlb1NhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlRHVyYXRpb247XG4gICAgdGhpcy5pc1ZpZGVvQ29udGlndW91cyA9IHRydWU7XG4gICAgY29uc3QgbW9vZiA9IE1QNC5tb29mKFxuICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIrKyxcbiAgICAgIGZpcnN0RFRTLFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdHJhY2ssIHtcbiAgICAgICAgc2FtcGxlczogb3V0cHV0U2FtcGxlcyxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgY29uc3QgdHlwZTogU291cmNlQnVmZmVyTmFtZSA9ICd2aWRlbyc7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGRhdGExOiBtb29mLFxuICAgICAgZGF0YTI6IG1kYXQsXG4gICAgICBzdGFydFBUUzogbWluUFRTIC8gdGltZVNjYWxlLFxuICAgICAgZW5kUFRTOiAobWF4UFRTICsgbXA0U2FtcGxlRHVyYXRpb24pIC8gdGltZVNjYWxlLFxuICAgICAgc3RhcnREVFM6IGZpcnN0RFRTIC8gdGltZVNjYWxlLFxuICAgICAgZW5kRFRTOiAobmV4dEF2Y0R0cyBhcyBudW1iZXIpIC8gdGltZVNjYWxlLFxuICAgICAgdHlwZSxcbiAgICAgIGhhc0F1ZGlvOiBmYWxzZSxcbiAgICAgIGhhc1ZpZGVvOiB0cnVlLFxuICAgICAgbmI6IG91dHB1dFNhbXBsZXMubGVuZ3RoLFxuICAgICAgZHJvcHBlZDogdHJhY2suZHJvcHBlZCxcbiAgICB9O1xuICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICB0cmFjay5kcm9wcGVkID0gMDtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGdldFNhbXBsZXNQZXJGcmFtZSh0cmFjazogRGVtdXhlZEF1ZGlvVHJhY2spIHtcbiAgICBzd2l0Y2ggKHRyYWNrLnNlZ21lbnRDb2RlYykge1xuICAgICAgY2FzZSAnbXAzJzpcbiAgICAgICAgcmV0dXJuIE1QRUdfQVVESU9fU0FNUExFX1BFUl9GUkFNRTtcbiAgICAgIGNhc2UgJ2FjMyc6XG4gICAgICAgIHJldHVybiBBQzNfU0FNUExFU19QRVJfRlJBTUU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQUFDX1NBTVBMRVNfUEVSX0ZSQU1FO1xuICAgIH1cbiAgfVxuXG4gIHJlbXV4QXVkaW8oXG4gICAgdHJhY2s6IERlbXV4ZWRBdWRpb1RyYWNrLFxuICAgIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgICBjb250aWd1b3VzOiBib29sZWFuLFxuICAgIGFjY3VyYXRlVGltZU9mZnNldDogYm9vbGVhbixcbiAgICB2aWRlb1RpbWVPZmZzZXQ/OiBudW1iZXIsXG4gICk6IFJlbXV4ZWRUcmFjayB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgaW5wdXRUaW1lU2NhbGU6IG51bWJlciA9IHRyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgIGNvbnN0IG1wNHRpbWVTY2FsZTogbnVtYmVyID0gdHJhY2suc2FtcGxlcmF0ZVxuICAgICAgPyB0cmFjay5zYW1wbGVyYXRlXG4gICAgICA6IGlucHV0VGltZVNjYWxlO1xuICAgIGNvbnN0IHNjYWxlRmFjdG9yOiBudW1iZXIgPSBpbnB1dFRpbWVTY2FsZSAvIG1wNHRpbWVTY2FsZTtcbiAgICBjb25zdCBtcDRTYW1wbGVEdXJhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRTYW1wbGVzUGVyRnJhbWUodHJhY2spO1xuICAgIGNvbnN0IGlucHV0U2FtcGxlRHVyYXRpb246IG51bWJlciA9IG1wNFNhbXBsZUR1cmF0aW9uICogc2NhbGVGYWN0b3I7XG4gICAgY29uc3QgaW5pdFBUUyA9IHRoaXMuX2luaXRQVFMgYXMgUmF0aW9uYWxUaW1lc3RhbXA7XG4gICAgY29uc3QgcmF3TVBFRzogYm9vbGVhbiA9XG4gICAgICB0cmFjay5zZWdtZW50Q29kZWMgPT09ICdtcDMnICYmIHRoaXMudHlwZVN1cHBvcnRlZC5tcGVnO1xuICAgIGNvbnN0IG91dHB1dFNhbXBsZXM6IEFycmF5PE1wNFNhbXBsZT4gPSBbXTtcbiAgICBjb25zdCBhbGlnbmVkV2l0aFZpZGVvID0gdmlkZW9UaW1lT2Zmc2V0ICE9PSB1bmRlZmluZWQ7XG5cbiAgICBsZXQgaW5wdXRTYW1wbGVzOiBBcnJheTxBdWRpb1NhbXBsZT4gPSB0cmFjay5zYW1wbGVzO1xuICAgIGxldCBvZmZzZXQ6IG51bWJlciA9IHJhd01QRUcgPyAwIDogODtcbiAgICBsZXQgbmV4dEF1ZGlvUHRzOiBudW1iZXIgPSB0aGlzLm5leHRBdWRpb1B0cyB8fCAtMTtcblxuICAgIC8vIHdpbmRvdy5hdWRpb1NhbXBsZXMgPyB3aW5kb3cuYXVkaW9TYW1wbGVzLnB1c2goaW5wdXRTYW1wbGVzLm1hcChzID0+IHMucHRzKSkgOiAod2luZG93LmF1ZGlvU2FtcGxlcyA9IFtpbnB1dFNhbXBsZXMubWFwKHMgPT4gcy5wdHMpXSk7XG5cbiAgICAvLyBmb3IgYXVkaW8gc2FtcGxlcywgYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgIC8vIGZvciBzYWtlIG9mIGNsYXJpdHk6XG4gICAgLy8gY29uc2VjdXRpdmUgZnJhZ21lbnRzIGFyZSBmcmFncyB3aXRoXG4gICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAvLyAgLSBsZXNzIHRoYW4gMjAgYXVkaW8gZnJhbWVzIGRpc3RhbmNlXG4gICAgLy8gY29udGlndW91cyBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBmcm9tIHNhbWUgcXVhbGl0eSBsZXZlbCAoc2FtZSBsZXZlbCwgbmV3IFNOID0gb2xkIFNOICsgMSlcbiAgICAvLyB0aGlzIGhlbHBzIGVuc3VyaW5nIGF1ZGlvIGNvbnRpbnVpdHlcbiAgICAvLyBhbmQgdGhpcyBhbHNvIGF2b2lkcyBhdWRpbyBnbGl0Y2hlcy9jdXQgd2hlbiBzd2l0Y2hpbmcgcXVhbGl0eSwgb3IgcmVwb3J0aW5nIHdyb25nIGR1cmF0aW9uIG9uIGZpcnN0IGF1ZGlvIGZyYW1lXG4gICAgY29uc3QgdGltZU9mZnNldE1wZWdUUyA9IHRpbWVPZmZzZXQgKiBpbnB1dFRpbWVTY2FsZTtcbiAgICBjb25zdCBpbml0VGltZSA9IChpbml0UFRTLmJhc2VUaW1lICogaW5wdXRUaW1lU2NhbGUpIC8gaW5pdFBUUy50aW1lc2NhbGU7XG4gICAgdGhpcy5pc0F1ZGlvQ29udGlndW91cyA9IGNvbnRpZ3VvdXMgPVxuICAgICAgY29udGlndW91cyB8fFxuICAgICAgKChpbnB1dFNhbXBsZXMubGVuZ3RoICYmXG4gICAgICAgIG5leHRBdWRpb1B0cyA+IDAgJiZcbiAgICAgICAgKChhY2N1cmF0ZVRpbWVPZmZzZXQgJiZcbiAgICAgICAgICBNYXRoLmFicyh0aW1lT2Zmc2V0TXBlZ1RTIC0gbmV4dEF1ZGlvUHRzKSA8IDkwMDApIHx8XG4gICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICBub3JtYWxpemVQdHMoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIGluaXRUaW1lLCB0aW1lT2Zmc2V0TXBlZ1RTKSAtXG4gICAgICAgICAgICAgIG5leHRBdWRpb1B0cyxcbiAgICAgICAgICApIDxcbiAgICAgICAgICAgIDIwICogaW5wdXRTYW1wbGVEdXJhdGlvbikpIGFzIGJvb2xlYW4pO1xuXG4gICAgLy8gY29tcHV0ZSBub3JtYWxpemVkIFBUU1xuICAgIGlucHV0U2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgIHNhbXBsZS5wdHMgPSBub3JtYWxpemVQdHMoc2FtcGxlLnB0cyAtIGluaXRUaW1lLCB0aW1lT2Zmc2V0TXBlZ1RTKTtcbiAgICB9KTtcblxuICAgIGlmICghY29udGlndW91cyB8fCBuZXh0QXVkaW9QdHMgPCAwKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IHNhbXBsZSB3aXRoIG5lZ2F0aXZlIFBUUyB0aGF0IGFyZSBub3QgcGxheWFibGUgYW55d2F5XG4gICAgICAvLyBpZiB3ZSBkb24ndCByZW1vdmUgdGhlc2UgbmVnYXRpdmUgc2FtcGxlcywgdGhleSB3aWxsIHNoaWZ0IGFsbCBhdWRpbyBzYW1wbGVzIGZvcndhcmQuXG4gICAgICAvLyBsZWFkaW5nIHRvIGF1ZGlvIG92ZXJsYXAgYmV0d2VlbiBjdXJyZW50IC8gbmV4dCBmcmFnbWVudFxuICAgICAgaW5wdXRTYW1wbGVzID0gaW5wdXRTYW1wbGVzLmZpbHRlcigoc2FtcGxlKSA9PiBzYW1wbGUucHRzID49IDApO1xuXG4gICAgICAvLyBpbiBjYXNlIGFsbCBzYW1wbGVzIGhhdmUgbmVnYXRpdmUgUFRTLCBhbmQgaGF2ZSBiZWVuIGZpbHRlcmVkIG91dCwgcmV0dXJuIG5vd1xuICAgICAgaWYgKCFpbnB1dFNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHZpZGVvVGltZU9mZnNldCA9PT0gMCkge1xuICAgICAgICAvLyBTZXQgdGhlIHN0YXJ0IHRvIDAgdG8gbWF0Y2ggdmlkZW8gc28gdGhhdCBzdGFydCBnYXBzIGxhcmdlciB0aGFuIGlucHV0U2FtcGxlRHVyYXRpb24gYXJlIGZpbGxlZCB3aXRoIHNpbGVuY2VcbiAgICAgICAgbmV4dEF1ZGlvUHRzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWNjdXJhdGVUaW1lT2Zmc2V0ICYmICFhbGlnbmVkV2l0aFZpZGVvKSB7XG4gICAgICAgIC8vIFdoZW4gbm90IHNlZWtpbmcsIG5vdCBsaXZlLCBhbmQgTGV2ZWxEZXRhaWxzLlBUU0tub3duLCB1c2UgZnJhZ21lbnQgc3RhcnQgYXMgcHJlZGljdGVkIG5leHQgYXVkaW8gUFRTXG4gICAgICAgIG5leHRBdWRpb1B0cyA9IE1hdGgubWF4KDAsIHRpbWVPZmZzZXRNcGVnVFMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgZnJhZ3MgYXJlIG5vdCBjb250aWd1b3VzIGFuZCBpZiB3ZSBjYW50IHRydXN0IHRpbWUgb2Zmc2V0LCBsZXQncyB1c2UgZmlyc3Qgc2FtcGxlIFBUUyBhcyBuZXh0IGF1ZGlvIFBUU1xuICAgICAgICBuZXh0QXVkaW9QdHMgPSBpbnB1dFNhbXBsZXNbMF0ucHRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBhdWRpbyB0cmFjayBpcyBtaXNzaW5nIHNhbXBsZXMsIHRoZSBmcmFtZXMgc2VlbSB0byBnZXQgXCJsZWZ0LXNoaWZ0ZWRcIiB3aXRoaW4gdGhlXG4gICAgLy8gcmVzdWx0aW5nIG1wNCBzZWdtZW50LCBjYXVzaW5nIHN5bmMgaXNzdWVzIGFuZCBsZWF2aW5nIGdhcHMgYXQgdGhlIGVuZCBvZiB0aGUgYXVkaW8gc2VnbWVudC5cbiAgICAvLyBJbiBhbiBlZmZvcnQgdG8gcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nLCB3ZSBpbmplY3QgZnJhbWVzIGhlcmUgd2hlcmUgdGhlcmUgYXJlIGdhcHMuXG4gICAgLy8gV2hlbiBwb3NzaWJsZSwgd2UgaW5qZWN0IGEgc2lsZW50IGZyYW1lOyB3aGVuIHRoYXQncyBub3QgcG9zc2libGUsIHdlIGR1cGxpY2F0ZSB0aGUgbGFzdFxuICAgIC8vIGZyYW1lLlxuXG4gICAgaWYgKHRyYWNrLnNlZ21lbnRDb2RlYyA9PT0gJ2FhYycpIHtcbiAgICAgIGNvbnN0IG1heEF1ZGlvRnJhbWVzRHJpZnQgPSB0aGlzLmNvbmZpZy5tYXhBdWRpb0ZyYW1lc0RyaWZ0O1xuICAgICAgZm9yIChsZXQgaSA9IDAsIG5leHRQdHMgPSBuZXh0QXVkaW9QdHM7IGkgPCBpbnB1dFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gRmlyc3QsIGxldCdzIHNlZSBob3cgZmFyIG9mZiB0aGlzIGZyYW1lIGlzIGZyb20gd2hlcmUgd2UgZXhwZWN0IGl0IHRvIGJlXG4gICAgICAgIGNvbnN0IHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpXTtcbiAgICAgICAgY29uc3QgcHRzID0gc2FtcGxlLnB0cztcbiAgICAgICAgY29uc3QgZGVsdGEgPSBwdHMgLSBuZXh0UHRzO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGguYWJzKCgxMDAwICogZGVsdGEpIC8gaW5wdXRUaW1lU2NhbGUpO1xuXG4gICAgICAgIC8vIFdoZW4gcmVtdXhpbmcgd2l0aCB2aWRlbywgaWYgd2UncmUgb3ZlcmxhcHBpbmcgYnkgbW9yZSB0aGFuIGEgZHVyYXRpb24sIGRyb3AgdGhpcyBzYW1wbGUgdG8gc3RheSBpbiBzeW5jXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkZWx0YSA8PSAtbWF4QXVkaW9GcmFtZXNEcmlmdCAqIGlucHV0U2FtcGxlRHVyYXRpb24gJiZcbiAgICAgICAgICBhbGlnbmVkV2l0aFZpZGVvXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgICAgYEF1ZGlvIGZyYW1lIEAgJHsocHRzIC8gaW5wdXRUaW1lU2NhbGUpLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgKX1zIG92ZXJsYXBzIG5leHRBdWRpb1B0cyBieSAke01hdGgucm91bmQoXG4gICAgICAgICAgICAgICAgKDEwMDAgKiBkZWx0YSkgLyBpbnB1dFRpbWVTY2FsZSxcbiAgICAgICAgICAgICAgKX0gbXMuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLm5leHRBdWRpb1B0cyA9IG5leHRBdWRpb1B0cyA9IG5leHRQdHMgPSBwdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcblxuICAgICAgICAvLyBJbnNlcnQgbWlzc2luZyBmcmFtZXMgaWY6XG4gICAgICAgIC8vIDE6IFdlJ3JlIG1vcmUgdGhhbiBtYXhBdWRpb0ZyYW1lc0RyaWZ0IGZyYW1lIGF3YXlcbiAgICAgICAgLy8gMjogTm90IG1vcmUgdGhhbiBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OIGF3YXlcbiAgICAgICAgLy8gMzogY3VycmVudFRpbWUgKGFrYSBuZXh0UHRzTm9ybSkgaXMgbm90IDBcbiAgICAgICAgLy8gNDogcmVtdXhpbmcgd2l0aCB2aWRlbyAodmlkZW9UaW1lT2Zmc2V0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIGRlbHRhID49IG1heEF1ZGlvRnJhbWVzRHJpZnQgKiBpbnB1dFNhbXBsZUR1cmF0aW9uICYmXG4gICAgICAgICAgZHVyYXRpb24gPCBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OICYmXG4gICAgICAgICAgYWxpZ25lZFdpdGhWaWRlb1xuICAgICAgICApIHtcbiAgICAgICAgICBsZXQgbWlzc2luZyA9IE1hdGgucm91bmQoZGVsdGEgLyBpbnB1dFNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAvLyBBZGp1c3QgbmV4dFB0cyBzbyB0aGF0IHNpbGVudCBzYW1wbGVzIGFyZSBhbGlnbmVkIHdpdGggbWVkaWEgcHRzLiBUaGlzIHdpbGwgcHJldmVudCBtZWRpYSBzYW1wbGVzIGZyb21cbiAgICAgICAgICAvLyBsYXRlciBiZWluZyBzaGlmdGVkIGlmIG5leHRQdHMgaXMgYmFzZWQgb24gdGltZU9mZnNldCBhbmQgZGVsdGEgaXMgbm90IGEgbXVsdGlwbGUgb2YgaW5wdXRTYW1wbGVEdXJhdGlvbi5cbiAgICAgICAgICBuZXh0UHRzID0gcHRzIC0gbWlzc2luZyAqIGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgaWYgKG5leHRQdHMgPCAwKSB7XG4gICAgICAgICAgICBtaXNzaW5nLS07XG4gICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRBdWRpb1B0cyA9IG5leHRBdWRpb1B0cyA9IG5leHRQdHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYFttcDQtcmVtdXhlcl06IEluamVjdGluZyAke21pc3Npbmd9IGF1ZGlvIGZyYW1lIEAgJHsoXG4gICAgICAgICAgICAgIG5leHRQdHMgLyBpbnB1dFRpbWVTY2FsZVxuICAgICAgICAgICAgKS50b0ZpeGVkKDMpfXMgZHVlIHRvICR7TWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgKDEwMDAgKiBkZWx0YSkgLyBpbnB1dFRpbWVTY2FsZSxcbiAgICAgICAgICAgICl9IG1zIGdhcC5gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtaXNzaW5nOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YW1wID0gTWF0aC5tYXgobmV4dFB0cyBhcyBudW1iZXIsIDApO1xuICAgICAgICAgICAgbGV0IGZpbGxGcmFtZSA9IEFBQy5nZXRTaWxlbnRGcmFtZShcbiAgICAgICAgICAgICAgdHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYyxcbiAgICAgICAgICAgICAgdHJhY2suY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICAgICAgJ1ttcDQtcmVtdXhlcl06IFVuYWJsZSB0byBnZXQgc2lsZW50IGZyYW1lIGZvciBnaXZlbiBhdWRpbyBjb2RlYzsgZHVwbGljYXRpbmcgbGFzdCBmcmFtZSBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZpbGxGcmFtZSA9IHNhbXBsZS51bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dFNhbXBsZXMuc3BsaWNlKGksIDAsIHtcbiAgICAgICAgICAgICAgdW5pdDogZmlsbEZyYW1lLFxuICAgICAgICAgICAgICBwdHM6IG5ld1N0YW1wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNhbXBsZS5wdHMgPSBuZXh0UHRzO1xuICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBmaXJzdFBUUzogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGxhc3RQVFM6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGxldCBtZGF0OiBhbnk7XG4gICAgbGV0IG1kYXRTaXplOiBudW1iZXIgPSAwO1xuICAgIGxldCBzYW1wbGVMZW5ndGg6IG51bWJlciA9IGlucHV0U2FtcGxlcy5sZW5ndGg7XG4gICAgd2hpbGUgKHNhbXBsZUxlbmd0aC0tKSB7XG4gICAgICBtZGF0U2l6ZSArPSBpbnB1dFNhbXBsZXNbc2FtcGxlTGVuZ3RoXS51bml0LmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwLCBuYlNhbXBsZXMgPSBpbnB1dFNhbXBsZXMubGVuZ3RoOyBqIDwgbmJTYW1wbGVzOyBqKyspIHtcbiAgICAgIGNvbnN0IGF1ZGlvU2FtcGxlID0gaW5wdXRTYW1wbGVzW2pdO1xuICAgICAgY29uc3QgdW5pdCA9IGF1ZGlvU2FtcGxlLnVuaXQ7XG4gICAgICBsZXQgcHRzID0gYXVkaW9TYW1wbGUucHRzO1xuICAgICAgaWYgKGxhc3RQVFMgIT09IG51bGwpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gb25lIHNhbXBsZSwgc2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgc2FtcGxlIHRvIHRoZSBcInJlYWxcIiBkdXJhdGlvbjsgdGhlIFBUUyBkaWZmIHdpdGhcbiAgICAgICAgLy8gdGhlIHByZXZpb3VzIHNhbXBsZVxuICAgICAgICBjb25zdCBwcmV2U2FtcGxlID0gb3V0cHV0U2FtcGxlc1tqIC0gMV07XG4gICAgICAgIHByZXZTYW1wbGUuZHVyYXRpb24gPSBNYXRoLnJvdW5kKChwdHMgLSBsYXN0UFRTKSAvIHNjYWxlRmFjdG9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb250aWd1b3VzICYmIHRyYWNrLnNlZ21lbnRDb2RlYyA9PT0gJ2FhYycpIHtcbiAgICAgICAgICAvLyBzZXQgUFRTL0RUUyB0byBleHBlY3RlZCBQVFMvRFRTXG4gICAgICAgICAgcHRzID0gbmV4dEF1ZGlvUHRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbWVtYmVyIGZpcnN0IFBUUyBvZiBvdXIgYXVkaW9TYW1wbGVzXG4gICAgICAgIGZpcnN0UFRTID0gcHRzO1xuICAgICAgICBpZiAobWRhdFNpemUgPiAwKSB7XG4gICAgICAgICAgLyogY29uY2F0ZW5hdGUgdGhlIGF1ZGlvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgICAgICAgKG5lZWQgOCBtb3JlIGJ5dGVzIHRvIGZpbGwgbGVuZ3RoIGFuZCBtZGF0IHR5cGUpICovXG4gICAgICAgICAgbWRhdFNpemUgKz0gb2Zmc2V0O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5lbWl0KEV2ZW50cy5FUlJPUiwgRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTVVYX0VSUk9SLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuUkVNVVhfQUxMT0NfRVJST1IsXG4gICAgICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgYnl0ZXM6IG1kYXRTaXplLFxuICAgICAgICAgICAgICByZWFzb246IGBmYWlsIGFsbG9jYXRpbmcgYXVkaW8gbWRhdCAke21kYXRTaXplfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyYXdNUEVHKSB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KG1kYXQuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG1kYXRTaXplKTtcbiAgICAgICAgICAgIG1kYXQuc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm8gYXVkaW8gc2FtcGxlc1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWRhdC5zZXQodW5pdCwgb2Zmc2V0KTtcbiAgICAgIGNvbnN0IHVuaXRMZW4gPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICBvZmZzZXQgKz0gdW5pdExlbjtcbiAgICAgIC8vIERlZmF1bHQgdGhlIHNhbXBsZSdzIGR1cmF0aW9uIHRvIHRoZSBjb21wdXRlZCBtcDRTYW1wbGVEdXJhdGlvbiwgd2hpY2ggd2lsbCBlaXRoZXIgYmUgMTAyNCBmb3IgQUFDIG9yIDExNTIgZm9yIE1QRUdcbiAgICAgIC8vIEluIHRoZSBjYXNlIHRoYXQgd2UgaGF2ZSAxIHNhbXBsZSwgdGhpcyB3aWxsIGJlIHRoZSBkdXJhdGlvbi4gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gb25lIHNhbXBsZSwgdGhlIGR1cmF0aW9uXG4gICAgICAvLyBiZWNvbWVzIHRoZSBQVFMgZGlmZiB3aXRoIHRoZSBwcmV2aW91cyBzYW1wbGVcbiAgICAgIG91dHB1dFNhbXBsZXMucHVzaChuZXcgTXA0U2FtcGxlKHRydWUsIG1wNFNhbXBsZUR1cmF0aW9uLCB1bml0TGVuLCAwKSk7XG4gICAgICBsYXN0UFRTID0gcHRzO1xuICAgIH1cblxuICAgIC8vIFdlIGNvdWxkIGVuZCB1cCB3aXRoIG5vIGF1ZGlvIHNhbXBsZXMgaWYgYWxsIGlucHV0IHNhbXBsZXMgd2VyZSBvdmVybGFwcGluZyB3aXRoIHRoZSBwcmV2aW91c2x5IHJlbXV4ZWQgb25lc1xuICAgIGNvbnN0IG5iU2FtcGxlcyA9IG91dHB1dFNhbXBsZXMubGVuZ3RoO1xuICAgIGlmICghbmJTYW1wbGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGhlIG5leHQgYXVkaW8gc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZHVyYXRpb25cbiAgICBjb25zdCBsYXN0U2FtcGxlID0gb3V0cHV0U2FtcGxlc1tvdXRwdXRTYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMubmV4dEF1ZGlvUHRzID0gbmV4dEF1ZGlvUHRzID1cbiAgICAgIGxhc3RQVFMhICsgc2NhbGVGYWN0b3IgKiBsYXN0U2FtcGxlLmR1cmF0aW9uO1xuXG4gICAgLy8gU2V0IHRoZSB0cmFjayBzYW1wbGVzIGZyb20gaW5wdXRTYW1wbGVzIHRvIG91dHB1dFNhbXBsZXMgYmVmb3JlIHJlbXV4aW5nXG4gICAgY29uc3QgbW9vZiA9IHJhd01QRUdcbiAgICAgID8gbmV3IFVpbnQ4QXJyYXkoMClcbiAgICAgIDogTVA0Lm1vb2YoXG4gICAgICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIrKyxcbiAgICAgICAgICBmaXJzdFBUUyEgLyBzY2FsZUZhY3RvcixcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0cmFjaywgeyBzYW1wbGVzOiBvdXRwdXRTYW1wbGVzIH0pLFxuICAgICAgICApO1xuXG4gICAgLy8gQ2xlYXIgdGhlIHRyYWNrIHNhbXBsZXMuIFRoaXMgYWxzbyBjbGVhcnMgdGhlIHNhbXBsZXMgYXJyYXkgaW4gdGhlIGRlbXV4ZXIsIHNpbmNlIHRoZSByZWZlcmVuY2UgaXMgc2hhcmVkXG4gICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgIGNvbnN0IHN0YXJ0ID0gZmlyc3RQVFMhIC8gaW5wdXRUaW1lU2NhbGU7XG4gICAgY29uc3QgZW5kID0gbmV4dEF1ZGlvUHRzIC8gaW5wdXRUaW1lU2NhbGU7XG4gICAgY29uc3QgdHlwZTogU291cmNlQnVmZmVyTmFtZSA9ICdhdWRpbyc7XG4gICAgY29uc3QgYXVkaW9EYXRhID0ge1xuICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICBkYXRhMjogbWRhdCxcbiAgICAgIHN0YXJ0UFRTOiBzdGFydCxcbiAgICAgIGVuZFBUUzogZW5kLFxuICAgICAgc3RhcnREVFM6IHN0YXJ0LFxuICAgICAgZW5kRFRTOiBlbmQsXG4gICAgICB0eXBlLFxuICAgICAgaGFzQXVkaW86IHRydWUsXG4gICAgICBoYXNWaWRlbzogZmFsc2UsXG4gICAgICBuYjogbmJTYW1wbGVzLFxuICAgIH07XG5cbiAgICB0aGlzLmlzQXVkaW9Db250aWd1b3VzID0gdHJ1ZTtcbiAgICByZXR1cm4gYXVkaW9EYXRhO1xuICB9XG5cbiAgcmVtdXhFbXB0eUF1ZGlvKFxuICAgIHRyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgY29udGlndW91czogYm9vbGVhbixcbiAgICB2aWRlb0RhdGE6IEZyYWdtZW50LFxuICApOiBSZW11eGVkVHJhY2sgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGlucHV0VGltZVNjYWxlOiBudW1iZXIgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICBjb25zdCBtcDR0aW1lU2NhbGU6IG51bWJlciA9IHRyYWNrLnNhbXBsZXJhdGVcbiAgICAgID8gdHJhY2suc2FtcGxlcmF0ZVxuICAgICAgOiBpbnB1dFRpbWVTY2FsZTtcbiAgICBjb25zdCBzY2FsZUZhY3RvcjogbnVtYmVyID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGU7XG4gICAgY29uc3QgbmV4dEF1ZGlvUHRzOiBudW1iZXIgfCBudWxsID0gdGhpcy5uZXh0QXVkaW9QdHM7XG4gICAgLy8gc3luYyB3aXRoIHZpZGVvJ3MgdGltZXN0YW1wXG4gICAgY29uc3QgaW5pdERUUyA9IHRoaXMuX2luaXREVFMgYXMgUmF0aW9uYWxUaW1lc3RhbXA7XG4gICAgY29uc3QgaW5pdDkwa0h6ID0gKGluaXREVFMuYmFzZVRpbWUgKiA5MDAwMCkgLyBpbml0RFRTLnRpbWVzY2FsZTtcbiAgICBjb25zdCBzdGFydERUUzogbnVtYmVyID1cbiAgICAgIChuZXh0QXVkaW9QdHMgIT09IG51bGxcbiAgICAgICAgPyBuZXh0QXVkaW9QdHNcbiAgICAgICAgOiB2aWRlb0RhdGEuc3RhcnREVFMgKiBpbnB1dFRpbWVTY2FsZSkgKyBpbml0OTBrSHo7XG4gICAgY29uc3QgZW5kRFRTOiBudW1iZXIgPSB2aWRlb0RhdGEuZW5kRFRTICogaW5wdXRUaW1lU2NhbGUgKyBpbml0OTBrSHo7XG4gICAgLy8gb25lIHNhbXBsZSdzIGR1cmF0aW9uIHZhbHVlXG4gICAgY29uc3QgZnJhbWVEdXJhdGlvbjogbnVtYmVyID0gc2NhbGVGYWN0b3IgKiBBQUNfU0FNUExFU19QRVJfRlJBTUU7XG4gICAgLy8gc2FtcGxlcyBjb3VudCBvZiB0aGlzIHNlZ21lbnQncyBkdXJhdGlvblxuICAgIGNvbnN0IG5iU2FtcGxlczogbnVtYmVyID0gTWF0aC5jZWlsKChlbmREVFMgLSBzdGFydERUUykgLyBmcmFtZUR1cmF0aW9uKTtcbiAgICAvLyBzaWxlbnQgZnJhbWVcbiAgICBjb25zdCBzaWxlbnRGcmFtZTogVWludDhBcnJheSB8IHVuZGVmaW5lZCA9IEFBQy5nZXRTaWxlbnRGcmFtZShcbiAgICAgIHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsXG4gICAgICB0cmFjay5jaGFubmVsQ291bnQsXG4gICAgKTtcblxuICAgIGxvZ2dlci53YXJuKCdbbXA0LXJlbXV4ZXJdOiByZW11eCBlbXB0eSBBdWRpbycpO1xuICAgIC8vIENhbid0IHJlbXV4IGlmIHdlIGNhbid0IGdlbmVyYXRlIGEgc2lsZW50IGZyYW1lLi4uXG4gICAgaWYgKCFzaWxlbnRGcmFtZSkge1xuICAgICAgbG9nZ2VyLnRyYWNlKFxuICAgICAgICAnW21wNC1yZW11eGVyXTogVW5hYmxlIHRvIHJlbXV4RW1wdHlBdWRpbyBzaW5jZSB3ZSB3ZXJlIHVuYWJsZSB0byBnZXQgYSBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2FtcGxlczogQXJyYXk8YW55PiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgIGNvbnN0IHN0YW1wID0gc3RhcnREVFMgKyBpICogZnJhbWVEdXJhdGlvbjtcbiAgICAgIHNhbXBsZXMucHVzaCh7IHVuaXQ6IHNpbGVudEZyYW1lLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH0pO1xuICAgIH1cbiAgICB0cmFjay5zYW1wbGVzID0gc2FtcGxlcztcblxuICAgIHJldHVybiB0aGlzLnJlbXV4QXVkaW8odHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUHRzKHZhbHVlOiBudW1iZXIsIHJlZmVyZW5jZTogbnVtYmVyIHwgbnVsbCk6IG51bWJlciB7XG4gIGxldCBvZmZzZXQ7XG4gIGlmIChyZWZlcmVuY2UgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAocmVmZXJlbmNlIDwgdmFsdWUpIHtcbiAgICAvLyAtIDJeMzNcbiAgICBvZmZzZXQgPSAtODU4OTkzNDU5MjtcbiAgfSBlbHNlIHtcbiAgICAvLyArIDJeMzNcbiAgICBvZmZzZXQgPSA4NTg5OTM0NTkyO1xuICB9XG4gIC8qIFBUUyBpcyAzM2JpdCAoZnJvbSAwIHRvIDJeMzMgLTEpXG4gICAgaWYgZGlmZiBiZXR3ZWVuIHZhbHVlIGFuZCByZWZlcmVuY2UgaXMgYmlnZ2VyIHRoYW4gaGFsZiBvZiB0aGUgYW1wbGl0dWRlICgyXjMyKSB0aGVuIGl0IG1lYW5zIHRoYXRcbiAgICBQVFMgbG9vcGluZyBvY2N1cmVkLiBmaWxsIHRoZSBnYXAgKi9cbiAgd2hpbGUgKE1hdGguYWJzKHZhbHVlIC0gcmVmZXJlbmNlKSA+IDQyOTQ5NjcyOTYpIHtcbiAgICB2YWx1ZSArPSBvZmZzZXQ7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXlmcmFtZUluZGV4KHNhbXBsZXM6IEFycmF5PFZpZGVvU2FtcGxlPik6IG51bWJlciB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzYW1wbGVzW2ldLmtleSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoVGV4dFRyYWNrTWV0YWRhdGFDdWVTYW1wbGVzKFxuICB0cmFjazogRGVtdXhlZE1ldGFkYXRhVHJhY2ssXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgaW5pdFBUUzogUmF0aW9uYWxUaW1lc3RhbXAsXG4gIGluaXREVFM6IFJhdGlvbmFsVGltZXN0YW1wLFxuKTogUmVtdXhlZE1ldGFkYXRhIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGg7XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW2luZGV4XTtcbiAgICAvLyBzZXR0aW5nIGlkMyBwdHMsIGR0cyB0byByZWxhdGl2ZSB0aW1lXG4gICAgLy8gdXNpbmcgdGhpcy5faW5pdFBUUyBhbmQgdGhpcy5faW5pdERUUyB0byBjYWxjdWxhdGUgcmVsYXRpdmUgdGltZVxuICAgIHNhbXBsZS5wdHMgPVxuICAgICAgbm9ybWFsaXplUHRzKFxuICAgICAgICBzYW1wbGUucHRzIC0gKGluaXRQVFMuYmFzZVRpbWUgKiBpbnB1dFRpbWVTY2FsZSkgLyBpbml0UFRTLnRpbWVzY2FsZSxcbiAgICAgICAgdGltZU9mZnNldCAqIGlucHV0VGltZVNjYWxlLFxuICAgICAgKSAvIGlucHV0VGltZVNjYWxlO1xuICAgIHNhbXBsZS5kdHMgPVxuICAgICAgbm9ybWFsaXplUHRzKFxuICAgICAgICBzYW1wbGUuZHRzIC0gKGluaXREVFMuYmFzZVRpbWUgKiBpbnB1dFRpbWVTY2FsZSkgLyBpbml0RFRTLnRpbWVzY2FsZSxcbiAgICAgICAgdGltZU9mZnNldCAqIGlucHV0VGltZVNjYWxlLFxuICAgICAgKSAvIGlucHV0VGltZVNjYWxlO1xuICB9XG4gIGNvbnN0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICB0cmFjay5zYW1wbGVzID0gW107XG4gIHJldHVybiB7XG4gICAgc2FtcGxlcyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoVGV4dFRyYWNrVXNlcmRhdGFDdWVTYW1wbGVzKFxuICB0cmFjazogRGVtdXhlZFVzZXJkYXRhVHJhY2ssXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgaW5pdFBUUzogUmF0aW9uYWxUaW1lc3RhbXAsXG4pOiBSZW11eGVkVXNlcmRhdGEgfCB1bmRlZmluZWQge1xuICBjb25zdCBsZW5ndGggPSB0cmFjay5zYW1wbGVzLmxlbmd0aDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBpbnB1dFRpbWVTY2FsZSA9IHRyYWNrLmlucHV0VGltZVNjYWxlO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3Qgc2FtcGxlID0gdHJhY2suc2FtcGxlc1tpbmRleF07XG4gICAgLy8gc2V0dGluZyB0ZXh0IHB0cywgZHRzIHRvIHJlbGF0aXZlIHRpbWVcbiAgICAvLyB1c2luZyB0aGlzLl9pbml0UFRTIGFuZCB0aGlzLl9pbml0RFRTIHRvIGNhbGN1bGF0ZSByZWxhdGl2ZSB0aW1lXG4gICAgc2FtcGxlLnB0cyA9XG4gICAgICBub3JtYWxpemVQdHMoXG4gICAgICAgIHNhbXBsZS5wdHMgLSAoaW5pdFBUUy5iYXNlVGltZSAqIGlucHV0VGltZVNjYWxlKSAvIGluaXRQVFMudGltZXNjYWxlLFxuICAgICAgICB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGUsXG4gICAgICApIC8gaW5wdXRUaW1lU2NhbGU7XG4gIH1cbiAgdHJhY2suc2FtcGxlcy5zb3J0KChhLCBiKSA9PiBhLnB0cyAtIGIucHRzKTtcbiAgY29uc3Qgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXM7XG4gIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBzYW1wbGVzLFxuICB9O1xufVxuXG50eXBlIE1wNFNhbXBsZUZsYWdzID0ge1xuICBpc0xlYWRpbmc6IDA7XG4gIGlzRGVwZW5kZWRPbjogMDtcbiAgaGFzUmVkdW5kYW5jeTogMDtcbiAgZGVncmFkUHJpbzogMDtcbiAgZGVwZW5kc09uOiAxIHwgMjtcbiAgaXNOb25TeW5jOiAwIHwgMTtcbn07XG5cbmNsYXNzIE1wNFNhbXBsZSB7XG4gIHB1YmxpYyBzaXplOiBudW1iZXI7XG4gIHB1YmxpYyBkdXJhdGlvbjogbnVtYmVyO1xuICBwdWJsaWMgY3RzOiBudW1iZXI7XG4gIHB1YmxpYyBmbGFnczogTXA0U2FtcGxlRmxhZ3M7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgaXNLZXlmcmFtZTogYm9vbGVhbixcbiAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgIHNpemU6IG51bWJlcixcbiAgICBjdHM6IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5jdHMgPSBjdHM7XG4gICAgdGhpcy5mbGFncyA9IHtcbiAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgZGVwZW5kc09uOiBpc0tleWZyYW1lID8gMiA6IDEsXG4gICAgICBpc05vblN5bmM6IGlzS2V5ZnJhbWUgPyAwIDogMSxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgZmx1c2hUZXh0VHJhY2tNZXRhZGF0YUN1ZVNhbXBsZXMsXG4gIGZsdXNoVGV4dFRyYWNrVXNlcmRhdGFDdWVTYW1wbGVzLFxufSBmcm9tICcuL21wNC1yZW11eGVyJztcbmltcG9ydCB7XG4gIEluaXREYXRhLFxuICBJbml0RGF0YVRyYWNrLFxuICBwYXRjaEVuY3lwdGlvbkRhdGEsXG59IGZyb20gJy4uL3V0aWxzL21wNC10b29scyc7XG5pbXBvcnQge1xuICBnZXREdXJhdGlvbixcbiAgZ2V0U3RhcnREVFMsXG4gIG9mZnNldFN0YXJ0RFRTLFxuICBwYXJzZUluaXRTZWdtZW50LFxufSBmcm9tICcuLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IHsgRWxlbWVudGFyeVN0cmVhbVR5cGVzIH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRDb2RlY0NvbXBhdGlibGVOYW1lIH0gZnJvbSAnLi4vdXRpbHMvY29kZWNzJztcbmltcG9ydCB0eXBlIHsgVHJhY2tTZXQgfSBmcm9tICcuLi90eXBlcy90cmFjayc7XG5pbXBvcnQgdHlwZSB7XG4gIEluaXRTZWdtZW50RGF0YSxcbiAgUmVtdXhlZFRyYWNrLFxuICBSZW11eGVyLFxuICBSZW11eGVyUmVzdWx0LFxufSBmcm9tICcuLi90eXBlcy9yZW11eGVyJztcbmltcG9ydCB0eXBlIHtcbiAgRGVtdXhlZEF1ZGlvVHJhY2ssXG4gIERlbXV4ZWRNZXRhZGF0YVRyYWNrLFxuICBEZW11eGVkVXNlcmRhdGFUcmFjayxcbiAgUGFzc3Rocm91Z2hUcmFjayxcbn0gZnJvbSAnLi4vdHlwZXMvZGVtdXhlcic7XG5pbXBvcnQgdHlwZSB7IERlY3J5cHREYXRhIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWtleSc7XG5pbXBvcnQgdHlwZSB7IFJhdGlvbmFsVGltZXN0YW1wIH0gZnJvbSAnLi4vdXRpbHMvdGltZXNjYWxlLWNvbnZlcnNpb24nO1xuXG5jbGFzcyBQYXNzVGhyb3VnaFJlbXV4ZXIgaW1wbGVtZW50cyBSZW11eGVyIHtcbiAgcHJpdmF0ZSBlbWl0SW5pdFNlZ21lbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBhdWRpb0NvZGVjPzogc3RyaW5nO1xuICBwcml2YXRlIHZpZGVvQ29kZWM/OiBzdHJpbmc7XG4gIHByaXZhdGUgaW5pdERhdGE/OiBJbml0RGF0YTtcbiAgcHJpdmF0ZSBpbml0UFRTOiBSYXRpb25hbFRpbWVzdGFtcCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGluaXRUcmFja3M/OiBUcmFja1NldDtcbiAgcHJpdmF0ZSBsYXN0RW5kVGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7fVxuXG4gIHB1YmxpYyByZXNldFRpbWVTdGFtcChkZWZhdWx0SW5pdFBUUzogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsKSB7XG4gICAgdGhpcy5pbml0UFRTID0gZGVmYXVsdEluaXRQVFM7XG4gICAgdGhpcy5sYXN0RW5kVGltZSA9IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcmVzZXROZXh0VGltZXN0YW1wKCkge1xuICAgIHRoaXMubGFzdEVuZFRpbWUgPSBudWxsO1xuICB9XG5cbiAgcHVibGljIHJlc2V0SW5pdFNlZ21lbnQoXG4gICAgaW5pdFNlZ21lbnQ6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQsXG4gICAgYXVkaW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHZpZGVvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBkZWNyeXB0ZGF0YTogRGVjcnlwdERhdGEgfCBudWxsLFxuICApIHtcbiAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgdGhpcy5nZW5lcmF0ZUluaXRTZWdtZW50KHBhdGNoRW5jeXB0aW9uRGF0YShpbml0U2VnbWVudCwgZGVjcnlwdGRhdGEpKTtcbiAgICB0aGlzLmVtaXRJbml0U2VnbWVudCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlSW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQ6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBsZXQgeyBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjIH0gPSB0aGlzO1xuICAgIGlmICghaW5pdFNlZ21lbnQ/LmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuaW5pdFRyYWNrcyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaW5pdERhdGEgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluaXREYXRhID0gKHRoaXMuaW5pdERhdGEgPSBwYXJzZUluaXRTZWdtZW50KGluaXRTZWdtZW50KSk7XG5cbiAgICAvLyBHZXQgY29kZWMgZnJvbSBpbml0U2VnbWVudCBvciBmYWxsYmFjayB0byBkZWZhdWx0XG4gICAgaWYgKGluaXREYXRhLmF1ZGlvKSB7XG4gICAgICBhdWRpb0NvZGVjID0gZ2V0UGFyc2VkVHJhY2tDb2RlYyhcbiAgICAgICAgaW5pdERhdGEuYXVkaW8sXG4gICAgICAgIEVsZW1lbnRhcnlTdHJlYW1UeXBlcy5BVURJTyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGluaXREYXRhLnZpZGVvKSB7XG4gICAgICB2aWRlb0NvZGVjID0gZ2V0UGFyc2VkVHJhY2tDb2RlYyhcbiAgICAgICAgaW5pdERhdGEudmlkZW8sXG4gICAgICAgIEVsZW1lbnRhcnlTdHJlYW1UeXBlcy5WSURFTyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdHJhY2tzOiBUcmFja1NldCA9IHt9O1xuICAgIGlmIChpbml0RGF0YS5hdWRpbyAmJiBpbml0RGF0YS52aWRlbykge1xuICAgICAgdHJhY2tzLmF1ZGlvdmlkZW8gPSB7XG4gICAgICAgIGNvbnRhaW5lcjogJ3ZpZGVvL21wNCcsXG4gICAgICAgIGNvZGVjOiBhdWRpb0NvZGVjICsgJywnICsgdmlkZW9Db2RlYyxcbiAgICAgICAgaW5pdFNlZ21lbnQsXG4gICAgICAgIGlkOiAnbWFpbicsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaW5pdERhdGEuYXVkaW8pIHtcbiAgICAgIHRyYWNrcy5hdWRpbyA9IHtcbiAgICAgICAgY29udGFpbmVyOiAnYXVkaW8vbXA0JyxcbiAgICAgICAgY29kZWM6IGF1ZGlvQ29kZWMsXG4gICAgICAgIGluaXRTZWdtZW50LFxuICAgICAgICBpZDogJ2F1ZGlvJyxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpbml0RGF0YS52aWRlbykge1xuICAgICAgdHJhY2tzLnZpZGVvID0ge1xuICAgICAgICBjb250YWluZXI6ICd2aWRlby9tcDQnLFxuICAgICAgICBjb2RlYzogdmlkZW9Db2RlYyxcbiAgICAgICAgaW5pdFNlZ21lbnQsXG4gICAgICAgIGlkOiAnbWFpbicsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgJ1twYXNzdGhyb3VnaC1yZW11eGVyLnRzXTogaW5pdFNlZ21lbnQgZG9lcyBub3QgY29udGFpbiBtb292IG9yIHRyYWsgYm94ZXMuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaW5pdFRyYWNrcyA9IHRyYWNrcztcbiAgfVxuXG4gIHB1YmxpYyByZW11eChcbiAgICBhdWRpb1RyYWNrOiBEZW11eGVkQXVkaW9UcmFjayxcbiAgICB2aWRlb1RyYWNrOiBQYXNzdGhyb3VnaFRyYWNrLFxuICAgIGlkM1RyYWNrOiBEZW11eGVkTWV0YWRhdGFUcmFjayxcbiAgICB0ZXh0VHJhY2s6IERlbXV4ZWRVc2VyZGF0YVRyYWNrLFxuICAgIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgICBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGJvb2xlYW4sXG4gICk6IFJlbXV4ZXJSZXN1bHQge1xuICAgIGxldCB7IGluaXRQVFMsIGxhc3RFbmRUaW1lIH0gPSB0aGlzO1xuICAgIGNvbnN0IHJlc3VsdDogUmVtdXhlclJlc3VsdCA9IHtcbiAgICAgIGF1ZGlvOiB1bmRlZmluZWQsXG4gICAgICB2aWRlbzogdW5kZWZpbmVkLFxuICAgICAgdGV4dDogdGV4dFRyYWNrLFxuICAgICAgaWQzOiBpZDNUcmFjayxcbiAgICAgIGluaXRTZWdtZW50OiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIC8vIElmIHdlIGhhdmVuJ3QgeWV0IHNldCBhIGxhc3RFbmREVFMsIG9yIGl0IHdhcyByZXNldCwgc2V0IGl0IHRvIHRoZSBwcm92aWRlZCB0aW1lT2Zmc2V0LiBXZSB3YW50IHRvIHVzZSB0aGVcbiAgICAvLyBsYXN0RW5kRFRTIG92ZXIgdGltZU9mZnNldCB3aGVuZXZlciBwb3NzaWJsZTsgZHVyaW5nIHByb2dyZXNzaXZlIHBsYXliYWNrLCB0aGUgbWVkaWEgc291cmNlIHdpbGwgbm90IHVwZGF0ZVxuICAgIC8vIHRoZSBtZWRpYSBkdXJhdGlvbiAod2hpY2ggaXMgd2hhdCB0aW1lT2Zmc2V0IGlzIHByb3ZpZGVkIGFzKSBiZWZvcmUgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBuZXh0IGNodW5rLlxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGxhc3RFbmRUaW1lISkpIHtcbiAgICAgIGxhc3RFbmRUaW1lID0gdGhpcy5sYXN0RW5kVGltZSA9IHRpbWVPZmZzZXQgfHwgMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgYmluYXJ5IHNlZ21lbnQgZGF0YSBpcyBhZGRlZCB0byB0aGUgdmlkZW9UcmFjayBpbiB0aGUgbXA0ZGVtdXhlci4gV2UgZG9uJ3QgY2hlY2sgdG8gc2VlIGlmIHRoZSBkYXRhIGlzIG9ubHlcbiAgICAvLyBhdWRpbyBvciB2aWRlbyAob3IgYm90aCk7IGFkZGluZyBpdCB0byB2aWRlbyB3YXMgYW4gYXJiaXRyYXJ5IGNob2ljZS5cbiAgICBjb25zdCBkYXRhID0gdmlkZW9UcmFjay5zYW1wbGVzO1xuICAgIGlmICghZGF0YT8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IGluaXRTZWdtZW50OiBJbml0U2VnbWVudERhdGEgPSB7XG4gICAgICBpbml0UFRTOiB1bmRlZmluZWQsXG4gICAgICB0aW1lc2NhbGU6IDEsXG4gICAgfTtcbiAgICBsZXQgaW5pdERhdGEgPSB0aGlzLmluaXREYXRhO1xuICAgIGlmICghaW5pdERhdGE/Lmxlbmd0aCkge1xuICAgICAgdGhpcy5nZW5lcmF0ZUluaXRTZWdtZW50KGRhdGEpO1xuICAgICAgaW5pdERhdGEgPSB0aGlzLmluaXREYXRhO1xuICAgIH1cbiAgICBpZiAoIWluaXREYXRhPy5sZW5ndGgpIHtcbiAgICAgIC8vIFdlIGNhbid0IHJlbXV4IGlmIHRoZSBpbml0U2VnbWVudCBjb3VsZCBub3QgYmUgZ2VuZXJhdGVkXG4gICAgICBsb2dnZXIud2FybignW3Bhc3N0aHJvdWdoLXJlbXV4ZXIudHNdOiBGYWlsZWQgdG8gZ2VuZXJhdGUgaW5pdFNlZ21lbnQuJyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAodGhpcy5lbWl0SW5pdFNlZ21lbnQpIHtcbiAgICAgIGluaXRTZWdtZW50LnRyYWNrcyA9IHRoaXMuaW5pdFRyYWNrcyBhcyBUcmFja1NldDtcbiAgICAgIHRoaXMuZW1pdEluaXRTZWdtZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb24gPSBnZXREdXJhdGlvbihkYXRhLCBpbml0RGF0YSk7XG4gICAgY29uc3Qgc3RhcnREVFMgPSBnZXRTdGFydERUUyhpbml0RGF0YSwgZGF0YSk7XG4gICAgY29uc3QgZGVjb2RlVGltZSA9IHN0YXJ0RFRTID09PSBudWxsID8gdGltZU9mZnNldCA6IHN0YXJ0RFRTO1xuICAgIGlmIChcbiAgICAgIGlzSW52YWxpZEluaXRQdHMoaW5pdFBUUywgZGVjb2RlVGltZSwgdGltZU9mZnNldCwgZHVyYXRpb24pIHx8XG4gICAgICAoaW5pdFNlZ21lbnQudGltZXNjYWxlICE9PSBpbml0UFRTLnRpbWVzY2FsZSAmJiBhY2N1cmF0ZVRpbWVPZmZzZXQpXG4gICAgKSB7XG4gICAgICBpbml0U2VnbWVudC5pbml0UFRTID0gZGVjb2RlVGltZSAtIHRpbWVPZmZzZXQ7XG4gICAgICBpZiAoaW5pdFBUUyAmJiBpbml0UFRTLnRpbWVzY2FsZSA9PT0gMSkge1xuICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICBgQWRqdXN0aW5nIGluaXRQVFMgYnkgJHtpbml0U2VnbWVudC5pbml0UFRTIC0gaW5pdFBUUy5iYXNlVGltZX1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5pbml0UFRTID0gaW5pdFBUUyA9IHtcbiAgICAgICAgYmFzZVRpbWU6IGluaXRTZWdtZW50LmluaXRQVFMsXG4gICAgICAgIHRpbWVzY2FsZTogMSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gYXVkaW9UcmFja1xuICAgICAgPyBkZWNvZGVUaW1lIC0gaW5pdFBUUy5iYXNlVGltZSAvIGluaXRQVFMudGltZXNjYWxlXG4gICAgICA6IChsYXN0RW5kVGltZSBhcyBudW1iZXIpO1xuICAgIGNvbnN0IGVuZFRpbWUgPSBzdGFydFRpbWUgKyBkdXJhdGlvbjtcbiAgICBvZmZzZXRTdGFydERUUyhpbml0RGF0YSwgZGF0YSwgaW5pdFBUUy5iYXNlVGltZSAvIGluaXRQVFMudGltZXNjYWxlKTtcblxuICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgIHRoaXMubGFzdEVuZFRpbWUgPSBlbmRUaW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIud2FybignRHVyYXRpb24gcGFyc2VkIGZyb20gbXA0IHNob3VsZCBiZSBncmVhdGVyIHRoYW4gemVybycpO1xuICAgICAgdGhpcy5yZXNldE5leHRUaW1lc3RhbXAoKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNBdWRpbyA9ICEhaW5pdERhdGEuYXVkaW87XG4gICAgY29uc3QgaGFzVmlkZW8gPSAhIWluaXREYXRhLnZpZGVvO1xuXG4gICAgbGV0IHR5cGU6IGFueSA9ICcnO1xuICAgIGlmIChoYXNBdWRpbykge1xuICAgICAgdHlwZSArPSAnYXVkaW8nO1xuICAgIH1cblxuICAgIGlmIChoYXNWaWRlbykge1xuICAgICAgdHlwZSArPSAndmlkZW8nO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYWNrOiBSZW11eGVkVHJhY2sgPSB7XG4gICAgICBkYXRhMTogZGF0YSxcbiAgICAgIHN0YXJ0UFRTOiBzdGFydFRpbWUsXG4gICAgICBzdGFydERUUzogc3RhcnRUaW1lLFxuICAgICAgZW5kUFRTOiBlbmRUaW1lLFxuICAgICAgZW5kRFRTOiBlbmRUaW1lLFxuICAgICAgdHlwZSxcbiAgICAgIGhhc0F1ZGlvLFxuICAgICAgaGFzVmlkZW8sXG4gICAgICBuYjogMSxcbiAgICAgIGRyb3BwZWQ6IDAsXG4gICAgfTtcblxuICAgIHJlc3VsdC5hdWRpbyA9IHRyYWNrLnR5cGUgPT09ICdhdWRpbycgPyB0cmFjayA6IHVuZGVmaW5lZDtcbiAgICByZXN1bHQudmlkZW8gPSB0cmFjay50eXBlICE9PSAnYXVkaW8nID8gdHJhY2sgOiB1bmRlZmluZWQ7XG4gICAgcmVzdWx0LmluaXRTZWdtZW50ID0gaW5pdFNlZ21lbnQ7XG4gICAgcmVzdWx0LmlkMyA9IGZsdXNoVGV4dFRyYWNrTWV0YWRhdGFDdWVTYW1wbGVzKFxuICAgICAgaWQzVHJhY2ssXG4gICAgICB0aW1lT2Zmc2V0LFxuICAgICAgaW5pdFBUUyxcbiAgICAgIGluaXRQVFMsXG4gICAgKTtcblxuICAgIGlmICh0ZXh0VHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdC50ZXh0ID0gZmx1c2hUZXh0VHJhY2tVc2VyZGF0YUN1ZVNhbXBsZXMoXG4gICAgICAgIHRleHRUcmFjayxcbiAgICAgICAgdGltZU9mZnNldCxcbiAgICAgICAgaW5pdFBUUyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0ludmFsaWRJbml0UHRzKFxuICBpbml0UFRTOiBSYXRpb25hbFRpbWVzdGFtcCB8IG51bGwsXG4gIHN0YXJ0RFRTOiBudW1iZXIsXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgZHVyYXRpb246IG51bWJlcixcbik6IGluaXRQVFMgaXMgbnVsbCB7XG4gIGlmIChpbml0UFRTID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gSW5pdFBUUyBpcyBpbnZhbGlkIHdoZW4gZGlzdGFuY2UgZnJvbSBwcm9ncmFtIHdvdWxkIGJlIG1vcmUgdGhhbiBzZWdtZW50IGR1cmF0aW9uIG9yIGEgbWluaW11bSBvZiBvbmUgc2Vjb25kXG4gIGNvbnN0IG1pbkR1cmF0aW9uID0gTWF0aC5tYXgoZHVyYXRpb24sIDEpO1xuICBjb25zdCBzdGFydFRpbWUgPSBzdGFydERUUyAtIGluaXRQVFMuYmFzZVRpbWUgLyBpbml0UFRTLnRpbWVzY2FsZTtcbiAgcmV0dXJuIE1hdGguYWJzKHN0YXJ0VGltZSAtIHRpbWVPZmZzZXQpID4gbWluRHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlZFRyYWNrQ29kZWMoXG4gIHRyYWNrOiBJbml0RGF0YVRyYWNrLFxuICB0eXBlOiBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8gfCBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU8sXG4pOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZWRDb2RlYyA9IHRyYWNrPy5jb2RlYztcbiAgaWYgKHBhcnNlZENvZGVjICYmIHBhcnNlZENvZGVjLmxlbmd0aCA+IDQpIHtcbiAgICByZXR1cm4gcGFyc2VkQ29kZWM7XG4gIH1cbiAgaWYgKHR5cGUgPT09IEVsZW1lbnRhcnlTdHJlYW1UeXBlcy5BVURJTykge1xuICAgIGlmIChcbiAgICAgIHBhcnNlZENvZGVjID09PSAnZWMtMycgfHxcbiAgICAgIHBhcnNlZENvZGVjID09PSAnYWMtMycgfHxcbiAgICAgIHBhcnNlZENvZGVjID09PSAnYWxhYydcbiAgICApIHtcbiAgICAgIHJldHVybiBwYXJzZWRDb2RlYztcbiAgICB9XG4gICAgaWYgKHBhcnNlZENvZGVjID09PSAnZkxhQycgfHwgcGFyc2VkQ29kZWMgPT09ICdPcHVzJykge1xuICAgICAgLy8gT3B0aW5nIG5vdCB0byBnZXQgYHByZWZlck1hbmFnZWRNZWRpYVNvdXJjZWAgZnJvbSBwbGF5ZXIgY29uZmlnIGZvciBpc1N1cHBvcnRlZCgpIGNoZWNrIGZvciBzaW1wbGljaXR5XG4gICAgICBjb25zdCBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UgPSBmYWxzZTtcbiAgICAgIHJldHVybiBnZXRDb2RlY0NvbXBhdGlibGVOYW1lKHBhcnNlZENvZGVjLCBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSAnbXA0YS40MC41JztcbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgIGBQYXJzZWQgYXVkaW8gY29kZWMgXCIke3BhcnNlZENvZGVjfVwiIG9yIGF1ZGlvIG9iamVjdCB0eXBlIG5vdCBoYW5kbGVkLiBVc2luZyBcIiR7cmVzdWx0fVwiYCxcbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLy8gUHJvdmlkZSBkZWZhdWx0cyBiYXNlZCBvbiBjb2RlYyB0eXBlXG4gIC8vIFRoaXMgYWxsb3dzIGZvciBzb21lIHBsYXliYWNrIG9mIHNvbWUgZm1wNCBwbGF5bGlzdHMgd2l0aG91dCBDT0RFQ1MgZGVmaW5lZCBpbiBtYW5pZmVzdFxuICBsb2dnZXIud2FybihgVW5oYW5kbGVkIHZpZGVvIGNvZGVjIFwiJHtwYXJzZWRDb2RlY31cImApO1xuICBpZiAocGFyc2VkQ29kZWMgPT09ICdodmMxJyB8fCBwYXJzZWRDb2RlYyA9PT0gJ2hldjEnKSB7XG4gICAgcmV0dXJuICdodmMxLjEuNi5MMTIwLjkwJztcbiAgfVxuICBpZiAocGFyc2VkQ29kZWMgPT09ICdhdjAxJykge1xuICAgIHJldHVybiAnYXYwMS4wLjA0TS4wOCc7XG4gIH1cbiAgcmV0dXJuICdhdmMxLjQyZTAxZSc7XG59XG5leHBvcnQgZGVmYXVsdCBQYXNzVGhyb3VnaFJlbXV4ZXI7XG4iLCAiaW1wb3J0IHR5cGUgeyBIbHNFdmVudEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IEVycm9yVHlwZXMsIEVycm9yRGV0YWlscyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgRGVjcnlwdGVyIGZyb20gJy4uL2NyeXB0L2RlY3J5cHRlcic7XG5pbXBvcnQgQUFDRGVtdXhlciBmcm9tICcuL2F1ZGlvL2FhY2RlbXV4ZXInO1xuaW1wb3J0IE1QNERlbXV4ZXIgZnJvbSAnLi4vZGVtdXgvbXA0ZGVtdXhlcic7XG5pbXBvcnQgVFNEZW11eGVyLCB7IFR5cGVTdXBwb3J0ZWQgfSBmcm9tICcuLi9kZW11eC90c2RlbXV4ZXInO1xuaW1wb3J0IE1QM0RlbXV4ZXIgZnJvbSAnLi9hdWRpby9tcDNkZW11eGVyJztcbmltcG9ydCB7IEFDM0RlbXV4ZXIgfSBmcm9tICcuL2F1ZGlvL2FjMy1kZW11eGVyJztcbmltcG9ydCBNUDRSZW11eGVyIGZyb20gJy4uL3JlbXV4L21wNC1yZW11eGVyJztcbmltcG9ydCBQYXNzVGhyb3VnaFJlbXV4ZXIgZnJvbSAnLi4vcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBEZW11eGVyLCBEZW11eGVyUmVzdWx0LCBLZXlEYXRhIH0gZnJvbSAnLi4vdHlwZXMvZGVtdXhlcic7XG5pbXBvcnQgdHlwZSB7IFJlbXV4ZXIgfSBmcm9tICcuLi90eXBlcy9yZW11eGVyJztcbmltcG9ydCB0eXBlIHsgVHJhbnNtdXhlclJlc3VsdCwgQ2h1bmtNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3RyYW5zbXV4ZXInO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBEZWNyeXB0RGF0YSB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1rZXknO1xuaW1wb3J0IHR5cGUgeyBQbGF5bGlzdExldmVsVHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSB7IFJhdGlvbmFsVGltZXN0YW1wIH0gZnJvbSAnLi4vdXRpbHMvdGltZXNjYWxlLWNvbnZlcnNpb24nO1xuaW1wb3J0IHsgb3B0aW9uYWxTZWxmIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFsJztcblxubGV0IG5vdztcbi8vIHBlcmZvcm1hbmNlLm5vdygpIG5vdCBhdmFpbGFibGUgb24gV2ViV29ya2VyLCBhdCBsZWFzdCBvbiBTYWZhcmkgRGVza3RvcFxudHJ5IHtcbiAgbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTtcbn0gY2F0Y2ggKGVycikge1xuICBsb2dnZXIuZGVidWcoJ1VuYWJsZSB0byB1c2UgUGVyZm9ybWFuY2UgQVBJIG9uIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgbm93ID0gb3B0aW9uYWxTZWxmPy5EYXRlLm5vdztcbn1cblxudHlwZSBNdXhDb25maWcgPVxuICB8IHsgZGVtdXg6IHR5cGVvZiBNUDREZW11eGVyOyByZW11eDogdHlwZW9mIFBhc3NUaHJvdWdoUmVtdXhlciB9XG4gIHwgeyBkZW11eDogdHlwZW9mIFRTRGVtdXhlcjsgcmVtdXg6IHR5cGVvZiBNUDRSZW11eGVyIH1cbiAgfCB7IGRlbXV4OiB0eXBlb2YgQUMzRGVtdXhlcjsgcmVtdXg6IHR5cGVvZiBNUDRSZW11eGVyIH1cbiAgfCB7IGRlbXV4OiB0eXBlb2YgQUFDRGVtdXhlcjsgcmVtdXg6IHR5cGVvZiBNUDRSZW11eGVyIH1cbiAgfCB7IGRlbXV4OiB0eXBlb2YgTVAzRGVtdXhlcjsgcmVtdXg6IHR5cGVvZiBNUDRSZW11eGVyIH07XG5cbmNvbnN0IG11eENvbmZpZzogTXV4Q29uZmlnW10gPSBbXG4gIHsgZGVtdXg6IE1QNERlbXV4ZXIsIHJlbXV4OiBQYXNzVGhyb3VnaFJlbXV4ZXIgfSxcbiAgeyBkZW11eDogVFNEZW11eGVyLCByZW11eDogTVA0UmVtdXhlciB9LFxuICB7IGRlbXV4OiBBQUNEZW11eGVyLCByZW11eDogTVA0UmVtdXhlciB9LFxuICB7IGRlbXV4OiBNUDNEZW11eGVyLCByZW11eDogTVA0UmVtdXhlciB9LFxuXTtcblxuaWYgKF9fVVNFX00yVFNfQURWQU5DRURfQ09ERUNTX18pIHtcbiAgbXV4Q29uZmlnLnNwbGljZSgyLCAwLCB7IGRlbXV4OiBBQzNEZW11eGVyLCByZW11eDogTVA0UmVtdXhlciB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNtdXhlciB7XG4gIHB1YmxpYyBhc3luYzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIG9ic2VydmVyOiBIbHNFdmVudEVtaXR0ZXI7XG4gIHByaXZhdGUgdHlwZVN1cHBvcnRlZDogVHlwZVN1cHBvcnRlZDtcbiAgcHJpdmF0ZSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSB2ZW5kb3I6IHN0cmluZztcbiAgcHJpdmF0ZSBpZDogUGxheWxpc3RMZXZlbFR5cGU7XG4gIHByaXZhdGUgZGVtdXhlcj86IERlbXV4ZXI7XG4gIHByaXZhdGUgcmVtdXhlcj86IFJlbXV4ZXI7XG4gIHByaXZhdGUgZGVjcnlwdGVyPzogRGVjcnlwdGVyO1xuICBwcml2YXRlIHByb2JlITogRnVuY3Rpb247XG4gIHByaXZhdGUgZGVjcnlwdGlvblByb21pc2U6IFByb21pc2U8VHJhbnNtdXhlclJlc3VsdD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0cmFuc211eENvbmZpZyE6IFRyYW5zbXV4Q29uZmlnO1xuICBwcml2YXRlIGN1cnJlbnRUcmFuc211eFN0YXRlITogVHJhbnNtdXhTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBvYnNlcnZlcjogSGxzRXZlbnRFbWl0dGVyLFxuICAgIHR5cGVTdXBwb3J0ZWQ6IFR5cGVTdXBwb3J0ZWQsXG4gICAgY29uZmlnOiBIbHNDb25maWcsXG4gICAgdmVuZG9yOiBzdHJpbmcsXG4gICAgaWQ6IFBsYXlsaXN0TGV2ZWxUeXBlLFxuICApIHtcbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnZlbmRvciA9IHZlbmRvcjtcbiAgICB0aGlzLmlkID0gaWQ7XG4gIH1cblxuICBjb25maWd1cmUodHJhbnNtdXhDb25maWc6IFRyYW5zbXV4Q29uZmlnKSB7XG4gICAgdGhpcy50cmFuc211eENvbmZpZyA9IHRyYW5zbXV4Q29uZmlnO1xuICAgIGlmICh0aGlzLmRlY3J5cHRlcikge1xuICAgICAgdGhpcy5kZWNyeXB0ZXIucmVzZXQoKTtcbiAgICB9XG4gIH1cblxuICBwdXNoKFxuICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgIGRlY3J5cHRkYXRhOiBEZWNyeXB0RGF0YSB8IG51bGwsXG4gICAgY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhLFxuICAgIHN0YXRlPzogVHJhbnNtdXhTdGF0ZSxcbiAgKTogVHJhbnNtdXhlclJlc3VsdCB8IFByb21pc2U8VHJhbnNtdXhlclJlc3VsdD4ge1xuICAgIGNvbnN0IHN0YXRzID0gY2h1bmtNZXRhLnRyYW5zbXV4aW5nO1xuICAgIHN0YXRzLmV4ZWN1dGVTdGFydCA9IG5vdygpO1xuXG4gICAgbGV0IHVpbnREYXRhOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgY29uc3QgeyBjdXJyZW50VHJhbnNtdXhTdGF0ZSwgdHJhbnNtdXhDb25maWcgfSA9IHRoaXM7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICB0aGlzLmN1cnJlbnRUcmFuc211eFN0YXRlID0gc3RhdGU7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgY29udGlndW91cyxcbiAgICAgIGRpc2NvbnRpbnVpdHksXG4gICAgICB0cmFja1N3aXRjaCxcbiAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgIHRpbWVPZmZzZXQsXG4gICAgICBpbml0U2VnbWVudENoYW5nZSxcbiAgICB9ID0gc3RhdGUgfHwgY3VycmVudFRyYW5zbXV4U3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgYXVkaW9Db2RlYyxcbiAgICAgIHZpZGVvQ29kZWMsXG4gICAgICBkZWZhdWx0SW5pdFB0cyxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgaW5pdFNlZ21lbnREYXRhLFxuICAgIH0gPSB0cmFuc211eENvbmZpZztcblxuICAgIGNvbnN0IGtleURhdGEgPSBnZXRFbmNyeXB0aW9uVHlwZSh1aW50RGF0YSwgZGVjcnlwdGRhdGEpO1xuICAgIGlmIChrZXlEYXRhICYmIGtleURhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpIHtcbiAgICAgIGNvbnN0IGRlY3J5cHRlciA9IHRoaXMuZ2V0RGVjcnlwdGVyKCk7XG4gICAgICAvLyBTb2Z0d2FyZSBkZWNyeXB0aW9uIGlzIHN5bmNocm9ub3VzOyB3ZWJDcnlwdG8gaXMgbm90XG4gICAgICBpZiAoZGVjcnlwdGVyLmlzU3luYygpKSB7XG4gICAgICAgIC8vIFNvZnR3YXJlIGRlY3J5cHRpb24gaXMgcHJvZ3Jlc3NpdmUuIFByb2dyZXNzaXZlIGRlY3J5cHRpb24gbWF5IG5vdCByZXR1cm4gYSByZXN1bHQgb24gZWFjaCBjYWxsLiBBbnkgY2FjaGVkXG4gICAgICAgIC8vIGRhdGEgaXMgaGFuZGxlZCBpbiB0aGUgZmx1c2goKSBjYWxsXG4gICAgICAgIGxldCBkZWNyeXB0ZWREYXRhID0gZGVjcnlwdGVyLnNvZnR3YXJlRGVjcnlwdChcbiAgICAgICAgICB1aW50RGF0YSxcbiAgICAgICAgICBrZXlEYXRhLmtleS5idWZmZXIsXG4gICAgICAgICAga2V5RGF0YS5pdi5idWZmZXIsXG4gICAgICAgICk7XG4gICAgICAgIC8vIEZvciBMb3ctTGF0ZW5jeSBITFMgUGFydHMsIGRlY3J5cHQgaW4gcGxhY2UsIHNpbmNlIHBhcnQgcGFyc2luZyBpcyBleHBlY3RlZCBvbiBwdXNoIHByb2dyZXNzXG4gICAgICAgIGNvbnN0IGxvYWRpbmdQYXJ0cyA9IGNodW5rTWV0YS5wYXJ0ID4gLTE7XG4gICAgICAgIGlmIChsb2FkaW5nUGFydHMpIHtcbiAgICAgICAgICBkZWNyeXB0ZWREYXRhID0gZGVjcnlwdGVyLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWNyeXB0ZWREYXRhKSB7XG4gICAgICAgICAgc3RhdHMuZXhlY3V0ZUVuZCA9IG5vdygpO1xuICAgICAgICAgIHJldHVybiBlbXB0eVJlc3VsdChjaHVua01ldGEpO1xuICAgICAgICB9XG4gICAgICAgIHVpbnREYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRlY3J5cHRpb25Qcm9taXNlID0gZGVjcnlwdGVyXG4gICAgICAgICAgLndlYkNyeXB0b0RlY3J5cHQodWludERhdGEsIGtleURhdGEua2V5LmJ1ZmZlciwga2V5RGF0YS5pdi5idWZmZXIpXG4gICAgICAgICAgLnRoZW4oKGRlY3J5cHRlZERhdGEpOiBUcmFuc211eGVyUmVzdWx0ID0+IHtcbiAgICAgICAgICAgIC8vIENhbGxpbmcgcHVzaCBoZXJlIGlzIGltcG9ydGFudDsgaWYgZmx1c2goKSBpcyBjYWxsZWQgd2hpbGUgdGhpcyBpcyBzdGlsbCByZXNvbHZpbmcsIHRoaXMgZW5zdXJlcyB0aGF0XG4gICAgICAgICAgICAvLyB0aGUgZGVjcnlwdGVkIGRhdGEgaGFzIGJlZW4gdHJhbnNtdXhlZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wdXNoKFxuICAgICAgICAgICAgICBkZWNyeXB0ZWREYXRhLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBjaHVua01ldGEsXG4gICAgICAgICAgICApIGFzIFRyYW5zbXV4ZXJSZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLmRlY3J5cHRpb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY3J5cHRpb25Qcm9taXNlITtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXNldE11eGVycyA9IHRoaXMubmVlZHNQcm9iaW5nKGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoKTtcbiAgICBpZiAocmVzZXRNdXhlcnMpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5jb25maWd1cmVUcmFuc211eGVyKHVpbnREYXRhKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBsb2dnZXIud2FybihgW3RyYW5zbXV4ZXJdICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5lbWl0KEV2ZW50cy5FUlJPUiwgRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLFxuICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICByZWFzb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0cy5leGVjdXRlRW5kID0gbm93KCk7XG4gICAgICAgIHJldHVybiBlbXB0eVJlc3VsdChjaHVua01ldGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkaXNjb250aW51aXR5IHx8IHRyYWNrU3dpdGNoIHx8IGluaXRTZWdtZW50Q2hhbmdlIHx8IHJlc2V0TXV4ZXJzKSB7XG4gICAgICB0aGlzLnJlc2V0SW5pdFNlZ21lbnQoXG4gICAgICAgIGluaXRTZWdtZW50RGF0YSxcbiAgICAgICAgYXVkaW9Db2RlYyxcbiAgICAgICAgdmlkZW9Db2RlYyxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGRlY3J5cHRkYXRhLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZGlzY29udGludWl0eSB8fCBpbml0U2VnbWVudENoYW5nZSB8fCByZXNldE11eGVycykge1xuICAgICAgdGhpcy5yZXNldEluaXRpYWxUaW1lc3RhbXAoZGVmYXVsdEluaXRQdHMpO1xuICAgIH1cblxuICAgIGlmICghY29udGlndW91cykge1xuICAgICAgdGhpcy5yZXNldENvbnRpZ3VpdHkoKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnRyYW5zbXV4KFxuICAgICAgdWludERhdGEsXG4gICAgICBrZXlEYXRhLFxuICAgICAgdGltZU9mZnNldCxcbiAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgIGNodW5rTWV0YSxcbiAgICApO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuY3VycmVudFRyYW5zbXV4U3RhdGU7XG5cbiAgICBjdXJyZW50U3RhdGUuY29udGlndW91cyA9IHRydWU7XG4gICAgY3VycmVudFN0YXRlLmRpc2NvbnRpbnVpdHkgPSBmYWxzZTtcbiAgICBjdXJyZW50U3RhdGUudHJhY2tTd2l0Y2ggPSBmYWxzZTtcblxuICAgIHN0YXRzLmV4ZWN1dGVFbmQgPSBub3coKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gRHVlIHRvIGRhdGEgY2FjaGluZywgZmx1c2ggY2FsbHMgY2FuIHByb2R1Y2UgbW9yZSB0aGFuIG9uZSBUcmFuc211eGVyUmVzdWx0IChoZW5jZSB0aGUgQXJyYXkgdHlwZSlcbiAgZmx1c2goXG4gICAgY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhLFxuICApOiBUcmFuc211eGVyUmVzdWx0W10gfCBQcm9taXNlPFRyYW5zbXV4ZXJSZXN1bHRbXT4ge1xuICAgIGNvbnN0IHN0YXRzID0gY2h1bmtNZXRhLnRyYW5zbXV4aW5nO1xuICAgIHN0YXRzLmV4ZWN1dGVTdGFydCA9IG5vdygpO1xuXG4gICAgY29uc3QgeyBkZWNyeXB0ZXIsIGN1cnJlbnRUcmFuc211eFN0YXRlLCBkZWNyeXB0aW9uUHJvbWlzZSB9ID0gdGhpcztcblxuICAgIGlmIChkZWNyeXB0aW9uUHJvbWlzZSkge1xuICAgICAgLy8gVXBvbiByZXNvbHV0aW9uLCB0aGUgZGVjcnlwdGlvbiBwcm9taXNlIGNhbGxzIHB1c2goKSBhbmQgcmV0dXJucyBpdHMgVHJhbnNtdXhlclJlc3VsdCB1cCB0aGUgc3RhY2suIFRoZXJlZm9yZVxuICAgICAgLy8gb25seSBmbHVzaGluZyBpcyByZXF1aXJlZCBmb3IgYXN5bmMgZGVjcnlwdGlvblxuICAgICAgcmV0dXJuIGRlY3J5cHRpb25Qcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mbHVzaChjaHVua01ldGEpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNtdXhSZXN1bHRzOiBUcmFuc211eGVyUmVzdWx0W10gPSBbXTtcbiAgICBjb25zdCB7IHRpbWVPZmZzZXQgfSA9IGN1cnJlbnRUcmFuc211eFN0YXRlO1xuICAgIGlmIChkZWNyeXB0ZXIpIHtcbiAgICAgIC8vIFRoZSBkZWNyeXB0ZXIgbWF5IGhhdmUgZGF0YSBjYWNoZWQsIHdoaWNoIG5lZWRzIHRvIGJlIGRlbXV4ZWQuIEluIHRoaXMgY2FzZSB3ZSdsbCBoYXZlIHR3byBUcmFuc211eFJlc3VsdHNcbiAgICAgIC8vIFRoaXMgaGFwcGVucyBpbiB0aGUgY2FzZSB0aGF0IHdlIHJlY2VpdmUgb25seSAxIHB1c2ggY2FsbCBmb3IgYSBzZWdtZW50IChlaXRoZXIgZm9yIG5vbi1wcm9ncmVzc2l2ZSBkb3dubG9hZHMsXG4gICAgICAvLyBvciBmb3IgcHJvZ3Jlc3NpdmUgZG93bmxvYWRzIHdpdGggc21hbGwgc2VnbWVudHMpXG4gICAgICBjb25zdCBkZWNyeXB0ZWREYXRhID0gZGVjcnlwdGVyLmZsdXNoKCk7XG4gICAgICBpZiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICAvLyBQdXNoIGFsd2F5cyByZXR1cm5zIGEgVHJhbnNtdXhlclJlc3VsdCBpZiBkZWNyeXB0ZGF0YSBpcyBudWxsXG4gICAgICAgIHRyYW5zbXV4UmVzdWx0cy5wdXNoKFxuICAgICAgICAgIHRoaXMucHVzaChkZWNyeXB0ZWREYXRhLCBudWxsLCBjaHVua01ldGEpIGFzIFRyYW5zbXV4ZXJSZXN1bHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBkZW11eGVyLCByZW11eGVyIH0gPSB0aGlzO1xuICAgIGlmICghZGVtdXhlciB8fCAhcmVtdXhlcikge1xuICAgICAgLy8gSWYgcHJvYmluZyBmYWlsZWQsIHRoZW4gSGxzLmpzIGhhcyBiZWVuIGdpdmVuIGNvbnRlbnQgaXRzIG5vdCBhYmxlIHRvIGhhbmRsZVxuICAgICAgc3RhdHMuZXhlY3V0ZUVuZCA9IG5vdygpO1xuICAgICAgcmV0dXJuIFtlbXB0eVJlc3VsdChjaHVua01ldGEpXTtcbiAgICB9XG5cbiAgICBjb25zdCBkZW11eFJlc3VsdE9yUHJvbWlzZSA9IGRlbXV4ZXIuZmx1c2godGltZU9mZnNldCk7XG4gICAgaWYgKGlzUHJvbWlzZShkZW11eFJlc3VsdE9yUHJvbWlzZSkpIHtcbiAgICAgIC8vIERlY3J5cHQgZmluYWwgU0FNUExFLUFFUyBzYW1wbGVzXG4gICAgICByZXR1cm4gZGVtdXhSZXN1bHRPclByb21pc2UudGhlbigoZGVtdXhSZXN1bHQpID0+IHtcbiAgICAgICAgdGhpcy5mbHVzaFJlbXV4KHRyYW5zbXV4UmVzdWx0cywgZGVtdXhSZXN1bHQsIGNodW5rTWV0YSk7XG4gICAgICAgIHJldHVybiB0cmFuc211eFJlc3VsdHM7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmZsdXNoUmVtdXgodHJhbnNtdXhSZXN1bHRzLCBkZW11eFJlc3VsdE9yUHJvbWlzZSwgY2h1bmtNZXRhKTtcbiAgICByZXR1cm4gdHJhbnNtdXhSZXN1bHRzO1xuICB9XG5cbiAgcHJpdmF0ZSBmbHVzaFJlbXV4KFxuICAgIHRyYW5zbXV4UmVzdWx0czogVHJhbnNtdXhlclJlc3VsdFtdLFxuICAgIGRlbXV4UmVzdWx0OiBEZW11eGVyUmVzdWx0LFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrIH0gPSBkZW11eFJlc3VsdDtcbiAgICBjb25zdCB7IGFjY3VyYXRlVGltZU9mZnNldCwgdGltZU9mZnNldCB9ID0gdGhpcy5jdXJyZW50VHJhbnNtdXhTdGF0ZTtcbiAgICBsb2dnZXIubG9nKFxuICAgICAgYFt0cmFuc211eGVyLnRzXTogRmx1c2hlZCBmcmFnbWVudCAke2NodW5rTWV0YS5zbn0ke1xuICAgICAgICBjaHVua01ldGEucGFydCA+IC0xID8gJyBwOiAnICsgY2h1bmtNZXRhLnBhcnQgOiAnJ1xuICAgICAgfSBvZiBsZXZlbCAke2NodW5rTWV0YS5sZXZlbH1gLFxuICAgICk7XG4gICAgY29uc3QgcmVtdXhSZXN1bHQgPSB0aGlzLnJlbXV4ZXIhLnJlbXV4KFxuICAgICAgYXVkaW9UcmFjayxcbiAgICAgIHZpZGVvVHJhY2ssXG4gICAgICBpZDNUcmFjayxcbiAgICAgIHRleHRUcmFjayxcbiAgICAgIHRpbWVPZmZzZXQsXG4gICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICB0cnVlLFxuICAgICAgdGhpcy5pZCxcbiAgICApO1xuICAgIHRyYW5zbXV4UmVzdWx0cy5wdXNoKHtcbiAgICAgIHJlbXV4UmVzdWx0LFxuICAgICAgY2h1bmtNZXRhLFxuICAgIH0pO1xuXG4gICAgY2h1bmtNZXRhLnRyYW5zbXV4aW5nLmV4ZWN1dGVFbmQgPSBub3coKTtcbiAgfVxuXG4gIHJlc2V0SW5pdGlhbFRpbWVzdGFtcChkZWZhdWx0SW5pdFB0czogUmF0aW9uYWxUaW1lc3RhbXAgfCBudWxsKSB7XG4gICAgY29uc3QgeyBkZW11eGVyLCByZW11eGVyIH0gPSB0aGlzO1xuICAgIGlmICghZGVtdXhlciB8fCAhcmVtdXhlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UHRzKTtcbiAgICByZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UHRzKTtcbiAgfVxuXG4gIHJlc2V0Q29udGlndWl0eSgpIHtcbiAgICBjb25zdCB7IGRlbXV4ZXIsIHJlbXV4ZXIgfSA9IHRoaXM7XG4gICAgaWYgKCFkZW11eGVyIHx8ICFyZW11eGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbXV4ZXIucmVzZXRDb250aWd1aXR5KCk7XG4gICAgcmVtdXhlci5yZXNldE5leHRUaW1lc3RhbXAoKTtcbiAgfVxuXG4gIHJlc2V0SW5pdFNlZ21lbnQoXG4gICAgaW5pdFNlZ21lbnREYXRhOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkLFxuICAgIGF1ZGlvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICB2aWRlb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdHJhY2tEdXJhdGlvbjogbnVtYmVyLFxuICAgIGRlY3J5cHRkYXRhOiBEZWNyeXB0RGF0YSB8IG51bGwsXG4gICkge1xuICAgIGNvbnN0IHsgZGVtdXhlciwgcmVtdXhlciB9ID0gdGhpcztcbiAgICBpZiAoIWRlbXV4ZXIgfHwgIXJlbXV4ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVtdXhlci5yZXNldEluaXRTZWdtZW50KFxuICAgICAgaW5pdFNlZ21lbnREYXRhLFxuICAgICAgYXVkaW9Db2RlYyxcbiAgICAgIHZpZGVvQ29kZWMsXG4gICAgICB0cmFja0R1cmF0aW9uLFxuICAgICk7XG4gICAgcmVtdXhlci5yZXNldEluaXRTZWdtZW50KFxuICAgICAgaW5pdFNlZ21lbnREYXRhLFxuICAgICAgYXVkaW9Db2RlYyxcbiAgICAgIHZpZGVvQ29kZWMsXG4gICAgICBkZWNyeXB0ZGF0YSxcbiAgICApO1xuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5kZW11eGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW11eGVyKSB7XG4gICAgICB0aGlzLnJlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5yZW11eGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNtdXgoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICBrZXlEYXRhOiBLZXlEYXRhIHwgbnVsbCxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgYWNjdXJhdGVUaW1lT2Zmc2V0OiBib29sZWFuLFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgKTogVHJhbnNtdXhlclJlc3VsdCB8IFByb21pc2U8VHJhbnNtdXhlclJlc3VsdD4ge1xuICAgIGxldCByZXN1bHQ6IFRyYW5zbXV4ZXJSZXN1bHQgfCBQcm9taXNlPFRyYW5zbXV4ZXJSZXN1bHQ+O1xuICAgIGlmIChrZXlEYXRhICYmIGtleURhdGEubWV0aG9kID09PSAnU0FNUExFLUFFUycpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMudHJhbnNtdXhTYW1wbGVBZXMoXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGtleURhdGEsXG4gICAgICAgIHRpbWVPZmZzZXQsXG4gICAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgICAgY2h1bmtNZXRhLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gdGhpcy50cmFuc211eFVuZW5jcnlwdGVkKFxuICAgICAgICBkYXRhLFxuICAgICAgICB0aW1lT2Zmc2V0LFxuICAgICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICAgIGNodW5rTWV0YSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIHRyYW5zbXV4VW5lbmNyeXB0ZWQoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgYWNjdXJhdGVUaW1lT2Zmc2V0OiBib29sZWFuLFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgKTogVHJhbnNtdXhlclJlc3VsdCB7XG4gICAgY29uc3QgeyBhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrIH0gPSAoXG4gICAgICB0aGlzLmRlbXV4ZXIgYXMgRGVtdXhlclxuICAgICkuZGVtdXgoZGF0YSwgdGltZU9mZnNldCwgZmFsc2UsICF0aGlzLmNvbmZpZy5wcm9ncmVzc2l2ZSk7XG4gICAgY29uc3QgcmVtdXhSZXN1bHQgPSB0aGlzLnJlbXV4ZXIhLnJlbXV4KFxuICAgICAgYXVkaW9UcmFjayxcbiAgICAgIHZpZGVvVHJhY2ssXG4gICAgICBpZDNUcmFjayxcbiAgICAgIHRleHRUcmFjayxcbiAgICAgIHRpbWVPZmZzZXQsXG4gICAgICBhY2N1cmF0ZVRpbWVPZmZzZXQsXG4gICAgICBmYWxzZSxcbiAgICAgIHRoaXMuaWQsXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtdXhSZXN1bHQsXG4gICAgICBjaHVua01ldGEsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgdHJhbnNtdXhTYW1wbGVBZXMoXG4gICAgZGF0YTogVWludDhBcnJheSxcbiAgICBkZWNyeXB0RGF0YTogS2V5RGF0YSxcbiAgICB0aW1lT2Zmc2V0OiBudW1iZXIsXG4gICAgYWNjdXJhdGVUaW1lT2Zmc2V0OiBib29sZWFuLFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgKTogUHJvbWlzZTxUcmFuc211eGVyUmVzdWx0PiB7XG4gICAgcmV0dXJuICh0aGlzLmRlbXV4ZXIgYXMgRGVtdXhlcilcbiAgICAgIC5kZW11eFNhbXBsZUFlcyhkYXRhLCBkZWNyeXB0RGF0YSwgdGltZU9mZnNldClcbiAgICAgIC50aGVuKChkZW11eFJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCByZW11eFJlc3VsdCA9IHRoaXMucmVtdXhlciEucmVtdXgoXG4gICAgICAgICAgZGVtdXhSZXN1bHQuYXVkaW9UcmFjayxcbiAgICAgICAgICBkZW11eFJlc3VsdC52aWRlb1RyYWNrLFxuICAgICAgICAgIGRlbXV4UmVzdWx0LmlkM1RyYWNrLFxuICAgICAgICAgIGRlbXV4UmVzdWx0LnRleHRUcmFjayxcbiAgICAgICAgICB0aW1lT2Zmc2V0LFxuICAgICAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0aGlzLmlkLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlbXV4UmVzdWx0LFxuICAgICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25maWd1cmVUcmFuc211eGVyKGRhdGE6IFVpbnQ4QXJyYXkpOiB2b2lkIHwgRXJyb3Ige1xuICAgIGNvbnN0IHsgY29uZmlnLCBvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgdmVuZG9yIH0gPSB0aGlzO1xuICAgIC8vIHByb2JlIGZvciBjb250ZW50IHR5cGVcbiAgICBsZXQgbXV4O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtdXhDb25maWcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChtdXhDb25maWdbaV0uZGVtdXg/LnByb2JlKGRhdGEpKSB7XG4gICAgICAgIG11eCA9IG11eENvbmZpZ1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbXV4KSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdGYWlsZWQgdG8gZmluZCBkZW11eGVyIGJ5IHByb2JpbmcgZnJhZ21lbnQgZGF0YScpO1xuICAgIH1cbiAgICAvLyBzbyBsZXQncyBjaGVjayB0aGF0IGN1cnJlbnQgcmVtdXhlciBhbmQgZGVtdXhlciBhcmUgc3RpbGwgdmFsaWRcbiAgICBjb25zdCBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgIGNvbnN0IHJlbXV4ZXIgPSB0aGlzLnJlbXV4ZXI7XG4gICAgY29uc3QgUmVtdXhlcjogTXV4Q29uZmlnWydyZW11eCddID0gbXV4LnJlbXV4O1xuICAgIGNvbnN0IERlbXV4ZXI6IE11eENvbmZpZ1snZGVtdXgnXSA9IG11eC5kZW11eDtcbiAgICBpZiAoIXJlbXV4ZXIgfHwgIShyZW11eGVyIGluc3RhbmNlb2YgUmVtdXhlcikpIHtcbiAgICAgIHRoaXMucmVtdXhlciA9IG5ldyBSZW11eGVyKG9ic2VydmVyLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQsIHZlbmRvcik7XG4gICAgfVxuICAgIGlmICghZGVtdXhlciB8fCAhKGRlbXV4ZXIgaW5zdGFuY2VvZiBEZW11eGVyKSkge1xuICAgICAgdGhpcy5kZW11eGVyID0gbmV3IERlbXV4ZXIob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCk7XG4gICAgICB0aGlzLnByb2JlID0gRGVtdXhlci5wcm9iZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG5lZWRzUHJvYmluZyhkaXNjb250aW51aXR5OiBib29sZWFuLCB0cmFja1N3aXRjaDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIC8vIGluIGNhc2Ugb2YgY29udGludWl0eSBjaGFuZ2UsIG9yIHRyYWNrIHN3aXRjaFxuICAgIC8vIHdlIG1pZ2h0IHN3aXRjaCBmcm9tIGNvbnRlbnQgdHlwZSAoQUFDIGNvbnRhaW5lciB0byBUUyBjb250YWluZXIsIG9yIFRTIHRvIGZtcDQgZm9yIGV4YW1wbGUpXG4gICAgcmV0dXJuICF0aGlzLmRlbXV4ZXIgfHwgIXRoaXMucmVtdXhlciB8fCBkaXNjb250aW51aXR5IHx8IHRyYWNrU3dpdGNoO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWNyeXB0ZXIoKTogRGVjcnlwdGVyIHtcbiAgICBsZXQgZGVjcnlwdGVyID0gdGhpcy5kZWNyeXB0ZXI7XG4gICAgaWYgKCFkZWNyeXB0ZXIpIHtcbiAgICAgIGRlY3J5cHRlciA9IHRoaXMuZGVjcnlwdGVyID0gbmV3IERlY3J5cHRlcih0aGlzLmNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiBkZWNyeXB0ZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RW5jcnlwdGlvblR5cGUoXG4gIGRhdGE6IFVpbnQ4QXJyYXksXG4gIGRlY3J5cHREYXRhOiBEZWNyeXB0RGF0YSB8IG51bGwsXG4pOiBLZXlEYXRhIHwgbnVsbCB7XG4gIGxldCBlbmNyeXB0aW9uVHlwZTogS2V5RGF0YSB8IG51bGwgPSBudWxsO1xuICBpZiAoXG4gICAgZGF0YS5ieXRlTGVuZ3RoID4gMCAmJlxuICAgIGRlY3J5cHREYXRhPy5rZXkgIT0gbnVsbCAmJlxuICAgIGRlY3J5cHREYXRhLml2ICE9PSBudWxsICYmXG4gICAgZGVjcnlwdERhdGEubWV0aG9kICE9IG51bGxcbiAgKSB7XG4gICAgZW5jcnlwdGlvblR5cGUgPSBkZWNyeXB0RGF0YSBhcyBLZXlEYXRhO1xuICB9XG4gIHJldHVybiBlbmNyeXB0aW9uVHlwZTtcbn1cblxuY29uc3QgZW1wdHlSZXN1bHQgPSAoY2h1bmtNZXRhKTogVHJhbnNtdXhlclJlc3VsdCA9PiAoe1xuICByZW11eFJlc3VsdDoge30sXG4gIGNodW5rTWV0YSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlPFQ+KHA6IFByb21pc2U8VD4gfCBhbnkpOiBwIGlzIFByb21pc2U8VD4ge1xuICByZXR1cm4gJ3RoZW4nIGluIHAgJiYgcC50aGVuIGluc3RhbmNlb2YgRnVuY3Rpb247XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFuc211eENvbmZpZyB7XG4gIHB1YmxpYyBhdWRpb0NvZGVjPzogc3RyaW5nO1xuICBwdWJsaWMgdmlkZW9Db2RlYz86IHN0cmluZztcbiAgcHVibGljIGluaXRTZWdtZW50RGF0YT86IFVpbnQ4QXJyYXk7XG4gIHB1YmxpYyBkdXJhdGlvbjogbnVtYmVyO1xuICBwdWJsaWMgZGVmYXVsdEluaXRQdHM6IFJhdGlvbmFsVGltZXN0YW1wIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhdWRpb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgdmlkZW9Db2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGluaXRTZWdtZW50RGF0YTogVWludDhBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgIGRlZmF1bHRJbml0UHRzPzogUmF0aW9uYWxUaW1lc3RhbXAsXG4gICkge1xuICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgdGhpcy52aWRlb0NvZGVjID0gdmlkZW9Db2RlYztcbiAgICB0aGlzLmluaXRTZWdtZW50RGF0YSA9IGluaXRTZWdtZW50RGF0YTtcbiAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgdGhpcy5kZWZhdWx0SW5pdFB0cyA9IGRlZmF1bHRJbml0UHRzIHx8IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zbXV4U3RhdGUge1xuICBwdWJsaWMgZGlzY29udGludWl0eTogYm9vbGVhbjtcbiAgcHVibGljIGNvbnRpZ3VvdXM6IGJvb2xlYW47XG4gIHB1YmxpYyBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGJvb2xlYW47XG4gIHB1YmxpYyB0cmFja1N3aXRjaDogYm9vbGVhbjtcbiAgcHVibGljIHRpbWVPZmZzZXQ6IG51bWJlcjtcbiAgcHVibGljIGluaXRTZWdtZW50Q2hhbmdlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRpc2NvbnRpbnVpdHk6IGJvb2xlYW4sXG4gICAgY29udGlndW91czogYm9vbGVhbixcbiAgICBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGJvb2xlYW4sXG4gICAgdHJhY2tTd2l0Y2g6IGJvb2xlYW4sXG4gICAgdGltZU9mZnNldDogbnVtYmVyLFxuICAgIGluaXRTZWdtZW50Q2hhbmdlOiBib29sZWFuLFxuICApIHtcbiAgICB0aGlzLmRpc2NvbnRpbnVpdHkgPSBkaXNjb250aW51aXR5O1xuICAgIHRoaXMuY29udGlndW91cyA9IGNvbnRpZ3VvdXM7XG4gICAgdGhpcy5hY2N1cmF0ZVRpbWVPZmZzZXQgPSBhY2N1cmF0ZVRpbWVPZmZzZXQ7XG4gICAgdGhpcy50cmFja1N3aXRjaCA9IHRyYWNrU3dpdGNoO1xuICAgIHRoaXMudGltZU9mZnNldCA9IHRpbWVPZmZzZXQ7XG4gICAgdGhpcy5pbml0U2VnbWVudENoYW5nZSA9IGluaXRTZWdtZW50Q2hhbmdlO1xuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwgImltcG9ydCB7XG4gIFdvcmtlckNvbnRleHQsXG4gIGhhc1VNRFdvcmtlcixcbiAgaW5qZWN0V29ya2VyLFxuICBsb2FkV29ya2VyLFxufSBmcm9tICcuL2luamVjdC13b3JrZXInO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCBUcmFuc211eGVyLCB7XG4gIFRyYW5zbXV4Q29uZmlnLFxuICBUcmFuc211eFN0YXRlLFxuICBpc1Byb21pc2UsXG59IGZyb20gJy4uL2RlbXV4L3RyYW5zbXV4ZXInO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IEVycm9yVHlwZXMsIEVycm9yRGV0YWlscyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBnZXRNZWRpYVNvdXJjZSB9IGZyb20gJy4uL3V0aWxzL21lZGlhc291cmNlLWhlbHBlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IEZyYWdtZW50LCBQYXJ0IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgQ2h1bmtNZXRhZGF0YSwgVHJhbnNtdXhlclJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL3RyYW5zbXV4ZXInO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IEhsc0V2ZW50RW1pdHRlciwgSGxzTGlzdGVuZXJzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHR5cGUgeyBUeXBlU3VwcG9ydGVkIH0gZnJvbSAnLi90c2RlbXV4ZXInO1xuaW1wb3J0IHR5cGUgeyBSYXRpb25hbFRpbWVzdGFtcCB9IGZyb20gJy4uL3V0aWxzL3RpbWVzY2FsZS1jb252ZXJzaW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNtdXhlckludGVyZmFjZSB7XG4gIHB1YmxpYyBlcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBobHM6IEhscztcbiAgcHJpdmF0ZSBpZDogUGxheWxpc3RMZXZlbFR5cGU7XG4gIHByaXZhdGUgb2JzZXJ2ZXI6IEhsc0V2ZW50RW1pdHRlcjtcbiAgcHJpdmF0ZSBmcmFnOiBGcmFnbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHBhcnQ6IFBhcnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB1c2VXb3JrZXI6IGJvb2xlYW47XG4gIHByaXZhdGUgd29ya2VyQ29udGV4dDogV29ya2VyQ29udGV4dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9ud21zZz86IChcbiAgICBldmVudDogTWVzc2FnZUV2ZW50PHsgZXZlbnQ6IHN0cmluZzsgZGF0YT86IGFueSB9IHwgbnVsbD4sXG4gICkgPT4gdm9pZDtcbiAgcHJpdmF0ZSB0cmFuc211eGVyOiBUcmFuc211eGVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb25UcmFuc211eENvbXBsZXRlOiAodHJhbnNtdXhSZXN1bHQ6IFRyYW5zbXV4ZXJSZXN1bHQpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25GbHVzaDogKGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBobHM6IEhscyxcbiAgICBpZDogUGxheWxpc3RMZXZlbFR5cGUsXG4gICAgb25UcmFuc211eENvbXBsZXRlOiAodHJhbnNtdXhSZXN1bHQ6IFRyYW5zbXV4ZXJSZXN1bHQpID0+IHZvaWQsXG4gICAgb25GbHVzaDogKGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSkgPT4gdm9pZCxcbiAgKSB7XG4gICAgY29uc3QgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICB0aGlzLmhscyA9IGhscztcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy51c2VXb3JrZXIgPSAhIWNvbmZpZy5lbmFibGVXb3JrZXI7XG4gICAgdGhpcy5vblRyYW5zbXV4Q29tcGxldGUgPSBvblRyYW5zbXV4Q29tcGxldGU7XG4gICAgdGhpcy5vbkZsdXNoID0gb25GbHVzaDtcblxuICAgIGNvbnN0IGZvcndhcmRNZXNzYWdlID0gKGV2LCBkYXRhKSA9PiB7XG4gICAgICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgICAgIGRhdGEuZnJhZyA9IHRoaXMuZnJhZztcbiAgICAgIGRhdGEuaWQgPSB0aGlzLmlkO1xuICAgICAgaWYgKGV2ID09PSBFdmVudHMuRVJST1IpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IGRhdGEuZXJyb3I7XG4gICAgICB9XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2LCBkYXRhKTtcbiAgICB9O1xuXG4gICAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IEV2ZW50RW1pdHRlcigpIGFzIEhsc0V2ZW50RW1pdHRlcjtcbiAgICB0aGlzLm9ic2VydmVyLm9uKEV2ZW50cy5GUkFHX0RFQ1JZUFRFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIHRoaXMub2JzZXJ2ZXIub24oRXZlbnRzLkVSUk9SLCBmb3J3YXJkTWVzc2FnZSk7XG5cbiAgICBjb25zdCBNZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlKGNvbmZpZy5wcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UpIHx8IHtcbiAgICAgIGlzVHlwZVN1cHBvcnRlZDogKCkgPT4gZmFsc2UsXG4gICAgfTtcbiAgICBjb25zdCBtMnRzVHlwZVN1cHBvcnRlZDogVHlwZVN1cHBvcnRlZCA9IHtcbiAgICAgIG1wZWc6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgnYXVkaW8vbXBlZycpLFxuICAgICAgbXAzOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wNDsgY29kZWNzPVwibXAzXCInKSxcbiAgICAgIGFjMzogX19VU0VfTTJUU19BRFZBTkNFRF9DT0RFQ1NfX1xuICAgICAgICA/IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgnYXVkaW8vbXA0OyBjb2RlY3M9XCJhYy0zXCInKVxuICAgICAgICA6IGZhbHNlLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy51c2VXb3JrZXIgJiYgdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGNhbkNyZWF0ZVdvcmtlciA9IGNvbmZpZy53b3JrZXJQYXRoIHx8IGhhc1VNRFdvcmtlcigpO1xuICAgICAgaWYgKGNhbkNyZWF0ZVdvcmtlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChjb25maWcud29ya2VyUGF0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgbG9hZGluZyBXZWIgV29ya2VyICR7Y29uZmlnLndvcmtlclBhdGh9IGZvciBcIiR7aWR9XCJgKTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyQ29udGV4dCA9IGxvYWRXb3JrZXIoY29uZmlnLndvcmtlclBhdGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBpbmplY3RpbmcgV2ViIFdvcmtlciBmb3IgXCIke2lkfVwiYCk7XG4gICAgICAgICAgICB0aGlzLndvcmtlckNvbnRleHQgPSBpbmplY3RXb3JrZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5vbndtc2cgPSAoZXZlbnQpID0+IHRoaXMub25Xb3JrZXJNZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgICBjb25zdCB7IHdvcmtlciB9ID0gdGhpcy53b3JrZXJDb250ZXh0O1xuICAgICAgICAgIHdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbndtc2cpO1xuICAgICAgICAgIHdvcmtlci5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYCR7ZXZlbnQubWVzc2FnZX0gICgke2V2ZW50LmZpbGVuYW1lfToke2V2ZW50LmxpbmVub30pYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25maWcuZW5hYmxlV29ya2VyID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIud2FybihgRXJyb3IgaW4gXCIke2lkfVwiIFdlYiBXb3JrZXIsIGZhbGxiYWNrIHRvIGlubGluZWApO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRVJST1IsIHtcbiAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5PVEhFUl9FUlJPUixcbiAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLklOVEVSTkFMX0VYQ0VQVElPTixcbiAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICBldmVudDogJ2RlbXV4ZXJXb3JrZXInLFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGNtZDogJ2luaXQnLFxuICAgICAgICAgICAgdHlwZVN1cHBvcnRlZDogbTJ0c1R5cGVTdXBwb3J0ZWQsXG4gICAgICAgICAgICB2ZW5kb3I6ICcnLFxuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgY29uZmlnOiBKU09OLnN0cmluZ2lmeShjb25maWcpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGBFcnJvciBzZXR0aW5nIHVwIFwiJHtpZH1cIiBXZWIgV29ya2VyLCBmYWxsYmFjayB0byBpbmxpbmVgLFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5yZXNldFdvcmtlcigpO1xuICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgICAgICAgIHRoaXMudHJhbnNtdXhlciA9IG5ldyBUcmFuc211eGVyKFxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcixcbiAgICAgICAgICAgIG0ydHNUeXBlU3VwcG9ydGVkLFxuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zbXV4ZXIgPSBuZXcgVHJhbnNtdXhlcihcbiAgICAgIHRoaXMub2JzZXJ2ZXIsXG4gICAgICBtMnRzVHlwZVN1cHBvcnRlZCxcbiAgICAgIGNvbmZpZyxcbiAgICAgICcnLFxuICAgICAgaWQsXG4gICAgKTtcbiAgfVxuXG4gIHJlc2V0V29ya2VyKCkge1xuICAgIGlmICh0aGlzLndvcmtlckNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHsgd29ya2VyLCBvYmplY3RVUkwgfSA9IHRoaXMud29ya2VyQ29udGV4dDtcbiAgICAgIGlmIChvYmplY3RVUkwpIHtcbiAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIHRyYW5zbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICBzZWxmLlVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VVJMKTtcbiAgICAgIH1cbiAgICAgIHdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbndtc2cgYXMgYW55KTtcbiAgICAgIHdvcmtlci5vbmVycm9yID0gbnVsbDtcbiAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgIHRoaXMud29ya2VyQ29udGV4dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy53b3JrZXJDb250ZXh0KSB7XG4gICAgICB0aGlzLnJlc2V0V29ya2VyKCk7XG4gICAgICB0aGlzLm9ud21zZyA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHJhbnNtdXhlciA9IHRoaXMudHJhbnNtdXhlcjtcbiAgICAgIGlmICh0cmFuc211eGVyKSB7XG4gICAgICAgIHRyYW5zbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnRyYW5zbXV4ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgdGhpcy5mcmFnID0gbnVsbDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuaGxzID0gbnVsbDtcbiAgfVxuXG4gIHB1c2goXG4gICAgZGF0YTogQXJyYXlCdWZmZXIsXG4gICAgaW5pdFNlZ21lbnREYXRhOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkLFxuICAgIGF1ZGlvQ29kZWM6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICB2aWRlb0NvZGVjOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAgcGFydDogUGFydCB8IG51bGwsXG4gICAgZHVyYXRpb246IG51bWJlcixcbiAgICBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGJvb2xlYW4sXG4gICAgY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhLFxuICAgIGRlZmF1bHRJbml0UFRTPzogUmF0aW9uYWxUaW1lc3RhbXAsXG4gICkge1xuICAgIGNodW5rTWV0YS50cmFuc211eGluZy5zdGFydCA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgeyB0cmFuc211eGVyIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRpbWVPZmZzZXQgPSBwYXJ0ID8gcGFydC5zdGFydCA6IGZyYWcuc3RhcnQ7XG4gICAgLy8gVE9ETzogcHVzaCBcImNsZWFyLWxlYWRcIiBkZWNyeXB0IGRhdGEgZm9yIHVuZW5jcnlwdGVkIGZyYWdtZW50cyBpbiBzdHJlYW1zIHdpdGggZW5jcnlwdGVkIG9uZXNcbiAgICBjb25zdCBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGE7XG4gICAgY29uc3QgbGFzdEZyYWcgPSB0aGlzLmZyYWc7XG5cbiAgICBjb25zdCBkaXNjb250aW51aXR5ID0gIShsYXN0RnJhZyAmJiBmcmFnLmNjID09PSBsYXN0RnJhZy5jYyk7XG4gICAgY29uc3QgdHJhY2tTd2l0Y2ggPSAhKGxhc3RGcmFnICYmIGNodW5rTWV0YS5sZXZlbCA9PT0gbGFzdEZyYWcubGV2ZWwpO1xuICAgIGNvbnN0IHNuRGlmZiA9IGxhc3RGcmFnID8gY2h1bmtNZXRhLnNuIC0gKGxhc3RGcmFnLnNuIGFzIG51bWJlcikgOiAtMTtcbiAgICBjb25zdCBwYXJ0RGlmZiA9IHRoaXMucGFydCA/IGNodW5rTWV0YS5wYXJ0IC0gdGhpcy5wYXJ0LmluZGV4IDogLTE7XG4gICAgY29uc3QgcHJvZ3Jlc3NpdmUgPVxuICAgICAgc25EaWZmID09PSAwICYmXG4gICAgICBjaHVua01ldGEuaWQgPiAxICYmXG4gICAgICBjaHVua01ldGEuaWQgPT09IGxhc3RGcmFnPy5zdGF0cy5jaHVua0NvdW50O1xuICAgIGNvbnN0IGNvbnRpZ3VvdXMgPVxuICAgICAgIXRyYWNrU3dpdGNoICYmXG4gICAgICAoc25EaWZmID09PSAxIHx8XG4gICAgICAgIChzbkRpZmYgPT09IDAgJiYgKHBhcnREaWZmID09PSAxIHx8IChwcm9ncmVzc2l2ZSAmJiBwYXJ0RGlmZiA8PSAwKSkpKTtcbiAgICBjb25zdCBub3cgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKHRyYWNrU3dpdGNoIHx8IHNuRGlmZiB8fCBmcmFnLnN0YXRzLnBhcnNpbmcuc3RhcnQgPT09IDApIHtcbiAgICAgIGZyYWcuc3RhdHMucGFyc2luZy5zdGFydCA9IG5vdztcbiAgICB9XG4gICAgaWYgKHBhcnQgJiYgKHBhcnREaWZmIHx8ICFjb250aWd1b3VzKSkge1xuICAgICAgcGFydC5zdGF0cy5wYXJzaW5nLnN0YXJ0ID0gbm93O1xuICAgIH1cbiAgICBjb25zdCBpbml0U2VnbWVudENoYW5nZSA9ICEoXG4gICAgICBsYXN0RnJhZyAmJiBmcmFnLmluaXRTZWdtZW50Py51cmwgPT09IGxhc3RGcmFnLmluaXRTZWdtZW50Py51cmxcbiAgICApO1xuICAgIGNvbnN0IHN0YXRlID0gbmV3IFRyYW5zbXV4U3RhdGUoXG4gICAgICBkaXNjb250aW51aXR5LFxuICAgICAgY29udGlndW91cyxcbiAgICAgIGFjY3VyYXRlVGltZU9mZnNldCxcbiAgICAgIHRyYWNrU3dpdGNoLFxuICAgICAgdGltZU9mZnNldCxcbiAgICAgIGluaXRTZWdtZW50Q2hhbmdlLFxuICAgICk7XG4gICAgaWYgKCFjb250aWd1b3VzIHx8IGRpc2NvbnRpbnVpdHkgfHwgaW5pdFNlZ21lbnRDaGFuZ2UpIHtcbiAgICAgIGxvZ2dlci5sb2coYFt0cmFuc211eGVyLWludGVyZmFjZSwgJHtmcmFnLnR5cGV9XTogU3RhcnRpbmcgbmV3IHRyYW5zbXV4IHNlc3Npb24gZm9yIHNuOiAke2NodW5rTWV0YS5zbn0gcDogJHtjaHVua01ldGEucGFydH0gbGV2ZWw6ICR7Y2h1bmtNZXRhLmxldmVsfSBpZDogJHtjaHVua01ldGEuaWR9XG4gICAgICAgIGRpc2NvbnRpbnVpdHk6ICR7ZGlzY29udGludWl0eX1cbiAgICAgICAgdHJhY2tTd2l0Y2g6ICR7dHJhY2tTd2l0Y2h9XG4gICAgICAgIGNvbnRpZ3VvdXM6ICR7Y29udGlndW91c31cbiAgICAgICAgYWNjdXJhdGVUaW1lT2Zmc2V0OiAke2FjY3VyYXRlVGltZU9mZnNldH1cbiAgICAgICAgdGltZU9mZnNldDogJHt0aW1lT2Zmc2V0fVxuICAgICAgICBpbml0U2VnbWVudENoYW5nZTogJHtpbml0U2VnbWVudENoYW5nZX1gKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IG5ldyBUcmFuc211eENvbmZpZyhcbiAgICAgICAgYXVkaW9Db2RlYyxcbiAgICAgICAgdmlkZW9Db2RlYyxcbiAgICAgICAgaW5pdFNlZ21lbnREYXRhLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZGVmYXVsdEluaXRQVFMsXG4gICAgICApO1xuICAgICAgdGhpcy5jb25maWd1cmVUcmFuc211eGVyKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgdGhpcy5mcmFnID0gZnJhZztcbiAgICB0aGlzLnBhcnQgPSBwYXJ0O1xuXG4gICAgLy8gRnJhZ3Mgd2l0aCBzbiBvZiAnaW5pdFNlZ21lbnQnIGFyZSBub3QgdHJhbnNtdXhlZFxuICAgIGlmICh0aGlzLndvcmtlckNvbnRleHQpIHtcbiAgICAgIC8vIHBvc3QgZnJhZ21lbnQgcGF5bG9hZCBhcyB0cmFuc2ZlcmFibGUgb2JqZWN0cyBmb3IgQXJyYXlCdWZmZXIgKG5vIGNvcHkpXG4gICAgICB0aGlzLndvcmtlckNvbnRleHQud29ya2VyLnBvc3RNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgY21kOiAnZGVtdXgnLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZGVjcnlwdGRhdGEsXG4gICAgICAgICAgY2h1bmtNZXRhLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBbZGF0YV0gOiBbXSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0cmFuc211eGVyKSB7XG4gICAgICBjb25zdCB0cmFuc211eFJlc3VsdCA9IHRyYW5zbXV4ZXIucHVzaChcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZGVjcnlwdGRhdGEsXG4gICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgc3RhdGUsXG4gICAgICApO1xuICAgICAgaWYgKGlzUHJvbWlzZSh0cmFuc211eFJlc3VsdCkpIHtcbiAgICAgICAgdHJhbnNtdXhlci5hc3luYyA9IHRydWU7XG4gICAgICAgIHRyYW5zbXV4UmVzdWx0XG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhbnNtdXhDb21wbGV0ZShkYXRhKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNtdXhlckVycm9yKFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgY2h1bmtNZXRhLFxuICAgICAgICAgICAgICAndHJhbnNtdXhlci1pbnRlcmZhY2UgcHVzaCBlcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNtdXhlci5hc3luYyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhbmRsZVRyYW5zbXV4Q29tcGxldGUodHJhbnNtdXhSZXN1bHQgYXMgVHJhbnNtdXhlclJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmx1c2goY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhKSB7XG4gICAgY2h1bmtNZXRhLnRyYW5zbXV4aW5nLnN0YXJ0ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCB7IHRyYW5zbXV4ZXIgfSA9IHRoaXM7XG4gICAgaWYgKHRoaXMud29ya2VyQ29udGV4dCkge1xuICAgICAgMTtcbiAgICAgIHRoaXMud29ya2VyQ29udGV4dC53b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBjbWQ6ICdmbHVzaCcsXG4gICAgICAgIGNodW5rTWV0YSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHJhbnNtdXhlcikge1xuICAgICAgbGV0IHRyYW5zbXV4UmVzdWx0ID0gdHJhbnNtdXhlci5mbHVzaChjaHVua01ldGEpO1xuICAgICAgY29uc3QgYXN5bmNGbHVzaCA9IGlzUHJvbWlzZSh0cmFuc211eFJlc3VsdCk7XG4gICAgICBpZiAoYXN5bmNGbHVzaCB8fCB0cmFuc211eGVyLmFzeW5jKSB7XG4gICAgICAgIGlmICghaXNQcm9taXNlKHRyYW5zbXV4UmVzdWx0KSkge1xuICAgICAgICAgIHRyYW5zbXV4UmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKHRyYW5zbXV4UmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc211eFJlc3VsdFxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZsdXNoUmVzdWx0KGRhdGEsIGNodW5rTWV0YSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zbXV4ZXJFcnJvcihcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgICAgICAgJ3RyYW5zbXV4ZXItaW50ZXJmYWNlIGZsdXNoIGVycm9yJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhbmRsZUZsdXNoUmVzdWx0KFxuICAgICAgICAgIHRyYW5zbXV4UmVzdWx0IGFzIEFycmF5PFRyYW5zbXV4ZXJSZXN1bHQ+LFxuICAgICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHRyYW5zbXV4ZXJFcnJvcihcbiAgICBlcnJvcjogRXJyb3IsXG4gICAgY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhLFxuICAgIHJlYXNvbjogc3RyaW5nLFxuICApIHtcbiAgICBpZiAoIXRoaXMuaGxzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsXG4gICAgICBjaHVua01ldGEsXG4gICAgICBmcmFnOiB0aGlzLmZyYWcgfHwgdW5kZWZpbmVkLFxuICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnI6IGVycm9yLFxuICAgICAgcmVhc29uLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGbHVzaFJlc3VsdChcbiAgICByZXN1bHRzOiBBcnJheTxUcmFuc211eGVyUmVzdWx0PixcbiAgICBjaHVua01ldGE6IENodW5rTWV0YWRhdGEsXG4gICkge1xuICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVRyYW5zbXV4Q29tcGxldGUocmVzdWx0KTtcbiAgICB9KTtcbiAgICB0aGlzLm9uRmx1c2goY2h1bmtNZXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgb25Xb3JrZXJNZXNzYWdlKFxuICAgIGV2ZW50OiBNZXNzYWdlRXZlbnQ8eyBldmVudDogc3RyaW5nOyBkYXRhPzogYW55IH0gfCBudWxsPixcbiAgKSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgaWYgKCFkYXRhPy5ldmVudCkge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgIGB3b3JrZXIgbWVzc2FnZSByZWNlaXZlZCB3aXRoIG5vICR7ZGF0YSA/ICdldmVudCBuYW1lJyA6ICdkYXRhJ31gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgaWYgKCF0aGlzLmhscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRhdGEuZXZlbnQpIHtcbiAgICAgIGNhc2UgJ2luaXQnOiB7XG4gICAgICAgIGNvbnN0IG9iamVjdFVSTCA9IHRoaXMud29ya2VyQ29udGV4dD8ub2JqZWN0VVJMO1xuICAgICAgICBpZiAob2JqZWN0VVJMKSB7XG4gICAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIHRyYW5zbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICAgIHNlbGYuVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICd0cmFuc211eENvbXBsZXRlJzoge1xuICAgICAgICB0aGlzLmhhbmRsZVRyYW5zbXV4Q29tcGxldGUoZGF0YS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2ZsdXNoJzoge1xuICAgICAgICB0aGlzLm9uRmx1c2goZGF0YS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIHBhc3MgbG9ncyBmcm9tIHRoZSB3b3JrZXIgdGhyZWFkIHRvIHRoZSBtYWluIGxvZ2dlclxuICAgICAgY2FzZSAnd29ya2VyTG9nJzpcbiAgICAgICAgaWYgKGxvZ2dlcltkYXRhLmRhdGEubG9nVHlwZV0pIHtcbiAgICAgICAgICBsb2dnZXJbZGF0YS5kYXRhLmxvZ1R5cGVdKGRhdGEuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBkYXRhLmRhdGEgPSBkYXRhLmRhdGEgfHwge307XG4gICAgICAgIGRhdGEuZGF0YS5mcmFnID0gdGhpcy5mcmFnO1xuICAgICAgICBkYXRhLmRhdGEuaWQgPSB0aGlzLmlkO1xuICAgICAgICBobHMudHJpZ2dlcihkYXRhLmV2ZW50IGFzIGtleW9mIEhsc0xpc3RlbmVycywgZGF0YS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb25maWd1cmVUcmFuc211eGVyKGNvbmZpZzogVHJhbnNtdXhDb25maWcpIHtcbiAgICBjb25zdCB7IHRyYW5zbXV4ZXIgfSA9IHRoaXM7XG4gICAgaWYgKHRoaXMud29ya2VyQ29udGV4dCkge1xuICAgICAgdGhpcy53b3JrZXJDb250ZXh0Lndvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGNtZDogJ2NvbmZpZ3VyZScsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHJhbnNtdXhlcikge1xuICAgICAgdHJhbnNtdXhlci5jb25maWd1cmUoY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVRyYW5zbXV4Q29tcGxldGUocmVzdWx0OiBUcmFuc211eGVyUmVzdWx0KSB7XG4gICAgcmVzdWx0LmNodW5rTWV0YS50cmFuc211eGluZy5lbmQgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMub25UcmFuc211eENvbXBsZXRlKHJlc3VsdCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IExldmVsIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuaW1wb3J0IHR5cGUgeyBNZWRpYUF0dHJpYnV0ZXMsIE1lZGlhUGxheWxpc3QgfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0aXRsZU9wdGlvbnNJZGVudGljYWwoXG4gIHRyYWNrTGlzdDE6IE1lZGlhUGxheWxpc3RbXSB8IExldmVsW10sXG4gIHRyYWNrTGlzdDI6IE1lZGlhUGxheWxpc3RbXSxcbik6IGJvb2xlYW4ge1xuICBpZiAodHJhY2tMaXN0MS5sZW5ndGggIT09IHRyYWNrTGlzdDIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2tMaXN0MS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChcbiAgICAgICFtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwoXG4gICAgICAgIHRyYWNrTGlzdDFbaV0uYXR0cnMgYXMgTWVkaWFBdHRyaWJ1dGVzLFxuICAgICAgICB0cmFja0xpc3QyW2ldLmF0dHJzLFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lZGlhQXR0cmlidXRlc0lkZW50aWNhbChcbiAgYXR0cnMxOiBNZWRpYUF0dHJpYnV0ZXMsXG4gIGF0dHJzMjogTWVkaWFBdHRyaWJ1dGVzLFxuICBjdXN0b21BdHRyaWJ1dGVzPzogc3RyaW5nW10sXG4pOiBib29sZWFuIHtcbiAgLy8gTWVkaWEgb3B0aW9ucyB3aXRoIHRoZSBzYW1lIHJlbmRpdGlvbiBJRCBtdXN0IGJlIGJpdCBpZGVudGljYWxcbiAgY29uc3Qgc3RhYmxlUmVuZGl0aW9uSWQgPSBhdHRyczFbJ1NUQUJMRS1SRU5ESVRJT04tSUQnXTtcbiAgaWYgKHN0YWJsZVJlbmRpdGlvbklkICYmICFjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIHN0YWJsZVJlbmRpdGlvbklkID09PSBhdHRyczJbJ1NUQUJMRS1SRU5ESVRJT04tSUQnXTtcbiAgfVxuICAvLyBXaGVuIHJlbmRpdGlvbiBJRCBpcyBub3QgcHJlc2VudCwgY29tcGFyZSBhdHRyaWJ1dGVzXG4gIHJldHVybiAhKFxuICAgIGN1c3RvbUF0dHJpYnV0ZXMgfHwgW1xuICAgICAgJ0xBTkdVQUdFJyxcbiAgICAgICdOQU1FJyxcbiAgICAgICdDSEFSQUNURVJJU1RJQ1MnLFxuICAgICAgJ0FVVE9TRUxFQ1QnLFxuICAgICAgJ0RFRkFVTFQnLFxuICAgICAgJ0ZPUkNFRCcsXG4gICAgICAnQVNTT0MtTEFOR1VBR0UnLFxuICAgIF1cbiAgKS5zb21lKFxuICAgIChzdWJ0aXRsZUF0dHJpYnV0ZSkgPT5cbiAgICAgIGF0dHJzMVtzdWJ0aXRsZUF0dHJpYnV0ZV0gIT09IGF0dHJzMltzdWJ0aXRsZUF0dHJpYnV0ZV0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0aXRsZVRyYWNrTWF0Y2hlc1RleHRUcmFjayhcbiAgc3VidGl0bGVUcmFjazogUGljazxNZWRpYVBsYXlsaXN0LCAnbmFtZScgfCAnbGFuZycgfCAnYXR0cnMnPixcbiAgdGV4dFRyYWNrOiBUZXh0VHJhY2ssXG4pIHtcbiAgcmV0dXJuIChcbiAgICB0ZXh0VHJhY2subGFiZWwudG9Mb3dlckNhc2UoKSA9PT0gc3VidGl0bGVUcmFjay5uYW1lLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAoIXRleHRUcmFjay5sYW5ndWFnZSB8fFxuICAgICAgdGV4dFRyYWNrLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgIChzdWJ0aXRsZVRyYWNrLmxhbmcgfHwgJycpLnRvTG93ZXJDYXNlKCkpXG4gICk7XG59XG4iLCAiaW1wb3J0IEJhc2VTdHJlYW1Db250cm9sbGVyLCB7IFN0YXRlIH0gZnJvbSAnLi9iYXNlLXN0cmVhbS1jb250cm9sbGVyJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBCdWZmZXJhYmxlLCBCdWZmZXJIZWxwZXIgfSBmcm9tICcuLi91dGlscy9idWZmZXItaGVscGVyJztcbmltcG9ydCB7IEZyYWdtZW50U3RhdGUgfSBmcm9tICcuL2ZyYWdtZW50LXRyYWNrZXInO1xuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgeyBQbGF5bGlzdENvbnRleHRUeXBlLCBQbGF5bGlzdExldmVsVHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgeyBGcmFnbWVudCwgRWxlbWVudGFyeVN0cmVhbVR5cGVzLCBQYXJ0IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCBDaHVua0NhY2hlIGZyb20gJy4uL2RlbXV4L2NodW5rLWNhY2hlJztcbmltcG9ydCBUcmFuc211eGVySW50ZXJmYWNlIGZyb20gJy4uL2RlbXV4L3RyYW5zbXV4ZXItaW50ZXJmYWNlJztcbmltcG9ydCB7IENodW5rTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFuc211eGVyJztcbmltcG9ydCB7IGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCB9IGZyb20gJy4vZnJhZ21lbnQtZmluZGVycyc7XG5pbXBvcnQgeyBhbGlnbk1lZGlhUGxheWxpc3RCeVBEVCB9IGZyb20gJy4uL3V0aWxzL2Rpc2NvbnRpbnVpdGllcyc7XG5pbXBvcnQgeyBtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwgfSBmcm9tICcuLi91dGlscy9tZWRpYS1vcHRpb24tYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnRUcmFja2VyIH0gZnJvbSAnLi9mcmFnbWVudC10cmFja2VyJztcbmltcG9ydCB0eXBlIEtleUxvYWRlciBmcm9tICcuLi9sb2FkZXIva2V5LWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IFRyYW5zbXV4ZXJSZXN1bHQgfSBmcm9tICcuLi90eXBlcy90cmFuc211eGVyJztcbmltcG9ydCB0eXBlIHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWRldGFpbHMnO1xuaW1wb3J0IHR5cGUgeyBUcmFja1NldCB9IGZyb20gJy4uL3R5cGVzL3RyYWNrJztcbmltcG9ydCB0eXBlIHtcbiAgQnVmZmVyQ3JlYXRlZERhdGEsXG4gIEF1ZGlvVHJhY2tzVXBkYXRlZERhdGEsXG4gIEF1ZGlvVHJhY2tTd2l0Y2hpbmdEYXRhLFxuICBMZXZlbExvYWRlZERhdGEsXG4gIFRyYWNrTG9hZGVkRGF0YSxcbiAgQnVmZmVyQXBwZW5kaW5nRGF0YSxcbiAgQnVmZmVyRmx1c2hlZERhdGEsXG4gIEluaXRQVFNGb3VuZERhdGEsXG4gIEZyYWdMb2FkZWREYXRhLFxuICBGcmFnUGFyc2luZ01ldGFkYXRhRGF0YSxcbiAgRnJhZ1BhcnNpbmdVc2VyZGF0YURhdGEsXG4gIEZyYWdCdWZmZXJlZERhdGEsXG4gIEVycm9yRGF0YSxcbiAgQnVmZmVyRmx1c2hpbmdEYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBNZWRpYVBsYXlsaXN0IH0gZnJvbSAnLi4vdHlwZXMvbWVkaWEtcGxheWxpc3QnO1xuXG5jb25zdCBUSUNLX0lOVEVSVkFMID0gMTAwOyAvLyBob3cgb2Z0ZW4gdG8gdGljayBpbiBtc1xuXG50eXBlIFdhaXRpbmdGb3JQVFNEYXRhID0ge1xuICBmcmFnOiBGcmFnbWVudDtcbiAgcGFydDogUGFydCB8IG51bGw7XG4gIGNhY2hlOiBDaHVua0NhY2hlO1xuICBjb21wbGV0ZTogYm9vbGVhbjtcbn07XG5cbmNsYXNzIEF1ZGlvU3RyZWFtQ29udHJvbGxlclxuICBleHRlbmRzIEJhc2VTdHJlYW1Db250cm9sbGVyXG4gIGltcGxlbWVudHMgTmV0d29ya0NvbXBvbmVudEFQSVxue1xuICBwcml2YXRlIHZpZGVvQnVmZmVyOiBCdWZmZXJhYmxlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdmlkZW9UcmFja0NDOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSB3YWl0aW5nVmlkZW9DQzogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgYnVmZmVyZWRUcmFjazogTWVkaWFQbGF5bGlzdCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN3aXRjaGluZ1RyYWNrOiBNZWRpYVBsYXlsaXN0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdHJhY2tJZDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgd2FpdGluZ0RhdGE6IFdhaXRpbmdGb3JQVFNEYXRhIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbWFpbkRldGFpbHM6IExldmVsRGV0YWlscyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZsdXNoaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgYnVmZmVyRmx1c2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGNhY2hlZFRyYWNrTG9hZGVkRGF0YTogVHJhY2tMb2FkZWREYXRhIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgaGxzOiBIbHMsXG4gICAgZnJhZ21lbnRUcmFja2VyOiBGcmFnbWVudFRyYWNrZXIsXG4gICAga2V5TG9hZGVyOiBLZXlMb2FkZXIsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgaGxzLFxuICAgICAgZnJhZ21lbnRUcmFja2VyLFxuICAgICAga2V5TG9hZGVyLFxuICAgICAgJ1thdWRpby1zdHJlYW0tY29udHJvbGxlcl0nLFxuICAgICAgUGxheWxpc3RMZXZlbFR5cGUuQVVESU8sXG4gICAgKTtcbiAgICB0aGlzLl9yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uSGFuZGxlckRlc3Ryb3lpbmcoKSB7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIHN1cGVyLm9uSGFuZGxlckRlc3Ryb3lpbmcoKTtcbiAgICB0aGlzLm1haW5EZXRhaWxzID0gbnVsbDtcbiAgICB0aGlzLmJ1ZmZlcmVkVHJhY2sgPSBudWxsO1xuICAgIHRoaXMuc3dpdGNoaW5nVHJhY2sgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9uKEV2ZW50cy5NRURJQV9BVFRBQ0hFRCwgdGhpcy5vbk1lZGlhQXR0YWNoZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5BVURJT19UUkFDS1NfVVBEQVRFRCwgdGhpcy5vbkF1ZGlvVHJhY2tzVXBkYXRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hJTkcsIHRoaXMub25BdWRpb1RyYWNrU3dpdGNoaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkFVRElPX1RSQUNLX0xPQURFRCwgdGhpcy5vbkF1ZGlvVHJhY2tMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfUkVTRVQsIHRoaXMub25CdWZmZXJSZXNldCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfQ1JFQVRFRCwgdGhpcy5vbkJ1ZmZlckNyZWF0ZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0ZMVVNISU5HLCB0aGlzLm9uQnVmZmVyRmx1c2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0ZMVVNIRUQsIHRoaXMub25CdWZmZXJGbHVzaGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLklOSVRfUFRTX0ZPVU5ELCB0aGlzLm9uSW5pdFB0c0ZvdW5kLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkZSQUdfQlVGRkVSRUQsIHRoaXMub25GcmFnQnVmZmVyZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub2ZmKEV2ZW50cy5NRURJQV9BVFRBQ0hFRCwgdGhpcy5vbk1lZGlhQXR0YWNoZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQVVESU9fVFJBQ0tTX1VQREFURUQsIHRoaXMub25BdWRpb1RyYWNrc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSElORywgdGhpcy5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkFVRElPX1RSQUNLX0xPQURFRCwgdGhpcy5vbkF1ZGlvVHJhY2tMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9SRVNFVCwgdGhpcy5vbkJ1ZmZlclJlc2V0LCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5CVUZGRVJfQ1JFQVRFRCwgdGhpcy5vbkJ1ZmZlckNyZWF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9GTFVTSElORywgdGhpcy5vbkJ1ZmZlckZsdXNoaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5CVUZGRVJfRkxVU0hFRCwgdGhpcy5vbkJ1ZmZlckZsdXNoZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLklOSVRfUFRTX0ZPVU5ELCB0aGlzLm9uSW5pdFB0c0ZvdW5kLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5GUkFHX0JVRkZFUkVELCB0aGlzLm9uRnJhZ0J1ZmZlcmVkLCB0aGlzKTtcbiAgfVxuXG4gIC8vIElOSVRfUFRTX0ZPVU5EIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB2aWRlbyB0cmFjayBwYXJzZWQgaW4gdGhlIHN0cmVhbS1jb250cm9sbGVyIGhhcyBhIG5ldyBQVFMgdmFsdWVcbiAgb25Jbml0UHRzRm91bmQoXG4gICAgZXZlbnQ6IEV2ZW50cy5JTklUX1BUU19GT1VORCxcbiAgICB7IGZyYWcsIGlkLCBpbml0UFRTLCB0aW1lc2NhbGUgfTogSW5pdFBUU0ZvdW5kRGF0YSxcbiAgKSB7XG4gICAgLy8gQWx3YXlzIHVwZGF0ZSB0aGUgbmV3IElOSVQgUFRTXG4gICAgLy8gQ2FuIGNoYW5nZSBkdWUgbGV2ZWwgc3dpdGNoXG4gICAgaWYgKGlkID09PSAnbWFpbicpIHtcbiAgICAgIGNvbnN0IGNjID0gZnJhZy5jYztcbiAgICAgIHRoaXMuaW5pdFBUU1tmcmFnLmNjXSA9IHsgYmFzZVRpbWU6IGluaXRQVFMsIHRpbWVzY2FsZSB9O1xuICAgICAgdGhpcy5sb2coYEluaXRQVFMgZm9yIGNjOiAke2NjfSBmb3VuZCBmcm9tIG1haW46ICR7aW5pdFBUU31gKTtcbiAgICAgIHRoaXMudmlkZW9UcmFja0NDID0gY2M7XG4gICAgICAvLyBJZiB3ZSBhcmUgd2FpdGluZywgdGljayBpbW1lZGlhdGVseSB0byB1bmJsb2NrIGF1ZGlvIGZyYWdtZW50IHRyYW5zbXV4aW5nXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuV0FJVElOR19JTklUX1BUUykge1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydExvYWQoc3RhcnRQb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmxldmVscykge1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgdGhpcy5zZXRJbnRlcnZhbChUSUNLX0lOVEVSVkFMKTtcbiAgICBpZiAobGFzdEN1cnJlbnRUaW1lID4gMCAmJiBzdGFydFBvc2l0aW9uID09PSAtMSkge1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBPdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAke2xhc3RDdXJyZW50VGltZS50b0ZpeGVkKFxuICAgICAgICAgIDMsXG4gICAgICAgICl9YCxcbiAgICAgICk7XG4gICAgICBzdGFydFBvc2l0aW9uID0gbGFzdEN1cnJlbnRUaW1lO1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgIH1cbiAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPVxuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID1cbiAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID1cbiAgICAgICAgc3RhcnRQb3NpdGlvbjtcblxuICAgIHRoaXMudGljaygpO1xuICB9XG5cbiAgZG9UaWNrKCkge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBTdGF0ZS5JRExFOlxuICAgICAgICB0aGlzLmRvVGlja0lkbGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLldBSVRJTkdfVFJBQ0s6IHtcbiAgICAgICAgY29uc3QgeyBsZXZlbHMsIHRyYWNrSWQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBsZXZlbHM/Llt0cmFja0lkXT8uZGV0YWlscztcbiAgICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgICBpZiAodGhpcy53YWl0Rm9yQ2RuVHVuZUluKGRldGFpbHMpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldBSVRJTkdfSU5JVF9QVFM7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCByZXRyeURhdGUgPSB0aGlzLnJldHJ5RGF0ZTtcbiAgICAgICAgLy8gaWYgY3VycmVudCB0aW1lIGlzIGd0IHRoYW4gcmV0cnlEYXRlLCBvciBpZiBtZWRpYSBzZWVraW5nIGxldCdzIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIHJldHJ5IGxvYWRpbmdcbiAgICAgICAgaWYgKCFyZXRyeURhdGUgfHwgbm93ID49IHJldHJ5RGF0ZSB8fCB0aGlzLm1lZGlhPy5zZWVraW5nKSB7XG4gICAgICAgICAgY29uc3QgeyBsZXZlbHMsIHRyYWNrSWQgfSA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5sb2coJ1JldHJ5RGF0ZSByZWFjaGVkLCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlJyk7XG4gICAgICAgICAgdGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZChsZXZlbHM/Llt0cmFja0lkXSB8fCBudWxsKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgU3RhdGUuV0FJVElOR19JTklUX1BUUzoge1xuICAgICAgICAvLyBFbnN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIHRoZSBXQUlUSU5HX0lOSVRfUFRTIHN0YXRlIGlmIHRoZSB3YWl0aW5nIGZyYWcgQ0MgZG9lc24ndCBtYXRjaCBhbnkgaW5pdFBUU1xuICAgICAgICBjb25zdCB3YWl0aW5nRGF0YSA9IHRoaXMud2FpdGluZ0RhdGE7XG4gICAgICAgIGlmICh3YWl0aW5nRGF0YSkge1xuICAgICAgICAgIGNvbnN0IHsgZnJhZywgcGFydCwgY2FjaGUsIGNvbXBsZXRlIH0gPSB3YWl0aW5nRGF0YTtcbiAgICAgICAgICBpZiAodGhpcy5pbml0UFRTW2ZyYWcuY2NdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud2FpdGluZ0RhdGEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nVmlkZW9DQyA9IC0xO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkZSQUdfTE9BRElORztcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBjYWNoZS5mbHVzaCgpO1xuICAgICAgICAgICAgY29uc3QgZGF0YTogRnJhZ0xvYWRlZERhdGEgPSB7XG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZyYWdtZW50TG9hZFByb2dyZXNzKGRhdGEpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgIHN1cGVyLl9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmlkZW9UcmFja0NDICE9PSB0aGlzLndhaXRpbmdWaWRlb0NDKSB7XG4gICAgICAgICAgICAvLyBEcm9wIHdhaXRpbmcgZnJhZ21lbnQgaWYgdmlkZW9UcmFja0NDIGhhcyBjaGFuZ2VkIHNpbmNlIHdhaXRpbmdGcmFnbWVudCB3YXMgc2V0IGFuZCBpbml0UFRTIHdhcyBub3QgZm91bmRcbiAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICBgV2FpdGluZyBmcmFnbWVudCBjYyAoJHtmcmFnLmNjfSkgY2FuY2VsbGVkIGJlY2F1c2UgdmlkZW8gaXMgYXQgY2MgJHt0aGlzLnZpZGVvVHJhY2tDQ31gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJXYWl0aW5nRnJhZ21lbnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRHJvcCB3YWl0aW5nIGZyYWdtZW50IGlmIGFuIGVhcmxpZXIgZnJhZ21lbnQgaXMgbmVlZGVkXG4gICAgICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmdldExvYWRQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVySW5mbyA9IEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKFxuICAgICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyLFxuICAgICAgICAgICAgICBwb3MsXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1heEJ1ZmZlckhvbGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgd2FpdGluZ0ZyYWdtZW50QXRQb3NpdGlvbiA9IGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChcbiAgICAgICAgICAgICAgYnVmZmVySW5mby5lbmQsXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsXG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHdhaXRpbmdGcmFnbWVudEF0UG9zaXRpb24gPCAwKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICAgIGBXYWl0aW5nIGZyYWdtZW50IGNjICgke2ZyYWcuY2N9KSBAICR7ZnJhZy5zdGFydH0gY2FuY2VsbGVkIGJlY2F1c2UgYW5vdGhlciBmcmFnbWVudCBhdCAke2J1ZmZlckluZm8uZW5kfSBpcyBuZWVkZWRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLmNsZWFyV2FpdGluZ0ZyYWdtZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vblRpY2tFbmQoKTtcbiAgfVxuXG4gIGNsZWFyV2FpdGluZ0ZyYWdtZW50KCkge1xuICAgIGNvbnN0IHdhaXRpbmdEYXRhID0gdGhpcy53YWl0aW5nRGF0YTtcbiAgICBpZiAod2FpdGluZ0RhdGEpIHtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KHdhaXRpbmdEYXRhLmZyYWcpO1xuICAgICAgdGhpcy53YWl0aW5nRGF0YSA9IG51bGw7XG4gICAgICB0aGlzLndhaXRpbmdWaWRlb0NDID0gLTE7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRMb2FkaW5nU3RhdGUoKSB7XG4gICAgdGhpcy5jbGVhcldhaXRpbmdGcmFnbWVudCgpO1xuICAgIHN1cGVyLnJlc2V0TG9hZGluZ1N0YXRlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25UaWNrRW5kKCkge1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHRoaXM7XG4gICAgaWYgKCFtZWRpYT8ucmVhZHlTdGF0ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBpZiB3ZSBkb24ndCBoYXZlIG1lZGlhIG9yIGlmIHRoZSBtZWRpYSBoYXNuJ3QgYnVmZmVyZWQgYW55dGhpbmcgeWV0IChyZWFkeVN0YXRlIDApXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcbiAgfVxuXG4gIHByaXZhdGUgZG9UaWNrSWRsZSgpIHtcbiAgICBjb25zdCB7IGhscywgbGV2ZWxzLCBtZWRpYSwgdHJhY2tJZCB9ID0gdGhpcztcbiAgICBjb25zdCBjb25maWcgPSBobHMuY29uZmlnO1xuXG4gICAgLy8gMS4gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORFxuICAgIC8vICAgIHN0YXJ0IGZyYWdtZW50IGFscmVhZHkgcmVxdWVzdGVkIE9SIHN0YXJ0IGZyYWcgcHJlZmV0Y2ggbm90IGVuYWJsZWRcbiAgICAvLyAyLiBpZiB0cmFja3Mgb3IgdHJhY2sgbm90IGxvYWRlZCBhbmQgc2VsZWN0ZWRcbiAgICAvLyB0aGVuIGV4aXQgbG9vcFxuICAgIC8vID0+IGlmIG1lZGlhIG5vdCBhdHRhY2hlZCBidXQgc3RhcnQgZnJhZyBwcmVmZXRjaCBpcyBlbmFibGVkIGFuZCBzdGFydCBmcmFnIG5vdCByZXF1ZXN0ZWQgeWV0LCB3ZSB3aWxsIG5vdCBleGl0IGxvb3BcbiAgICBpZiAoXG4gICAgICAoIW1lZGlhICYmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCB8fCAhY29uZmlnLnN0YXJ0RnJhZ1ByZWZldGNoKSkgfHxcbiAgICAgICFsZXZlbHM/Llt0cmFja0lkXVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxldmVsSW5mbyA9IGxldmVsc1t0cmFja0lkXTtcblxuICAgIGNvbnN0IHRyYWNrRGV0YWlscyA9IGxldmVsSW5mby5kZXRhaWxzO1xuICAgIGlmIChcbiAgICAgICF0cmFja0RldGFpbHMgfHxcbiAgICAgICh0cmFja0RldGFpbHMubGl2ZSAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbGV2ZWxJbmZvKSB8fFxuICAgICAgdGhpcy53YWl0Rm9yQ2RuVHVuZUluKHRyYWNrRGV0YWlscylcbiAgICApIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlcmFibGUgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgaWYgKHRoaXMuYnVmZmVyRmx1c2hlZCAmJiBidWZmZXJhYmxlKSB7XG4gICAgICB0aGlzLmJ1ZmZlckZsdXNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYWZ0ZXJCdWZmZXJGbHVzaGVkKFxuICAgICAgICBidWZmZXJhYmxlLFxuICAgICAgICBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8sXG4gICAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLkFVRElPLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXJJbmZvID0gdGhpcy5nZXRGd2RCdWZmZXJJbmZvKFxuICAgICAgYnVmZmVyYWJsZSxcbiAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLkFVRElPLFxuICAgICk7XG4gICAgaWYgKGJ1ZmZlckluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBidWZmZXJlZFRyYWNrLCBzd2l0Y2hpbmdUcmFjayB9ID0gdGhpcztcblxuICAgIGlmICghc3dpdGNoaW5nVHJhY2sgJiYgdGhpcy5fc3RyZWFtRW5kZWQoYnVmZmVySW5mbywgdHJhY2tEZXRhaWxzKSkge1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9FT1MsIHsgdHlwZTogJ2F1ZGlvJyB9KTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FTkRFRDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYWluQnVmZmVySW5mbyA9IHRoaXMuZ2V0RndkQnVmZmVySW5mbyhcbiAgICAgIHRoaXMudmlkZW9CdWZmZXIgPyB0aGlzLnZpZGVvQnVmZmVyIDogdGhpcy5tZWRpYSxcbiAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4sXG4gICAgKTtcbiAgICBjb25zdCBidWZmZXJMZW4gPSBidWZmZXJJbmZvLmxlbjtcbiAgICBjb25zdCBtYXhCdWZMZW4gPSB0aGlzLmdldE1heEJ1ZmZlckxlbmd0aChtYWluQnVmZmVySW5mbz8ubGVuKTtcblxuICAgIGNvbnN0IGZyYWdtZW50cyA9IHRyYWNrRGV0YWlscy5mcmFnbWVudHM7XG4gICAgY29uc3Qgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgbGV0IHRhcmdldEJ1ZmZlclRpbWUgPSB0aGlzLmZsdXNoaW5nXG4gICAgICA/IHRoaXMuZ2V0TG9hZFBvc2l0aW9uKClcbiAgICAgIDogYnVmZmVySW5mby5lbmQ7XG5cbiAgICBpZiAoc3dpdGNoaW5nVHJhY2sgJiYgbWVkaWEpIHtcbiAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0TG9hZFBvc2l0aW9uKCk7XG4gICAgICAvLyBTVEFCTEVcbiAgICAgIGlmIChcbiAgICAgICAgYnVmZmVyZWRUcmFjayAmJlxuICAgICAgICAhbWVkaWFBdHRyaWJ1dGVzSWRlbnRpY2FsKHN3aXRjaGluZ1RyYWNrLmF0dHJzLCBidWZmZXJlZFRyYWNrLmF0dHJzKVxuICAgICAgKSB7XG4gICAgICAgIHRhcmdldEJ1ZmZlclRpbWUgPSBwb3M7XG4gICAgICB9XG4gICAgICAvLyBpZiBjdXJyZW50VGltZSAocG9zKSBpcyBsZXNzIHRoYW4gYWx0IGF1ZGlvIHBsYXlsaXN0IHN0YXJ0IHRpbWUsIGl0IG1lYW5zIHRoYXQgYWx0IGF1ZGlvIGlzIGFoZWFkIG9mIGN1cnJlbnRUaW1lXG4gICAgICBpZiAodHJhY2tEZXRhaWxzLlBUU0tub3duICYmIHBvcyA8IHN0YXJ0KSB7XG4gICAgICAgIC8vIGlmIGV2ZXJ5dGhpbmcgaXMgYnVmZmVyZWQgZnJvbSBwb3MgdG8gc3RhcnQgb3IgaWYgYXVkaW8gYnVmZmVyIHVwZnJvbnQsIGxldCdzIHNlZWsgdG8gc3RhcnRcbiAgICAgICAgaWYgKGJ1ZmZlckluZm8uZW5kID4gc3RhcnQgfHwgYnVmZmVySW5mby5uZXh0U3RhcnQpIHtcbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICdBbHQgYXVkaW8gdHJhY2sgYWhlYWQgb2YgbWFpbiB0cmFjaywgc2VlayB0byBzdGFydCBvZiBhbHQgYXVkaW8gdHJhY2snLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBzdGFydCArIDAuMDU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBidWZmZXIgbGVuZ3RoIGlzIGxlc3MgdGhhbiBtYXhCdWZMZW4sIG9yIG5lYXIgdGhlIGVuZCwgZmluZCBhIGZyYWdtZW50IHRvIGxvYWRcbiAgICBpZiAoXG4gICAgICBidWZmZXJMZW4gPj0gbWF4QnVmTGVuICYmXG4gICAgICAhc3dpdGNoaW5nVHJhY2sgJiZcbiAgICAgIHRhcmdldEJ1ZmZlclRpbWUgPCBmcmFnbWVudHNbZnJhZ21lbnRzLmxlbmd0aCAtIDFdLnN0YXJ0XG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGZyYWcgPSB0aGlzLmdldE5leHRGcmFnbWVudCh0YXJnZXRCdWZmZXJUaW1lLCB0cmFja0RldGFpbHMpO1xuICAgIGxldCBhdEdhcCA9IGZhbHNlO1xuICAgIC8vIEF2b2lkIGxvb3AgbG9hZGluZyBieSB1c2luZyBuZXh0TG9hZFBvc2l0aW9uIHNldCBmb3IgYmFja3RyYWNraW5nIGFuZCBza2lwcGluZyBjb25zZWN1dGl2ZSBHQVAgdGFnc1xuICAgIGlmIChmcmFnICYmIHRoaXMuaXNMb29wTG9hZGluZyhmcmFnLCB0YXJnZXRCdWZmZXJUaW1lKSkge1xuICAgICAgYXRHYXAgPSAhIWZyYWcuZ2FwO1xuICAgICAgZnJhZyA9IHRoaXMuZ2V0TmV4dEZyYWdtZW50TG9vcExvYWRpbmcoXG4gICAgICAgIGZyYWcsXG4gICAgICAgIHRyYWNrRGV0YWlscyxcbiAgICAgICAgYnVmZmVySW5mbyxcbiAgICAgICAgUGxheWxpc3RMZXZlbFR5cGUuTUFJTixcbiAgICAgICAgbWF4QnVmTGVuLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICB0aGlzLmJ1ZmZlckZsdXNoZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJ1ZmZlciBhdWRpbyB1cCB0byBvbmUgdGFyZ2V0IGR1cmF0aW9uIGFoZWFkIG9mIG1haW4gYnVmZmVyXG4gICAgY29uc3QgYXRCdWZmZXJTeW5jTGltaXQgPVxuICAgICAgbWFpbkJ1ZmZlckluZm8gJiZcbiAgICAgIGZyYWcuc3RhcnQgPiBtYWluQnVmZmVySW5mby5lbmQgKyB0cmFja0RldGFpbHMudGFyZ2V0ZHVyYXRpb247XG4gICAgaWYgKFxuICAgICAgYXRCdWZmZXJTeW5jTGltaXQgfHxcbiAgICAgIC8vIE9yIHdhaXQgZm9yIG1haW4gYnVmZmVyIGFmdGVyIGJ1ZmZpbmcgc29tZSBhdWRpb1xuICAgICAgKCFtYWluQnVmZmVySW5mbz8ubGVuICYmIGJ1ZmZlckluZm8ubGVuKVxuICAgICkge1xuICAgICAgLy8gQ2hlY2sgZnJhZ21lbnQtdHJhY2tlciBmb3IgbWFpbiBmcmFnbWVudHMgc2luY2UgR0FQIHNlZ21lbnRzIGRvIG5vdCBzaG93IHVwIGluIGJ1ZmZlckluZm9cbiAgICAgIGNvbnN0IG1haW5GcmFnID0gdGhpcy5nZXRBcHBlbmRlZEZyYWcoZnJhZy5zdGFydCwgUGxheWxpc3RMZXZlbFR5cGUuTUFJTik7XG4gICAgICBpZiAobWFpbkZyYWcgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gQnJpZGdlIGdhcHMgaW4gbWFpbiBidWZmZXJcbiAgICAgIGF0R2FwIHx8PVxuICAgICAgICAhIW1haW5GcmFnLmdhcCB8fCAoISFhdEJ1ZmZlclN5bmNMaW1pdCAmJiBtYWluQnVmZmVySW5mby5sZW4gPT09IDApO1xuICAgICAgaWYgKFxuICAgICAgICAoYXRCdWZmZXJTeW5jTGltaXQgJiYgIWF0R2FwKSB8fFxuICAgICAgICAoYXRHYXAgJiYgYnVmZmVySW5mby5uZXh0U3RhcnQgJiYgYnVmZmVySW5mby5uZXh0U3RhcnQgPCBtYWluRnJhZy5lbmQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubG9hZEZyYWdtZW50KGZyYWcsIGxldmVsSW5mbywgdGFyZ2V0QnVmZmVyVGltZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TWF4QnVmZmVyTGVuZ3RoKG1haW5CdWZmZXJMZW5ndGg/OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG1heENvbmZpZ0J1ZmZlciA9IHN1cGVyLmdldE1heEJ1ZmZlckxlbmd0aCgpO1xuICAgIGlmICghbWFpbkJ1ZmZlckxlbmd0aCkge1xuICAgICAgcmV0dXJuIG1heENvbmZpZ0J1ZmZlcjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgobWF4Q29uZmlnQnVmZmVyLCBtYWluQnVmZmVyTGVuZ3RoKSxcbiAgICAgIHRoaXMuY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCxcbiAgICApO1xuICB9XG5cbiAgb25NZWRpYURldGFjaGluZygpIHtcbiAgICB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmJ1ZmZlckZsdXNoZWQgPSB0aGlzLmZsdXNoaW5nID0gZmFsc2U7XG4gICAgc3VwZXIub25NZWRpYURldGFjaGluZygpO1xuICB9XG5cbiAgb25BdWRpb1RyYWNrc1VwZGF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS1NfVVBEQVRFRCxcbiAgICB7IGF1ZGlvVHJhY2tzIH06IEF1ZGlvVHJhY2tzVXBkYXRlZERhdGEsXG4gICkge1xuICAgIC8vIFJlc2V0IHRyYW54bXV4ZXIgaXMgZXNzZW50aWFsIGZvciBsYXJnZSBjb250ZXh0IHN3aXRjaGVzIChDb250ZW50IFN0ZWVyaW5nKVxuICAgIHRoaXMucmVzZXRUcmFuc211eGVyKCk7XG4gICAgdGhpcy5sZXZlbHMgPSBhdWRpb1RyYWNrcy5tYXAoKG1lZGlhUGxheWxpc3QpID0+IG5ldyBMZXZlbChtZWRpYVBsYXlsaXN0KSk7XG4gIH1cblxuICBvbkF1ZGlvVHJhY2tTd2l0Y2hpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hJTkcsXG4gICAgZGF0YTogQXVkaW9UcmFja1N3aXRjaGluZ0RhdGEsXG4gICkge1xuICAgIC8vIGlmIGFueSBVUkwgZm91bmQgb24gbmV3IGF1ZGlvIHRyYWNrLCBpdCBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2tcbiAgICBjb25zdCBhbHRBdWRpbyA9ICEhZGF0YS51cmw7XG4gICAgdGhpcy50cmFja0lkID0gZGF0YS5pZDtcbiAgICBjb25zdCB7IGZyYWdDdXJyZW50IH0gPSB0aGlzO1xuXG4gICAgaWYgKGZyYWdDdXJyZW50KSB7XG4gICAgICBmcmFnQ3VycmVudC5hYm9ydFJlcXVlc3RzKCk7XG4gICAgICB0aGlzLnJlbW92ZVVuYnVmZmVyZWRGcmFncyhmcmFnQ3VycmVudC5zdGFydCk7XG4gICAgfVxuICAgIHRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKTtcbiAgICAvLyBkZXN0cm95IHVzZWxlc3MgdHJhbnNtdXhlciB3aGVuIHN3aXRjaGluZyBhdWRpbyB0byBtYWluXG4gICAgaWYgKCFhbHRBdWRpbykge1xuICAgICAgdGhpcy5yZXNldFRyYW5zbXV4ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3dpdGNoaW5nIHRvIGF1ZGlvIHRyYWNrLCBzdGFydCB0aW1lciBpZiBub3QgYWxyZWFkeSBzdGFydGVkXG4gICAgICB0aGlzLnNldEludGVydmFsKFRJQ0tfSU5URVJWQUwpO1xuICAgIH1cblxuICAgIC8vIHNob3VsZCB3ZSBzd2l0Y2ggdHJhY2tzID9cbiAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgIHRoaXMuc3dpdGNoaW5nVHJhY2sgPSBkYXRhO1xuICAgICAgLy8gbWFpbiBhdWRpbyB0cmFjayBhcmUgaGFuZGxlZCBieSBzdHJlYW0tY29udHJvbGxlciwganVzdCBkbyBzb21ldGhpbmcgaWYgc3dpdGNoaW5nIHRvIGFsdCBhdWRpbyB0cmFja1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICB0aGlzLmZsdXNoQXVkaW9JZk5lZWRlZChkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zd2l0Y2hpbmdUcmFjayA9IG51bGw7XG4gICAgICB0aGlzLmJ1ZmZlcmVkVHJhY2sgPSBkYXRhO1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlNUT1BQRUQ7XG4gICAgfVxuICAgIHRoaXMudGljaygpO1xuICB9XG5cbiAgb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWUgPSAwO1xuICAgIHRoaXMuYnVmZmVyRmx1c2hlZCA9IHRoaXMuZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmxldmVscyA9XG4gICAgICB0aGlzLm1haW5EZXRhaWxzID1cbiAgICAgIHRoaXMud2FpdGluZ0RhdGEgPVxuICAgICAgdGhpcy5idWZmZXJlZFRyYWNrID1cbiAgICAgIHRoaXMuY2FjaGVkVHJhY2tMb2FkZWREYXRhID1cbiAgICAgIHRoaXMuc3dpdGNoaW5nVHJhY2sgPVxuICAgICAgICBudWxsO1xuICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgdGhpcy50cmFja0lkID0gdGhpcy52aWRlb1RyYWNrQ0MgPSB0aGlzLndhaXRpbmdWaWRlb0NDID0gLTE7XG4gIH1cblxuICBvbkxldmVsTG9hZGVkKGV2ZW50OiBFdmVudHMuTEVWRUxfTE9BREVELCBkYXRhOiBMZXZlbExvYWRlZERhdGEpIHtcbiAgICB0aGlzLm1haW5EZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgIGlmICh0aGlzLmNhY2hlZFRyYWNrTG9hZGVkRGF0YSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQVVESU9fVFJBQ0tfTE9BREVELCB0aGlzLmNhY2hlZFRyYWNrTG9hZGVkRGF0YSk7XG4gICAgICB0aGlzLmNhY2hlZFRyYWNrTG9hZGVkRGF0YSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgb25BdWRpb1RyYWNrTG9hZGVkKGV2ZW50OiBFdmVudHMuQVVESU9fVFJBQ0tfTE9BREVELCBkYXRhOiBUcmFja0xvYWRlZERhdGEpIHtcbiAgICBpZiAodGhpcy5tYWluRGV0YWlscyA9PSBudWxsKSB7XG4gICAgICB0aGlzLmNhY2hlZFRyYWNrTG9hZGVkRGF0YSA9IGRhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgbGV2ZWxzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZGV0YWlsczogbmV3RGV0YWlscywgaWQ6IHRyYWNrSWQgfSA9IGRhdGE7XG4gICAgaWYgKCFsZXZlbHMpIHtcbiAgICAgIHRoaXMud2FybihgQXVkaW8gdHJhY2tzIHdlcmUgcmVzZXQgd2hpbGUgbG9hZGluZyBsZXZlbCAke3RyYWNrSWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nKFxuICAgICAgYEF1ZGlvIHRyYWNrICR7dHJhY2tJZH0gbG9hZGVkIFske25ld0RldGFpbHMuc3RhcnRTTn0sJHtcbiAgICAgICAgbmV3RGV0YWlscy5lbmRTTlxuICAgICAgfV0ke1xuICAgICAgICBuZXdEZXRhaWxzLmxhc3RQYXJ0U25cbiAgICAgICAgICA/IGBbcGFydC0ke25ld0RldGFpbHMubGFzdFBhcnRTbn0tJHtuZXdEZXRhaWxzLmxhc3RQYXJ0SW5kZXh9XWBcbiAgICAgICAgICA6ICcnXG4gICAgICB9LGR1cmF0aW9uOiR7bmV3RGV0YWlscy50b3RhbGR1cmF0aW9ufWAsXG4gICAgKTtcblxuICAgIGNvbnN0IHRyYWNrID0gbGV2ZWxzW3RyYWNrSWRdO1xuICAgIGxldCBzbGlkaW5nID0gMDtcbiAgICBpZiAobmV3RGV0YWlscy5saXZlIHx8IHRyYWNrLmRldGFpbHM/LmxpdmUpIHtcbiAgICAgIHRoaXMuY2hlY2tMaXZlVXBkYXRlKG5ld0RldGFpbHMpO1xuICAgICAgY29uc3QgbWFpbkRldGFpbHMgPSB0aGlzLm1haW5EZXRhaWxzO1xuICAgICAgaWYgKG5ld0RldGFpbHMuZGVsdGFVcGRhdGVGYWlsZWQgfHwgIW1haW5EZXRhaWxzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgIXRyYWNrLmRldGFpbHMgJiZcbiAgICAgICAgbmV3RGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUgJiZcbiAgICAgICAgbWFpbkRldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lXG4gICAgICApIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIG91ciBhdWRpbyByZW5kaXRpb24gaXMgYWxpZ25lZCB3aXRoIHRoZSBcIm1haW5cIiByZW5kaXRpb24sIHVzaW5nXG4gICAgICAgIC8vIHBkdCBhcyBvdXIgcmVmZXJlbmNlIHRpbWVzLlxuICAgICAgICBhbGlnbk1lZGlhUGxheWxpc3RCeVBEVChuZXdEZXRhaWxzLCBtYWluRGV0YWlscyk7XG4gICAgICAgIHNsaWRpbmcgPSBuZXdEZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRpbmcgPSB0aGlzLmFsaWduUGxheWxpc3RzKFxuICAgICAgICAgIG5ld0RldGFpbHMsXG4gICAgICAgICAgdHJhY2suZGV0YWlscyxcbiAgICAgICAgICB0aGlzLmxldmVsTGFzdExvYWRlZD8uZGV0YWlscyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhY2suZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgdGhpcy5sZXZlbExhc3RMb2FkZWQgPSB0cmFjaztcblxuICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb24gaWYgd2UgYXJlIGFsaWduZWQgd2l0aCB0aGUgbWFpbiBwbGF5bGlzdFxuICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgJiYgKHRoaXMubWFpbkRldGFpbHMgfHwgIW5ld0RldGFpbHMubGl2ZSkpIHtcbiAgICAgIHRoaXMuc2V0U3RhcnRQb3NpdGlvbih0aGlzLm1haW5EZXRhaWxzIHx8IG5ld0RldGFpbHMsIHNsaWRpbmcpO1xuICAgIH1cbiAgICAvLyBvbmx5IHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciB0cmFjayB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUgPT09IFN0YXRlLldBSVRJTkdfVFJBQ0sgJiZcbiAgICAgICF0aGlzLndhaXRGb3JDZG5UdW5lSW4obmV3RGV0YWlscylcbiAgICApIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIH1cblxuICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICB0aGlzLnRpY2soKTtcbiAgfVxuXG4gIF9oYW5kbGVGcmFnbWVudExvYWRQcm9ncmVzcyhkYXRhOiBGcmFnTG9hZGVkRGF0YSkge1xuICAgIGNvbnN0IHsgZnJhZywgcGFydCwgcGF5bG9hZCB9ID0gZGF0YTtcbiAgICBjb25zdCB7IGNvbmZpZywgdHJhY2tJZCwgbGV2ZWxzIH0gPSB0aGlzO1xuICAgIGlmICghbGV2ZWxzKSB7XG4gICAgICB0aGlzLndhcm4oXG4gICAgICAgIGBBdWRpbyB0cmFja3Mgd2VyZSByZXNldCB3aGlsZSBmcmFnbWVudCBsb2FkIHdhcyBpbiBwcm9ncmVzcy4gRnJhZ21lbnQgJHtmcmFnLnNufSBvZiBsZXZlbCAke2ZyYWcubGV2ZWx9IHdpbGwgbm90IGJlIGJ1ZmZlcmVkYCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdHJhY2sgPSBsZXZlbHNbdHJhY2tJZF0gYXMgTGV2ZWw7XG4gICAgaWYgKCF0cmFjaykge1xuICAgICAgdGhpcy53YXJuKCdBdWRpbyB0cmFjayBpcyB1bmRlZmluZWQgb24gZnJhZ21lbnQgbG9hZCBwcm9ncmVzcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZXRhaWxzID0gdHJhY2suZGV0YWlscyBhcyBMZXZlbERldGFpbHM7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICB0aGlzLndhcm4oJ0F1ZGlvIHRyYWNrIGRldGFpbHMgdW5kZWZpbmVkIG9uIGZyYWdtZW50IGxvYWQgcHJvZ3Jlc3MnKTtcbiAgICAgIHRoaXMucmVtb3ZlVW5idWZmZXJlZEZyYWdzKGZyYWcuc3RhcnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhdWRpb0NvZGVjID1cbiAgICAgIGNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCB0cmFjay5hdWRpb0NvZGVjIHx8ICdtcDRhLjQwLjInO1xuXG4gICAgbGV0IHRyYW5zbXV4ZXIgPSB0aGlzLnRyYW5zbXV4ZXI7XG4gICAgaWYgKCF0cmFuc211eGVyKSB7XG4gICAgICB0cmFuc211eGVyID0gdGhpcy50cmFuc211eGVyID0gbmV3IFRyYW5zbXV4ZXJJbnRlcmZhY2UoXG4gICAgICAgIHRoaXMuaGxzLFxuICAgICAgICBQbGF5bGlzdExldmVsVHlwZS5BVURJTyxcbiAgICAgICAgdGhpcy5faGFuZGxlVHJhbnNtdXhDb21wbGV0ZS5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9oYW5kbGVUcmFuc211eGVyRmx1c2guYmluZCh0aGlzKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB2aWRlbyBpbml0UFRTXG4gICAgLy8gSWYgbm90IHdlIG5lZWQgdG8gd2FpdCBmb3IgaXRcbiAgICBjb25zdCBpbml0UFRTID0gdGhpcy5pbml0UFRTW2ZyYWcuY2NdO1xuICAgIGNvbnN0IGluaXRTZWdtZW50RGF0YSA9IGZyYWcuaW5pdFNlZ21lbnQ/LmRhdGE7XG4gICAgaWYgKGluaXRQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gdGhpcy5sb2coYFRyYW5zbXV4aW5nICR7c259IG9mIFske2RldGFpbHMuc3RhcnRTTn0gLCR7ZGV0YWlscy5lbmRTTn1dLHRyYWNrICR7dHJhY2tJZH1gKTtcbiAgICAgIC8vIHRpbWUgT2Zmc2V0IGlzIGFjY3VyYXRlIGlmIGxldmVsIFBUUyBpcyBrbm93biwgb3IgaWYgcGxheWxpc3QgaXMgbm90IHNsaWRpbmcgKG5vdCBsaXZlKVxuICAgICAgY29uc3QgYWNjdXJhdGVUaW1lT2Zmc2V0ID0gZmFsc2U7IC8vIGRldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZTtcbiAgICAgIGNvbnN0IHBhcnRJbmRleCA9IHBhcnQgPyBwYXJ0LmluZGV4IDogLTE7XG4gICAgICBjb25zdCBwYXJ0aWFsID0gcGFydEluZGV4ICE9PSAtMTtcbiAgICAgIGNvbnN0IGNodW5rTWV0YSA9IG5ldyBDaHVua01ldGFkYXRhKFxuICAgICAgICBmcmFnLmxldmVsLFxuICAgICAgICBmcmFnLnNuIGFzIG51bWJlcixcbiAgICAgICAgZnJhZy5zdGF0cy5jaHVua0NvdW50LFxuICAgICAgICBwYXlsb2FkLmJ5dGVMZW5ndGgsXG4gICAgICAgIHBhcnRJbmRleCxcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICk7XG4gICAgICB0cmFuc211eGVyLnB1c2goXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGluaXRTZWdtZW50RGF0YSxcbiAgICAgICAgYXVkaW9Db2RlYyxcbiAgICAgICAgJycsXG4gICAgICAgIGZyYWcsXG4gICAgICAgIHBhcnQsXG4gICAgICAgIGRldGFpbHMudG90YWxkdXJhdGlvbixcbiAgICAgICAgYWNjdXJhdGVUaW1lT2Zmc2V0LFxuICAgICAgICBjaHVua01ldGEsXG4gICAgICAgIGluaXRQVFMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYFVua25vd24gdmlkZW8gUFRTIGZvciBjYyAke2ZyYWcuY2N9LCB3YWl0aW5nIGZvciB2aWRlbyBQVFMgYmVmb3JlIGRlbXV4aW5nIGF1ZGlvIGZyYWcgJHtmcmFnLnNufSBvZiBbJHtkZXRhaWxzLnN0YXJ0U059ICwke2RldGFpbHMuZW5kU059XSx0cmFjayAke3RyYWNrSWR9YCxcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGNhY2hlIH0gPSAodGhpcy53YWl0aW5nRGF0YSA9IHRoaXMud2FpdGluZ0RhdGEgfHwge1xuICAgICAgICBmcmFnLFxuICAgICAgICBwYXJ0LFxuICAgICAgICBjYWNoZTogbmV3IENodW5rQ2FjaGUoKSxcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBjYWNoZS5wdXNoKG5ldyBVaW50OEFycmF5KHBheWxvYWQpKTtcbiAgICAgIHRoaXMud2FpdGluZ1ZpZGVvQ0MgPSB0aGlzLnZpZGVvVHJhY2tDQztcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0lOSVRfUFRTO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfaGFuZGxlRnJhZ21lbnRMb2FkQ29tcGxldGUoZnJhZ0xvYWRlZERhdGE6IEZyYWdMb2FkZWREYXRhKSB7XG4gICAgaWYgKHRoaXMud2FpdGluZ0RhdGEpIHtcbiAgICAgIHRoaXMud2FpdGluZ0RhdGEuY29tcGxldGUgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdXBlci5faGFuZGxlRnJhZ21lbnRMb2FkQ29tcGxldGUoZnJhZ0xvYWRlZERhdGEpO1xuICB9XG5cbiAgb25CdWZmZXJSZXNldCgvKiBldmVudDogRXZlbnRzLkJVRkZFUl9SRVNFVCAqLykge1xuICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBzb3VyY2VidWZmZXJzXG4gICAgdGhpcy5tZWRpYUJ1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXIgPSBudWxsO1xuICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgfVxuXG4gIG9uQnVmZmVyQ3JlYXRlZChldmVudDogRXZlbnRzLkJVRkZFUl9DUkVBVEVELCBkYXRhOiBCdWZmZXJDcmVhdGVkRGF0YSkge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSBkYXRhLnRyYWNrcy5hdWRpbztcbiAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IGF1ZGlvVHJhY2suYnVmZmVyIHx8IG51bGw7XG4gICAgfVxuICAgIGlmIChkYXRhLnRyYWNrcy52aWRlbykge1xuICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IGRhdGEudHJhY2tzLnZpZGVvLmJ1ZmZlciB8fCBudWxsO1xuICAgIH1cbiAgfVxuXG4gIG9uRnJhZ0J1ZmZlcmVkKGV2ZW50OiBFdmVudHMuRlJBR19CVUZGRVJFRCwgZGF0YTogRnJhZ0J1ZmZlcmVkRGF0YSkge1xuICAgIGNvbnN0IHsgZnJhZywgcGFydCB9ID0gZGF0YTtcbiAgICBpZiAoZnJhZy50eXBlICE9PSBQbGF5bGlzdExldmVsVHlwZS5BVURJTykge1xuICAgICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhICYmIGZyYWcudHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTikge1xuICAgICAgICBjb25zdCBidWZmZXJhYmxlID0gdGhpcy52aWRlb0J1ZmZlciB8fCB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAoYnVmZmVyYWJsZSkge1xuICAgICAgICAgIGNvbnN0IGJ1ZmZlcmVkVGltZVJhbmdlcyA9IEJ1ZmZlckhlbHBlci5nZXRCdWZmZXJlZChidWZmZXJhYmxlKTtcbiAgICAgICAgICBpZiAoYnVmZmVyZWRUaW1lUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSkge1xuICAgICAgLy8gSWYgYSBsZXZlbCBzd2l0Y2ggd2FzIHJlcXVlc3RlZCB3aGlsZSBhIGZyYWdtZW50IHdhcyBidWZmZXJpbmcsIGl0IHdpbGwgZW1pdCB0aGUgRlJBR19CVUZGRVJFRCBldmVudCB1cG9uIGNvbXBsZXRpb25cbiAgICAgIC8vIEF2b2lkIHNldHRpbmcgc3RhdGUgYmFjayB0byBJRExFIG9yIGNvbmNsdWRpbmcgdGhlIGF1ZGlvIHN3aXRjaDsgb3RoZXJ3aXNlLCB0aGUgc3dpdGNoZWQtdG8gdHJhY2sgd2lsbCBub3QgYnVmZmVyXG4gICAgICB0aGlzLndhcm4oXG4gICAgICAgIGBGcmFnbWVudCAke2ZyYWcuc259JHtwYXJ0ID8gJyBwOiAnICsgcGFydC5pbmRleCA6ICcnfSBvZiBsZXZlbCAke1xuICAgICAgICAgIGZyYWcubGV2ZWxcbiAgICAgICAgfSBmaW5pc2hlZCBidWZmZXJpbmcsIGJ1dCB3YXMgYWJvcnRlZC4gc3RhdGU6ICR7XG4gICAgICAgICAgdGhpcy5zdGF0ZVxuICAgICAgICB9LCBhdWRpb1N3aXRjaDogJHtcbiAgICAgICAgICB0aGlzLnN3aXRjaGluZ1RyYWNrID8gdGhpcy5zd2l0Y2hpbmdUcmFjay5uYW1lIDogJ2ZhbHNlJ1xuICAgICAgICB9YCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmcmFnLnNuICE9PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICBjb25zdCB0cmFjayA9IHRoaXMuc3dpdGNoaW5nVHJhY2s7XG4gICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgdGhpcy5idWZmZXJlZFRyYWNrID0gdHJhY2s7XG4gICAgICAgIHRoaXMuc3dpdGNoaW5nVHJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hFRCwgeyAuLi50cmFjayB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mcmFnQnVmZmVyZWRDb21wbGV0ZShmcmFnLCBwYXJ0KTtcbiAgfVxuXG4gIHByaXZhdGUgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpIHtcbiAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVSUk9SO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgY2FzZSBFcnJvckRldGFpbHMuRlJBR19HQVA6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0RFQ1JZUFRfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0xPQURfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuS0VZX0xPQURfVElNRU9VVDpcbiAgICAgICAgdGhpcy5vbkZyYWdtZW50T3JLZXlMb2FkRXJyb3IoUGxheWxpc3RMZXZlbFR5cGUuQVVESU8sIGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5MRVZFTF9QQVJTSU5HX0VSUk9SOlxuICAgICAgICAvLyBpbiBjYXNlIG9mIG5vbiBmYXRhbCBlcnJvciB3aGlsZSBsb2FkaW5nIHRyYWNrLCBpZiBub3QgcmV0cnlpbmcgdG8gbG9hZCB0cmFjaywgc3dpdGNoIGJhY2sgdG8gSURMRVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIWRhdGEubGV2ZWxSZXRyeSAmJlxuICAgICAgICAgIHRoaXMuc3RhdGUgPT09IFN0YXRlLldBSVRJTkdfVFJBQ0sgJiZcbiAgICAgICAgICBkYXRhLmNvbnRleHQ/LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0tcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5EX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgIGlmICghZGF0YS5wYXJlbnQgfHwgZGF0YS5wYXJlbnQgIT09ICdhdWRpbycpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZGV0YWlscyA9PT0gRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1IpIHtcbiAgICAgICAgICB0aGlzLnJlc2V0TG9hZGluZ1N0YXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlZHVjZUxlbmd0aEFuZEZsdXNoQnVmZmVyKGRhdGEpKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXJlZFRyYWNrID0gbnVsbDtcbiAgICAgICAgICBzdXBlci5mbHVzaE1haW5CdWZmZXIoMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCAnYXVkaW8nKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLklOVEVSTkFMX0VYQ0VQVElPTjpcbiAgICAgICAgdGhpcy5yZWNvdmVyV29ya2VyRXJyb3IoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1ZmZlckZsdXNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuQlVGRkVSX0ZMVVNISU5HLFxuICAgIHsgdHlwZSB9OiBCdWZmZXJGbHVzaGluZ0RhdGEsXG4gICkge1xuICAgIGlmICh0eXBlICE9PSBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU8pIHtcbiAgICAgIHRoaXMuZmx1c2hpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25CdWZmZXJGbHVzaGVkKFxuICAgIGV2ZW50OiBFdmVudHMuQlVGRkVSX0ZMVVNIRUQsXG4gICAgeyB0eXBlIH06IEJ1ZmZlckZsdXNoZWREYXRhLFxuICApIHtcbiAgICBpZiAodHlwZSAhPT0gRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPKSB7XG4gICAgICB0aGlzLmZsdXNoaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmJ1ZmZlckZsdXNoZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkVOREVEKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgfVxuICAgICAgY29uc3QgbWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhQnVmZmVyIHx8IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWFCdWZmZXIpIHtcbiAgICAgICAgdGhpcy5hZnRlckJ1ZmZlckZsdXNoZWQobWVkaWFCdWZmZXIsIHR5cGUsIFBsYXlsaXN0TGV2ZWxUeXBlLkFVRElPKTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlVHJhbnNtdXhDb21wbGV0ZSh0cmFuc211eFJlc3VsdDogVHJhbnNtdXhlclJlc3VsdCkge1xuICAgIGNvbnN0IGlkID0gJ2F1ZGlvJztcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBjb25zdCB7IHJlbXV4UmVzdWx0LCBjaHVua01ldGEgfSA9IHRyYW5zbXV4UmVzdWx0O1xuXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuZ2V0Q3VycmVudENvbnRleHQoY2h1bmtNZXRhKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHRoaXMucmVzZXRXaGVuTWlzc2luZ0NvbnRleHQoY2h1bmtNZXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBmcmFnLCBwYXJ0LCBsZXZlbCB9ID0gY29udGV4dDtcbiAgICBjb25zdCB7IGRldGFpbHMgfSA9IGxldmVsO1xuICAgIGNvbnN0IHsgYXVkaW8sIHRleHQsIGlkMywgaW5pdFNlZ21lbnQgfSA9IHJlbXV4UmVzdWx0O1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgZnJhZ21lbnQgaGFzIGJlZW4gYWJvcnRlZC4gV2UgY2hlY2sgdGhpcyBieSBmaXJzdCBzZWVpbmcgaWYgd2UncmUgc3RpbGwgcGxheWluZyB0aGUgY3VycmVudCBsZXZlbC5cbiAgICAvLyBJZiB3ZSBhcmUsIHN1YnNlcXVlbnRseSBjaGVjayBpZiB0aGUgY3VycmVudGx5IGxvYWRpbmcgZnJhZ21lbnQgKGZyYWdDdXJyZW50KSBoYXMgY2hhbmdlZC5cbiAgICBpZiAodGhpcy5mcmFnQ29udGV4dENoYW5nZWQoZnJhZykgfHwgIWRldGFpbHMpIHtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5QQVJTSU5HO1xuICAgIGlmICh0aGlzLnN3aXRjaGluZ1RyYWNrICYmIGF1ZGlvKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlQXVkaW9Td2l0Y2godGhpcy5zd2l0Y2hpbmdUcmFjayk7XG4gICAgfVxuXG4gICAgaWYgKGluaXRTZWdtZW50Py50cmFja3MpIHtcbiAgICAgIGNvbnN0IG1hcEZyYWdtZW50ID0gZnJhZy5pbml0U2VnbWVudCB8fCBmcmFnO1xuICAgICAgdGhpcy5fYnVmZmVySW5pdFNlZ21lbnQoXG4gICAgICAgIGxldmVsLFxuICAgICAgICBpbml0U2VnbWVudC50cmFja3MsXG4gICAgICAgIG1hcEZyYWdtZW50LFxuICAgICAgICBjaHVua01ldGEsXG4gICAgICApO1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIHtcbiAgICAgICAgZnJhZzogbWFwRnJhZ21lbnQsXG4gICAgICAgIGlkLFxuICAgICAgICB0cmFja3M6IGluaXRTZWdtZW50LnRyYWNrcyxcbiAgICAgIH0pO1xuICAgICAgLy8gT25seSBmbHVzaCBhdWRpbyBmcm9tIG9sZCBhdWRpbyB0cmFja3Mgd2hlbiBQVFMgaXMga25vd24gb24gbmV3IGF1ZGlvIHRyYWNrXG4gICAgfVxuICAgIGlmIChhdWRpbykge1xuICAgICAgY29uc3QgeyBzdGFydFBUUywgZW5kUFRTLCBzdGFydERUUywgZW5kRFRTIH0gPSBhdWRpbztcbiAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgIHBhcnQuZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPXSA9IHtcbiAgICAgICAgICBzdGFydFBUUyxcbiAgICAgICAgICBlbmRQVFMsXG4gICAgICAgICAgc3RhcnREVFMsXG4gICAgICAgICAgZW5kRFRTLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZnJhZy5zZXRFbGVtZW50YXJ5U3RyZWFtSW5mbyhcbiAgICAgICAgRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPLFxuICAgICAgICBzdGFydFBUUyxcbiAgICAgICAgZW5kUFRTLFxuICAgICAgICBzdGFydERUUyxcbiAgICAgICAgZW5kRFRTLFxuICAgICAgKTtcbiAgICAgIHRoaXMuYnVmZmVyRnJhZ21lbnREYXRhKGF1ZGlvLCBmcmFnLCBwYXJ0LCBjaHVua01ldGEpO1xuICAgIH1cblxuICAgIGlmIChpZDM/LnNhbXBsZXM/Lmxlbmd0aCkge1xuICAgICAgY29uc3QgZW1pdHRlZElEMzogRnJhZ1BhcnNpbmdNZXRhZGF0YURhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBkZXRhaWxzLFxuICAgICAgICB9LFxuICAgICAgICBpZDMsXG4gICAgICApO1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfUEFSU0lOR19NRVRBREFUQSwgZW1pdHRlZElEMyk7XG4gICAgfVxuICAgIGlmICh0ZXh0KSB7XG4gICAgICBjb25zdCBlbWl0dGVkVGV4dDogRnJhZ1BhcnNpbmdVc2VyZGF0YURhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBkZXRhaWxzLFxuICAgICAgICB9LFxuICAgICAgICB0ZXh0LFxuICAgICAgKTtcbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIGVtaXR0ZWRUZXh0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9idWZmZXJJbml0U2VnbWVudChcbiAgICBjdXJyZW50TGV2ZWw6IExldmVsLFxuICAgIHRyYWNrczogVHJhY2tTZXQsXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAgY2h1bmtNZXRhOiBDaHVua01ldGFkYXRhLFxuICApIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBkZWxldGUgYW55IHZpZGVvIHRyYWNrIGZvdW5kIG9uIGF1ZGlvIHRyYW5zbXV4ZXJcbiAgICBpZiAodHJhY2tzLnZpZGVvKSB7XG4gICAgICBkZWxldGUgdHJhY2tzLnZpZGVvO1xuICAgIH1cblxuICAgIC8vIGluY2x1ZGUgbGV2ZWxDb2RlYyBpbiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzXG4gICAgY29uc3QgdHJhY2sgPSB0cmFja3MuYXVkaW87XG4gICAgaWYgKCF0cmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyYWNrLmlkID0gJ2F1ZGlvJztcblxuICAgIGNvbnN0IHZhcmlhbnRBdWRpb0NvZGVjcyA9IGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjO1xuICAgIHRoaXMubG9nKFxuICAgICAgYEluaXQgYXVkaW8gYnVmZmVyLCBjb250YWluZXI6JHt0cmFjay5jb250YWluZXJ9LCBjb2RlY3NbbGV2ZWwvcGFyc2VkXT1bJHt2YXJpYW50QXVkaW9Db2RlY3N9LyR7dHJhY2suY29kZWN9XWAsXG4gICAgKTtcbiAgICAvLyBTb3VyY2VCdWZmZXIgd2lsbCB1c2UgdHJhY2subGV2ZWxDb2RlYyBpZiBkZWZpbmVkXG4gICAgaWYgKHZhcmlhbnRBdWRpb0NvZGVjcyAmJiB2YXJpYW50QXVkaW9Db2RlY3Muc3BsaXQoJywnKS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRyYWNrLmxldmVsQ29kZWMgPSB2YXJpYW50QXVkaW9Db2RlY3M7XG4gICAgfVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9DT0RFQ1MsIHRyYWNrcyk7XG4gICAgY29uc3QgaW5pdFNlZ21lbnQgPSB0cmFjay5pbml0U2VnbWVudDtcbiAgICBpZiAoaW5pdFNlZ21lbnQ/LmJ5dGVMZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNlZ21lbnQ6IEJ1ZmZlckFwcGVuZGluZ0RhdGEgPSB7XG4gICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgIGZyYWcsXG4gICAgICAgIHBhcnQ6IG51bGwsXG4gICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgcGFyZW50OiBmcmFnLnR5cGUsXG4gICAgICAgIGRhdGE6IGluaXRTZWdtZW50LFxuICAgICAgfTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9BUFBFTkRJTkcsIHNlZ21lbnQpO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgdGhpcy50aWNrSW1tZWRpYXRlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgbG9hZEZyYWdtZW50KFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIHRyYWNrOiBMZXZlbCxcbiAgICB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIsXG4gICkge1xuICAgIC8vIG9ubHkgbG9hZCBpZiBmcmFnbWVudCBpcyBub3QgbG9hZGVkIG9yIGlmIGluIGF1ZGlvIHN3aXRjaFxuICAgIGNvbnN0IGZyYWdTdGF0ZSA9IHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZyYWcpO1xuICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuXG4gICAgLy8gd2UgZm9yY2UgYSBmcmFnIGxvYWRpbmcgaW4gYXVkaW8gc3dpdGNoIGFzIGZyYWdtZW50IHRyYWNrZXIgbWlnaHQgbm90IGhhdmUgZXZpY3RlZCBwcmV2aW91cyBmcmFncyBpbiBjYXNlIG9mIHF1aWNrIGF1ZGlvIHN3aXRjaFxuICAgIGlmIChcbiAgICAgIHRoaXMuc3dpdGNoaW5nVHJhY2sgfHxcbiAgICAgIGZyYWdTdGF0ZSA9PT0gRnJhZ21lbnRTdGF0ZS5OT1RfTE9BREVEIHx8XG4gICAgICBmcmFnU3RhdGUgPT09IEZyYWdtZW50U3RhdGUuUEFSVElBTFxuICAgICkge1xuICAgICAgaWYgKGZyYWcuc24gPT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgICAgdGhpcy5fbG9hZEluaXRTZWdtZW50KGZyYWcsIHRyYWNrKTtcbiAgICAgIH0gZWxzZSBpZiAodHJhY2suZGV0YWlscz8ubGl2ZSAmJiAhdGhpcy5pbml0UFRTW2ZyYWcuY2NdKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBXYWl0aW5nIGZvciB2aWRlbyBQVFMgaW4gY29udGludWl0eSBjb3VudGVyICR7ZnJhZy5jY30gb2YgbGl2ZSBzdHJlYW0gYmVmb3JlIGxvYWRpbmcgYXVkaW8gZnJhZ21lbnQgJHtmcmFnLnNufSBvZiBsZXZlbCAke3RoaXMudHJhY2tJZH1gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV0FJVElOR19JTklUX1BUUztcbiAgICAgICAgY29uc3QgbWFpbkRldGFpbHMgPSB0aGlzLm1haW5EZXRhaWxzO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbWFpbkRldGFpbHMgJiZcbiAgICAgICAgICBtYWluRGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQgIT09IHRyYWNrLmRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0XG4gICAgICAgICkge1xuICAgICAgICAgIGFsaWduTWVkaWFQbGF5bGlzdEJ5UERUKHRyYWNrLmRldGFpbHMsIG1haW5EZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICBzdXBlci5sb2FkRnJhZ21lbnQoZnJhZywgdHJhY2ssIHRhcmdldEJ1ZmZlclRpbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsZWFyVHJhY2tlcklmTmVlZGVkKGZyYWcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmx1c2hBdWRpb0lmTmVlZGVkKHN3aXRjaGluZ1RyYWNrOiBNZWRpYVBsYXlsaXN0KSB7XG4gICAgY29uc3QgeyBtZWRpYSwgYnVmZmVyZWRUcmFjayB9ID0gdGhpcztcbiAgICBjb25zdCBidWZmZXJlZEF0dHJpYnV0ZXMgPSBidWZmZXJlZFRyYWNrPy5hdHRycztcbiAgICBjb25zdCBzd2l0Y2hBdHRyaWJ1dGVzID0gc3dpdGNoaW5nVHJhY2suYXR0cnM7XG4gICAgaWYgKFxuICAgICAgbWVkaWEgJiZcbiAgICAgIGJ1ZmZlcmVkQXR0cmlidXRlcyAmJlxuICAgICAgKGJ1ZmZlcmVkQXR0cmlidXRlcy5DSEFOTkVMUyAhPT0gc3dpdGNoQXR0cmlidXRlcy5DSEFOTkVMUyB8fFxuICAgICAgICBidWZmZXJlZFRyYWNrLm5hbWUgIT09IHN3aXRjaGluZ1RyYWNrLm5hbWUgfHxcbiAgICAgICAgYnVmZmVyZWRUcmFjay5sYW5nICE9PSBzd2l0Y2hpbmdUcmFjay5sYW5nKVxuICAgICkge1xuICAgICAgdGhpcy5sb2coJ1N3aXRjaGluZyBhdWRpbyB0cmFjayA6IGZsdXNoaW5nIGFsbCBhdWRpbycpO1xuICAgICAgc3VwZXIuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgJ2F1ZGlvJyk7XG4gICAgICB0aGlzLmJ1ZmZlcmVkVHJhY2sgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29tcGxldGVBdWRpb1N3aXRjaChzd2l0Y2hpbmdUcmFjazogTWVkaWFQbGF5bGlzdCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIHRoaXMuZmx1c2hBdWRpb0lmTmVlZGVkKHN3aXRjaGluZ1RyYWNrKTtcbiAgICB0aGlzLmJ1ZmZlcmVkVHJhY2sgPSBzd2l0Y2hpbmdUcmFjaztcbiAgICB0aGlzLnN3aXRjaGluZ1RyYWNrID0gbnVsbDtcbiAgICBobHMudHJpZ2dlcihFdmVudHMuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgLi4uc3dpdGNoaW5nVHJhY2sgfSk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbiIsICJpbXBvcnQgQmFzZVBsYXlsaXN0Q29udHJvbGxlciBmcm9tICcuL2Jhc2UtcGxheWxpc3QtY29udHJvbGxlcic7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgRXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBsYXlsaXN0Q29udGV4dFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgbWVkaWFBdHRyaWJ1dGVzSWRlbnRpY2FsIH0gZnJvbSAnLi4vdXRpbHMvbWVkaWEtb3B0aW9uLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHtcbiAgYXVkaW9NYXRjaFByZWRpY2F0ZSxcbiAgZmluZENsb3Nlc3RMZXZlbFdpdGhBdWRpb0dyb3VwLFxuICBmaW5kTWF0Y2hpbmdPcHRpb24sXG4gIG1hdGNoZXNPcHRpb24sXG59IGZyb20gJy4uL3V0aWxzL3JlbmRpdGlvbi1oZWxwZXInO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7XG4gIEF1ZGlvU2VsZWN0aW9uT3B0aW9uLFxuICBNZWRpYVBsYXlsaXN0LFxufSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7IEhsc1VybFBhcmFtZXRlcnMgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgdHlwZSB7XG4gIE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgQXVkaW9UcmFja3NVcGRhdGVkRGF0YSxcbiAgRXJyb3JEYXRhLFxuICBMZXZlbExvYWRpbmdEYXRhLFxuICBBdWRpb1RyYWNrTG9hZGVkRGF0YSxcbiAgTGV2ZWxTd2l0Y2hpbmdEYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuXG5jbGFzcyBBdWRpb1RyYWNrQ29udHJvbGxlciBleHRlbmRzIEJhc2VQbGF5bGlzdENvbnRyb2xsZXIge1xuICBwcml2YXRlIHRyYWNrczogTWVkaWFQbGF5bGlzdFtdID0gW107XG4gIHByaXZhdGUgZ3JvdXBJZHM6IChzdHJpbmcgfCB1bmRlZmluZWQpW10gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0cmFja3NJbkdyb3VwOiBNZWRpYVBsYXlsaXN0W10gPSBbXTtcbiAgcHJpdmF0ZSB0cmFja0lkOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBjdXJyZW50VHJhY2s6IE1lZGlhUGxheWxpc3QgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzZWxlY3REZWZhdWx0VHJhY2s6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzKSB7XG4gICAgc3VwZXIoaGxzLCAnW2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXJdJyk7XG4gICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfTE9BRElORywgdGhpcy5vbkxldmVsTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5BVURJT19UUkFDS19MT0FERUQsIHRoaXMub25BdWRpb1RyYWNrTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgdGhpcy5vbk1hbmlmZXN0UGFyc2VkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9MT0FESU5HLCB0aGlzLm9uTGV2ZWxMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQVVESU9fVFJBQ0tfTE9BREVELCB0aGlzLm9uQXVkaW9UcmFja0xvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnRyYWNrcy5sZW5ndGggPSAwO1xuICAgIHRoaXMudHJhY2tzSW5Hcm91cC5sZW5ndGggPSAwO1xuICAgIHRoaXMuY3VycmVudFRyYWNrID0gbnVsbDtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NYW5pZmVzdExvYWRpbmcoKTogdm9pZCB7XG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLnRyYWNrc0luR3JvdXAgPSBbXTtcbiAgICB0aGlzLmdyb3VwSWRzID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRUcmFjayA9IG51bGw7XG4gICAgdGhpcy50cmFja0lkID0gLTE7XG4gICAgdGhpcy5zZWxlY3REZWZhdWx0VHJhY2sgPSB0cnVlO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWFuaWZlc3RQYXJzZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsXG4gICAgZGF0YTogTWFuaWZlc3RQYXJzZWREYXRhLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3MgfHwgW107XG4gIH1cblxuICBwcm90ZWN0ZWQgb25BdWRpb1RyYWNrTG9hZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuQVVESU9fVFJBQ0tfTE9BREVELFxuICAgIGRhdGE6IEF1ZGlvVHJhY2tMb2FkZWREYXRhLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IGlkLCBncm91cElkLCBkZXRhaWxzIH0gPSBkYXRhO1xuICAgIGNvbnN0IHRyYWNrSW5BY3RpdmVHcm91cCA9IHRoaXMudHJhY2tzSW5Hcm91cFtpZF07XG5cbiAgICBpZiAoIXRyYWNrSW5BY3RpdmVHcm91cCB8fCB0cmFja0luQWN0aXZlR3JvdXAuZ3JvdXBJZCAhPT0gZ3JvdXBJZCkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgQXVkaW8gdHJhY2sgd2l0aCBpZDoke2lkfSBhbmQgZ3JvdXA6JHtncm91cElkfSBub3QgZm91bmQgaW4gYWN0aXZlIGdyb3VwICR7dHJhY2tJbkFjdGl2ZUdyb3VwPy5ncm91cElkfWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1ckRldGFpbHMgPSB0cmFja0luQWN0aXZlR3JvdXAuZGV0YWlscztcbiAgICB0cmFja0luQWN0aXZlR3JvdXAuZGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICB0aGlzLmxvZyhcbiAgICAgIGBBdWRpbyB0cmFjayAke2lkfSBcIiR7dHJhY2tJbkFjdGl2ZUdyb3VwLm5hbWV9XCIgbGFuZzoke3RyYWNrSW5BY3RpdmVHcm91cC5sYW5nfSBncm91cDoke2dyb3VwSWR9IGxvYWRlZCBbJHtkZXRhaWxzLnN0YXJ0U059LSR7ZGV0YWlscy5lbmRTTn1dYCxcbiAgICApO1xuXG4gICAgaWYgKGlkID09PSB0aGlzLnRyYWNrSWQpIHtcbiAgICAgIHRoaXMucGxheWxpc3RMb2FkZWQoaWQsIGRhdGEsIGN1ckRldGFpbHMpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkxldmVsTG9hZGluZyhcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX0xPQURJTkcsXG4gICAgZGF0YTogTGV2ZWxMb2FkaW5nRGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLmxldmVsKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkxldmVsU3dpdGNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxfU1dJVENISU5HLFxuICAgIGRhdGE6IExldmVsU3dpdGNoaW5nRGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLmxldmVsKTtcbiAgfVxuXG4gIHByaXZhdGUgc3dpdGNoTGV2ZWwobGV2ZWxJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGV2ZWxJbmZvID0gdGhpcy5obHMubGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgIGlmICghbGV2ZWxJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvR3JvdXBzID0gbGV2ZWxJbmZvLmF1ZGlvR3JvdXBzIHx8IG51bGw7XG4gICAgY29uc3QgY3VycmVudEdyb3VwcyA9IHRoaXMuZ3JvdXBJZHM7XG4gICAgbGV0IGN1cnJlbnRUcmFjayA9IHRoaXMuY3VycmVudFRyYWNrO1xuICAgIGlmIChcbiAgICAgICFhdWRpb0dyb3VwcyB8fFxuICAgICAgY3VycmVudEdyb3Vwcz8ubGVuZ3RoICE9PSBhdWRpb0dyb3Vwcz8ubGVuZ3RoIHx8XG4gICAgICBhdWRpb0dyb3Vwcz8uc29tZSgoZ3JvdXBJZCkgPT4gY3VycmVudEdyb3Vwcz8uaW5kZXhPZihncm91cElkKSA9PT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLmdyb3VwSWRzID0gYXVkaW9Hcm91cHM7XG4gICAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICAgIHRoaXMuY3VycmVudFRyYWNrID0gbnVsbDtcblxuICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSB0aGlzLnRyYWNrcy5maWx0ZXIoXG4gICAgICAgICh0cmFjayk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAhYXVkaW9Hcm91cHMgfHwgYXVkaW9Hcm91cHMuaW5kZXhPZih0cmFjay5ncm91cElkKSAhPT0gLTEsXG4gICAgICApO1xuICAgICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAvLyBEaXNhYmxlIHNlbGVjdERlZmF1bHRUcmFjayBpZiB0aGVyZSBhcmUgbm8gZGVmYXVsdCB0cmFja3NcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuc2VsZWN0RGVmYXVsdFRyYWNrICYmXG4gICAgICAgICAgIWF1ZGlvVHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5kZWZhdWx0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyYWNrLmlkIHNob3VsZCBtYXRjaCBobHMuYXVkaW9UcmFja3MgaW5kZXhcbiAgICAgICAgYXVkaW9UcmFja3MuZm9yRWFjaCgodHJhY2ssIGkpID0+IHtcbiAgICAgICAgICB0cmFjay5pZCA9IGk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghY3VycmVudFRyYWNrICYmICF0aGlzLnRyYWNrc0luR3JvdXAubGVuZ3RoKSB7XG4gICAgICAgIC8vIERvIG5vdCBkaXNwYXRjaCBBVURJT19UUkFDS1NfVVBEQVRFRCB3aGVuIHRoZXJlIHdlcmUgYW5kIGFyZSBubyB0cmFja3NcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFja3NJbkdyb3VwID0gYXVkaW9UcmFja3M7XG5cbiAgICAgIC8vIEZpbmQgcHJlZmVycmVkIHRyYWNrXG4gICAgICBjb25zdCBhdWRpb1ByZWZlcmVuY2UgPSB0aGlzLmhscy5jb25maWcuYXVkaW9QcmVmZXJlbmNlO1xuICAgICAgaWYgKCFjdXJyZW50VHJhY2sgJiYgYXVkaW9QcmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBmaW5kTWF0Y2hpbmdPcHRpb24oXG4gICAgICAgICAgYXVkaW9QcmVmZXJlbmNlLFxuICAgICAgICAgIGF1ZGlvVHJhY2tzLFxuICAgICAgICAgIGF1ZGlvTWF0Y2hQcmVkaWNhdGUsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChncm91cEluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjdXJyZW50VHJhY2sgPSBhdWRpb1RyYWNrc1tncm91cEluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBhbGxJbmRleCA9IGZpbmRNYXRjaGluZ09wdGlvbihhdWRpb1ByZWZlcmVuY2UsIHRoaXMudHJhY2tzKTtcbiAgICAgICAgICBjdXJyZW50VHJhY2sgPSB0aGlzLnRyYWNrc1thbGxJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IGluaXRpYWwgdHJhY2tcbiAgICAgIGxldCB0cmFja0lkID0gdGhpcy5maW5kVHJhY2tJZChjdXJyZW50VHJhY2spO1xuICAgICAgaWYgKHRyYWNrSWQgPT09IC0xICYmIGN1cnJlbnRUcmFjaykge1xuICAgICAgICB0cmFja0lkID0gdGhpcy5maW5kVHJhY2tJZChudWxsKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnRzIGFuZCBsb2FkIHRyYWNrIGlmIG5lZWRlZFxuICAgICAgY29uc3QgYXVkaW9UcmFja3NVcGRhdGVkOiBBdWRpb1RyYWNrc1VwZGF0ZWREYXRhID0geyBhdWRpb1RyYWNrcyB9O1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBVcGRhdGluZyBhdWRpbyB0cmFja3MsICR7XG4gICAgICAgICAgYXVkaW9UcmFja3MubGVuZ3RoXG4gICAgICAgIH0gdHJhY2socykgZm91bmQgaW4gZ3JvdXAocyk6ICR7YXVkaW9Hcm91cHM/LmpvaW4oJywnKX1gLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkFVRElPX1RSQUNLU19VUERBVEVELCBhdWRpb1RyYWNrc1VwZGF0ZWQpO1xuXG4gICAgICBjb25zdCBzZWxlY3RlZFRyYWNrSWQgPSB0aGlzLnRyYWNrSWQ7XG4gICAgICBpZiAodHJhY2tJZCAhPT0gLTEgJiYgc2VsZWN0ZWRUcmFja0lkID09PSAtMSkge1xuICAgICAgICB0aGlzLnNldEF1ZGlvVHJhY2sodHJhY2tJZCk7XG4gICAgICB9IGVsc2UgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCAmJiBzZWxlY3RlZFRyYWNrSWQgPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgIGBObyBhdWRpbyB0cmFjayBzZWxlY3RlZCBmb3IgY3VycmVudCBhdWRpbyBncm91cC1JRChzKTogJHt0aGlzLmdyb3VwSWRzPy5qb2luKFxuICAgICAgICAgICAgJywnLFxuICAgICAgICAgICl9IHRyYWNrIGNvdW50OiAke2F1ZGlvVHJhY2tzLmxlbmd0aH1gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLndhcm4oZXJyb3IubWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRVJST1IsIHtcbiAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX0VSUk9SLFxuICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc2hvdWxkUmVsb2FkUGxheWxpc3QoY3VycmVudFRyYWNrKSkge1xuICAgICAgLy8gUmV0cnkgcGxheWxpc3QgbG9hZGluZyBpZiBubyBwbGF5bGlzdCBpcyBvciBoYXMgYmVlbiBsb2FkZWQgeWV0XG4gICAgICB0aGlzLnNldEF1ZGlvVHJhY2sodGhpcy50cmFja0lkKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpOiB2b2lkIHtcbiAgICBpZiAoZGF0YS5mYXRhbCB8fCAhZGF0YS5jb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5jb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuQVVESU9fVFJBQ0sgJiZcbiAgICAgIGRhdGEuY29udGV4dC5pZCA9PT0gdGhpcy50cmFja0lkICYmXG4gICAgICAoIXRoaXMuZ3JvdXBJZHMgfHwgdGhpcy5ncm91cElkcy5pbmRleE9mKGRhdGEuY29udGV4dC5ncm91cElkKSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLnJlcXVlc3RTY2hlZHVsZWQgPSAtMTtcbiAgICAgIHRoaXMuY2hlY2tSZXRyeShkYXRhKTtcbiAgICB9XG4gIH1cblxuICBnZXQgYWxsQXVkaW9UcmFja3MoKTogTWVkaWFQbGF5bGlzdFtdIHtcbiAgICByZXR1cm4gdGhpcy50cmFja3M7XG4gIH1cblxuICBnZXQgYXVkaW9UcmFja3MoKTogTWVkaWFQbGF5bGlzdFtdIHtcbiAgICByZXR1cm4gdGhpcy50cmFja3NJbkdyb3VwO1xuICB9XG5cbiAgZ2V0IGF1ZGlvVHJhY2soKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50cmFja0lkO1xuICB9XG5cbiAgc2V0IGF1ZGlvVHJhY2sobmV3SWQ6IG51bWJlcikge1xuICAgIC8vIElmIGF1ZGlvIHRyYWNrIGlzIHNlbGVjdGVkIGZyb20gQVBJIHRoZW4gZG9uJ3QgY2hvb3NlIGZyb20gdGhlIG1hbmlmZXN0IGRlZmF1bHQgdHJhY2tcbiAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgIHRoaXMuc2V0QXVkaW9UcmFjayhuZXdJZCk7XG4gIH1cblxuICBwdWJsaWMgc2V0QXVkaW9PcHRpb24oXG4gICAgYXVkaW9PcHRpb246IE1lZGlhUGxheWxpc3QgfCBBdWRpb1NlbGVjdGlvbk9wdGlvbiB8IHVuZGVmaW5lZCxcbiAgKTogTWVkaWFQbGF5bGlzdCB8IG51bGwge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGhscy5jb25maWcuYXVkaW9QcmVmZXJlbmNlID0gYXVkaW9PcHRpb247XG4gICAgaWYgKGF1ZGlvT3B0aW9uKSB7XG4gICAgICBjb25zdCBhbGxBdWRpb1RyYWNrcyA9IHRoaXMuYWxsQXVkaW9UcmFja3M7XG4gICAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgICAgaWYgKGFsbEF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAvLyBGaXJzdCBzZWUgaWYgY3VycmVudCBvcHRpb24gbWF0Y2hlcyAobm8gc3dpdGNoIG9wKVxuICAgICAgICBjb25zdCBjdXJyZW50VHJhY2sgPSB0aGlzLmN1cnJlbnRUcmFjaztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGN1cnJlbnRUcmFjayAmJlxuICAgICAgICAgIG1hdGNoZXNPcHRpb24oYXVkaW9PcHRpb24sIGN1cnJlbnRUcmFjaywgYXVkaW9NYXRjaFByZWRpY2F0ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUcmFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIG9wdGlvbiBpbiBhdmFpbGFibGUgdHJhY2tzICh0cmFja3NJbkdyb3VwKVxuICAgICAgICBjb25zdCBncm91cEluZGV4ID0gZmluZE1hdGNoaW5nT3B0aW9uKFxuICAgICAgICAgIGF1ZGlvT3B0aW9uLFxuICAgICAgICAgIHRoaXMudHJhY2tzSW5Hcm91cCxcbiAgICAgICAgICBhdWRpb01hdGNoUHJlZGljYXRlLFxuICAgICAgICApO1xuICAgICAgICBpZiAoZ3JvdXBJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3QgdHJhY2sgPSB0aGlzLnRyYWNrc0luR3JvdXBbZ3JvdXBJbmRleF07XG4gICAgICAgICAgdGhpcy5zZXRBdWRpb1RyYWNrKGdyb3VwSW5kZXgpO1xuICAgICAgICAgIHJldHVybiB0cmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VHJhY2spIHtcbiAgICAgICAgICAvLyBGaW5kIG9wdGlvbiBpbiBuZWFyZXN0IGxldmVsIGF1ZGlvIGdyb3VwXG4gICAgICAgICAgbGV0IHNlYXJjaEluZGV4ID0gaGxzLmxvYWRMZXZlbDtcbiAgICAgICAgICBpZiAoc2VhcmNoSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBzZWFyY2hJbmRleCA9IGhscy5maXJzdEF1dG9MZXZlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3dpdGNoSW5kZXggPSBmaW5kQ2xvc2VzdExldmVsV2l0aEF1ZGlvR3JvdXAoXG4gICAgICAgICAgICBhdWRpb09wdGlvbixcbiAgICAgICAgICAgIGhscy5sZXZlbHMsXG4gICAgICAgICAgICBhbGxBdWRpb1RyYWNrcyxcbiAgICAgICAgICAgIHNlYXJjaEluZGV4LFxuICAgICAgICAgICAgYXVkaW9NYXRjaFByZWRpY2F0ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChzd2l0Y2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGNvdWxkIG5vdCBmaW5kIG1hdGNoaW5nIHZhcmlhbnRcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBhbmQgc3dpdGNoIGxldmVsIHRvIGFjaGVpdmUgdGhlIGF1ZGlvIGdyb3VwIHN3aXRjaFxuICAgICAgICAgIGhscy5uZXh0TG9hZExldmVsID0gc3dpdGNoSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1ZGlvT3B0aW9uLmNoYW5uZWxzIHx8IGF1ZGlvT3B0aW9uLmF1ZGlvQ29kZWMpIHtcbiAgICAgICAgICAvLyBDb3VsZCBub3QgZmluZCBhIG1hdGNoIHdpdGggY29kZWMgLyBjaGFubmVscyBwcmVkaWNhdGVcbiAgICAgICAgICAvLyBGaW5kIGEgbWF0Y2ggd2l0aG91dCBjaGFubmVscyBvciBjb2RlY1xuICAgICAgICAgIGNvbnN0IHdpdGhvdXRDb2RlY0FuZENoYW5uZWxzTWF0Y2ggPSBmaW5kTWF0Y2hpbmdPcHRpb24oXG4gICAgICAgICAgICBhdWRpb09wdGlvbixcbiAgICAgICAgICAgIGFsbEF1ZGlvVHJhY2tzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHdpdGhvdXRDb2RlY0FuZENoYW5uZWxzTWF0Y2ggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsbEF1ZGlvVHJhY2tzW3dpdGhvdXRDb2RlY0FuZENoYW5uZWxzTWF0Y2hdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgc2V0QXVkaW9UcmFjayhuZXdJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdHJhY2tzID0gdGhpcy50cmFja3NJbkdyb3VwO1xuXG4gICAgLy8gY2hlY2sgaWYgbGV2ZWwgaWR4IGlzIHZhbGlkXG4gICAgaWYgKG5ld0lkIDwgMCB8fCBuZXdJZCA+PSB0cmFja3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm4oYEludmFsaWQgYXVkaW8gdHJhY2sgaWQ6ICR7bmV3SWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG5cbiAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgIGNvbnN0IGxhc3RUcmFjayA9IHRoaXMuY3VycmVudFRyYWNrO1xuICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzW25ld0lkXTtcbiAgICBjb25zdCB0cmFja0xvYWRlZCA9IHRyYWNrLmRldGFpbHMgJiYgIXRyYWNrLmRldGFpbHMubGl2ZTtcbiAgICBpZiAobmV3SWQgPT09IHRoaXMudHJhY2tJZCAmJiB0cmFjayA9PT0gbGFzdFRyYWNrICYmIHRyYWNrTG9hZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nKFxuICAgICAgYFN3aXRjaGluZyB0byBhdWRpby10cmFjayAke25ld0lkfSBcIiR7dHJhY2submFtZX1cIiBsYW5nOiR7dHJhY2subGFuZ30gZ3JvdXA6JHt0cmFjay5ncm91cElkfSBjaGFubmVsczoke3RyYWNrLmNoYW5uZWxzfWAsXG4gICAgKTtcbiAgICB0aGlzLnRyYWNrSWQgPSBuZXdJZDtcbiAgICB0aGlzLmN1cnJlbnRUcmFjayA9IHRyYWNrO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSElORywgeyAuLi50cmFjayB9KTtcbiAgICAvLyBEbyBub3QgcmVsb2FkIHRyYWNrIHVubGVzcyBsaXZlXG4gICAgaWYgKHRyYWNrTG9hZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhsc1VybFBhcmFtZXRlcnMgPSB0aGlzLnN3aXRjaFBhcmFtcyhcbiAgICAgIHRyYWNrLnVybCxcbiAgICAgIGxhc3RUcmFjaz8uZGV0YWlscyxcbiAgICAgIHRyYWNrLmRldGFpbHMsXG4gICAgKTtcbiAgICB0aGlzLmxvYWRQbGF5bGlzdChobHNVcmxQYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFRyYWNrSWQoY3VycmVudFRyYWNrOiBNZWRpYVBsYXlsaXN0IHwgbnVsbCk6IG51bWJlciB7XG4gICAgY29uc3QgYXVkaW9UcmFja3MgPSB0aGlzLnRyYWNrc0luR3JvdXA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdWRpb1RyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdHJhY2sgPSBhdWRpb1RyYWNrc1tpXTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdERlZmF1bHRUcmFjayAmJiAhdHJhY2suZGVmYXVsdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgIWN1cnJlbnRUcmFjayB8fFxuICAgICAgICBtYXRjaGVzT3B0aW9uKGN1cnJlbnRUcmFjaywgdHJhY2ssIGF1ZGlvTWF0Y2hQcmVkaWNhdGUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50VHJhY2spIHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgbGFuZywgYXNzb2NMYW5nLCBjaGFyYWN0ZXJpc3RpY3MsIGF1ZGlvQ29kZWMsIGNoYW5uZWxzIH0gPVxuICAgICAgICBjdXJyZW50VHJhY2s7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1ZGlvVHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gYXVkaW9UcmFja3NbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBtYXRjaGVzT3B0aW9uKFxuICAgICAgICAgICAgeyBuYW1lLCBsYW5nLCBhc3NvY0xhbmcsIGNoYXJhY3RlcmlzdGljcywgYXVkaW9Db2RlYywgY2hhbm5lbHMgfSxcbiAgICAgICAgICAgIHRyYWNrLFxuICAgICAgICAgICAgYXVkaW9NYXRjaFByZWRpY2F0ZSxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1ZGlvVHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gYXVkaW9UcmFja3NbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwoY3VycmVudFRyYWNrLmF0dHJzLCB0cmFjay5hdHRycywgW1xuICAgICAgICAgICAgJ0xBTkdVQUdFJyxcbiAgICAgICAgICAgICdBU1NPQy1MQU5HVUFHRScsXG4gICAgICAgICAgICAnQ0hBUkFDVEVSSVNUSUNTJyxcbiAgICAgICAgICBdKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdWRpb1RyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0cmFjayA9IGF1ZGlvVHJhY2tzW2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbWVkaWFBdHRyaWJ1dGVzSWRlbnRpY2FsKGN1cnJlbnRUcmFjay5hdHRycywgdHJhY2suYXR0cnMsIFtcbiAgICAgICAgICAgICdMQU5HVUFHRScsXG4gICAgICAgICAgXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcHJvdGVjdGVkIGxvYWRQbGF5bGlzdChobHNVcmxQYXJhbWV0ZXJzPzogSGxzVXJsUGFyYW1ldGVycyk6IHZvaWQge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSB0aGlzLmN1cnJlbnRUcmFjaztcbiAgICBpZiAodGhpcy5zaG91bGRMb2FkUGxheWxpc3QoYXVkaW9UcmFjaykgJiYgYXVkaW9UcmFjaykge1xuICAgICAgc3VwZXIubG9hZFBsYXlsaXN0KCk7XG4gICAgICBjb25zdCBpZCA9IGF1ZGlvVHJhY2suaWQ7XG4gICAgICBjb25zdCBncm91cElkID0gYXVkaW9UcmFjay5ncm91cElkIGFzIHN0cmluZztcbiAgICAgIGxldCB1cmwgPSBhdWRpb1RyYWNrLnVybDtcbiAgICAgIGlmIChobHNVcmxQYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdXJsID0gaGxzVXJsUGFyYW1ldGVycy5hZGREaXJlY3RpdmVzKHVybCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgICAgYENvdWxkIG5vdCBjb25zdHJ1Y3QgbmV3IFVSTCB3aXRoIEhMUyBEZWxpdmVyeSBEaXJlY3RpdmVzOiAke2Vycm9yfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBsb2FkaW5nIGF1ZGlvLXRyYWNrIHBsYXlsaXN0ICR7aWR9IFwiJHthdWRpb1RyYWNrLm5hbWV9XCIgbGFuZzoke2F1ZGlvVHJhY2subGFuZ30gZ3JvdXA6JHtncm91cElkfWAsXG4gICAgICApO1xuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5BVURJT19UUkFDS19MT0FESU5HLCB7XG4gICAgICAgIHVybCxcbiAgICAgICAgaWQsXG4gICAgICAgIGdyb3VwSWQsXG4gICAgICAgIGRlbGl2ZXJ5RGlyZWN0aXZlczogaGxzVXJsUGFyYW1ldGVycyB8fCBudWxsLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF1ZGlvVHJhY2tDb250cm9sbGVyO1xuIiwgImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBCdWZmZXJhYmxlLCBCdWZmZXJIZWxwZXIgfSBmcm9tICcuLi91dGlscy9idWZmZXItaGVscGVyJztcbmltcG9ydCB7IGZpbmRGcmFnbWVudEJ5UFRTIH0gZnJvbSAnLi9mcmFnbWVudC1maW5kZXJzJztcbmltcG9ydCB7IGFsaWduTWVkaWFQbGF5bGlzdEJ5UERUIH0gZnJvbSAnLi4vdXRpbHMvZGlzY29udGludWl0aWVzJztcbmltcG9ydCB7IGFkZFNsaWRpbmcgfSBmcm9tICcuLi91dGlscy9sZXZlbC1oZWxwZXInO1xuaW1wb3J0IHsgRnJhZ21lbnRTdGF0ZSB9IGZyb20gJy4vZnJhZ21lbnQtdHJhY2tlcic7XG5pbXBvcnQgQmFzZVN0cmVhbUNvbnRyb2xsZXIsIHsgU3RhdGUgfSBmcm9tICcuL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgeyBzdWJ0aXRsZU9wdGlvbnNJZGVudGljYWwgfSBmcm9tICcuLi91dGlscy9tZWRpYS1vcHRpb24tYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBFcnJvckRldGFpbHMsIEVycm9yVHlwZXMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnRUcmFja2VyIH0gZnJvbSAnLi9mcmFnbWVudC10cmFja2VyJztcbmltcG9ydCB0eXBlIEtleUxvYWRlciBmcm9tICcuLi9sb2FkZXIva2V5LWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUge1xuICBFcnJvckRhdGEsXG4gIEZyYWdMb2FkZWREYXRhLFxuICBTdWJ0aXRsZUZyYWdQcm9jZXNzZWQsXG4gIFN1YnRpdGxlVHJhY2tzVXBkYXRlZERhdGEsXG4gIFRyYWNrTG9hZGVkRGF0YSxcbiAgVHJhY2tTd2l0Y2hlZERhdGEsXG4gIEJ1ZmZlckZsdXNoaW5nRGF0YSxcbiAgTGV2ZWxMb2FkZWREYXRhLFxuICBGcmFnQnVmZmVyZWREYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuXG5jb25zdCBUSUNLX0lOVEVSVkFMID0gNTAwOyAvLyBob3cgb2Z0ZW4gdG8gdGljayBpbiBtc1xuXG5pbnRlcmZhY2UgVGltZVJhbmdlIHtcbiAgc3RhcnQ6IG51bWJlcjtcbiAgZW5kOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXJcbiAgZXh0ZW5kcyBCYXNlU3RyZWFtQ29udHJvbGxlclxuICBpbXBsZW1lbnRzIE5ldHdvcmtDb21wb25lbnRBUElcbntcbiAgcHJpdmF0ZSBjdXJyZW50VHJhY2tJZDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgdHJhY2tzQnVmZmVyZWQ6IEFycmF5PFRpbWVSYW5nZVtdPiA9IFtdO1xuICBwcml2YXRlIG1haW5EZXRhaWxzOiBMZXZlbERldGFpbHMgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBobHM6IEhscyxcbiAgICBmcmFnbWVudFRyYWNrZXI6IEZyYWdtZW50VHJhY2tlcixcbiAgICBrZXlMb2FkZXI6IEtleUxvYWRlcixcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBobHMsXG4gICAgICBmcmFnbWVudFRyYWNrZXIsXG4gICAgICBrZXlMb2FkZXIsXG4gICAgICAnW3N1YnRpdGxlLXN0cmVhbS1jb250cm9sbGVyXScsXG4gICAgICBQbGF5bGlzdExldmVsVHlwZS5TVUJUSVRMRSxcbiAgICApO1xuICAgIHRoaXMuX3JlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25IYW5kbGVyRGVzdHJveWluZygpIHtcbiAgICB0aGlzLl91bnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgc3VwZXIub25IYW5kbGVyRGVzdHJveWluZygpO1xuICAgIHRoaXMubWFpbkRldGFpbHMgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9uKEV2ZW50cy5NRURJQV9BVFRBQ0hFRCwgdGhpcy5vbk1lZGlhQXR0YWNoZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCB0aGlzLm9uU3VidGl0bGVUcmFja3NVcGRhdGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgdGhpcy5vblN1YnRpdGxlVHJhY2tTd2l0Y2gsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuU1VCVElUTEVfVFJBQ0tfTE9BREVELCB0aGlzLm9uU3VidGl0bGVUcmFja0xvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwgdGhpcy5vblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfRkxVU0hJTkcsIHRoaXMub25CdWZmZXJGbHVzaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX0JVRkZFUkVELCB0aGlzLm9uRnJhZ0J1ZmZlcmVkLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NRURJQV9ERVRBQ0hJTkcsIHRoaXMub25NZWRpYURldGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTEVWRUxfTE9BREVELCB0aGlzLm9uTGV2ZWxMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCB0aGlzLm9uU3VidGl0bGVUcmFja3NVcGRhdGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5TVUJUSVRMRV9UUkFDS19TV0lUQ0gsIHRoaXMub25TdWJ0aXRsZVRyYWNrU3dpdGNoLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5TVUJUSVRMRV9UUkFDS19MT0FERUQsIHRoaXMub25TdWJ0aXRsZVRyYWNrTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwgdGhpcy5vblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQlVGRkVSX0ZMVVNISU5HLCB0aGlzLm9uQnVmZmVyRmx1c2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfQlVGRkVSRUQsIHRoaXMub25GcmFnQnVmZmVyZWQsIHRoaXMpO1xuICB9XG5cbiAgc3RhcnRMb2FkKHN0YXJ0UG9zaXRpb246IG51bWJlcikge1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcblxuICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG5cbiAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPVxuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID1cbiAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID1cbiAgICAgICAgc3RhcnRQb3NpdGlvbjtcblxuICAgIHRoaXMudGljaygpO1xuICB9XG5cbiAgb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5tYWluRGV0YWlscyA9IG51bGw7XG4gICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gIH1cblxuICBvbk1lZGlhRGV0YWNoaW5nKCk6IHZvaWQge1xuICAgIHRoaXMudHJhY2tzQnVmZmVyZWQgPSBbXTtcbiAgICBzdXBlci5vbk1lZGlhRGV0YWNoaW5nKCk7XG4gIH1cblxuICBvbkxldmVsTG9hZGVkKGV2ZW50OiBFdmVudHMuTEVWRUxfTE9BREVELCBkYXRhOiBMZXZlbExvYWRlZERhdGEpIHtcbiAgICB0aGlzLm1haW5EZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICB9XG5cbiAgb25TdWJ0aXRsZUZyYWdQcm9jZXNzZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCxcbiAgICBkYXRhOiBTdWJ0aXRsZUZyYWdQcm9jZXNzZWQsXG4gICkge1xuICAgIGNvbnN0IHsgZnJhZywgc3VjY2VzcyB9ID0gZGF0YTtcbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyZWQgPSB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdO1xuICAgIGlmICghYnVmZmVyZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUvdXBkYXRlIGEgYnVmZmVyZWQgYXJyYXkgbWF0Y2hpbmcgdGhlIGludGVyZmFjZSB1c2VkIGJ5IEJ1ZmZlckhlbHBlci5idWZmZXJlZEluZm9cbiAgICAvLyBzbyB3ZSBjYW4gcmUtdXNlIHRoZSBsb2dpYyB1c2VkIHRvIGRldGVjdCBob3cgbXVjaCBoYXMgYmVlbiBidWZmZXJlZFxuICAgIGxldCB0aW1lUmFuZ2U6IFRpbWVSYW5nZSB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBmcmFnU3RhcnQgPSBmcmFnLnN0YXJ0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChmcmFnU3RhcnQgPj0gYnVmZmVyZWRbaV0uc3RhcnQgJiYgZnJhZ1N0YXJ0IDw9IGJ1ZmZlcmVkW2ldLmVuZCkge1xuICAgICAgICB0aW1lUmFuZ2UgPSBidWZmZXJlZFtpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZnJhZ0VuZCA9IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgIGlmICh0aW1lUmFuZ2UpIHtcbiAgICAgIHRpbWVSYW5nZS5lbmQgPSBmcmFnRW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lUmFuZ2UgPSB7XG4gICAgICAgIHN0YXJ0OiBmcmFnU3RhcnQsXG4gICAgICAgIGVuZDogZnJhZ0VuZCxcbiAgICAgIH07XG4gICAgICBidWZmZXJlZC5wdXNoKHRpbWVSYW5nZSk7XG4gICAgfVxuICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLmZyYWdCdWZmZXJlZChmcmFnKTtcbiAgICB0aGlzLmZyYWdCdWZmZXJlZENvbXBsZXRlKGZyYWcsIG51bGwpO1xuICB9XG5cbiAgb25CdWZmZXJGbHVzaGluZyhldmVudDogRXZlbnRzLkJVRkZFUl9GTFVTSElORywgZGF0YTogQnVmZmVyRmx1c2hpbmdEYXRhKSB7XG4gICAgY29uc3QgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0IH0gPSBkYXRhO1xuICAgIGlmIChzdGFydE9mZnNldCA9PT0gMCAmJiBlbmRPZmZzZXQgIT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgY29uc3QgZW5kT2Zmc2V0U3VidGl0bGVzID0gZW5kT2Zmc2V0IC0gMTtcbiAgICAgIGlmIChlbmRPZmZzZXRTdWJ0aXRsZXMgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLmVuZE9mZnNldFN1YnRpdGxlcyA9IE1hdGgubWF4KDAsIGVuZE9mZnNldFN1YnRpdGxlcyk7XG4gICAgICB0aGlzLnRyYWNrc0J1ZmZlcmVkLmZvckVhY2goKGJ1ZmZlcmVkKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyApIHtcbiAgICAgICAgICBpZiAoYnVmZmVyZWRbaV0uZW5kIDw9IGVuZE9mZnNldFN1YnRpdGxlcykge1xuICAgICAgICAgICAgYnVmZmVyZWQuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnVmZmVyZWRbaV0uc3RhcnQgPCBlbmRPZmZzZXRTdWJ0aXRsZXMpIHtcbiAgICAgICAgICAgIGJ1ZmZlcmVkW2ldLnN0YXJ0ID0gZW5kT2Zmc2V0U3VidGl0bGVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50c0luUmFuZ2UoXG4gICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICBlbmRPZmZzZXRTdWJ0aXRsZXMsXG4gICAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLlNVQlRJVExFLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbkZyYWdCdWZmZXJlZChldmVudDogRXZlbnRzLkZSQUdfQlVGRkVSRUQsIGRhdGE6IEZyYWdCdWZmZXJlZERhdGEpIHtcbiAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEgJiYgZGF0YS5mcmFnLnR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4pIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhPy5idWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgc29tZXRoaW5nIGdvZXMgd3JvbmcsIHByb2NlZWQgdG8gbmV4dCBmcmFnLCBpZiB3ZSB3ZXJlIHByb2Nlc3Npbmcgb25lLlxuICBvbkVycm9yKGV2ZW50OiBFdmVudHMuRVJST1IsIGRhdGE6IEVycm9yRGF0YSkge1xuICAgIGNvbnN0IGZyYWcgPSBkYXRhLmZyYWc7XG5cbiAgICBpZiAoZnJhZz8udHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuU1VCVElUTEUpIHtcbiAgICAgIGlmIChkYXRhLmRldGFpbHMgPT09IEVycm9yRGV0YWlscy5GUkFHX0dBUCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5mcmFnQnVmZmVyZWQoZnJhZywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mcmFnQ3VycmVudCkge1xuICAgICAgICB0aGlzLmZyYWdDdXJyZW50LmFib3J0UmVxdWVzdHMoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTdGF0ZS5TVE9QUEVEKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEdvdCBhbGwgbmV3IHN1YnRpdGxlIGxldmVscy5cbiAgb25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCxcbiAgICB7IHN1YnRpdGxlVHJhY2tzIH06IFN1YnRpdGxlVHJhY2tzVXBkYXRlZERhdGEsXG4gICkge1xuICAgIGlmICh0aGlzLmxldmVscyAmJiBzdWJ0aXRsZU9wdGlvbnNJZGVudGljYWwodGhpcy5sZXZlbHMsIHN1YnRpdGxlVHJhY2tzKSkge1xuICAgICAgdGhpcy5sZXZlbHMgPSBzdWJ0aXRsZVRyYWNrcy5tYXAoXG4gICAgICAgIChtZWRpYVBsYXlsaXN0KSA9PiBuZXcgTGV2ZWwobWVkaWFQbGF5bGlzdCksXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRyYWNrc0J1ZmZlcmVkID0gW107XG4gICAgdGhpcy5sZXZlbHMgPSBzdWJ0aXRsZVRyYWNrcy5tYXAoKG1lZGlhUGxheWxpc3QpID0+IHtcbiAgICAgIGNvbnN0IGxldmVsID0gbmV3IExldmVsKG1lZGlhUGxheWxpc3QpO1xuICAgICAgdGhpcy50cmFja3NCdWZmZXJlZFtsZXZlbC5pZF0gPSBbXTtcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9KTtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudHNJblJhbmdlKFxuICAgICAgMCxcbiAgICAgIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLlNVQlRJVExFLFxuICAgICk7XG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgIHRoaXMubWVkaWFCdWZmZXIgPSBudWxsO1xuICB9XG5cbiAgb25TdWJ0aXRsZVRyYWNrU3dpdGNoKFxuICAgIGV2ZW50OiBFdmVudHMuU1VCVElUTEVfVFJBQ0tfU1dJVENILFxuICAgIGRhdGE6IFRyYWNrU3dpdGNoZWREYXRhLFxuICApIHtcbiAgICB0aGlzLmN1cnJlbnRUcmFja0lkID0gZGF0YS5pZDtcblxuICAgIGlmICghdGhpcy5sZXZlbHM/Lmxlbmd0aCB8fCB0aGlzLmN1cnJlbnRUcmFja0lkID09PSAtMSkge1xuICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdHJhY2sgaGFzIHRoZSBuZWNlc3NhcnkgZGV0YWlscyB0byBsb2FkIGZyYWdtZW50c1xuICAgIGNvbnN0IGN1cnJlbnRUcmFjayA9IHRoaXMubGV2ZWxzW3RoaXMuY3VycmVudFRyYWNrSWRdO1xuICAgIGlmIChjdXJyZW50VHJhY2s/LmRldGFpbHMpIHtcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhQnVmZmVyVGltZVJhbmdlcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VHJhY2spIHtcbiAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgfVxuICB9XG5cbiAgLy8gR290IGEgbmV3IHNldCBvZiBzdWJ0aXRsZSBmcmFnbWVudHMuXG4gIG9uU3VidGl0bGVUcmFja0xvYWRlZChcbiAgICBldmVudDogRXZlbnRzLlNVQlRJVExFX1RSQUNLX0xPQURFRCxcbiAgICBkYXRhOiBUcmFja0xvYWRlZERhdGEsXG4gICkge1xuICAgIGNvbnN0IHsgY3VycmVudFRyYWNrSWQsIGxldmVscyB9ID0gdGhpcztcbiAgICBjb25zdCB7IGRldGFpbHM6IG5ld0RldGFpbHMsIGlkOiB0cmFja0lkIH0gPSBkYXRhO1xuICAgIGlmICghbGV2ZWxzKSB7XG4gICAgICB0aGlzLndhcm4oYFN1YnRpdGxlIHRyYWNrcyB3ZXJlIHJlc2V0IHdoaWxlIGxvYWRpbmcgbGV2ZWwgJHt0cmFja0lkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFjazogTGV2ZWwgPSBsZXZlbHNbdHJhY2tJZF07XG4gICAgaWYgKHRyYWNrSWQgPj0gbGV2ZWxzLmxlbmd0aCB8fCAhdHJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sb2coXG4gICAgICBgU3VidGl0bGUgdHJhY2sgJHt0cmFja0lkfSBsb2FkZWQgWyR7bmV3RGV0YWlscy5zdGFydFNOfSwke1xuICAgICAgICBuZXdEZXRhaWxzLmVuZFNOXG4gICAgICB9XSR7XG4gICAgICAgIG5ld0RldGFpbHMubGFzdFBhcnRTblxuICAgICAgICAgID8gYFtwYXJ0LSR7bmV3RGV0YWlscy5sYXN0UGFydFNufS0ke25ld0RldGFpbHMubGFzdFBhcnRJbmRleH1dYFxuICAgICAgICAgIDogJydcbiAgICAgIH0sZHVyYXRpb246JHtuZXdEZXRhaWxzLnRvdGFsZHVyYXRpb259YCxcbiAgICApO1xuICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhQnVmZmVyVGltZVJhbmdlcztcbiAgICBsZXQgc2xpZGluZyA9IDA7XG4gICAgaWYgKG5ld0RldGFpbHMubGl2ZSB8fCB0cmFjay5kZXRhaWxzPy5saXZlKSB7XG4gICAgICBjb25zdCBtYWluRGV0YWlscyA9IHRoaXMubWFpbkRldGFpbHM7XG4gICAgICBpZiAobmV3RGV0YWlscy5kZWx0YVVwZGF0ZUZhaWxlZCB8fCAhbWFpbkRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbWFpblNsaWRpbmdTdGFydEZyYWdtZW50ID0gbWFpbkRldGFpbHMuZnJhZ21lbnRzWzBdO1xuICAgICAgaWYgKCF0cmFjay5kZXRhaWxzKSB7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSAmJiBtYWluRGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICAgICAgICBhbGlnbk1lZGlhUGxheWxpc3RCeVBEVChuZXdEZXRhaWxzLCBtYWluRGV0YWlscyk7XG4gICAgICAgICAgc2xpZGluZyA9IG5ld0RldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgICB9IGVsc2UgaWYgKG1haW5TbGlkaW5nU3RhcnRGcmFnbWVudCkge1xuICAgICAgICAgIC8vIGxpbmUgdXAgbGl2ZSBwbGF5bGlzdCB3aXRoIG1haW4gc28gdGhhdCBmcmFnbWVudHMgaW4gcmFuZ2UgYXJlIGxvYWRlZFxuICAgICAgICAgIHNsaWRpbmcgPSBtYWluU2xpZGluZ1N0YXJ0RnJhZ21lbnQuc3RhcnQ7XG4gICAgICAgICAgYWRkU2xpZGluZyhuZXdEZXRhaWxzLCBzbGlkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGluZyA9IHRoaXMuYWxpZ25QbGF5bGlzdHMoXG4gICAgICAgICAgbmV3RGV0YWlscyxcbiAgICAgICAgICB0cmFjay5kZXRhaWxzLFxuICAgICAgICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkPy5kZXRhaWxzLFxuICAgICAgICApO1xuICAgICAgICBpZiAoc2xpZGluZyA9PT0gMCAmJiBtYWluU2xpZGluZ1N0YXJ0RnJhZ21lbnQpIHtcbiAgICAgICAgICAvLyByZWFsaWduIHdpdGggbWFpbiB3aGVuIHRoZXJlIGlzIG5vIG92ZXJsYXAgd2l0aCBsYXN0IHJlZnJlc2hcbiAgICAgICAgICBzbGlkaW5nID0gbWFpblNsaWRpbmdTdGFydEZyYWdtZW50LnN0YXJ0O1xuICAgICAgICAgIGFkZFNsaWRpbmcobmV3RGV0YWlscywgc2xpZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdHJhY2suZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgdGhpcy5sZXZlbExhc3RMb2FkZWQgPSB0cmFjaztcblxuICAgIGlmICh0cmFja0lkICE9PSBjdXJyZW50VHJhY2tJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgJiYgKHRoaXMubWFpbkRldGFpbHMgfHwgIW5ld0RldGFpbHMubGl2ZSkpIHtcbiAgICAgIHRoaXMuc2V0U3RhcnRQb3NpdGlvbih0aGlzLm1haW5EZXRhaWxzIHx8IG5ld0RldGFpbHMsIHNsaWRpbmcpO1xuICAgIH1cblxuICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICB0aGlzLnRpY2soKTtcblxuICAgIC8vIElmIHBsYXlsaXN0IGlzIG1pc2FsaWduZWQgYmVjYXVzZSBvZiBiYWQgUERUIG9yIGRyaWZ0LCBkZWxldGUgZGV0YWlscyB0byByZXN5bmMgd2l0aCBtYWluIG9uIHJlbG9hZFxuICAgIGlmIChcbiAgICAgIG5ld0RldGFpbHMubGl2ZSAmJlxuICAgICAgIXRoaXMuZnJhZ0N1cnJlbnQgJiZcbiAgICAgIHRoaXMubWVkaWEgJiZcbiAgICAgIHRoaXMuc3RhdGUgPT09IFN0YXRlLklETEVcbiAgICApIHtcbiAgICAgIGNvbnN0IGZvdW5kRnJhZyA9IGZpbmRGcmFnbWVudEJ5UFRTKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdEZXRhaWxzLmZyYWdtZW50cyxcbiAgICAgICAgdGhpcy5tZWRpYS5jdXJyZW50VGltZSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgICBpZiAoIWZvdW5kRnJhZykge1xuICAgICAgICB0aGlzLndhcm4oJ1N1YnRpdGxlIHBsYXlsaXN0IG5vdCBhbGlnbmVkIHdpdGggcGxheWJhY2snKTtcbiAgICAgICAgdHJhY2suZGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRnJhZ21lbnRMb2FkQ29tcGxldGUoZnJhZ0xvYWRlZERhdGE6IEZyYWdMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgeyBmcmFnLCBwYXlsb2FkIH0gPSBmcmFnTG9hZGVkRGF0YTtcbiAgICBjb25zdCBkZWNyeXB0RGF0YSA9IGZyYWcuZGVjcnlwdGRhdGE7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG5cbiAgICBpZiAodGhpcy5mcmFnQ29udGV4dENoYW5nZWQoZnJhZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoZSBwYXlsb2FkIG5lZWRzIHRvIGJlIGRlY3J5cHRlZFxuICAgIGlmIChcbiAgICAgIHBheWxvYWQgJiZcbiAgICAgIHBheWxvYWQuYnl0ZUxlbmd0aCA+IDAgJiZcbiAgICAgIGRlY3J5cHREYXRhPy5rZXkgJiZcbiAgICAgIGRlY3J5cHREYXRhLml2ICYmXG4gICAgICBkZWNyeXB0RGF0YS5tZXRob2QgPT09ICdBRVMtMTI4J1xuICAgICkge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAvLyBkZWNyeXB0IHRoZSBzdWJ0aXRsZXNcbiAgICAgIHRoaXMuZGVjcnlwdGVyXG4gICAgICAgIC5kZWNyeXB0KFxuICAgICAgICAgIG5ldyBVaW50OEFycmF5KHBheWxvYWQpLFxuICAgICAgICAgIGRlY3J5cHREYXRhLmtleS5idWZmZXIsXG4gICAgICAgICAgZGVjcnlwdERhdGEuaXYuYnVmZmVyLFxuICAgICAgICApXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkZSQUdfREVDUllQVF9FUlJPUixcbiAgICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICByZWFzb246IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkZWNyeXB0ZWREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5GUkFHX0RFQ1JZUFRFRCwge1xuICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgIHBheWxvYWQ6IGRlY3J5cHRlZERhdGEsXG4gICAgICAgICAgICBzdGF0czoge1xuICAgICAgICAgICAgICB0c3RhcnQ6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgdGRlY3J5cHQ6IGVuZFRpbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMud2FybihgJHtlcnIubmFtZX06ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRvVGljaygpIHtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5JRExFKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRUcmFja0lkLCBsZXZlbHMgfSA9IHRoaXM7XG4gICAgICBjb25zdCB0cmFjayA9IGxldmVscz8uW2N1cnJlbnRUcmFja0lkXTtcbiAgICAgIGlmICghdHJhY2sgfHwgIWxldmVscy5sZW5ndGggfHwgIXRyYWNrLmRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXM7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IHRoaXMuZ2V0TG9hZFBvc2l0aW9uKCk7XG4gICAgICBjb25zdCBidWZmZXJlZEluZm8gPSBCdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvKFxuICAgICAgICB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdIHx8IFtdLFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgY29uZmlnLm1heEJ1ZmZlckhvbGUsXG4gICAgICApO1xuICAgICAgY29uc3QgeyBlbmQ6IHRhcmdldEJ1ZmZlclRpbWUsIGxlbjogYnVmZmVyTGVuIH0gPSBidWZmZXJlZEluZm87XG5cbiAgICAgIGNvbnN0IG1haW5CdWZmZXJJbmZvID0gdGhpcy5nZXRGd2RCdWZmZXJJbmZvKFxuICAgICAgICB0aGlzLm1lZGlhLFxuICAgICAgICBQbGF5bGlzdExldmVsVHlwZS5NQUlOLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRyYWNrRGV0YWlscyA9IHRyYWNrLmRldGFpbHMgYXMgTGV2ZWxEZXRhaWxzO1xuICAgICAgY29uc3QgbWF4QnVmTGVuID1cbiAgICAgICAgdGhpcy5nZXRNYXhCdWZmZXJMZW5ndGgobWFpbkJ1ZmZlckluZm8/LmxlbikgK1xuICAgICAgICB0cmFja0RldGFpbHMubGV2ZWxUYXJnZXREdXJhdGlvbjtcblxuICAgICAgaWYgKGJ1ZmZlckxlbiA+IG1heEJ1Zkxlbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzO1xuICAgICAgY29uc3QgZnJhZ0xlbiA9IGZyYWdtZW50cy5sZW5ndGg7XG4gICAgICBjb25zdCBlbmQgPSB0cmFja0RldGFpbHMuZWRnZTtcblxuICAgICAgbGV0IGZvdW5kRnJhZzogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgICAgIGNvbnN0IGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzO1xuICAgICAgaWYgKHRhcmdldEJ1ZmZlclRpbWUgPCBlbmQpIHtcbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgIGNvbnN0IGxvb2t1cFRvbGVyYW5jZSA9XG4gICAgICAgICAgdGFyZ2V0QnVmZmVyVGltZSA+IGVuZCAtIHRvbGVyYW5jZSA/IDAgOiB0b2xlcmFuY2U7XG4gICAgICAgIGZvdW5kRnJhZyA9IGZpbmRGcmFnbWVudEJ5UFRTKFxuICAgICAgICAgIGZyYWdQcmV2aW91cyxcbiAgICAgICAgICBmcmFnbWVudHMsXG4gICAgICAgICAgTWF0aC5tYXgoZnJhZ21lbnRzWzBdLnN0YXJ0LCB0YXJnZXRCdWZmZXJUaW1lKSxcbiAgICAgICAgICBsb29rdXBUb2xlcmFuY2UsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhZm91bmRGcmFnICYmXG4gICAgICAgICAgZnJhZ1ByZXZpb3VzICYmXG4gICAgICAgICAgZnJhZ1ByZXZpb3VzLnN0YXJ0IDwgZnJhZ21lbnRzWzBdLnN0YXJ0XG4gICAgICAgICkge1xuICAgICAgICAgIGZvdW5kRnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm91bmRGcmFnID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXTtcbiAgICAgIH1cbiAgICAgIGlmICghZm91bmRGcmFnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvdW5kRnJhZyA9IHRoaXMubWFwVG9Jbml0RnJhZ1doZW5SZXF1aXJlZChmb3VuZEZyYWcpIGFzIEZyYWdtZW50O1xuICAgICAgaWYgKGZvdW5kRnJhZy5zbiAhPT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgICAvLyBMb2FkIGVhcmxpZXIgZnJhZ21lbnQgaW4gc2FtZSBkaXNjb250aW51aXR5IHRvIG1ha2UgdXAgZm9yIG1pc2FsaWduZWQgcGxheWxpc3RzIGFuZCBjdWVzIHRoYXQgZXh0ZW5kIGJleW9uZCBlbmQgb2Ygc2VnbWVudFxuICAgICAgICBjb25zdCBjdXJTTklkeCA9IGZvdW5kRnJhZy5zbiAtIHRyYWNrRGV0YWlscy5zdGFydFNOO1xuICAgICAgICBjb25zdCBwcmV2RnJhZyA9IGZyYWdtZW50c1tjdXJTTklkeCAtIDFdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJldkZyYWcgJiZcbiAgICAgICAgICBwcmV2RnJhZy5jYyA9PT0gZm91bmRGcmFnLmNjICYmXG4gICAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUocHJldkZyYWcpID09PSBGcmFnbWVudFN0YXRlLk5PVF9MT0FERURcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm91bmRGcmFnID0gcHJldkZyYWc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUoZm91bmRGcmFnKSA9PT0gRnJhZ21lbnRTdGF0ZS5OT1RfTE9BREVEXG4gICAgICApIHtcbiAgICAgICAgLy8gb25seSBsb2FkIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWRcbiAgICAgICAgdGhpcy5sb2FkRnJhZ21lbnQoZm91bmRGcmFnLCB0cmFjaywgdGFyZ2V0QnVmZmVyVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldE1heEJ1ZmZlckxlbmd0aChtYWluQnVmZmVyTGVuZ3RoPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBtYXhDb25maWdCdWZmZXIgPSBzdXBlci5nZXRNYXhCdWZmZXJMZW5ndGgoKTtcbiAgICBpZiAoIW1haW5CdWZmZXJMZW5ndGgpIHtcbiAgICAgIHJldHVybiBtYXhDb25maWdCdWZmZXI7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heChtYXhDb25maWdCdWZmZXIsIG1haW5CdWZmZXJMZW5ndGgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGxvYWRGcmFnbWVudChcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICBsZXZlbDogTGV2ZWwsXG4gICAgdGFyZ2V0QnVmZmVyVGltZTogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gZnJhZztcbiAgICBpZiAoZnJhZy5zbiA9PT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgdGhpcy5fbG9hZEluaXRTZWdtZW50KGZyYWcsIGxldmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgc3VwZXIubG9hZEZyYWdtZW50KGZyYWcsIGxldmVsLCB0YXJnZXRCdWZmZXJUaW1lKTtcbiAgICB9XG4gIH1cblxuICBnZXQgbWVkaWFCdWZmZXJUaW1lUmFuZ2VzKCk6IEJ1ZmZlcmFibGUge1xuICAgIHJldHVybiBuZXcgQnVmZmVyYWJsZUluc3RhbmNlKFxuICAgICAgdGhpcy50cmFja3NCdWZmZXJlZFt0aGlzLmN1cnJlbnRUcmFja0lkXSB8fCBbXSxcbiAgICApO1xuICB9XG59XG5cbmNsYXNzIEJ1ZmZlcmFibGVJbnN0YW5jZSBpbXBsZW1lbnRzIEJ1ZmZlcmFibGUge1xuICBwdWJsaWMgcmVhZG9ubHkgYnVmZmVyZWQ6IFRpbWVSYW5nZXM7XG5cbiAgY29uc3RydWN0b3IodGltZXJhbmdlczogVGltZVJhbmdlW10pIHtcbiAgICBjb25zdCBnZXRSYW5nZSA9IChcbiAgICAgIG5hbWU6ICdzdGFydCcgfCAnZW5kJyxcbiAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICBsZW5ndGg6IG51bWJlcixcbiAgICApOiBudW1iZXIgPT4ge1xuICAgICAgaW5kZXggPSBpbmRleCA+Pj4gMDtcbiAgICAgIGlmIChpbmRleCA+IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgICBgRmFpbGVkIHRvIGV4ZWN1dGUgJyR7bmFtZX0nIG9uICdUaW1lUmFuZ2VzJzogVGhlIGluZGV4IHByb3ZpZGVkICgke2luZGV4fSkgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIGJvdW5kICgke2xlbmd0aH0pYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aW1lcmFuZ2VzW2luZGV4XVtuYW1lXTtcbiAgICB9O1xuICAgIHRoaXMuYnVmZmVyZWQgPSB7XG4gICAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJhbmdlcy5sZW5ndGg7XG4gICAgICB9LFxuICAgICAgZW5kKGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gZ2V0UmFuZ2UoJ2VuZCcsIGluZGV4LCB0aW1lcmFuZ2VzLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgc3RhcnQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBnZXRSYW5nZSgnc3RhcnQnLCBpbmRleCwgdGltZXJhbmdlcy5sZW5ndGgpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IEJhc2VQbGF5bGlzdENvbnRyb2xsZXIgZnJvbSAnLi9iYXNlLXBsYXlsaXN0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7XG4gIGNsZWFyQ3VycmVudEN1ZXMsXG4gIGZpbHRlclN1YnRpdGxlVHJhY2tzLFxufSBmcm9tICcuLi91dGlscy90ZXh0dHJhY2stdXRpbHMnO1xuaW1wb3J0IHsgUGxheWxpc3RDb250ZXh0VHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQge1xuICBtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwsXG4gIHN1YnRpdGxlVHJhY2tNYXRjaGVzVGV4dFRyYWNrLFxufSBmcm9tICcuLi91dGlscy9tZWRpYS1vcHRpb24tYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBmaW5kTWF0Y2hpbmdPcHRpb24sIG1hdGNoZXNPcHRpb24gfSBmcm9tICcuLi91dGlscy9yZW5kaXRpb24taGVscGVyJztcbmltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHR5cGUge1xuICBNZWRpYVBsYXlsaXN0LFxuICBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbixcbn0gZnJvbSAnLi4vdHlwZXMvbWVkaWEtcGxheWxpc3QnO1xuaW1wb3J0IHR5cGUgeyBIbHNVcmxQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vdHlwZXMvbGV2ZWwnO1xuaW1wb3J0IHR5cGUge1xuICBFcnJvckRhdGEsXG4gIExldmVsTG9hZGluZ0RhdGEsXG4gIE1lZGlhQXR0YWNoZWREYXRhLFxuICBTdWJ0aXRsZVRyYWNrc1VwZGF0ZWREYXRhLFxuICBNYW5pZmVzdFBhcnNlZERhdGEsXG4gIFRyYWNrTG9hZGVkRGF0YSxcbiAgTGV2ZWxTd2l0Y2hpbmdEYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuXG5jbGFzcyBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlciBleHRlbmRzIEJhc2VQbGF5bGlzdENvbnRyb2xsZXIge1xuICBwcml2YXRlIG1lZGlhOiBIVE1MTWVkaWFFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdHJhY2tzOiBNZWRpYVBsYXlsaXN0W10gPSBbXTtcbiAgcHJpdmF0ZSBncm91cElkczogKHN0cmluZyB8IHVuZGVmaW5lZClbXSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHRyYWNrc0luR3JvdXA6IE1lZGlhUGxheWxpc3RbXSA9IFtdO1xuICBwcml2YXRlIHRyYWNrSWQ6IG51bWJlciA9IC0xO1xuICBwcml2YXRlIGN1cnJlbnRUcmFjazogTWVkaWFQbGF5bGlzdCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHNlbGVjdERlZmF1bHRUcmFjazogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgcXVldWVkRGVmYXVsdFRyYWNrOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBhc3luY1BvbGxUcmFja0NoYW5nZTogKCkgPT4gdm9pZCA9ICgpID0+IHRoaXMucG9sbFRyYWNrQ2hhbmdlKDApO1xuICBwcml2YXRlIHVzZVRleHRUcmFja1BvbGxpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBzdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX3N1YnRpdGxlRGlzcGxheTogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoaGxzOiBIbHMpIHtcbiAgICBzdXBlcihobHMsICdbc3VidGl0bGUtdHJhY2stY29udHJvbGxlcl0nKTtcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnRyYWNrcy5sZW5ndGggPSAwO1xuICAgIHRoaXMudHJhY2tzSW5Hcm91cC5sZW5ndGggPSAwO1xuICAgIHRoaXMuY3VycmVudFRyYWNrID0gbnVsbDtcbiAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZWQgPSB0aGlzLmFzeW5jUG9sbFRyYWNrQ2hhbmdlID0gbnVsbCBhcyBhbnk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgcHVibGljIGdldCBzdWJ0aXRsZURpc3BsYXkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3N1YnRpdGxlRGlzcGxheTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgc3VidGl0bGVEaXNwbGF5KHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc3VidGl0bGVEaXNwbGF5ID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudHJhY2tJZCA+IC0xKSB7XG4gICAgICB0aGlzLnRvZ2dsZVRyYWNrTW9kZXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfTE9BRElORywgdGhpcy5vbkxldmVsTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5TVUJUSVRMRV9UUkFDS19MT0FERUQsIHRoaXMub25TdWJ0aXRsZVRyYWNrTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgdGhpcy5vbk1hbmlmZXN0UGFyc2VkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9MT0FESU5HLCB0aGlzLm9uTGV2ZWxMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9TV0lUQ0hJTkcsIHRoaXMub25MZXZlbFN3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuU1VCVElUTEVfVFJBQ0tfTE9BREVELCB0aGlzLm9uU3VidGl0bGVUcmFja0xvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gIH1cblxuICAvLyBMaXN0ZW4gZm9yIHN1YnRpdGxlIHRyYWNrIGNoYW5nZSwgdGhlbiBleHRyYWN0IHRoZSBjdXJyZW50IHRyYWNrIElELlxuICBwcm90ZWN0ZWQgb25NZWRpYUF0dGFjaGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTUVESUFfQVRUQUNIRUQsXG4gICAgZGF0YTogTWVkaWFBdHRhY2hlZERhdGEsXG4gICk6IHZvaWQge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnF1ZXVlZERlZmF1bHRUcmFjayA+IC0xKSB7XG4gICAgICB0aGlzLnN1YnRpdGxlVHJhY2sgPSB0aGlzLnF1ZXVlZERlZmF1bHRUcmFjaztcbiAgICAgIHRoaXMucXVldWVkRGVmYXVsdFRyYWNrID0gLTE7XG4gICAgfVxuXG4gICAgdGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nID0gIShcbiAgICAgIHRoaXMubWVkaWEudGV4dFRyYWNrcyAmJiAnb25jaGFuZ2UnIGluIHRoaXMubWVkaWEudGV4dFRyYWNrc1xuICAgICk7XG4gICAgaWYgKHRoaXMudXNlVGV4dFRyYWNrUG9sbGluZykge1xuICAgICAgdGhpcy5wb2xsVHJhY2tDaGFuZ2UoNTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYS50ZXh0VHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjaGFuZ2UnLFxuICAgICAgICB0aGlzLmFzeW5jUG9sbFRyYWNrQ2hhbmdlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBvbGxUcmFja0NoYW5nZSh0aW1lb3V0OiBudW1iZXIpIHtcbiAgICBzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgdGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCA9IHNlbGYuc2V0SW50ZXJ2YWwoXG4gICAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZWQsXG4gICAgICB0aW1lb3V0LFxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZWRpYURldGFjaGluZygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgaWYgKCF0aGlzLnVzZVRleHRUcmFja1BvbGxpbmcpIHtcbiAgICAgIHRoaXMubWVkaWEudGV4dFRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAnY2hhbmdlJyxcbiAgICAgICAgdGhpcy5hc3luY1BvbGxUcmFja0NoYW5nZSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudHJhY2tJZCA+IC0xKSB7XG4gICAgICB0aGlzLnF1ZXVlZERlZmF1bHRUcmFjayA9IHRoaXMudHJhY2tJZDtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0VHJhY2tzID0gZmlsdGVyU3VidGl0bGVUcmFja3ModGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICAvLyBDbGVhciBsb2FkZWQgY3VlcyBvbiBtZWRpYSBkZXRhY2htZW50IGZyb20gdHJhY2tzXG4gICAgdGV4dFRyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgY2xlYXJDdXJyZW50Q3Vlcyh0cmFjayk7XG4gICAgfSk7XG4gICAgLy8gRGlzYWJsZSBhbGwgc3VidGl0bGUgdHJhY2tzIGJlZm9yZSBkZXRhY2htZW50IHNvIHdoZW4gcmVhdHRhY2hlZCBvbmx5IHRyYWNrcyBpbiB0aGF0IGNvbnRlbnQgYXJlIGVuYWJsZWQuXG4gICAgdGhpcy5zdWJ0aXRsZVRyYWNrID0gLTE7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NYW5pZmVzdExvYWRpbmcoKTogdm9pZCB7XG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLmdyb3VwSWRzID0gbnVsbDtcbiAgICB0aGlzLnRyYWNrc0luR3JvdXAgPSBbXTtcbiAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICB0aGlzLmN1cnJlbnRUcmFjayA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3REZWZhdWx0VHJhY2sgPSB0cnVlO1xuICB9XG5cbiAgLy8gRmlyZWQgd2hlbmV2ZXIgYSBuZXcgbWFuaWZlc3QgaXMgbG9hZGVkLlxuICBwcm90ZWN0ZWQgb25NYW5pZmVzdFBhcnNlZChcbiAgICBldmVudDogRXZlbnRzLk1BTklGRVNUX1BBUlNFRCxcbiAgICBkYXRhOiBNYW5pZmVzdFBhcnNlZERhdGEsXG4gICk6IHZvaWQge1xuICAgIHRoaXMudHJhY2tzID0gZGF0YS5zdWJ0aXRsZVRyYWNrcztcbiAgfVxuXG4gIHByb3RlY3RlZCBvblN1YnRpdGxlVHJhY2tMb2FkZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5TVUJUSVRMRV9UUkFDS19MT0FERUQsXG4gICAgZGF0YTogVHJhY2tMb2FkZWREYXRhLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IGlkLCBncm91cElkLCBkZXRhaWxzIH0gPSBkYXRhO1xuICAgIGNvbnN0IHRyYWNrSW5BY3RpdmVHcm91cCA9IHRoaXMudHJhY2tzSW5Hcm91cFtpZF07XG5cbiAgICBpZiAoIXRyYWNrSW5BY3RpdmVHcm91cCB8fCB0cmFja0luQWN0aXZlR3JvdXAuZ3JvdXBJZCAhPT0gZ3JvdXBJZCkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgU3VidGl0bGUgdHJhY2sgd2l0aCBpZDoke2lkfSBhbmQgZ3JvdXA6JHtncm91cElkfSBub3QgZm91bmQgaW4gYWN0aXZlIGdyb3VwICR7dHJhY2tJbkFjdGl2ZUdyb3VwPy5ncm91cElkfWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1ckRldGFpbHMgPSB0cmFja0luQWN0aXZlR3JvdXAuZGV0YWlscztcbiAgICB0cmFja0luQWN0aXZlR3JvdXAuZGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICB0aGlzLmxvZyhcbiAgICAgIGBTdWJ0aXRsZSB0cmFjayAke2lkfSBcIiR7dHJhY2tJbkFjdGl2ZUdyb3VwLm5hbWV9XCIgbGFuZzoke3RyYWNrSW5BY3RpdmVHcm91cC5sYW5nfSBncm91cDoke2dyb3VwSWR9IGxvYWRlZCBbJHtkZXRhaWxzLnN0YXJ0U059LSR7ZGV0YWlscy5lbmRTTn1dYCxcbiAgICApO1xuXG4gICAgaWYgKGlkID09PSB0aGlzLnRyYWNrSWQpIHtcbiAgICAgIHRoaXMucGxheWxpc3RMb2FkZWQoaWQsIGRhdGEsIGN1ckRldGFpbHMpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkxldmVsTG9hZGluZyhcbiAgICBldmVudDogRXZlbnRzLkxFVkVMX0xPQURJTkcsXG4gICAgZGF0YTogTGV2ZWxMb2FkaW5nRGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLmxldmVsKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkxldmVsU3dpdGNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxfU1dJVENISU5HLFxuICAgIGRhdGE6IExldmVsU3dpdGNoaW5nRGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zd2l0Y2hMZXZlbChkYXRhLmxldmVsKTtcbiAgfVxuXG4gIHByaXZhdGUgc3dpdGNoTGV2ZWwobGV2ZWxJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGV2ZWxJbmZvID0gdGhpcy5obHMubGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgIGlmICghbGV2ZWxJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN1YnRpdGxlR3JvdXBzID0gbGV2ZWxJbmZvLnN1YnRpdGxlR3JvdXBzIHx8IG51bGw7XG4gICAgY29uc3QgY3VycmVudEdyb3VwcyA9IHRoaXMuZ3JvdXBJZHM7XG4gICAgbGV0IGN1cnJlbnRUcmFjayA9IHRoaXMuY3VycmVudFRyYWNrO1xuICAgIGlmIChcbiAgICAgICFzdWJ0aXRsZUdyb3VwcyB8fFxuICAgICAgY3VycmVudEdyb3Vwcz8ubGVuZ3RoICE9PSBzdWJ0aXRsZUdyb3Vwcz8ubGVuZ3RoIHx8XG4gICAgICBzdWJ0aXRsZUdyb3Vwcz8uc29tZSgoZ3JvdXBJZCkgPT4gY3VycmVudEdyb3Vwcz8uaW5kZXhPZihncm91cElkKSA9PT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLmdyb3VwSWRzID0gc3VidGl0bGVHcm91cHM7XG4gICAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICAgIHRoaXMuY3VycmVudFRyYWNrID0gbnVsbDtcblxuICAgICAgY29uc3Qgc3VidGl0bGVUcmFja3MgPSB0aGlzLnRyYWNrcy5maWx0ZXIoXG4gICAgICAgICh0cmFjayk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAhc3VidGl0bGVHcm91cHMgfHwgc3VidGl0bGVHcm91cHMuaW5kZXhPZih0cmFjay5ncm91cElkKSAhPT0gLTEsXG4gICAgICApO1xuICAgICAgaWYgKHN1YnRpdGxlVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAvLyBEaXNhYmxlIHNlbGVjdERlZmF1bHRUcmFjayBpZiB0aGVyZSBhcmUgbm8gZGVmYXVsdCB0cmFja3NcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuc2VsZWN0RGVmYXVsdFRyYWNrICYmXG4gICAgICAgICAgIXN1YnRpdGxlVHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5kZWZhdWx0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyYWNrLmlkIHNob3VsZCBtYXRjaCBobHMuYXVkaW9UcmFja3MgaW5kZXhcbiAgICAgICAgc3VidGl0bGVUcmFja3MuZm9yRWFjaCgodHJhY2ssIGkpID0+IHtcbiAgICAgICAgICB0cmFjay5pZCA9IGk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghY3VycmVudFRyYWNrICYmICF0aGlzLnRyYWNrc0luR3JvdXAubGVuZ3RoKSB7XG4gICAgICAgIC8vIERvIG5vdCBkaXNwYXRjaCBTVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCB3aGVuIHRoZXJlIHdlcmUgYW5kIGFyZSBubyB0cmFja3NcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFja3NJbkdyb3VwID0gc3VidGl0bGVUcmFja3M7XG5cbiAgICAgIC8vIEZpbmQgcHJlZmVycmVkIHRyYWNrXG4gICAgICBjb25zdCBzdWJ0aXRsZVByZWZlcmVuY2UgPSB0aGlzLmhscy5jb25maWcuc3VidGl0bGVQcmVmZXJlbmNlO1xuICAgICAgaWYgKCFjdXJyZW50VHJhY2sgJiYgc3VidGl0bGVQcmVmZXJlbmNlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RGVmYXVsdFRyYWNrID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBmaW5kTWF0Y2hpbmdPcHRpb24oXG4gICAgICAgICAgc3VidGl0bGVQcmVmZXJlbmNlLFxuICAgICAgICAgIHN1YnRpdGxlVHJhY2tzLFxuICAgICAgICApO1xuICAgICAgICBpZiAoZ3JvdXBJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY3VycmVudFRyYWNrID0gc3VidGl0bGVUcmFja3NbZ3JvdXBJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYWxsSW5kZXggPSBmaW5kTWF0Y2hpbmdPcHRpb24oc3VidGl0bGVQcmVmZXJlbmNlLCB0aGlzLnRyYWNrcyk7XG4gICAgICAgICAgY3VycmVudFRyYWNrID0gdGhpcy50cmFja3NbYWxsSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCBpbml0aWFsIHRyYWNrXG4gICAgICBsZXQgdHJhY2tJZCA9IHRoaXMuZmluZFRyYWNrSWQoY3VycmVudFRyYWNrKTtcbiAgICAgIGlmICh0cmFja0lkID09PSAtMSAmJiBjdXJyZW50VHJhY2spIHtcbiAgICAgICAgdHJhY2tJZCA9IHRoaXMuZmluZFRyYWNrSWQobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERpc3BhdGNoIGV2ZW50cyBhbmQgbG9hZCB0cmFjayBpZiBuZWVkZWRcbiAgICAgIGNvbnN0IHN1YnRpdGxlVHJhY2tzVXBkYXRlZDogU3VidGl0bGVUcmFja3NVcGRhdGVkRGF0YSA9IHtcbiAgICAgICAgc3VidGl0bGVUcmFja3MsXG4gICAgICB9O1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBVcGRhdGluZyBzdWJ0aXRsZSB0cmFja3MsICR7XG4gICAgICAgICAgc3VidGl0bGVUcmFja3MubGVuZ3RoXG4gICAgICAgIH0gdHJhY2socykgZm91bmQgaW4gXCIke3N1YnRpdGxlR3JvdXBzPy5qb2luKCcsJyl9XCIgZ3JvdXAtaWRgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCBzdWJ0aXRsZVRyYWNrc1VwZGF0ZWQpO1xuXG4gICAgICBpZiAodHJhY2tJZCAhPT0gLTEgJiYgdGhpcy50cmFja0lkID09PSAtMSkge1xuICAgICAgICB0aGlzLnNldFN1YnRpdGxlVHJhY2sodHJhY2tJZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnNob3VsZFJlbG9hZFBsYXlsaXN0KGN1cnJlbnRUcmFjaykpIHtcbiAgICAgIC8vIFJldHJ5IHBsYXlsaXN0IGxvYWRpbmcgaWYgbm8gcGxheWxpc3QgaXMgb3IgaGFzIGJlZW4gbG9hZGVkIHlldFxuICAgICAgdGhpcy5zZXRTdWJ0aXRsZVRyYWNrKHRoaXMudHJhY2tJZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaW5kVHJhY2tJZChjdXJyZW50VHJhY2s6IE1lZGlhUGxheWxpc3QgfCBudWxsKTogbnVtYmVyIHtcbiAgICBjb25zdCB0cmFja3MgPSB0aGlzLnRyYWNrc0luR3JvdXA7XG4gICAgY29uc3Qgc2VsZWN0RGVmYXVsdCA9IHRoaXMuc2VsZWN0RGVmYXVsdFRyYWNrO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgIGlmIChcbiAgICAgICAgKHNlbGVjdERlZmF1bHQgJiYgIXRyYWNrLmRlZmF1bHQpIHx8XG4gICAgICAgICghc2VsZWN0RGVmYXVsdCAmJiAhY3VycmVudFRyYWNrKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50VHJhY2sgfHwgbWF0Y2hlc09wdGlvbih0cmFjaywgY3VycmVudFRyYWNrKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUcmFjaykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwoY3VycmVudFRyYWNrLmF0dHJzLCB0cmFjay5hdHRycywgW1xuICAgICAgICAgICAgJ0xBTkdVQUdFJyxcbiAgICAgICAgICAgICdBU1NPQy1MQU5HVUFHRScsXG4gICAgICAgICAgICAnQ0hBUkFDVEVSSVNUSUNTJyxcbiAgICAgICAgICBdKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBtZWRpYUF0dHJpYnV0ZXNJZGVudGljYWwoY3VycmVudFRyYWNrLmF0dHJzLCB0cmFjay5hdHRycywgW1xuICAgICAgICAgICAgJ0xBTkdVQUdFJyxcbiAgICAgICAgICBdKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBwcml2YXRlIGZpbmRUcmFja0ZvclRleHRUcmFjayh0ZXh0VHJhY2s6IFRleHRUcmFjayB8IG51bGwpOiBudW1iZXIge1xuICAgIGlmICh0ZXh0VHJhY2spIHtcbiAgICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMudHJhY2tzSW5Hcm91cDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgICBpZiAoc3VidGl0bGVUcmFja01hdGNoZXNUZXh0VHJhY2sodHJhY2ssIHRleHRUcmFjaykpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpOiB2b2lkIHtcbiAgICBpZiAoZGF0YS5mYXRhbCB8fCAhZGF0YS5jb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZGF0YS5jb250ZXh0LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuU1VCVElUTEVfVFJBQ0sgJiZcbiAgICAgIGRhdGEuY29udGV4dC5pZCA9PT0gdGhpcy50cmFja0lkICYmXG4gICAgICAoIXRoaXMuZ3JvdXBJZHMgfHwgdGhpcy5ncm91cElkcy5pbmRleE9mKGRhdGEuY29udGV4dC5ncm91cElkKSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLmNoZWNrUmV0cnkoZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGFsbFN1YnRpdGxlVHJhY2tzKCk6IE1lZGlhUGxheWxpc3RbXSB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2tzO1xuICB9XG5cbiAgLyoqIGdldCBhbHRlcm5hdGUgc3VidGl0bGUgdHJhY2tzIGxpc3QgZnJvbSBwbGF5bGlzdCAqKi9cbiAgZ2V0IHN1YnRpdGxlVHJhY2tzKCk6IE1lZGlhUGxheWxpc3RbXSB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2tzSW5Hcm91cDtcbiAgfVxuXG4gIC8qKiBnZXQvc2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoYmFzZWQgb24gaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuICBnZXQgc3VidGl0bGVUcmFjaygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gIH1cblxuICBzZXQgc3VidGl0bGVUcmFjayhuZXdJZDogbnVtYmVyKSB7XG4gICAgdGhpcy5zZWxlY3REZWZhdWx0VHJhY2sgPSBmYWxzZTtcbiAgICB0aGlzLnNldFN1YnRpdGxlVHJhY2sobmV3SWQpO1xuICB9XG5cbiAgcHVibGljIHNldFN1YnRpdGxlT3B0aW9uKFxuICAgIHN1YnRpdGxlT3B0aW9uOiBNZWRpYVBsYXlsaXN0IHwgU3VidGl0bGVTZWxlY3Rpb25PcHRpb24gfCB1bmRlZmluZWQsXG4gICk6IE1lZGlhUGxheWxpc3QgfCBudWxsIHtcbiAgICB0aGlzLmhscy5jb25maWcuc3VidGl0bGVQcmVmZXJlbmNlID0gc3VidGl0bGVPcHRpb247XG4gICAgaWYgKHN1YnRpdGxlT3B0aW9uKSB7XG4gICAgICBjb25zdCBhbGxTdWJ0aXRsZVRyYWNrcyA9IHRoaXMuYWxsU3VidGl0bGVUcmFja3M7XG4gICAgICB0aGlzLnNlbGVjdERlZmF1bHRUcmFjayA9IGZhbHNlO1xuICAgICAgaWYgKGFsbFN1YnRpdGxlVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAvLyBGaXJzdCBzZWUgaWYgY3VycmVudCBvcHRpb24gbWF0Y2hlcyAobm8gc3dpdGNoIG9wKVxuICAgICAgICBjb25zdCBjdXJyZW50VHJhY2sgPSB0aGlzLmN1cnJlbnRUcmFjaztcbiAgICAgICAgaWYgKGN1cnJlbnRUcmFjayAmJiBtYXRjaGVzT3B0aW9uKHN1YnRpdGxlT3B0aW9uLCBjdXJyZW50VHJhY2spKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUcmFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIG9wdGlvbiBpbiBjdXJyZW50IGdyb3VwXG4gICAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBmaW5kTWF0Y2hpbmdPcHRpb24oXG4gICAgICAgICAgc3VidGl0bGVPcHRpb24sXG4gICAgICAgICAgdGhpcy50cmFja3NJbkdyb3VwLFxuICAgICAgICApO1xuICAgICAgICBpZiAoZ3JvdXBJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3QgdHJhY2sgPSB0aGlzLnRyYWNrc0luR3JvdXBbZ3JvdXBJbmRleF07XG4gICAgICAgICAgdGhpcy5zZXRTdWJ0aXRsZVRyYWNrKGdyb3VwSW5kZXgpO1xuICAgICAgICAgIHJldHVybiB0cmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VHJhY2spIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCB0aGUgaW5pdGlhbCBzZWxlY3Rpb24gcmV0dXJuIG51bGxcbiAgICAgICAgICAvLyBvcHRpb24gc2hvdWxkIGhhdmUgbWF0Y2hlZCBvbmUgaW4gYWN0aXZlIGdyb3VwXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgb3B0aW9uIGluIGFsbCB0cmFja3MgZm9yIGluaXRpYWwgc2VsZWN0aW9uXG4gICAgICAgICAgY29uc3QgYWxsSW5kZXggPSBmaW5kTWF0Y2hpbmdPcHRpb24oXG4gICAgICAgICAgICBzdWJ0aXRsZU9wdGlvbixcbiAgICAgICAgICAgIGFsbFN1YnRpdGxlVHJhY2tzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGFsbEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGxTdWJ0aXRsZVRyYWNrc1thbGxJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJvdGVjdGVkIGxvYWRQbGF5bGlzdChobHNVcmxQYXJhbWV0ZXJzPzogSGxzVXJsUGFyYW1ldGVycyk6IHZvaWQge1xuICAgIHN1cGVyLmxvYWRQbGF5bGlzdCgpO1xuICAgIGNvbnN0IGN1cnJlbnRUcmFjayA9IHRoaXMuY3VycmVudFRyYWNrO1xuICAgIGlmICh0aGlzLnNob3VsZExvYWRQbGF5bGlzdChjdXJyZW50VHJhY2spICYmIGN1cnJlbnRUcmFjaykge1xuICAgICAgY29uc3QgaWQgPSBjdXJyZW50VHJhY2suaWQ7XG4gICAgICBjb25zdCBncm91cElkID0gY3VycmVudFRyYWNrLmdyb3VwSWQgYXMgc3RyaW5nO1xuICAgICAgbGV0IHVybCA9IGN1cnJlbnRUcmFjay51cmw7XG4gICAgICBpZiAoaGxzVXJsUGFyYW1ldGVycykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHVybCA9IGhsc1VybFBhcmFtZXRlcnMuYWRkRGlyZWN0aXZlcyh1cmwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICAgIGBDb3VsZCBub3QgY29uc3RydWN0IG5ldyBVUkwgd2l0aCBITFMgRGVsaXZlcnkgRGlyZWN0aXZlczogJHtlcnJvcn1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubG9nKGBMb2FkaW5nIHN1YnRpdGxlIHBsYXlsaXN0IGZvciBpZCAke2lkfWApO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuU1VCVElUTEVfVFJBQ0tfTE9BRElORywge1xuICAgICAgICB1cmwsXG4gICAgICAgIGlkLFxuICAgICAgICBncm91cElkLFxuICAgICAgICBkZWxpdmVyeURpcmVjdGl2ZXM6IGhsc1VybFBhcmFtZXRlcnMgfHwgbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgb2xkIHN1YnRpdGxlVHJhY2sgYW5kIHNldHMgY3VycmVudCBtb2RlIG9uIHRoZSBuZXh0IHN1YnRpdGxlVHJhY2suXG4gICAqIFRoaXMgb3BlcmF0ZXMgb24gdGhlIERPTSB0ZXh0VHJhY2tzLlxuICAgKiBBIHZhbHVlIG9mIC0xIHdpbGwgZGlzYWJsZSBhbGwgc3VidGl0bGUgdHJhY2tzLlxuICAgKi9cbiAgcHJpdmF0ZSB0b2dnbGVUcmFja01vZGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHRoaXM7XG4gICAgaWYgKCFtZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHRUcmFja3MgPSBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyhtZWRpYS50ZXh0VHJhY2tzKTtcbiAgICBjb25zdCBjdXJyZW50VHJhY2sgPSB0aGlzLmN1cnJlbnRUcmFjaztcbiAgICBsZXQgbmV4dFRyYWNrO1xuICAgIGlmIChjdXJyZW50VHJhY2spIHtcbiAgICAgIG5leHRUcmFjayA9IHRleHRUcmFja3MuZmlsdGVyKCh0ZXh0VHJhY2spID0+XG4gICAgICAgIHN1YnRpdGxlVHJhY2tNYXRjaGVzVGV4dFRyYWNrKGN1cnJlbnRUcmFjaywgdGV4dFRyYWNrKSxcbiAgICAgIClbMF07XG4gICAgICBpZiAoIW5leHRUcmFjaykge1xuICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgYFVuYWJsZSB0byBmaW5kIHN1YnRpdGxlIFRleHRUcmFjayB3aXRoIG5hbWUgXCIke2N1cnJlbnRUcmFjay5uYW1lfVwiIGFuZCBsYW5ndWFnZSBcIiR7Y3VycmVudFRyYWNrLmxhbmd9XCJgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBbXS5zbGljZS5jYWxsKHRleHRUcmFja3MpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAodHJhY2subW9kZSAhPT0gJ2Rpc2FibGVkJyAmJiB0cmFjayAhPT0gbmV4dFRyYWNrKSB7XG4gICAgICAgIHRyYWNrLm1vZGUgPSAnZGlzYWJsZWQnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChuZXh0VHJhY2spIHtcbiAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLnN1YnRpdGxlRGlzcGxheSA/ICdzaG93aW5nJyA6ICdoaWRkZW4nO1xuICAgICAgaWYgKG5leHRUcmFjay5tb2RlICE9PSBtb2RlKSB7XG4gICAgICAgIG5leHRUcmFjay5tb2RlID0gbW9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgcmVzcG9uc2libGUgZm9yIHZhbGlkYXRpbmcgdGhlIHN1YnRpdGxlIGluZGV4IGFuZCBwZXJpb2RpY2FsbHkgcmVsb2FkaW5nIGlmIGxpdmUuXG4gICAqIERpc3BhdGNoZXMgdGhlIFNVQlRJVExFX1RSQUNLX1NXSVRDSCBldmVudCwgd2hpY2ggaW5zdHJ1Y3RzIHRoZSBzdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciB0byBsb2FkIHRoZSBzZWxlY3RlZCB0cmFjay5cbiAgICovXG4gIHByaXZhdGUgc2V0U3VidGl0bGVUcmFjayhuZXdJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdHJhY2tzID0gdGhpcy50cmFja3NJbkdyb3VwO1xuXG4gICAgLy8gc2V0dGluZyB0aGlzLnN1YnRpdGxlVHJhY2sgd2lsbCB0cmlnZ2VyIGludGVybmFsIGxvZ2ljXG4gICAgLy8gaWYgbWVkaWEgaGFzIG5vdCBiZWVuIGF0dGFjaGVkIHlldCwgaXQgd2lsbCBmYWlsXG4gICAgLy8gd2Uga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgZGVmYXVsdCB0cmFjayBpZFxuICAgIC8vIGFuZCB3ZSdsbCBzZXQgc3VidGl0bGVUcmFjayB3aGVuIG9uTWVkaWFBdHRhY2hlZCBpcyB0cmlnZ2VyZWRcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHRoaXMucXVldWVkRGVmYXVsdFRyYWNrID0gbmV3SWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZXhpdCBpZiB0cmFjayBpZCBhcyBhbHJlYWR5IHNldCBvciBpbnZhbGlkXG4gICAgaWYgKG5ld0lkIDwgLTEgfHwgbmV3SWQgPj0gdHJhY2tzLmxlbmd0aCB8fCAhTnVtYmVyLmlzRmluaXRlKG5ld0lkKSkge1xuICAgICAgdGhpcy53YXJuKGBJbnZhbGlkIHN1YnRpdGxlIHRyYWNrIGlkOiAke25ld0lkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuXG4gICAgdGhpcy5zZWxlY3REZWZhdWx0VHJhY2sgPSBmYWxzZTtcbiAgICBjb25zdCBsYXN0VHJhY2sgPSB0aGlzLmN1cnJlbnRUcmFjaztcbiAgICBjb25zdCB0cmFjazogTWVkaWFQbGF5bGlzdCB8IG51bGwgPSB0cmFja3NbbmV3SWRdIHx8IG51bGw7XG4gICAgdGhpcy50cmFja0lkID0gbmV3SWQ7XG4gICAgdGhpcy5jdXJyZW50VHJhY2sgPSB0cmFjaztcbiAgICB0aGlzLnRvZ2dsZVRyYWNrTW9kZXMoKTtcbiAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAvLyBzd2l0Y2ggdG8gLTFcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgeyBpZDogbmV3SWQgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRyYWNrTG9hZGVkID0gISF0cmFjay5kZXRhaWxzICYmICF0cmFjay5kZXRhaWxzLmxpdmU7XG4gICAgaWYgKG5ld0lkID09PSB0aGlzLnRyYWNrSWQgJiYgdHJhY2sgPT09IGxhc3RUcmFjayAmJiB0cmFja0xvYWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxvZyhcbiAgICAgIGBTd2l0Y2hpbmcgdG8gc3VidGl0bGUtdHJhY2sgJHtuZXdJZH1gICtcbiAgICAgICAgKHRyYWNrXG4gICAgICAgICAgPyBgIFwiJHt0cmFjay5uYW1lfVwiIGxhbmc6JHt0cmFjay5sYW5nfSBncm91cDoke3RyYWNrLmdyb3VwSWR9YFxuICAgICAgICAgIDogJycpLFxuICAgICk7XG4gICAgY29uc3QgeyBpZCwgZ3JvdXBJZCA9ICcnLCBuYW1lLCB0eXBlLCB1cmwgfSA9IHRyYWNrO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLlNVQlRJVExFX1RSQUNLX1NXSVRDSCwge1xuICAgICAgaWQsXG4gICAgICBncm91cElkLFxuICAgICAgbmFtZSxcbiAgICAgIHR5cGUsXG4gICAgICB1cmwsXG4gICAgfSk7XG4gICAgY29uc3QgaGxzVXJsUGFyYW1ldGVycyA9IHRoaXMuc3dpdGNoUGFyYW1zKFxuICAgICAgdHJhY2sudXJsLFxuICAgICAgbGFzdFRyYWNrPy5kZXRhaWxzLFxuICAgICAgdHJhY2suZGV0YWlscyxcbiAgICApO1xuICAgIHRoaXMubG9hZFBsYXlsaXN0KGhsc1VybFBhcmFtZXRlcnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblRleHRUcmFja3NDaGFuZ2VkID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICBzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgfVxuICAgIC8vIE1lZGlhIGlzIHVuZGVmaW5lZCB3aGVuIHN3aXRjaGluZyBzdHJlYW1zIHZpYSBsb2FkU291cmNlKClcbiAgICBpZiAoIXRoaXMubWVkaWEgfHwgIXRoaXMuaGxzLmNvbmZpZy5yZW5kZXJUZXh0VHJhY2tzTmF0aXZlbHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdGV4dFRyYWNrOiBUZXh0VHJhY2sgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCB0cmFja3MgPSBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyh0aGlzLm1lZGlhLnRleHRUcmFja3MpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHJhY2tzW2ldLm1vZGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgIC8vIERvIG5vdCBicmVhayBpbiBjYXNlIHRoZXJlIGlzIGEgZm9sbG93aW5nIHRyYWNrIHdpdGggc2hvd2luZy5cbiAgICAgICAgdGV4dFRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgfSBlbHNlIGlmICh0cmFja3NbaV0ubW9kZSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICAgIHRleHRUcmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmluZCBpbnRlcm5hbCB0cmFjayBpbmRleCBmb3IgVGV4dFRyYWNrXG4gICAgY29uc3QgdHJhY2tJZCA9IHRoaXMuZmluZFRyYWNrRm9yVGV4dFRyYWNrKHRleHRUcmFjayk7XG4gICAgaWYgKHRoaXMuc3VidGl0bGVUcmFjayAhPT0gdHJhY2tJZCkge1xuICAgICAgdGhpcy5zZXRTdWJ0aXRsZVRyYWNrKHRyYWNrSWQpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4iLCAiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB0eXBlIHtcbiAgQnVmZmVyT3BlcmF0aW9uLFxuICBCdWZmZXJPcGVyYXRpb25RdWV1ZXMsXG4gIFNvdXJjZUJ1ZmZlcnMsXG4gIFNvdXJjZUJ1ZmZlck5hbWUsXG59IGZyb20gJy4uL3R5cGVzL2J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1ZmZlck9wZXJhdGlvblF1ZXVlIHtcbiAgcHJpdmF0ZSBidWZmZXJzOiBTb3VyY2VCdWZmZXJzO1xuICBwcml2YXRlIHF1ZXVlczogQnVmZmVyT3BlcmF0aW9uUXVldWVzID0ge1xuICAgIHZpZGVvOiBbXSxcbiAgICBhdWRpbzogW10sXG4gICAgYXVkaW92aWRlbzogW10sXG4gIH07XG5cbiAgY29uc3RydWN0b3Ioc291cmNlQnVmZmVyUmVmZXJlbmNlOiBTb3VyY2VCdWZmZXJzKSB7XG4gICAgdGhpcy5idWZmZXJzID0gc291cmNlQnVmZmVyUmVmZXJlbmNlO1xuICB9XG5cbiAgcHVibGljIGFwcGVuZChcbiAgICBvcGVyYXRpb246IEJ1ZmZlck9wZXJhdGlvbixcbiAgICB0eXBlOiBTb3VyY2VCdWZmZXJOYW1lLFxuICAgIHBlbmRpbmc/OiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWVzW3R5cGVdO1xuICAgIHF1ZXVlLnB1c2gob3BlcmF0aW9uKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFwZW5kaW5nKSB7XG4gICAgICB0aGlzLmV4ZWN1dGVOZXh0KHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpbnNlcnRBYm9ydChvcGVyYXRpb246IEJ1ZmZlck9wZXJhdGlvbiwgdHlwZTogU291cmNlQnVmZmVyTmFtZSkge1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5xdWV1ZXNbdHlwZV07XG4gICAgcXVldWUudW5zaGlmdChvcGVyYXRpb24pO1xuICAgIHRoaXMuZXhlY3V0ZU5leHQodHlwZSk7XG4gIH1cblxuICBwdWJsaWMgYXBwZW5kQmxvY2tlcih0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKTogUHJvbWlzZTx7fT4ge1xuICAgIGxldCBleGVjdXRlO1xuICAgIGNvbnN0IHByb21pc2U6IFByb21pc2U8e30+ID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGV4ZWN1dGUgPSByZXNvbHZlO1xuICAgIH0pO1xuICAgIGNvbnN0IG9wZXJhdGlvbjogQnVmZmVyT3BlcmF0aW9uID0ge1xuICAgICAgZXhlY3V0ZSxcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHt9LFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge30sXG4gICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICB9O1xuXG4gICAgdGhpcy5hcHBlbmQob3BlcmF0aW9uLCB0eXBlKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlTmV4dCh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSB7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnF1ZXVlc1t0eXBlXTtcbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBvcGVyYXRpb246IEJ1ZmZlck9wZXJhdGlvbiA9IHF1ZXVlWzBdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gT3BlcmF0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gcmVzdWx0IGluIGFuICd1cGRhdGVlbmQnIGV2ZW50IGJlaW5nIGZpcmVkLiBJZiBub3QsIHRoZSBxdWV1ZSB3aWxsIGxvY2suIE9wZXJhdGlvbnNcbiAgICAgICAgLy8gd2hpY2ggZG8gbm90IGVuZCB3aXRoIHRoaXMgZXZlbnQgbXVzdCBjYWxsIF9vblNCVXBkYXRlRW5kIG1hbnVhbGx5XG4gICAgICAgIG9wZXJhdGlvbi5leGVjdXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICBgW2J1ZmZlci1vcGVyYXRpb24tcXVldWVdOiBFeGNlcHRpb24gZXhlY3V0aW5nIFwiJHt0eXBlfVwiIFNvdXJjZUJ1ZmZlciBvcGVyYXRpb246ICR7ZXJyb3J9YCxcbiAgICAgICAgKTtcbiAgICAgICAgb3BlcmF0aW9uLm9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICAgIC8vIE9ubHkgc2hpZnQgdGhlIGN1cnJlbnQgb3BlcmF0aW9uIG9mZiwgb3RoZXJ3aXNlIHRoZSB1cGRhdGVlbmQgaGFuZGxlciB3aWxsIGRvIHRoaXMgZm9yIHVzXG4gICAgICAgIGNvbnN0IHNiID0gdGhpcy5idWZmZXJzW3R5cGVdO1xuICAgICAgICBpZiAoIXNiPy51cGRhdGluZykge1xuICAgICAgICAgIHRoaXMuc2hpZnRBbmRFeGVjdXRlTmV4dCh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzaGlmdEFuZEV4ZWN1dGVOZXh0KHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUpIHtcbiAgICB0aGlzLnF1ZXVlc1t0eXBlXS5zaGlmdCgpO1xuICAgIHRoaXMuZXhlY3V0ZU5leHQodHlwZSk7XG4gIH1cblxuICBwdWJsaWMgY3VycmVudCh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMucXVldWVzW3R5cGVdWzBdO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyBFcnJvckRldGFpbHMsIEVycm9yVHlwZXMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgQnVmZmVySGVscGVyIH0gZnJvbSAnLi4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQge1xuICBnZXRDb2RlY0NvbXBhdGlibGVOYW1lLFxuICBwaWNrTW9zdENvbXBsZXRlQ29kZWNOYW1lLFxufSBmcm9tICcuLi91dGlscy9jb2RlY3MnO1xuaW1wb3J0IHtcbiAgZ2V0TWVkaWFTb3VyY2UsXG4gIGlzTWFuYWdlZE1lZGlhU291cmNlLFxufSBmcm9tICcuLi91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXInO1xuaW1wb3J0IHsgRWxlbWVudGFyeVN0cmVhbVR5cGVzIH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgVHJhY2tTZXQgfSBmcm9tICcuLi90eXBlcy90cmFjayc7XG5pbXBvcnQgQnVmZmVyT3BlcmF0aW9uUXVldWUgZnJvbSAnLi9idWZmZXItb3BlcmF0aW9uLXF1ZXVlJztcbmltcG9ydCB7XG4gIEJ1ZmZlck9wZXJhdGlvbixcbiAgU291cmNlQnVmZmVycyxcbiAgU291cmNlQnVmZmVyTmFtZSxcbiAgU291cmNlQnVmZmVyTGlzdGVuZXJzLFxufSBmcm9tICcuLi90eXBlcy9idWZmZXInO1xuaW1wb3J0IHR5cGUge1xuICBMZXZlbFVwZGF0ZWREYXRhLFxuICBCdWZmZXJBcHBlbmRpbmdEYXRhLFxuICBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gIE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgQnVmZmVyQ29kZWNzRGF0YSxcbiAgQnVmZmVyRU9TRGF0YSxcbiAgQnVmZmVyRmx1c2hpbmdEYXRhLFxuICBGcmFnUGFyc2VkRGF0YSxcbiAgRnJhZ0NoYW5nZWREYXRhLFxuICBFcnJvckRhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgeyBDaHVua01ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvdHJhbnNtdXhlcic7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgTGV2ZWxEZXRhaWxzIH0gZnJvbSAnLi4vbG9hZGVyL2xldmVsLWRldGFpbHMnO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBWSURFT19DT0RFQ19QUk9GSUxFX1JFUExBQ0UgPVxuICAvKGF2Y1sxMjM0XXxodmMxfGhldjF8ZHZoWzFlXXx2cDA5fGF2MDEpKD86XFwuW14uLF0rKSsvO1xuXG5pbnRlcmZhY2UgQnVmZmVyZWRDaGFuZ2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgcmVhZG9ubHkgYWRkZWRSYW5nZXM/OiBUaW1lUmFuZ2VzO1xuICByZWFkb25seSByZW1vdmVkUmFuZ2VzPzogVGltZVJhbmdlcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyQ29udHJvbGxlciBpbXBsZW1lbnRzIENvbXBvbmVudEFQSSB7XG4gIC8vIFRoZSBsZXZlbCBkZXRhaWxzIHVzZWQgdG8gZGV0ZXJtaW5lIGR1cmF0aW9uLCB0YXJnZXQtZHVyYXRpb24gYW5kIGxpdmVcbiAgcHJpdmF0ZSBkZXRhaWxzOiBMZXZlbERldGFpbHMgfCBudWxsID0gbnVsbDtcbiAgLy8gY2FjaGUgdGhlIHNlbGYgZ2VuZXJhdGVkIG9iamVjdCB1cmwgdG8gZGV0ZWN0IGhpamFjayBvZiB2aWRlbyB0YWdcbiAgcHJpdmF0ZSBfb2JqZWN0VXJsOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgLy8gQSBxdWV1ZSBvZiBidWZmZXIgb3BlcmF0aW9ucyB3aGljaCByZXF1aXJlIHRoZSBTb3VyY2VCdWZmZXIgdG8gbm90IGJlIHVwZGF0aW5nIHVwb24gZXhlY3V0aW9uXG4gIHByaXZhdGUgb3BlcmF0aW9uUXVldWUhOiBCdWZmZXJPcGVyYXRpb25RdWV1ZTtcbiAgLy8gUmVmZXJlbmNlcyB0byBldmVudCBsaXN0ZW5lcnMgZm9yIGVhY2ggU291cmNlQnVmZmVyLCBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlZmVyZW5jZWQgZm9yIGV2ZW50IHJlbW92YWxcbiAgcHJpdmF0ZSBsaXN0ZW5lcnMhOiBTb3VyY2VCdWZmZXJMaXN0ZW5lcnM7XG5cbiAgcHJpdmF0ZSBobHM6IEhscztcblxuICAvLyBUaGUgbnVtYmVyIG9mIEJVRkZFUl9DT0RFQyBldmVudHMgcmVjZWl2ZWQgYmVmb3JlIGFueSBzb3VyY2VCdWZmZXJzIGFyZSBjcmVhdGVkXG4gIHB1YmxpYyBidWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkOiBudW1iZXIgPSAwO1xuXG4gIC8vIFRoZSB0b3RhbCBudW1iZXIgb2YgQlVGRkVSX0NPREVDIGV2ZW50cyByZWNlaXZlZFxuICBwcml2YXRlIF9idWZmZXJDb2RlY0V2ZW50c1RvdGFsOiBudW1iZXIgPSAwO1xuXG4gIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBhdHRhY2hlZCBtZWRpYSBlbGVtZW50XG4gIHB1YmxpYyBtZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBhY3RpdmUgbWVkaWEgc291cmNlXG4gIHB1YmxpYyBtZWRpYVNvdXJjZTogTWVkaWFTb3VyY2UgfCBudWxsID0gbnVsbDtcblxuICAvLyBMYXN0IE1QMyBhdWRpbyBjaHVuayBhcHBlbmRlZFxuICBwcml2YXRlIGxhc3RNcGVnQXVkaW9DaHVuazogQ2h1bmtNZXRhZGF0YSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgYXBwZW5kU291cmNlOiBib29sZWFuO1xuXG4gIC8vIGNvdW50ZXJzXG4gIHB1YmxpYyBhcHBlbmRFcnJvcnMgPSB7XG4gICAgYXVkaW86IDAsXG4gICAgdmlkZW86IDAsXG4gICAgYXVkaW92aWRlbzogMCxcbiAgfTtcblxuICBwdWJsaWMgdHJhY2tzOiBUcmFja1NldCA9IHt9O1xuICBwdWJsaWMgcGVuZGluZ1RyYWNrczogVHJhY2tTZXQgPSB7fTtcbiAgcHVibGljIHNvdXJjZUJ1ZmZlciE6IFNvdXJjZUJ1ZmZlcnM7XG5cbiAgcHJvdGVjdGVkIGxvZzogKG1zZzogYW55KSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgd2FybjogKG1zZzogYW55LCBvYmo/OiBhbnkpID0+IHZvaWQ7XG4gIHByb3RlY3RlZCBlcnJvcjogKG1zZzogYW55LCBvYmo/OiBhbnkpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoaGxzOiBIbHMpIHtcbiAgICB0aGlzLmhscyA9IGhscztcbiAgICBjb25zdCBsb2dQcmVmaXggPSAnW2J1ZmZlci1jb250cm9sbGVyXSc7XG4gICAgdGhpcy5hcHBlbmRTb3VyY2UgPSBpc01hbmFnZWRNZWRpYVNvdXJjZShcbiAgICAgIGdldE1lZGlhU291cmNlKGhscy5jb25maWcucHJlZmVyTWFuYWdlZE1lZGlhU291cmNlKSxcbiAgICApO1xuICAgIHRoaXMubG9nID0gbG9nZ2VyLmxvZy5iaW5kKGxvZ2dlciwgbG9nUHJlZml4KTtcbiAgICB0aGlzLndhcm4gPSBsb2dnZXIud2Fybi5iaW5kKGxvZ2dlciwgbG9nUHJlZml4KTtcbiAgICB0aGlzLmVycm9yID0gbG9nZ2VyLmVycm9yLmJpbmQobG9nZ2VyLCBsb2dQcmVmaXgpO1xuICAgIHRoaXMuX2luaXRTb3VyY2VCdWZmZXIoKTtcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgaGFzU291cmNlVHlwZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZ2V0U291cmNlQnVmZmVyVHlwZXMoKS5sZW5ndGggPiAwIHx8XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnBlbmRpbmdUcmFja3MpLmxlbmd0aCA+IDBcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5kZXRhaWxzID0gbnVsbDtcbiAgICB0aGlzLmxhc3RNcGVnQXVkaW9DaHVuayA9IG51bGw7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuaGxzID0gbnVsbDtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0FUVEFDSElORywgdGhpcy5vbk1lZGlhQXR0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX1JFU0VULCB0aGlzLm9uQnVmZmVyUmVzZXQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0FQUEVORElORywgdGhpcy5vbkJ1ZmZlckFwcGVuZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfQ09ERUNTLCB0aGlzLm9uQnVmZmVyQ29kZWNzLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkJVRkZFUl9FT1MsIHRoaXMub25CdWZmZXJFb3MsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0ZMVVNISU5HLCB0aGlzLm9uQnVmZmVyRmx1c2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfVVBEQVRFRCwgdGhpcy5vbkxldmVsVXBkYXRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX1BBUlNFRCwgdGhpcy5vbkZyYWdQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRlJBR19DSEFOR0VELCB0aGlzLm9uRnJhZ0NoYW5nZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfQVRUQUNISU5HLCB0aGlzLm9uTWVkaWFBdHRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsIHRoaXMub25NYW5pZmVzdFBhcnNlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQlVGRkVSX1JFU0VULCB0aGlzLm9uQnVmZmVyUmVzZXQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9BUFBFTkRJTkcsIHRoaXMub25CdWZmZXJBcHBlbmRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9DT0RFQ1MsIHRoaXMub25CdWZmZXJDb2RlY3MsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9FT1MsIHRoaXMub25CdWZmZXJFb3MsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9GTFVTSElORywgdGhpcy5vbkJ1ZmZlckZsdXNoaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTF9VUERBVEVELCB0aGlzLm9uTGV2ZWxVcGRhdGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5GUkFHX1BBUlNFRCwgdGhpcy5vbkZyYWdQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfQ0hBTkdFRCwgdGhpcy5vbkZyYWdDaGFuZ2VkLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgX2luaXRTb3VyY2VCdWZmZXIoKSB7XG4gICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB7fTtcbiAgICB0aGlzLm9wZXJhdGlvblF1ZXVlID0gbmV3IEJ1ZmZlck9wZXJhdGlvblF1ZXVlKHRoaXMuc291cmNlQnVmZmVyKTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHtcbiAgICAgIGF1ZGlvOiBbXSxcbiAgICAgIHZpZGVvOiBbXSxcbiAgICAgIGF1ZGlvdmlkZW86IFtdLFxuICAgIH07XG4gICAgdGhpcy5hcHBlbmRFcnJvcnMgPSB7XG4gICAgICBhdWRpbzogMCxcbiAgICAgIHZpZGVvOiAwLFxuICAgICAgYXVkaW92aWRlbzogMCxcbiAgICB9O1xuICAgIHRoaXMubGFzdE1wZWdBdWRpb0NodW5rID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gdGhpcy5fYnVmZmVyQ29kZWNFdmVudHNUb3RhbCA9IDA7XG4gICAgdGhpcy5kZXRhaWxzID0gbnVsbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1hbmlmZXN0UGFyc2VkKFxuICAgIGV2ZW50OiBFdmVudHMuTUFOSUZFU1RfUEFSU0VELFxuICAgIGRhdGE6IE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgKSB7XG4gICAgLy8gaW4gY2FzZSBvZiBhbHQgYXVkaW8gMiBCVUZGRVJfQ09ERUNTIGV2ZW50cyB3aWxsIGJlIHRyaWdnZXJlZCwgb25lIHBlciBzdHJlYW0gY29udHJvbGxlclxuICAgIC8vIHNvdXJjZWJ1ZmZlcnMgd2lsbCBiZSBjcmVhdGVkIGFsbCBhdCBvbmNlIHdoZW4gdGhlIGV4cGVjdGVkIG5iIG9mIHRyYWNrcyB3aWxsIGJlIHJlYWNoZWRcbiAgICAvLyBpbiBjYXNlIGFsdCBhdWRpbyBpcyBub3QgdXNlZCwgb25seSBvbmUgQlVGRkVSX0NPREVDIGV2ZW50IHdpbGwgYmUgZmlyZWQgZnJvbSBtYWluIHN0cmVhbSBjb250cm9sbGVyXG4gICAgLy8gaXQgd2lsbCBjb250YWluIHRoZSBleHBlY3RlZCBuYiBvZiBzb3VyY2UgYnVmZmVycywgbm8gbmVlZCB0byBjb21wdXRlIGl0XG4gICAgbGV0IGNvZGVjRXZlbnRzOiBudW1iZXIgPSAyO1xuICAgIGlmICgoZGF0YS5hdWRpbyAmJiAhZGF0YS52aWRlbykgfHwgIWRhdGEuYWx0QXVkaW8gfHwgIV9fVVNFX0FMVF9BVURJT19fKSB7XG4gICAgICBjb2RlY0V2ZW50cyA9IDE7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCA9IHRoaXMuX2J1ZmZlckNvZGVjRXZlbnRzVG90YWwgPSBjb2RlY0V2ZW50cztcbiAgICB0aGlzLmxvZyhgJHt0aGlzLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWR9IGJ1ZmZlckNvZGVjIGV2ZW50KHMpIGV4cGVjdGVkYCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZWRpYUF0dGFjaGluZyhcbiAgICBldmVudDogRXZlbnRzLk1FRElBX0FUVEFDSElORyxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gICkge1xuICAgIGNvbnN0IG1lZGlhID0gKHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhKTtcbiAgICBjb25zdCBNZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlKHRoaXMuYXBwZW5kU291cmNlKTtcblxuICAgIGlmIChtZWRpYSAmJiBNZWRpYVNvdXJjZSkge1xuICAgICAgY29uc3QgbXMgPSAodGhpcy5tZWRpYVNvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpKTtcbiAgICAgIHRoaXMubG9nKGBjcmVhdGVkIG1lZGlhIHNvdXJjZTogJHttcy5jb25zdHJ1Y3Rvcj8ubmFtZX1gKTtcbiAgICAgIC8vIE1lZGlhU291cmNlIGxpc3RlbmVycyBhcmUgYXJyb3cgZnVuY3Rpb25zIHdpdGggYSBsZXhpY2FsIHNjb3BlLCBhbmQgZG8gbm90IG5lZWQgdG8gYmUgYm91bmRcbiAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLl9vbk1lZGlhU291cmNlT3Blbik7XG4gICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMuX29uTWVkaWFTb3VyY2VFbmRlZCk7XG4gICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMuX29uTWVkaWFTb3VyY2VDbG9zZSk7XG4gICAgICBpZiAodGhpcy5hcHBlbmRTb3VyY2UpIHtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc3RhcnRzdHJlYW1pbmcnLCB0aGlzLl9vblN0YXJ0U3RyZWFtaW5nKTtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignZW5kc3RyZWFtaW5nJywgdGhpcy5fb25FbmRTdHJlYW1pbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWNoZSB0aGUgbG9jYWxseSBnZW5lcmF0ZWQgb2JqZWN0IHVybFxuICAgICAgY29uc3Qgb2JqZWN0VXJsID0gKHRoaXMuX29iamVjdFVybCA9IHNlbGYuVVJMLmNyZWF0ZU9iamVjdFVSTChtcykpO1xuICAgICAgLy8gbGluayB2aWRlbyBhbmQgbWVkaWEgU291cmNlXG4gICAgICBpZiAodGhpcy5hcHBlbmRTb3VyY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgIC8vIE1hbmFnZWRNZWRpYVNvdXJjZSB3aWxsIG5vdCBvcGVuIHdpdGhvdXQgZGlzYWJsZVJlbW90ZVBsYXliYWNrIHNldCB0byBmYWxzZSBvciBzb3VyY2UgYWx0ZXJuYXRpdmVzXG4gICAgICAgICAgY29uc3QgTU1TID0gKHNlbGYgYXMgYW55KS5NYW5hZ2VkTWVkaWFTb3VyY2U7XG4gICAgICAgICAgbWVkaWEuZGlzYWJsZVJlbW90ZVBsYXliYWNrID1cbiAgICAgICAgICAgIG1lZGlhLmRpc2FibGVSZW1vdGVQbGF5YmFjayB8fCAoTU1TICYmIG1zIGluc3RhbmNlb2YgTU1TKTtcbiAgICAgICAgICByZW1vdmVTb3VyY2VDaGlsZHJlbihtZWRpYSk7XG4gICAgICAgICAgYWRkU291cmNlKG1lZGlhLCBvYmplY3RVcmwpO1xuICAgICAgICAgIG1lZGlhLmxvYWQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBtZWRpYS5zcmMgPSBvYmplY3RVcmw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lZGlhLnNyYyA9IG9iamVjdFVybDtcbiAgICAgIH1cbiAgICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ2VtcHRpZWQnLCB0aGlzLl9vbk1lZGlhRW1wdGllZCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgX29uRW5kU3RyZWFtaW5nID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCF0aGlzLmhscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhscy5wYXVzZUJ1ZmZlcmluZygpO1xuICB9O1xuICBwcml2YXRlIF9vblN0YXJ0U3RyZWFtaW5nID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCF0aGlzLmhscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhscy5yZXN1bWVCdWZmZXJpbmcoKTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgb25NZWRpYURldGFjaGluZygpIHtcbiAgICBjb25zdCB7IG1lZGlhLCBtZWRpYVNvdXJjZSwgX29iamVjdFVybCB9ID0gdGhpcztcbiAgICBpZiAobWVkaWFTb3VyY2UpIHtcbiAgICAgIHRoaXMubG9nKCdtZWRpYSBzb3VyY2UgZGV0YWNoaW5nJyk7XG4gICAgICBpZiAobWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gZW5kT2ZTdHJlYW0gY291bGQgdHJpZ2dlciBleGNlcHRpb24gaWYgYW55IHNvdXJjZWJ1ZmZlciBpcyBpbiB1cGRhdGluZyBzdGF0ZVxuICAgICAgICAgIC8vIHdlIGRvbid0IHJlYWxseSBjYXJlIGFib3V0IGNoZWNraW5nIHNvdXJjZWJ1ZmZlciBzdGF0ZSBoZXJlLFxuICAgICAgICAgIC8vIGFzIHdlIGFyZSBhbnl3YXkgZGV0YWNoaW5nIHRoZSBNZWRpYVNvdXJjZVxuICAgICAgICAgIC8vIGxldCdzIGp1c3QgYXZvaWQgdGhpcyBleGNlcHRpb24gdG8gcHJvcGFnYXRlXG4gICAgICAgICAgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgICAgYG9uTWVkaWFEZXRhY2hpbmc6ICR7ZXJyLm1lc3NhZ2V9IHdoaWxlIGNhbGxpbmcgZW5kT2ZTdHJlYW1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENsZWFuIHVwIHRoZSBTb3VyY2VCdWZmZXJzIGJ5IGludm9raW5nIG9uQnVmZmVyUmVzZXRcbiAgICAgIHRoaXMub25CdWZmZXJSZXNldCgpO1xuICAgICAgbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuX29uTWVkaWFTb3VyY2VPcGVuKTtcbiAgICAgIG1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5fb25NZWRpYVNvdXJjZUVuZGVkKTtcbiAgICAgIG1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5fb25NZWRpYVNvdXJjZUNsb3NlKTtcbiAgICAgIGlmICh0aGlzLmFwcGVuZFNvdXJjZSkge1xuICAgICAgICBtZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdzdGFydHN0cmVhbWluZycsXG4gICAgICAgICAgdGhpcy5fb25TdGFydFN0cmVhbWluZyxcbiAgICAgICAgKTtcbiAgICAgICAgbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kc3RyZWFtaW5nJywgdGhpcy5fb25FbmRTdHJlYW1pbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXRhY2ggcHJvcGVybHkgdGhlIE1lZGlhU291cmNlIGZyb20gdGhlIEhUTUxNZWRpYUVsZW1lbnQgYXNcbiAgICAgIC8vIHN1Z2dlc3RlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vdzNjL21lZGlhLXNvdXJjZS9pc3N1ZXMvNTMuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW1wdGllZCcsIHRoaXMuX29uTWVkaWFFbXB0aWVkKTtcbiAgICAgICAgaWYgKF9vYmplY3RVcmwpIHtcbiAgICAgICAgICBzZWxmLlVSTC5yZXZva2VPYmplY3RVUkwoX29iamVjdFVybCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhbiB1cCB2aWRlbyB0YWcgc3JjIG9ubHkgaWYgaXQncyBvdXIgb3duIHVybC4gc29tZSBleHRlcm5hbCBsaWJyYXJpZXMgbWlnaHRcbiAgICAgICAgLy8gaGlqYWNrIHRoZSB2aWRlbyB0YWcgYW5kIGNoYW5nZSBpdHMgJ3NyYycgd2l0aG91dCBkZXN0cm95aW5nIHRoZSBIbHMgaW5zdGFuY2UgZmlyc3RcbiAgICAgICAgaWYgKHRoaXMubWVkaWFTcmMgPT09IF9vYmplY3RVcmwpIHtcbiAgICAgICAgICBtZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgIGlmICh0aGlzLmFwcGVuZFNvdXJjZSkge1xuICAgICAgICAgICAgcmVtb3ZlU291cmNlQ2hpbGRyZW4obWVkaWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZWRpYS5sb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy53YXJuKFxuICAgICAgICAgICAgJ21lZGlhfHNvdXJjZS5zcmMgd2FzIGNoYW5nZWQgYnkgYSB0aGlyZCBwYXJ0eSAtIHNraXAgY2xlYW51cCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLm1lZGlhU291cmNlID0gbnVsbDtcbiAgICAgIHRoaXMubWVkaWEgPSBudWxsO1xuICAgICAgdGhpcy5fb2JqZWN0VXJsID0gbnVsbDtcbiAgICAgIHRoaXMuYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCA9IHRoaXMuX2J1ZmZlckNvZGVjRXZlbnRzVG90YWw7XG4gICAgICB0aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgIHRoaXMudHJhY2tzID0ge307XG4gICAgfVxuXG4gICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuTUVESUFfREVUQUNIRUQsIHVuZGVmaW5lZCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25CdWZmZXJSZXNldCgpIHtcbiAgICB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgdGhpcy5yZXNldEJ1ZmZlcih0eXBlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9pbml0U291cmNlQnVmZmVyKCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2V0QnVmZmVyKHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUpIHtcbiAgICBjb25zdCBzYiA9IHRoaXMuc291cmNlQnVmZmVyW3R5cGVdO1xuICAgIHRyeSB7XG4gICAgICBpZiAoc2IpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVCdWZmZXJMaXN0ZW5lcnModHlwZSk7XG4gICAgICAgIC8vIFN5bmNocm9ub3VzbHkgcmVtb3ZlIHRoZSBTQiBmcm9tIHRoZSBtYXAgYmVmb3JlIHRoZSBuZXh0IGNhbGwgaW4gb3JkZXIgdG8gcHJldmVudCBhbiBhc3luYyBmdW5jdGlvbiBmcm9tXG4gICAgICAgIC8vIGFjY2Vzc2luZyBpdFxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclt0eXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2U/LnNvdXJjZUJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVTb3VyY2VCdWZmZXIoc2IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLndhcm4oYG9uQnVmZmVyUmVzZXQgJHt0eXBlfWAsIGVycik7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG9uQnVmZmVyQ29kZWNzKFxuICAgIGV2ZW50OiBFdmVudHMuQlVGRkVSX0NPREVDUyxcbiAgICBkYXRhOiBCdWZmZXJDb2RlY3NEYXRhLFxuICApIHtcbiAgICBjb25zdCBzb3VyY2VCdWZmZXJDb3VudCA9IHRoaXMuZ2V0U291cmNlQnVmZmVyVHlwZXMoKS5sZW5ndGg7XG4gICAgY29uc3QgdHJhY2tOYW1lcyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIHRyYWNrTmFtZXMuZm9yRWFjaCgodHJhY2tOYW1lKSA9PiB7XG4gICAgICBpZiAoc291cmNlQnVmZmVyQ291bnQpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgU291cmNlQnVmZmVyIGNvZGVjIG5lZWRzIHRvIGNoYW5nZVxuICAgICAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgIGlmICh0cmFjayAmJiB0eXBlb2YgdHJhY2suYnVmZmVyLmNoYW5nZVR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb25zdCB7IGlkLCBjb2RlYywgbGV2ZWxDb2RlYywgY29udGFpbmVyLCBtZXRhZGF0YSB9ID1cbiAgICAgICAgICAgIGRhdGFbdHJhY2tOYW1lXTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29kZWNGdWxsID0gcGlja01vc3RDb21wbGV0ZUNvZGVjTmFtZShcbiAgICAgICAgICAgIHRyYWNrLmNvZGVjLFxuICAgICAgICAgICAgdHJhY2subGV2ZWxDb2RlYyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb2RlYyA9IGN1cnJlbnRDb2RlY0Z1bGw/LnJlcGxhY2UoXG4gICAgICAgICAgICBWSURFT19DT0RFQ19QUk9GSUxFX1JFUExBQ0UsXG4gICAgICAgICAgICAnJDEnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHRyYWNrQ29kZWMgPSBwaWNrTW9zdENvbXBsZXRlQ29kZWNOYW1lKGNvZGVjLCBsZXZlbENvZGVjKTtcbiAgICAgICAgICBjb25zdCBuZXh0Q29kZWMgPSB0cmFja0NvZGVjPy5yZXBsYWNlKFxuICAgICAgICAgICAgVklERU9fQ09ERUNfUFJPRklMRV9SRVBMQUNFLFxuICAgICAgICAgICAgJyQxJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh0cmFja0NvZGVjICYmIGN1cnJlbnRDb2RlYyAhPT0gbmV4dENvZGVjKSB7XG4gICAgICAgICAgICBpZiAodHJhY2tOYW1lLnNsaWNlKDAsIDUpID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgIHRyYWNrQ29kZWMgPSBnZXRDb2RlY0NvbXBhdGlibGVOYW1lKFxuICAgICAgICAgICAgICAgIHRyYWNrQ29kZWMsXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRTb3VyY2UsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtaW1lVHlwZSA9IGAke2NvbnRhaW5lcn07Y29kZWNzPSR7dHJhY2tDb2RlY31gO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGFuZ2VUeXBlKHRyYWNrTmFtZSwgbWltZVR5cGUpO1xuICAgICAgICAgICAgdGhpcy5sb2coYHN3aXRjaGluZyBjb2RlYyAke2N1cnJlbnRDb2RlY0Z1bGx9IHRvICR7dHJhY2tDb2RlY31gKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2tzW3RyYWNrTmFtZV0gPSB7XG4gICAgICAgICAgICAgIGJ1ZmZlcjogdHJhY2suYnVmZmVyLFxuICAgICAgICAgICAgICBjb2RlYyxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBsZXZlbENvZGVjLFxuICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgc291cmNlIGJ1ZmZlcihzKSBub3QgY3JlYXRlZCB5ZXQsIGFwcGVuZGVkIGJ1ZmZlciB0cmFja3MgaW4gdGhpcy5wZW5kaW5nVHJhY2tzXG4gICAgICAgIHRoaXMucGVuZGluZ1RyYWNrc1t0cmFja05hbWVdID0gZGF0YVt0cmFja05hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gaWYgc291cmNlYnVmZmVycyBhbHJlYWR5IGNyZWF0ZWQsIGRvIG5vdGhpbmcgLi4uXG4gICAgaWYgKHNvdXJjZUJ1ZmZlckNvdW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCA9IE1hdGgubWF4KFxuICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkIC0gMSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICBpZiAodGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkICE9PSBidWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkKSB7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYCR7YnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZH0gYnVmZmVyQ29kZWMgZXZlbnQocykgZXhwZWN0ZWQgJHt0cmFja05hbWVzLmpvaW4oXG4gICAgICAgICAgJywnLFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZDtcbiAgICB9XG4gICAgaWYgKHRoaXMubWVkaWFTb3VyY2UgJiYgdGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFwcGVuZENoYW5nZVR5cGUodHlwZSwgbWltZVR5cGUpIHtcbiAgICBjb25zdCB7IG9wZXJhdGlvblF1ZXVlIH0gPSB0aGlzO1xuICAgIGNvbnN0IG9wZXJhdGlvbjogQnVmZmVyT3BlcmF0aW9uID0ge1xuICAgICAgZXhlY3V0ZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBzYiA9IHRoaXMuc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICB0aGlzLmxvZyhgY2hhbmdpbmcgJHt0eXBlfSBzb3VyY2VCdWZmZXIgdHlwZSB0byAke21pbWVUeXBlfWApO1xuICAgICAgICAgIHNiLmNoYW5nZVR5cGUobWltZVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIG9wZXJhdGlvblF1ZXVlLnNoaWZ0QW5kRXhlY3V0ZU5leHQodHlwZSk7XG4gICAgICB9LFxuICAgICAgb25TdGFydDogKCkgPT4ge30sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7fSxcbiAgICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy53YXJuKGBGYWlsZWQgdG8gY2hhbmdlICR7dHlwZX0gU291cmNlQnVmZmVyIHR5cGVgLCBlcnJvcik7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICBvcGVyYXRpb25RdWV1ZS5hcHBlbmQob3BlcmF0aW9uLCB0eXBlLCAhIXRoaXMucGVuZGluZ1RyYWNrc1t0eXBlXSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25CdWZmZXJBcHBlbmRpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfQVBQRU5ESU5HLFxuICAgIGV2ZW50RGF0YTogQnVmZmVyQXBwZW5kaW5nRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBobHMsIG9wZXJhdGlvblF1ZXVlLCB0cmFja3MgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBkYXRhLCB0eXBlLCBmcmFnLCBwYXJ0LCBjaHVua01ldGEgfSA9IGV2ZW50RGF0YTtcbiAgICBjb25zdCBjaHVua1N0YXRzID0gY2h1bmtNZXRhLmJ1ZmZlcmluZ1t0eXBlXTtcblxuICAgIGNvbnN0IGJ1ZmZlckFwcGVuZGluZ1N0YXJ0ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjaHVua1N0YXRzLnN0YXJ0ID0gYnVmZmVyQXBwZW5kaW5nU3RhcnQ7XG4gICAgY29uc3QgZnJhZ0J1ZmZlcmluZyA9IGZyYWcuc3RhdHMuYnVmZmVyaW5nO1xuICAgIGNvbnN0IHBhcnRCdWZmZXJpbmcgPSBwYXJ0ID8gcGFydC5zdGF0cy5idWZmZXJpbmcgOiBudWxsO1xuICAgIGlmIChmcmFnQnVmZmVyaW5nLnN0YXJ0ID09PSAwKSB7XG4gICAgICBmcmFnQnVmZmVyaW5nLnN0YXJ0ID0gYnVmZmVyQXBwZW5kaW5nU3RhcnQ7XG4gICAgfVxuICAgIGlmIChwYXJ0QnVmZmVyaW5nICYmIHBhcnRCdWZmZXJpbmcuc3RhcnQgPT09IDApIHtcbiAgICAgIHBhcnRCdWZmZXJpbmcuc3RhcnQgPSBidWZmZXJBcHBlbmRpbmdTdGFydDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBPbmx5IHVwZGF0ZSB0aW1lc3RhbXBPZmZzZXQgd2hlbiBhdWRpby9tcGVnIGZyYWdtZW50IG9yIHBhcnQgaXMgbm90IGNvbnRpZ3VvdXMgd2l0aCBwcmV2aW91c2x5IGFwcGVuZGVkXG4gICAgLy8gQWRqdXN0aW5nIGBTb3VyY2VCdWZmZXIudGltZXN0YW1wT2Zmc2V0YCAoZGVzaXJlZCBwb2ludCBpbiB0aGUgdGltZWxpbmUgd2hlcmUgdGhlIG5leHQgZnJhbWVzIHNob3VsZCBiZSBhcHBlbmRlZClcbiAgICAvLyBpbiBDaHJvbWUgYnJvd3NlciB3aGVuIHdlIGRldGVjdCBNUEVHIGF1ZGlvIGNvbnRhaW5lciBhbmQgdGltZSBkZWx0YSBiZXR3ZWVuIGxldmVsIFBUUyBhbmQgYFNvdXJjZUJ1ZmZlci50aW1lc3RhbXBPZmZzZXRgXG4gICAgLy8gaXMgZ3JlYXRlciB0aGFuIDEwMG1zICh0aGlzIGlzIGVub3VnaCB0byBoYW5kbGUgc2VlayBmb3IgVk9EIG9yIGxldmVsIGNoYW5nZSBmb3IgTElWRSB2aWRlb3MpLlxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvMzMyI2lzc3VlY29tbWVudC0yNTc5ODY0ODZcbiAgICBjb25zdCBhdWRpb1RyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgIGxldCBjaGVja1RpbWVzdGFtcE9mZnNldCA9IGZhbHNlO1xuICAgIGlmICh0eXBlID09PSAnYXVkaW8nICYmIGF1ZGlvVHJhY2s/LmNvbnRhaW5lciA9PT0gJ2F1ZGlvL21wZWcnKSB7XG4gICAgICBjaGVja1RpbWVzdGFtcE9mZnNldCA9XG4gICAgICAgICF0aGlzLmxhc3RNcGVnQXVkaW9DaHVuayB8fFxuICAgICAgICBjaHVua01ldGEuaWQgPT09IDEgfHxcbiAgICAgICAgdGhpcy5sYXN0TXBlZ0F1ZGlvQ2h1bmsuc24gIT09IGNodW5rTWV0YS5zbjtcbiAgICAgIHRoaXMubGFzdE1wZWdBdWRpb0NodW5rID0gY2h1bmtNZXRhO1xuICAgIH1cblxuICAgIGNvbnN0IGZyYWdTdGFydCA9IGZyYWcuc3RhcnQ7XG4gICAgY29uc3Qgb3BlcmF0aW9uOiBCdWZmZXJPcGVyYXRpb24gPSB7XG4gICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgIGNodW5rU3RhdHMuZXhlY3V0ZVN0YXJ0ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGNoZWNrVGltZXN0YW1wT2Zmc2V0KSB7XG4gICAgICAgICAgY29uc3Qgc2IgPSB0aGlzLnNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZnJhZ1N0YXJ0IC0gc2IudGltZXN0YW1wT2Zmc2V0O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+PSAwLjEpIHtcbiAgICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgICAgYFVwZGF0aW5nIGF1ZGlvIFNvdXJjZUJ1ZmZlciB0aW1lc3RhbXBPZmZzZXQgdG8gJHtmcmFnU3RhcnR9IChkZWx0YTogJHtkZWx0YX0pIHNuOiAke2ZyYWcuc259KWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHNiLnRpbWVzdGFtcE9mZnNldCA9IGZyYWdTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcHBlbmRFeGVjdXRvcihkYXRhLCB0eXBlKTtcbiAgICAgIH0sXG4gICAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW2J1ZmZlci1jb250cm9sbGVyXTogJHt0eXBlfSBTb3VyY2VCdWZmZXIgdXBkYXRlc3RhcnRgKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW2J1ZmZlci1jb250cm9sbGVyXTogJHt0eXBlfSBTb3VyY2VCdWZmZXIgdXBkYXRlZW5kYCk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNodW5rU3RhdHMuZXhlY3V0ZUVuZCA9IGNodW5rU3RhdHMuZW5kID0gZW5kO1xuICAgICAgICBpZiAoZnJhZ0J1ZmZlcmluZy5maXJzdCA9PT0gMCkge1xuICAgICAgICAgIGZyYWdCdWZmZXJpbmcuZmlyc3QgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRCdWZmZXJpbmcgJiYgcGFydEJ1ZmZlcmluZy5maXJzdCA9PT0gMCkge1xuICAgICAgICAgIHBhcnRCdWZmZXJpbmcuZmlyc3QgPSBlbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNvdXJjZUJ1ZmZlciB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdGltZVJhbmdlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgdGltZVJhbmdlc1t0eXBlXSA9IEJ1ZmZlckhlbHBlci5nZXRCdWZmZXJlZChzb3VyY2VCdWZmZXJbdHlwZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBwZW5kRXJyb3JzW3R5cGVdID0gMDtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdhdWRpbycgfHwgdHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3JzLmF1ZGlvdmlkZW8gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3JzLmF1ZGlvID0gMDtcbiAgICAgICAgICB0aGlzLmFwcGVuZEVycm9ycy52aWRlbyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX0FQUEVOREVELCB7XG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBmcmFnLFxuICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgY2h1bmtNZXRhLFxuICAgICAgICAgIHBhcmVudDogZnJhZy50eXBlLFxuICAgICAgICAgIHRpbWVSYW5nZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgLy8gaW4gY2FzZSBhbnkgZXJyb3Igb2NjdXJlZCB3aGlsZSBhcHBlbmRpbmcsIHB1dCBiYWNrIHNlZ21lbnQgaW4gc2VnbWVudHMgdGFibGVcbiAgICAgICAgY29uc3QgZXZlbnQ6IEVycm9yRGF0YSA9IHtcbiAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgIHBhcmVudDogZnJhZy50eXBlLFxuICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5EX0VSUk9SLFxuICAgICAgICAgIHNvdXJjZUJ1ZmZlck5hbWU6IHR5cGUsXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBwYXJ0LFxuICAgICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBlcnI6IGVycm9yLFxuICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoKGVycm9yIGFzIERPTUV4Y2VwdGlvbikuY29kZSA9PT0gRE9NRXhjZXB0aW9uLlFVT1RBX0VYQ0VFREVEX0VSUikge1xuICAgICAgICAgIC8vIFF1b3RhRXhjZWVkZWRFcnJvcjogaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNxdW90YWV4Y2VlZGVkZXJyb3JcbiAgICAgICAgICAvLyBsZXQncyBzdG9wIGFwcGVuZGluZyBhbnkgc2VnbWVudHMsIGFuZCByZXBvcnQgQlVGRkVSX0ZVTExfRVJST1IgZXJyb3JcbiAgICAgICAgICBldmVudC5kZXRhaWxzID0gRXJyb3JEZXRhaWxzLkJVRkZFUl9GVUxMX0VSUk9SO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGFwcGVuZEVycm9yQ291bnQgPSArK3RoaXMuYXBwZW5kRXJyb3JzW3R5cGVdO1xuICAgICAgICAgIGV2ZW50LmRldGFpbHMgPSBFcnJvckRldGFpbHMuQlVGRkVSX0FQUEVORF9FUlJPUjtcbiAgICAgICAgICAvKiB3aXRoIFVIRCBjb250ZW50LCB3ZSBjb3VsZCBnZXQgbG9vcCBvZiBxdW90YSBleGNlZWRlZCBlcnJvciB1bnRpbFxuICAgICAgICAgICAgYnJvd3NlciBpcyBhYmxlIHRvIGV2aWN0IHNvbWUgZGF0YSBmcm9tIHNvdXJjZWJ1ZmZlci4gUmV0cnlpbmcgY2FuIGhlbHAgcmVjb3Zlci5cbiAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMud2FybihcbiAgICAgICAgICAgIGBGYWlsZWQgJHthcHBlbmRFcnJvckNvdW50fS8ke2hscy5jb25maWcuYXBwZW5kRXJyb3JNYXhSZXRyeX0gdGltZXMgdG8gYXBwZW5kIHNlZ21lbnQgaW4gXCIke3R5cGV9XCIgc291cmNlQnVmZmVyYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhcHBlbmRFcnJvckNvdW50ID49IGhscy5jb25maWcuYXBwZW5kRXJyb3JNYXhSZXRyeSkge1xuICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuRVJST1IsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBvcGVyYXRpb25RdWV1ZS5hcHBlbmQob3BlcmF0aW9uLCB0eXBlLCAhIXRoaXMucGVuZGluZ1RyYWNrc1t0eXBlXSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25CdWZmZXJGbHVzaGluZyhcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9GTFVTSElORyxcbiAgICBkYXRhOiBCdWZmZXJGbHVzaGluZ0RhdGEsXG4gICkge1xuICAgIGNvbnN0IHsgb3BlcmF0aW9uUXVldWUgfSA9IHRoaXM7XG4gICAgY29uc3QgZmx1c2hPcGVyYXRpb24gPSAodHlwZTogU291cmNlQnVmZmVyTmFtZSk6IEJ1ZmZlck9wZXJhdGlvbiA9PiAoe1xuICAgICAgZXhlY3V0ZTogdGhpcy5yZW1vdmVFeGVjdXRvci5iaW5kKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0eXBlLFxuICAgICAgICBkYXRhLnN0YXJ0T2Zmc2V0LFxuICAgICAgICBkYXRhLmVuZE9mZnNldCxcbiAgICAgICksXG4gICAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW2J1ZmZlci1jb250cm9sbGVyXTogU3RhcnRlZCBmbHVzaGluZyAke2RhdGEuc3RhcnRPZmZzZXR9IC0+ICR7ZGF0YS5lbmRPZmZzZXR9IGZvciAke3R5cGV9IFNvdXJjZSBCdWZmZXJgKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhgW2J1ZmZlci1jb250cm9sbGVyXTogRmluaXNoZWQgZmx1c2hpbmcgJHtkYXRhLnN0YXJ0T2Zmc2V0fSAtPiAke2RhdGEuZW5kT2Zmc2V0fSBmb3IgJHt0eXBlfSBTb3VyY2UgQnVmZmVyYCk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9GTFVTSEVELCB7IHR5cGUgfSk7XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICB0aGlzLndhcm4oYEZhaWxlZCB0byByZW1vdmUgZnJvbSAke3R5cGV9IFNvdXJjZUJ1ZmZlcmAsIGVycm9yKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoZGF0YS50eXBlKSB7XG4gICAgICBvcGVyYXRpb25RdWV1ZS5hcHBlbmQoZmx1c2hPcGVyYXRpb24oZGF0YS50eXBlKSwgZGF0YS50eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpLmZvckVhY2goKHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUpID0+IHtcbiAgICAgICAgb3BlcmF0aW9uUXVldWUuYXBwZW5kKGZsdXNoT3BlcmF0aW9uKHR5cGUpLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkZyYWdQYXJzZWQoZXZlbnQ6IEV2ZW50cy5GUkFHX1BBUlNFRCwgZGF0YTogRnJhZ1BhcnNlZERhdGEpIHtcbiAgICBjb25zdCB7IGZyYWcsIHBhcnQgfSA9IGRhdGE7XG4gICAgY29uc3QgYnVmZmVyc0FwcGVuZGVkVG86IEFycmF5PFNvdXJjZUJ1ZmZlck5hbWU+ID0gW107XG4gICAgY29uc3QgZWxlbWVudGFyeVN0cmVhbXMgPSBwYXJ0XG4gICAgICA/IHBhcnQuZWxlbWVudGFyeVN0cmVhbXNcbiAgICAgIDogZnJhZy5lbGVtZW50YXJ5U3RyZWFtcztcbiAgICBpZiAoZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPVklERU9dKSB7XG4gICAgICBidWZmZXJzQXBwZW5kZWRUby5wdXNoKCdhdWRpb3ZpZGVvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbGVtZW50YXJ5U3RyZWFtc1tFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU9dKSB7XG4gICAgICAgIGJ1ZmZlcnNBcHBlbmRlZFRvLnB1c2goJ2F1ZGlvJyk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudGFyeVN0cmVhbXNbRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPXSkge1xuICAgICAgICBidWZmZXJzQXBwZW5kZWRUby5wdXNoKCd2aWRlbycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9uVW5ibG9ja2VkID0gKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGZyYWcuc3RhdHMuYnVmZmVyaW5nLmVuZCA9IG5vdztcbiAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgIHBhcnQuc3RhdHMuYnVmZmVyaW5nLmVuZCA9IG5vdztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXRzID0gcGFydCA/IHBhcnQuc3RhdHMgOiBmcmFnLnN0YXRzO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRlJBR19CVUZGRVJFRCwge1xuICAgICAgICBmcmFnLFxuICAgICAgICBwYXJ0LFxuICAgICAgICBzdGF0cyxcbiAgICAgICAgaWQ6IGZyYWcudHlwZSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoYnVmZmVyc0FwcGVuZGVkVG8ubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLndhcm4oXG4gICAgICAgIGBGcmFnbWVudHMgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBFbGVtZW50YXJ5U3RyZWFtVHlwZSBzZXQuIHR5cGU6ICR7ZnJhZy50eXBlfSBsZXZlbDogJHtmcmFnLmxldmVsfSBzbjogJHtmcmFnLnNufWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuYmxvY2tCdWZmZXJzKG9uVW5ibG9ja2VkLCBidWZmZXJzQXBwZW5kZWRUbyk7XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0NoYW5nZWQoZXZlbnQ6IEV2ZW50cy5GUkFHX0NIQU5HRUQsIGRhdGE6IEZyYWdDaGFuZ2VkRGF0YSkge1xuICAgIHRoaXMudHJpbUJ1ZmZlcnMoKTtcbiAgfVxuXG4gIC8vIG9uIEJVRkZFUl9FT1MgbWFyayBtYXRjaGluZyBzb3VyY2VidWZmZXIocykgYXMgZW5kZWQgYW5kIHRyaWdnZXIgY2hlY2tFb3MoKVxuICAvLyBhbiB1bmRlZmluZWQgZGF0YS50eXBlIHdpbGwgbWFyayBhbGwgYnVmZmVycyBhcyBFT1MuXG4gIHByb3RlY3RlZCBvbkJ1ZmZlckVvcyhldmVudDogRXZlbnRzLkJVRkZFUl9FT1MsIGRhdGE6IEJ1ZmZlckVPU0RhdGEpIHtcbiAgICBjb25zdCBlbmRlZCA9IHRoaXMuZ2V0U291cmNlQnVmZmVyVHlwZXMoKS5yZWR1Y2UoKGFjYywgdHlwZSkgPT4ge1xuICAgICAgY29uc3Qgc2IgPSB0aGlzLnNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgIGlmIChzYiAmJiAoIWRhdGEudHlwZSB8fCBkYXRhLnR5cGUgPT09IHR5cGUpKSB7XG4gICAgICAgIHNiLmVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICghc2IuZW5kZWQpIHtcbiAgICAgICAgICBzYi5lbmRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5sb2coYCR7dHlwZX0gc291cmNlQnVmZmVyIG5vdyBFT1NgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYyAmJiAhISghc2IgfHwgc2IuZW5kZWQpO1xuICAgIH0sIHRydWUpO1xuXG4gICAgaWYgKGVuZGVkKSB7XG4gICAgICB0aGlzLmxvZyhgUXVldWVpbmcgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKWApO1xuICAgICAgdGhpcy5ibG9ja0J1ZmZlcnMoKCkgPT4ge1xuICAgICAgICB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNiID0gdGhpcy5zb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICBzYi5lbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IG1lZGlhU291cmNlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIW1lZGlhU291cmNlIHx8IG1lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgIGlmIChtZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIGBDb3VsZCBub3QgY2FsbCBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpLiBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlOiAke21lZGlhU291cmNlLnJlYWR5U3RhdGV9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZyhgQ2FsbGluZyBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpYCk7XG4gICAgICAgIC8vIEFsbG93IHRoaXMgdG8gdGhyb3cgYW5kIGJlIGNhdWdodCBieSB0aGUgZW5xdWV1ZWluZyBmdW5jdGlvblxuICAgICAgICBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG9uTGV2ZWxVcGRhdGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxfVVBEQVRFRCxcbiAgICB7IGRldGFpbHMgfTogTGV2ZWxVcGRhdGVkRGF0YSxcbiAgKSB7XG4gICAgaWYgKCFkZXRhaWxzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcblxuICAgIGlmICh0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCkubGVuZ3RoKSB7XG4gICAgICB0aGlzLmJsb2NrQnVmZmVycyh0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgdHJpbUJ1ZmZlcnMoKSB7XG4gICAgY29uc3QgeyBobHMsIGRldGFpbHMsIG1lZGlhIH0gPSB0aGlzO1xuICAgIGlmICghbWVkaWEgfHwgZGV0YWlscyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZUJ1ZmZlclR5cGVzID0gdGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpO1xuICAgIGlmICghc291cmNlQnVmZmVyVHlwZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlnOiBSZWFkb25seTxIbHNDb25maWc+ID0gaGxzLmNvbmZpZztcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIGNvbnN0IHRhcmdldER1cmF0aW9uID0gZGV0YWlscy5sZXZlbFRhcmdldER1cmF0aW9uO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgZGVwcmVjYXRlZCBsaXZlQmFja0J1ZmZlckxlbmd0aFxuICAgIGNvbnN0IGJhY2tCdWZmZXJMZW5ndGggPVxuICAgICAgZGV0YWlscy5saXZlICYmIGNvbmZpZy5saXZlQmFja0J1ZmZlckxlbmd0aCAhPT0gbnVsbFxuICAgICAgICA/IGNvbmZpZy5saXZlQmFja0J1ZmZlckxlbmd0aFxuICAgICAgICA6IGNvbmZpZy5iYWNrQnVmZmVyTGVuZ3RoO1xuXG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShiYWNrQnVmZmVyTGVuZ3RoKSAmJiBiYWNrQnVmZmVyTGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbWF4QmFja0J1ZmZlckxlbmd0aCA9IE1hdGgubWF4KGJhY2tCdWZmZXJMZW5ndGgsIHRhcmdldER1cmF0aW9uKTtcbiAgICAgIGNvbnN0IHRhcmdldEJhY2tCdWZmZXJQb3NpdGlvbiA9XG4gICAgICAgIE1hdGguZmxvb3IoY3VycmVudFRpbWUgLyB0YXJnZXREdXJhdGlvbikgKiB0YXJnZXREdXJhdGlvbiAtXG4gICAgICAgIG1heEJhY2tCdWZmZXJMZW5ndGg7XG5cbiAgICAgIHRoaXMuZmx1c2hCYWNrQnVmZmVyKFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgdGFyZ2V0RHVyYXRpb24sXG4gICAgICAgIHRhcmdldEJhY2tCdWZmZXJQb3NpdGlvbixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgTnVtYmVyLmlzRmluaXRlKGNvbmZpZy5mcm9udEJ1ZmZlckZsdXNoVGhyZXNob2xkKSAmJlxuICAgICAgY29uZmlnLmZyb250QnVmZmVyRmx1c2hUaHJlc2hvbGQgPiAwXG4gICAgKSB7XG4gICAgICBjb25zdCBmcm9udEJ1ZmZlckxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICBjb25maWcubWF4QnVmZmVyTGVuZ3RoLFxuICAgICAgICBjb25maWcuZnJvbnRCdWZmZXJGbHVzaFRocmVzaG9sZCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1heEZyb250QnVmZmVyTGVuZ3RoID0gTWF0aC5tYXgoZnJvbnRCdWZmZXJMZW5ndGgsIHRhcmdldER1cmF0aW9uKTtcbiAgICAgIGNvbnN0IHRhcmdldEZyb250QnVmZmVyUG9zaXRpb24gPVxuICAgICAgICBNYXRoLmZsb29yKGN1cnJlbnRUaW1lIC8gdGFyZ2V0RHVyYXRpb24pICogdGFyZ2V0RHVyYXRpb24gK1xuICAgICAgICBtYXhGcm9udEJ1ZmZlckxlbmd0aDtcblxuICAgICAgdGhpcy5mbHVzaEZyb250QnVmZmVyKFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgdGFyZ2V0RHVyYXRpb24sXG4gICAgICAgIHRhcmdldEZyb250QnVmZmVyUG9zaXRpb24sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZsdXNoQmFja0J1ZmZlcihcbiAgICBjdXJyZW50VGltZTogbnVtYmVyLFxuICAgIHRhcmdldER1cmF0aW9uOiBudW1iZXIsXG4gICAgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IHsgZGV0YWlscywgc291cmNlQnVmZmVyIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNvdXJjZUJ1ZmZlclR5cGVzID0gdGhpcy5nZXRTb3VyY2VCdWZmZXJUeXBlcygpO1xuXG4gICAgc291cmNlQnVmZmVyVHlwZXMuZm9yRWFjaCgodHlwZTogU291cmNlQnVmZmVyTmFtZSkgPT4ge1xuICAgICAgY29uc3Qgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICBpZiAoc2IpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyZWQgPSBCdWZmZXJIZWxwZXIuZ2V0QnVmZmVyZWQoc2IpO1xuICAgICAgICAvLyB3aGVuIHRhcmdldCBidWZmZXIgc3RhcnQgZXhjZWVkcyBhY3R1YWwgYnVmZmVyIHN0YXJ0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBidWZmZXJlZC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uID4gYnVmZmVyZWQuc3RhcnQoMClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQkFDS19CVUZGRVJfUkVBQ0hFRCwge1xuICAgICAgICAgICAgYnVmZmVyRW5kOiB0YXJnZXRCYWNrQnVmZmVyUG9zaXRpb24sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBTdXBwb3J0IGZvciBkZXByZWNhdGVkIGV2ZW50OlxuICAgICAgICAgIGlmIChkZXRhaWxzPy5saXZlKSB7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5MSVZFX0JBQ0tfQlVGRkVSX1JFQUNIRUQsIHtcbiAgICAgICAgICAgICAgYnVmZmVyRW5kOiB0YXJnZXRCYWNrQnVmZmVyUG9zaXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgc2IuZW5kZWQgJiZcbiAgICAgICAgICAgIGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKSAtIGN1cnJlbnRUaW1lIDwgdGFyZ2V0RHVyYXRpb24gKiAyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYENhbm5vdCBmbHVzaCAke3R5cGV9IGJhY2sgYnVmZmVyIHdoaWxlIFNvdXJjZUJ1ZmZlciBpcyBpbiBlbmRlZCBzdGF0ZWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9GTFVTSElORywge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IDAsXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IHRhcmdldEJhY2tCdWZmZXJQb3NpdGlvbixcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZsdXNoRnJvbnRCdWZmZXIoXG4gICAgY3VycmVudFRpbWU6IG51bWJlcixcbiAgICB0YXJnZXREdXJhdGlvbjogbnVtYmVyLFxuICAgIHRhcmdldEZyb250QnVmZmVyUG9zaXRpb246IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgeyBzb3VyY2VCdWZmZXIgfSA9IHRoaXM7XG4gICAgY29uc3Qgc291cmNlQnVmZmVyVHlwZXMgPSB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCk7XG5cbiAgICBzb3VyY2VCdWZmZXJUeXBlcy5mb3JFYWNoKCh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSA9PiB7XG4gICAgICBjb25zdCBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgIGlmIChzYikge1xuICAgICAgICBjb25zdCBidWZmZXJlZCA9IEJ1ZmZlckhlbHBlci5nZXRCdWZmZXJlZChzYik7XG4gICAgICAgIGNvbnN0IG51bUJ1ZmZlcmVkUmFuZ2VzID0gYnVmZmVyZWQubGVuZ3RoO1xuICAgICAgICAvLyBUaGUgYnVmZmVyIGlzIGVpdGhlciBlbXB0eSBvciBjb250aWd1b3VzXG4gICAgICAgIGlmIChudW1CdWZmZXJlZFJhbmdlcyA8IDIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVmZmVyU3RhcnQgPSBidWZmZXJlZC5zdGFydChudW1CdWZmZXJlZFJhbmdlcyAtIDEpO1xuICAgICAgICBjb25zdCBidWZmZXJFbmQgPSBidWZmZXJlZC5lbmQobnVtQnVmZmVyZWRSYW5nZXMgLSAxKTtcbiAgICAgICAgLy8gTm8gZmx1c2ggaWYgd2UgY2FuIHRvbGVyYXRlIHRoZSBjdXJyZW50IGJ1ZmZlciBsZW5ndGggb3IgdGhlIGN1cnJlbnQgYnVmZmVyIHJhbmdlIHdlIHdvdWxkIGZsdXNoIGlzIGNvbnRpZ3VvdXMgd2l0aCBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0YXJnZXRGcm9udEJ1ZmZlclBvc2l0aW9uID4gYnVmZmVyU3RhcnQgfHxcbiAgICAgICAgICAoY3VycmVudFRpbWUgPj0gYnVmZmVyU3RhcnQgJiYgY3VycmVudFRpbWUgPD0gYnVmZmVyRW5kKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoc2IuZW5kZWQgJiYgY3VycmVudFRpbWUgLSBidWZmZXJFbmQgPCAyICogdGFyZ2V0RHVyYXRpb24pIHtcbiAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBDYW5ub3QgZmx1c2ggJHt0eXBlfSBmcm9udCBidWZmZXIgd2hpbGUgU291cmNlQnVmZmVyIGlzIGluIGVuZGVkIHN0YXRlYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9GTFVTSElORywge1xuICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBidWZmZXJTdGFydCxcbiAgICAgICAgICBlbmRPZmZzZXQ6IEluZmluaXR5LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBNZWRpYSBTb3VyY2UgZHVyYXRpb24gdG8gY3VycmVudCBsZXZlbCBkdXJhdGlvbiBvciBvdmVycmlkZSB0byBJbmZpbml0eSBpZiBjb25maWd1cmF0aW9uIHBhcmFtZXRlclxuICAgKiAnbGl2ZUR1cmF0aW9uSW5maW5pdHlgIGlzIHNldCB0byBgdHJ1ZWBcbiAgICogTW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvMzU1XG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCkge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmRldGFpbHMgfHxcbiAgICAgICF0aGlzLm1lZGlhIHx8XG4gICAgICAhdGhpcy5tZWRpYVNvdXJjZSB8fFxuICAgICAgdGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbidcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBkZXRhaWxzLCBobHMsIG1lZGlhLCBtZWRpYVNvdXJjZSB9ID0gdGhpcztcbiAgICBjb25zdCBsZXZlbER1cmF0aW9uID0gZGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQgKyBkZXRhaWxzLnRvdGFsZHVyYXRpb247XG4gICAgY29uc3QgbWVkaWFEdXJhdGlvbiA9IG1lZGlhLmR1cmF0aW9uO1xuICAgIGNvbnN0IG1zRHVyYXRpb24gPSBOdW1iZXIuaXNGaW5pdGUobWVkaWFTb3VyY2UuZHVyYXRpb24pXG4gICAgICA/IG1lZGlhU291cmNlLmR1cmF0aW9uXG4gICAgICA6IDA7XG5cbiAgICBpZiAoZGV0YWlscy5saXZlICYmIGhscy5jb25maWcubGl2ZUR1cmF0aW9uSW5maW5pdHkpIHtcbiAgICAgIC8vIE92ZXJyaWRlIGR1cmF0aW9uIHRvIEluZmluaXR5XG4gICAgICBtZWRpYVNvdXJjZS5kdXJhdGlvbiA9IEluZmluaXR5O1xuICAgICAgdGhpcy51cGRhdGVTZWVrYWJsZVJhbmdlKGRldGFpbHMpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAobGV2ZWxEdXJhdGlvbiA+IG1zRHVyYXRpb24gJiYgbGV2ZWxEdXJhdGlvbiA+IG1lZGlhRHVyYXRpb24pIHx8XG4gICAgICAhTnVtYmVyLmlzRmluaXRlKG1lZGlhRHVyYXRpb24pXG4gICAgKSB7XG4gICAgICAvLyBsZXZlbER1cmF0aW9uIHdhcyB0aGUgbGFzdCB2YWx1ZSB3ZSBzZXQuXG4gICAgICAvLyBub3QgdXNpbmcgbWVkaWFTb3VyY2UuZHVyYXRpb24gYXMgdGhlIGJyb3dzZXIgbWF5IHR3ZWFrIHRoaXMgdmFsdWVcbiAgICAgIC8vIG9ubHkgdXBkYXRlIE1lZGlhIFNvdXJjZSBkdXJhdGlvbiBpZiBpdHMgdmFsdWUgaW5jcmVhc2UsIHRoaXMgaXMgdG8gYXZvaWRcbiAgICAgIC8vIGZsdXNoaW5nIGFscmVhZHkgYnVmZmVyZWQgcG9ydGlvbiB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIHF1YWxpdHkgbGV2ZWxcbiAgICAgIHRoaXMubG9nKGBVcGRhdGluZyBNZWRpYSBTb3VyY2UgZHVyYXRpb24gdG8gJHtsZXZlbER1cmF0aW9uLnRvRml4ZWQoMyl9YCk7XG4gICAgICBtZWRpYVNvdXJjZS5kdXJhdGlvbiA9IGxldmVsRHVyYXRpb247XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU2Vla2FibGVSYW5nZShsZXZlbERldGFpbHMpIHtcbiAgICBjb25zdCBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgY29uc3QgZnJhZ21lbnRzID0gbGV2ZWxEZXRhaWxzLmZyYWdtZW50cztcbiAgICBjb25zdCBsZW4gPSBmcmFnbWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4gJiYgbGV2ZWxEZXRhaWxzLmxpdmUgJiYgbWVkaWFTb3VyY2U/LnNldExpdmVTZWVrYWJsZVJhbmdlKSB7XG4gICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIGZyYWdtZW50c1swXS5zdGFydCk7XG4gICAgICBjb25zdCBlbmQgPSBNYXRoLm1heChzdGFydCwgc3RhcnQgKyBsZXZlbERldGFpbHMudG90YWxkdXJhdGlvbik7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYE1lZGlhIFNvdXJjZSBkdXJhdGlvbiBpcyBzZXQgdG8gJHttZWRpYVNvdXJjZS5kdXJhdGlvbn0uIFNldHRpbmcgc2Vla2FibGUgcmFuZ2UgdG8gJHtzdGFydH0tJHtlbmR9LmAsXG4gICAgICApO1xuICAgICAgbWVkaWFTb3VyY2Uuc2V0TGl2ZVNlZWthYmxlUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNoZWNrUGVuZGluZ1RyYWNrcygpIHtcbiAgICBjb25zdCB7IGJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQsIG9wZXJhdGlvblF1ZXVlLCBwZW5kaW5nVHJhY2tzIH0gPSB0aGlzO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UndmUgcmVjZWl2ZWQgYWxsIG9mIHRoZSBleHBlY3RlZCBidWZmZXJDb2RlYyBldmVudHMuIFdoZW4gbm9uZSByZW1haW4sIGNyZWF0ZSBhbGwgdGhlIHNvdXJjZUJ1ZmZlcnMgYXQgb25jZS5cbiAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHRoZSBNU0Ugc3BlYyBhbGxvd3MgaW1wbGVtZW50YXRpb25zIHRvIHRocm93IFF1b3RhRXhjZWVkZWRFcnJvcnMgaWYgY3JlYXRpbmcgbmV3IHNvdXJjZUJ1ZmZlcnMgYWZ0ZXJcbiAgICAvLyBkYXRhIGhhcyBiZWVuIGFwcGVuZGVkIHRvIGV4aXN0aW5nIG9uZXMuXG4gICAgLy8gMiB0cmFja3MgaXMgdGhlIG1heCAob25lIGZvciBhdWRpbywgb25lIGZvciB2aWRlbykuIElmIHdlJ3ZlIHJlYWNoIHRoaXMgbWF4IGdvIGFoZWFkIGFuZCBjcmVhdGUgdGhlIGJ1ZmZlcnMuXG4gICAgY29uc3QgcGVuZGluZ1RyYWNrc0NvdW50ID0gT2JqZWN0LmtleXMocGVuZGluZ1RyYWNrcykubGVuZ3RoO1xuICAgIGlmIChcbiAgICAgIHBlbmRpbmdUcmFja3NDb3VudCAmJlxuICAgICAgKCFidWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkIHx8XG4gICAgICAgIHBlbmRpbmdUcmFja3NDb3VudCA9PT0gMiB8fFxuICAgICAgICAnYXVkaW92aWRlbycgaW4gcGVuZGluZ1RyYWNrcylcbiAgICApIHtcbiAgICAgIC8vIG9rLCBsZXQncyBjcmVhdGUgdGhlbSBub3cgIVxuICAgICAgdGhpcy5jcmVhdGVTb3VyY2VCdWZmZXJzKHBlbmRpbmdUcmFja3MpO1xuICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgICAvLyBhcHBlbmQgYW55IHBlbmRpbmcgc2VnbWVudHMgbm93ICFcbiAgICAgIGNvbnN0IGJ1ZmZlcnMgPSB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCk7XG4gICAgICBpZiAoYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX0NSRUFURUQsIHsgdHJhY2tzOiB0aGlzLnRyYWNrcyB9KTtcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKCh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSA9PiB7XG4gICAgICAgICAgb3BlcmF0aW9uUXVldWUuZXhlY3V0ZU5leHQodHlwZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2NvdWxkIG5vdCBjcmVhdGUgc291cmNlIGJ1ZmZlciBmb3IgbWVkaWEgY29kZWMocyknLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuTUVESUFfRVJST1IsXG4gICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkJVRkZFUl9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SLFxuICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVNvdXJjZUJ1ZmZlcnModHJhY2tzOiBUcmFja1NldCkge1xuICAgIGNvbnN0IHsgc291cmNlQnVmZmVyLCBtZWRpYVNvdXJjZSB9ID0gdGhpcztcbiAgICBpZiAoIW1lZGlhU291cmNlKSB7XG4gICAgICB0aHJvdyBFcnJvcignY3JlYXRlU291cmNlQnVmZmVycyBjYWxsZWQgd2hlbiBtZWRpYVNvdXJjZSB3YXMgbnVsbCcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHRyYWNrTmFtZSBpbiB0cmFja3MpIHtcbiAgICAgIGlmICghc291cmNlQnVmZmVyW3RyYWNrTmFtZV0pIHtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lIGFzIGtleW9mIFRyYWNrU2V0XTtcbiAgICAgICAgaWYgKCF0cmFjaykge1xuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgYHNvdXJjZSBidWZmZXIgZXhpc3RzIGZvciB0cmFjayAke3RyYWNrTmFtZX0sIGhvd2V2ZXIgdHJhY2sgZG9lcyBub3RgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlIGxldmVsQ29kZWMgYXMgZmlyc3QgcHJpb3JpdHkgdW5sZXNzIGl0IGNvbnRhaW5zIG11bHRpcGxlIGNvbW1hLXNlcGFyYXRlZCBjb2RlYyB2YWx1ZXNcbiAgICAgICAgbGV0IGNvZGVjID1cbiAgICAgICAgICB0cmFjay5sZXZlbENvZGVjPy5pbmRleE9mKCcsJykgPT09IC0xXG4gICAgICAgICAgICA/IHRyYWNrLmxldmVsQ29kZWNcbiAgICAgICAgICAgIDogdHJhY2suY29kZWM7XG4gICAgICAgIGlmIChjb2RlYykge1xuICAgICAgICAgIGlmICh0cmFja05hbWUuc2xpY2UoMCwgNSkgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIGNvZGVjID0gZ2V0Q29kZWNDb21wYXRpYmxlTmFtZShjb2RlYywgdGhpcy5hcHBlbmRTb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IGAke3RyYWNrLmNvbnRhaW5lcn07Y29kZWNzPSR7Y29kZWN9YDtcbiAgICAgICAgdGhpcy5sb2coYGNyZWF0aW5nIHNvdXJjZUJ1ZmZlcigke21pbWVUeXBlfSlgKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzYiA9IChzb3VyY2VCdWZmZXJbdHJhY2tOYW1lXSA9XG4gICAgICAgICAgICBtZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpKTtcbiAgICAgICAgICBjb25zdCBzYk5hbWUgPSB0cmFja05hbWUgYXMgU291cmNlQnVmZmVyTmFtZTtcbiAgICAgICAgICB0aGlzLmFkZEJ1ZmZlckxpc3RlbmVyKHNiTmFtZSwgJ3VwZGF0ZXN0YXJ0JywgdGhpcy5fb25TQlVwZGF0ZVN0YXJ0KTtcbiAgICAgICAgICB0aGlzLmFkZEJ1ZmZlckxpc3RlbmVyKHNiTmFtZSwgJ3VwZGF0ZWVuZCcsIHRoaXMuX29uU0JVcGRhdGVFbmQpO1xuICAgICAgICAgIHRoaXMuYWRkQnVmZmVyTGlzdGVuZXIoc2JOYW1lLCAnZXJyb3InLCB0aGlzLl9vblNCVXBkYXRlRXJyb3IpO1xuICAgICAgICAgIC8vIE1hbmFnZWRTb3VyY2VCdWZmZXIgYnVmZmVyZWRjaGFuZ2UgZXZlbnRcbiAgICAgICAgICBpZiAodGhpcy5hcHBlbmRTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQnVmZmVyTGlzdGVuZXIoXG4gICAgICAgICAgICAgIHNiTmFtZSxcbiAgICAgICAgICAgICAgJ2J1ZmZlcmVkY2hhbmdlJyxcbiAgICAgICAgICAgICAgKHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUsIGV2ZW50OiBCdWZmZXJlZENoYW5nZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbWVkaWEgd2FzIGVqZWN0ZWQgY2hlY2sgZm9yIGEgY2hhbmdlLiBBZGRlZCByYW5nZXMgYXJlIHJlZHVuZGFudCB3aXRoIGNoYW5nZXMgb24gJ3VwZGF0ZWVuZCcgZXZlbnQuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZFJhbmdlcyA9IGV2ZW50LnJlbW92ZWRSYW5nZXM7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRSYW5nZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX0ZMVVNIRUQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHJhY2tOYW1lIGFzIFNvdXJjZUJ1ZmZlck5hbWUsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMudHJhY2tzW3RyYWNrTmFtZV0gPSB7XG4gICAgICAgICAgICBidWZmZXI6IHNiLFxuICAgICAgICAgICAgY29kZWM6IGNvZGVjLFxuICAgICAgICAgICAgY29udGFpbmVyOiB0cmFjay5jb250YWluZXIsXG4gICAgICAgICAgICBsZXZlbENvZGVjOiB0cmFjay5sZXZlbENvZGVjLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRyYWNrLm1ldGFkYXRhLFxuICAgICAgICAgICAgaWQ6IHRyYWNrLmlkLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHRoaXMuZXJyb3IoYGVycm9yIHdoaWxlIHRyeWluZyB0byBhZGQgc291cmNlQnVmZmVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkJVRkZFUl9BRERfQ09ERUNfRVJST1IsXG4gICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgc291cmNlQnVmZmVyTmFtZTogdHJhY2tOYW1lIGFzIFNvdXJjZUJ1ZmZlck5hbWUsXG4gICAgICAgICAgICBtaW1lVHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBLZWVwIGFzIGFycm93IGZ1bmN0aW9ucyBzbyB0aGF0IHdlIGNhbiBkaXJlY3RseSByZWZlcmVuY2UgdGhlc2UgZnVuY3Rpb25zIGRpcmVjdGx5IGFzIGV2ZW50IGxpc3RlbmVyc1xuICBwcml2YXRlIF9vbk1lZGlhU291cmNlT3BlbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lZGlhLCBtZWRpYVNvdXJjZSB9ID0gdGhpcztcbiAgICB0aGlzLmxvZygnTWVkaWEgc291cmNlIG9wZW5lZCcpO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW1wdGllZCcsIHRoaXMuX29uTWVkaWFFbXB0aWVkKTtcbiAgICAgIHRoaXMudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB7XG4gICAgICAgIG1lZGlhLFxuICAgICAgICBtZWRpYVNvdXJjZTogbWVkaWFTb3VyY2UgYXMgTWVkaWFTb3VyY2UsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWVkaWFTb3VyY2UpIHtcbiAgICAgIC8vIG9uY2UgcmVjZWl2ZWQsIGRvbid0IGxpc3RlbiBhbnltb3JlIHRvIHNvdXJjZW9wZW4gZXZlbnRcbiAgICAgIG1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLl9vbk1lZGlhU291cmNlT3Blbik7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBfb25NZWRpYVNvdXJjZUNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nKCdNZWRpYSBzb3VyY2UgY2xvc2VkJyk7XG4gIH07XG5cbiAgcHJpdmF0ZSBfb25NZWRpYVNvdXJjZUVuZGVkID0gKCkgPT4ge1xuICAgIHRoaXMubG9nKCdNZWRpYSBzb3VyY2UgZW5kZWQnKTtcbiAgfTtcblxuICBwcml2YXRlIF9vbk1lZGlhRW1wdGllZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lZGlhU3JjLCBfb2JqZWN0VXJsIH0gPSB0aGlzO1xuICAgIGlmIChtZWRpYVNyYyAhPT0gX29iamVjdFVybCkge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBgTWVkaWEgZWxlbWVudCBzcmMgd2FzIHNldCB3aGlsZSBhdHRhY2hpbmcgTWVkaWFTb3VyY2UgKCR7X29iamVjdFVybH0gPiAke21lZGlhU3JjfSlgLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXQgbWVkaWFTcmMoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBtZWRpYSA9XG4gICAgICAodGhpcy5tZWRpYT8uZmlyc3RDaGlsZCBhcyBIVE1MU291cmNlRWxlbWVudCB8IG51bGwpIHx8IHRoaXMubWVkaWE7XG4gICAgcmV0dXJuIG1lZGlhPy5zcmM7XG4gIH1cblxuICBwcml2YXRlIF9vblNCVXBkYXRlU3RhcnQodHlwZTogU291cmNlQnVmZmVyTmFtZSkge1xuICAgIGNvbnN0IHsgb3BlcmF0aW9uUXVldWUgfSA9IHRoaXM7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gb3BlcmF0aW9uUXVldWUuY3VycmVudCh0eXBlKTtcbiAgICBvcGVyYXRpb24ub25TdGFydCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb25TQlVwZGF0ZUVuZCh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSB7XG4gICAgaWYgKHRoaXMubWVkaWFTb3VyY2U/LnJlYWR5U3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICB0aGlzLnJlc2V0QnVmZmVyKHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IG9wZXJhdGlvblF1ZXVlIH0gPSB0aGlzO1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IG9wZXJhdGlvblF1ZXVlLmN1cnJlbnQodHlwZSk7XG4gICAgb3BlcmF0aW9uLm9uQ29tcGxldGUoKTtcbiAgICBvcGVyYXRpb25RdWV1ZS5zaGlmdEFuZEV4ZWN1dGVOZXh0KHR5cGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb25TQlVwZGF0ZUVycm9yKHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUsIGV2ZW50OiBFdmVudCkge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgYCR7dHlwZX0gU291cmNlQnVmZmVyIGVycm9yLiBNZWRpYVNvdXJjZSByZWFkeVN0YXRlOiAke3RoaXMubWVkaWFTb3VyY2U/LnJlYWR5U3RhdGV9YCxcbiAgICApO1xuICAgIHRoaXMuZXJyb3IoYCR7ZXJyb3J9YCwgZXZlbnQpO1xuICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vd3d3LnczLm9yZy9UUi9tZWRpYS1zb3VyY2UvI3NvdXJjZWJ1ZmZlci1hcHBlbmQtZXJyb3JcbiAgICAvLyBTb3VyY2VCdWZmZXIgZXJyb3JzIGFyZSBub3QgbmVjZXNzYXJpbHkgZmF0YWw7IGlmIHNvLCB0aGUgSFRNTE1lZGlhRWxlbWVudCB3aWxsIGZpcmUgYW4gZXJyb3IgZXZlbnRcbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLFxuICAgICAgc291cmNlQnVmZmVyTmFtZTogdHlwZSxcbiAgICAgIGVycm9yLFxuICAgICAgZmF0YWw6IGZhbHNlLFxuICAgIH0pO1xuICAgIC8vIHVwZGF0ZWVuZCBpcyBhbHdheXMgZmlyZWQgYWZ0ZXIgZXJyb3IsIHNvIHdlJ2xsIGFsbG93IHRoYXQgdG8gc2hpZnQgdGhlIGN1cnJlbnQgb3BlcmF0aW9uIG9mZiBvZiB0aGUgcXVldWVcbiAgICBjb25zdCBvcGVyYXRpb24gPSB0aGlzLm9wZXJhdGlvblF1ZXVlLmN1cnJlbnQodHlwZSk7XG4gICAgaWYgKG9wZXJhdGlvbikge1xuICAgICAgb3BlcmF0aW9uLm9uRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIG11c3QgcmVzdWx0IGluIGFuIHVwZGF0ZWVuZCBldmVudDsgaWYgcmVtb3ZlIGlzIG5vdCBjYWxsZWQsIF9vblNCVXBkYXRlRW5kIG11c3QgYmUgY2FsbGVkIG1hbnVhbGx5XG4gIHByaXZhdGUgcmVtb3ZlRXhlY3V0b3IoXG4gICAgdHlwZTogU291cmNlQnVmZmVyTmFtZSxcbiAgICBzdGFydE9mZnNldDogbnVtYmVyLFxuICAgIGVuZE9mZnNldDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCB7IG1lZGlhLCBtZWRpYVNvdXJjZSwgb3BlcmF0aW9uUXVldWUsIHNvdXJjZUJ1ZmZlciB9ID0gdGhpcztcbiAgICBjb25zdCBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICBpZiAoIW1lZGlhIHx8ICFtZWRpYVNvdXJjZSB8fCAhc2IpIHtcbiAgICAgIHRoaXMud2FybihcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gcmVtb3ZlIGZyb20gdGhlICR7dHlwZX0gU291cmNlQnVmZmVyLCBidXQgaXQgZG9lcyBub3QgZXhpc3RgLFxuICAgICAgKTtcbiAgICAgIG9wZXJhdGlvblF1ZXVlLnNoaWZ0QW5kRXhlY3V0ZU5leHQodHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1lZGlhRHVyYXRpb24gPSBOdW1iZXIuaXNGaW5pdGUobWVkaWEuZHVyYXRpb24pXG4gICAgICA/IG1lZGlhLmR1cmF0aW9uXG4gICAgICA6IEluZmluaXR5O1xuICAgIGNvbnN0IG1zRHVyYXRpb24gPSBOdW1iZXIuaXNGaW5pdGUobWVkaWFTb3VyY2UuZHVyYXRpb24pXG4gICAgICA/IG1lZGlhU291cmNlLmR1cmF0aW9uXG4gICAgICA6IEluZmluaXR5O1xuICAgIGNvbnN0IHJlbW92ZVN0YXJ0ID0gTWF0aC5tYXgoMCwgc3RhcnRPZmZzZXQpO1xuICAgIGNvbnN0IHJlbW92ZUVuZCA9IE1hdGgubWluKGVuZE9mZnNldCwgbWVkaWFEdXJhdGlvbiwgbXNEdXJhdGlvbik7XG4gICAgaWYgKHJlbW92ZUVuZCA+IHJlbW92ZVN0YXJ0ICYmICghc2IuZW5kaW5nIHx8IHNiLmVuZGVkKSkge1xuICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMubG9nKFxuICAgICAgICBgUmVtb3ZpbmcgWyR7cmVtb3ZlU3RhcnR9LCR7cmVtb3ZlRW5kfV0gZnJvbSB0aGUgJHt0eXBlfSBTb3VyY2VCdWZmZXJgLFxuICAgICAgKTtcbiAgICAgIHNiLnJlbW92ZShyZW1vdmVTdGFydCwgcmVtb3ZlRW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3ljbGUgdGhlIHF1ZXVlXG4gICAgICBvcGVyYXRpb25RdWV1ZS5zaGlmdEFuZEV4ZWN1dGVOZXh0KHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIG11c3QgcmVzdWx0IGluIGFuIHVwZGF0ZWVuZCBldmVudDsgaWYgYXBwZW5kIGlzIG5vdCBjYWxsZWQsIF9vblNCVXBkYXRlRW5kIG11c3QgYmUgY2FsbGVkIG1hbnVhbGx5XG4gIHByaXZhdGUgYXBwZW5kRXhlY3V0b3IoZGF0YTogVWludDhBcnJheSwgdHlwZTogU291cmNlQnVmZmVyTmFtZSkge1xuICAgIGNvbnN0IHNiID0gdGhpcy5zb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgaWYgKCFzYikge1xuICAgICAgaWYgKCF0aGlzLnBlbmRpbmdUcmFja3NbdHlwZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBBdHRlbXB0aW5nIHRvIGFwcGVuZCB0byB0aGUgJHt0eXBlfSBTb3VyY2VCdWZmZXIsIGJ1dCBpdCBkb2VzIG5vdCBleGlzdGAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICBzYi5hcHBlbmRCdWZmZXIoZGF0YSk7XG4gIH1cblxuICAvLyBFbnF1ZXVlcyBhbiBvcGVyYXRpb24gdG8gZWFjaCBTb3VyY2VCdWZmZXIgcXVldWUgd2hpY2gsIHVwb24gZXhlY3V0aW9uLCByZXNvbHZlcyBhIHByb21pc2UuIFdoZW4gYWxsIHByb21pc2VzXG4gIC8vIHJlc29sdmUsIHRoZSBvblVuYmxvY2tlZCBmdW5jdGlvbiBpcyBleGVjdXRlZC4gRnVuY3Rpb25zIGNhbGxpbmcgdGhpcyBtZXRob2QgZG8gbm90IG5lZWQgdG8gdW5ibG9jayB0aGUgcXVldWVcbiAgLy8gdXBvbiBjb21wbGV0aW9uLCBzaW5jZSB3ZSBhbHJlYWR5IGRvIGl0IGhlcmVcbiAgcHJpdmF0ZSBibG9ja0J1ZmZlcnMoXG4gICAgb25VbmJsb2NrZWQ6ICgpID0+IHZvaWQsXG4gICAgYnVmZmVyczogQXJyYXk8U291cmNlQnVmZmVyTmFtZT4gPSB0aGlzLmdldFNvdXJjZUJ1ZmZlclR5cGVzKCksXG4gICkge1xuICAgIGlmICghYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9nKCdCbG9ja2luZyBvcGVyYXRpb24gcmVxdWVzdGVkLCBidXQgbm8gU291cmNlQnVmZmVycyBleGlzdCcpO1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihvblVuYmxvY2tlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgb3BlcmF0aW9uUXVldWUgfSA9IHRoaXM7XG5cbiAgICAvLyBsb2dnZXIuZGVidWcoYFtidWZmZXItY29udHJvbGxlcl06IEJsb2NraW5nICR7YnVmZmVyc30gU291cmNlQnVmZmVyYCk7XG4gICAgY29uc3QgYmxvY2tpbmdPcGVyYXRpb25zID0gYnVmZmVycy5tYXAoKHR5cGUpID0+XG4gICAgICBvcGVyYXRpb25RdWV1ZS5hcHBlbmRCbG9ja2VyKHR5cGUgYXMgU291cmNlQnVmZmVyTmFtZSksXG4gICAgKTtcbiAgICBQcm9taXNlLmFsbChibG9ja2luZ09wZXJhdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gbG9nZ2VyLmRlYnVnKGBbYnVmZmVyLWNvbnRyb2xsZXJdOiBCbG9ja2luZyBvcGVyYXRpb24gcmVzb2x2ZWQ7IHVuYmxvY2tpbmcgJHtidWZmZXJzfSBTb3VyY2VCdWZmZXJgKTtcbiAgICAgIG9uVW5ibG9ja2VkKCk7XG4gICAgICBidWZmZXJzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3Qgc2IgPSB0aGlzLnNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgLy8gT25seSBjeWNsZSB0aGUgcXVldWUgaWYgdGhlIFNCIGlzIG5vdCB1cGRhdGluZy4gVGhlcmUncyBhIGJ1ZyBpbiBDaHJvbWUgd2hpY2ggc2V0cyB0aGUgU0IgdXBkYXRpbmcgZmxhZyB0b1xuICAgICAgICAvLyB0cnVlIHdoZW4gY2hhbmdpbmcgdGhlIE1lZGlhU291cmNlIGR1cmF0aW9uIChodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05NTkzNTkmY2FuPTImcT1tZWRpYXNvdXJjZSUyMGR1cmF0aW9uKVxuICAgICAgICAvLyBXaGlsZSB0aGlzIGlzIGEgd29ya2Fyb3VuZCwgaXQncyBwcm9iYWJseSB1c2VmdWwgdG8gaGF2ZSBhcm91bmRcbiAgICAgICAgaWYgKCFzYj8udXBkYXRpbmcpIHtcbiAgICAgICAgICBvcGVyYXRpb25RdWV1ZS5zaGlmdEFuZEV4ZWN1dGVOZXh0KHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U291cmNlQnVmZmVyVHlwZXMoKTogQXJyYXk8U291cmNlQnVmZmVyTmFtZT4ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUJ1ZmZlcikgYXMgQXJyYXk8U291cmNlQnVmZmVyTmFtZT47XG4gIH1cblxuICBwcml2YXRlIGFkZEJ1ZmZlckxpc3RlbmVyKFxuICAgIHR5cGU6IFNvdXJjZUJ1ZmZlck5hbWUsXG4gICAgZXZlbnQ6IHN0cmluZyxcbiAgICBmbjogRnVuY3Rpb24sXG4gICkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyW3R5cGVdO1xuICAgIGlmICghYnVmZmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVyID0gZm4uYmluZCh0aGlzLCB0eXBlKTtcbiAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXS5wdXNoKHsgZXZlbnQsIGxpc3RlbmVyIH0pO1xuICAgIGJ1ZmZlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUJ1ZmZlckxpc3RlbmVycyh0eXBlOiBTb3VyY2VCdWZmZXJOYW1lKSB7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgaWYgKCFidWZmZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0uZm9yRWFjaCgobCkgPT4ge1xuICAgICAgYnVmZmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobC5ldmVudCwgbC5saXN0ZW5lcik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU291cmNlQ2hpbGRyZW4obm9kZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3Qgc291cmNlQ2hpbGRyZW4gPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NvdXJjZScpO1xuICBbXS5zbGljZS5jYWxsKHNvdXJjZUNoaWxkcmVuKS5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICBub2RlLnJlbW92ZUNoaWxkKHNvdXJjZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTb3VyY2UobWVkaWE6IEhUTUxNZWRpYUVsZW1lbnQsIHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IHNvdXJjZSA9IHNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gIHNvdXJjZS50eXBlID0gJ3ZpZGVvL21wNCc7XG4gIHNvdXJjZS5zcmMgPSB1cmw7XG4gIG1lZGlhLmFwcGVuZENoaWxkKHNvdXJjZSk7XG59XG4iLCAiaW1wb3J0IE91dHB1dEZpbHRlciBmcm9tICcuL291dHB1dC1maWx0ZXInO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuLyoqXG4gKlxuICogVGhpcyBjb2RlIHdhcyBwb3J0ZWQgZnJvbSB0aGUgZGFzaC5qcyBwcm9qZWN0IGF0OlxuICogICBodHRwczovL2dpdGh1Yi5jb20vRGFzaC1JbmR1c3RyeS1Gb3J1bS9kYXNoLmpzL2Jsb2IvZGV2ZWxvcG1lbnQvZXh0ZXJuYWxzL2NlYTYwOC1wYXJzZXIuanNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL0Rhc2gtSW5kdXN0cnktRm9ydW0vZGFzaC5qcy9jb21taXQvODI2OWIyNmE3NjFlMDg1M2JiMjFkNzg3ODBlZDk0NTE0NGVjZGQ0ZCNkaWZmLTcxYmMyOTVhMmQ2YjZiNzA5M2ExZDMyOTBkNTNhNGIyXG4gKlxuICogVGhlIG9yaWdpbmFsIGNvcHlyaWdodCBhcHBlYXJzIGJlbG93OlxuICpcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTYsIERBU0ggSW5kdXN0cnkgRm9ydW0uXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogIDIuIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cbi8qKlxuICogIEV4Y2VwdGlvbnMgZnJvbSByZWd1bGFyIEFTQ0lJLiBDb2RlUG9pbnRzIGFyZSBtYXBwZWQgdG8gVVRGLTE2IGNvZGVzXG4gKi9cblxuY29uc3Qgc3BlY2lhbENlYTYwOENoYXJzQ29kZXMgPSB7XG4gIDB4MmE6IDB4ZTEsIC8vIGxvd2VyY2FzZSBhLCBhY3V0ZSBhY2NlbnRcbiAgMHg1YzogMHhlOSwgLy8gbG93ZXJjYXNlIGUsIGFjdXRlIGFjY2VudFxuICAweDVlOiAweGVkLCAvLyBsb3dlcmNhc2UgaSwgYWN1dGUgYWNjZW50XG4gIDB4NWY6IDB4ZjMsIC8vIGxvd2VyY2FzZSBvLCBhY3V0ZSBhY2NlbnRcbiAgMHg2MDogMHhmYSwgLy8gbG93ZXJjYXNlIHUsIGFjdXRlIGFjY2VudFxuICAweDdiOiAweGU3LCAvLyBsb3dlcmNhc2UgYyB3aXRoIGNlZGlsbGFcbiAgMHg3YzogMHhmNywgLy8gZGl2aXNpb24gc3ltYm9sXG4gIDB4N2Q6IDB4ZDEsIC8vIHVwcGVyY2FzZSBOIHRpbGRlXG4gIDB4N2U6IDB4ZjEsIC8vIGxvd2VyY2FzZSBuIHRpbGRlXG4gIDB4N2Y6IDB4MjU4OCwgLy8gRnVsbCBibG9ja1xuICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAxNiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTEgQU5EIExPVyBCRVRXRUVOIDB4MzAgQU5EIDB4M0ZcbiAgLy8gVEhJUyBNRUFOUyBUSEFUIFxceDUwIE1VU1QgQkUgQURERUQgVE8gVEhFIFZBTFVFU1xuICAweDgwOiAweGFlLCAvLyBSZWdpc3RlcmVkIHN5bWJvbCAoUilcbiAgMHg4MTogMHhiMCwgLy8gZGVncmVlIHNpZ25cbiAgMHg4MjogMHhiZCwgLy8gMS8yIHN5bWJvbFxuICAweDgzOiAweGJmLCAvLyBJbnZlcnRlZCAob3BlbikgcXVlc3Rpb24gbWFya1xuICAweDg0OiAweDIxMjIsIC8vIFRyYWRlbWFyayBzeW1ib2wgKFRNKVxuICAweDg1OiAweGEyLCAvLyBDZW50cyBzeW1ib2xcbiAgMHg4NjogMHhhMywgLy8gUG91bmRzIHN0ZXJsaW5nXG4gIDB4ODc6IDB4MjY2YSwgLy8gTXVzaWMgOCd0aCBub3RlXG4gIDB4ODg6IDB4ZTAsIC8vIGxvd2VyY2FzZSBhLCBncmF2ZSBhY2NlbnRcbiAgMHg4OTogMHgyMCwgLy8gdHJhbnNwYXJlbnQgc3BhY2UgKHJlZ3VsYXIpXG4gIDB4OGE6IDB4ZTgsIC8vIGxvd2VyY2FzZSBlLCBncmF2ZSBhY2NlbnRcbiAgMHg4YjogMHhlMiwgLy8gbG93ZXJjYXNlIGEsIGNpcmN1bWZsZXggYWNjZW50XG4gIDB4OGM6IDB4ZWEsIC8vIGxvd2VyY2FzZSBlLCBjaXJjdW1mbGV4IGFjY2VudFxuICAweDhkOiAweGVlLCAvLyBsb3dlcmNhc2UgaSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgMHg4ZTogMHhmNCwgLy8gbG93ZXJjYXNlIG8sIGNpcmN1bWZsZXggYWNjZW50XG4gIDB4OGY6IDB4ZmIsIC8vIGxvd2VyY2FzZSB1LCBjaXJjdW1mbGV4IGFjY2VudFxuICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTIgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcbiAgMHg5MDogMHhjMSwgLy8gY2FwaXRhbCBsZXR0ZXIgQSB3aXRoIGFjdXRlXG4gIDB4OTE6IDB4YzksIC8vIGNhcGl0YWwgbGV0dGVyIEUgd2l0aCBhY3V0ZVxuICAweDkyOiAweGQzLCAvLyBjYXBpdGFsIGxldHRlciBPIHdpdGggYWN1dGVcbiAgMHg5MzogMHhkYSwgLy8gY2FwaXRhbCBsZXR0ZXIgVSB3aXRoIGFjdXRlXG4gIDB4OTQ6IDB4ZGMsIC8vIGNhcGl0YWwgbGV0dGVyIFUgd2l0aCBkaWFyZXNpc1xuICAweDk1OiAweGZjLCAvLyBsb3dlcmNhc2UgbGV0dGVyIFUgd2l0aCBkaWFlcmVzaXNcbiAgMHg5NjogMHgyMDE4LCAvLyBvcGVuaW5nIHNpbmdsZSBxdW90ZVxuICAweDk3OiAweGExLCAvLyBpbnZlcnRlZCBleGNsYW1hdGlvbiBtYXJrXG4gIDB4OTg6IDB4MmEsIC8vIGFzdGVyaXNrXG4gIDB4OTk6IDB4MjAxOSwgLy8gY2xvc2luZyBzaW5nbGUgcXVvdGVcbiAgMHg5YTogMHgyNTAxLCAvLyBib3ggZHJhd2luZ3MgaGVhdnkgaG9yaXpvbnRhbFxuICAweDliOiAweGE5LCAvLyBjb3B5cmlnaHQgc2lnblxuICAweDljOiAweDIxMjAsIC8vIFNlcnZpY2UgbWFya1xuICAweDlkOiAweDIwMjIsIC8vIChyb3VuZCkgYnVsbGV0XG4gIDB4OWU6IDB4MjAxYywgLy8gTGVmdCBkb3VibGUgcXVvdGF0aW9uIG1hcmtcbiAgMHg5ZjogMHgyMDFkLCAvLyBSaWdodCBkb3VibGUgcXVvdGF0aW9uIG1hcmtcbiAgMHhhMDogMHhjMCwgLy8gdXBwZXJjYXNlIEEsIGdyYXZlIGFjY2VudFxuICAweGExOiAweGMyLCAvLyB1cHBlcmNhc2UgQSwgY2lyY3VtZmxleFxuICAweGEyOiAweGM3LCAvLyB1cHBlcmNhc2UgQyB3aXRoIGNlZGlsbGFcbiAgMHhhMzogMHhjOCwgLy8gdXBwZXJjYXNlIEUsIGdyYXZlIGFjY2VudFxuICAweGE0OiAweGNhLCAvLyB1cHBlcmNhc2UgRSwgY2lyY3VtZmxleFxuICAweGE1OiAweGNiLCAvLyBjYXBpdGFsIGxldHRlciBFIHdpdGggZGlhcmVzaXNcbiAgMHhhNjogMHhlYiwgLy8gbG93ZXJjYXNlIGxldHRlciBlIHdpdGggZGlhcmVzaXNcbiAgMHhhNzogMHhjZSwgLy8gdXBwZXJjYXNlIEksIGNpcmN1bWZsZXhcbiAgMHhhODogMHhjZiwgLy8gdXBwZXJjYXNlIEksIHdpdGggZGlhcmVzaXNcbiAgMHhhOTogMHhlZiwgLy8gbG93ZXJjYXNlIGksIHdpdGggZGlhcmVzaXNcbiAgMHhhYTogMHhkNCwgLy8gdXBwZXJjYXNlIE8sIGNpcmN1bWZsZXhcbiAgMHhhYjogMHhkOSwgLy8gdXBwZXJjYXNlIFUsIGdyYXZlIGFjY2VudFxuICAweGFjOiAweGY5LCAvLyBsb3dlcmNhc2UgdSwgZ3JhdmUgYWNjZW50XG4gIDB4YWQ6IDB4ZGIsIC8vIHVwcGVyY2FzZSBVLCBjaXJjdW1mbGV4XG4gIDB4YWU6IDB4YWIsIC8vIGxlZnQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXG4gIDB4YWY6IDB4YmIsIC8vIHJpZ2h0LXBvaW50aW5nIGRvdWJsZSBhbmdsZSBxdW90YXRpb24gbWFya1xuICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTMgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcbiAgMHhiMDogMHhjMywgLy8gVXBwZXJjYXNlIEEsIHRpbGRlXG4gIDB4YjE6IDB4ZTMsIC8vIExvd2VyY2FzZSBhLCB0aWxkZVxuICAweGIyOiAweGNkLCAvLyBVcHBlcmNhc2UgSSwgYWN1dGUgYWNjZW50XG4gIDB4YjM6IDB4Y2MsIC8vIFVwcGVyY2FzZSBJLCBncmF2ZSBhY2NlbnRcbiAgMHhiNDogMHhlYywgLy8gTG93ZXJjYXNlIGksIGdyYXZlIGFjY2VudFxuICAweGI1OiAweGQyLCAvLyBVcHBlcmNhc2UgTywgZ3JhdmUgYWNjZW50XG4gIDB4YjY6IDB4ZjIsIC8vIExvd2VyY2FzZSBvLCBncmF2ZSBhY2NlbnRcbiAgMHhiNzogMHhkNSwgLy8gVXBwZXJjYXNlIE8sIHRpbGRlXG4gIDB4Yjg6IDB4ZjUsIC8vIExvd2VyY2FzZSBvLCB0aWxkZVxuICAweGI5OiAweDdiLCAvLyBPcGVuIGN1cmx5IGJyYWNlXG4gIDB4YmE6IDB4N2QsIC8vIENsb3NpbmcgY3VybHkgYnJhY2VcbiAgMHhiYjogMHg1YywgLy8gQmFja3NsYXNoXG4gIDB4YmM6IDB4NWUsIC8vIENhcmV0XG4gIDB4YmQ6IDB4NWYsIC8vIFVuZGVyc2NvcmVcbiAgMHhiZTogMHg3YywgLy8gUGlwZSAodmVydGljYWwgbGluZSlcbiAgMHhiZjogMHgyMjNjLCAvLyBUaWxkZSBvcGVyYXRvclxuICAweGMwOiAweGM0LCAvLyBVcHBlcmNhc2UgQSwgdW1sYXV0XG4gIDB4YzE6IDB4ZTQsIC8vIExvd2VyY2FzZSBBLCB1bWxhdXRcbiAgMHhjMjogMHhkNiwgLy8gVXBwZXJjYXNlIE8sIHVtbGF1dFxuICAweGMzOiAweGY2LCAvLyBMb3dlcmNhc2UgbywgdW1sYXV0XG4gIDB4YzQ6IDB4ZGYsIC8vIEVzc3pldHQgKHNoYXJwIFMpXG4gIDB4YzU6IDB4YTUsIC8vIFllbiBzeW1ib2xcbiAgMHhjNjogMHhhNCwgLy8gR2VuZXJpYyBjdXJyZW5jeSBzaWduXG4gIDB4Yzc6IDB4MjUwMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IHZlcnRpY2FsXG4gIDB4Yzg6IDB4YzUsIC8vIFVwcGVyY2FzZSBBLCByaW5nXG4gIDB4Yzk6IDB4ZTUsIC8vIExvd2VyY2FzZSBBLCByaW5nXG4gIDB4Y2E6IDB4ZDgsIC8vIFVwcGVyY2FzZSBPLCBzdHJva2VcbiAgMHhjYjogMHhmOCwgLy8gTG93ZXJjYXNlIG8sIHN0cm9rXG4gIDB4Y2M6IDB4MjUwZiwgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IGRvd24gYW5kIHJpZ2h0XG4gIDB4Y2Q6IDB4MjUxMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IGRvd24gYW5kIGxlZnRcbiAgMHhjZTogMHgyNTE3LCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIHJpZ2h0XG4gIDB4Y2Y6IDB4MjUxYiwgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IHVwIGFuZCBsZWZ0XG59O1xuXG4vKipcbiAqIFV0aWxzXG4gKi9cbmNvbnN0IGdldENoYXJGb3JCeXRlID0gKGJ5dGU6IG51bWJlcikgPT5cbiAgU3RyaW5nLmZyb21DaGFyQ29kZShzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlc1tieXRlXSB8fCBieXRlKTtcblxuY29uc3QgTlJfUk9XUyA9IDE1O1xuY29uc3QgTlJfQ09MUyA9IDEwMDtcbi8vIFRhYmxlcyB0byBsb29rIHVwIHJvdyBmcm9tIFBBQyBkYXRhXG5jb25zdCByb3dzTG93Q2gxID0ge1xuICAweDExOiAxLFxuICAweDEyOiAzLFxuICAweDE1OiA1LFxuICAweDE2OiA3LFxuICAweDE3OiA5LFxuICAweDEwOiAxMSxcbiAgMHgxMzogMTIsXG4gIDB4MTQ6IDE0LFxufTtcbmNvbnN0IHJvd3NIaWdoQ2gxID0ge1xuICAweDExOiAyLFxuICAweDEyOiA0LFxuICAweDE1OiA2LFxuICAweDE2OiA4LFxuICAweDE3OiAxMCxcbiAgMHgxMzogMTMsXG4gIDB4MTQ6IDE1LFxufTtcbmNvbnN0IHJvd3NMb3dDaDIgPSB7XG4gIDB4MTk6IDEsXG4gIDB4MWE6IDMsXG4gIDB4MWQ6IDUsXG4gIDB4MWU6IDcsXG4gIDB4MWY6IDksXG4gIDB4MTg6IDExLFxuICAweDFiOiAxMixcbiAgMHgxYzogMTQsXG59O1xuY29uc3Qgcm93c0hpZ2hDaDIgPSB7XG4gIDB4MTk6IDIsXG4gIDB4MWE6IDQsXG4gIDB4MWQ6IDYsXG4gIDB4MWU6IDgsXG4gIDB4MWY6IDEwLFxuICAweDFiOiAxMyxcbiAgMHgxYzogMTUsXG59O1xuXG5jb25zdCBiYWNrZ3JvdW5kQ29sb3JzID0gW1xuICAnd2hpdGUnLFxuICAnZ3JlZW4nLFxuICAnYmx1ZScsXG4gICdjeWFuJyxcbiAgJ3JlZCcsXG4gICd5ZWxsb3cnLFxuICAnbWFnZW50YScsXG4gICdibGFjaycsXG4gICd0cmFuc3BhcmVudCcsXG5dO1xuXG5jb25zdCBlbnVtIFZlcmJvc2VMZXZlbCB7XG4gIEVSUk9SID0gMCxcbiAgVEVYVCA9IDEsXG4gIFdBUk5JTkcgPSAyLFxuICBJTkZPID0gMixcbiAgREVCVUcgPSAzLFxuICBEQVRBID0gMyxcbn1cblxuY2xhc3MgQ2FwdGlvbnNMb2dnZXIge1xuICBwdWJsaWMgdGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyB2ZXJib3NlTGV2ZWw6IFZlcmJvc2VMZXZlbCA9IFZlcmJvc2VMZXZlbC5FUlJPUjtcblxuICBsb2coc2V2ZXJpdHk6IFZlcmJvc2VMZXZlbCwgbXNnOiBzdHJpbmcgfCAoKCkgPT4gc3RyaW5nKSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcmJvc2VMZXZlbCA+PSBzZXZlcml0eSkge1xuICAgICAgY29uc3QgbTogc3RyaW5nID0gdHlwZW9mIG1zZyA9PT0gJ2Z1bmN0aW9uJyA/IG1zZygpIDogbXNnO1xuICAgICAgbG9nZ2VyLmxvZyhgJHt0aGlzLnRpbWV9IFske3NldmVyaXR5fV0gJHttfWApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBudW1BcnJheVRvSGV4QXJyYXkgPSBmdW5jdGlvbiAobnVtQXJyYXk6IG51bWJlcltdKTogc3RyaW5nW10ge1xuICBjb25zdCBoZXhBcnJheTogc3RyaW5nW10gPSBbXTtcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBudW1BcnJheS5sZW5ndGg7IGorKykge1xuICAgIGhleEFycmF5LnB1c2gobnVtQXJyYXlbal0udG9TdHJpbmcoMTYpKTtcbiAgfVxuXG4gIHJldHVybiBoZXhBcnJheTtcbn07XG5cbnR5cGUgUGVuU3R5bGVzID0ge1xuICBmb3JlZ3JvdW5kOiBzdHJpbmcgfCBudWxsO1xuICB1bmRlcmxpbmU6IGJvb2xlYW47XG4gIGl0YWxpY3M6IGJvb2xlYW47XG4gIGJhY2tncm91bmQ6IHN0cmluZztcbiAgZmxhc2g6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBQZW5TdGF0ZSB7XG4gIHB1YmxpYyBmb3JlZ3JvdW5kOiBzdHJpbmcgPSAnd2hpdGUnO1xuICBwdWJsaWMgdW5kZXJsaW5lOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBpdGFsaWNzOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBiYWNrZ3JvdW5kOiBzdHJpbmcgPSAnYmxhY2snO1xuICBwdWJsaWMgZmxhc2g6IGJvb2xlYW4gPSBmYWxzZTtcblxuICByZXNldCgpIHtcbiAgICB0aGlzLmZvcmVncm91bmQgPSAnd2hpdGUnO1xuICAgIHRoaXMudW5kZXJsaW5lID0gZmFsc2U7XG4gICAgdGhpcy5pdGFsaWNzID0gZmFsc2U7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcbiAgICB0aGlzLmZsYXNoID0gZmFsc2U7XG4gIH1cblxuICBzZXRTdHlsZXMoc3R5bGVzOiBQYXJ0aWFsPFBlblN0eWxlcz4pIHtcbiAgICBjb25zdCBhdHRyaWJzID0gW1xuICAgICAgJ2ZvcmVncm91bmQnLFxuICAgICAgJ3VuZGVybGluZScsXG4gICAgICAnaXRhbGljcycsXG4gICAgICAnYmFja2dyb3VuZCcsXG4gICAgICAnZmxhc2gnLFxuICAgIF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGF0dHJpYnNbaV07XG4gICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlKSkge1xuICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaXNEZWZhdWx0KCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZvcmVncm91bmQgPT09ICd3aGl0ZScgJiZcbiAgICAgICF0aGlzLnVuZGVybGluZSAmJlxuICAgICAgIXRoaXMuaXRhbGljcyAmJlxuICAgICAgdGhpcy5iYWNrZ3JvdW5kID09PSAnYmxhY2snICYmXG4gICAgICAhdGhpcy5mbGFzaFxuICAgICk7XG4gIH1cblxuICBlcXVhbHMob3RoZXI6IFBlblN0YXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZm9yZWdyb3VuZCA9PT0gb3RoZXIuZm9yZWdyb3VuZCAmJlxuICAgICAgdGhpcy51bmRlcmxpbmUgPT09IG90aGVyLnVuZGVybGluZSAmJlxuICAgICAgdGhpcy5pdGFsaWNzID09PSBvdGhlci5pdGFsaWNzICYmXG4gICAgICB0aGlzLmJhY2tncm91bmQgPT09IG90aGVyLmJhY2tncm91bmQgJiZcbiAgICAgIHRoaXMuZmxhc2ggPT09IG90aGVyLmZsYXNoXG4gICAgKTtcbiAgfVxuXG4gIGNvcHkobmV3UGVuU3RhdGU6IFBlblN0YXRlKSB7XG4gICAgdGhpcy5mb3JlZ3JvdW5kID0gbmV3UGVuU3RhdGUuZm9yZWdyb3VuZDtcbiAgICB0aGlzLnVuZGVybGluZSA9IG5ld1BlblN0YXRlLnVuZGVybGluZTtcbiAgICB0aGlzLml0YWxpY3MgPSBuZXdQZW5TdGF0ZS5pdGFsaWNzO1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ld1BlblN0YXRlLmJhY2tncm91bmQ7XG4gICAgdGhpcy5mbGFzaCA9IG5ld1BlblN0YXRlLmZsYXNoO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKFxuICAgICAgJ2NvbG9yPScgK1xuICAgICAgdGhpcy5mb3JlZ3JvdW5kICtcbiAgICAgICcsIHVuZGVybGluZT0nICtcbiAgICAgIHRoaXMudW5kZXJsaW5lICtcbiAgICAgICcsIGl0YWxpY3M9JyArXG4gICAgICB0aGlzLml0YWxpY3MgK1xuICAgICAgJywgYmFja2dyb3VuZD0nICtcbiAgICAgIHRoaXMuYmFja2dyb3VuZCArXG4gICAgICAnLCBmbGFzaD0nICtcbiAgICAgIHRoaXMuZmxhc2hcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogVW5pY29kZSBjaGFyYWN0ZXIgd2l0aCBzdHlsaW5nIGFuZCBiYWNrZ3JvdW5kLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFN0eWxlZFVuaWNvZGVDaGFyIHtcbiAgdWNoYXI6IHN0cmluZyA9ICcgJztcbiAgcGVuU3RhdGU6IFBlblN0YXRlID0gbmV3IFBlblN0YXRlKCk7XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy51Y2hhciA9ICcgJztcbiAgICB0aGlzLnBlblN0YXRlLnJlc2V0KCk7XG4gIH1cblxuICBzZXRDaGFyKHVjaGFyOiBzdHJpbmcsIG5ld1BlblN0YXRlOiBQZW5TdGF0ZSkge1xuICAgIHRoaXMudWNoYXIgPSB1Y2hhcjtcbiAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICB9XG5cbiAgc2V0UGVuU3RhdGUobmV3UGVuU3RhdGU6IFBlblN0YXRlKSB7XG4gICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld1BlblN0YXRlKTtcbiAgfVxuXG4gIGVxdWFscyhvdGhlcjogU3R5bGVkVW5pY29kZUNoYXIpIHtcbiAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5wZW5TdGF0ZS5lcXVhbHMob3RoZXIucGVuU3RhdGUpO1xuICB9XG5cbiAgY29weShuZXdDaGFyOiBTdHlsZWRVbmljb2RlQ2hhcikge1xuICAgIHRoaXMudWNoYXIgPSBuZXdDaGFyLnVjaGFyO1xuICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdDaGFyLnBlblN0YXRlKTtcbiAgfVxuXG4gIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudWNoYXIgPT09ICcgJyAmJiB0aGlzLnBlblN0YXRlLmlzRGVmYXVsdCgpO1xuICB9XG59XG5cbi8qKlxuICogQ0VBLTYwOCByb3cgY29uc2lzdGluZyBvZiBOUl9DT0xTIGluc3RhbmNlcyBvZiBTdHlsZWRVbmljb2RlQ2hhci5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgUm93IHtcbiAgcHVibGljIGNoYXJzOiBTdHlsZWRVbmljb2RlQ2hhcltdID0gW107XG4gIHB1YmxpYyBwb3M6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBjdXJyUGVuU3RhdGU6IFBlblN0YXRlID0gbmV3IFBlblN0YXRlKCk7XG4gIHB1YmxpYyBjdWVTdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxvZ2dlcjogQ2FwdGlvbnNMb2dnZXI7XG5cbiAgY29uc3RydWN0b3IobG9nZ2VyOiBDYXB0aW9uc0xvZ2dlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICB0aGlzLmNoYXJzLnB1c2gobmV3IFN0eWxlZFVuaWNvZGVDaGFyKCkpO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgfVxuXG4gIGVxdWFscyhvdGhlcjogUm93KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5lcXVhbHMob3RoZXIuY2hhcnNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb3B5KG90aGVyOiBSb3cpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgdGhpcy5jaGFyc1tpXS5jb3B5KG90aGVyLmNoYXJzW2ldKTtcbiAgICB9XG4gIH1cblxuICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgIGxldCBlbXB0eSA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5pc0VtcHR5KCkpIHtcbiAgICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbXB0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgU2V0IHRoZSBjdXJzb3IgdG8gYSB2YWxpZCBjb2x1bW4uXG4gICAqL1xuICBzZXRDdXJzb3IoYWJzUG9zOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5wb3MgIT09IGFic1Bvcykge1xuICAgICAgdGhpcy5wb3MgPSBhYnNQb3M7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucG9zIDwgMCkge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBWZXJib3NlTGV2ZWwuREVCVUcsXG4gICAgICAgICdOZWdhdGl2ZSBjdXJzb3IgcG9zaXRpb24gJyArIHRoaXMucG9zLFxuICAgICAgKTtcbiAgICAgIHRoaXMucG9zID0gMDtcbiAgICB9IGVsc2UgaWYgKHRoaXMucG9zID4gTlJfQ09MUykge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBWZXJib3NlTGV2ZWwuREVCVUcsXG4gICAgICAgICdUb28gbGFyZ2UgY3Vyc29yIHBvc2l0aW9uICcgKyB0aGlzLnBvcyxcbiAgICAgICk7XG4gICAgICB0aGlzLnBvcyA9IE5SX0NPTFM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIGN1cnNvciByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLlxuICAgKi9cbiAgbW92ZUN1cnNvcihyZWxQb3M6IG51bWJlcikge1xuICAgIGNvbnN0IG5ld1BvcyA9IHRoaXMucG9zICsgcmVsUG9zO1xuICAgIGlmIChyZWxQb3MgPiAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5wb3MgKyAxOyBpIDwgbmV3UG9zICsgMTsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2hhcnNbaV0uc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcihuZXdQb3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2tzcGFjZSwgbW92ZSBvbmUgc3RlcCBiYWNrIGFuZCBjbGVhciBjaGFyYWN0ZXIuXG4gICAqL1xuICBiYWNrU3BhY2UoKSB7XG4gICAgdGhpcy5tb3ZlQ3Vyc29yKC0xKTtcbiAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKCcgJywgdGhpcy5jdXJyUGVuU3RhdGUpO1xuICB9XG5cbiAgaW5zZXJ0Q2hhcihieXRlOiBudW1iZXIpIHtcbiAgICBpZiAoYnl0ZSA+PSAweDkwKSB7XG4gICAgICAvLyBFeHRlbmRlZCBjaGFyXG4gICAgICB0aGlzLmJhY2tTcGFjZSgpO1xuICAgIH1cbiAgICBjb25zdCBjaGFyID0gZ2V0Q2hhckZvckJ5dGUoYnl0ZSk7XG4gICAgaWYgKHRoaXMucG9zID49IE5SX0NPTFMpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgVmVyYm9zZUxldmVsLkVSUk9SLFxuICAgICAgICAoKSA9PlxuICAgICAgICAgICdDYW5ub3QgaW5zZXJ0ICcgK1xuICAgICAgICAgIGJ5dGUudG9TdHJpbmcoMTYpICtcbiAgICAgICAgICAnICgnICtcbiAgICAgICAgICBjaGFyICtcbiAgICAgICAgICAnKSBhdCBwb3NpdGlvbiAnICtcbiAgICAgICAgICB0aGlzLnBvcyArXG4gICAgICAgICAgJy4gU2tpcHBpbmcgaXQhJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hhcnNbdGhpcy5wb3NdLnNldENoYXIoY2hhciwgdGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIHRoaXMubW92ZUN1cnNvcigxKTtcbiAgfVxuXG4gIGNsZWFyRnJvbVBvcyhzdGFydFBvczogbnVtYmVyKSB7XG4gICAgbGV0IGk6IG51bWJlcjtcbiAgICBmb3IgKGkgPSBzdGFydFBvczsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgdGhpcy5jaGFyc1tpXS5yZXNldCgpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2xlYXJGcm9tUG9zKDApO1xuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLmN1cnJQZW5TdGF0ZS5yZXNldCgpO1xuICB9XG5cbiAgY2xlYXJUb0VuZE9mUm93KCkge1xuICAgIHRoaXMuY2xlYXJGcm9tUG9zKHRoaXMucG9zKTtcbiAgfVxuXG4gIGdldFRleHRTdHJpbmcoKSB7XG4gICAgY29uc3QgY2hhcnM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGVtcHR5ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRoaXMuY2hhcnNbaV0udWNoYXI7XG4gICAgICBpZiAoY2hhciAhPT0gJyAnKSB7XG4gICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGNoYXJzLnB1c2goY2hhcik7XG4gICAgfVxuICAgIGlmIChlbXB0eSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gICAgfVxuICB9XG5cbiAgc2V0UGVuU3R5bGVzKHN0eWxlczogUGFydGlhbDxQZW5TdHlsZXM+KSB7XG4gICAgdGhpcy5jdXJyUGVuU3RhdGUuc2V0U3R5bGVzKHN0eWxlcyk7XG4gICAgY29uc3QgY3VyckNoYXIgPSB0aGlzLmNoYXJzW3RoaXMucG9zXTtcbiAgICBjdXJyQ2hhci5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBLZWVwIGEgQ0VBLTYwOCBzY3JlZW4gb2YgMzJ4MTUgc3R5bGVkIGNoYXJhY3RlcnNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgQ2FwdGlvblNjcmVlbiB7XG4gIHJvd3M6IFJvd1tdID0gW107XG4gIGN1cnJSb3c6IG51bWJlciA9IE5SX1JPV1MgLSAxO1xuICBuclJvbGxVcFJvd3M6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBsYXN0T3V0cHV0U2NyZWVuOiBDYXB0aW9uU2NyZWVuIHwgbnVsbCA9IG51bGw7XG4gIGxvZ2dlcjogQ2FwdGlvbnNMb2dnZXI7XG5cbiAgY29uc3RydWN0b3IobG9nZ2VyOiBDYXB0aW9uc0xvZ2dlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICB0aGlzLnJvd3MucHVzaChuZXcgUm93KGxvZ2dlcikpO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyUm93ID0gTlJfUk9XUyAtIDE7XG4gIH1cblxuICBlcXVhbHMob3RoZXI6IENhcHRpb25TY3JlZW4pOiBib29sZWFuIHtcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMucm93c1tpXS5lcXVhbHMob3RoZXIucm93c1tpXSkpIHtcbiAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcXVhbDtcbiAgfVxuXG4gIGNvcHkob3RoZXI6IENhcHRpb25TY3JlZW4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgdGhpcy5yb3dzW2ldLmNvcHkob3RoZXIucm93c1tpXSk7XG4gICAgfVxuICB9XG5cbiAgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICBsZXQgZW1wdHkgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMucm93c1tpXS5pc0VtcHR5KCkpIHtcbiAgICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbXB0eTtcbiAgfVxuXG4gIGJhY2tTcGFjZSgpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICByb3cuYmFja1NwYWNlKCk7XG4gIH1cblxuICBjbGVhclRvRW5kT2ZSb3coKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgcm93LmNsZWFyVG9FbmRPZlJvdygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhIGNoYXJhY3RlciAod2l0aG91dCBzdHlsaW5nKSBpbiB0aGUgY3VycmVudCByb3cuXG4gICAqL1xuICBpbnNlcnRDaGFyKGNoYXI6IG51bWJlcikge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIHJvdy5pbnNlcnRDaGFyKGNoYXIpO1xuICB9XG5cbiAgc2V0UGVuKHN0eWxlczogUGFydGlhbDxQZW5TdHlsZXM+KSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgcm93LnNldFBlblN0eWxlcyhzdHlsZXMpO1xuICB9XG5cbiAgbW92ZUN1cnNvcihyZWxQb3M6IG51bWJlcikge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIHJvdy5tb3ZlQ3Vyc29yKHJlbFBvcyk7XG4gIH1cblxuICBzZXRDdXJzb3IoYWJzUG9zOiBudW1iZXIpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdzZXRDdXJzb3I6ICcgKyBhYnNQb3MpO1xuICAgIGNvbnN0IHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIHJvdy5zZXRDdXJzb3IoYWJzUG9zKTtcbiAgfVxuXG4gIHNldFBBQyhwYWNEYXRhOiBQQUNEYXRhKSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgVmVyYm9zZUxldmVsLklORk8sXG4gICAgICAoKSA9PiAncGFjRGF0YSA9ICcgKyBKU09OLnN0cmluZ2lmeShwYWNEYXRhKSxcbiAgICApO1xuICAgIGxldCBuZXdSb3cgPSBwYWNEYXRhLnJvdyAtIDE7XG4gICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIG5ld1JvdyA8IHRoaXMubnJSb2xsVXBSb3dzIC0gMSkge1xuICAgICAgbmV3Um93ID0gdGhpcy5uclJvbGxVcFJvd3MgLSAxO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGlzIG9ubHkgYWZmZWN0cyBSb2xsLXVwIENhcHRpb25zIGJ5IGNoZWNraW5nIHRoaXMubnJSb2xsVXBSb3dzXG4gICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIHRoaXMuY3VyclJvdyAhPT0gbmV3Um93KSB7XG4gICAgICAvLyBjbGVhciBhbGwgcm93cyBmaXJzdFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgdGhpcy5yb3dzW2ldLmNsZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgdGhpcy5uclJvbGxVcFJvd3Mgcm93cyBmcm9tIGxhc3RPdXRwdXRTY3JlZW4gYW5kIHBsYWNlIGl0IGluIHRoZSBuZXdSb3cgbG9jYXRpb25cbiAgICAgIC8vIHRvcFJvd0luZGV4IC0gdGhlIHN0YXJ0IG9mIHJvd3MgdG8gY29weSAoaW5jbHVzaXZlIGluZGV4KVxuICAgICAgY29uc3QgdG9wUm93SW5kZXggPSB0aGlzLmN1cnJSb3cgKyAxIC0gdGhpcy5uclJvbGxVcFJvd3M7XG4gICAgICAvLyBXZSBvbmx5IGNvcHkgaWYgdGhlIGxhc3QgcG9zaXRpb24gd2FzIGFscmVhZHkgc2hvd24uXG4gICAgICAvLyBXZSB1c2UgdGhlIGN1ZVN0YXJ0VGltZSB2YWx1ZSB0byBjaGVjayB0aGlzLlxuICAgICAgY29uc3QgbGFzdE91dHB1dFNjcmVlbiA9IHRoaXMubGFzdE91dHB1dFNjcmVlbjtcbiAgICAgIGlmIChsYXN0T3V0cHV0U2NyZWVuKSB7XG4gICAgICAgIGNvbnN0IHByZXZMaW5lVGltZSA9IGxhc3RPdXRwdXRTY3JlZW4ucm93c1t0b3BSb3dJbmRleF0uY3VlU3RhcnRUaW1lO1xuICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5sb2dnZXIudGltZTtcbiAgICAgICAgaWYgKHByZXZMaW5lVGltZSAhPT0gbnVsbCAmJiB0aW1lICE9PSBudWxsICYmIHByZXZMaW5lVGltZSA8IHRpbWUpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnJSb2xsVXBSb3dzOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm93c1tuZXdSb3cgLSB0aGlzLm5yUm9sbFVwUm93cyArIGkgKyAxXS5jb3B5KFxuICAgICAgICAgICAgICBsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXggKyBpXSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyUm93ID0gbmV3Um93O1xuICAgIGNvbnN0IHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIGlmIChwYWNEYXRhLmluZGVudCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgaW5kZW50ID0gcGFjRGF0YS5pbmRlbnQ7XG4gICAgICBjb25zdCBwcmV2UG9zID0gTWF0aC5tYXgoaW5kZW50IC0gMSwgMCk7XG4gICAgICByb3cuc2V0Q3Vyc29yKHBhY0RhdGEuaW5kZW50KTtcbiAgICAgIHBhY0RhdGEuY29sb3IgPSByb3cuY2hhcnNbcHJldlBvc10ucGVuU3RhdGUuZm9yZWdyb3VuZDtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGVzOiBQZW5TdHlsZXMgPSB7XG4gICAgICBmb3JlZ3JvdW5kOiBwYWNEYXRhLmNvbG9yLFxuICAgICAgdW5kZXJsaW5lOiBwYWNEYXRhLnVuZGVybGluZSxcbiAgICAgIGl0YWxpY3M6IHBhY0RhdGEuaXRhbGljcyxcbiAgICAgIGJhY2tncm91bmQ6ICdibGFjaycsXG4gICAgICBmbGFzaDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLnNldFBlbihzdHlsZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBiYWNrZ3JvdW5kL2V4dHJhIGZvcmVncm91bmQsIGJ1dCBmaXJzdCBkbyBiYWNrX3NwYWNlLCBhbmQgdGhlbiBpbnNlcnQgc3BhY2UgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KS5cbiAgICovXG4gIHNldEJrZ0RhdGEoYmtnRGF0YTogUGFydGlhbDxQZW5TdHlsZXM+KSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgVmVyYm9zZUxldmVsLklORk8sXG4gICAgICAoKSA9PiAnYmtnRGF0YSA9ICcgKyBKU09OLnN0cmluZ2lmeShia2dEYXRhKSxcbiAgICApO1xuICAgIHRoaXMuYmFja1NwYWNlKCk7XG4gICAgdGhpcy5zZXRQZW4oYmtnRGF0YSk7XG4gICAgdGhpcy5pbnNlcnRDaGFyKDB4MjApOyAvLyBTcGFjZVxuICB9XG5cbiAgc2V0Um9sbFVwUm93cyhuclJvd3M6IG51bWJlciB8IG51bGwpIHtcbiAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG5yUm93cztcbiAgfVxuXG4gIHJvbGxVcCgpIHtcbiAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgPT09IG51bGwpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgVmVyYm9zZUxldmVsLkRFQlVHLFxuICAgICAgICAncm9sbF91cCBidXQgbnJSb2xsVXBSb3dzIG5vdCBzZXQgeWV0JyxcbiAgICAgICk7XG4gICAgICByZXR1cm47IC8vIE5vdCBwcm9wZXJseSBzZXR1cFxuICAgIH1cbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLlRFWFQsICgpID0+IHRoaXMuZ2V0RGlzcGxheVRleHQoKSk7XG4gICAgY29uc3QgdG9wUm93SW5kZXggPSB0aGlzLmN1cnJSb3cgKyAxIC0gdGhpcy5uclJvbGxVcFJvd3M7XG4gICAgY29uc3QgdG9wUm93ID0gdGhpcy5yb3dzLnNwbGljZSh0b3BSb3dJbmRleCwgMSlbMF07XG4gICAgdG9wUm93LmNsZWFyKCk7XG4gICAgdGhpcy5yb3dzLnNwbGljZSh0aGlzLmN1cnJSb3csIDAsIHRvcFJvdyk7XG4gICAgdGhpcy5sb2dnZXIubG9nKFZlcmJvc2VMZXZlbC5JTkZPLCAnUm9sbGluZyB1cCcpO1xuICAgIC8vIHRoaXMubG9nZ2VyLmxvZyhWZXJib3NlTGV2ZWwuVEVYVCwgdGhpcy5nZXRfZGlzcGxheV90ZXh0KCkpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBub24tZW1wdHkgcm93cyB3aXRoIGFzIHVuaWNvZGUgdGV4dC5cbiAgICovXG4gIGdldERpc3BsYXlUZXh0KGFzT25lUm93PzogYm9vbGVhbikge1xuICAgIGFzT25lUm93ID0gYXNPbmVSb3cgfHwgZmFsc2U7XG4gICAgY29uc3QgZGlzcGxheVRleHQ6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgcm93TnIgPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgY29uc3Qgcm93VGV4dCA9IHRoaXMucm93c1tpXS5nZXRUZXh0U3RyaW5nKCk7XG4gICAgICBpZiAocm93VGV4dCkge1xuICAgICAgICByb3dOciA9IGkgKyAxO1xuICAgICAgICBpZiAoYXNPbmVSb3cpIHtcbiAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKCdSb3cgJyArIHJvd05yICsgXCI6ICdcIiArIHJvd1RleHQgKyBcIidcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlzcGxheVRleHQucHVzaChyb3dUZXh0LnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpc3BsYXlUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChhc09uZVJvdykge1xuICAgICAgICB0ZXh0ID0gJ1snICsgZGlzcGxheVRleHQuam9pbignIHwgJykgKyAnXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZGlzcGxheVRleHQuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgZ2V0VGV4dEFuZEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzO1xuICB9XG59XG5cbi8vIHZhciBtb2RlcyA9IFsnTU9ERV9ST0xMLVVQJywgJ01PREVfUE9QLU9OJywgJ01PREVfUEFJTlQtT04nLCAnTU9ERV9URVhUJ107XG5cbnR5cGUgQ2FwdGlvbk1vZGVzID1cbiAgfCAnTU9ERV9ST0xMLVVQJ1xuICB8ICdNT0RFX1BPUC1PTidcbiAgfCAnTU9ERV9QQUlOVC1PTidcbiAgfCAnTU9ERV9URVhUJ1xuICB8IG51bGw7XG5cbmNsYXNzIENlYTYwOENoYW5uZWwge1xuICBjaE5yOiBudW1iZXI7XG4gIG91dHB1dEZpbHRlcjogT3V0cHV0RmlsdGVyO1xuICBtb2RlOiBDYXB0aW9uTW9kZXM7XG4gIHZlcmJvc2U6IG51bWJlcjtcbiAgZGlzcGxheWVkTWVtb3J5OiBDYXB0aW9uU2NyZWVuO1xuICBub25EaXNwbGF5ZWRNZW1vcnk6IENhcHRpb25TY3JlZW47XG4gIGxhc3RPdXRwdXRTY3JlZW46IENhcHRpb25TY3JlZW47XG4gIGN1cnJSb2xsVXBSb3c6IFJvdztcbiAgd3JpdGVTY3JlZW46IENhcHRpb25TY3JlZW47XG4gIGN1ZVN0YXJ0VGltZTogbnVtYmVyIHwgbnVsbDtcbiAgbG9nZ2VyOiBDYXB0aW9uc0xvZ2dlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjaGFubmVsTnVtYmVyOiBudW1iZXIsXG4gICAgb3V0cHV0RmlsdGVyOiBPdXRwdXRGaWx0ZXIsXG4gICAgbG9nZ2VyOiBDYXB0aW9uc0xvZ2dlcixcbiAgKSB7XG4gICAgdGhpcy5jaE5yID0gY2hhbm5lbE51bWJlcjtcbiAgICB0aGlzLm91dHB1dEZpbHRlciA9IG91dHB1dEZpbHRlcjtcbiAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgIHRoaXMudmVyYm9zZSA9IDA7XG4gICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbihsb2dnZXIpO1xuICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5ID0gbmV3IENhcHRpb25TY3JlZW4obG9nZ2VyKTtcbiAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4gPSBuZXcgQ2FwdGlvblNjcmVlbihsb2dnZXIpO1xuICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUyAtIDFdO1xuICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDsgLy8gS2VlcHMgdHJhY2sgb2Ygd2hlcmUgYSBjdWUgc3RhcnRlZC5cbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xuICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5yZXNldCgpO1xuICAgIHRoaXMub3V0cHV0RmlsdGVyLnJlc2V0KCk7XG4gICAgdGhpcy5jdXJyUm9sbFVwUm93ID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkucm93c1tOUl9ST1dTIC0gMV07XG4gICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgdGhpcy5jdWVTdGFydFRpbWUgPSBudWxsO1xuICB9XG5cbiAgZ2V0SGFuZGxlcigpOiBPdXRwdXRGaWx0ZXIge1xuICAgIHJldHVybiB0aGlzLm91dHB1dEZpbHRlcjtcbiAgfVxuXG4gIHNldEhhbmRsZXIobmV3SGFuZGxlcjogT3V0cHV0RmlsdGVyKSB7XG4gICAgdGhpcy5vdXRwdXRGaWx0ZXIgPSBuZXdIYW5kbGVyO1xuICB9XG5cbiAgc2V0UEFDKHBhY0RhdGE6IFBBQ0RhdGEpIHtcbiAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBBQyhwYWNEYXRhKTtcbiAgfVxuXG4gIHNldEJrZ0RhdGEoYmtnRGF0YTogUGFydGlhbDxQZW5TdHlsZXM+KSB7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5zZXRCa2dEYXRhKGJrZ0RhdGEpO1xuICB9XG5cbiAgc2V0TW9kZShuZXdNb2RlOiBDYXB0aW9uTW9kZXMpIHtcbiAgICBpZiAobmV3TW9kZSA9PT0gdGhpcy5tb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICgpID0+ICdNT0RFPScgKyBuZXdNb2RlKTtcbiAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QT1AtT04nKSB7XG4gICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgIHRoaXMud3JpdGVTY3JlZW4ucmVzZXQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW9kZSAhPT0gJ01PREVfUk9MTC1VUCcpIHtcbiAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5uclJvbGxVcFJvd3MgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLm1vZGUgPSBuZXdNb2RlO1xuICB9XG5cbiAgaW5zZXJ0Q2hhcnMoY2hhcnM6IG51bWJlcltdKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53cml0ZVNjcmVlbi5pbnNlcnRDaGFyKGNoYXJzW2ldKTtcbiAgICB9XG5cbiAgICBjb25zdCBzY3JlZW4gPVxuICAgICAgdGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPyAnRElTUCcgOiAnTk9OX0RJU1AnO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgIFZlcmJvc2VMZXZlbC5JTkZPLFxuICAgICAgKCkgPT4gc2NyZWVuICsgJzogJyArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSksXG4gICAgKTtcbiAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QQUlOVC1PTicgfHwgdGhpcy5tb2RlID09PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBWZXJib3NlTGV2ZWwuVEVYVCxcbiAgICAgICAgKCkgPT4gJ0RJU1BMQVlFRDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KHRydWUpLFxuICAgICAgKTtcbiAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNjUkNMKCkge1xuICAgIC8vIFJlc3VtZSBDYXB0aW9uIExvYWRpbmcgKHN3aXRjaCBtb2RlIHRvIFBvcCBPbilcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdSQ0wgLSBSZXN1bWUgQ2FwdGlvbiBMb2FkaW5nJyk7XG4gICAgdGhpcy5zZXRNb2RlKCdNT0RFX1BPUC1PTicpO1xuICB9XG5cbiAgY2NCUygpIHtcbiAgICAvLyBCYWNrU3BhY2VcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdCUyAtIEJhY2tTcGFjZScpO1xuICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1RFWFQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcbiAgICBpZiAodGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkpIHtcbiAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNjQU9GKCkge1xuICAgIC8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPZmYpXG4gIH1cblxuICBjY0FPTigpIHtcbiAgICAvLyBSZXNlcnZlZCAoZm9ybWVybHkgQWxhcm0gT24pXG4gIH1cblxuICBjY0RFUigpIHtcbiAgICAvLyBEZWxldGUgdG8gRW5kIG9mIFJvd1xuICAgIHRoaXMubG9nZ2VyLmxvZyhWZXJib3NlTGV2ZWwuSU5GTywgJ0RFUi0gRGVsZXRlIHRvIEVuZCBvZiBSb3cnKTtcbiAgICB0aGlzLndyaXRlU2NyZWVuLmNsZWFyVG9FbmRPZlJvdygpO1xuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICB9XG5cbiAgY2NSVShuclJvd3M6IG51bWJlciB8IG51bGwpIHtcbiAgICAvLyBSb2xsLVVwIENhcHRpb25zLTIsMyxvciA0IFJvd3NcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdSVSgnICsgbnJSb3dzICsgJykgLSBSb2xsIFVwJyk7XG4gICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9ST0xMLVVQJyk7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5zZXRSb2xsVXBSb3dzKG5yUm93cyk7XG4gIH1cblxuICBjY0ZPTigpIHtcbiAgICAvLyBGbGFzaCBPblxuICAgIHRoaXMubG9nZ2VyLmxvZyhWZXJib3NlTGV2ZWwuSU5GTywgJ0ZPTiAtIEZsYXNoIE9uJyk7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oeyBmbGFzaDogdHJ1ZSB9KTtcbiAgfVxuXG4gIGNjUkRDKCkge1xuICAgIC8vIFJlc3VtZSBEaXJlY3QgQ2FwdGlvbmluZyAoc3dpdGNoIG1vZGUgdG8gUGFpbnRPbilcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdSREMgLSBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcnKTtcbiAgICB0aGlzLnNldE1vZGUoJ01PREVfUEFJTlQtT04nKTtcbiAgfVxuXG4gIGNjVFIoKSB7XG4gICAgLy8gVGV4dCBSZXN0YXJ0IGluIHRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdUUicpO1xuICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gIH1cblxuICBjY1JURCgpIHtcbiAgICAvLyBSZXN1bWUgVGV4dCBEaXNwbGF5IGluIFRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdSVEQnKTtcbiAgICB0aGlzLnNldE1vZGUoJ01PREVfVEVYVCcpO1xuICB9XG5cbiAgY2NFRE0oKSB7XG4gICAgLy8gRXJhc2UgRGlzcGxheWVkIE1lbW9yeVxuICAgIHRoaXMubG9nZ2VyLmxvZyhWZXJib3NlTGV2ZWwuSU5GTywgJ0VETSAtIEVyYXNlIERpc3BsYXllZCBNZW1vcnknKTtcbiAgICB0aGlzLmRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgfVxuXG4gIGNjQ1IoKSB7XG4gICAgLy8gQ2FycmlhZ2UgUmV0dXJuXG4gICAgdGhpcy5sb2dnZXIubG9nKFZlcmJvc2VMZXZlbC5JTkZPLCAnQ1IgLSBDYXJyaWFnZSBSZXR1cm4nKTtcbiAgICB0aGlzLndyaXRlU2NyZWVuLnJvbGxVcCgpO1xuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgfVxuXG4gIGNjRU5NKCkge1xuICAgIC8vIEVyYXNlIE5vbi1EaXNwbGF5ZWQgTWVtb3J5XG4gICAgdGhpcy5sb2dnZXIubG9nKFZlcmJvc2VMZXZlbC5JTkZPLCAnRU5NIC0gRXJhc2UgTm9uLWRpc3BsYXllZCBNZW1vcnknKTtcbiAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xuICB9XG5cbiAgY2NFT0MoKSB7XG4gICAgLy8gRW5kIG9mIENhcHRpb24gKEZsaXAgTWVtb3JpZXMpXG4gICAgdGhpcy5sb2dnZXIubG9nKFZlcmJvc2VMZXZlbC5JTkZPLCAnRU9DIC0gRW5kIE9mIENhcHRpb24nKTtcbiAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QT1AtT04nKSB7XG4gICAgICBjb25zdCB0bXAgPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IHRtcDtcbiAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgVmVyYm9zZUxldmVsLlRFWFQsXG4gICAgICAgICgpID0+ICdESVNQOiAnICsgdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZ2V0RGlzcGxheVRleHQoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgfVxuXG4gIGNjVE8obnJDb2xzOiBudW1iZXIpIHtcbiAgICAvLyBUYWIgT2Zmc2V0IDEsMiwgb3IgMyBjb2x1bW5zXG4gICAgdGhpcy5sb2dnZXIubG9nKFZlcmJvc2VMZXZlbC5JTkZPLCAnVE8oJyArIG5yQ29scyArICcpIC0gVGFiIE9mZnNldCcpO1xuICAgIHRoaXMud3JpdGVTY3JlZW4ubW92ZUN1cnNvcihuckNvbHMpO1xuICB9XG5cbiAgY2NNSURST1coc2Vjb25kQnl0ZTogbnVtYmVyKSB7XG4gICAgLy8gUGFyc2UgTUlEUk9XIGNvbW1hbmRcbiAgICBjb25zdCBzdHlsZXM6IFBhcnRpYWw8UGVuU3R5bGVzPiA9IHsgZmxhc2g6IGZhbHNlIH07XG4gICAgc3R5bGVzLnVuZGVybGluZSA9IHNlY29uZEJ5dGUgJSAyID09PSAxO1xuICAgIHN0eWxlcy5pdGFsaWNzID0gc2Vjb25kQnl0ZSA+PSAweDJlO1xuICAgIGlmICghc3R5bGVzLml0YWxpY3MpIHtcbiAgICAgIGNvbnN0IGNvbG9ySW5kZXggPSBNYXRoLmZsb29yKHNlY29uZEJ5dGUgLyAyKSAtIDB4MTA7XG4gICAgICBjb25zdCBjb2xvcnMgPSBbXG4gICAgICAgICd3aGl0ZScsXG4gICAgICAgICdncmVlbicsXG4gICAgICAgICdibHVlJyxcbiAgICAgICAgJ2N5YW4nLFxuICAgICAgICAncmVkJyxcbiAgICAgICAgJ3llbGxvdycsXG4gICAgICAgICdtYWdlbnRhJyxcbiAgICAgIF07XG4gICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9IGNvbG9yc1tjb2xvckluZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSAnd2hpdGUnO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlci5sb2coVmVyYm9zZUxldmVsLklORk8sICdNSURST1c6ICcgKyBKU09OLnN0cmluZ2lmeShzdHlsZXMpKTtcbiAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBlbihzdHlsZXMpO1xuICB9XG5cbiAgb3V0cHV0RGF0YVVwZGF0ZShkaXNwYXRjaDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgdGltZSA9IHRoaXMubG9nZ2VyLnRpbWU7XG4gICAgaWYgKHRpbWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcbiAgICAgIGlmICh0aGlzLmN1ZVN0YXJ0VGltZSA9PT0gbnVsbCAmJiAhdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpKSB7XG4gICAgICAgIC8vIFN0YXJ0IG9mIGEgbmV3IGN1ZVxuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmVxdWFscyh0aGlzLmxhc3RPdXRwdXRTY3JlZW4pKSB7XG4gICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKFxuICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUhLFxuICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbixcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChkaXNwYXRjaCAmJiB0aGlzLm91dHB1dEZpbHRlci5kaXNwYXRjaEN1ZSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIuZGlzcGF0Y2hDdWUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSA/IG51bGwgOiB0aW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4uY29weSh0aGlzLmRpc3BsYXllZE1lbW9yeSk7XG4gICAgfVxuICB9XG5cbiAgY3VlU3BsaXRBdFRpbWUodDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyKSB7XG4gICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lISwgdCwgdGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgUEFDRGF0YSB7XG4gIHJvdzogbnVtYmVyO1xuICBpbmRlbnQ6IG51bWJlciB8IG51bGw7XG4gIGNvbG9yOiBzdHJpbmcgfCBudWxsO1xuICB1bmRlcmxpbmU6IGJvb2xlYW47XG4gIGl0YWxpY3M6IGJvb2xlYW47XG59XG5cbnR5cGUgU3VwcG9ydGVkRmllbGQgPSAxIHwgMztcblxudHlwZSBDaGFubmVscyA9IDAgfCAxIHwgMjsgLy8gV2lsbCBiZSAxIG9yIDIgd2hlbiBwYXJzaW5nIGNhcHRpb25zXG5cbnR5cGUgQ21kSGlzdG9yeSA9IHtcbiAgYTogbnVtYmVyIHwgbnVsbDtcbiAgYjogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmNsYXNzIENlYTYwOFBhcnNlciB7XG4gIGNoYW5uZWxzOiBBcnJheTxDZWE2MDhDaGFubmVsIHwgbnVsbD47XG4gIGN1cnJlbnRDaGFubmVsOiBDaGFubmVscyA9IDA7XG4gIGNtZEhpc3Rvcnk6IENtZEhpc3RvcnkgPSBjcmVhdGVDbWRIaXN0b3J5KCk7XG4gIGxvZ2dlcjogQ2FwdGlvbnNMb2dnZXI7XG5cbiAgY29uc3RydWN0b3IoZmllbGQ6IFN1cHBvcnRlZEZpZWxkLCBvdXQxOiBPdXRwdXRGaWx0ZXIsIG91dDI6IE91dHB1dEZpbHRlcikge1xuICAgIGNvbnN0IGxvZ2dlciA9ICh0aGlzLmxvZ2dlciA9IG5ldyBDYXB0aW9uc0xvZ2dlcigpKTtcbiAgICB0aGlzLmNoYW5uZWxzID0gW1xuICAgICAgbnVsbCxcbiAgICAgIG5ldyBDZWE2MDhDaGFubmVsKGZpZWxkLCBvdXQxLCBsb2dnZXIpLFxuICAgICAgbmV3IENlYTYwOENoYW5uZWwoZmllbGQgKyAxLCBvdXQyLCBsb2dnZXIpLFxuICAgIF07XG4gIH1cblxuICBnZXRIYW5kbGVyKGNoYW5uZWw6IG51bWJlcikge1xuICAgIHJldHVybiAodGhpcy5jaGFubmVsc1tjaGFubmVsXSBhcyBDZWE2MDhDaGFubmVsKS5nZXRIYW5kbGVyKCk7XG4gIH1cblxuICBzZXRIYW5kbGVyKGNoYW5uZWw6IG51bWJlciwgbmV3SGFuZGxlcjogT3V0cHV0RmlsdGVyKSB7XG4gICAgKHRoaXMuY2hhbm5lbHNbY2hhbm5lbF0gYXMgQ2VhNjA4Q2hhbm5lbCkuc2V0SGFuZGxlcihuZXdIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZGF0YSBmb3IgdGltZSB0IGluIGZvcm1zIG9mIGxpc3Qgb2YgYnl0ZXMgKHVuc2lnbmVkIGludHMpLiBUaGUgYnl0ZXMgYXJlIHRyZWF0ZWQgYXMgcGFpcnMuXG4gICAqL1xuICBhZGREYXRhKHRpbWU6IG51bWJlciB8IG51bGwsIGJ5dGVMaXN0OiBudW1iZXJbXSkge1xuICAgIHRoaXMubG9nZ2VyLnRpbWUgPSB0aW1lO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZUxpc3QubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGNvbnN0IGEgPSBieXRlTGlzdFtpXSAmIDB4N2Y7XG4gICAgICBjb25zdCBiID0gYnl0ZUxpc3RbaSArIDFdICYgMHg3ZjtcbiAgICAgIGxldCBjbWRGb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgbGV0IGNoYXJzRm91bmQ6IG51bWJlcltdIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgVmVyYm9zZUxldmVsLkRBVEEsXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgICdbJyArXG4gICAgICAgICAgICBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpICsgMV1dKSArXG4gICAgICAgICAgICAnXSAtPiAoJyArXG4gICAgICAgICAgICBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArXG4gICAgICAgICAgICAnKScsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNtZEhpc3RvcnkgPSB0aGlzLmNtZEhpc3Rvcnk7XG4gICAgICBjb25zdCBpc0NvbnRyb2xDb2RlID0gYSA+PSAweDEwICYmIGEgPD0gMHgxZjtcbiAgICAgIGlmIChpc0NvbnRyb2xDb2RlKSB7XG4gICAgICAgIC8vIFNraXAgcmVkdW5kYW50IGNvbnRyb2wgY29kZXNcbiAgICAgICAgaWYgKGhhc0NtZFJlcGVhdGVkKGEsIGIsIGNtZEhpc3RvcnkpKSB7XG4gICAgICAgICAgc2V0TGFzdENtZChudWxsLCBudWxsLCBjbWRIaXN0b3J5KTtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgICBWZXJib3NlTGV2ZWwuREVCVUcsXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAnUmVwZWF0ZWQgY29tbWFuZCAoJyArXG4gICAgICAgICAgICAgIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICtcbiAgICAgICAgICAgICAgJykgaXMgZHJvcHBlZCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXRMYXN0Q21kKGEsIGIsIHRoaXMuY21kSGlzdG9yeSk7XG5cbiAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlQ21kKGEsIGIpO1xuXG4gICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VNaWRyb3coYSwgYik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlUEFDKGEsIGIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzKGEsIGIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRMYXN0Q21kKG51bGwsIG51bGwsIGNtZEhpc3RvcnkpO1xuICAgICAgfVxuICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICBjaGFyc0ZvdW5kID0gdGhpcy5wYXJzZUNoYXJzKGEsIGIpO1xuICAgICAgICBpZiAoY2hhcnNGb3VuZCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJDaE5yID0gdGhpcy5jdXJyZW50Q2hhbm5lbDtcbiAgICAgICAgICBpZiAoY3VyckNoTnIgJiYgY3VyckNoTnIgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjdXJyQ2hOcl0gYXMgQ2VhNjA4Q2hhbm5lbDtcbiAgICAgICAgICAgIGNoYW5uZWwuaW5zZXJ0Q2hhcnMoY2hhcnNGb3VuZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgICAgICAgVmVyYm9zZUxldmVsLldBUk5JTkcsXG4gICAgICAgICAgICAgICdObyBjaGFubmVsIGZvdW5kIHlldC4gVEVYVC1NT0RFPycsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjbWRGb3VuZCAmJiAhY2hhcnNGb3VuZCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgVmVyYm9zZUxldmVsLldBUk5JTkcsXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIFwiQ291bGRuJ3QgcGFyc2UgY2xlYW5lZCBkYXRhIFwiICtcbiAgICAgICAgICAgIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICtcbiAgICAgICAgICAgICcgb3JpZzogJyArXG4gICAgICAgICAgICBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpICsgMV1dKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgQ29tbWFuZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhIGNvbW1hbmQgd2FzIGZvdW5kXG4gICAqL1xuICBwYXJzZUNtZChhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbmQxID1cbiAgICAgIChhID09PSAweDE0IHx8IGEgPT09IDB4MWMgfHwgYSA9PT0gMHgxNSB8fCBhID09PSAweDFkKSAmJlxuICAgICAgYiA+PSAweDIwICYmXG4gICAgICBiIDw9IDB4MmY7XG4gICAgY29uc3QgY29uZDIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFmKSAmJiBiID49IDB4MjEgJiYgYiA8PSAweDIzO1xuICAgIGlmICghKGNvbmQxIHx8IGNvbmQyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNoTnIgPSBhID09PSAweDE0IHx8IGEgPT09IDB4MTUgfHwgYSA9PT0gMHgxNyA/IDEgOiAyO1xuICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnJdIGFzIENlYTYwOENoYW5uZWw7XG5cbiAgICBpZiAoYSA9PT0gMHgxNCB8fCBhID09PSAweDE1IHx8IGEgPT09IDB4MWMgfHwgYSA9PT0gMHgxZCkge1xuICAgICAgaWYgKGIgPT09IDB4MjApIHtcbiAgICAgICAgY2hhbm5lbC5jY1JDTCgpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDIxKSB7XG4gICAgICAgIGNoYW5uZWwuY2NCUygpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDIyKSB7XG4gICAgICAgIGNoYW5uZWwuY2NBT0YoKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyMykge1xuICAgICAgICBjaGFubmVsLmNjQU9OKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjQpIHtcbiAgICAgICAgY2hhbm5lbC5jY0RFUigpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDI1KSB7XG4gICAgICAgIGNoYW5uZWwuY2NSVSgyKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNikge1xuICAgICAgICBjaGFubmVsLmNjUlUoMyk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjcpIHtcbiAgICAgICAgY2hhbm5lbC5jY1JVKDQpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDI4KSB7XG4gICAgICAgIGNoYW5uZWwuY2NGT04oKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyOSkge1xuICAgICAgICBjaGFubmVsLmNjUkRDKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MmEpIHtcbiAgICAgICAgY2hhbm5lbC5jY1RSKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MmIpIHtcbiAgICAgICAgY2hhbm5lbC5jY1JURCgpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDJjKSB7XG4gICAgICAgIGNoYW5uZWwuY2NFRE0oKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyZCkge1xuICAgICAgICBjaGFubmVsLmNjQ1IoKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyZSkge1xuICAgICAgICBjaGFubmVsLmNjRU5NKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MmYpIHtcbiAgICAgICAgY2hhbm5lbC5jY0VPQygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhID09IDB4MTcgfHwgYSA9PSAweDFGXG4gICAgICBjaGFubmVsLmNjVE8oYiAtIDB4MjApO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRDaGFubmVsID0gY2hOcjtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBtaWRyb3cgc3R5bGluZyBjb21tYW5kXG4gICAqL1xuICBwYXJzZU1pZHJvdyhhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCBjaE5yOiBudW1iZXIgPSAwO1xuXG4gICAgaWYgKChhID09PSAweDExIHx8IGEgPT09IDB4MTkpICYmIGIgPj0gMHgyMCAmJiBiIDw9IDB4MmYpIHtcbiAgICAgIGlmIChhID09PSAweDExKSB7XG4gICAgICAgIGNoTnIgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hOciA9IDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaE5yICE9PSB0aGlzLmN1cnJlbnRDaGFubmVsKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgICBWZXJib3NlTGV2ZWwuRVJST1IsXG4gICAgICAgICAgJ01pc21hdGNoIGNoYW5uZWwgaW4gbWlkcm93IHBhcnNpbmcnLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yXTtcbiAgICAgIGlmICghY2hhbm5lbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjaGFubmVsLmNjTUlEUk9XKGIpO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBWZXJib3NlTGV2ZWwuREVCVUcsXG4gICAgICAgICgpID0+ICdNSURST1cgKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIFByZWFibGUgQWNjZXNzIENvZGVzIChUYWJsZSA1MykuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUZWxscyBpZiBQQUMgZm91bmRcbiAgICovXG4gIHBhcnNlUEFDKGE6IG51bWJlciwgYjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgbGV0IHJvdzogbnVtYmVyO1xuXG4gICAgY29uc3QgY2FzZTEgPVxuICAgICAgKChhID49IDB4MTEgJiYgYSA8PSAweDE3KSB8fCAoYSA+PSAweDE5ICYmIGEgPD0gMHgxZikpICYmXG4gICAgICBiID49IDB4NDAgJiZcbiAgICAgIGIgPD0gMHg3ZjtcbiAgICBjb25zdCBjYXNlMiA9IChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpICYmIGIgPj0gMHg0MCAmJiBiIDw9IDB4NWY7XG4gICAgaWYgKCEoY2FzZTEgfHwgY2FzZTIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY2hOcjogQ2hhbm5lbHMgPSBhIDw9IDB4MTcgPyAxIDogMjtcblxuICAgIGlmIChiID49IDB4NDAgJiYgYiA8PSAweDVmKSB7XG4gICAgICByb3cgPSBjaE5yID09PSAxID8gcm93c0xvd0NoMVthXSA6IHJvd3NMb3dDaDJbYV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIDB4NjAgPD0gYiA8PSAweDdGXG4gICAgICByb3cgPSBjaE5yID09PSAxID8gcm93c0hpZ2hDaDFbYV0gOiByb3dzSGlnaENoMlthXTtcbiAgICB9XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOcl07XG4gICAgaWYgKCFjaGFubmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNoYW5uZWwuc2V0UEFDKHRoaXMuaW50ZXJwcmV0UEFDKHJvdywgYikpO1xuICAgIHRoaXMuY3VycmVudENoYW5uZWwgPSBjaE5yO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVycHJldCB0aGUgc2Vjb25kIGJ5dGUgb2YgdGhlIHBhYywgYW5kIHJldHVybiB0aGUgaW5mb3JtYXRpb24uXG4gICAqIEByZXR1cm5zIHBhY0RhdGEgd2l0aCBzdHlsZSBwYXJhbWV0ZXJzXG4gICAqL1xuICBpbnRlcnByZXRQQUMocm93OiBudW1iZXIsIGJ5dGU6IG51bWJlcik6IFBBQ0RhdGEge1xuICAgIGxldCBwYWNJbmRleDtcbiAgICBjb25zdCBwYWNEYXRhOiBQQUNEYXRhID0ge1xuICAgICAgY29sb3I6IG51bGwsXG4gICAgICBpdGFsaWNzOiBmYWxzZSxcbiAgICAgIGluZGVudDogbnVsbCxcbiAgICAgIHVuZGVybGluZTogZmFsc2UsXG4gICAgICByb3c6IHJvdyxcbiAgICB9O1xuXG4gICAgaWYgKGJ5dGUgPiAweDVmKSB7XG4gICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDYwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDQwO1xuICAgIH1cblxuICAgIHBhY0RhdGEudW5kZXJsaW5lID0gKHBhY0luZGV4ICYgMSkgPT09IDE7XG4gICAgaWYgKHBhY0luZGV4IDw9IDB4ZCkge1xuICAgICAgcGFjRGF0YS5jb2xvciA9IFtcbiAgICAgICAgJ3doaXRlJyxcbiAgICAgICAgJ2dyZWVuJyxcbiAgICAgICAgJ2JsdWUnLFxuICAgICAgICAnY3lhbicsXG4gICAgICAgICdyZWQnLFxuICAgICAgICAneWVsbG93JyxcbiAgICAgICAgJ21hZ2VudGEnLFxuICAgICAgICAnd2hpdGUnLFxuICAgICAgXVtNYXRoLmZsb29yKHBhY0luZGV4IC8gMildO1xuICAgIH0gZWxzZSBpZiAocGFjSW5kZXggPD0gMHhmKSB7XG4gICAgICBwYWNEYXRhLml0YWxpY3MgPSB0cnVlO1xuICAgICAgcGFjRGF0YS5jb2xvciA9ICd3aGl0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhY0RhdGEuaW5kZW50ID0gTWF0aC5mbG9vcigocGFjSW5kZXggLSAweDEwKSAvIDIpICogNDtcbiAgICB9XG4gICAgcmV0dXJuIHBhY0RhdGE7IC8vIE5vdGUgdGhhdCByb3cgaGFzIHplcm8gb2Zmc2V0LiBUaGUgc3BlYyB1c2VzIDEuXG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgY2hhcmFjdGVycy5cbiAgICogQHJldHVybnMgQW4gYXJyYXkgd2l0aCAxIHRvIDIgY29kZXMgY29ycmVzcG9uZGluZyB0byBjaGFycywgaWYgZm91bmQuIG51bGwgb3RoZXJ3aXNlLlxuICAgKi9cbiAgcGFyc2VDaGFycyhhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlcltdIHwgbnVsbCB7XG4gICAgbGV0IGNoYW5uZWxOcjogQ2hhbm5lbHM7XG4gICAgbGV0IGNoYXJDb2RlczogbnVtYmVyW10gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgY2hhckNvZGUxOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgIGlmIChhID49IDB4MTkpIHtcbiAgICAgIGNoYW5uZWxOciA9IDI7XG4gICAgICBjaGFyQ29kZTEgPSBhIC0gODtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbm5lbE5yID0gMTtcbiAgICAgIGNoYXJDb2RlMSA9IGE7XG4gICAgfVxuICAgIGlmIChjaGFyQ29kZTEgPj0gMHgxMSAmJiBjaGFyQ29kZTEgPD0gMHgxMykge1xuICAgICAgLy8gU3BlY2lhbCBjaGFyYWN0ZXJcbiAgICAgIGxldCBvbmVDb2RlO1xuICAgICAgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMSkge1xuICAgICAgICBvbmVDb2RlID0gYiArIDB4NTA7XG4gICAgICB9IGVsc2UgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMikge1xuICAgICAgICBvbmVDb2RlID0gYiArIDB4NzA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbmVDb2RlID0gYiArIDB4OTA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhcbiAgICAgICAgVmVyYm9zZUxldmVsLklORk8sXG4gICAgICAgICgpID0+XG4gICAgICAgICAgXCJTcGVjaWFsIGNoYXIgJ1wiICtcbiAgICAgICAgICBnZXRDaGFyRm9yQnl0ZShvbmVDb2RlKSArXG4gICAgICAgICAgXCInIGluIGNoYW5uZWwgXCIgK1xuICAgICAgICAgIGNoYW5uZWxOcixcbiAgICAgICk7XG4gICAgICBjaGFyQ29kZXMgPSBbb25lQ29kZV07XG4gICAgfSBlbHNlIGlmIChhID49IDB4MjAgJiYgYSA8PSAweDdmKSB7XG4gICAgICBjaGFyQ29kZXMgPSBiID09PSAwID8gW2FdIDogW2EsIGJdO1xuICAgIH1cbiAgICBpZiAoY2hhckNvZGVzKSB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgIFZlcmJvc2VMZXZlbC5ERUJVRyxcbiAgICAgICAgKCkgPT5cbiAgICAgICAgICAnQ2hhciBjb2RlcyA9ICAnICtcbiAgICAgICAgICBudW1BcnJheVRvSGV4QXJyYXkoY2hhckNvZGVzIGFzIG51bWJlcltdKS5qb2luKCcsJyksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY2hhckNvZGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGV4dGVuZGVkIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcyB3ZWxsIGFzIG5ldyBmb3JlZ3JvdW5kIGNvbG9yIGJsYWNrLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcmUgZm91bmRcbiAgICovXG4gIHBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYXNlMSA9IChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpICYmIGIgPj0gMHgyMCAmJiBiIDw9IDB4MmY7XG4gICAgY29uc3QgY2FzZTIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFmKSAmJiBiID49IDB4MmQgJiYgYiA8PSAweDJmO1xuICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgaW5kZXg6IG51bWJlcjtcbiAgICBjb25zdCBia2dEYXRhOiBQYXJ0aWFsPFBlblN0eWxlcz4gPSB7fTtcbiAgICBpZiAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSB7XG4gICAgICBpbmRleCA9IE1hdGguZmxvb3IoKGIgLSAweDIwKSAvIDIpO1xuICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZENvbG9yc1tpbmRleF07XG4gICAgICBpZiAoYiAlIDIgPT09IDEpIHtcbiAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmtnRGF0YS5iYWNrZ3JvdW5kICsgJ19zZW1pJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGIgPT09IDB4MmQpIHtcbiAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJrZ0RhdGEuZm9yZWdyb3VuZCA9ICdibGFjayc7XG4gICAgICBpZiAoYiA9PT0gMHgyZikge1xuICAgICAgICBia2dEYXRhLnVuZGVybGluZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNoTnI6IENoYW5uZWxzID0gYSA8PSAweDE3ID8gMSA6IDI7XG4gICAgY29uc3QgY2hhbm5lbDogQ2VhNjA4Q2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOcl0gYXMgQ2VhNjA4Q2hhbm5lbDtcbiAgICBjaGFubmVsLnNldEJrZ0RhdGEoYmtnRGF0YSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgc3RhdGUgb2YgcGFyc2VyIGFuZCBpdHMgY2hhbm5lbHMuXG4gICAqL1xuICByZXNldCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE9iamVjdC5rZXlzKHRoaXMuY2hhbm5lbHMpLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tpXTtcbiAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0TGFzdENtZChudWxsLCBudWxsLCB0aGlzLmNtZEhpc3RvcnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgdGhlIGdlbmVyYXRpb24gb2YgYSBjdWUsIGFuZCB0aGUgc3RhcnQgb2YgYSBuZXcgb25lIGlmIGRpc3BsYXlTY3JlZW5zIGFyZSBub3QgZW1wdHkuXG4gICAqL1xuICBjdWVTcGxpdEF0VGltZSh0OiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2ldO1xuICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbC5jdWVTcGxpdEF0VGltZSh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdENtZChcbiAgYTogbnVtYmVyIHwgbnVsbCxcbiAgYjogbnVtYmVyIHwgbnVsbCxcbiAgY21kSGlzdG9yeTogQ21kSGlzdG9yeSxcbikge1xuICBjbWRIaXN0b3J5LmEgPSBhO1xuICBjbWRIaXN0b3J5LmIgPSBiO1xufVxuXG5mdW5jdGlvbiBoYXNDbWRSZXBlYXRlZChhOiBudW1iZXIsIGI6IG51bWJlciwgY21kSGlzdG9yeTogQ21kSGlzdG9yeSkge1xuICByZXR1cm4gY21kSGlzdG9yeS5hID09PSBhICYmIGNtZEhpc3RvcnkuYiA9PT0gYjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ21kSGlzdG9yeSgpOiBDbWRIaXN0b3J5IHtcbiAgcmV0dXJuIHtcbiAgICBhOiBudWxsLFxuICAgIGI6IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IENlYTYwOFBhcnNlcjtcbiIsICJpbXBvcnQgdHlwZSB7IFRpbWVsaW5lQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSB7IENhcHRpb25TY3JlZW4gfSBmcm9tICcuL2NlYS02MDgtcGFyc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3V0cHV0RmlsdGVyIHtcbiAgcHJpdmF0ZSB0aW1lbGluZUNvbnRyb2xsZXI6IFRpbWVsaW5lQ29udHJvbGxlcjtcbiAgcHJpdmF0ZSBjdWVSYW5nZXM6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+ID0gW107XG4gIHByaXZhdGUgdHJhY2tOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBlbmRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzY3JlZW46IENhcHRpb25TY3JlZW4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcih0aW1lbGluZUNvbnRyb2xsZXI6IFRpbWVsaW5lQ29udHJvbGxlciwgdHJhY2tOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnRpbWVsaW5lQ29udHJvbGxlciA9IHRpbWVsaW5lQ29udHJvbGxlcjtcbiAgICB0aGlzLnRyYWNrTmFtZSA9IHRyYWNrTmFtZTtcbiAgfVxuXG4gIGRpc3BhdGNoQ3VlKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyLmFkZEN1ZXMoXG4gICAgICB0aGlzLnRyYWNrTmFtZSxcbiAgICAgIHRoaXMuc3RhcnRUaW1lLFxuICAgICAgdGhpcy5lbmRUaW1lIGFzIG51bWJlcixcbiAgICAgIHRoaXMuc2NyZWVuIGFzIENhcHRpb25TY3JlZW4sXG4gICAgICB0aGlzLmN1ZVJhbmdlcyxcbiAgICApO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgfVxuXG4gIG5ld0N1ZShzdGFydFRpbWU6IG51bWJlciwgZW5kVGltZTogbnVtYmVyLCBzY3JlZW46IENhcHRpb25TY3JlZW4pIHtcbiAgICBpZiAodGhpcy5zdGFydFRpbWUgPT09IG51bGwgfHwgdGhpcy5zdGFydFRpbWUgPiBzdGFydFRpbWUpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgIH1cblxuICAgIHRoaXMuZW5kVGltZSA9IGVuZFRpbWU7XG4gICAgdGhpcy5zY3JlZW4gPSBzY3JlZW47XG4gICAgdGhpcy50aW1lbGluZUNvbnRyb2xsZXIuY3JlYXRlQ2FwdGlvbnNUcmFjayh0aGlzLnRyYWNrTmFtZSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmN1ZVJhbmdlcyA9IFtdO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgfVxufVxuIiwgIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgdnR0LmpzIENvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBvcHRpb25hbFNlbGYgfSBmcm9tICcuL2dsb2JhbCc7XG5cbmRlY2xhcmUgaW50ZXJmYWNlIFZUVEN1ZVBvbHlmaWxsIGV4dGVuZHMgVlRUQ3VlIHtcbiAgbmV3ICguLi5hcmdzKTogVlRUQ3VlUG9seWZpbGw7XG4gIGhhc0JlZW5SZXNldDogYm9vbGVhbjtcbiAgZGlzcGxheVN0YXRlOiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkge1xuICBpZiAob3B0aW9uYWxTZWxmPy5WVFRDdWUpIHtcbiAgICByZXR1cm4gc2VsZi5WVFRDdWU7XG4gIH1cblxuICBjb25zdCBBbGxvd2VkRGlyZWN0aW9ucyA9IFsnJywgJ2xyJywgJ3JsJ10gYXMgY29uc3Q7XG4gIHR5cGUgRGlyZWN0aW9uID0gKHR5cGVvZiBBbGxvd2VkRGlyZWN0aW9ucylbbnVtYmVyXTtcblxuICBjb25zdCBBbGxvd2VkQWxpZ25tZW50cyA9IFtcbiAgICAnc3RhcnQnLFxuICAgICdtaWRkbGUnLFxuICAgICdlbmQnLFxuICAgICdsZWZ0JyxcbiAgICAncmlnaHQnLFxuICBdIGFzIGNvbnN0O1xuICB0eXBlIEFsaWdubWVudCA9ICh0eXBlb2YgQWxsb3dlZEFsaWdubWVudHMpW251bWJlcl07XG5cbiAgZnVuY3Rpb24gaXNBbGxvd2VkVmFsdWU8VCwgQT4oYWxsb3dlZDogVCwgdmFsdWU6IHN0cmluZyk6IEEgfCBmYWxzZSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gbmVjZXNzYXJ5IGZvciBhc3N1cmluZyB0aGUgZ2VuZXJpYyBjb25mb3JtcyB0byB0aGUgQXJyYXkgaW50ZXJmYWNlXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFsbG93ZWQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIHJlc2V0IHRoZSB0eXBlIHNvIHRoYXQgdGhlIG5leHQgbmFycm93aW5nIHdvcmtzIHdlbGxcbiAgICBjb25zdCBsY1ZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKSBhcyBhbnk7XG4gICAgLy8gdXNlIHRoZSBhbGxvdyBsaXN0IHRvIG5hcnJvdyB0aGUgdHlwZSB0byBhIHNwZWNpZmljIHN1YnNldCBvZiBzdHJpbmdzXG4gICAgaWYgKH5hbGxvd2VkLmluZGV4T2YobGNWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBsY1ZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gaXNBbGxvd2VkVmFsdWU8dHlwZW9mIEFsbG93ZWREaXJlY3Rpb25zLCBEaXJlY3Rpb24+KFxuICAgICAgQWxsb3dlZERpcmVjdGlvbnMsXG4gICAgICB2YWx1ZSxcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEFsaWduU2V0dGluZyh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGlzQWxsb3dlZFZhbHVlPHR5cGVvZiBBbGxvd2VkQWxpZ25tZW50cywgQWxpZ25tZW50PihcbiAgICAgIEFsbG93ZWRBbGlnbm1lbnRzLFxuICAgICAgdmFsdWUsXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChvYmo6IFJlY29yZDxzdHJpbmcsIGFueT4sIC4uLnJlc3Q6IFJlY29yZDxzdHJpbmcsIGFueT5bXSkge1xuICAgIGxldCBpID0gMTtcbiAgICBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAoY29uc3QgcCBpbiBjb2JqKSB7XG4gICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZUVEN1ZShzdGFydFRpbWU6IG51bWJlciwgZW5kVGltZTogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjdWUgPSB0aGlzIGFzIFZUVEN1ZVBvbHlmaWxsO1xuICAgIGNvbnN0IGJhc2VPYmogPSB7IGVudW1lcmFibGU6IHRydWUgfTtcbiAgICAvKipcbiAgICAgKiBTaGltIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBpblxuICAgICAqIHRoZSBzcGVjLlxuICAgICAqL1xuXG4gICAgLy8gTGV0cyB1cyBrbm93IHdoZW4gdGhlIFZUVEN1ZSdzIGRhdGEgaGFzIGNoYW5nZWQgaW4gc3VjaCBhIHdheSB0aGF0IHdlIG5lZWRcbiAgICAvLyB0byByZWNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGUuIFRoaXMgbGV0cyB1cyBjb21wdXRlIGl0cyBkaXNwbGF5IHN0YXRlXG4gICAgLy8gbGF6aWx5LlxuICAgIGN1ZS5oYXNCZWVuUmVzZXQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFZUVEN1ZSBhbmQgVGV4dFRyYWNrQ3VlIHByb3BlcnRpZXNcbiAgICAgKiBodHRwOi8vZGV2LnczLm9yZy9odG1sNS93ZWJ2dHQvI3Z0dGN1ZS1pbnRlcmZhY2VcbiAgICAgKi9cblxuICAgIGxldCBfaWQgPSAnJztcbiAgICBsZXQgX3BhdXNlT25FeGl0ID0gZmFsc2U7XG4gICAgbGV0IF9zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgbGV0IF9lbmRUaW1lID0gZW5kVGltZTtcbiAgICBsZXQgX3RleHQgPSB0ZXh0O1xuICAgIGxldCBfcmVnaW9uID0gbnVsbDtcbiAgICBsZXQgX3ZlcnRpY2FsOiBEaXJlY3Rpb24gPSAnJztcbiAgICBsZXQgX3NuYXBUb0xpbmVzID0gdHJ1ZTtcbiAgICBsZXQgX2xpbmU6IG51bWJlciB8ICdhdXRvJyA9ICdhdXRvJztcbiAgICBsZXQgX2xpbmVBbGlnbjogQWxpZ25tZW50ID0gJ3N0YXJ0JztcbiAgICBsZXQgX3Bvc2l0aW9uID0gNTA7XG4gICAgbGV0IF9wb3NpdGlvbkFsaWduOiBBbGlnbm1lbnQgPSAnbWlkZGxlJztcbiAgICBsZXQgX3NpemUgPSA1MDtcbiAgICBsZXQgX2FsaWduOiBBbGlnbm1lbnQgPSAnbWlkZGxlJztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIGN1ZSxcbiAgICAgICdpZCcsXG4gICAgICBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF9pZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIF9pZCA9ICcnICsgdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ3BhdXNlT25FeGl0JyxcbiAgICAgIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3BhdXNlT25FeGl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICAgIF9wYXVzZU9uRXhpdCA9ICEhdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ3N0YXJ0VGltZScsXG4gICAgICBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF9zdGFydFRpbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RhcnQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIGN1ZSxcbiAgICAgICdlbmRUaW1lJyxcbiAgICAgIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX2VuZFRpbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5kIHRpbWUgbXVzdCBiZSBzZXQgdG8gYSBudW1iZXIuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ3RleHQnLFxuICAgICAgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIF90ZXh0ID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgLy8gdG9kbzogaW1wbGVtZW50IFZUVFJlZ2lvbiBwb2x5ZmlsbD9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICBjdWUsXG4gICAgICAncmVnaW9uJyxcbiAgICAgIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IGFueSkge1xuICAgICAgICAgIF9yZWdpb24gPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ3ZlcnRpY2FsJyxcbiAgICAgIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3ZlcnRpY2FsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZyA9IGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBmYWxzZSBiZWNhdXNlIHRoZSBzZXR0aW5nIGFuIGJlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgICBpZiAoc2V0dGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcbiAgICAgICAgICAgICAgJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdmVydGljYWwgPSBzZXR0aW5nO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICBjdWUsXG4gICAgICAnc25hcFRvTGluZXMnLFxuICAgICAgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfc25hcFRvTGluZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgICAgX3NuYXBUb0xpbmVzID0gISF2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ2xpbmUnLFxuICAgICAgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IG51bWJlciB8ICdhdXRvJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInICYmIHZhbHVlICE9PSAnYXV0bycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcbiAgICAgICAgICAgICAgJ0FuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2xpbmUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ2xpbmVBbGlnbicsXG4gICAgICBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF9saW5lQWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXG4gICAgICAgICAgICAgICdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2xpbmVBbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIGN1ZSxcbiAgICAgICdwb3NpdGlvbicsXG4gICAgICBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF9wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IG51bWJlcikge1xuICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9zaXRpb24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY3VlLFxuICAgICAgJ3Bvc2l0aW9uQWxpZ24nLFxuICAgICAgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfcG9zaXRpb25BbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcbiAgICAgICAgICAgICAgJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfcG9zaXRpb25BbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIGN1ZSxcbiAgICAgICdzaXplJyxcbiAgICAgIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3NpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc2l6ZSA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICBjdWUsXG4gICAgICAnYWxpZ24nLFxuICAgICAgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXG4gICAgICAgICAgICAgICdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2FsaWduID0gc2V0dGluZztcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogT3RoZXIgPHRyYWNrPiBzcGVjIGRlZmluZWQgcHJvcGVydGllc1xuICAgICAqL1xuXG4gICAgLy8gaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLXZpZGVvLWVsZW1lbnQuaHRtbCN0ZXh0LXRyYWNrLWN1ZS1kaXNwbGF5LXN0YXRlXG4gICAgY3VlLmRpc3BsYXlTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWVFRDdWUgbWV0aG9kc1xuICAgKi9cblxuICBWVFRDdWUucHJvdG90eXBlLmdldEN1ZUFzSFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBBc3N1bWUgV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUgaXMgb24gdGhlIGdsb2JhbC5cbiAgICBjb25zdCBXZWJWVFQgPSAoc2VsZiBhcyBhbnkpLldlYlZUVDtcbiAgICByZXR1cm4gV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUoc2VsZiwgdGhpcy50ZXh0KTtcbiAgfTtcbiAgLy8gdGhpcyBpcyBhIHBvbHlmaWxsIGhhY2tcbiAgcmV0dXJuIFZUVEN1ZSBhcyBhbnkgYXMgVlRUQ3VlUG9seWZpbGw7XG59KSgpO1xuIiwgIi8qXG4gKiBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3Z0dC5qcy9ibG9iL21hc3Rlci9kaXN0L3Z0dC5qc1xuICovXG5cbmltcG9ydCBWVFRDdWUgZnJvbSAnLi92dHRjdWUnO1xuXG5jbGFzcyBTdHJpbmdEZWNvZGVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBkZWNvZGUoZGF0YTogc3RyaW5nIHwgYW55LCBvcHRpb25zPzogT2JqZWN0KTogc3RyaW5nIHwgbmV2ZXIge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgLSBleHBlY3RlZCBzdHJpbmcgZGF0YS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gIH1cbn1cblxuLy8gVHJ5IHRvIHBhcnNlIGlucHV0IGFzIGEgdGltZSBzdGFtcC5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRpbWVTdGFtcChpbnB1dDogc3RyaW5nKSB7XG4gIGZ1bmN0aW9uIGNvbXB1dGVTZWNvbmRzKGgsIG0sIHMsIGYpIHtcbiAgICByZXR1cm4gKGggfCAwKSAqIDM2MDAgKyAobSB8IDApICogNjAgKyAocyB8IDApICsgcGFyc2VGbG9hdChmIHx8IDApO1xuICB9XG5cbiAgY29uc3QgbSA9IGlucHV0Lm1hdGNoKC9eKD86KFxcZCspOik/KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkKyk/Lyk7XG4gIGlmICghbSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHBhcnNlRmxvYXQobVsyXSkgPiA1OSkge1xuICAgIC8vIFRpbWVzdGFtcCB0YWtlcyB0aGUgZm9ybSBvZiBbaG91cnNdOlttaW51dGVzXS5bbWlsbGlzZWNvbmRzXVxuICAgIC8vIEZpcnN0IHBvc2l0aW9uIGlzIGhvdXJzIGFzIGl0J3Mgb3ZlciA1OS5cbiAgICByZXR1cm4gY29tcHV0ZVNlY29uZHMobVsyXSwgbVszXSwgMCwgbVs0XSk7XG4gIH1cbiAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3VycyAob3B0aW9uYWwpXTpbbWludXRlc106W3NlY29uZHNdLlttaWxsaXNlY29uZHNdXG4gIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCBtWzNdLCBtWzRdKTtcbn1cblxuLy8gQSBzZXR0aW5ncyBvYmplY3QgaG9sZHMga2V5L3ZhbHVlIHBhaXJzIGFuZCB3aWxsIGlnbm9yZSBhbnl0aGluZyBidXQgdGhlIGZpcnN0XG4vLyBhc3NpZ25tZW50IHRvIGEgc3BlY2lmaWMga2V5LlxuY2xhc3MgU2V0dGluZ3Mge1xuICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy8gT25seSBhY2NlcHQgdGhlIGZpcnN0IGFzc2lnbm1lbnQgdG8gYW55IGtleS5cbiAgc2V0KGs6IHN0cmluZywgdjogYW55KSB7XG4gICAgaWYgKCF0aGlzLmdldChrKSAmJiB2ICE9PSAnJykge1xuICAgICAgdGhpcy52YWx1ZXNba10gPSB2O1xuICAgIH1cbiAgfVxuICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZvciBhIGtleSwgb3IgYSBkZWZhdWx0IHZhbHVlLlxuICAvLyBJZiAnZGVmYXVsdEtleScgaXMgcGFzc2VkIHRoZW4gJ2RmbHQnIGlzIGFzc3VtZWQgdG8gYmUgYW4gb2JqZWN0IHdpdGhcbiAgLy8gYSBudW1iZXIgb2YgcG9zc2libGUgZGVmYXVsdCB2YWx1ZXMgYXMgcHJvcGVydGllcyB3aGVyZSAnZGVmYXVsdEtleScgaXNcbiAgLy8gdGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNob3Nlbjsgb3RoZXJ3aXNlIGl0J3MgYXNzdW1lZCB0byBiZVxuICAvLyBhIHNpbmdsZSB2YWx1ZS5cbiAgZ2V0KGs6IHN0cmluZywgZGZsdD86IGFueSwgZGVmYXVsdEtleT86IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKGRlZmF1bHRLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdFtkZWZhdWx0S2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLnZhbHVlc1trXSA6IGRmbHQ7XG4gIH1cbiAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgdmFsdWUgZm9yIGEga2V5LlxuICBoYXMoazogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGsgaW4gdGhpcy52YWx1ZXM7XG4gIH1cbiAgLy8gQWNjZXB0IGEgc2V0dGluZyBpZiBpdHMgb25lIG9mIHRoZSBnaXZlbiBhbHRlcm5hdGl2ZXMuXG4gIGFsdChrOiBzdHJpbmcsIHY6IGFueSwgYTogYW55W10pIHtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGEubGVuZ3RoOyArK24pIHtcbiAgICAgIGlmICh2ID09PSBhW25dKSB7XG4gICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gQWNjZXB0IGEgc2V0dGluZyBpZiBpdHMgYSB2YWxpZCAoc2lnbmVkKSBpbnRlZ2VyLlxuICBpbnRlZ2VyKGs6IHN0cmluZywgdjogYW55KSB7XG4gICAgaWYgKC9eLT9cXGQrJC8udGVzdCh2KSkge1xuICAgICAgLy8gaW50ZWdlclxuICAgICAgdGhpcy5zZXQoaywgcGFyc2VJbnQodiwgMTApKTtcbiAgICB9XG4gIH1cbiAgLy8gQWNjZXB0IGEgc2V0dGluZyBpZiBpdHMgYSB2YWxpZCBwZXJjZW50YWdlLlxuICBwZXJjZW50KGs6IHN0cmluZywgdjogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKC9eKFtcXGRdezEsM30pKFxcLltcXGRdKik/JSQvLnRlc3QodikpIHtcbiAgICAgIGNvbnN0IHBlcmNlbnQgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgaWYgKHBlcmNlbnQgPj0gMCAmJiBwZXJjZW50IDw9IDEwMCkge1xuICAgICAgICB0aGlzLnNldChrLCBwZXJjZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4vLyBpbnRlcnByZXQgZWFjaCBncm91cCBhcyBhIGtleS92YWx1ZSBwYWlyIHNlcGFyYXRlZCBieSAna2V5VmFsdWVEZWxpbScuXG5mdW5jdGlvbiBwYXJzZU9wdGlvbnMoXG4gIGlucHV0OiBzdHJpbmcsXG4gIGNhbGxiYWNrOiAoazogc3RyaW5nLCB2OiBhbnkpID0+IHZvaWQsXG4gIGtleVZhbHVlRGVsaW06IFJlZ0V4cCxcbiAgZ3JvdXBEZWxpbT86IFJlZ0V4cCxcbikge1xuICBjb25zdCBncm91cHMgPSBncm91cERlbGltID8gaW5wdXQuc3BsaXQoZ3JvdXBEZWxpbSkgOiBbaW5wdXRdO1xuICBmb3IgKGNvbnN0IGkgaW4gZ3JvdXBzKSB7XG4gICAgaWYgKHR5cGVvZiBncm91cHNbaV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBrdiA9IGdyb3Vwc1tpXS5zcGxpdChrZXlWYWx1ZURlbGltKTtcbiAgICBpZiAoa3YubGVuZ3RoICE9PSAyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBrID0ga3ZbMF07XG4gICAgY29uc3QgdiA9IGt2WzFdO1xuICAgIGNhbGxiYWNrKGssIHYpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRzID0gbmV3IFZUVEN1ZSgwLCAwLCAnJyk7XG4vLyAnbWlkZGxlJyB3YXMgY2hhbmdlZCB0byAnY2VudGVyJyBpbiB0aGUgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3czYy93ZWJ2dHQvcHVsbC8yNDRcbi8vICBTYWZhcmkgZG9lc24ndCB5ZXQgc3VwcG9ydCB0aGlzIGNoYW5nZSwgYnV0IEZGIGFuZCBDaHJvbWUgZG8uXG5jb25zdCBjZW50ZXIgPSAoZGVmYXVsdHMuYWxpZ24gYXMgc3RyaW5nKSA9PT0gJ21pZGRsZScgPyAnbWlkZGxlJyA6ICdjZW50ZXInO1xuXG5mdW5jdGlvbiBwYXJzZUN1ZShpbnB1dDogc3RyaW5nLCBjdWU6IFZUVEN1ZSwgcmVnaW9uTGlzdDogUmVnaW9uW10pIHtcbiAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIGlucHV0IGlmIHdlIG5lZWQgdG8gdGhyb3cgYW4gZXJyb3IuXG4gIGNvbnN0IG9JbnB1dCA9IGlucHV0O1xuICAvLyA0LjEgV2ViVlRUIHRpbWVzdGFtcFxuICBmdW5jdGlvbiBjb25zdW1lVGltZVN0YW1wKCk6IG51bWJlciB8IG5ldmVyIHtcbiAgICBjb25zdCB0cyA9IHBhcnNlVGltZVN0YW1wKGlucHV0KTtcbiAgICBpZiAodHMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWVzdGFtcDogJyArIG9JbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRpbWUgc3RhbXAgZnJvbSBpbnB1dC5cbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15bXlxcc2EtekEtWi1dKy8sICcnKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cblxuICAvLyA0LjQuMiBXZWJWVFQgY3VlIHNldHRpbmdzXG4gIGZ1bmN0aW9uIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dDogc3RyaW5nLCBjdWU6IFZUVEN1ZSkge1xuICAgIGNvbnN0IHNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG5cbiAgICBwYXJzZU9wdGlvbnMoXG4gICAgICBpbnB1dCxcbiAgICAgIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgIGxldCB2YWxzO1xuICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICBjYXNlICdyZWdpb24nOlxuICAgICAgICAgICAgLy8gRmluZCB0aGUgbGFzdCByZWdpb24gd2UgcGFyc2VkIHdpdGggdGhlIHNhbWUgcmVnaW9uIGlkLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHJlZ2lvbkxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgaWYgKHJlZ2lvbkxpc3RbaV0uaWQgPT09IHYpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoaywgcmVnaW9uTGlzdFtpXS5yZWdpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd2ZXJ0aWNhbCc6XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoaywgdiwgWydybCcsICdsciddKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgICAgdmFscyA9IHYuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIHNldHRpbmdzLmludGVnZXIoaywgdmFsc1swXSk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucGVyY2VudChrLCB2YWxzWzBdKSkge1xuICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoJ3NuYXBUb0xpbmVzJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoaywgdmFsc1swXSwgWydhdXRvJ10pO1xuICAgICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzLmFsdCgnbGluZUFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCddKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgICAgdmFscyA9IHYuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsc1swXSk7XG4gICAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KCdwb3NpdGlvbkFsaWduJywgdmFsc1sxXSwgW1xuICAgICAgICAgICAgICAgICdzdGFydCcsXG4gICAgICAgICAgICAgICAgY2VudGVyLFxuICAgICAgICAgICAgICAgICdlbmQnLFxuICAgICAgICAgICAgICAgICdsaW5lLWxlZnQnLFxuICAgICAgICAgICAgICAgICdsaW5lLXJpZ2h0JyxcbiAgICAgICAgICAgICAgICAnYXV0bycsXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzaXplJzpcbiAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhbGlnbic6XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoaywgdiwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCcsICdsZWZ0JywgJ3JpZ2h0J10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvOi8sXG4gICAgICAvXFxzLyxcbiAgICApO1xuXG4gICAgLy8gQXBwbHkgZGVmYXVsdCB2YWx1ZXMgZm9yIGFueSBtaXNzaW5nIGZpZWxkcy5cbiAgICBjdWUucmVnaW9uID0gc2V0dGluZ3MuZ2V0KCdyZWdpb24nLCBudWxsKTtcbiAgICBjdWUudmVydGljYWwgPSBzZXR0aW5ncy5nZXQoJ3ZlcnRpY2FsJywgJycpO1xuICAgIGxldCBsaW5lID0gc2V0dGluZ3MuZ2V0KCdsaW5lJywgJ2F1dG8nKTtcbiAgICBpZiAobGluZSA9PT0gJ2F1dG8nICYmIGRlZmF1bHRzLmxpbmUgPT09IC0xKSB7XG4gICAgICAvLyBzZXQgbnVtZXJpYyBsaW5lIG51bWJlciBmb3IgU2FmYXJpXG4gICAgICBsaW5lID0gLTE7XG4gICAgfVxuICAgIGN1ZS5saW5lID0gbGluZTtcbiAgICBjdWUubGluZUFsaWduID0gc2V0dGluZ3MuZ2V0KCdsaW5lQWxpZ24nLCAnc3RhcnQnKTtcbiAgICBjdWUuc25hcFRvTGluZXMgPSBzZXR0aW5ncy5nZXQoJ3NuYXBUb0xpbmVzJywgdHJ1ZSk7XG4gICAgY3VlLnNpemUgPSBzZXR0aW5ncy5nZXQoJ3NpemUnLCAxMDApO1xuICAgIGN1ZS5hbGlnbiA9IHNldHRpbmdzLmdldCgnYWxpZ24nLCBjZW50ZXIpO1xuICAgIGxldCBwb3NpdGlvbiA9IHNldHRpbmdzLmdldCgncG9zaXRpb24nLCAnYXV0bycpO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2F1dG8nICYmIGRlZmF1bHRzLnBvc2l0aW9uID09PSA1MCkge1xuICAgICAgLy8gc2V0IG51bWVyaWMgcG9zaXRpb24gZm9yIFNhZmFyaVxuICAgICAgcG9zaXRpb24gPVxuICAgICAgICBjdWUuYWxpZ24gPT09ICdzdGFydCcgfHwgY3VlLmFsaWduID09PSAnbGVmdCdcbiAgICAgICAgICA/IDBcbiAgICAgICAgICA6IGN1ZS5hbGlnbiA9PT0gJ2VuZCcgfHwgY3VlLmFsaWduID09PSAncmlnaHQnXG4gICAgICAgICAgICA/IDEwMFxuICAgICAgICAgICAgOiA1MDtcbiAgICB9XG4gICAgY3VlLnBvc2l0aW9uID0gcG9zaXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15cXHMrLywgJycpO1xuICB9XG5cbiAgLy8gNC4xIFdlYlZUVCBjdWUgdGltaW5ncy5cbiAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgY3VlLnN0YXJ0VGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDEpIGNvbGxlY3QgY3VlIHN0YXJ0IHRpbWVcbiAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgaWYgKGlucHV0LnNsaWNlKDAsIDMpICE9PSAnLS0+Jykge1xuICAgIC8vICgzKSBuZXh0IGNoYXJhY3RlcnMgbXVzdCBtYXRjaCAnLS0+J1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTWFsZm9ybWVkIHRpbWUgc3RhbXAgKHRpbWUgc3RhbXBzIG11c3QgYmUgc2VwYXJhdGVkIGJ5ICctLT4nKTogXCIgK1xuICAgICAgICBvSW5wdXQsXG4gICAgKTtcbiAgfVxuICBpbnB1dCA9IGlucHV0LnNsaWNlKDMpO1xuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDUpIGNvbGxlY3QgY3VlIGVuZCB0aW1lXG5cbiAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgY29uc3VtZUN1ZVNldHRpbmdzKGlucHV0LCBjdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZml4TGluZUJyZWFrcyhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLzxicig/OiBcXC8pPz4vZ2ksICdcXG4nKTtcbn1cblxudHlwZSBSZWdpb24gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJlZ2lvbjogYW55O1xufTtcblxuZXhwb3J0IGNsYXNzIFZUVFBhcnNlciB7XG4gIHByaXZhdGUgc3RhdGU6XG4gICAgfCAnSU5JVElBTCdcbiAgICB8ICdIRUFERVInXG4gICAgfCAnSUQnXG4gICAgfCAnQ1VFJ1xuICAgIHwgJ0NVRVRFWFQnXG4gICAgfCAnTk9URSdcbiAgICB8ICdCQURXRUJWVFQnXG4gICAgfCAnQkFEQ1VFJyA9ICdJTklUSUFMJztcbiAgcHJpdmF0ZSBidWZmZXI6IHN0cmluZyA9ICcnO1xuICBwcml2YXRlIGRlY29kZXI6IFN0cmluZ0RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcigpO1xuICBwcml2YXRlIHJlZ2lvbkxpc3Q6IFJlZ2lvbltdID0gW107XG4gIHByaXZhdGUgY3VlOiBWVFRDdWUgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIG9uY3VlPzogKGN1ZTogVlRUQ3VlKSA9PiB2b2lkO1xuICBwdWJsaWMgb25wYXJzaW5nZXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuICBwdWJsaWMgb25mbHVzaD86ICgpID0+IHZvaWQ7XG5cbiAgcGFyc2UoZGF0YT86IHN0cmluZyk6IFZUVFBhcnNlciB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAvLyB3aGF0ZXZlciBpcyBpbiBidWZmZXIgYWxyZWFkeS4gVGhpcyBtYXkgb2NjdXIgaW4gY2lyY3Vtc3RhbmNlcywgZm9yXG4gICAgLy8gZXhhbXBsZSB3aGVuIGZsdXNoKCkgaXMgY2FsbGVkLlxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBkYXRhIHRoYXQgd2UgcmVjZWl2ZWQuXG4gICAgICBfdGhpcy5idWZmZXIgKz0gX3RoaXMuZGVjb2Rlci5kZWNvZGUoZGF0YSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29sbGVjdE5leHRMaW5lKCk6IHN0cmluZyB7XG4gICAgICBsZXQgYnVmZmVyOiBzdHJpbmcgPSBfdGhpcy5idWZmZXI7XG4gICAgICBsZXQgcG9zID0gMDtcblxuICAgICAgYnVmZmVyID0gZml4TGluZUJyZWFrcyhidWZmZXIpO1xuXG4gICAgICB3aGlsZSAoXG4gICAgICAgIHBvcyA8IGJ1ZmZlci5sZW5ndGggJiZcbiAgICAgICAgYnVmZmVyW3Bvc10gIT09ICdcXHInICYmXG4gICAgICAgIGJ1ZmZlcltwb3NdICE9PSAnXFxuJ1xuICAgICAgKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsaW5lOiBzdHJpbmcgPSBidWZmZXIuc2xpY2UoMCwgcG9zKTtcbiAgICAgIC8vIEFkdmFuY2UgdGhlIGJ1ZmZlciBlYXJseSBpbiBjYXNlIHdlIGZhaWwgYmVsb3cuXG4gICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXHInKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgfVxuXG4gICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXG4nKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5idWZmZXIgPSBidWZmZXIuc2xpY2UocG9zKTtcbiAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cblxuICAgIC8vIDMuMiBXZWJWVFQgbWV0YWRhdGEgaGVhZGVyIHN5bnRheFxuICAgIGZ1bmN0aW9uIHBhcnNlSGVhZGVyKGlucHV0KSB7XG4gICAgICBwYXJzZU9wdGlvbnMoXG4gICAgICAgIGlucHV0LFxuICAgICAgICBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgIC8vIHN3aXRjaCAoaykge1xuICAgICAgICAgIC8vIGNhc2UgJ3JlZ2lvbic6XG4gICAgICAgICAgLy8gMy4zIFdlYlZUVCByZWdpb24gbWV0YWRhdGEgaGVhZGVyIHN5bnRheFxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJzZSByZWdpb24nLCB2KTtcbiAgICAgICAgICAvLyBwYXJzZVJlZ2lvbih2KTtcbiAgICAgICAgICAvLyBicmVhaztcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0sXG4gICAgICAgIC86LyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gNS4xIFdlYlZUVCBmaWxlIHBhcnNpbmcuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBsaW5lOiBzdHJpbmcgPSAnJztcbiAgICAgIGlmIChfdGhpcy5zdGF0ZSA9PT0gJ0lOSVRJQUwnKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IHN0YXJ0IHBhcnNpbmcgdW50aWwgd2UgaGF2ZSB0aGUgZmlyc3QgbGluZS5cbiAgICAgICAgaWYgKCEvXFxyXFxufFxcbi8udGVzdChfdGhpcy5idWZmZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG4gICAgICAgIC8vIHN0cmlwIG9mIFVURi04IEJPTSBpZiBhbnlcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnl0ZV9vcmRlcl9tYXJrI1VURi04XG4gICAgICAgIGNvbnN0IG0gPSBsaW5lLm1hdGNoKC9eKMOvwrvCvyk/V0VCVlRUKFsgXFx0XS4qKT8kLyk7XG4gICAgICAgIGlmICghbT8uWzBdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgV2ViVlRUIHNpZ25hdHVyZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0YXRlID0gJ0hFQURFUic7XG4gICAgICB9XG5cbiAgICAgIGxldCBhbHJlYWR5Q29sbGVjdGVkTGluZSA9IGZhbHNlO1xuICAgICAgd2hpbGUgKF90aGlzLmJ1ZmZlcikge1xuICAgICAgICAvLyBXZSBjYW4ndCBwYXJzZSBhIGxpbmUgdW50aWwgd2UgaGF2ZSB0aGUgZnVsbCBsaW5lLlxuICAgICAgICBpZiAoIS9cXHJcXG58XFxuLy50ZXN0KF90aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYWxyZWFkeUNvbGxlY3RlZExpbmUpIHtcbiAgICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxyZWFkeUNvbGxlY3RlZExpbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoX3RoaXMuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdIRUFERVInOlxuICAgICAgICAgICAgLy8gMTMtMTggLSBBbGxvdyBhIGhlYWRlciAobWV0YWRhdGEpIHVuZGVyIHRoZSBXRUJWVFQgbGluZS5cbiAgICAgICAgICAgIGlmICgvOi8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICBwYXJzZUhlYWRlcihsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgLy8gQW4gZW1wdHkgbGluZSB0ZXJtaW5hdGVzIHRoZSBoZWFkZXIgYW5kIHN0YXJ0cyB0aGUgYm9keSAoY3VlcykuXG4gICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ05PVEUnOlxuICAgICAgICAgICAgLy8gSWdub3JlIE5PVEUgYmxvY2tzLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnSUQnOlxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBzdGFydCBvZiBOT1RFIGJsb2Nrcy5cbiAgICAgICAgICAgIGlmICgvXk5PVEUoJHxbIFxcdF0pLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ05PVEUnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDE5LTI5IC0gQWxsb3cgYW55IG51bWJlciBvZiBsaW5lIHRlcm1pbmF0b3JzLCB0aGVuIGluaXRpYWxpemUgbmV3IGN1ZSB2YWx1ZXMuXG4gICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLmN1ZSA9IG5ldyBWVFRDdWUoMCwgMCwgJycpO1xuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSAnQ1VFJztcbiAgICAgICAgICAgIC8vIDMwLTM5IC0gQ2hlY2sgaWYgc2VsZiBsaW5lIGNvbnRhaW5zIGFuIG9wdGlvbmFsIGlkZW50aWZpZXIgb3IgdGltaW5nIGRhdGEuXG4gICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCctLT4nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgX3RoaXMuY3VlLmlkID0gbGluZTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgLy8gUHJvY2VzcyBsaW5lIGFzIHN0YXJ0IG9mIGEgY3VlLlxuICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICBjYXNlICdDVUUnOlxuICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgIGlmICghX3RoaXMuY3VlKSB7XG4gICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ0JBRENVRSc7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcGFyc2VDdWUobGluZSwgX3RoaXMuY3VlLCBfdGhpcy5yZWdpb25MaXN0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciBpZ25vcmUgcmVzdCBvZiB0aGUgY3VlLlxuICAgICAgICAgICAgICBfdGhpcy5jdWUgPSBudWxsO1xuICAgICAgICAgICAgICBfdGhpcy5zdGF0ZSA9ICdCQURDVUUnO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ0NVRVRFWFQnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnQ1VFVEVYVCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc1N1YnN0cmluZyA9IGxpbmUuaW5kZXhPZignLS0+JykgIT09IC0xO1xuICAgICAgICAgICAgICAvLyAzNCAtIElmIHdlIGhhdmUgYW4gZW1wdHkgbGluZSB0aGVuIHJlcG9ydCB0aGUgY3VlLlxuICAgICAgICAgICAgICAvLyAzNSAtIElmIHdlIGhhdmUgdGhlIHNwZWNpYWwgc3Vic3RyaW5nICctLT4nIHRoZW4gcmVwb3J0IHRoZSBjdWUsXG4gICAgICAgICAgICAgIC8vIGJ1dCBkbyBub3QgY29sbGVjdCB0aGUgbGluZSBhcyB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgLy8gb25lIGFzIGEgbmV3IGN1ZS5cbiAgICAgICAgICAgICAgaWYgKCFsaW5lIHx8IChoYXNTdWJzdHJpbmcgJiYgKGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gdHJ1ZSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGRvbmUgcGFyc2luZyBzZWxmIGN1ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25jdWUgJiYgX3RoaXMuY3VlKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5vbmN1ZShfdGhpcy5jdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5jdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5jdWUudGV4dCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmN1ZS50ZXh0ICs9ICdcXG4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90aGlzLmN1ZS50ZXh0ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlICdCQURDVUUnOlxuICAgICAgICAgICAgLy8gNTQtNjIgLSBDb2xsZWN0IGFuZCBkaXNjYXJkIHRoZSByZW1haW5pbmcgY3VlLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgcGFyc2luZyBhIGN1ZSwgcmVwb3J0IHdoYXQgd2UgaGF2ZS5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZSA9PT0gJ0NVRVRFWFQnICYmIF90aGlzLmN1ZSAmJiBfdGhpcy5vbmN1ZSkge1xuICAgICAgICBfdGhpcy5vbmN1ZShfdGhpcy5jdWUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jdWUgPSBudWxsO1xuICAgICAgLy8gRW50ZXIgQkFEV0VCVlRUIHN0YXRlIGlmIGhlYWRlciB3YXMgbm90IHBhcnNlZCBjb3JyZWN0bHkgb3RoZXJ3aXNlXG4gICAgICAvLyBhbm90aGVyIGV4Y2VwdGlvbiBvY2N1cnJlZCBzbyBlbnRlciBCQURDVUUgc3RhdGUuXG4gICAgICBfdGhpcy5zdGF0ZSA9IF90aGlzLnN0YXRlID09PSAnSU5JVElBTCcgPyAnQkFEV0VCVlRUJyA6ICdCQURDVUUnO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZsdXNoKCk6IFZUVFBhcnNlciB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICAvLyBGaW5pc2ggZGVjb2RpbmcgdGhlIHN0cmVhbS5cbiAgICAgIC8vIF90aGlzLmJ1ZmZlciArPSBfdGhpcy5kZWNvZGVyLmRlY29kZSgpO1xuICAgICAgLy8gU3ludGhlc2l6ZSB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGN1ZSBvciByZWdpb24uXG4gICAgICBpZiAoX3RoaXMuY3VlIHx8IF90aGlzLnN0YXRlID09PSAnSEVBREVSJykge1xuICAgICAgICBfdGhpcy5idWZmZXIgKz0gJ1xcblxcbic7XG4gICAgICAgIF90aGlzLnBhcnNlKCk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSd2ZSBmbHVzaGVkLCBwYXJzZWQsIGFuZCB3ZSdyZSBzdGlsbCBvbiB0aGUgSU5JVElBTCBzdGF0ZSB0aGVuXG4gICAgICAvLyB0aGF0IG1lYW5zIHdlIGRvbid0IGhhdmUgZW5vdWdoIG9mIHRoZSBzdHJlYW0gdG8gcGFyc2UgdGhlIGZpcnN0XG4gICAgICAvLyBsaW5lLlxuICAgICAgaWYgKF90aGlzLnN0YXRlID09PSAnSU5JVElBTCcgfHwgX3RoaXMuc3RhdGUgPT09ICdCQURXRUJWVFQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFdlYlZUVCBzaWduYXR1cmUuJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKF90aGlzLm9ucGFyc2luZ2Vycm9yKSB7XG4gICAgICAgIF90aGlzLm9ucGFyc2luZ2Vycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoX3RoaXMub25mbHVzaCkge1xuICAgICAgX3RoaXMub25mbHVzaCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVlRUUGFyc2VyIH0gZnJvbSAnLi92dHRwYXJzZXInO1xuaW1wb3J0IHsgdXRmOEFycmF5VG9TdHIgfSBmcm9tICcuLi9kZW11eC9pZDMnO1xuaW1wb3J0IHtcbiAgUmF0aW9uYWxUaW1lc3RhbXAsXG4gIHRvTXBlZ1RzQ2xvY2tGcm9tVGltZXNjYWxlLFxufSBmcm9tICcuL3RpbWVzY2FsZS1jb252ZXJzaW9uJztcbmltcG9ydCB7IG5vcm1hbGl6ZVB0cyB9IGZyb20gJy4uL3JlbXV4L21wNC1yZW11eGVyJztcbmltcG9ydCB0eXBlIHsgVlRUQ0NzIH0gZnJvbSAnLi4vdHlwZXMvdnR0JztcblxuY29uc3QgTElORUJSRUFLUyA9IC9cXHJcXG58XFxuXFxyfFxcbnxcXHIvZztcblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUxMVxuY29uc3Qgc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChcbiAgaW5wdXRTdHJpbmc6IHN0cmluZyxcbiAgc2VhcmNoU3RyaW5nOiBzdHJpbmcsXG4gIHBvc2l0aW9uOiBudW1iZXIgPSAwLFxuKSB7XG4gIHJldHVybiAoXG4gICAgaW5wdXRTdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgc2VhcmNoU3RyaW5nLmxlbmd0aCkgPT09IHNlYXJjaFN0cmluZ1xuICApO1xufTtcblxuY29uc3QgY3VlU3RyaW5nMm1pbGxpcyA9IGZ1bmN0aW9uICh0aW1lU3RyaW5nOiBzdHJpbmcpIHtcbiAgbGV0IHRzID0gcGFyc2VJbnQodGltZVN0cmluZy5zbGljZSgtMykpO1xuICBjb25zdCBzZWNzID0gcGFyc2VJbnQodGltZVN0cmluZy5zbGljZSgtNiwgLTQpKTtcbiAgY29uc3QgbWlucyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc2xpY2UoLTksIC03KSk7XG4gIGNvbnN0IGhvdXJzID1cbiAgICB0aW1lU3RyaW5nLmxlbmd0aCA+IDlcbiAgICAgID8gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHJpbmcoMCwgdGltZVN0cmluZy5pbmRleE9mKCc6JykpKVxuICAgICAgOiAwO1xuXG4gIGlmIChcbiAgICAhTnVtYmVyLmlzRmluaXRlKHRzKSB8fFxuICAgICFOdW1iZXIuaXNGaW5pdGUoc2VjcykgfHxcbiAgICAhTnVtYmVyLmlzRmluaXRlKG1pbnMpIHx8XG4gICAgIU51bWJlci5pc0Zpbml0ZShob3VycylcbiAgKSB7XG4gICAgdGhyb3cgRXJyb3IoYE1hbGZvcm1lZCBYLVRJTUVTVEFNUC1NQVA6IExvY2FsOiR7dGltZVN0cmluZ31gKTtcbiAgfVxuXG4gIHRzICs9IDEwMDAgKiBzZWNzO1xuICB0cyArPSA2MCAqIDEwMDAgKiBtaW5zO1xuICB0cyArPSA2MCAqIDYwICogMTAwMCAqIGhvdXJzO1xuXG4gIHJldHVybiB0cztcbn07XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2hcbmNvbnN0IGhhc2ggPSBmdW5jdGlvbiAodGV4dDogc3RyaW5nKSB7XG4gIGxldCBoYXNoID0gNTM4MTtcbiAgbGV0IGkgPSB0ZXh0Lmxlbmd0aDtcbiAgd2hpbGUgKGkpIHtcbiAgICBoYXNoID0gKGhhc2ggKiAzMykgXiB0ZXh0LmNoYXJDb2RlQXQoLS1pKTtcbiAgfVxuXG4gIHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoKTtcbn07XG5cbi8vIENyZWF0ZSBhIHVuaXF1ZSBoYXNoIGlkIGZvciBhIGN1ZSBiYXNlZCBvbiBzdGFydC9lbmQgdGltZXMgYW5kIHRleHQuXG4vLyBUaGlzIGhlbHBzIHRpbWVsaW5lLWNvbnRyb2xsZXIgdG8gYXZvaWQgc2hvd2luZyByZXBlYXRlZCBjYXB0aW9ucy5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUN1ZUlkKFxuICBzdGFydFRpbWU6IG51bWJlcixcbiAgZW5kVGltZTogbnVtYmVyLFxuICB0ZXh0OiBzdHJpbmcsXG4pIHtcbiAgcmV0dXJuIGhhc2goc3RhcnRUaW1lLnRvU3RyaW5nKCkpICsgaGFzaChlbmRUaW1lLnRvU3RyaW5nKCkpICsgaGFzaCh0ZXh0KTtcbn1cblxuY29uc3QgY2FsY3VsYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKHZ0dENDczogVlRUQ0NzLCBjYywgcHJlc2VudGF0aW9uVGltZSkge1xuICBsZXQgY3VyckNDID0gdnR0Q0NzW2NjXTtcbiAgbGV0IHByZXZDQyA9IHZ0dENDc1tjdXJyQ0MucHJldkNDXTtcblxuICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBkaXNjb250aW51aXR5IG9yIGN1ZXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCBzaW5jZSB0aGUgbGFzdCBkaXNjb250aW51aXR5XG4gIC8vIE9mZnNldCA9IGN1cnJlbnQgZGlzY29udGludWl0eSB0aW1lXG4gIGlmICghcHJldkNDIHx8ICghcHJldkNDLm5ldyAmJiBjdXJyQ0MubmV3KSkge1xuICAgIHZ0dENDcy5jY09mZnNldCA9IHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBjdXJyQ0Muc3RhcnQ7XG4gICAgY3VyckNDLm5ldyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRoZXJlIGhhdmUgYmVlbiBkaXNjb250aW51aXRpZXMgc2luY2UgY3VlcyB3ZXJlIGxhc3QgcGFyc2VkLlxuICAvLyBPZmZzZXQgPSB0aW1lIGVsYXBzZWRcbiAgd2hpbGUgKHByZXZDQz8ubmV3KSB7XG4gICAgdnR0Q0NzLmNjT2Zmc2V0ICs9IGN1cnJDQy5zdGFydCAtIHByZXZDQy5zdGFydDtcbiAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgY3VyckNDID0gcHJldkNDO1xuICAgIHByZXZDQyA9IHZ0dENDc1tjdXJyQ0MucHJldkNDXTtcbiAgfVxuXG4gIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlV2ViVlRUKFxuICB2dHRCeXRlQXJyYXk6IEFycmF5QnVmZmVyLFxuICBpbml0UFRTOiBSYXRpb25hbFRpbWVzdGFtcCB8IHVuZGVmaW5lZCxcbiAgdnR0Q0NzOiBWVFRDQ3MsXG4gIGNjOiBudW1iZXIsXG4gIHRpbWVPZmZzZXQ6IG51bWJlcixcbiAgY2FsbEJhY2s6IChjdWVzOiBWVFRDdWVbXSkgPT4gdm9pZCxcbiAgZXJyb3JDYWxsQmFjazogKGVycm9yOiBFcnJvcikgPT4gdm9pZCxcbikge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgVlRUUGFyc2VyKCk7XG4gIC8vIENvbnZlcnQgYnl0ZUFycmF5IGludG8gc3RyaW5nLCByZXBsYWNpbmcgYW55IHNvbWV3aGF0IGV4b3RpYyBsaW5lZmVlZHMgd2l0aCBcIlxcblwiLCB0aGVuIHNwbGl0IG9uIHRoYXQgY2hhcmFjdGVyLlxuICAvLyBVaW50OEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgaXMgbm90IGltcGxlbWVudGVkIGluIElFMTFcbiAgY29uc3QgdnR0TGluZXMgPSB1dGY4QXJyYXlUb1N0cihuZXcgVWludDhBcnJheSh2dHRCeXRlQXJyYXkpKVxuICAgIC50cmltKClcbiAgICAucmVwbGFjZShMSU5FQlJFQUtTLCAnXFxuJylcbiAgICAuc3BsaXQoJ1xcbicpO1xuICBjb25zdCBjdWVzOiBWVFRDdWVbXSA9IFtdO1xuICBjb25zdCBpbml0OTBrSHogPSBpbml0UFRTXG4gICAgPyB0b01wZWdUc0Nsb2NrRnJvbVRpbWVzY2FsZShpbml0UFRTLmJhc2VUaW1lLCBpbml0UFRTLnRpbWVzY2FsZSlcbiAgICA6IDA7XG4gIGxldCBjdWVUaW1lID0gJzAwOjAwLjAwMCc7XG4gIGxldCB0aW1lc3RhbXBNYXBNUEVHVFMgPSAwO1xuICBsZXQgdGltZXN0YW1wTWFwTE9DQUwgPSAwO1xuICBsZXQgcGFyc2luZ0Vycm9yOiBFcnJvcjtcbiAgbGV0IGluSGVhZGVyID0gdHJ1ZTtcblxuICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlOiBWVFRDdWUpIHtcbiAgICAvLyBBZGp1c3QgY3VlIHRpbWluZzsgY2xhbXAgY3VlcyB0byBzdGFydCBubyBlYXJsaWVyIHRoYW4gLSBhbmQgZHJvcCBjdWVzIHRoYXQgZG9uJ3QgZW5kIGFmdGVyIC0gMCBvbiB0aW1lbGluZS5cbiAgICBjb25zdCBjdXJyQ0MgPSB2dHRDQ3NbY2NdO1xuICAgIGxldCBjdWVPZmZzZXQgPSB2dHRDQ3MuY2NPZmZzZXQ7XG5cbiAgICAvLyBDYWxjdWxhdGUgc3VidGl0bGUgUFRTIG9mZnNldFxuICAgIGNvbnN0IHdlYlZ0dE1wZWdUc01hcE9mZnNldCA9ICh0aW1lc3RhbXBNYXBNUEVHVFMgLSBpbml0OTBrSHopIC8gOTAwMDA7XG5cbiAgICAvLyBVcGRhdGUgb2Zmc2V0cyBmb3IgbmV3IGRpc2NvbnRpbnVpdGllc1xuICAgIGlmIChjdXJyQ0M/Lm5ldykge1xuICAgICAgaWYgKHRpbWVzdGFtcE1hcExPQ0FMICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gV2hlbiBsb2NhbCB0aW1lIGlzIHByb3ZpZGVkLCBvZmZzZXQgPSBkaXNjb250aW51aXR5IHN0YXJ0IHRpbWUgLSBsb2NhbCB0aW1lXG4gICAgICAgIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldCA9IGN1cnJDQy5zdGFydDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGN1bGF0ZU9mZnNldCh2dHRDQ3MsIGNjLCB3ZWJWdHRNcGVnVHNNYXBPZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAod2ViVnR0TXBlZ1RzTWFwT2Zmc2V0KSB7XG4gICAgICBpZiAoIWluaXRQVFMpIHtcbiAgICAgICAgcGFyc2luZ0Vycm9yID0gbmV3IEVycm9yKCdNaXNzaW5nIGluaXRQVFMgZm9yIFZUVCBNUEVHVFMnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgaGF2ZSBNUEVHVFMsIG9mZnNldCA9IHByZXNlbnRhdGlvbiB0aW1lICsgZGlzY29udGludWl0eSBvZmZzZXRcbiAgICAgIGN1ZU9mZnNldCA9IHdlYlZ0dE1wZWdUc01hcE9mZnNldCAtIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQ7XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb24gPSBjdWUuZW5kVGltZSAtIGN1ZS5zdGFydFRpbWU7XG4gICAgY29uc3Qgc3RhcnRUaW1lID1cbiAgICAgIG5vcm1hbGl6ZVB0cyhcbiAgICAgICAgKGN1ZS5zdGFydFRpbWUgKyBjdWVPZmZzZXQgLSB0aW1lc3RhbXBNYXBMT0NBTCkgKiA5MDAwMCxcbiAgICAgICAgdGltZU9mZnNldCAqIDkwMDAwLFxuICAgICAgKSAvIDkwMDAwO1xuICAgIGN1ZS5zdGFydFRpbWUgPSBNYXRoLm1heChzdGFydFRpbWUsIDApO1xuICAgIGN1ZS5lbmRUaW1lID0gTWF0aC5tYXgoc3RhcnRUaW1lICsgZHVyYXRpb24sIDApO1xuXG4gICAgLy90cmltIHRyYWlsaW5nIHdlYnZ0dCBibG9jayB3aGl0ZXNwYWNlc1xuICAgIGNvbnN0IHRleHQgPSBjdWUudGV4dC50cmltKCk7XG5cbiAgICAvLyBGaXggZW5jb2Rpbmcgb2Ygc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgY3VlLnRleHQgPSBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKTtcblxuICAgIC8vIElmIHRoZSBjdWUgd2FzIG5vdCBhc3NpZ25lZCBhbiBpZCBmcm9tIHRoZSBWVFQgZmlsZSAobGluZSBhYm92ZSB0aGUgY29udGVudCksIGNyZWF0ZSBvbmUuXG4gICAgaWYgKCFjdWUuaWQpIHtcbiAgICAgIGN1ZS5pZCA9IGdlbmVyYXRlQ3VlSWQoY3VlLnN0YXJ0VGltZSwgY3VlLmVuZFRpbWUsIHRleHQpO1xuICAgIH1cblxuICAgIGlmIChjdWUuZW5kVGltZSA+IDApIHtcbiAgICAgIGN1ZXMucHVzaChjdWUpO1xuICAgIH1cbiAgfTtcblxuICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3I6IEVycm9yKSB7XG4gICAgcGFyc2luZ0Vycm9yID0gZXJyb3I7XG4gIH07XG5cbiAgcGFyc2VyLm9uZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHBhcnNpbmdFcnJvcikge1xuICAgICAgZXJyb3JDYWxsQmFjayhwYXJzaW5nRXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsQmFjayhjdWVzKTtcbiAgfTtcblxuICAvLyBHbyB0aHJvdWdoIGNvbnRlbnRzIGxpbmUgYnkgbGluZS5cbiAgdnR0TGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgIGlmIChpbkhlYWRlcikge1xuICAgICAgLy8gTG9vayBmb3IgWC1USU1FU1RBTVAtTUFQIGluIGhlYWRlci5cbiAgICAgIGlmIChzdGFydHNXaXRoKGxpbmUsICdYLVRJTUVTVEFNUC1NQVA9JykpIHtcbiAgICAgICAgLy8gT25jZSBmb3VuZCwgbm8gbW9yZSBhcmUgYWxsb3dlZCBhbnl3YXksIHNvIHN0b3Agc2VhcmNoaW5nLlxuICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICAvLyBFeHRyYWN0IExPQ0FMIGFuZCBNUEVHVFMuXG4gICAgICAgIGxpbmVcbiAgICAgICAgICAuc2xpY2UoMTYpXG4gICAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgICAuZm9yRWFjaCgodGltZXN0YW1wKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhcnRzV2l0aCh0aW1lc3RhbXAsICdMT0NBTDonKSkge1xuICAgICAgICAgICAgICBjdWVUaW1lID0gdGltZXN0YW1wLnNsaWNlKDYpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydHNXaXRoKHRpbWVzdGFtcCwgJ01QRUdUUzonKSkge1xuICAgICAgICAgICAgICB0aW1lc3RhbXBNYXBNUEVHVFMgPSBwYXJzZUludCh0aW1lc3RhbXAuc2xpY2UoNykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIENvbnZlcnQgY3VlIHRpbWUgdG8gc2Vjb25kc1xuICAgICAgICAgIHRpbWVzdGFtcE1hcExPQ0FMID0gY3VlU3RyaW5nMm1pbGxpcyhjdWVUaW1lKSAvIDEwMDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcGFyc2luZ0Vycm9yID0gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHdpdGhvdXQgcGFyc2luZyBYLVRJTUVTVEFNUC1NQVAgbGluZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChsaW5lID09PSAnJykge1xuICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBQYXJzZSBsaW5lIGJ5IGRlZmF1bHQuXG4gICAgcGFyc2VyLnBhcnNlKGxpbmUgKyAnXFxuJyk7XG4gIH0pO1xuXG4gIHBhcnNlci5mbHVzaCgpO1xufVxuIiwgImltcG9ydCB7IGZpbmRCb3ggfSBmcm9tICcuL21wNC10b29scyc7XG5pbXBvcnQgeyBwYXJzZVRpbWVTdGFtcCB9IGZyb20gJy4vdnR0cGFyc2VyJztcbmltcG9ydCBWVFRDdWUgZnJvbSAnLi92dHRjdWUnO1xuaW1wb3J0IHsgdXRmOEFycmF5VG9TdHIgfSBmcm9tICcuLi9kZW11eC9pZDMnO1xuaW1wb3J0IHtcbiAgUmF0aW9uYWxUaW1lc3RhbXAsXG4gIHRvVGltZXNjYWxlRnJvbVNjYWxlLFxufSBmcm9tICcuL3RpbWVzY2FsZS1jb252ZXJzaW9uJztcbmltcG9ydCB7IGdlbmVyYXRlQ3VlSWQgfSBmcm9tICcuL3dlYnZ0dC1wYXJzZXInO1xuXG5leHBvcnQgY29uc3QgSU1TQzFfQ09ERUMgPSAnc3RwcC50dG1sLmltMXQnO1xuXG4vLyBUaW1lIGZvcm1hdDogaDptOnM6ZnJhbWVzKC5zdWJmcmFtZXMpXG5jb25zdCBITVNGX1JFR0VYID0gL14oXFxkezIsfSk6KFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSlcXC4/KFxcZCspPyQvO1xuXG4vLyBUaW1lIGZvcm1hdDogaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcywgZnJhbWVzLCB0aWNrc1xuY29uc3QgVElNRV9VTklUX1JFR0VYID0gL14oXFxkKig/OlxcLlxcZCopPykoaHxtfHN8bXN8Znx0KSQvO1xuXG5jb25zdCB0ZXh0QWxpZ25Ub0xpbmVBbGlnbjogUGFydGlhbDxSZWNvcmQ8c3RyaW5nLCBMaW5lQWxpZ25TZXR0aW5nPj4gPSB7XG4gIGxlZnQ6ICdzdGFydCcsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIHJpZ2h0OiAnZW5kJyxcbiAgc3RhcnQ6ICdzdGFydCcsXG4gIGVuZDogJ2VuZCcsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJTVNDMShcbiAgcGF5bG9hZDogQXJyYXlCdWZmZXIsXG4gIGluaXRQVFM6IFJhdGlvbmFsVGltZXN0YW1wLFxuICBjYWxsQmFjazogKGN1ZXM6IEFycmF5PFZUVEN1ZT4pID0+IGFueSxcbiAgZXJyb3JDYWxsQmFjazogKGVycm9yOiBFcnJvcikgPT4gYW55LFxuKSB7XG4gIGNvbnN0IHJlc3VsdHMgPSBmaW5kQm94KG5ldyBVaW50OEFycmF5KHBheWxvYWQpLCBbJ21kYXQnXSk7XG4gIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGVycm9yQ2FsbEJhY2sobmV3IEVycm9yKCdDb3VsZCBub3QgcGFyc2UgSU1TQzEgbWRhdCcpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0dG1sTGlzdCA9IHJlc3VsdHMubWFwKChtZGF0KSA9PiB1dGY4QXJyYXlUb1N0cihtZGF0KSk7XG5cbiAgY29uc3Qgc3luY1RpbWUgPSB0b1RpbWVzY2FsZUZyb21TY2FsZShpbml0UFRTLmJhc2VUaW1lLCAxLCBpbml0UFRTLnRpbWVzY2FsZSk7XG5cbiAgdHJ5IHtcbiAgICB0dG1sTGlzdC5mb3JFYWNoKCh0dG1sKSA9PiBjYWxsQmFjayhwYXJzZVRUTUwodHRtbCwgc3luY1RpbWUpKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZXJyb3JDYWxsQmFjayhlcnJvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VUVE1MKHR0bWw6IHN0cmluZywgc3luY1RpbWU6IG51bWJlcik6IEFycmF5PFZUVEN1ZT4ge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcodHRtbCwgJ3RleHQveG1sJyk7XG4gIGNvbnN0IHR0ID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0dCcpWzBdO1xuICBpZiAoIXR0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR0bWwnKTtcbiAgfVxuICBjb25zdCBkZWZhdWx0UmF0ZUluZm8gPSB7XG4gICAgZnJhbWVSYXRlOiAzMCxcbiAgICBzdWJGcmFtZVJhdGU6IDEsXG4gICAgZnJhbWVSYXRlTXVsdGlwbGllcjogMCxcbiAgICB0aWNrUmF0ZTogMCxcbiAgfTtcbiAgY29uc3QgcmF0ZUluZm86IE9iamVjdCA9IE9iamVjdC5rZXlzKGRlZmF1bHRSYXRlSW5mbykucmVkdWNlKFxuICAgIChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgcmVzdWx0W2tleV0gPSB0dC5nZXRBdHRyaWJ1dGUoYHR0cDoke2tleX1gKSB8fCBkZWZhdWx0UmF0ZUluZm9ba2V5XTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICB7fSxcbiAgKTtcblxuICBjb25zdCB0cmltID0gdHQuZ2V0QXR0cmlidXRlKCd4bWw6c3BhY2UnKSAhPT0gJ3ByZXNlcnZlJztcblxuICBjb25zdCBzdHlsZUVsZW1lbnRzID0gY29sbGVjdGlvblRvRGljdGlvbmFyeShcbiAgICBnZXRFbGVtZW50Q29sbGVjdGlvbih0dCwgJ3N0eWxpbmcnLCAnc3R5bGUnKSxcbiAgKTtcbiAgY29uc3QgcmVnaW9uRWxlbWVudHMgPSBjb2xsZWN0aW9uVG9EaWN0aW9uYXJ5KFxuICAgIGdldEVsZW1lbnRDb2xsZWN0aW9uKHR0LCAnbGF5b3V0JywgJ3JlZ2lvbicpLFxuICApO1xuICBjb25zdCBjdWVFbGVtZW50cyA9IGdldEVsZW1lbnRDb2xsZWN0aW9uKHR0LCAnYm9keScsICdbYmVnaW5dJyk7XG5cbiAgcmV0dXJuIFtdLm1hcFxuICAgIC5jYWxsKGN1ZUVsZW1lbnRzLCAoY3VlRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgY3VlVGV4dCA9IGdldFRleHRDb250ZW50KGN1ZUVsZW1lbnQsIHRyaW0pO1xuXG4gICAgICBpZiAoIWN1ZVRleHQgfHwgIWN1ZUVsZW1lbnQuaGFzQXR0cmlidXRlKCdiZWdpbicpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUdG1sVGltZShcbiAgICAgICAgY3VlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2JlZ2luJyksXG4gICAgICAgIHJhdGVJbmZvLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyc2VUdG1sVGltZShjdWVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZHVyJyksIHJhdGVJbmZvKTtcbiAgICAgIGxldCBlbmRUaW1lID0gcGFyc2VUdG1sVGltZShjdWVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZW5kJyksIHJhdGVJbmZvKTtcbiAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgdGltZXN0YW1wUGFyc2luZ0Vycm9yKGN1ZUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgdGltZXN0YW1wUGFyc2luZ0Vycm9yKGN1ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyBkdXJhdGlvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1ZSA9IG5ldyBWVFRDdWUoc3RhcnRUaW1lIC0gc3luY1RpbWUsIGVuZFRpbWUgLSBzeW5jVGltZSwgY3VlVGV4dCk7XG4gICAgICBjdWUuaWQgPSBnZW5lcmF0ZUN1ZUlkKGN1ZS5zdGFydFRpbWUsIGN1ZS5lbmRUaW1lLCBjdWUudGV4dCk7XG5cbiAgICAgIGNvbnN0IHJlZ2lvbiA9IHJlZ2lvbkVsZW1lbnRzW2N1ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyZWdpb24nKV07XG4gICAgICBjb25zdCBzdHlsZSA9IHN0eWxlRWxlbWVudHNbY3VlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyldO1xuXG4gICAgICAvLyBBcHBseSBzdHlsZXMgdG8gY3VlXG4gICAgICBjb25zdCBzdHlsZXMgPSBnZXRUdG1sU3R5bGVzKHJlZ2lvbiwgc3R5bGUsIHN0eWxlRWxlbWVudHMpO1xuICAgICAgY29uc3QgeyB0ZXh0QWxpZ24gfSA9IHN0eWxlcztcbiAgICAgIGlmICh0ZXh0QWxpZ24pIHtcbiAgICAgICAgLy8gY3VlLnBvc2l0aW9uQWxpZ24gbm90IHNldHRhYmxlIGluIEZGfjIwMTZcbiAgICAgICAgY29uc3QgbGluZUFsaWduID0gdGV4dEFsaWduVG9MaW5lQWxpZ25bdGV4dEFsaWduXTtcbiAgICAgICAgaWYgKGxpbmVBbGlnbikge1xuICAgICAgICAgIGN1ZS5saW5lQWxpZ24gPSBsaW5lQWxpZ247XG4gICAgICAgIH1cbiAgICAgICAgY3VlLmFsaWduID0gdGV4dEFsaWduIGFzIEFsaWduU2V0dGluZztcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24oY3VlLCBzdHlsZXMpO1xuXG4gICAgICByZXR1cm4gY3VlO1xuICAgIH0pXG4gICAgLmZpbHRlcigoY3VlKSA9PiBjdWUgIT09IG51bGwpO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50Q29sbGVjdGlvbihcbiAgZnJvbUVsZW1lbnQsXG4gIHBhcmVudE5hbWUsXG4gIGNoaWxkTmFtZSxcbik6IEFycmF5PEhUTUxFbGVtZW50PiB7XG4gIGNvbnN0IHBhcmVudCA9IGZyb21FbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHBhcmVudE5hbWUpWzBdO1xuICBpZiAocGFyZW50KSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2hpbGROYW1lKSk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uVG9EaWN0aW9uYXJ5KGVsZW1lbnRzV2l0aElkOiBBcnJheTxIVE1MRWxlbWVudD4pOiB7XG4gIFtpZDogc3RyaW5nXTogSFRNTEVsZW1lbnQ7XG59IHtcbiAgcmV0dXJuIGVsZW1lbnRzV2l0aElkLnJlZHVjZSgoZGljdCwgZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGRpY3RbaWRdID0gZWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIGRpY3Q7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQoZWxlbWVudCwgdHJpbSk6IHN0cmluZyB7XG4gIHJldHVybiBbXS5zbGljZS5jYWxsKGVsZW1lbnQuY2hpbGROb2RlcykucmVkdWNlKChzdHIsIG5vZGUsIGkpID0+IHtcbiAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ2JyJyAmJiBpKSB7XG4gICAgICByZXR1cm4gc3RyICsgJ1xcbic7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkTm9kZXM/Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGdldFRleHRDb250ZW50KG5vZGUsIHRyaW0pO1xuICAgIH0gZWxzZSBpZiAodHJpbSkge1xuICAgICAgcmV0dXJuIHN0ciArIG5vZGUudGV4dENvbnRlbnQudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ciArIG5vZGUudGV4dENvbnRlbnQ7XG4gIH0sICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0VHRtbFN0eWxlcyhcbiAgcmVnaW9uLFxuICBzdHlsZSxcbiAgc3R5bGVFbGVtZW50cyxcbik6IHsgW3N0eWxlOiBzdHJpbmddOiBzdHJpbmcgfSB7XG4gIGNvbnN0IHR0c05zID0gJ2h0dHA6Ly93d3cudzMub3JnL25zL3R0bWwjc3R5bGluZyc7XG4gIGxldCByZWdpb25TdHlsZSA9IG51bGw7XG4gIGNvbnN0IHN0eWxlQXR0cmlidXRlcyA9IFtcbiAgICAnZGlzcGxheUFsaWduJyxcbiAgICAndGV4dEFsaWduJyxcbiAgICAnY29sb3InLFxuICAgICdiYWNrZ3JvdW5kQ29sb3InLFxuICAgICdmb250U2l6ZScsXG4gICAgJ2ZvbnRGYW1pbHknLFxuICAgIC8vICdmb250V2VpZ2h0JyxcbiAgICAvLyAnbGluZUhlaWdodCcsXG4gICAgLy8gJ3dyYXBPcHRpb24nLFxuICAgIC8vICdmb250U3R5bGUnLFxuICAgIC8vICdkaXJlY3Rpb24nLFxuICAgIC8vICd3cml0aW5nTW9kZSdcbiAgXTtcblxuICBjb25zdCByZWdpb25TdHlsZU5hbWUgPSByZWdpb24/Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKVxuICAgID8gcmVnaW9uLmdldEF0dHJpYnV0ZSgnc3R5bGUnKVxuICAgIDogbnVsbDtcblxuICBpZiAocmVnaW9uU3R5bGVOYW1lICYmIHN0eWxlRWxlbWVudHMuaGFzT3duUHJvcGVydHkocmVnaW9uU3R5bGVOYW1lKSkge1xuICAgIHJlZ2lvblN0eWxlID0gc3R5bGVFbGVtZW50c1tyZWdpb25TdHlsZU5hbWVdO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlQXR0cmlidXRlcy5yZWR1Y2UoKHN0eWxlcywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID1cbiAgICAgIGdldEF0dHJpYnV0ZU5TKHN0eWxlLCB0dHNOcywgbmFtZSkgfHxcbiAgICAgIGdldEF0dHJpYnV0ZU5TKHJlZ2lvbiwgdHRzTnMsIG5hbWUpIHx8XG4gICAgICBnZXRBdHRyaWJ1dGVOUyhyZWdpb25TdHlsZSwgdHRzTnMsIG5hbWUpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgc3R5bGVzW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlTlMoZWxlbWVudCwgbnMsIG5hbWUpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlTlMobnMsIG5hbWUpXG4gICAgPyBlbGVtZW50LmdldEF0dHJpYnV0ZU5TKG5zLCBuYW1lKVxuICAgIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gdGltZXN0YW1wUGFyc2luZ0Vycm9yKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHR0bWwgdGltZXN0YW1wICR7bm9kZX1gKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUdG1sVGltZSh0aW1lQXR0cmlidXRlVmFsdWUsIHJhdGVJbmZvKTogbnVtYmVyIHwgbnVsbCB7XG4gIGlmICghdGltZUF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHNlY29uZHM6IG51bWJlciB8IG51bGwgPSBwYXJzZVRpbWVTdGFtcCh0aW1lQXR0cmlidXRlVmFsdWUpO1xuICBpZiAoc2Vjb25kcyA9PT0gbnVsbCkge1xuICAgIGlmIChITVNGX1JFR0VYLnRlc3QodGltZUF0dHJpYnV0ZVZhbHVlKSkge1xuICAgICAgc2Vjb25kcyA9IHBhcnNlSG91cnNNaW51dGVzU2Vjb25kc0ZyYW1lcyh0aW1lQXR0cmlidXRlVmFsdWUsIHJhdGVJbmZvKTtcbiAgICB9IGVsc2UgaWYgKFRJTUVfVU5JVF9SRUdFWC50ZXN0KHRpbWVBdHRyaWJ1dGVWYWx1ZSkpIHtcbiAgICAgIHNlY29uZHMgPSBwYXJzZVRpbWVVbml0cyh0aW1lQXR0cmlidXRlVmFsdWUsIHJhdGVJbmZvKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlY29uZHM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSG91cnNNaW51dGVzU2Vjb25kc0ZyYW1lcyh0aW1lQXR0cmlidXRlVmFsdWUsIHJhdGVJbmZvKTogbnVtYmVyIHtcbiAgY29uc3QgbSA9IEhNU0ZfUkVHRVguZXhlYyh0aW1lQXR0cmlidXRlVmFsdWUpIGFzIEFycmF5PGFueT47XG4gIGNvbnN0IGZyYW1lcyA9IChtWzRdIHwgMCkgKyAobVs1XSB8IDApIC8gcmF0ZUluZm8uc3ViRnJhbWVSYXRlO1xuICByZXR1cm4gKFxuICAgIChtWzFdIHwgMCkgKiAzNjAwICtcbiAgICAobVsyXSB8IDApICogNjAgK1xuICAgIChtWzNdIHwgMCkgK1xuICAgIGZyYW1lcyAvIHJhdGVJbmZvLmZyYW1lUmF0ZVxuICApO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRpbWVVbml0cyh0aW1lQXR0cmlidXRlVmFsdWUsIHJhdGVJbmZvKTogbnVtYmVyIHtcbiAgY29uc3QgbSA9IFRJTUVfVU5JVF9SRUdFWC5leGVjKHRpbWVBdHRyaWJ1dGVWYWx1ZSkgYXMgQXJyYXk8YW55PjtcbiAgY29uc3QgdmFsdWUgPSBOdW1iZXIobVsxXSk7XG4gIGNvbnN0IHVuaXQgPSBtWzJdO1xuICBzd2l0Y2ggKHVuaXQpIHtcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiB2YWx1ZSAqIDM2MDA7XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gdmFsdWUgKiA2MDtcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gdmFsdWUgKiAxMDAwO1xuICAgIGNhc2UgJ2YnOlxuICAgICAgcmV0dXJuIHZhbHVlIC8gcmF0ZUluZm8uZnJhbWVSYXRlO1xuICAgIGNhc2UgJ3QnOlxuICAgICAgcmV0dXJuIHZhbHVlIC8gcmF0ZUluZm8udGlja1JhdGU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuIiwgImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgQ2VhNjA4UGFyc2VyLCB7IENhcHRpb25TY3JlZW4gfSBmcm9tICcuLi91dGlscy9jZWEtNjA4LXBhcnNlcic7XG5pbXBvcnQgT3V0cHV0RmlsdGVyIGZyb20gJy4uL3V0aWxzL291dHB1dC1maWx0ZXInO1xuaW1wb3J0IHsgcGFyc2VXZWJWVFQgfSBmcm9tICcuLi91dGlscy93ZWJ2dHQtcGFyc2VyJztcbmltcG9ydCB7XG4gIHNlbmRBZGRUcmFja0V2ZW50LFxuICBjbGVhckN1cnJlbnRDdWVzLFxuICBhZGRDdWVUb1RyYWNrLFxuICByZW1vdmVDdWVzSW5SYW5nZSxcbiAgZmlsdGVyU3VidGl0bGVUcmFja3MsXG59IGZyb20gJy4uL3V0aWxzL3RleHR0cmFjay11dGlscyc7XG5pbXBvcnQge1xuICBzdWJ0aXRsZU9wdGlvbnNJZGVudGljYWwsXG4gIHN1YnRpdGxlVHJhY2tNYXRjaGVzVGV4dFRyYWNrLFxufSBmcm9tICcuLi91dGlscy9tZWRpYS1vcHRpb24tYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBwYXJzZUlNU0MxLCBJTVNDMV9DT0RFQyB9IGZyb20gJy4uL3V0aWxzL2ltc2MxLXR0bWwtcGFyc2VyJztcbmltcG9ydCB7IGFwcGVuZFVpbnQ4QXJyYXkgfSBmcm9tICcuLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IHsgUGxheWxpc3RMZXZlbFR5cGUgfSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUge1xuICBGcmFnUGFyc2luZ1VzZXJkYXRhRGF0YSxcbiAgRnJhZ0xvYWRlZERhdGEsXG4gIEZyYWdEZWNyeXB0ZWREYXRhLFxuICBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gIE1hbmlmZXN0TG9hZGVkRGF0YSxcbiAgSW5pdFBUU0ZvdW5kRGF0YSxcbiAgU3VidGl0bGVUcmFja3NVcGRhdGVkRGF0YSxcbiAgQnVmZmVyRmx1c2hpbmdEYXRhLFxuICBGcmFnTG9hZGluZ0RhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBDdWVzSW50ZXJmYWNlIH0gZnJvbSAnLi4vdXRpbHMvY3Vlcyc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhUGxheWxpc3QgfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7IFZUVENDcyB9IGZyb20gJy4uL3R5cGVzL3Z0dCc7XG5pbXBvcnQgdHlwZSB7IFJhdGlvbmFsVGltZXN0YW1wIH0gZnJvbSAnLi4vdXRpbHMvdGltZXNjYWxlLWNvbnZlcnNpb24nO1xuXG50eXBlIFRyYWNrUHJvcGVydGllcyA9IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgbGFuZ3VhZ2VDb2RlOiBzdHJpbmc7XG4gIG1lZGlhPzogTWVkaWFQbGF5bGlzdDtcbn07XG5cbnR5cGUgTm9uTmF0aXZlQ2FwdGlvbnNUcmFjayA9IHtcbiAgX2lkPzogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBraW5kOiBzdHJpbmc7XG4gIGRlZmF1bHQ6IGJvb2xlYW47XG4gIGNsb3NlZENhcHRpb25zPzogTWVkaWFQbGF5bGlzdDtcbiAgc3VidGl0bGVUcmFjaz86IE1lZGlhUGxheWxpc3Q7XG59O1xuXG5leHBvcnQgY2xhc3MgVGltZWxpbmVDb250cm9sbGVyIGltcGxlbWVudHMgQ29tcG9uZW50QVBJIHtcbiAgcHJpdmF0ZSBobHM6IEhscztcbiAgcHJpdmF0ZSBtZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNvbmZpZzogSGxzQ29uZmlnO1xuICBwcml2YXRlIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIEN1ZXM6IEN1ZXNJbnRlcmZhY2U7XG4gIHByaXZhdGUgdGV4dFRyYWNrczogQXJyYXk8VGV4dFRyYWNrPiA9IFtdO1xuICBwcml2YXRlIHRyYWNrczogQXJyYXk8TWVkaWFQbGF5bGlzdD4gPSBbXTtcbiAgcHJpdmF0ZSBpbml0UFRTOiBSYXRpb25hbFRpbWVzdGFtcFtdID0gW107XG4gIHByaXZhdGUgdW5wYXJzZWRWdHRGcmFnczogQXJyYXk8RnJhZ0xvYWRlZERhdGEgfCBGcmFnRGVjcnlwdGVkRGF0YT4gPSBbXTtcbiAgcHJpdmF0ZSBjYXB0aW9uc1RyYWNrczogUmVjb3JkPHN0cmluZywgVGV4dFRyYWNrPiA9IHt9O1xuICBwcml2YXRlIG5vbk5hdGl2ZUNhcHRpb25zVHJhY2tzOiBSZWNvcmQ8c3RyaW5nLCBOb25OYXRpdmVDYXB0aW9uc1RyYWNrPiA9IHt9O1xuICBwcml2YXRlIGNlYTYwOFBhcnNlcjE/OiBDZWE2MDhQYXJzZXI7XG4gIHByaXZhdGUgY2VhNjA4UGFyc2VyMj86IENlYTYwOFBhcnNlcjtcbiAgcHJpdmF0ZSBsYXN0Q2M6IG51bWJlciA9IC0xOyAvLyBMYXN0IHZpZGVvIChDRUEtNjA4KSBmcmFnbWVudCBDQ1xuICBwcml2YXRlIGxhc3RTbjogbnVtYmVyID0gLTE7IC8vIExhc3QgdmlkZW8gKENFQS02MDgpIGZyYWdtZW50IE1TTlxuICBwcml2YXRlIGxhc3RQYXJ0SW5kZXg6IG51bWJlciA9IC0xOyAvLyBMYXN0IHZpZGVvIChDRUEtNjA4KSBmcmFnbWVudCBQYXJ0IEluZGV4XG4gIHByaXZhdGUgcHJldkNDOiBudW1iZXIgPSAtMTsgLy8gTGFzdCBzdWJ0aXRsZSBmcmFnbWVudCBDQ1xuICBwcml2YXRlIHZ0dENDczogVlRUQ0NzID0gbmV3VlRUQ0NzKCk7XG4gIHByaXZhdGUgY2FwdGlvbnNQcm9wZXJ0aWVzOiB7XG4gICAgdGV4dFRyYWNrMTogVHJhY2tQcm9wZXJ0aWVzO1xuICAgIHRleHRUcmFjazI6IFRyYWNrUHJvcGVydGllcztcbiAgICB0ZXh0VHJhY2szOiBUcmFja1Byb3BlcnRpZXM7XG4gICAgdGV4dFRyYWNrNDogVHJhY2tQcm9wZXJ0aWVzO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzKSB7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgIHRoaXMuQ3VlcyA9IGhscy5jb25maWcuY3VlSGFuZGxlcjtcblxuICAgIHRoaXMuY2FwdGlvbnNQcm9wZXJ0aWVzID0ge1xuICAgICAgdGV4dFRyYWNrMToge1xuICAgICAgICBsYWJlbDogdGhpcy5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFiZWwsXG4gICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlLFxuICAgICAgfSxcbiAgICAgIHRleHRUcmFjazI6IHtcbiAgICAgICAgbGFiZWw6IHRoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsLFxuICAgICAgICBsYW5ndWFnZUNvZGU6IHRoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZSxcbiAgICAgIH0sXG4gICAgICB0ZXh0VHJhY2szOiB7XG4gICAgICAgIGxhYmVsOiB0aGlzLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazNMYWJlbCxcbiAgICAgICAgbGFuZ3VhZ2VDb2RlOiB0aGlzLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazNMYW5ndWFnZUNvZGUsXG4gICAgICB9LFxuICAgICAgdGV4dFRyYWNrNDoge1xuICAgICAgICBsYWJlbDogdGhpcy5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2s0TGFiZWwsXG4gICAgICAgIGxhbmd1YWdlQ29kZTogdGhpcy5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2s0TGFuZ3VhZ2VDb2RlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaGxzLm9uKEV2ZW50cy5NRURJQV9BVFRBQ0hJTkcsIHRoaXMub25NZWRpYUF0dGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NRURJQV9ERVRBQ0hJTkcsIHRoaXMub25NZWRpYURldGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURFRCwgdGhpcy5vbk1hbmlmZXN0TG9hZGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCB0aGlzLm9uU3VidGl0bGVUcmFja3NVcGRhdGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkZSQUdfTE9BRElORywgdGhpcy5vbkZyYWdMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkZSQUdfTE9BREVELCB0aGlzLm9uRnJhZ0xvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIHRoaXMub25GcmFnUGFyc2luZ1VzZXJkYXRhLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkZSQUdfREVDUllQVEVELCB0aGlzLm9uRnJhZ0RlY3J5cHRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5JTklUX1BUU19GT1VORCwgdGhpcy5vbkluaXRQdHNGb3VuZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5TVUJUSVRMRV9UUkFDS1NfQ0xFQVJFRCwgdGhpcy5vblN1YnRpdGxlVHJhY2tzQ2xlYXJlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfRkxVU0hJTkcsIHRoaXMub25CdWZmZXJGbHVzaGluZywgdGhpcyk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub2ZmKEV2ZW50cy5NRURJQV9BVFRBQ0hJTkcsIHRoaXMub25NZWRpYUF0dGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX0xPQURFRCwgdGhpcy5vbk1hbmlmZXN0TG9hZGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCwgdGhpcy5vblN1YnRpdGxlVHJhY2tzVXBkYXRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19MT0FESU5HLCB0aGlzLm9uRnJhZ0xvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfTE9BREVELCB0aGlzLm9uRnJhZ0xvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCB0aGlzLm9uRnJhZ1BhcnNpbmdVc2VyZGF0YSwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuRlJBR19ERUNSWVBURUQsIHRoaXMub25GcmFnRGVjcnlwdGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5JTklUX1BUU19GT1VORCwgdGhpcy5vbkluaXRQdHNGb3VuZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuU1VCVElUTEVfVFJBQ0tTX0NMRUFSRUQsIHRoaXMub25TdWJ0aXRsZVRyYWNrc0NsZWFyZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9GTFVTSElORywgdGhpcy5vbkJ1ZmZlckZsdXNoaW5nLCB0aGlzKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5obHMgPSB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5jZWE2MDhQYXJzZXIxID0gdGhpcy5jZWE2MDhQYXJzZXIyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0Q2VhNjA4UGFyc2VycygpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucyAmJlxuICAgICAgKCF0aGlzLmNlYTYwOFBhcnNlcjEgfHwgIXRoaXMuY2VhNjA4UGFyc2VyMilcbiAgICApIHtcbiAgICAgIGNvbnN0IGNoYW5uZWwxID0gbmV3IE91dHB1dEZpbHRlcih0aGlzLCAndGV4dFRyYWNrMScpO1xuICAgICAgY29uc3QgY2hhbm5lbDIgPSBuZXcgT3V0cHV0RmlsdGVyKHRoaXMsICd0ZXh0VHJhY2syJyk7XG4gICAgICBjb25zdCBjaGFubmVsMyA9IG5ldyBPdXRwdXRGaWx0ZXIodGhpcywgJ3RleHRUcmFjazMnKTtcbiAgICAgIGNvbnN0IGNoYW5uZWw0ID0gbmV3IE91dHB1dEZpbHRlcih0aGlzLCAndGV4dFRyYWNrNCcpO1xuICAgICAgdGhpcy5jZWE2MDhQYXJzZXIxID0gbmV3IENlYTYwOFBhcnNlcigxLCBjaGFubmVsMSwgY2hhbm5lbDIpO1xuICAgICAgdGhpcy5jZWE2MDhQYXJzZXIyID0gbmV3IENlYTYwOFBhcnNlcigzLCBjaGFubmVsMywgY2hhbm5lbDQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRDdWVzKFxuICAgIHRyYWNrTmFtZTogc3RyaW5nLFxuICAgIHN0YXJ0VGltZTogbnVtYmVyLFxuICAgIGVuZFRpbWU6IG51bWJlcixcbiAgICBzY3JlZW46IENhcHRpb25TY3JlZW4sXG4gICAgY3VlUmFuZ2VzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPixcbiAgKSB7XG4gICAgLy8gc2tpcCBjdWVzIHdoaWNoIG92ZXJsYXAgbW9yZSB0aGFuIDUwJSB3aXRoIHByZXZpb3VzbHkgcGFyc2VkIHRpbWUgcmFuZ2VzXG4gICAgbGV0IG1lcmdlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBjdWVSYW5nZXMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgY29uc3QgY3VlUmFuZ2UgPSBjdWVSYW5nZXNbaV07XG4gICAgICBjb25zdCBvdmVybGFwID0gaW50ZXJzZWN0aW9uKFxuICAgICAgICBjdWVSYW5nZVswXSxcbiAgICAgICAgY3VlUmFuZ2VbMV0sXG4gICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgZW5kVGltZSxcbiAgICAgICk7XG4gICAgICBpZiAob3ZlcmxhcCA+PSAwKSB7XG4gICAgICAgIGN1ZVJhbmdlWzBdID0gTWF0aC5taW4oY3VlUmFuZ2VbMF0sIHN0YXJ0VGltZSk7XG4gICAgICAgIGN1ZVJhbmdlWzFdID0gTWF0aC5tYXgoY3VlUmFuZ2VbMV0sIGVuZFRpbWUpO1xuICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICBpZiAob3ZlcmxhcCAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSA+IDAuNSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgY3VlUmFuZ2VzLnB1c2goW3N0YXJ0VGltZSwgZW5kVGltZV0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5yZW5kZXJUZXh0VHJhY2tzTmF0aXZlbHkpIHtcbiAgICAgIGNvbnN0IHRyYWNrID0gdGhpcy5jYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdO1xuICAgICAgdGhpcy5DdWVzLm5ld0N1ZSh0cmFjaywgc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjdWVzID0gdGhpcy5DdWVzLm5ld0N1ZShudWxsLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbik7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5DVUVTX1BBUlNFRCwge1xuICAgICAgICB0eXBlOiAnY2FwdGlvbnMnLFxuICAgICAgICBjdWVzLFxuICAgICAgICB0cmFjazogdHJhY2tOYW1lLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gYW4gaW5pdGlhbCBQVFMgaXMgZm91bmQ7IHVzZWQgZm9yIHN5bmNocm9uaXNhdGlvbiBvZiBXZWJWVFQuXG4gIHByaXZhdGUgb25Jbml0UHRzRm91bmQoXG4gICAgZXZlbnQ6IEV2ZW50cy5JTklUX1BUU19GT1VORCxcbiAgICB7IGZyYWcsIGlkLCBpbml0UFRTLCB0aW1lc2NhbGUgfTogSW5pdFBUU0ZvdW5kRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyB1bnBhcnNlZFZ0dEZyYWdzIH0gPSB0aGlzO1xuICAgIGlmIChpZCA9PT0gJ21haW4nKSB7XG4gICAgICB0aGlzLmluaXRQVFNbZnJhZy5jY10gPSB7IGJhc2VUaW1lOiBpbml0UFRTLCB0aW1lc2NhbGUgfTtcbiAgICB9XG5cbiAgICAvLyBEdWUgdG8gYXN5bmNocm9ub3VzIHByb2Nlc3NpbmcsIGluaXRpYWwgUFRTIG1heSBhcnJpdmUgbGF0ZXIgdGhhbiB0aGUgZmlyc3QgVlRUIGZyYWdtZW50cyBhcmUgbG9hZGVkLlxuICAgIC8vIFBhcnNlIGFueSB1bnBhcnNlZCBmcmFnbWVudHMgdXBvbiByZWNlaXZpbmcgdGhlIGluaXRpYWwgUFRTLlxuICAgIGlmICh1bnBhcnNlZFZ0dEZyYWdzLmxlbmd0aCkge1xuICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gW107XG4gICAgICB1bnBhcnNlZFZ0dEZyYWdzLmZvckVhY2goKGZyYWcpID0+IHtcbiAgICAgICAgdGhpcy5vbkZyYWdMb2FkZWQoRXZlbnRzLkZSQUdfTE9BREVELCBmcmFnIGFzIEZyYWdMb2FkZWREYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXhpc3RpbmdUcmFjayhsYWJlbDogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nKTogVGV4dFRyYWNrIHwgbnVsbCB7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVkaWEudGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzW2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FuUmV1c2VWdHRUZXh0VHJhY2sodGV4dFRyYWNrLCB7XG4gICAgICAgICAgICBuYW1lOiBsYWJlbCxcbiAgICAgICAgICAgIGxhbmc6IGxhbmd1YWdlLFxuICAgICAgICAgICAgYXR0cnM6IHt9IGFzIGFueSxcbiAgICAgICAgICB9KVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdGV4dFRyYWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUNhcHRpb25zVHJhY2sodHJhY2tOYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5jb25maWcucmVuZGVyVGV4dFRyYWNrc05hdGl2ZWx5KSB7XG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZVRyYWNrKHRyYWNrTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3JlYXRlTm9uTmF0aXZlVHJhY2sodHJhY2tOYW1lKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU5hdGl2ZVRyYWNrKHRyYWNrTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGNhcHRpb25zUHJvcGVydGllcywgY2FwdGlvbnNUcmFja3MsIG1lZGlhIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbGFiZWwsIGxhbmd1YWdlQ29kZSB9ID0gY2FwdGlvbnNQcm9wZXJ0aWVzW3RyYWNrTmFtZV07XG4gICAgLy8gRW5hYmxlIHJldXNlIG9mIGV4aXN0aW5nIHRleHQgdHJhY2suXG4gICAgY29uc3QgZXhpc3RpbmdUcmFjayA9IHRoaXMuZ2V0RXhpc3RpbmdUcmFjayhsYWJlbCwgbGFuZ3VhZ2VDb2RlKTtcbiAgICBpZiAoIWV4aXN0aW5nVHJhY2spIHtcbiAgICAgIGNvbnN0IHRleHRUcmFjayA9IHRoaXMuY3JlYXRlVGV4dFRyYWNrKCdjYXB0aW9ucycsIGxhYmVsLCBsYW5ndWFnZUNvZGUpO1xuICAgICAgaWYgKHRleHRUcmFjaykge1xuICAgICAgICAvLyBTZXQgYSBzcGVjaWFsIHByb3BlcnR5IG9uIHRoZSB0cmFjayBzbyB3ZSBrbm93IGl0J3MgbWFuYWdlZCBieSBIbHMuanNcbiAgICAgICAgdGV4dFRyYWNrW3RyYWNrTmFtZV0gPSB0cnVlO1xuICAgICAgICBjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdID0gdGV4dFRyYWNrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdID0gZXhpc3RpbmdUcmFjaztcbiAgICAgIGNsZWFyQ3VycmVudEN1ZXMoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSk7XG4gICAgICBzZW5kQWRkVHJhY2tFdmVudChjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdLCBtZWRpYSBhcyBIVE1MTWVkaWFFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU5vbk5hdGl2ZVRyYWNrKHRyYWNrTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMubm9uTmF0aXZlQ2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBsaXN0IG9mIGEgc2luZ2xlIHRyYWNrIGZvciB0aGUgcHJvdmlkZXIgdG8gY29uc3VtZVxuICAgIGNvbnN0IHRyYWNrUHJvcGVydGllczogVHJhY2tQcm9wZXJ0aWVzID0gdGhpcy5jYXB0aW9uc1Byb3BlcnRpZXNbdHJhY2tOYW1lXTtcbiAgICBpZiAoIXRyYWNrUHJvcGVydGllcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbCA9IHRyYWNrUHJvcGVydGllcy5sYWJlbCBhcyBzdHJpbmc7XG4gICAgY29uc3QgdHJhY2sgPSB7XG4gICAgICBfaWQ6IHRyYWNrTmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAga2luZDogJ2NhcHRpb25zJyxcbiAgICAgIGRlZmF1bHQ6IHRyYWNrUHJvcGVydGllcy5tZWRpYSA/ICEhdHJhY2tQcm9wZXJ0aWVzLm1lZGlhLmRlZmF1bHQgOiBmYWxzZSxcbiAgICAgIGNsb3NlZENhcHRpb25zOiB0cmFja1Byb3BlcnRpZXMubWVkaWEsXG4gICAgfTtcbiAgICB0aGlzLm5vbk5hdGl2ZUNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0gPSB0cmFjaztcbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5OT05fTkFUSVZFX1RFWFRfVFJBQ0tTX0ZPVU5ELCB7IHRyYWNrczogW3RyYWNrXSB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVGV4dFRyYWNrKFxuICAgIGtpbmQ6IFRleHRUcmFja0tpbmQsXG4gICAgbGFiZWw6IHN0cmluZyxcbiAgICBsYW5nPzogc3RyaW5nLFxuICApOiBUZXh0VHJhY2sgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAoIW1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBtZWRpYS5hZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmcpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1lZGlhQXR0YWNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuTUVESUFfQVRUQUNISU5HLFxuICAgIGRhdGE6IE1lZGlhQXR0YWNoaW5nRGF0YSxcbiAgKSB7XG4gICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgdGhpcy5fY2xlYW5UcmFja3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgb25NZWRpYURldGFjaGluZygpIHtcbiAgICBjb25zdCB7IGNhcHRpb25zVHJhY2tzIH0gPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKGNhcHRpb25zVHJhY2tzKS5mb3JFYWNoKCh0cmFja05hbWUpID0+IHtcbiAgICAgIGNsZWFyQ3VycmVudEN1ZXMoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSk7XG4gICAgICBkZWxldGUgY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXTtcbiAgICB9KTtcbiAgICB0aGlzLm5vbk5hdGl2ZUNhcHRpb25zVHJhY2tzID0ge307XG4gIH1cblxuICBwcml2YXRlIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIC8vIERldGVjdCBkaXNjb250aW51aXR5IGluIHZpZGVvIGZyYWdtZW50IChDRUEtNjA4KSBwYXJzaW5nXG4gICAgdGhpcy5sYXN0Q2MgPSAtMTtcbiAgICB0aGlzLmxhc3RTbiA9IC0xO1xuICAgIHRoaXMubGFzdFBhcnRJbmRleCA9IC0xO1xuICAgIC8vIERldGVjdCBkaXNjb250aW51aXR5IGluIHN1YnRpdGxlIG1hbmlmZXN0c1xuICAgIHRoaXMucHJldkNDID0gLTE7XG4gICAgdGhpcy52dHRDQ3MgPSBuZXdWVFRDQ3MoKTtcbiAgICAvLyBSZXNldCB0cmFja3NcbiAgICB0aGlzLl9jbGVhblRyYWNrcygpO1xuICAgIHRoaXMudHJhY2tzID0gW107XG4gICAgdGhpcy5jYXB0aW9uc1RyYWNrcyA9IHt9O1xuICAgIHRoaXMubm9uTmF0aXZlQ2FwdGlvbnNUcmFja3MgPSB7fTtcbiAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgPSBbXTtcbiAgICB0aGlzLmluaXRQVFMgPSBbXTtcbiAgICBpZiAodGhpcy5jZWE2MDhQYXJzZXIxICYmIHRoaXMuY2VhNjA4UGFyc2VyMikge1xuICAgICAgdGhpcy5jZWE2MDhQYXJzZXIxLnJlc2V0KCk7XG4gICAgICB0aGlzLmNlYTYwOFBhcnNlcjIucmVzZXQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jbGVhblRyYWNrcygpIHtcbiAgICAvLyBjbGVhciBvdXRkYXRlZCBzdWJ0aXRsZXNcbiAgICBjb25zdCB7IG1lZGlhIH0gPSB0aGlzO1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGV4dFRyYWNrcyA9IG1lZGlhLnRleHRUcmFja3M7XG4gICAgaWYgKHRleHRUcmFja3MpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjbGVhckN1cnJlbnRDdWVzKHRleHRUcmFja3NbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCxcbiAgICBkYXRhOiBTdWJ0aXRsZVRyYWNrc1VwZGF0ZWREYXRhLFxuICApIHtcbiAgICBjb25zdCB0cmFja3M6IEFycmF5PE1lZGlhUGxheWxpc3Q+ID0gZGF0YS5zdWJ0aXRsZVRyYWNrcyB8fCBbXTtcbiAgICBjb25zdCBoYXNJTVNDMSA9IHRyYWNrcy5zb21lKCh0cmFjaykgPT4gdHJhY2sudGV4dENvZGVjID09PSBJTVNDMV9DT0RFQyk7XG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVdlYlZUVCB8fCAoaGFzSU1TQzEgJiYgdGhpcy5jb25maWcuZW5hYmxlSU1TQzEpKSB7XG4gICAgICBjb25zdCBsaXN0SXNJZGVudGljYWwgPSBzdWJ0aXRsZU9wdGlvbnNJZGVudGljYWwodGhpcy50cmFja3MsIHRyYWNrcyk7XG4gICAgICBpZiAobGlzdElzSWRlbnRpY2FsKSB7XG4gICAgICAgIHRoaXMudHJhY2tzID0gdHJhY2tzO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICAgIHRoaXMudHJhY2tzID0gdHJhY2tzO1xuXG4gICAgICBpZiAodGhpcy5jb25maWcucmVuZGVyVGV4dFRyYWNrc05hdGl2ZWx5KSB7XG4gICAgICAgIGNvbnN0IG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgY29uc3QgaW5Vc2VUcmFja3M6IChUZXh0VHJhY2sgfCBudWxsKVtdIHwgbnVsbCA9IG1lZGlhXG4gICAgICAgICAgPyBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyhtZWRpYS50ZXh0VHJhY2tzKVxuICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKCh0cmFjaywgaW5kZXgpID0+IHtcbiAgICAgICAgICAvLyBSZXVzZSB0cmFja3Mgd2l0aCB0aGUgc2FtZSBsYWJlbCBhbmQgbGFuZywgYnV0IGRvIG5vdCByZXVzZSA2MDgvNzA4IHRyYWNrc1xuICAgICAgICAgIGxldCB0ZXh0VHJhY2s6IFRleHRUcmFjayB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoaW5Vc2VUcmFja3MpIHtcbiAgICAgICAgICAgIGxldCBpblVzZVRyYWNrOiBUZXh0VHJhY2sgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5Vc2VUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGluVXNlVHJhY2tzW2ldICYmXG4gICAgICAgICAgICAgICAgY2FuUmV1c2VWdHRUZXh0VHJhY2soaW5Vc2VUcmFja3NbaV0sIHRyYWNrKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpblVzZVRyYWNrID0gaW5Vc2VUcmFja3NbaV07XG4gICAgICAgICAgICAgICAgaW5Vc2VUcmFja3NbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5Vc2VUcmFjaykge1xuICAgICAgICAgICAgICB0ZXh0VHJhY2sgPSBpblVzZVRyYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGV4dFRyYWNrKSB7XG4gICAgICAgICAgICBjbGVhckN1cnJlbnRDdWVzKHRleHRUcmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRUcmFja0tpbmQgPSBjYXB0aW9uc09yU3VidGl0bGVzRnJvbUNoYXJhY3RlcmlzdGljcyh0cmFjayk7XG4gICAgICAgICAgICB0ZXh0VHJhY2sgPSB0aGlzLmNyZWF0ZVRleHRUcmFjayhcbiAgICAgICAgICAgICAgdGV4dFRyYWNrS2luZCxcbiAgICAgICAgICAgICAgdHJhY2submFtZSxcbiAgICAgICAgICAgICAgdHJhY2subGFuZyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAodGV4dFRyYWNrKSB7XG4gICAgICAgICAgICAgIHRleHRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRleHRUcmFjaykge1xuICAgICAgICAgICAgdGhpcy50ZXh0VHJhY2tzLnB1c2godGV4dFRyYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXYXJuIHdoZW4gdmlkZW8gZWxlbWVudCBoYXMgY2FwdGlvbnMgb3Igc3VidGl0bGUgVGV4dFRyYWNrcyBjYXJyaWVkIG92ZXIgZnJvbSBhbm90aGVyIHNvdXJjZVxuICAgICAgICBpZiAoaW5Vc2VUcmFja3M/Lmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHVudXNlZFRleHRUcmFja3MgPSBpblVzZVRyYWNrc1xuICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gdCAhPT0gbnVsbClcbiAgICAgICAgICAgIC5tYXAoKHQpID0+ICh0IGFzIFRleHRUcmFjaykubGFiZWwpO1xuICAgICAgICAgIGlmICh1bnVzZWRUZXh0VHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIGBNZWRpYSBlbGVtZW50IGNvbnRhaW5zIHVudXNlZCBzdWJ0aXRsZSB0cmFja3M6ICR7dW51c2VkVGV4dFRyYWNrcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICAgICl9LiBSZXBsYWNlIG1lZGlhIGVsZW1lbnQgZm9yIGVhY2ggc291cmNlIHRvIGNsZWFyIFRleHRUcmFja3MgYW5kIGNhcHRpb25zIG1lbnUuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBsaXN0IG9mIHRyYWNrcyBmb3IgdGhlIHByb3ZpZGVyIHRvIGNvbnN1bWVcbiAgICAgICAgY29uc3QgdHJhY2tzTGlzdCA9IHRoaXMudHJhY2tzLm1hcCgodHJhY2spID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IHRyYWNrLm5hbWUsXG4gICAgICAgICAgICBraW5kOiB0cmFjay50eXBlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0cmFjay5kZWZhdWx0LFxuICAgICAgICAgICAgc3VidGl0bGVUcmFjazogdHJhY2ssXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLk5PTl9OQVRJVkVfVEVYVF9UUkFDS1NfRk9VTkQsIHtcbiAgICAgICAgICB0cmFja3M6IHRyYWNrc0xpc3QsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRlZChcbiAgICBldmVudDogRXZlbnRzLk1BTklGRVNUX0xPQURFRCxcbiAgICBkYXRhOiBNYW5pZmVzdExvYWRlZERhdGEsXG4gICkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucyAmJiBkYXRhLmNhcHRpb25zKSB7XG4gICAgICBkYXRhLmNhcHRpb25zLmZvckVhY2goKGNhcHRpb25zVHJhY2spID0+IHtcbiAgICAgICAgY29uc3QgaW5zdHJlYW1JZE1hdGNoID0gLyg/OkNDfFNFUlZJQ0UpKFsxLTRdKS8uZXhlYyhcbiAgICAgICAgICBjYXB0aW9uc1RyYWNrLmluc3RyZWFtSWQgYXMgc3RyaW5nLFxuICAgICAgICApO1xuICAgICAgICBpZiAoIWluc3RyZWFtSWRNYXRjaCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFja05hbWUgPSBgdGV4dFRyYWNrJHtpbnN0cmVhbUlkTWF0Y2hbMV19YDtcbiAgICAgICAgY29uc3QgdHJhY2tQcm9wZXJ0aWVzOiBUcmFja1Byb3BlcnRpZXMgPVxuICAgICAgICAgIHRoaXMuY2FwdGlvbnNQcm9wZXJ0aWVzW3RyYWNrTmFtZV07XG4gICAgICAgIGlmICghdHJhY2tQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrUHJvcGVydGllcy5sYWJlbCA9IGNhcHRpb25zVHJhY2submFtZTtcbiAgICAgICAgaWYgKGNhcHRpb25zVHJhY2subGFuZykge1xuICAgICAgICAgIC8vIG9wdGlvbmFsIGF0dHJpYnV0ZVxuICAgICAgICAgIHRyYWNrUHJvcGVydGllcy5sYW5ndWFnZUNvZGUgPSBjYXB0aW9uc1RyYWNrLmxhbmc7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2tQcm9wZXJ0aWVzLm1lZGlhID0gY2FwdGlvbnNUcmFjaztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xvc2VkQ2FwdGlvbnNGb3JMZXZlbChmcmFnOiBGcmFnbWVudCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgbGV2ZWwgPSB0aGlzLmhscy5sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgcmV0dXJuIGxldmVsPy5hdHRyc1snQ0xPU0VELUNBUFRJT05TJ107XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0xvYWRpbmcoZXZlbnQ6IEV2ZW50cy5GUkFHX0xPQURJTkcsIGRhdGE6IEZyYWdMb2FkaW5nRGF0YSkge1xuICAgIC8vIGlmIHRoaXMgZnJhZyBpc24ndCBjb250aWd1b3VzLCBjbGVhciB0aGUgcGFyc2VyIHNvIGN1ZXMgd2l0aCBiYWQgc3RhcnQvZW5kIHRpbWVzIGFyZW4ndCBhZGRlZCB0byB0aGUgdGV4dFRyYWNrXG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiBkYXRhLmZyYWcudHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTikge1xuICAgICAgY29uc3QgeyBjZWE2MDhQYXJzZXIxLCBjZWE2MDhQYXJzZXIyLCBsYXN0U24gfSA9IHRoaXM7XG4gICAgICBjb25zdCB7IGNjLCBzbiB9ID0gZGF0YS5mcmFnO1xuICAgICAgY29uc3QgcGFydEluZGV4ID0gZGF0YS5wYXJ0Py5pbmRleCA/PyAtMTtcbiAgICAgIGlmIChjZWE2MDhQYXJzZXIxICYmIGNlYTYwOFBhcnNlcjIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNuICE9PSBsYXN0U24gKyAxIHx8XG4gICAgICAgICAgKHNuID09PSBsYXN0U24gJiYgcGFydEluZGV4ICE9PSB0aGlzLmxhc3RQYXJ0SW5kZXggKyAxKSB8fFxuICAgICAgICAgIGNjICE9PSB0aGlzLmxhc3RDY1xuICAgICAgICApIHtcbiAgICAgICAgICBjZWE2MDhQYXJzZXIxLnJlc2V0KCk7XG4gICAgICAgICAgY2VhNjA4UGFyc2VyMi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RDYyA9IGNjIGFzIG51bWJlcjtcbiAgICAgIHRoaXMubGFzdFNuID0gc24gYXMgbnVtYmVyO1xuICAgICAgdGhpcy5sYXN0UGFydEluZGV4ID0gcGFydEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25GcmFnTG9hZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuRlJBR19MT0FERUQsXG4gICAgZGF0YTogRnJhZ0RlY3J5cHRlZERhdGEgfCBGcmFnTG9hZGVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBmcmFnLCBwYXlsb2FkIH0gPSBkYXRhO1xuICAgIGlmIChmcmFnLnR5cGUgPT09IFBsYXlsaXN0TGV2ZWxUeXBlLlNVQlRJVExFKSB7XG4gICAgICAvLyBJZiBmcmFnbWVudCBpcyBzdWJ0aXRsZSB0eXBlLCBwYXJzZSBhcyBXZWJWVFQuXG4gICAgICBpZiAocGF5bG9hZC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGRlY3J5cHREYXRhID0gZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICAgICAgLy8gZnJhZ21lbnQgYWZ0ZXIgZGVjcnlwdGlvbiBoYXMgYSBzdGF0cyBvYmplY3RcbiAgICAgICAgY29uc3QgZGVjcnlwdGVkID0gJ3N0YXRzJyBpbiBkYXRhO1xuICAgICAgICAvLyBJZiB0aGUgc3VidGl0bGVzIGFyZSBub3QgZW5jcnlwdGVkLCBwYXJzZSBWVFRzIG5vdy4gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHdhaXQuXG4gICAgICAgIGlmIChkZWNyeXB0RGF0YSA9PSBudWxsIHx8ICFkZWNyeXB0RGF0YS5lbmNyeXB0ZWQgfHwgZGVjcnlwdGVkKSB7XG4gICAgICAgICAgY29uc3QgdHJhY2tQbGF5bGlzdE1lZGlhID0gdGhpcy50cmFja3NbZnJhZy5sZXZlbF07XG4gICAgICAgICAgY29uc3QgdnR0Q0NzID0gdGhpcy52dHRDQ3M7XG4gICAgICAgICAgaWYgKCF2dHRDQ3NbZnJhZy5jY10pIHtcbiAgICAgICAgICAgIHZ0dENDc1tmcmFnLmNjXSA9IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IGZyYWcuc3RhcnQsXG4gICAgICAgICAgICAgIHByZXZDQzogdGhpcy5wcmV2Q0MsXG4gICAgICAgICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnByZXZDQyA9IGZyYWcuY2M7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRyYWNrUGxheWxpc3RNZWRpYSAmJlxuICAgICAgICAgICAgdHJhY2tQbGF5bGlzdE1lZGlhLnRleHRDb2RlYyA9PT0gSU1TQzFfQ09ERUNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlSU1TQzEoZnJhZywgcGF5bG9hZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlVlRUcyhkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgbm8gcGF5bG9hZCwgZmluaXNoIHVuc3VjY2Vzc2Z1bGx5LlxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcignRW1wdHkgc3VidGl0bGUgcGF5bG9hZCcpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wYXJzZUlNU0MxKGZyYWc6IEZyYWdtZW50LCBwYXlsb2FkOiBBcnJheUJ1ZmZlcikge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIHBhcnNlSU1TQzEoXG4gICAgICBwYXlsb2FkLFxuICAgICAgdGhpcy5pbml0UFRTW2ZyYWcuY2NdLFxuICAgICAgKGN1ZXMpID0+IHtcbiAgICAgICAgdGhpcy5fYXBwZW5kQ3VlcyhjdWVzLCBmcmFnLmxldmVsKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBmcmFnOiBmcmFnLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgRmFpbGVkIHRvIHBhcnNlIElNU0MxOiAke2Vycm9yfWApO1xuICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBmcmFnOiBmcmFnLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3BhcnNlVlRUcyhkYXRhOiBGcmFnRGVjcnlwdGVkRGF0YSB8IEZyYWdMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgeyBmcmFnLCBwYXlsb2FkIH0gPSBkYXRhO1xuICAgIC8vIFdlIG5lZWQgYW4gaW5pdGlhbCBzeW5jaHJvbmlzYXRpb24gUFRTLiBTdG9yZSBmcmFnbWVudHMgYXMgbG9uZyBhcyBub25lIGhhcyBhcnJpdmVkXG4gICAgY29uc3QgeyBpbml0UFRTLCB1bnBhcnNlZFZ0dEZyYWdzIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1heEF2Q0MgPSBpbml0UFRTLmxlbmd0aCAtIDE7XG4gICAgaWYgKCFpbml0UFRTW2ZyYWcuY2NdICYmIG1heEF2Q0MgPT09IC0xKSB7XG4gICAgICB1bnBhcnNlZFZ0dEZyYWdzLnB1c2goZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgLy8gUGFyc2UgdGhlIFdlYlZUVCBmaWxlIGNvbnRlbnRzLlxuICAgIGNvbnN0IHBheWxvYWRXZWJWVFQgPSBmcmFnLmluaXRTZWdtZW50Py5kYXRhXG4gICAgICA/IGFwcGVuZFVpbnQ4QXJyYXkoZnJhZy5pbml0U2VnbWVudC5kYXRhLCBuZXcgVWludDhBcnJheShwYXlsb2FkKSlcbiAgICAgIDogcGF5bG9hZDtcbiAgICBwYXJzZVdlYlZUVChcbiAgICAgIHBheWxvYWRXZWJWVFQsXG4gICAgICB0aGlzLmluaXRQVFNbZnJhZy5jY10sXG4gICAgICB0aGlzLnZ0dENDcyxcbiAgICAgIGZyYWcuY2MsXG4gICAgICBmcmFnLnN0YXJ0LFxuICAgICAgKGN1ZXMpID0+IHtcbiAgICAgICAgdGhpcy5fYXBwZW5kQ3VlcyhjdWVzLCBmcmFnLmxldmVsKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBmcmFnOiBmcmFnLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgbWlzc2luZ0luaXRQVFMgPVxuICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPT09ICdNaXNzaW5nIGluaXRQVFMgZm9yIFZUVCBNUEVHVFMnO1xuICAgICAgICBpZiAobWlzc2luZ0luaXRQVFMpIHtcbiAgICAgICAgICB1bnBhcnNlZFZ0dEZyYWdzLnB1c2goZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZmFsbGJhY2tUb0lNU0MxKGZyYWcsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIHBhcnNpbmcuIFRyaWdnZXIgZXZlbnQgd2l0aCBzdWNjZXNzIGZhbHNlLlxuICAgICAgICBsb2dnZXIubG9nKGBGYWlsZWQgdG8gcGFyc2UgVlRUIGN1ZTogJHtlcnJvcn1gKTtcbiAgICAgICAgaWYgKG1pc3NpbmdJbml0UFRTICYmIG1heEF2Q0MgPiBmcmFnLmNjKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGZyYWc6IGZyYWcsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfZmFsbGJhY2tUb0lNU0MxKGZyYWc6IEZyYWdtZW50LCBwYXlsb2FkOiBBcnJheUJ1ZmZlcikge1xuICAgIC8vIElmIHRleHRDb2RlYyBpcyB1bmtub3duLCB0cnkgcGFyc2luZyBhcyBJTVNDMS4gU2V0IHRleHRDb2RlYyBiYXNlZCBvbiB0aGUgcmVzdWx0XG4gICAgY29uc3QgdHJhY2tQbGF5bGlzdE1lZGlhID0gdGhpcy50cmFja3NbZnJhZy5sZXZlbF07XG4gICAgaWYgKCF0cmFja1BsYXlsaXN0TWVkaWEudGV4dENvZGVjKSB7XG4gICAgICBwYXJzZUlNU0MxKFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICB0aGlzLmluaXRQVFNbZnJhZy5jY10sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0cmFja1BsYXlsaXN0TWVkaWEudGV4dENvZGVjID0gSU1TQzFfQ09ERUM7XG4gICAgICAgICAgdGhpcy5fcGFyc2VJTVNDMShmcmFnLCBwYXlsb2FkKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRyYWNrUGxheWxpc3RNZWRpYS50ZXh0Q29kZWMgPSAnd3Z0dCc7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2FwcGVuZEN1ZXMoY3VlczogVlRUQ3VlW10sIGZyYWdMZXZlbDogbnVtYmVyKSB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgaWYgKHRoaXMuY29uZmlnLnJlbmRlclRleHRUcmFja3NOYXRpdmVseSkge1xuICAgICAgY29uc3QgdGV4dFRyYWNrID0gdGhpcy50ZXh0VHJhY2tzW2ZyYWdMZXZlbF07XG4gICAgICAvLyBXZWJWVFRQYXJzZXIucGFyc2UgaXMgYW4gYXN5bmMgbWV0aG9kIGFuZCBpZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRleHQgdHJhY2sgbW9kZSBpcyBzZXQgdG8gXCJkaXNhYmxlZFwiXG4gICAgICAvLyBiZWZvcmUgcGFyc2luZyBpcyBkb25lIHRoZW4gZG9uJ3QgdHJ5IHRvIGFjY2VzcyBjdXJyZW50VHJhY2suY3Vlcy5nZXRDdWVCeUlkIGFzIGN1ZXMgd2lsbCBiZSBudWxsXG4gICAgICAvLyBhbmQgdHJ5aW5nIHRvIGFjY2VzcyBnZXRDdWVCeUlkIG1ldGhvZCBvZiBjdWVzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uXG4gICAgICAvLyBCZWNhdXNlIHdlIGNoZWNrIGlmIHRoZSBtb2RlIGlzIGRpc2FibGVkLCB3ZSBjYW4gZm9yY2UgY2hlY2sgYGN1ZXNgIGJlbG93LiBUaGV5IGNhbid0IGJlIG51bGwuXG4gICAgICBpZiAoIXRleHRUcmFjayB8fCB0ZXh0VHJhY2subW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdWVzLmZvckVhY2goKGN1ZSkgPT4gYWRkQ3VlVG9UcmFjayh0ZXh0VHJhY2ssIGN1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjdXJyZW50VHJhY2sgPSB0aGlzLnRyYWNrc1tmcmFnTGV2ZWxdO1xuICAgICAgaWYgKCFjdXJyZW50VHJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhY2sgPSBjdXJyZW50VHJhY2suZGVmYXVsdCA/ICdkZWZhdWx0JyA6ICdzdWJ0aXRsZXMnICsgZnJhZ0xldmVsO1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkNVRVNfUEFSU0VELCB7IHR5cGU6ICdzdWJ0aXRsZXMnLCBjdWVzLCB0cmFjayB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0RlY3J5cHRlZChcbiAgICBldmVudDogRXZlbnRzLkZSQUdfREVDUllQVEVELFxuICAgIGRhdGE6IEZyYWdEZWNyeXB0ZWREYXRhLFxuICApIHtcbiAgICBjb25zdCB7IGZyYWcgfSA9IGRhdGE7XG4gICAgaWYgKGZyYWcudHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuU1VCVElUTEUpIHtcbiAgICAgIHRoaXMub25GcmFnTG9hZGVkKEV2ZW50cy5GUkFHX0xPQURFRCwgZGF0YSBhcyB1bmtub3duIGFzIEZyYWdMb2FkZWREYXRhKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uU3VidGl0bGVUcmFja3NDbGVhcmVkKCkge1xuICAgIHRoaXMudHJhY2tzID0gW107XG4gICAgdGhpcy5jYXB0aW9uc1RyYWNrcyA9IHt9O1xuICB9XG5cbiAgcHJpdmF0ZSBvbkZyYWdQYXJzaW5nVXNlcmRhdGEoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsXG4gICAgZGF0YTogRnJhZ1BhcnNpbmdVc2VyZGF0YURhdGEsXG4gICkge1xuICAgIHRoaXMuaW5pdENlYTYwOFBhcnNlcnMoKTtcbiAgICBjb25zdCB7IGNlYTYwOFBhcnNlcjEsIGNlYTYwOFBhcnNlcjIgfSA9IHRoaXM7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgIWNlYTYwOFBhcnNlcjEgfHwgIWNlYTYwOFBhcnNlcjIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBmcmFnLCBzYW1wbGVzIH0gPSBkYXRhO1xuICAgIGlmIChcbiAgICAgIGZyYWcudHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTiAmJlxuICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc0ZvckxldmVsKGZyYWcpID09PSAnTk9ORSdcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgdGhlIGV2ZW50IGNvbnRhaW5zIGNhcHRpb25zIChmb3VuZCBpbiB0aGUgYnl0ZXMgcHJvcGVydHkpLCBwdXNoIGFsbCBieXRlcyBpbnRvIHRoZSBwYXJzZXIgaW1tZWRpYXRlbHlcbiAgICAvLyBJdCB3aWxsIGNyZWF0ZSB0aGUgcHJvcGVyIHRpbWVzdGFtcHMgYmFzZWQgb24gdGhlIFBUUyB2YWx1ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2NCeXRlcyA9IHNhbXBsZXNbaV0uYnl0ZXM7XG4gICAgICBpZiAoY2NCeXRlcykge1xuICAgICAgICBjb25zdCBjY2RhdGFzID0gdGhpcy5leHRyYWN0Q2VhNjA4RGF0YShjY0J5dGVzKTtcbiAgICAgICAgY2VhNjA4UGFyc2VyMS5hZGREYXRhKHNhbXBsZXNbaV0ucHRzLCBjY2RhdGFzWzBdKTtcbiAgICAgICAgY2VhNjA4UGFyc2VyMi5hZGREYXRhKHNhbXBsZXNbaV0ucHRzLCBjY2RhdGFzWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkJ1ZmZlckZsdXNoaW5nKFxuICAgIGV2ZW50OiBFdmVudHMuQlVGRkVSX0ZMVVNISU5HLFxuICAgIHsgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgZW5kT2Zmc2V0U3VidGl0bGVzLCB0eXBlIH06IEJ1ZmZlckZsdXNoaW5nRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAoIW1lZGlhIHx8IG1lZGlhLmN1cnJlbnRUaW1lIDwgZW5kT2Zmc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENsZWFyIDYwOCBjYXB0aW9uIGN1ZXMgZnJvbSB0aGUgY2FwdGlvbnMgVGV4dFRyYWNrcyB3aGVuIHRoZSB2aWRlbyBiYWNrIGJ1ZmZlciBpcyBmbHVzaGVkXG4gICAgLy8gRm9yd2FyZCBjdWVzIGFyZSBuZXZlciByZW1vdmVkIGJlY2F1c2Ugd2UgY2FuIGxvb3NlIHN0cmVhbWVkIDYwOCBjb250ZW50IGZyb20gcmVjZW50IGZyYWdtZW50c1xuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICBjb25zdCB7IGNhcHRpb25zVHJhY2tzIH0gPSB0aGlzO1xuICAgICAgT2JqZWN0LmtleXMoY2FwdGlvbnNUcmFja3MpLmZvckVhY2goKHRyYWNrTmFtZSkgPT5cbiAgICAgICAgcmVtb3ZlQ3Vlc0luUmFuZ2UoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWcucmVuZGVyVGV4dFRyYWNrc05hdGl2ZWx5KSB7XG4gICAgICAvLyBDbGVhciBWVFQvSU1TQzEgc3VidGl0bGUgY3VlcyBmcm9tIHRoZSBzdWJ0aXRsZSBUZXh0VHJhY2tzIHdoZW4gdGhlIGJhY2sgYnVmZmVyIGlzIGZsdXNoZWRcbiAgICAgIGlmIChzdGFydE9mZnNldCA9PT0gMCAmJiBlbmRPZmZzZXRTdWJ0aXRsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB7IHRleHRUcmFja3MgfSA9IHRoaXM7XG4gICAgICAgIE9iamVjdC5rZXlzKHRleHRUcmFja3MpLmZvckVhY2goKHRyYWNrTmFtZSkgPT5cbiAgICAgICAgICByZW1vdmVDdWVzSW5SYW5nZShcbiAgICAgICAgICAgIHRleHRUcmFja3NbdHJhY2tOYW1lXSxcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgZW5kT2Zmc2V0U3VidGl0bGVzLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0Q2VhNjA4RGF0YShieXRlQXJyYXk6IFVpbnQ4QXJyYXkpOiBudW1iZXJbXVtdIHtcbiAgICBjb25zdCBhY3R1YWxDQ0J5dGVzOiBudW1iZXJbXVtdID0gW1tdLCBbXV07XG4gICAgY29uc3QgY291bnQgPSBieXRlQXJyYXlbMF0gJiAweDFmO1xuICAgIGxldCBwb3NpdGlvbiA9IDI7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgIGNvbnN0IHRtcEJ5dGUgPSBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICBjb25zdCBjY2J5dGUxID0gMHg3ZiAmIGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgIGNvbnN0IGNjYnl0ZTIgPSAweDdmICYgYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgaWYgKGNjYnl0ZTEgPT09IDAgJiYgY2NieXRlMiA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNjVmFsaWQgPSAoMHgwNCAmIHRtcEJ5dGUpICE9PSAwOyAvLyBTdXBwb3J0IGFsbCBmb3VyIGNoYW5uZWxzXG4gICAgICBpZiAoY2NWYWxpZCkge1xuICAgICAgICBjb25zdCBjY1R5cGUgPSAweDAzICYgdG1wQnl0ZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDB4MDAgLyogQ0VBNjA4IGZpZWxkMSovID09PSBjY1R5cGUgfHxcbiAgICAgICAgICAweDAxIC8qIENFQTYwOCBmaWVsZDIqLyA9PT0gY2NUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEV4Y2x1ZGUgQ0VBNzA4IENDIGRhdGEuXG4gICAgICAgICAgYWN0dWFsQ0NCeXRlc1tjY1R5cGVdLnB1c2goY2NieXRlMSk7XG4gICAgICAgICAgYWN0dWFsQ0NCeXRlc1tjY1R5cGVdLnB1c2goY2NieXRlMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdHVhbENDQnl0ZXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FwdGlvbnNPclN1YnRpdGxlc0Zyb21DaGFyYWN0ZXJpc3RpY3MoXG4gIHRyYWNrOiBQaWNrPE1lZGlhUGxheWxpc3QsICduYW1lJyB8ICdsYW5nJyB8ICdhdHRycycgfCAnY2hhcmFjdGVyaXN0aWNzJz4sXG4pOiBUZXh0VHJhY2tLaW5kIHtcbiAgaWYgKHRyYWNrLmNoYXJhY3RlcmlzdGljcykge1xuICAgIGlmIChcbiAgICAgIC90cmFuc2NyaWJlcy1zcG9rZW4tZGlhbG9nL2dpLnRlc3QodHJhY2suY2hhcmFjdGVyaXN0aWNzKSAmJlxuICAgICAgL2Rlc2NyaWJlcy1tdXNpYy1hbmQtc291bmQvZ2kudGVzdCh0cmFjay5jaGFyYWN0ZXJpc3RpY3MpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ2NhcHRpb25zJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJ3N1YnRpdGxlcyc7XG59XG5cbmZ1bmN0aW9uIGNhblJldXNlVnR0VGV4dFRyYWNrKFxuICBpblVzZVRyYWNrOiBUZXh0VHJhY2sgfCBudWxsLFxuICBtYW5pZmVzdFRyYWNrOiBQaWNrPFxuICAgIE1lZGlhUGxheWxpc3QsXG4gICAgJ25hbWUnIHwgJ2xhbmcnIHwgJ2F0dHJzJyB8ICdjaGFyYWN0ZXJpc3RpY3MnXG4gID4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAhIWluVXNlVHJhY2sgJiZcbiAgICBpblVzZVRyYWNrLmtpbmQgPT09IGNhcHRpb25zT3JTdWJ0aXRsZXNGcm9tQ2hhcmFjdGVyaXN0aWNzKG1hbmlmZXN0VHJhY2spICYmXG4gICAgc3VidGl0bGVUcmFja01hdGNoZXNUZXh0VHJhY2sobWFuaWZlc3RUcmFjaywgaW5Vc2VUcmFjaylcbiAgKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKHgxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkxOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5taW4oeDIsIHkyKSAtIE1hdGgubWF4KHgxLCB5MSk7XG59XG5cbmZ1bmN0aW9uIG5ld1ZUVENDcygpOiBWVFRDQ3Mge1xuICByZXR1cm4ge1xuICAgIGNjT2Zmc2V0OiAwLFxuICAgIHByZXNlbnRhdGlvbk9mZnNldDogMCxcbiAgICAwOiB7XG4gICAgICBzdGFydDogMCxcbiAgICAgIHByZXZDQzogLTEsXG4gICAgICBuZXc6IHRydWUsXG4gICAgfSxcbiAgfTtcbn1cbiIsICIvKlxuICogY2FwIHN0cmVhbSBsZXZlbCB0byBtZWRpYSBzaXplIGRpbWVuc2lvbiBjb250cm9sbGVyXG4gKi9cblxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgTGV2ZWwgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgdHlwZSB7XG4gIE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgQnVmZmVyQ29kZWNzRGF0YSxcbiAgTWVkaWFBdHRhY2hpbmdEYXRhLFxuICBGUFNEcm9wTGV2ZWxDYXBwaW5nRGF0YSxcbiAgTGV2ZWxzVXBkYXRlZERhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgU3RyZWFtQ29udHJvbGxlciBmcm9tICcuL3N0cmVhbS1jb250cm9sbGVyJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5cbnR5cGUgUmVzdHJpY3RlZExldmVsID0geyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgYml0cmF0ZTogbnVtYmVyIH07XG5jbGFzcyBDYXBMZXZlbENvbnRyb2xsZXIgaW1wbGVtZW50cyBDb21wb25lbnRBUEkge1xuICBwcml2YXRlIGhsczogSGxzO1xuICBwcml2YXRlIGF1dG9MZXZlbENhcHBpbmc6IG51bWJlcjtcbiAgcHJpdmF0ZSBmaXJzdExldmVsOiBudW1iZXI7XG4gIHByaXZhdGUgbWVkaWE6IEhUTUxWaWRlb0VsZW1lbnQgfCBudWxsO1xuICBwcml2YXRlIHJlc3RyaWN0ZWRMZXZlbHM6IFJlc3RyaWN0ZWRMZXZlbFtdO1xuICBwcml2YXRlIHRpbWVyOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2xpZW50UmVjdDogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IHwgbnVsbDtcbiAgcHJpdmF0ZSBzdHJlYW1Db250cm9sbGVyPzogU3RyZWFtQ29udHJvbGxlcjtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB0aGlzLmZpcnN0TGV2ZWwgPSAtMTtcbiAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMgPSBbXTtcbiAgICB0aGlzLnRpbWVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2xpZW50UmVjdCA9IG51bGw7XG5cbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RyZWFtQ29udHJvbGxlcihzdHJlYW1Db250cm9sbGVyOiBTdHJlYW1Db250cm9sbGVyKSB7XG4gICAgdGhpcy5zdHJlYW1Db250cm9sbGVyID0gc3RyZWFtQ29udHJvbGxlcjtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmhscykge1xuICAgICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIHRoaXMuc3RvcENhcHBpbmcoKTtcbiAgICB9XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgdGhpcy5jbGllbnRSZWN0ID0gbnVsbDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5obHMgPSB0aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBudWxsO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuRlBTX0RST1BfTEVWRUxfQ0FQUElORywgdGhpcy5vbkZwc0Ryb3BMZXZlbENhcHBpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfQVRUQUNISU5HLCB0aGlzLm9uTWVkaWFBdHRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxTX1VQREFURUQsIHRoaXMub25MZXZlbHNVcGRhdGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkJVRkZFUl9DT0RFQ1MsIHRoaXMub25CdWZmZXJDb2RlY3MsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfREVUQUNISU5HLCB0aGlzLm9uTWVkaWFEZXRhY2hpbmcsIHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVucmVnaXN0ZXJMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IGhscyB9ID0gdGhpcztcbiAgICBobHMub2ZmKEV2ZW50cy5GUFNfRFJPUF9MRVZFTF9DQVBQSU5HLCB0aGlzLm9uRnBzRHJvcExldmVsQ2FwcGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfQVRUQUNISU5HLCB0aGlzLm9uTWVkaWFBdHRhY2hpbmcsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgdGhpcy5vbk1hbmlmZXN0UGFyc2VkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9DT0RFQ1MsIHRoaXMub25CdWZmZXJDb2RlY3MsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkZwc0Ryb3BMZXZlbENhcHBpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUFNfRFJPUF9MRVZFTF9DQVBQSU5HLFxuICAgIGRhdGE6IEZQU0Ryb3BMZXZlbENhcHBpbmdEYXRhLFxuICApIHtcbiAgICAvLyBEb24ndCBhZGQgYSByZXN0cmljdGVkIGxldmVsIG1vcmUgdGhhbiBvbmNlXG4gICAgY29uc3QgbGV2ZWwgPSB0aGlzLmhscy5sZXZlbHNbZGF0YS5kcm9wcGVkTGV2ZWxdO1xuICAgIGlmICh0aGlzLmlzTGV2ZWxBbGxvd2VkKGxldmVsKSkge1xuICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzLnB1c2goe1xuICAgICAgICBiaXRyYXRlOiBsZXZlbC5iaXRyYXRlLFxuICAgICAgICBoZWlnaHQ6IGxldmVsLmhlaWdodCxcbiAgICAgICAgd2lkdGg6IGxldmVsLndpZHRoLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWVkaWFBdHRhY2hpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5NRURJQV9BVFRBQ0hJTkcsXG4gICAgZGF0YTogTWVkaWFBdHRhY2hpbmdEYXRhLFxuICApIHtcbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICB0aGlzLmNsaWVudFJlY3QgPSBudWxsO1xuICAgIGlmICh0aGlzLnRpbWVyICYmIHRoaXMuaGxzLmxldmVscy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZGV0ZWN0UGxheWVyU2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1hbmlmZXN0UGFyc2VkKFxuICAgIGV2ZW50OiBFdmVudHMuTUFOSUZFU1RfUEFSU0VELFxuICAgIGRhdGE6IE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgdGhpcy5maXJzdExldmVsID0gZGF0YS5maXJzdExldmVsO1xuICAgIGlmIChobHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplICYmIGRhdGEudmlkZW8pIHtcbiAgICAgIC8vIFN0YXJ0IGNhcHBpbmcgaW1tZWRpYXRlbHkgaWYgdGhlIG1hbmlmZXN0IGhhcyBzaWduYWxlZCB2aWRlbyBjb2RlY3NcbiAgICAgIHRoaXMuc3RhcnRDYXBwaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkxldmVsc1VwZGF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5MRVZFTFNfVVBEQVRFRCxcbiAgICBkYXRhOiBMZXZlbHNVcGRhdGVkRGF0YSxcbiAgKSB7XG4gICAgaWYgKHRoaXMudGltZXIgJiYgTnVtYmVyLmlzRmluaXRlKHRoaXMuYXV0b0xldmVsQ2FwcGluZykpIHtcbiAgICAgIHRoaXMuZGV0ZWN0UGxheWVyU2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE9ubHkgYWN0aXZhdGUgY2FwcGluZyB3aGVuIHBsYXlpbmcgYSB2aWRlbyBzdHJlYW07IG90aGVyd2lzZSwgbXVsdGktYml0cmF0ZSBhdWRpby1vbmx5IHN0cmVhbXMgd2lsbCBiZSByZXN0cmljdGVkXG4gIC8vIHRvIHRoZSBmaXJzdCBsZXZlbFxuICBwcm90ZWN0ZWQgb25CdWZmZXJDb2RlY3MoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfQ09ERUNTLFxuICAgIGRhdGE6IEJ1ZmZlckNvZGVjc0RhdGEsXG4gICkge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGlmIChobHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplICYmIGRhdGEudmlkZW8pIHtcbiAgICAgIC8vIElmIHRoZSBtYW5pZmVzdCBkaWQgbm90IHNpZ25hbCBhIHZpZGVvIGNvZGVjIGNhcHBpbmcgaGFzIGJlZW4gZGVmZXJyZWQgdW50aWwgd2UncmUgY2VydGFpbiB2aWRlbyBpcyBwcmVzZW50XG4gICAgICB0aGlzLnN0YXJ0Q2FwcGluZygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1lZGlhRGV0YWNoaW5nKCkge1xuICAgIHRoaXMuc3RvcENhcHBpbmcoKTtcbiAgfVxuXG4gIGRldGVjdFBsYXllclNpemUoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhSGVpZ2h0IDw9IDAgfHwgdGhpcy5tZWRpYVdpZHRoIDw9IDApIHtcbiAgICAgICAgdGhpcy5jbGllbnRSZWN0ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbGV2ZWxzID0gdGhpcy5obHMubGV2ZWxzO1xuICAgICAgaWYgKGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIGNvbnN0IG1heExldmVsID0gdGhpcy5nZXRNYXhMZXZlbChsZXZlbHMubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChtYXhMZXZlbCAhPT0gdGhpcy5hdXRvTGV2ZWxDYXBwaW5nKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAgIGBTZXR0aW5nIGF1dG9MZXZlbENhcHBpbmcgdG8gJHttYXhMZXZlbH06ICR7bGV2ZWxzW21heExldmVsXS5oZWlnaHR9cEAke2xldmVsc1ttYXhMZXZlbF0uYml0cmF0ZX0gZm9yIG1lZGlhICR7dGhpcy5tZWRpYVdpZHRofXgke3RoaXMubWVkaWFIZWlnaHR9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID0gbWF4TGV2ZWw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBobHMuYXV0b0xldmVsQ2FwcGluZyA+IHRoaXMuYXV0b0xldmVsQ2FwcGluZyAmJlxuICAgICAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlclxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBpZiBhdXRvIGxldmVsIGNhcHBpbmcgaGFzIGEgaGlnaGVyIHZhbHVlIGZvciB0aGUgcHJldmlvdXMgb25lLCBmbHVzaCB0aGUgYnVmZmVyIHVzaW5nIG5leHRMZXZlbFN3aXRjaFxuICAgICAgICAgIC8vIHVzdWFsbHkgaGFwcGVuIHdoZW4gdGhlIHVzZXIgZ28gdG8gdGhlIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gaGxzLmF1dG9MZXZlbENhcHBpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogcmV0dXJucyBsZXZlbCBzaG91bGQgYmUgdGhlIG9uZSB3aXRoIHRoZSBkaW1lbnNpb25zIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiB0aGUgbWVkaWEgKHBsYXllcikgZGltZW5zaW9ucyAoc28gdGhlIHZpZGVvIHdpbGwgYmUgZG93bnNjYWxlZClcbiAgICovXG4gIGdldE1heExldmVsKGNhcExldmVsSW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgbGV2ZWxzID0gdGhpcy5obHMubGV2ZWxzO1xuICAgIGlmICghbGV2ZWxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkTGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihcbiAgICAgIChsZXZlbCwgaW5kZXgpID0+IHRoaXMuaXNMZXZlbEFsbG93ZWQobGV2ZWwpICYmIGluZGV4IDw9IGNhcExldmVsSW5kZXgsXG4gICAgKTtcblxuICAgIHRoaXMuY2xpZW50UmVjdCA9IG51bGw7XG4gICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKFxuICAgICAgdmFsaWRMZXZlbHMsXG4gICAgICB0aGlzLm1lZGlhV2lkdGgsXG4gICAgICB0aGlzLm1lZGlhSGVpZ2h0LFxuICAgICk7XG4gIH1cblxuICBzdGFydENhcHBpbmcoKSB7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIC8vIERvbid0IHJlc2V0IGNhcHBpbmcgaWYgc3RhcnRlZCB0d2ljZTsgdGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBtYW5pZmVzdCBzaWduYWxzIGEgdmlkZW8gY29kZWNcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB0aGlzLnRpbWVyID0gc2VsZi5zZXRJbnRlcnZhbCh0aGlzLmRldGVjdFBsYXllclNpemUuYmluZCh0aGlzKSwgMTAwMCk7XG4gICAgdGhpcy5kZXRlY3RQbGF5ZXJTaXplKCk7XG4gIH1cblxuICBzdG9wQ2FwcGluZygpIHtcbiAgICB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMgPSBbXTtcbiAgICB0aGlzLmZpcnN0TGV2ZWwgPSAtMTtcbiAgICB0aGlzLmF1dG9MZXZlbENhcHBpbmcgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGltZW5zaW9ucygpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICAgIGlmICh0aGlzLmNsaWVudFJlY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudFJlY3Q7XG4gICAgfVxuICAgIGNvbnN0IG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBjb25zdCBib3VuZHNSZWN0ID0ge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgfTtcblxuICAgIGlmIChtZWRpYSkge1xuICAgICAgY29uc3QgY2xpZW50UmVjdCA9IG1lZGlhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgYm91bmRzUmVjdC53aWR0aCA9IGNsaWVudFJlY3Qud2lkdGg7XG4gICAgICBib3VuZHNSZWN0LmhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0O1xuICAgICAgaWYgKCFib3VuZHNSZWN0LndpZHRoICYmICFib3VuZHNSZWN0LmhlaWdodCkge1xuICAgICAgICAvLyBXaGVuIHRoZSBtZWRpYSBlbGVtZW50IGhhcyBubyB3aWR0aCBvciBoZWlnaHQgKGVxdWl2YWxlbnQgdG8gbm90IGJlaW5nIGluIHRoZSBET00pLFxuICAgICAgICAvLyB0aGVuIHVzZSBpdHMgd2lkdGggYW5kIGhlaWdodCBhdHRyaWJ1dGVzIChtZWRpYS53aWR0aCwgbWVkaWEuaGVpZ2h0KVxuICAgICAgICBib3VuZHNSZWN0LndpZHRoID1cbiAgICAgICAgICBjbGllbnRSZWN0LnJpZ2h0IC0gY2xpZW50UmVjdC5sZWZ0IHx8IG1lZGlhLndpZHRoIHx8IDA7XG4gICAgICAgIGJvdW5kc1JlY3QuaGVpZ2h0ID1cbiAgICAgICAgICBjbGllbnRSZWN0LmJvdHRvbSAtIGNsaWVudFJlY3QudG9wIHx8IG1lZGlhLmhlaWdodCB8fCAwO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNsaWVudFJlY3QgPSBib3VuZHNSZWN0O1xuICAgIHJldHVybiBib3VuZHNSZWN0O1xuICB9XG5cbiAgZ2V0IG1lZGlhV2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXREaW1lbnNpb25zKCkud2lkdGggKiB0aGlzLmNvbnRlbnRTY2FsZUZhY3RvcjtcbiAgfVxuXG4gIGdldCBtZWRpYUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldERpbWVuc2lvbnMoKS5oZWlnaHQgKiB0aGlzLmNvbnRlbnRTY2FsZUZhY3RvcjtcbiAgfVxuXG4gIGdldCBjb250ZW50U2NhbGVGYWN0b3IoKTogbnVtYmVyIHtcbiAgICBsZXQgcGl4ZWxSYXRpbyA9IDE7XG4gICAgaWYgKCF0aGlzLmhscy5jb25maWcuaWdub3JlRGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGl4ZWxSYXRpbyA9IHNlbGYuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIHByaXZhdGUgaXNMZXZlbEFsbG93ZWQobGV2ZWw6IExldmVsKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVzdHJpY3RlZExldmVscyA9IHRoaXMucmVzdHJpY3RlZExldmVscztcbiAgICByZXR1cm4gIXJlc3RyaWN0ZWRMZXZlbHMuc29tZSgocmVzdHJpY3RlZExldmVsKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBsZXZlbC5iaXRyYXRlID09PSByZXN0cmljdGVkTGV2ZWwuYml0cmF0ZSAmJlxuICAgICAgICBsZXZlbC53aWR0aCA9PT0gcmVzdHJpY3RlZExldmVsLndpZHRoICYmXG4gICAgICAgIGxldmVsLmhlaWdodCA9PT0gcmVzdHJpY3RlZExldmVsLmhlaWdodFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRNYXhMZXZlbEJ5TWVkaWFTaXplKFxuICAgIGxldmVsczogQXJyYXk8TGV2ZWw+LFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgaWYgKCFsZXZlbHM/Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIExldmVscyBjYW4gaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zIGJ1dCBkaWZmZXJpbmcgYmFuZHdpZHRocyAtIHNpbmNlIGxldmVscyBhcmUgb3JkZXJlZCwgd2UgY2FuIGxvb2sgdG8gdGhlIG5leHRcbiAgICAvLyB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSd2ZSBjaG9zZW4gdGhlIGdyZWF0ZXN0IGJhbmR3aWR0aCBmb3IgdGhlIG1lZGlhJ3MgZGltZW5zaW9uc1xuICAgIGNvbnN0IGF0R3JlYXRlc3RCYW5kd2lkdGggPSAoXG4gICAgICBjdXJMZXZlbDogTGV2ZWwsXG4gICAgICBuZXh0TGV2ZWw6IExldmVsIHwgdW5kZWZpbmVkLFxuICAgICkgPT4ge1xuICAgICAgaWYgKCFuZXh0TGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGN1ckxldmVsLndpZHRoICE9PSBuZXh0TGV2ZWwud2lkdGggfHxcbiAgICAgICAgY3VyTGV2ZWwuaGVpZ2h0ICE9PSBuZXh0TGV2ZWwuaGVpZ2h0XG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyBJZiB3ZSBydW4gdGhyb3VnaCB0aGUgbG9vcCB3aXRob3V0IGJyZWFraW5nLCB0aGUgbWVkaWEncyBkaW1lbnNpb25zIGFyZSBncmVhdGVyIHRoYW4gZXZlcnkgbGV2ZWwsIHNvIGRlZmF1bHQgdG9cbiAgICAvLyB0aGUgbWF4IGxldmVsXG4gICAgbGV0IG1heExldmVsSW5kZXggPSBsZXZlbHMubGVuZ3RoIC0gMTtcbiAgICAvLyBQcmV2ZW50IGNoYW5nZXMgaW4gYXNwZWN0LXJhdGlvIGZyb20gY2F1c2luZyBjYXBwaW5nIHRvIHRvZ2dsZSBiYWNrIGFuZCBmb3J0aFxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgbGV2ZWwgPSBsZXZlbHNbaV07XG4gICAgICBpZiAoXG4gICAgICAgIChsZXZlbC53aWR0aCA+PSBzcXVhcmVTaXplIHx8IGxldmVsLmhlaWdodCA+PSBzcXVhcmVTaXplKSAmJlxuICAgICAgICBhdEdyZWF0ZXN0QmFuZHdpZHRoKGxldmVsLCBsZXZlbHNbaSArIDFdKVxuICAgICAgKSB7XG4gICAgICAgIG1heExldmVsSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4TGV2ZWxJbmRleDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXBMZXZlbENvbnRyb2xsZXI7XG4iLCAiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEFQSSB9IGZyb20gJy4uL3R5cGVzL2NvbXBvbmVudC1hcGknO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhQXR0YWNoaW5nRGF0YSB9IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgU3RyZWFtQ29udHJvbGxlciBmcm9tICcuL3N0cmVhbS1jb250cm9sbGVyJztcblxuY2xhc3MgRlBTQ29udHJvbGxlciBpbXBsZW1lbnRzIENvbXBvbmVudEFQSSB7XG4gIHByaXZhdGUgaGxzOiBIbHM7XG4gIHByaXZhdGUgaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHRpbWVyPzogbnVtYmVyO1xuICBwcml2YXRlIG1lZGlhOiBIVE1MVmlkZW9FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbGFzdFRpbWU6IGFueTtcbiAgcHJpdmF0ZSBsYXN0RHJvcHBlZEZyYW1lczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0RGVjb2RlZEZyYW1lczogbnVtYmVyID0gMDtcbiAgLy8gc3RyZWFtIGNvbnRyb2xsZXIgbXVzdCBiZSBwcm92aWRlZCBhcyBhIGRlcGVuZGVuY3khXG4gIHByaXZhdGUgc3RyZWFtQ29udHJvbGxlciE6IFN0cmVhbUNvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoaGxzOiBIbHMpIHtcbiAgICB0aGlzLmhscyA9IGhscztcblxuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdHJlYW1Db250cm9sbGVyKHN0cmVhbUNvbnRyb2xsZXI6IFN0cmVhbUNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBzdHJlYW1Db250cm9sbGVyO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuaGxzLm9uKEV2ZW50cy5NRURJQV9BVFRBQ0hJTkcsIHRoaXMub25NZWRpYUF0dGFjaGluZywgdGhpcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLmhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSElORywgdGhpcy5vbk1lZGlhQXR0YWNoaW5nLCB0aGlzKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgfVxuXG4gICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZWRpYUF0dGFjaGluZyhcbiAgICBldmVudDogRXZlbnRzLk1FRElBX0FUVEFDSElORyxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gICkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICBpZiAoY29uZmlnLmNhcExldmVsT25GUFNEcm9wKSB7XG4gICAgICBjb25zdCBtZWRpYSA9XG4gICAgICAgIGRhdGEubWVkaWEgaW5zdGFuY2VvZiBzZWxmLkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICAgIHRoaXMubWVkaWEgPSBtZWRpYTtcbiAgICAgIGlmIChtZWRpYSAmJiB0eXBlb2YgbWVkaWEuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5jbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IHNlbGYuc2V0SW50ZXJ2YWwoXG4gICAgICAgIHRoaXMuY2hlY2tGUFNJbnRlcnZhbC5iaW5kKHRoaXMpLFxuICAgICAgICBjb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrRlBTKFxuICAgIHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50LFxuICAgIGRlY29kZWRGcmFtZXM6IG51bWJlcixcbiAgICBkcm9wcGVkRnJhbWVzOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgaWYgKGRlY29kZWRGcmFtZXMpIHtcbiAgICAgIGlmICh0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJpb2QgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREcm9wcGVkID0gZHJvcHBlZEZyYW1lcyAtIHRoaXMubGFzdERyb3BwZWRGcmFtZXM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREZWNvZGVkID0gZGVjb2RlZEZyYW1lcyAtIHRoaXMubGFzdERlY29kZWRGcmFtZXM7XG4gICAgICAgIGNvbnN0IGRyb3BwZWRGUFMgPSAoMTAwMCAqIGN1cnJlbnREcm9wcGVkKSAvIGN1cnJlbnRQZXJpb2Q7XG4gICAgICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuRlBTX0RST1AsIHtcbiAgICAgICAgICBjdXJyZW50RHJvcHBlZDogY3VycmVudERyb3BwZWQsXG4gICAgICAgICAgY3VycmVudERlY29kZWQ6IGN1cnJlbnREZWNvZGVkLFxuICAgICAgICAgIHRvdGFsRHJvcHBlZEZyYW1lczogZHJvcHBlZEZyYW1lcyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkcm9wcGVkRlBTID4gMCkge1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2NoZWNrRlBTIDogZHJvcHBlZEZQUy9kZWNvZGVkRlBTOicgKyBkcm9wcGVkRlBTLygxMDAwICogY3VycmVudERlY29kZWQgLyBjdXJyZW50UGVyaW9kKSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudERyb3BwZWQgPlxuICAgICAgICAgICAgaGxzLmNvbmZpZy5mcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZCAqIGN1cnJlbnREZWNvZGVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudExldmVsID0gaGxzLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAnZHJvcCBGUFMgcmF0aW8gZ3JlYXRlciB0aGFuIG1heCBhbGxvd2VkIHZhbHVlIGZvciBjdXJyZW50TGV2ZWw6ICcgK1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA+IDAgJiZcbiAgICAgICAgICAgICAgKGhscy5hdXRvTGV2ZWxDYXBwaW5nID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID49IGN1cnJlbnRMZXZlbClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBjdXJyZW50TGV2ZWwgLSAxO1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuRlBTX0RST1BfTEVWRUxfQ0FQUElORywge1xuICAgICAgICAgICAgICAgIGxldmVsOiBjdXJyZW50TGV2ZWwsXG4gICAgICAgICAgICAgICAgZHJvcHBlZExldmVsOiBobHMuY3VycmVudExldmVsLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaGxzLmF1dG9MZXZlbENhcHBpbmcgPSBjdXJyZW50TGV2ZWw7XG4gICAgICAgICAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgIHRoaXMubGFzdERyb3BwZWRGcmFtZXMgPSBkcm9wcGVkRnJhbWVzO1xuICAgICAgdGhpcy5sYXN0RGVjb2RlZEZyYW1lcyA9IGRlY29kZWRGcmFtZXM7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tGUFNJbnRlcnZhbCgpIHtcbiAgICBjb25zdCB2aWRlbyA9IHRoaXMubWVkaWE7XG4gICAgaWYgKHZpZGVvKSB7XG4gICAgICBpZiAodGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvUGxheWJhY2tRdWFsaXR5ID0gdmlkZW8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgICAgdGhpcy5jaGVja0ZQUyhcbiAgICAgICAgICB2aWRlbyxcbiAgICAgICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzLFxuICAgICAgICAgIHZpZGVvUGxheWJhY2tRdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcyxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhUTUxWaWRlb0VsZW1lbnQgZG9lc24ndCBpbmNsdWRlIHRoZSB3ZWJraXQgdHlwZXNcbiAgICAgICAgdGhpcy5jaGVja0ZQUyhcbiAgICAgICAgICB2aWRlbyxcbiAgICAgICAgICAodmlkZW8gYXMgYW55KS53ZWJraXREZWNvZGVkRnJhbWVDb3VudCBhcyBudW1iZXIsXG4gICAgICAgICAgKHZpZGVvIGFzIGFueSkud2Via2l0RHJvcHBlZEZyYW1lQ291bnQgYXMgbnVtYmVyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGUFNDb250cm9sbGVyO1xuIiwgIi8qKlxuICogQGF1dGhvciBTdGVwaGFuIEhlc3NlIDxkaXNwYXJhdEBnbWFpbC5jb20+IHwgPHRjaGFrYWJhbUBnbWFpbC5jb20+XG4gKlxuICogRFJNIHN1cHBvcnQgZm9yIEhscy5qc1xuICovXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgRXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZXRLZXlTeXN0ZW1zRm9yQ29uZmlnLFxuICBnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zLFxuICBrZXlTeXN0ZW1Eb21haW5Ub0tleVN5c3RlbUZvcm1hdCBhcyBrZXlTeXN0ZW1Ub0tleVN5c3RlbUZvcm1hdCxcbiAgS2V5U3lzdGVtRm9ybWF0cyxcbiAga2V5U3lzdGVtRm9ybWF0VG9LZXlTeXN0ZW1Eb21haW4sXG4gIEtleVN5c3RlbUlkcyxcbiAga2V5U3lzdGVtSWRUb0tleVN5c3RlbURvbWFpbixcbn0gZnJvbSAnLi4vdXRpbHMvbWVkaWFrZXlzLWhlbHBlcic7XG5pbXBvcnQge1xuICBLZXlTeXN0ZW1zLFxuICByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsXG59IGZyb20gJy4uL3V0aWxzL21lZGlha2V5cy1oZWxwZXInO1xuaW1wb3J0IHsgc3RyVG9VdGY4YXJyYXkgfSBmcm9tICcuLi91dGlscy9rZXlzeXN0ZW0tdXRpbCc7XG5pbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tICcuLi91dGlscy9udW1lcmljLWVuY29kaW5nLXV0aWxzJztcbmltcG9ydCB7IERlY3J5cHREYXRhLCBMZXZlbEtleSB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1rZXknO1xuaW1wb3J0IEhleCBmcm9tICcuLi91dGlscy9oZXgnO1xuaW1wb3J0IHsgYmluMnN0ciwgcGFyc2VQc3NoLCBwYXJzZVNpbmYgfSBmcm9tICcuLi91dGlscy9tcDQtdG9vbHMnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSB7XG4gIE1lZGlhQXR0YWNoZWREYXRhLFxuICBLZXlMb2FkZWREYXRhLFxuICBFcnJvckRhdGEsXG4gIE1hbmlmZXN0TG9hZGVkRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgRU1FQ29udHJvbGxlckNvbmZpZywgSGxzQ29uZmlnLCBMb2FkUG9saWN5IH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUge1xuICBMb2FkZXIsXG4gIExvYWRlckNhbGxiYWNrcyxcbiAgTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgTG9hZGVyQ29udGV4dCxcbn0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcblxuY29uc3QgTE9HR0VSX1BSRUZJWCA9ICdbZW1lXSc7XG5cbmludGVyZmFjZSBLZXlTeXN0ZW1BY2Nlc3NQcm9taXNlcyB7XG4gIGtleVN5c3RlbUFjY2VzczogUHJvbWlzZTxNZWRpYUtleVN5c3RlbUFjY2Vzcz47XG4gIG1lZGlhS2V5cz86IFByb21pc2U8TWVkaWFLZXlzPjtcbiAgY2VydGlmaWNhdGU/OiBQcm9taXNlPEJ1ZmZlclNvdXJjZSB8IHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQge1xuICBrZXlTeXN0ZW06IEtleVN5c3RlbXM7XG4gIG1lZGlhS2V5czogTWVkaWFLZXlzO1xuICBkZWNyeXB0ZGF0YTogTGV2ZWxLZXk7XG4gIG1lZGlhS2V5c1Nlc3Npb246IE1lZGlhS2V5U2Vzc2lvbjtcbiAga2V5U3RhdHVzOiBNZWRpYUtleVN0YXR1cztcbiAgbGljZW5zZVhocj86IFhNTEh0dHBSZXF1ZXN0O1xuICBfb25tZXNzYWdlPzogKHRoaXM6IE1lZGlhS2V5U2Vzc2lvbiwgZXY6IE1lZGlhS2V5TWVzc2FnZUV2ZW50KSA9PiBhbnk7XG4gIF9vbmtleXN0YXR1c2VzY2hhbmdlPzogKHRoaXM6IE1lZGlhS2V5U2Vzc2lvbiwgZXY6IEV2ZW50KSA9PiBhbnk7XG59XG5cbi8qKlxuICogQ29udHJvbGxlciB0byBkZWFsIHdpdGggZW5jcnlwdGVkIG1lZGlhIGV4dGVuc2lvbnMgKEVNRSlcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VuY3J5cHRlZF9NZWRpYV9FeHRlbnNpb25zX0FQSVxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEVNRUNvbnRyb2xsZXIgaW1wbGVtZW50cyBDb21wb25lbnRBUEkge1xuICBwdWJsaWMgc3RhdGljIENETUNsZWFudXBQcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGhsczogSGxzO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogRU1FQ29udHJvbGxlckNvbmZpZyAmIHtcbiAgICBsb2FkZXI6IHsgbmV3IChjb25mZzogSGxzQ29uZmlnKTogTG9hZGVyPExvYWRlckNvbnRleHQ+IH07XG4gICAgY2VydExvYWRQb2xpY3k6IExvYWRQb2xpY3k7XG4gICAga2V5TG9hZFBvbGljeTogTG9hZFBvbGljeTtcbiAgfTtcbiAgcHJpdmF0ZSBtZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGtleUZvcm1hdFByb21pc2U6IFByb21pc2U8S2V5U3lzdGVtRm9ybWF0cz4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBrZXlTeXN0ZW1BY2Nlc3NQcm9taXNlczoge1xuICAgIFtrZXlzeXN0ZW06IHN0cmluZ106IEtleVN5c3RlbUFjY2Vzc1Byb21pc2VzO1xuICB9ID0ge307XG4gIHByaXZhdGUgX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1lZGlhS2V5U2Vzc2lvbnM6IE1lZGlhS2V5U2Vzc2lvbkNvbnRleHRbXSA9IFtdO1xuICBwcml2YXRlIGtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZToge1xuICAgIFtrZXlJZDogc3RyaW5nXTogUHJvbWlzZTxNZWRpYUtleVNlc3Npb25Db250ZXh0PjtcbiAgfSA9IHt9O1xuICBwcml2YXRlIHNldE1lZGlhS2V5c1F1ZXVlOiBQcm9taXNlPHZvaWQ+W10gPSBFTUVDb250cm9sbGVyLkNETUNsZWFudXBQcm9taXNlXG4gICAgPyBbRU1FQ29udHJvbGxlci5DRE1DbGVhbnVwUHJvbWlzZV1cbiAgICA6IFtdO1xuICBwcml2YXRlIG9uTWVkaWFFbmNyeXB0ZWQgPSB0aGlzLl9vbk1lZGlhRW5jcnlwdGVkLmJpbmQodGhpcyk7XG4gIHByaXZhdGUgb25XYWl0aW5nRm9yS2V5ID0gdGhpcy5fb25XYWl0aW5nRm9yS2V5LmJpbmQodGhpcyk7XG5cbiAgcHJpdmF0ZSBkZWJ1ZzogKG1zZzogYW55KSA9PiB2b2lkID0gbG9nZ2VyLmRlYnVnLmJpbmQobG9nZ2VyLCBMT0dHRVJfUFJFRklYKTtcbiAgcHJpdmF0ZSBsb2c6IChtc2c6IGFueSkgPT4gdm9pZCA9IGxvZ2dlci5sb2cuYmluZChsb2dnZXIsIExPR0dFUl9QUkVGSVgpO1xuICBwcml2YXRlIHdhcm46IChtc2c6IGFueSkgPT4gdm9pZCA9IGxvZ2dlci53YXJuLmJpbmQobG9nZ2VyLCBMT0dHRVJfUFJFRklYKTtcbiAgcHJpdmF0ZSBlcnJvcjogKG1zZzogYW55KSA9PiB2b2lkID0gbG9nZ2VyLmVycm9yLmJpbmQobG9nZ2VyLCBMT0dHRVJfUFJFRklYKTtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLm9uTWVkaWFEZXRhY2hlZCgpO1xuICAgIC8vIFJlbW92ZSBhbnkgcmVmZXJlbmNlcyB0aGF0IGNvdWxkIGJlIGhlbGQgaW4gY29uZmlnIG9wdGlvbnMgb3IgY2FsbGJhY2tzXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgY29uZmlnLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc0Z1bmMgPSBudWxsO1xuICAgIGNvbmZpZy5saWNlbnNlWGhyU2V0dXAgPSBjb25maWcubGljZW5zZVJlc3BvbnNlQ2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgY29uZmlnLmRybVN5c3RlbXMgPSBjb25maWcuZHJtU3lzdGVtT3B0aW9ucyA9IHt9O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLmhscyA9XG4gICAgICB0aGlzLm9uTWVkaWFFbmNyeXB0ZWQgPVxuICAgICAgdGhpcy5vbldhaXRpbmdGb3JLZXkgPVxuICAgICAgdGhpcy5rZXlJZFRvS2V5U2Vzc2lvblByb21pc2UgPVxuICAgICAgICBudWxsIGFzIGFueTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5jb25maWcgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLmhscy5vbihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICB0aGlzLmhscy5vbihFdmVudHMuTUVESUFfREVUQUNIRUQsIHRoaXMub25NZWRpYURldGFjaGVkLCB0aGlzKTtcbiAgICB0aGlzLmhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgdGhpcy5obHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURFRCwgdGhpcy5vbk1hbmlmZXN0TG9hZGVkLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLmhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgdGhpcy5obHMub2ZmKEV2ZW50cy5NRURJQV9ERVRBQ0hFRCwgdGhpcy5vbk1lZGlhRGV0YWNoZWQsIHRoaXMpO1xuICAgIHRoaXMuaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgdGhpcy5obHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHRoaXMub25NYW5pZmVzdExvYWRlZCwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIGdldExpY2Vuc2VTZXJ2ZXJVcmwoa2V5U3lzdGVtOiBLZXlTeXN0ZW1zKTogc3RyaW5nIHwgbmV2ZXIge1xuICAgIGNvbnN0IHsgZHJtU3lzdGVtcywgd2lkZXZpbmVMaWNlbnNlVXJsIH0gPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBrZXlTeXN0ZW1Db25maWd1cmF0aW9uID0gZHJtU3lzdGVtc1trZXlTeXN0ZW1dO1xuXG4gICAgaWYgKGtleVN5c3RlbUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgIHJldHVybiBrZXlTeXN0ZW1Db25maWd1cmF0aW9uLmxpY2Vuc2VVcmw7XG4gICAgfVxuXG4gICAgLy8gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBpZiAoa2V5U3lzdGVtID09PSBLZXlTeXN0ZW1zLldJREVWSU5FICYmIHdpZGV2aW5lTGljZW5zZVVybCkge1xuICAgICAgcmV0dXJuIHdpZGV2aW5lTGljZW5zZVVybDtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgbm8gbGljZW5zZSBzZXJ2ZXIgVVJMIGNvbmZpZ3VyZWQgZm9yIGtleS1zeXN0ZW0gXCIke2tleVN5c3RlbX1cImAsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2VydmVyQ2VydGlmaWNhdGVVcmwoa2V5U3lzdGVtOiBLZXlTeXN0ZW1zKTogc3RyaW5nIHwgdm9pZCB7XG4gICAgY29uc3QgeyBkcm1TeXN0ZW1zIH0gPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBrZXlTeXN0ZW1Db25maWd1cmF0aW9uID0gZHJtU3lzdGVtc1trZXlTeXN0ZW1dO1xuXG4gICAgaWYgKGtleVN5c3RlbUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgIHJldHVybiBrZXlTeXN0ZW1Db25maWd1cmF0aW9uLnNlcnZlckNlcnRpZmljYXRlVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZyhgTm8gU2VydmVyIENlcnRpZmljYXRlIGluIGNvbmZpZy5kcm1TeXN0ZW1zW1wiJHtrZXlTeXN0ZW19XCJdYCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRlbXB0S2V5U3lzdGVtQWNjZXNzKFxuICAgIGtleVN5c3RlbXNUb0F0dGVtcHQ6IEtleVN5c3RlbXNbXSxcbiAgKTogUHJvbWlzZTx7IGtleVN5c3RlbTogS2V5U3lzdGVtczsgbWVkaWFLZXlzOiBNZWRpYUtleXMgfT4ge1xuICAgIGNvbnN0IGxldmVscyA9IHRoaXMuaGxzLmxldmVscztcbiAgICBjb25zdCB1bmlxdWVDb2RlYyA9ICh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpLCBhKTogdmFsdWUgaXMgc3RyaW5nID0+XG4gICAgICAhIXZhbHVlICYmIGEuaW5kZXhPZih2YWx1ZSkgPT09IGk7XG4gICAgY29uc3QgYXVkaW9Db2RlY3MgPSBsZXZlbHNcbiAgICAgIC5tYXAoKGxldmVsKSA9PiBsZXZlbC5hdWRpb0NvZGVjKVxuICAgICAgLmZpbHRlcih1bmlxdWVDb2RlYyk7XG4gICAgY29uc3QgdmlkZW9Db2RlY3MgPSBsZXZlbHNcbiAgICAgIC5tYXAoKGxldmVsKSA9PiBsZXZlbC52aWRlb0NvZGVjKVxuICAgICAgLmZpbHRlcih1bmlxdWVDb2RlYyk7XG4gICAgaWYgKGF1ZGlvQ29kZWNzLmxlbmd0aCArIHZpZGVvQ29kZWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdmlkZW9Db2RlY3MucHVzaCgnYXZjMS40MmUwMWUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgICAoXG4gICAgICAgIHJlc29sdmU6IChyZXN1bHQ6IHtcbiAgICAgICAgICBrZXlTeXN0ZW06IEtleVN5c3RlbXM7XG4gICAgICAgICAgbWVkaWFLZXlzOiBNZWRpYUtleXM7XG4gICAgICAgIH0pID0+IHZvaWQsXG4gICAgICAgIHJlamVjdDogKEVycm9yKSA9PiB2b2lkLFxuICAgICAgKSA9PiB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHQgPSAoa2V5U3lzdGVtcykgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleVN5c3RlbSA9IGtleVN5c3RlbXMuc2hpZnQoKTtcbiAgICAgICAgICB0aGlzLmdldE1lZGlhS2V5c1Byb21pc2Uoa2V5U3lzdGVtLCBhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpXG4gICAgICAgICAgICAudGhlbigobWVkaWFLZXlzKSA9PiByZXNvbHZlKHsga2V5U3lzdGVtLCBtZWRpYUtleXMgfSkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChrZXlTeXN0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGF0dGVtcHQoa2V5U3lzdGVtcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFTUVLZXlFcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgbmV3IEVNRUtleUVycm9yKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX0FDQ0VTUyxcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGF0dGVtcHQoa2V5U3lzdGVtc1RvQXR0ZW1wdCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhcbiAgICBrZXlTeXN0ZW06IEtleVN5c3RlbXMsXG4gICAgc3VwcG9ydGVkQ29uZmlndXJhdGlvbnM6IE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbltdLFxuICApOiBQcm9taXNlPE1lZGlhS2V5U3lzdGVtQWNjZXNzPiB7XG4gICAgY29uc3QgeyByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jIH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoISh0eXBlb2YgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzRnVuYyA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIGxldCBlcnJNZXNzYWdlID0gYENvbmZpZ3VyZWQgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIGlzIG5vdCBhIGZ1bmN0aW9uICR7cmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzRnVuY31gO1xuICAgICAgaWYgKFxuICAgICAgICByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPT09IG51bGwgJiZcbiAgICAgICAgc2VsZi5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHA6J1xuICAgICAgKSB7XG4gICAgICAgIGVyck1lc3NhZ2UgPSBgbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyBpcyBub3QgYXZhaWxhYmxlIG92ZXIgaW5zZWN1cmUgcHJvdG9jb2wgJHtsb2NhdGlvbi5wcm90b2NvbH1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihlcnJNZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc0Z1bmMoa2V5U3lzdGVtLCBzdXBwb3J0ZWRDb25maWd1cmF0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIGdldE1lZGlhS2V5c1Byb21pc2UoXG4gICAga2V5U3lzdGVtOiBLZXlTeXN0ZW1zLFxuICAgIGF1ZGlvQ29kZWNzOiBzdHJpbmdbXSxcbiAgICB2aWRlb0NvZGVjczogc3RyaW5nW10sXG4gICk6IFByb21pc2U8TWVkaWFLZXlzPiB7XG4gICAgLy8gVGhpcyBjYW4gdGhyb3csIGJ1dCBpcyBjYXVnaHQgaW4gZXZlbnQgaGFuZGxlciBjYWxscGF0aFxuICAgIGNvbnN0IG1lZGlhS2V5U3lzdGVtQ29uZmlncyA9IGdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMoXG4gICAgICBrZXlTeXN0ZW0sXG4gICAgICBhdWRpb0NvZGVjcyxcbiAgICAgIHZpZGVvQ29kZWNzLFxuICAgICAgdGhpcy5jb25maWcuZHJtU3lzdGVtT3B0aW9ucyxcbiAgICApO1xuICAgIGNvbnN0IGtleVN5c3RlbUFjY2Vzc1Byb21pc2VzOiBLZXlTeXN0ZW1BY2Nlc3NQcm9taXNlcyA9XG4gICAgICB0aGlzLmtleVN5c3RlbUFjY2Vzc1Byb21pc2VzW2tleVN5c3RlbV07XG4gICAgbGV0IGtleVN5c3RlbUFjY2VzcyA9IGtleVN5c3RlbUFjY2Vzc1Byb21pc2VzPy5rZXlTeXN0ZW1BY2Nlc3M7XG4gICAgaWYgKCFrZXlTeXN0ZW1BY2Nlc3MpIHtcbiAgICAgIHRoaXMubG9nKFxuICAgICAgICBgUmVxdWVzdGluZyBlbmNyeXB0ZWQgbWVkaWEgXCIke2tleVN5c3RlbX1cIiBrZXktc3lzdGVtIGFjY2VzcyB3aXRoIGNvbmZpZzogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBtZWRpYUtleVN5c3RlbUNvbmZpZ3MsXG4gICAgICAgICl9YCxcbiAgICAgICk7XG4gICAgICBrZXlTeXN0ZW1BY2Nlc3MgPSB0aGlzLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhcbiAgICAgICAga2V5U3lzdGVtLFxuICAgICAgICBtZWRpYUtleVN5c3RlbUNvbmZpZ3MsXG4gICAgICApO1xuICAgICAgY29uc3Qga2V5U3lzdGVtQWNjZXNzUHJvbWlzZXM6IEtleVN5c3RlbUFjY2Vzc1Byb21pc2VzID1cbiAgICAgICAgKHRoaXMua2V5U3lzdGVtQWNjZXNzUHJvbWlzZXNba2V5U3lzdGVtXSA9IHtcbiAgICAgICAgICBrZXlTeXN0ZW1BY2Nlc3MsXG4gICAgICAgIH0pO1xuICAgICAga2V5U3lzdGVtQWNjZXNzLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICBgRmFpbGVkIHRvIG9idGFpbiBhY2Nlc3MgdG8ga2V5LXN5c3RlbSBcIiR7a2V5U3lzdGVtfVwiOiAke2Vycm9yfWAsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBrZXlTeXN0ZW1BY2Nlc3MudGhlbigobWVkaWFLZXlTeXN0ZW1BY2Nlc3MpID0+IHtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYEFjY2VzcyBmb3Iga2V5LXN5c3RlbSBcIiR7bWVkaWFLZXlTeXN0ZW1BY2Nlc3Mua2V5U3lzdGVtfVwiIG9idGFpbmVkYCxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjZXJ0aWZpY2F0ZVJlcXVlc3QgPSB0aGlzLmZldGNoU2VydmVyQ2VydGlmaWNhdGUoa2V5U3lzdGVtKTtcblxuICAgICAgICB0aGlzLmxvZyhgQ3JlYXRlIG1lZGlhLWtleXMgZm9yIFwiJHtrZXlTeXN0ZW19XCJgKTtcbiAgICAgICAga2V5U3lzdGVtQWNjZXNzUHJvbWlzZXMubWVkaWFLZXlzID0gbWVkaWFLZXlTeXN0ZW1BY2Nlc3NcbiAgICAgICAgICAuY3JlYXRlTWVkaWFLZXlzKClcbiAgICAgICAgICAudGhlbigobWVkaWFLZXlzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZyhgTWVkaWEta2V5cyBjcmVhdGVkIGZvciBcIiR7a2V5U3lzdGVtfVwiYCk7XG4gICAgICAgICAgICByZXR1cm4gY2VydGlmaWNhdGVSZXF1ZXN0LnRoZW4oKGNlcnRpZmljYXRlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjZXJ0aWZpY2F0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE1lZGlhS2V5c1NlcnZlckNlcnRpZmljYXRlKFxuICAgICAgICAgICAgICAgICAgbWVkaWFLZXlzLFxuICAgICAgICAgICAgICAgICAga2V5U3lzdGVtLFxuICAgICAgICAgICAgICAgICAgY2VydGlmaWNhdGUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbWVkaWFLZXlzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAga2V5U3lzdGVtQWNjZXNzUHJvbWlzZXMubWVkaWFLZXlzLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMuZXJyb3IoXG4gICAgICAgICAgICBgRmFpbGVkIHRvIGNyZWF0ZSBtZWRpYS1rZXlzIGZvciBcIiR7a2V5U3lzdGVtfVwifTogJHtlcnJvcn1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBrZXlTeXN0ZW1BY2Nlc3NQcm9taXNlcy5tZWRpYUtleXM7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleVN5c3RlbUFjY2Vzcy50aGVuKCgpID0+IGtleVN5c3RlbUFjY2Vzc1Byb21pc2VzLm1lZGlhS2V5cyEpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNZWRpYUtleVNlc3Npb25Db250ZXh0KHtcbiAgICBkZWNyeXB0ZGF0YSxcbiAgICBrZXlTeXN0ZW0sXG4gICAgbWVkaWFLZXlzLFxuICB9OiB7XG4gICAgZGVjcnlwdGRhdGE6IExldmVsS2V5O1xuICAgIGtleVN5c3RlbTogS2V5U3lzdGVtcztcbiAgICBtZWRpYUtleXM6IE1lZGlhS2V5cztcbiAgfSk6IE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQge1xuICAgIHRoaXMubG9nKFxuICAgICAgYENyZWF0aW5nIGtleS1zeXN0ZW0gc2Vzc2lvbiBcIiR7a2V5U3lzdGVtfVwiIGtleUlkOiAke0hleC5oZXhEdW1wKFxuICAgICAgICBkZWNyeXB0ZGF0YS5rZXlJZCEgfHwgW10sXG4gICAgICApfWAsXG4gICAgKTtcblxuICAgIGNvbnN0IG1lZGlhS2V5c1Nlc3Npb24gPSBtZWRpYUtleXMuY3JlYXRlU2Vzc2lvbigpO1xuXG4gICAgY29uc3QgbWVkaWFLZXlTZXNzaW9uQ29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCA9IHtcbiAgICAgIGRlY3J5cHRkYXRhLFxuICAgICAga2V5U3lzdGVtLFxuICAgICAgbWVkaWFLZXlzLFxuICAgICAgbWVkaWFLZXlzU2Vzc2lvbixcbiAgICAgIGtleVN0YXR1czogJ3N0YXR1cy1wZW5kaW5nJyxcbiAgICB9O1xuXG4gICAgdGhpcy5tZWRpYUtleVNlc3Npb25zLnB1c2gobWVkaWFLZXlTZXNzaW9uQ29udGV4dCk7XG5cbiAgICByZXR1cm4gbWVkaWFLZXlTZXNzaW9uQ29udGV4dDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZXdLZXlTZXNzaW9uKG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQ6IE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQpIHtcbiAgICBjb25zdCBkZWNyeXB0ZGF0YSA9IG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQuZGVjcnlwdGRhdGE7XG4gICAgaWYgKGRlY3J5cHRkYXRhLnBzc2gpIHtcbiAgICAgIGNvbnN0IGtleVNlc3Npb25Db250ZXh0ID0gdGhpcy5jcmVhdGVNZWRpYUtleVNlc3Npb25Db250ZXh0KFxuICAgICAgICBtZWRpYUtleVNlc3Npb25Db250ZXh0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGtleUlkID0gdGhpcy5nZXRLZXlJZFN0cmluZyhkZWNyeXB0ZGF0YSk7XG4gICAgICBjb25zdCBzY2hlbWUgPSAnY2VuYyc7XG4gICAgICB0aGlzLmtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZF0gPVxuICAgICAgICB0aGlzLmdlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uKFxuICAgICAgICAgIGtleVNlc3Npb25Db250ZXh0LFxuICAgICAgICAgIHNjaGVtZSxcbiAgICAgICAgICBkZWNyeXB0ZGF0YS5wc3NoLFxuICAgICAgICAgICdleHBpcmVkJyxcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53YXJuKGBDb3VsZCBub3QgcmVuZXcgZXhwaXJlZCBzZXNzaW9uLiBNaXNzaW5nIHBzc2ggaW5pdERhdGEuYCk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlU2Vzc2lvbihtZWRpYUtleVNlc3Npb25Db250ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0S2V5SWRTdHJpbmcoZGVjcnlwdGRhdGE6IERlY3J5cHREYXRhIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgbmV2ZXIge1xuICAgIGlmICghZGVjcnlwdGRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJlYWQga2V5SWQgb2YgdW5kZWZpbmVkIGRlY3J5cHRkYXRhJyk7XG4gICAgfVxuICAgIGlmIChkZWNyeXB0ZGF0YS5rZXlJZCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdrZXlJZCBpcyBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBIZXguaGV4RHVtcChkZWNyeXB0ZGF0YS5rZXlJZCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUtleVNlc3Npb24oXG4gICAgbWVkaWFLZXlTZXNzaW9uQ29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgICBkYXRhOiBVaW50OEFycmF5LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBrZXlTZXNzaW9uID0gbWVkaWFLZXlTZXNzaW9uQ29udGV4dC5tZWRpYUtleXNTZXNzaW9uO1xuICAgIHRoaXMubG9nKFxuICAgICAgYFVwZGF0aW5nIGtleS1zZXNzaW9uIFwiJHtrZXlTZXNzaW9uLnNlc3Npb25JZH1cIiBmb3Iga2V5SUQgJHtIZXguaGV4RHVtcChcbiAgICAgICAgbWVkaWFLZXlTZXNzaW9uQ29udGV4dC5kZWNyeXB0ZGF0YT8ua2V5SWQhIHx8IFtdLFxuICAgICAgKX1cbiAgICAgIH0gKGRhdGEgbGVuZ3RoOiAke2RhdGEgPyBkYXRhLmJ5dGVMZW5ndGggOiBkYXRhfSlgLFxuICAgICk7XG4gICAgcmV0dXJuIGtleVNlc3Npb24udXBkYXRlKGRhdGEpO1xuICB9XG5cbiAgcHVibGljIHNlbGVjdEtleVN5c3RlbUZvcm1hdChmcmFnOiBGcmFnbWVudCk6IFByb21pc2U8S2V5U3lzdGVtRm9ybWF0cz4ge1xuICAgIGNvbnN0IGtleUZvcm1hdHMgPSBPYmplY3Qua2V5cyhmcmFnLmxldmVsa2V5cyB8fCB7fSkgYXMgS2V5U3lzdGVtRm9ybWF0c1tdO1xuICAgIGlmICghdGhpcy5rZXlGb3JtYXRQcm9taXNlKSB7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYFNlbGVjdGluZyBrZXktc3lzdGVtIGZyb20gZnJhZ21lbnQgKHNuOiAke2ZyYWcuc259ICR7ZnJhZy50eXBlfTogJHtcbiAgICAgICAgICBmcmFnLmxldmVsXG4gICAgICAgIH0pIGtleSBmb3JtYXRzICR7a2V5Rm9ybWF0cy5qb2luKCcsICcpfWAsXG4gICAgICApO1xuICAgICAgdGhpcy5rZXlGb3JtYXRQcm9taXNlID0gdGhpcy5nZXRLZXlGb3JtYXRQcm9taXNlKGtleUZvcm1hdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5rZXlGb3JtYXRQcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRLZXlGb3JtYXRQcm9taXNlKFxuICAgIGtleUZvcm1hdHM6IEtleVN5c3RlbUZvcm1hdHNbXSxcbiAgKTogUHJvbWlzZTxLZXlTeXN0ZW1Gb3JtYXRzPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGtleVN5c3RlbXNJbkNvbmZpZyA9IGdldEtleVN5c3RlbXNGb3JDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgY29uc3Qga2V5U3lzdGVtc1RvQXR0ZW1wdCA9IGtleUZvcm1hdHNcbiAgICAgICAgLm1hcChrZXlTeXN0ZW1Gb3JtYXRUb0tleVN5c3RlbURvbWFpbilcbiAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAodmFsdWUpID0+ICEhdmFsdWUgJiYga2V5U3lzdGVtc0luQ29uZmlnLmluZGV4T2YodmFsdWUpICE9PSAtMSxcbiAgICAgICAgKSBhcyBhbnkgYXMgS2V5U3lzdGVtc1tdO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0S2V5U3lzdGVtU2VsZWN0aW9uUHJvbWlzZShrZXlTeXN0ZW1zVG9BdHRlbXB0KVxuICAgICAgICAudGhlbigoeyBrZXlTeXN0ZW0gfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleVN5c3RlbUZvcm1hdCA9IGtleVN5c3RlbVRvS2V5U3lzdGVtRm9ybWF0KGtleVN5c3RlbSk7XG4gICAgICAgICAgaWYgKGtleVN5c3RlbUZvcm1hdCkge1xuICAgICAgICAgICAgcmVzb2x2ZShrZXlTeXN0ZW1Gb3JtYXQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgZm9ybWF0IGZvciBrZXktc3lzdGVtIFwiJHtrZXlTeXN0ZW19XCJgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBsb2FkS2V5KGRhdGE6IEtleUxvYWRlZERhdGEpOiBQcm9taXNlPE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQ+IHtcbiAgICBjb25zdCBkZWNyeXB0ZGF0YSA9IGRhdGEua2V5SW5mby5kZWNyeXB0ZGF0YTtcblxuICAgIGNvbnN0IGtleUlkID0gdGhpcy5nZXRLZXlJZFN0cmluZyhkZWNyeXB0ZGF0YSk7XG4gICAgY29uc3Qga2V5RGV0YWlscyA9IGAoa2V5SWQ6ICR7a2V5SWR9IGZvcm1hdDogXCIke2RlY3J5cHRkYXRhLmtleUZvcm1hdH1cIiBtZXRob2Q6ICR7ZGVjcnlwdGRhdGEubWV0aG9kfSB1cmk6ICR7ZGVjcnlwdGRhdGEudXJpfSlgO1xuXG4gICAgdGhpcy5sb2coYFN0YXJ0aW5nIHNlc3Npb24gZm9yIGtleSAke2tleURldGFpbHN9YCk7XG5cbiAgICBsZXQga2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlID0gdGhpcy5rZXlJZFRvS2V5U2Vzc2lvblByb21pc2Vba2V5SWRdO1xuICAgIGlmICgha2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlKSB7XG4gICAgICBrZXlTZXNzaW9uQ29udGV4dFByb21pc2UgPSB0aGlzLmtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZF0gPVxuICAgICAgICB0aGlzLmdldEtleVN5c3RlbUZvcktleVByb21pc2UoZGVjcnlwdGRhdGEpLnRoZW4oXG4gICAgICAgICAgKHsga2V5U3lzdGVtLCBtZWRpYUtleXMgfSkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgYEhhbmRsZSBlbmNyeXB0ZWQgbWVkaWEgc246ICR7ZGF0YS5mcmFnLnNufSAke2RhdGEuZnJhZy50eXBlfTogJHtkYXRhLmZyYWcubGV2ZWx9IHVzaW5nIGtleSAke2tleURldGFpbHN9YCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGVtcHRTZXRNZWRpYUtleXMoa2V5U3lzdGVtLCBtZWRpYUtleXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgICAgICAgY29uc3Qga2V5U2Vzc2lvbkNvbnRleHQgPSB0aGlzLmNyZWF0ZU1lZGlhS2V5U2Vzc2lvbkNvbnRleHQoe1xuICAgICAgICAgICAgICAgIGtleVN5c3RlbSxcbiAgICAgICAgICAgICAgICBtZWRpYUtleXMsXG4gICAgICAgICAgICAgICAgZGVjcnlwdGRhdGEsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCBzY2hlbWUgPSAnY2VuYyc7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uKFxuICAgICAgICAgICAgICAgIGtleVNlc3Npb25Db250ZXh0LFxuICAgICAgICAgICAgICAgIHNjaGVtZSxcbiAgICAgICAgICAgICAgICBkZWNyeXB0ZGF0YS5wc3NoLFxuICAgICAgICAgICAgICAgICdwbGF5bGlzdC1rZXknLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAga2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlLmNhdGNoKChlcnJvcikgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcikpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlTZXNzaW9uQ29udGV4dFByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIHRocm93SWZEZXN0cm95ZWQobWVzc2FnZSA9ICdJbnZhbGlkIHN0YXRlJyk6IHZvaWQgfCBuZXZlciB7XG4gICAgaWYgKCF0aGlzLmhscykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN0YXRlJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogRU1FS2V5RXJyb3IgfCBFcnJvcikge1xuICAgIGlmICghdGhpcy5obHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFTUVLZXlFcnJvcikge1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuRVJST1IsIGVycm9yLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX0tFWVMsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0S2V5U3lzdGVtRm9yS2V5UHJvbWlzZShcbiAgICBkZWNyeXB0ZGF0YTogTGV2ZWxLZXksXG4gICk6IFByb21pc2U8eyBrZXlTeXN0ZW06IEtleVN5c3RlbXM7IG1lZGlhS2V5czogTWVkaWFLZXlzIH0+IHtcbiAgICBjb25zdCBrZXlJZCA9IHRoaXMuZ2V0S2V5SWRTdHJpbmcoZGVjcnlwdGRhdGEpO1xuICAgIGNvbnN0IG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQgPSB0aGlzLmtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZF07XG4gICAgaWYgKCFtZWRpYUtleVNlc3Npb25Db250ZXh0KSB7XG4gICAgICBjb25zdCBrZXlTeXN0ZW0gPSBrZXlTeXN0ZW1Gb3JtYXRUb0tleVN5c3RlbURvbWFpbihcbiAgICAgICAgZGVjcnlwdGRhdGEua2V5Rm9ybWF0IGFzIEtleVN5c3RlbUZvcm1hdHMsXG4gICAgICApO1xuICAgICAgY29uc3Qga2V5U3lzdGVtc1RvQXR0ZW1wdCA9IGtleVN5c3RlbVxuICAgICAgICA/IFtrZXlTeXN0ZW1dXG4gICAgICAgIDogZ2V0S2V5U3lzdGVtc0ZvckNvbmZpZyh0aGlzLmNvbmZpZyk7XG4gICAgICByZXR1cm4gdGhpcy5hdHRlbXB0S2V5U3lzdGVtQWNjZXNzKGtleVN5c3RlbXNUb0F0dGVtcHQpO1xuICAgIH1cbiAgICByZXR1cm4gbWVkaWFLZXlTZXNzaW9uQ29udGV4dDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0S2V5U3lzdGVtU2VsZWN0aW9uUHJvbWlzZShcbiAgICBrZXlTeXN0ZW1zVG9BdHRlbXB0OiBLZXlTeXN0ZW1zW10sXG4gICk6IFByb21pc2U8eyBrZXlTeXN0ZW06IEtleVN5c3RlbXM7IG1lZGlhS2V5czogTWVkaWFLZXlzIH0+IHwgbmV2ZXIge1xuICAgIGlmICgha2V5U3lzdGVtc1RvQXR0ZW1wdC5sZW5ndGgpIHtcbiAgICAgIGtleVN5c3RlbXNUb0F0dGVtcHQgPSBnZXRLZXlTeXN0ZW1zRm9yQ29uZmlnKHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgaWYgKGtleVN5c3RlbXNUb0F0dGVtcHQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRU1FS2V5RXJyb3IoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fTk9fQ09ORklHVVJFRF9MSUNFTlNFLFxuICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBgTWlzc2luZyBrZXktc3lzdGVtIGxpY2Vuc2UgY29uZmlndXJhdGlvbiBvcHRpb25zICR7SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRybVN5c3RlbXM6IHRoaXMuY29uZmlnLmRybVN5c3RlbXMsXG4gICAgICAgIH0pfWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hdHRlbXB0S2V5U3lzdGVtQWNjZXNzKGtleVN5c3RlbXNUb0F0dGVtcHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb25NZWRpYUVuY3J5cHRlZChldmVudDogTWVkaWFFbmNyeXB0ZWRFdmVudCkge1xuICAgIGNvbnN0IHsgaW5pdERhdGFUeXBlLCBpbml0RGF0YSB9ID0gZXZlbnQ7XG4gICAgdGhpcy5kZWJ1ZyhgXCIke2V2ZW50LnR5cGV9XCIgZXZlbnQ6IGluaXQgZGF0YSB0eXBlOiBcIiR7aW5pdERhdGFUeXBlfVwiYCk7XG5cbiAgICAvLyBJZ25vcmUgZXZlbnQgd2hlbiBpbml0RGF0YSBpcyBudWxsXG4gICAgaWYgKGluaXREYXRhID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGtleUlkOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkO1xuICAgIGxldCBrZXlTeXN0ZW1Eb21haW46IEtleVN5c3RlbXMgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoXG4gICAgICBpbml0RGF0YVR5cGUgPT09ICdzaW5mJyAmJlxuICAgICAgdGhpcy5jb25maWcuZHJtU3lzdGVtc1tLZXlTeXN0ZW1zLkZBSVJQTEFZXVxuICAgICkge1xuICAgICAgLy8gTWF0Y2ggc2luZiBrZXlJZCB0byBwbGF5bGlzdCBza2Q6Ly9rZXlJZD1cbiAgICAgIGNvbnN0IGpzb24gPSBiaW4yc3RyKG5ldyBVaW50OEFycmF5KGluaXREYXRhKSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzaW5mID0gYmFzZTY0RGVjb2RlKEpTT04ucGFyc2UoanNvbikuc2luZik7XG4gICAgICAgIGNvbnN0IHRlbmMgPSBwYXJzZVNpbmYobmV3IFVpbnQ4QXJyYXkoc2luZikpO1xuICAgICAgICBpZiAoIXRlbmMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAga2V5SWQgPSB0ZW5jLnN1YmFycmF5KDgsIDI0KTtcbiAgICAgICAga2V5U3lzdGVtRG9tYWluID0gS2V5U3lzdGVtcy5GQUlSUExBWTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMud2FybignRmFpbGVkIHRvIHBhcnNlIHNpbmYgXCJlbmNyeXB0ZWRcIiBldmVudCBtZXNzYWdlIGluaXREYXRhJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3VwcG9ydCBjbGVhci1sZWFkIGtleS1zZXNzaW9uIGNyZWF0aW9uIChvdGhlcndpc2UgZGVwZW5kIG9uIHBsYXlsaXN0IGtleXMpXG4gICAgICBjb25zdCBwc3NoSW5mbyA9IHBhcnNlUHNzaChpbml0RGF0YSk7XG4gICAgICBpZiAocHNzaEluZm8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBwc3NoSW5mby52ZXJzaW9uID09PSAwICYmXG4gICAgICAgIHBzc2hJbmZvLnN5c3RlbUlkID09PSBLZXlTeXN0ZW1JZHMuV0lERVZJTkUgJiZcbiAgICAgICAgcHNzaEluZm8uZGF0YVxuICAgICAgKSB7XG4gICAgICAgIGtleUlkID0gcHNzaEluZm8uZGF0YS5zdWJhcnJheSg4LCAyNCk7XG4gICAgICB9XG4gICAgICBrZXlTeXN0ZW1Eb21haW4gPSBrZXlTeXN0ZW1JZFRvS2V5U3lzdGVtRG9tYWluKFxuICAgICAgICBwc3NoSW5mby5zeXN0ZW1JZCBhcyBLZXlTeXN0ZW1JZHMsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICgha2V5U3lzdGVtRG9tYWluIHx8ICFrZXlJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGtleUlkSGV4ID0gSGV4LmhleER1bXAoa2V5SWQpO1xuICAgIGNvbnN0IHsga2V5SWRUb0tleVNlc3Npb25Qcm9taXNlLCBtZWRpYUtleVNlc3Npb25zIH0gPSB0aGlzO1xuXG4gICAgbGV0IGtleVNlc3Npb25Db250ZXh0UHJvbWlzZSA9IGtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZEhleF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYUtleVNlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBNYXRjaCBwbGF5bGlzdCBrZXlcbiAgICAgIGNvbnN0IGtleUNvbnRleHQgPSBtZWRpYUtleVNlc3Npb25zW2ldO1xuICAgICAgY29uc3QgZGVjcnlwdGRhdGEgPSBrZXlDb250ZXh0LmRlY3J5cHRkYXRhO1xuICAgICAgaWYgKGRlY3J5cHRkYXRhLnBzc2ggfHwgIWRlY3J5cHRkYXRhLmtleUlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2xkS2V5SWRIZXggPSBIZXguaGV4RHVtcChkZWNyeXB0ZGF0YS5rZXlJZCk7XG4gICAgICBpZiAoXG4gICAgICAgIGtleUlkSGV4ID09PSBvbGRLZXlJZEhleCB8fFxuICAgICAgICBkZWNyeXB0ZGF0YS51cmkucmVwbGFjZSgvLS9nLCAnJykuaW5kZXhPZihrZXlJZEhleCkgIT09IC0xXG4gICAgICApIHtcbiAgICAgICAga2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlID0ga2V5SWRUb0tleVNlc3Npb25Qcm9taXNlW29sZEtleUlkSGV4XTtcbiAgICAgICAgZGVsZXRlIGtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtvbGRLZXlJZEhleF07XG4gICAgICAgIGRlY3J5cHRkYXRhLnBzc2ggPSBuZXcgVWludDhBcnJheShpbml0RGF0YSk7XG4gICAgICAgIGRlY3J5cHRkYXRhLmtleUlkID0ga2V5SWQ7XG4gICAgICAgIGtleVNlc3Npb25Db250ZXh0UHJvbWlzZSA9IGtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZEhleF0gPVxuICAgICAgICAgIGtleVNlc3Npb25Db250ZXh0UHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uKFxuICAgICAgICAgICAgICBrZXlDb250ZXh0LFxuICAgICAgICAgICAgICBpbml0RGF0YVR5cGUsXG4gICAgICAgICAgICAgIGluaXREYXRhLFxuICAgICAgICAgICAgICAnZW5jcnlwdGVkLWV2ZW50LWtleS1tYXRjaCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWtleVNlc3Npb25Db250ZXh0UHJvbWlzZSkge1xuICAgICAgLy8gQ2xlYXItbGVhZCBrZXkgKG5vdCBlbmNvdW50ZXJlZCBpbiBwbGF5bGlzdClcbiAgICAgIGtleVNlc3Npb25Db250ZXh0UHJvbWlzZSA9IGtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZVtrZXlJZEhleF0gPVxuICAgICAgICB0aGlzLmdldEtleVN5c3RlbVNlbGVjdGlvblByb21pc2UoW2tleVN5c3RlbURvbWFpbl0pLnRoZW4oXG4gICAgICAgICAgKHsga2V5U3lzdGVtLCBtZWRpYUtleXMgfSkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgICAgICAgICBjb25zdCBkZWNyeXB0ZGF0YSA9IG5ldyBMZXZlbEtleShcbiAgICAgICAgICAgICAgJ0lTTy0yMzAwMS03JyxcbiAgICAgICAgICAgICAga2V5SWRIZXgsXG4gICAgICAgICAgICAgIGtleVN5c3RlbVRvS2V5U3lzdGVtRm9ybWF0KGtleVN5c3RlbSkgPz8gJycsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVjcnlwdGRhdGEucHNzaCA9IG5ldyBVaW50OEFycmF5KGluaXREYXRhKTtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhLmtleUlkID0ga2V5SWQgYXMgVWludDhBcnJheTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGVtcHRTZXRNZWRpYUtleXMoa2V5U3lzdGVtLCBtZWRpYUtleXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgICAgICAgY29uc3Qga2V5U2Vzc2lvbkNvbnRleHQgPSB0aGlzLmNyZWF0ZU1lZGlhS2V5U2Vzc2lvbkNvbnRleHQoe1xuICAgICAgICAgICAgICAgIGRlY3J5cHRkYXRhLFxuICAgICAgICAgICAgICAgIGtleVN5c3RlbSxcbiAgICAgICAgICAgICAgICBtZWRpYUtleXMsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlcXVlc3RXaXRoUHJlZmVycmVkS2V5U2Vzc2lvbihcbiAgICAgICAgICAgICAgICBrZXlTZXNzaW9uQ29udGV4dCxcbiAgICAgICAgICAgICAgICBpbml0RGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgaW5pdERhdGEsXG4gICAgICAgICAgICAgICAgJ2VuY3J5cHRlZC1ldmVudC1uby1tYXRjaCcsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cbiAgICBrZXlTZXNzaW9uQ29udGV4dFByb21pc2UuY2F0Y2goKGVycm9yKSA9PiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKSk7XG4gIH1cblxuICBwcml2YXRlIF9vbldhaXRpbmdGb3JLZXkoZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5sb2coYFwiJHtldmVudC50eXBlfVwiIGV2ZW50YCk7XG4gIH1cblxuICBwcml2YXRlIGF0dGVtcHRTZXRNZWRpYUtleXMoXG4gICAga2V5U3lzdGVtOiBLZXlTeXN0ZW1zLFxuICAgIG1lZGlhS2V5czogTWVkaWFLZXlzLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMuc2V0TWVkaWFLZXlzUXVldWUuc2xpY2UoKTtcblxuICAgIHRoaXMubG9nKGBTZXR0aW5nIG1lZGlhLWtleXMgZm9yIFwiJHtrZXlTeXN0ZW19XCJgKTtcbiAgICAvLyBPbmx5IG9uZSBzZXRNZWRpYUtleXMoKSBjYW4gcnVuIGF0IG9uZSB0aW1lLCBhbmQgbXVsdGlwbGUgc2V0TWVkaWFLZXlzKCkgb3BlcmF0aW9uc1xuICAgIC8vIGNhbiBiZSBxdWV1ZWQgZm9yIGV4ZWN1dGlvbiBmb3IgbXVsdGlwbGUga2V5IHNlc3Npb25zLlxuICAgIGNvbnN0IHNldE1lZGlhS2V5c1Byb21pc2UgPSBQcm9taXNlLmFsbChxdWV1ZSkudGhlbigoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdBdHRlbXB0ZWQgdG8gc2V0IG1lZGlhS2V5cyB3aXRob3V0IG1lZGlhIGVsZW1lbnQgYXR0YWNoZWQnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubWVkaWEuc2V0TWVkaWFLZXlzKG1lZGlhS2V5cyk7XG4gICAgfSk7XG4gICAgdGhpcy5zZXRNZWRpYUtleXNRdWV1ZS5wdXNoKHNldE1lZGlhS2V5c1Byb21pc2UpO1xuICAgIHJldHVybiBzZXRNZWRpYUtleXNQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5sb2coYE1lZGlhLWtleXMgc2V0IGZvciBcIiR7a2V5U3lzdGVtfVwiYCk7XG4gICAgICBxdWV1ZS5wdXNoKHNldE1lZGlhS2V5c1Byb21pc2UhKTtcbiAgICAgIHRoaXMuc2V0TWVkaWFLZXlzUXVldWUgPSB0aGlzLnNldE1lZGlhS2V5c1F1ZXVlLmZpbHRlcihcbiAgICAgICAgKHApID0+IHF1ZXVlLmluZGV4T2YocCkgPT09IC0xLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24oXG4gICAgY29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgICBpbml0RGF0YVR5cGU6IHN0cmluZyxcbiAgICBpbml0RGF0YTogQXJyYXlCdWZmZXIgfCBudWxsLFxuICAgIHJlYXNvbjpcbiAgICAgIHwgJ3BsYXlsaXN0LWtleSdcbiAgICAgIHwgJ2VuY3J5cHRlZC1ldmVudC1rZXktbWF0Y2gnXG4gICAgICB8ICdlbmNyeXB0ZWQtZXZlbnQtbm8tbWF0Y2gnXG4gICAgICB8ICdleHBpcmVkJyxcbiAgKTogUHJvbWlzZTxNZWRpYUtleVNlc3Npb25Db250ZXh0PiB8IG5ldmVyIHtcbiAgICBjb25zdCBnZW5lcmF0ZVJlcXVlc3RGaWx0ZXIgPVxuICAgICAgdGhpcy5jb25maWcuZHJtU3lzdGVtcz8uW2NvbnRleHQua2V5U3lzdGVtXT8uZ2VuZXJhdGVSZXF1ZXN0O1xuICAgIGlmIChnZW5lcmF0ZVJlcXVlc3RGaWx0ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZEluaXREYXRhOiBSZXR1cm5UeXBlPHR5cGVvZiBnZW5lcmF0ZVJlcXVlc3RGaWx0ZXI+ID1cbiAgICAgICAgICBnZW5lcmF0ZVJlcXVlc3RGaWx0ZXIuY2FsbCh0aGlzLmhscywgaW5pdERhdGFUeXBlLCBpbml0RGF0YSwgY29udGV4dCk7XG4gICAgICAgIGlmICghbWFwcGVkSW5pdERhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnSW52YWxpZCByZXNwb25zZSBmcm9tIGNvbmZpZ3VyZWQgZ2VuZXJhdGVSZXF1ZXN0IGZpbHRlcicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0RGF0YVR5cGUgPSBtYXBwZWRJbml0RGF0YS5pbml0RGF0YVR5cGU7XG4gICAgICAgIGluaXREYXRhID0gY29udGV4dC5kZWNyeXB0ZGF0YS5wc3NoID0gbWFwcGVkSW5pdERhdGEuaW5pdERhdGFcbiAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KG1hcHBlZEluaXREYXRhLmluaXREYXRhKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMud2FybihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaGxzPy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbml0RGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5sb2coYFNraXBwaW5nIGtleS1zZXNzaW9uIHJlcXVlc3QgZm9yIFwiJHtyZWFzb259XCIgKG5vIGluaXREYXRhKWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlJZCA9IHRoaXMuZ2V0S2V5SWRTdHJpbmcoY29udGV4dC5kZWNyeXB0ZGF0YSk7XG4gICAgdGhpcy5sb2coXG4gICAgICBgR2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0IGZvciBcIiR7cmVhc29ufVwiOiAke2tleUlkfSAoaW5pdCBkYXRhIHR5cGU6ICR7aW5pdERhdGFUeXBlfSBsZW5ndGg6ICR7XG4gICAgICAgIGluaXREYXRhID8gaW5pdERhdGEuYnl0ZUxlbmd0aCA6IG51bGxcbiAgICAgIH0pYCxcbiAgICApO1xuXG4gICAgY29uc3QgbGljZW5zZVN0YXR1cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIGNvbnN0IG9ubWVzc2FnZSA9IChjb250ZXh0Ll9vbm1lc3NhZ2UgPSAoZXZlbnQ6IE1lZGlhS2V5TWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBrZXlTZXNzaW9uID0gY29udGV4dC5tZWRpYUtleXNTZXNzaW9uO1xuICAgICAgaWYgKCFrZXlTZXNzaW9uKSB7XG4gICAgICAgIGxpY2Vuc2VTdGF0dXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ2ludmFsaWQgc3RhdGUnKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgbWVzc2FnZVR5cGUsIG1lc3NhZ2UgfSA9IGV2ZW50O1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBcIiR7bWVzc2FnZVR5cGV9XCIgbWVzc2FnZSBldmVudCBmb3Igc2Vzc2lvbiBcIiR7a2V5U2Vzc2lvbi5zZXNzaW9uSWR9XCIgbWVzc2FnZSBzaXplOiAke21lc3NhZ2UuYnl0ZUxlbmd0aH1gLFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbWVzc2FnZVR5cGUgPT09ICdsaWNlbnNlLXJlcXVlc3QnIHx8XG4gICAgICAgIG1lc3NhZ2VUeXBlID09PSAnbGljZW5zZS1yZW5ld2FsJ1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVuZXdMaWNlbnNlKGNvbnRleHQsIG1lc3NhZ2UpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgIGxpY2Vuc2VTdGF0dXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlVHlwZSA9PT0gJ2xpY2Vuc2UtcmVsZWFzZScpIHtcbiAgICAgICAgaWYgKGNvbnRleHQua2V5U3lzdGVtID09PSBLZXlTeXN0ZW1zLkZBSVJQTEFZKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVLZXlTZXNzaW9uKGNvbnRleHQsIHN0clRvVXRmOGFycmF5KCdhY2tub3dsZWRnZWQnKSk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVTZXNzaW9uKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndhcm4oYHVuaGFuZGxlZCBtZWRpYSBrZXkgbWVzc2FnZSB0eXBlIFwiJHttZXNzYWdlVHlwZX1cImApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgb25rZXlzdGF0dXNlc2NoYW5nZSA9IChjb250ZXh0Ll9vbmtleXN0YXR1c2VzY2hhbmdlID0gKFxuICAgICAgZXZlbnQ6IEV2ZW50LFxuICAgICkgPT4ge1xuICAgICAgY29uc3Qga2V5U2Vzc2lvbiA9IGNvbnRleHQubWVkaWFLZXlzU2Vzc2lvbjtcbiAgICAgIGlmICgha2V5U2Vzc2lvbikge1xuICAgICAgICBsaWNlbnNlU3RhdHVzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdpbnZhbGlkIHN0YXRlJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLm9uS2V5U3RhdHVzQ2hhbmdlKGNvbnRleHQpO1xuICAgICAgY29uc3Qga2V5U3RhdHVzID0gY29udGV4dC5rZXlTdGF0dXM7XG4gICAgICBsaWNlbnNlU3RhdHVzLmVtaXQoJ2tleVN0YXR1cycsIGtleVN0YXR1cyk7XG4gICAgICBpZiAoa2V5U3RhdHVzID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgdGhpcy53YXJuKGAke2NvbnRleHQua2V5U3lzdGVtfSBleHBpcmVkIGZvciBrZXkgJHtrZXlJZH1gKTtcbiAgICAgICAgdGhpcy5yZW5ld0tleVNlc3Npb24oY29udGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb250ZXh0Lm1lZGlhS2V5c1Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9ubWVzc2FnZSk7XG4gICAgY29udGV4dC5tZWRpYUtleXNTZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAna2V5c3RhdHVzZXNjaGFuZ2UnLFxuICAgICAgb25rZXlzdGF0dXNlc2NoYW5nZSxcbiAgICApO1xuXG4gICAgY29uc3Qga2V5VXNhYmxlUHJvbWlzZSA9IG5ldyBQcm9taXNlKFxuICAgICAgKHJlc29sdmU6ICh2YWx1ZT86IHZvaWQpID0+IHZvaWQsIHJlamVjdCkgPT4ge1xuICAgICAgICBsaWNlbnNlU3RhdHVzLm9uKCdlcnJvcicsIHJlamVjdCk7XG5cbiAgICAgICAgbGljZW5zZVN0YXR1cy5vbigna2V5U3RhdHVzJywgKGtleVN0YXR1cykgPT4ge1xuICAgICAgICAgIGlmIChrZXlTdGF0dXMuc3RhcnRzV2l0aCgndXNhYmxlJykpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtleVN0YXR1cyA9PT0gJ291dHB1dC1yZXN0cmljdGVkJykge1xuICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgRU1FS2V5RXJyb3IoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU1RBVFVTX09VVFBVVF9SRVNUUklDVEVELFxuICAgICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ0hEQ1AgbGV2ZWwgb3V0cHV0IHJlc3RyaWN0ZWQnLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtleVN0YXR1cyA9PT0gJ2ludGVybmFsLWVycm9yJykge1xuICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgRU1FS2V5RXJyb3IoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU1RBVFVTX0lOVEVSTkFMX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBga2V5IHN0YXR1cyBjaGFuZ2VkIHRvIFwiJHtrZXlTdGF0dXN9XCJgLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtleVN0YXR1cyA9PT0gJ2V4cGlyZWQnKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdrZXkgZXhwaXJlZCB3aGlsZSBnZW5lcmF0aW5nIHJlcXVlc3QnKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2FybihgdW5oYW5kbGVkIGtleSBzdGF0dXMgY2hhbmdlIFwiJHtrZXlTdGF0dXN9XCJgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGNvbnRleHQubWVkaWFLZXlzU2Vzc2lvblxuICAgICAgLmdlbmVyYXRlUmVxdWVzdChpbml0RGF0YVR5cGUsIGluaXREYXRhKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICBgUmVxdWVzdCBnZW5lcmF0ZWQgZm9yIGtleS1zZXNzaW9uIFwiJHtjb250ZXh0Lm1lZGlhS2V5c1Nlc3Npb24/LnNlc3Npb25JZH1cIiBrZXlJZDogJHtrZXlJZH1gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVNRUtleUVycm9yKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGBFcnJvciBnZW5lcmF0aW5nIGtleS1zZXNzaW9uIHJlcXVlc3Q6ICR7ZXJyb3J9YCxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiBrZXlVc2FibGVQcm9taXNlKVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBsaWNlbnNlU3RhdHVzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbW92ZVNlc3Npb24oY29udGV4dCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgbGljZW5zZVN0YXR1cy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25LZXlTdGF0dXNDaGFuZ2UobWVkaWFLZXlTZXNzaW9uQ29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCkge1xuICAgIG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQubWVkaWFLZXlzU2Vzc2lvbi5rZXlTdGF0dXNlcy5mb3JFYWNoKFxuICAgICAgKHN0YXR1czogTWVkaWFLZXlTdGF0dXMsIGtleUlkOiBCdWZmZXJTb3VyY2UpID0+IHtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYGtleSBzdGF0dXMgY2hhbmdlIFwiJHtzdGF0dXN9XCIgZm9yIGtleVN0YXR1c2VzIGtleUlkOiAke0hleC5oZXhEdW1wKFxuICAgICAgICAgICAgJ2J1ZmZlcicgaW4ga2V5SWRcbiAgICAgICAgICAgICAgPyBuZXcgVWludDhBcnJheShrZXlJZC5idWZmZXIsIGtleUlkLmJ5dGVPZmZzZXQsIGtleUlkLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoa2V5SWQpLFxuICAgICAgICAgICl9IHNlc3Npb24ga2V5SWQ6ICR7SGV4LmhleER1bXAoXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheShtZWRpYUtleVNlc3Npb25Db250ZXh0LmRlY3J5cHRkYXRhLmtleUlkIHx8IFtdKSxcbiAgICAgICAgICApfSB1cmk6ICR7bWVkaWFLZXlTZXNzaW9uQ29udGV4dC5kZWNyeXB0ZGF0YS51cml9YCxcbiAgICAgICAgKTtcbiAgICAgICAgbWVkaWFLZXlTZXNzaW9uQ29udGV4dC5rZXlTdGF0dXMgPSBzdGF0dXM7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZldGNoU2VydmVyQ2VydGlmaWNhdGUoXG4gICAga2V5U3lzdGVtOiBLZXlTeXN0ZW1zLFxuICApOiBQcm9taXNlPEJ1ZmZlclNvdXJjZSB8IHZvaWQ+IHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgIGNvbnN0IGNlcnRMb2FkZXIgPSBuZXcgTG9hZGVyKGNvbmZpZyBhcyBIbHNDb25maWcpIGFzIExvYWRlcjxMb2FkZXJDb250ZXh0PjtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmdldFNlcnZlckNlcnRpZmljYXRlVXJsKGtleVN5c3RlbSk7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdGhpcy5sb2coYEZldGNoaW5nIHNlcnZlciBjZXJ0aWZpY2F0ZSBmb3IgXCIke2tleVN5c3RlbX1cImApO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBsb2FkZXJDb250ZXh0OiBMb2FkZXJDb250ZXh0ID0ge1xuICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsXG4gICAgICAgIHVybCxcbiAgICAgIH07XG4gICAgICBjb25zdCBsb2FkUG9saWN5ID0gY29uZmlnLmNlcnRMb2FkUG9saWN5LmRlZmF1bHQ7XG4gICAgICBjb25zdCBsb2FkZXJDb25maWc6IExvYWRlckNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIGxvYWRQb2xpY3ksXG4gICAgICAgIHRpbWVvdXQ6IGxvYWRQb2xpY3kubWF4TG9hZFRpbWVNcyxcbiAgICAgICAgbWF4UmV0cnk6IDAsXG4gICAgICAgIHJldHJ5RGVsYXk6IDAsXG4gICAgICAgIG1heFJldHJ5RGVsYXk6IDAsXG4gICAgICB9O1xuICAgICAgY29uc3QgbG9hZGVyQ2FsbGJhY2tzOiBMb2FkZXJDYWxsYmFja3M8TG9hZGVyQ29udGV4dD4gPSB7XG4gICAgICAgIG9uU3VjY2VzczogKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEgYXMgQXJyYXlCdWZmZXIpO1xuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAocmVzcG9uc2UsIGNvbnRleCwgbmV0d29ya0RldGFpbHMsIHN0YXRzKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgbmV3IEVNRUtleUVycm9yKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6XG4gICAgICAgICAgICAgICAgICBFcnJvckRldGFpbHMuS0VZX1NZU1RFTV9TRVJWRVJfQ0VSVElGSUNBVEVfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgIHVybDogbG9hZGVyQ29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBgXCIke2tleVN5c3RlbX1cIiBjZXJ0aWZpY2F0ZSByZXF1ZXN0IGZhaWxlZCAoJHt1cmx9KS4gU3RhdHVzOiAke3Jlc3BvbnNlLmNvZGV9ICgke3Jlc3BvbnNlLnRleHR9KWAsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVGltZW91dDogKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykgPT4ge1xuICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBFTUVLZXlFcnJvcihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOlxuICAgICAgICAgICAgICAgICAgRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU0VSVkVSX0NFUlRJRklDQVRFX1JFUVVFU1RfRkFJTEVELFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICB1cmw6IGxvYWRlckNvbnRleHQudXJsLFxuICAgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGBcIiR7a2V5U3lzdGVtfVwiIGNlcnRpZmljYXRlIHJlcXVlc3QgdGltZWQgb3V0ICgke3VybH0pYCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BYm9ydDogKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2Fib3J0ZWQnKSk7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgY2VydExvYWRlci5sb2FkKGxvYWRlckNvbnRleHQsIGxvYWRlckNvbmZpZywgbG9hZGVyQ2FsbGJhY2tzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0TWVkaWFLZXlzU2VydmVyQ2VydGlmaWNhdGUoXG4gICAgbWVkaWFLZXlzOiBNZWRpYUtleXMsXG4gICAga2V5U3lzdGVtOiBLZXlTeXN0ZW1zLFxuICAgIGNlcnQ6IEJ1ZmZlclNvdXJjZSxcbiAgKTogUHJvbWlzZTxNZWRpYUtleXM+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbWVkaWFLZXlzXG4gICAgICAgIC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZShjZXJ0KVxuICAgICAgICAudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgYHNldFNlcnZlckNlcnRpZmljYXRlICR7XG4gICAgICAgICAgICAgIHN1Y2Nlc3MgPyAnc3VjY2VzcycgOiAnbm90IHN1cHBvcnRlZCBieSBDRE0nXG4gICAgICAgICAgICB9ICgke2NlcnQ/LmJ5dGVMZW5ndGh9KSBvbiBcIiR7a2V5U3lzdGVtfVwiYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc29sdmUobWVkaWFLZXlzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBFTUVLZXlFcnJvcihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOlxuICAgICAgICAgICAgICAgICAgRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU0VSVkVSX0NFUlRJRklDQVRFX1VQREFURV9GQUlMRUQsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5ld0xpY2Vuc2UoXG4gICAgY29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgICBrZXlNZXNzYWdlOiBBcnJheUJ1ZmZlcixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdExpY2Vuc2UoY29udGV4dCwgbmV3IFVpbnQ4QXJyYXkoa2V5TWVzc2FnZSkpLnRoZW4oXG4gICAgICAoZGF0YTogQXJyYXlCdWZmZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlS2V5U2Vzc2lvbihjb250ZXh0LCBuZXcgVWludDhBcnJheShkYXRhKSkuY2F0Y2goXG4gICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRU1FS2V5RXJyb3IoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fU0VTU0lPTl9VUERBVEVfRkFJTEVELFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnBhY2tQbGF5UmVhZHlLZXlNZXNzYWdlKFxuICAgIHhocjogWE1MSHR0cFJlcXVlc3QsXG4gICAgbGljZW5zZUNoYWxsZW5nZTogVWludDhBcnJheSxcbiAgKTogVWludDhBcnJheSB7XG4gICAgLy8gT24gRWRnZSwgdGhlIHJhdyBsaWNlbnNlIG1lc3NhZ2UgaXMgVVRGLTE2LWVuY29kZWQgWE1MLiAgV2UgbmVlZFxuICAgIC8vIHRvIHVucGFjayB0aGUgQ2hhbGxlbmdlIGVsZW1lbnQgKGJhc2U2NC1lbmNvZGVkIHN0cmluZyBjb250YWluaW5nIHRoZVxuICAgIC8vIGFjdHVhbCBsaWNlbnNlIHJlcXVlc3QpIGFuZCBhbnkgSHR0cEhlYWRlciBlbGVtZW50cyAoc2VudCBhcyByZXF1ZXN0XG4gICAgLy8gaGVhZGVycykuXG4gICAgLy8gRm9yIFBsYXlSZWFkeSBDRE1zLCB3ZSBuZWVkIHRvIGRpZyB0aGUgQ2hhbGxlbmdlIG91dCBvZiB0aGUgWE1MLlxuICAgIGNvbnN0IHhtbFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgbmV3IFVpbnQxNkFycmF5KGxpY2Vuc2VDaGFsbGVuZ2UuYnVmZmVyKSxcbiAgICApO1xuICAgIGlmICgheG1sU3RyaW5nLmluY2x1ZGVzKCdQbGF5UmVhZHlLZXlNZXNzYWdlJykpIHtcbiAgICAgIC8vIFRoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgd3JhcHBlZCBtZXNzYWdlIGFzIG9uIEVkZ2UuICBTb21lXG4gICAgICAvLyBjbGllbnRzIGRvIG5vdCBuZWVkIHRoaXMgdW53cmFwcGluZywgc28gd2Ugd2lsbCBhc3N1bWUgdGhpcyBpcyBvbmUgb2ZcbiAgICAgIC8vIHRoZW0uICBOb3RlIHRoYXQgXCJ4bWxcIiBhdCB0aGlzIHBvaW50IHByb2JhYmx5IGxvb2tzIGxpa2UgcmFuZG9tXG4gICAgICAvLyBnYXJiYWdlLCBzaW5jZSB3ZSBpbnRlcnByZXRlZCBVVEYtOCBhcyBVVEYtMTYuXG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQveG1sOyBjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gbGljZW5zZUNoYWxsZW5nZTtcbiAgICB9XG4gICAgY29uc3Qga2V5TWVzc2FnZVhtbCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXG4gICAgICB4bWxTdHJpbmcsXG4gICAgICAnYXBwbGljYXRpb24veG1sJyxcbiAgICApO1xuICAgIC8vIFNldCByZXF1ZXN0IGhlYWRlcnMuXG4gICAgY29uc3QgaGVhZGVycyA9IGtleU1lc3NhZ2VYbWwucXVlcnlTZWxlY3RvckFsbCgnSHR0cEhlYWRlcicpO1xuICAgIGlmIChoZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBoZWFkZXI6IEVsZW1lbnQ7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaGVhZGVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBoZWFkZXIgPSBoZWFkZXJzW2ldO1xuICAgICAgICBjb25zdCBuYW1lID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJ25hbWUnKT8udGV4dENvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJ3ZhbHVlJyk/LnRleHRDb250ZW50O1xuICAgICAgICBpZiAobmFtZSAmJiB2YWx1ZSkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGFsbGVuZ2VFbGVtZW50ID0ga2V5TWVzc2FnZVhtbC5xdWVyeVNlbGVjdG9yKCdDaGFsbGVuZ2UnKTtcbiAgICBjb25zdCBjaGFsbGVuZ2VUZXh0ID0gY2hhbGxlbmdlRWxlbWVudD8udGV4dENvbnRlbnQ7XG4gICAgaWYgKCFjaGFsbGVuZ2VUZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIDxDaGFsbGVuZ2U+IGluIGtleSBtZXNzYWdlYCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJUb1V0ZjhhcnJheShhdG9iKGNoYWxsZW5nZVRleHQpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBMaWNlbnNlWEhSKFxuICAgIHhocjogWE1MSHR0cFJlcXVlc3QsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAga2V5c0xpc3RJdGVtOiBNZWRpYUtleVNlc3Npb25Db250ZXh0LFxuICAgIGxpY2Vuc2VDaGFsbGVuZ2U6IFVpbnQ4QXJyYXksXG4gICk6IFByb21pc2U8eyB4aHI6IFhNTEh0dHBSZXF1ZXN0OyBsaWNlbnNlQ2hhbGxlbmdlOiBVaW50OEFycmF5IH0+IHtcbiAgICBjb25zdCBsaWNlbnNlWGhyU2V0dXAgPSB0aGlzLmNvbmZpZy5saWNlbnNlWGhyU2V0dXA7XG5cbiAgICBpZiAoIWxpY2Vuc2VYaHJTZXR1cCkge1xuICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgeGhyLCBsaWNlbnNlQ2hhbGxlbmdlIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWtleXNMaXN0SXRlbS5kZWNyeXB0ZGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5IHJlbW92ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGljZW5zZVhoclNldHVwLmNhbGwoXG4gICAgICAgICAgdGhpcy5obHMsXG4gICAgICAgICAgeGhyLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBrZXlzTGlzdEl0ZW0sXG4gICAgICAgICAgbGljZW5zZUNoYWxsZW5nZSxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICBpZiAoIWtleXNMaXN0SXRlbS5kZWNyeXB0ZGF0YSkge1xuICAgICAgICAgIC8vIEtleSBzZXNzaW9uIHJlbW92ZWQuIENhbmNlbCBsaWNlbnNlIHJlcXVlc3QuXG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0J3MgdHJ5IHRvIG9wZW4gYmVmb3JlIHJ1bm5pbmcgc2V0dXBcbiAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBsaWNlbnNlWGhyU2V0dXAuY2FsbChcbiAgICAgICAgICB0aGlzLmhscyxcbiAgICAgICAgICB4aHIsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIGtleXNMaXN0SXRlbSxcbiAgICAgICAgICBsaWNlbnNlQ2hhbGxlbmdlLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChsaWNlbnNlWGhyU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgLy8gaWYgbGljZW5zZVhoclNldHVwIGRpZCBub3QgeWV0IGNhbGwgb3BlbiwgbGV0J3MgZG8gaXQgbm93XG4gICAgICAgIGlmICgheGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmluYWxMaWNlbnNlQ2hhbGxlbmdlID0gbGljZW5zZVhoclNldHVwUmVzdWx0XG4gICAgICAgICAgPyBsaWNlbnNlWGhyU2V0dXBSZXN1bHRcbiAgICAgICAgICA6IGxpY2Vuc2VDaGFsbGVuZ2U7XG4gICAgICAgIHJldHVybiB7IHhociwgbGljZW5zZUNoYWxsZW5nZTogZmluYWxMaWNlbnNlQ2hhbGxlbmdlIH07XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVxdWVzdExpY2Vuc2UoXG4gICAga2V5U2Vzc2lvbkNvbnRleHQ6IE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQsXG4gICAgbGljZW5zZUNoYWxsZW5nZTogVWludDhBcnJheSxcbiAgKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGNvbnN0IGtleUxvYWRQb2xpY3kgPSB0aGlzLmNvbmZpZy5rZXlMb2FkUG9saWN5LmRlZmF1bHQ7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TGljZW5zZVNlcnZlclVybChrZXlTZXNzaW9uQ29udGV4dC5rZXlTeXN0ZW0pO1xuICAgICAgdGhpcy5sb2coYFNlbmRpbmcgbGljZW5zZSByZXF1ZXN0IHRvIFVSTDogJHt1cmx9YCk7XG4gICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmhscyB8fCAha2V5U2Vzc2lvbkNvbnRleHQubWVkaWFLZXlzU2Vzc2lvbikge1xuICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdpbnZhbGlkIHN0YXRlJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIGxldCBkYXRhID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIGBMaWNlbnNlIHJlY2VpdmVkICR7XG4gICAgICAgICAgICAgICAgZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gZGF0YS5ieXRlTGVuZ3RoIDogZGF0YVxuICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBsaWNlbnNlUmVzcG9uc2VDYWxsYmFjayA9IHRoaXMuY29uZmlnLmxpY2Vuc2VSZXNwb25zZUNhbGxiYWNrO1xuICAgICAgICAgICAgaWYgKGxpY2Vuc2VSZXNwb25zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGxpY2Vuc2VSZXNwb25zZUNhbGxiYWNrLmNhbGwoXG4gICAgICAgICAgICAgICAgICB0aGlzLmhscyxcbiAgICAgICAgICAgICAgICAgIHhocixcbiAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgIGtleVNlc3Npb25Db250ZXh0LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5Q29uZmlnID0ga2V5TG9hZFBvbGljeS5lcnJvclJldHJ5O1xuICAgICAgICAgICAgY29uc3QgbWF4TnVtUmV0cnkgPSByZXRyeUNvbmZpZyA/IHJldHJ5Q29uZmlnLm1heE51bVJldHJ5IDogMDtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50Kys7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50ID4gbWF4TnVtUmV0cnkgfHxcbiAgICAgICAgICAgICAgKHhoci5zdGF0dXMgPj0gNDAwICYmIHhoci5zdGF0dXMgPCA1MDApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBFTUVLZXlFcnJvcihcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuS0VZX1NZU1RFTV9MSUNFTlNFX1JFUVVFU1RfRkFJTEVELFxuICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IHhocixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkIGFzIGFueSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2RlOiB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGBMaWNlbnNlIFJlcXVlc3QgWEhSIGZhaWxlZCAoJHt1cmx9KS4gU3RhdHVzOiAke3hoci5zdGF0dXN9ICgke3hoci5zdGF0dXNUZXh0fSlgLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBhdHRlbXB0c0xlZnQgPVxuICAgICAgICAgICAgICAgIG1heE51bVJldHJ5IC0gdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgKyAxO1xuICAgICAgICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgICAgICAgYFJldHJ5aW5nIGxpY2Vuc2UgcmVxdWVzdCwgJHthdHRlbXB0c0xlZnR9IGF0dGVtcHRzIGxlZnRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RMaWNlbnNlKGtleVNlc3Npb25Db250ZXh0LCBsaWNlbnNlQ2hhbGxlbmdlKS50aGVuKFxuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChcbiAgICAgICAga2V5U2Vzc2lvbkNvbnRleHQubGljZW5zZVhociAmJlxuICAgICAgICBrZXlTZXNzaW9uQ29udGV4dC5saWNlbnNlWGhyLnJlYWR5U3RhdGUgIT09IFhNTEh0dHBSZXF1ZXN0LkRPTkVcbiAgICAgICkge1xuICAgICAgICBrZXlTZXNzaW9uQ29udGV4dC5saWNlbnNlWGhyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICBrZXlTZXNzaW9uQ29udGV4dC5saWNlbnNlWGhyID0geGhyO1xuXG4gICAgICB0aGlzLnNldHVwTGljZW5zZVhIUih4aHIsIHVybCwga2V5U2Vzc2lvbkNvbnRleHQsIGxpY2Vuc2VDaGFsbGVuZ2UpLnRoZW4oXG4gICAgICAgICh7IHhociwgbGljZW5zZUNoYWxsZW5nZSB9KSA9PiB7XG4gICAgICAgICAgaWYgKGtleVNlc3Npb25Db250ZXh0LmtleVN5c3RlbSA9PSBLZXlTeXN0ZW1zLlBMQVlSRUFEWSkge1xuICAgICAgICAgICAgbGljZW5zZUNoYWxsZW5nZSA9IHRoaXMudW5wYWNrUGxheVJlYWR5S2V5TWVzc2FnZShcbiAgICAgICAgICAgICAgeGhyLFxuICAgICAgICAgICAgICBsaWNlbnNlQ2hhbGxlbmdlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgeGhyLnNlbmQobGljZW5zZUNoYWxsZW5nZSk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1lZGlhQXR0YWNoZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NRURJQV9BVFRBQ0hFRCxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGVkRGF0YSxcbiAgKSB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5lbWVFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVkaWEgPSBkYXRhLm1lZGlhO1xuXG4gICAgLy8ga2VlcCByZWZlcmVuY2Ugb2YgbWVkaWFcbiAgICB0aGlzLm1lZGlhID0gbWVkaWE7XG5cbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmNyeXB0ZWQnLCB0aGlzLm9uTWVkaWFFbmNyeXB0ZWQpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ3dhaXRpbmdmb3JrZXknLCB0aGlzLm9uV2FpdGluZ0ZvcktleSk7XG4gIH1cblxuICBwcml2YXRlIG9uTWVkaWFEZXRhY2hlZCgpIHtcbiAgICBjb25zdCBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgY29uc3QgbWVkaWFLZXlzTGlzdCA9IHRoaXMubWVkaWFLZXlTZXNzaW9ucztcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuY3J5cHRlZCcsIHRoaXMub25NZWRpYUVuY3J5cHRlZCk7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCd3YWl0aW5nZm9ya2V5JywgdGhpcy5vbldhaXRpbmdGb3JLZXkpO1xuICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgPSAwO1xuICAgIHRoaXMuc2V0TWVkaWFLZXlzUXVldWUgPSBbXTtcbiAgICB0aGlzLm1lZGlhS2V5U2Vzc2lvbnMgPSBbXTtcbiAgICB0aGlzLmtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZSA9IHt9O1xuICAgIExldmVsS2V5LmNsZWFyS2V5VXJpVG9LZXlJZE1hcCgpO1xuXG4gICAgLy8gQ2xvc2UgYWxsIHNlc3Npb25zIGFuZCByZW1vdmUgbWVkaWEga2V5cyBmcm9tIHRoZSB2aWRlbyBlbGVtZW50LlxuICAgIGNvbnN0IGtleVNlc3Npb25Db3VudCA9IG1lZGlhS2V5c0xpc3QubGVuZ3RoO1xuICAgIEVNRUNvbnRyb2xsZXIuQ0RNQ2xlYW51cFByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgIG1lZGlhS2V5c0xpc3RcbiAgICAgICAgLm1hcCgobWVkaWFLZXlTZXNzaW9uQ29udGV4dCkgPT5cbiAgICAgICAgICB0aGlzLnJlbW92ZVNlc3Npb24obWVkaWFLZXlTZXNzaW9uQ29udGV4dCksXG4gICAgICAgIClcbiAgICAgICAgLmNvbmNhdChcbiAgICAgICAgICBtZWRpYT8uc2V0TWVkaWFLZXlzKG51bGwpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2coYENvdWxkIG5vdCBjbGVhciBtZWRpYSBrZXlzOiAke2Vycm9yfWApO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgIClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGtleVNlc3Npb25Db3VudCkge1xuICAgICAgICAgIHRoaXMubG9nKCdmaW5pc2hlZCBjbG9zaW5nIGtleSBzZXNzaW9ucyBhbmQgY2xlYXJpbmcgbWVkaWEga2V5cycpO1xuICAgICAgICAgIG1lZGlhS2V5c0xpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5sb2coYENvdWxkIG5vdCBjbG9zZSBzZXNzaW9ucyBhbmQgY2xlYXIgbWVkaWEga2V5czogJHtlcnJvcn1gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICB0aGlzLmtleUZvcm1hdFByb21pc2UgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1hbmlmZXN0TG9hZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTUFOSUZFU1RfTE9BREVELFxuICAgIHsgc2Vzc2lvbktleXMgfTogTWFuaWZlc3RMb2FkZWREYXRhLFxuICApIHtcbiAgICBpZiAoIXNlc3Npb25LZXlzIHx8ICF0aGlzLmNvbmZpZy5lbWVFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5rZXlGb3JtYXRQcm9taXNlKSB7XG4gICAgICBjb25zdCBrZXlGb3JtYXRzOiBLZXlTeXN0ZW1Gb3JtYXRzW10gPSBzZXNzaW9uS2V5cy5yZWR1Y2UoXG4gICAgICAgIChmb3JtYXRzOiBLZXlTeXN0ZW1Gb3JtYXRzW10sIHNlc3Npb25LZXk6IExldmVsS2V5KSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybWF0cy5pbmRleE9mKHNlc3Npb25LZXkua2V5Rm9ybWF0IGFzIEtleVN5c3RlbUZvcm1hdHMpID09PSAtMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZm9ybWF0cy5wdXNoKHNlc3Npb25LZXkua2V5Rm9ybWF0IGFzIEtleVN5c3RlbUZvcm1hdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZm9ybWF0cztcbiAgICAgICAgfSxcbiAgICAgICAgW10sXG4gICAgICApO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBTZWxlY3Rpbmcga2V5LXN5c3RlbSBmcm9tIHNlc3Npb24ta2V5cyAke2tleUZvcm1hdHMuam9pbignLCAnKX1gLFxuICAgICAgKTtcbiAgICAgIHRoaXMua2V5Rm9ybWF0UHJvbWlzZSA9IHRoaXMuZ2V0S2V5Rm9ybWF0UHJvbWlzZShrZXlGb3JtYXRzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZVNlc3Npb24oXG4gICAgbWVkaWFLZXlTZXNzaW9uQ29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgKTogUHJvbWlzZTx2b2lkPiB8IHZvaWQge1xuICAgIGNvbnN0IHsgbWVkaWFLZXlzU2Vzc2lvbiwgbGljZW5zZVhociB9ID0gbWVkaWFLZXlTZXNzaW9uQ29udGV4dDtcbiAgICBpZiAobWVkaWFLZXlzU2Vzc2lvbikge1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBSZW1vdmUgbGljZW5zZXMgYW5kIGtleXMgYW5kIGNsb3NlIHNlc3Npb24gJHttZWRpYUtleXNTZXNzaW9uLnNlc3Npb25JZH1gLFxuICAgICAgKTtcbiAgICAgIGlmIChtZWRpYUtleVNlc3Npb25Db250ZXh0Ll9vbm1lc3NhZ2UpIHtcbiAgICAgICAgbWVkaWFLZXlzU2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgICBtZWRpYUtleVNlc3Npb25Db250ZXh0Ll9vbm1lc3NhZ2UsXG4gICAgICAgICk7XG4gICAgICAgIG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQuX29ubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYUtleVNlc3Npb25Db250ZXh0Ll9vbmtleXN0YXR1c2VzY2hhbmdlKSB7XG4gICAgICAgIG1lZGlhS2V5c1Nlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAna2V5c3RhdHVzZXNjaGFuZ2UnLFxuICAgICAgICAgIG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQuX29ua2V5c3RhdHVzZXNjaGFuZ2UsXG4gICAgICAgICk7XG4gICAgICAgIG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQuX29ua2V5c3RhdHVzZXNjaGFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChsaWNlbnNlWGhyICYmIGxpY2Vuc2VYaHIucmVhZHlTdGF0ZSAhPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICBsaWNlbnNlWGhyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICBtZWRpYUtleVNlc3Npb25Db250ZXh0Lm1lZGlhS2V5c1Nlc3Npb24gPVxuICAgICAgICBtZWRpYUtleVNlc3Npb25Db250ZXh0LmRlY3J5cHRkYXRhID1cbiAgICAgICAgbWVkaWFLZXlTZXNzaW9uQ29udGV4dC5saWNlbnNlWGhyID1cbiAgICAgICAgICB1bmRlZmluZWQhO1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm1lZGlhS2V5U2Vzc2lvbnMuaW5kZXhPZihtZWRpYUtleVNlc3Npb25Db250ZXh0KTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubWVkaWFLZXlTZXNzaW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lZGlhS2V5c1Nlc3Npb25cbiAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZyhgQ291bGQgbm90IHJlbW92ZSBzZXNzaW9uOiAke2Vycm9yfWApO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1lZGlhS2V5c1Nlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKGBDb3VsZCBub3QgY2xvc2Ugc2Vzc2lvbjogJHtlcnJvcn1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEVNRUtleUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgcmVhZG9ubHkgZGF0YTogRXJyb3JEYXRhO1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhOiBPbWl0PEVycm9yRGF0YSwgJ2Vycm9yJz4gJiB7IGVycm9yPzogRXJyb3IgfSxcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIGRhdGEuZXJyb3IgfHw9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIGFzIEVycm9yRGF0YTtcbiAgICBkYXRhLmVyciA9IGRhdGEuZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRU1FQ29udHJvbGxlcjtcbiIsICIvKipcbiAqIENvbW1vbiBNZWRpYSBPYmplY3QgVHlwZVxuICpcbiAqIEBncm91cCBDTUNEXG4gKiBAZ3JvdXAgQ01TRFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCB2YXIgQ21PYmplY3RUeXBlO1xuKGZ1bmN0aW9uIChDbU9iamVjdFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiB0ZXh0IGZpbGUsIHN1Y2ggYXMgYSBtYW5pZmVzdCBvciBwbGF5bGlzdFxuICAgICAqL1xuICAgIENtT2JqZWN0VHlwZVtcIk1BTklGRVNUXCJdID0gXCJtXCI7XG4gICAgLyoqXG4gICAgICogYXVkaW8gb25seVxuICAgICAqL1xuICAgIENtT2JqZWN0VHlwZVtcIkFVRElPXCJdID0gXCJhXCI7XG4gICAgLyoqXG4gICAgICogdmlkZW8gb25seVxuICAgICAqL1xuICAgIENtT2JqZWN0VHlwZVtcIlZJREVPXCJdID0gXCJ2XCI7XG4gICAgLyoqXG4gICAgICogbXV4ZWQgYXVkaW8gYW5kIHZpZGVvXG4gICAgICovXG4gICAgQ21PYmplY3RUeXBlW1wiTVVYRURcIl0gPSBcImF2XCI7XG4gICAgLyoqXG4gICAgICogaW5pdCBzZWdtZW50XG4gICAgICovXG4gICAgQ21PYmplY3RUeXBlW1wiSU5JVFwiXSA9IFwiaVwiO1xuICAgIC8qKlxuICAgICAqIGNhcHRpb24gb3Igc3VidGl0bGVcbiAgICAgKi9cbiAgICBDbU9iamVjdFR5cGVbXCJDQVBUSU9OXCJdID0gXCJjXCI7XG4gICAgLyoqXG4gICAgICogSVNPQk1GRiB0aW1lZCB0ZXh0IHRyYWNrXG4gICAgICovXG4gICAgQ21PYmplY3RUeXBlW1wiVElNRURfVEVYVFwiXSA9IFwidHRcIjtcbiAgICAvKipcbiAgICAgKiBjcnlwdG9ncmFwaGljIGtleSwgbGljZW5zZSBvciBjZXJ0aWZpY2F0ZS5cbiAgICAgKi9cbiAgICBDbU9iamVjdFR5cGVbXCJLRVlcIl0gPSBcImtcIjtcbiAgICAvKipcbiAgICAgKiBvdGhlclxuICAgICAqL1xuICAgIENtT2JqZWN0VHlwZVtcIk9USEVSXCJdID0gXCJvXCI7XG59KShDbU9iamVjdFR5cGUgfHwgKENtT2JqZWN0VHlwZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbU9iamVjdFR5cGUuanMubWFwIiwgIi8qKlxuICogQ29tbW9uIE1lZGlhIFN0cmVhbWluZyBGb3JtYXRcbiAqXG4gKiBAZ3JvdXAgQ01DRFxuICogQGdyb3VwIENNU0RcbiAqXG4gKiBAYmV0YVxuICovXG5leHBvcnQgdmFyIENtU3RyZWFtaW5nRm9ybWF0O1xuKGZ1bmN0aW9uIChDbVN0cmVhbWluZ0Zvcm1hdCkge1xuICAgIC8qKlxuICAgICAqIE1QRUcgREFTSFxuICAgICAqL1xuICAgIENtU3RyZWFtaW5nRm9ybWF0W1wiREFTSFwiXSA9IFwiZFwiO1xuICAgIC8qKlxuICAgICAqIEhUVFAgTGl2ZSBTdHJlYW1pbmcgKEhMUylcbiAgICAgKi9cbiAgICBDbVN0cmVhbWluZ0Zvcm1hdFtcIkhMU1wiXSA9IFwiaFwiO1xuICAgIC8qKlxuICAgICAqIFNtb290aCBTdHJlYW1pbmdcbiAgICAgKi9cbiAgICBDbVN0cmVhbWluZ0Zvcm1hdFtcIlNNT09USFwiXSA9IFwic1wiO1xuICAgIC8qKlxuICAgICAqIE90aGVyXG4gICAgICovXG4gICAgQ21TdHJlYW1pbmdGb3JtYXRbXCJPVEhFUlwiXSA9IFwib1wiO1xufSkoQ21TdHJlYW1pbmdGb3JtYXQgfHwgKENtU3RyZWFtaW5nRm9ybWF0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNtU3RyZWFtaW5nRm9ybWF0LmpzLm1hcCIsICIvKipcbiAqIENNQ0QgaGVhZGVyIGZpZWxkcy5cbiAqXG4gKiBAZ3JvdXAgQ01DRFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCB2YXIgQ21jZEhlYWRlckZpZWxkO1xuKGZ1bmN0aW9uIChDbWNkSGVhZGVyRmllbGQpIHtcbiAgICAvKipcbiAgICAgKiBrZXlzIHdob3NlIHZhbHVlcyB2YXJ5IHdpdGggdGhlIG9iamVjdCBiZWluZyByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgQ21jZEhlYWRlckZpZWxkW1wiT0JKRUNUXCJdID0gXCJDTUNELU9iamVjdFwiO1xuICAgIC8qKlxuICAgICAqIGtleXMgd2hvc2UgdmFsdWVzIHZhcnkgd2l0aCBlYWNoIHJlcXVlc3QuXG4gICAgICovXG4gICAgQ21jZEhlYWRlckZpZWxkW1wiUkVRVUVTVFwiXSA9IFwiQ01DRC1SZXF1ZXN0XCI7XG4gICAgLyoqXG4gICAgICoga2V5cyB3aG9zZSB2YWx1ZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGludmFyaWFudCBvdmVyIHRoZSBsaWZlIG9mIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIENtY2RIZWFkZXJGaWVsZFtcIlNFU1NJT05cIl0gPSBcIkNNQ0QtU2Vzc2lvblwiO1xuICAgIC8qKlxuICAgICAqIGtleXMgd2hvc2UgdmFsdWVzIGRvIG5vdCB2YXJ5IHdpdGggZXZlcnkgcmVxdWVzdCBvciBvYmplY3QuXG4gICAgICovXG4gICAgQ21jZEhlYWRlckZpZWxkW1wiU1RBVFVTXCJdID0gXCJDTUNELVN0YXR1c1wiO1xufSkoQ21jZEhlYWRlckZpZWxkIHx8IChDbWNkSGVhZGVyRmllbGQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q21jZEhlYWRlckZpZWxkLmpzLm1hcCIsICJpbXBvcnQgeyBDbWNkSGVhZGVyRmllbGQgfSBmcm9tICcuL0NtY2RIZWFkZXJGaWVsZC5qcyc7XG4vKipcbiAqIFRoZSBtYXAgb2YgQ01DRCBoZWFkZXIgZmllbGRzIHRvIG9mZmljaWFsIENNQ0Qga2V5cy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAZ3JvdXAgQ01DRFxuICovXG5leHBvcnQgY29uc3QgQ21jZEhlYWRlck1hcCA9IHtcbiAgICBbQ21jZEhlYWRlckZpZWxkLk9CSkVDVF06IFsnYnInLCAnZCcsICdvdCcsICd0YiddLFxuICAgIFtDbWNkSGVhZGVyRmllbGQuUkVRVUVTVF06IFsnYmwnLCAnZGwnLCAnbXRwJywgJ25vcicsICducnInLCAnc3UnXSxcbiAgICBbQ21jZEhlYWRlckZpZWxkLlNFU1NJT05dOiBbJ2NpZCcsICdwcicsICdzZicsICdzaWQnLCAnc3QnLCAndiddLFxuICAgIFtDbWNkSGVhZGVyRmllbGQuU1RBVFVTXTogWydicycsICdydHAnXSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbWNkSGVhZGVyTWFwLmpzLm1hcCIsICIvKipcbiAqIFN0cnVjdHVyZWQgRmllbGQgSXRlbVxuICpcbiAqIEBncm91cCBTdHJ1Y3R1cmVkIEZpZWxkXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGNsYXNzIFNmSXRlbSB7XG4gICAgdmFsdWU7XG4gICAgcGFyYW1zO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcCgodikgPT4gKHYgaW5zdGFuY2VvZiBTZkl0ZW0pID8gdiA6IG5ldyBTZkl0ZW0odikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ZJdGVtLmpzLm1hcCIsICIvKipcbiAqIEEgY2xhc3MgdG8gcmVwcmVzZW50IHN0cnVjdHVyZWQgZmllbGQgdG9rZW5zIHdoZW4gYFN5bWJvbGAgaXMgbm90IGF2YWlsYWJsZS5cbiAqXG4gKiBAZ3JvdXAgU3RydWN0dXJlZCBGaWVsZFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBjbGFzcyBTZlRva2VuIHtcbiAgICBkZXNjcmlwdGlvbjtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ZUb2tlbi5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IERJQ1QgPSAnRGljdCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ESUNULmpzLm1hcCIsICJmdW5jdGlvbiBmb3JtYXQodmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgIHJldHVybiAnTWFwe30nO1xuICAgIH1cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgcmV0dXJuICdTZXR7fSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoYWN0aW9uLCBzcmMsIHR5cGUsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgZmFpbGVkIHRvICR7YWN0aW9ufSBcIiR7Zm9ybWF0KHNyYyl9XCIgYXMgJHt0eXBlfWAsIHsgY2F1c2UgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd0Vycm9yLmpzLm1hcCIsICJleHBvcnQgY29uc3QgQkFSRV9JVEVNID0gJ0JhcmUgSXRlbSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CQVJFX0lURU0uanMubWFwIiwgImV4cG9ydCBjb25zdCBCT09MRUFOID0gJ0Jvb2xlYW4nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qk9PTEVBTi5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IEJZVEVTID0gJ0J5dGUgU2VxdWVuY2UnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QllURVMuanMubWFwIiwgImV4cG9ydCBjb25zdCBERUNJTUFMID0gJ0RlY2ltYWwnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9REVDSU1BTC5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IElOVEVHRVIgPSAnSW50ZWdlcic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JTlRFR0VSLmpzLm1hcCIsICJleHBvcnQgZnVuY3Rpb24gaXNJbnZhbGlkSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgLTk5OTk5OTk5OTk5OTk5OSB8fCA5OTk5OTk5OTk5OTk5OTkgPCB2YWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW52YWxpZEludC5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IFNUUklOR19SRUdFWCA9IC9bXFx4MDAtXFx4MWZcXHg3Zl0rLzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TVFJJTkdfUkVHRVguanMubWFwIiwgImV4cG9ydCBjb25zdCBUT0tFTiA9ICdUb2tlbic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UT0tFTi5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IEtFWSA9ICdLZXknO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S0VZLmpzLm1hcCIsICJpbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi4vdXRpbHMvdGhyb3dFcnJvci5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRXJyb3Ioc3JjLCB0eXBlLCBjYXVzZSkge1xuICAgIHJldHVybiB0aHJvd0Vycm9yKCdzZXJpYWxpemUnLCBzcmMsIHR5cGUsIGNhdXNlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUVycm9yLmpzLm1hcCIsICJpbXBvcnQgeyBCT09MRUFOIH0gZnJvbSAnLi4vdXRpbHMvQk9PTEVBTi5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVFcnJvciB9IGZyb20gJy4vc2VyaWFsaXplRXJyb3IuanMnO1xuLy8gNC4xLjkuICBTZXJpYWxpemluZyBhIEJvb2xlYW5cbi8vXG4vLyBHaXZlbiBhIEJvb2xlYW4gYXMgaW5wdXRfYm9vbGVhbiwgcmV0dXJuIGFuIEFTQ0lJIHN0cmluZyBzdWl0YWJsZSBmb3Jcbi8vIHVzZSBpbiBhIEhUVFAgZmllbGQgdmFsdWUuXG4vL1xuLy8gMS4gIElmIGlucHV0X2Jvb2xlYW4gaXMgbm90IGEgYm9vbGVhbiwgZmFpbCBzZXJpYWxpemF0aW9uLlxuLy9cbi8vIDIuICBMZXQgb3V0cHV0IGJlIGFuIGVtcHR5IHN0cmluZy5cbi8vXG4vLyAzLiAgQXBwZW5kIFwiP1wiIHRvIG91dHB1dC5cbi8vXG4vLyA0LiAgSWYgaW5wdXRfYm9vbGVhbiBpcyB0cnVlLCBhcHBlbmQgXCIxXCIgdG8gb3V0cHV0LlxuLy9cbi8vIDUuICBJZiBpbnB1dF9ib29sZWFuIGlzIGZhbHNlLCBhcHBlbmQgXCIwXCIgdG8gb3V0cHV0LlxuLy9cbi8vIDYuICBSZXR1cm4gb3V0cHV0LlxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUJvb2xlYW4odmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3IodmFsdWUsIEJPT0xFQU4pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgPyAnPzEnIDogJz8wJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUJvb2xlYW4uanMubWFwIiwgIi8qKlxuICogRW5jb2RlcyBiaW5hcnkgZGF0YSB0byBiYXNlNjRcbiAqXG4gKiBAcGFyYW0gYmluYXJ5IC0gVGhlIGJpbmFyeSBkYXRhIHRvIGVuY29kZVxuICogQHJldHVybnMgVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZ1xuICpcbiAqIEBncm91cCBVdGlsc1xuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRlbmNvZGUoYmluYXJ5KSB7XG4gICAgcmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5iaW5hcnkpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NGVuY29kZS5qcy5tYXAiLCAiaW1wb3J0IHsgYmFzZTY0ZW5jb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmFzZTY0ZW5jb2RlLmpzJztcbmltcG9ydCB7IEJZVEVTIH0gZnJvbSAnLi4vdXRpbHMvQllURVMuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tICcuL3NlcmlhbGl6ZUVycm9yLmpzJztcbi8vIDQuMS44LiAgU2VyaWFsaXppbmcgYSBCeXRlIFNlcXVlbmNlXG4vL1xuLy8gR2l2ZW4gYSBCeXRlIFNlcXVlbmNlIGFzIGlucHV0X2J5dGVzLCByZXR1cm4gYW4gQVNDSUkgc3RyaW5nIHN1aXRhYmxlXG4vLyBmb3IgdXNlIGluIGEgSFRUUCBmaWVsZCB2YWx1ZS5cbi8vXG4vLyAxLiAgSWYgaW5wdXRfYnl0ZXMgaXMgbm90IGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIGZhaWwgc2VyaWFsaXphdGlvbi5cbi8vXG4vLyAyLiAgTGV0IG91dHB1dCBiZSBhbiBlbXB0eSBzdHJpbmcuXG4vL1xuLy8gMy4gIEFwcGVuZCBcIjpcIiB0byBvdXRwdXQuXG4vL1xuLy8gNC4gIEFwcGVuZCB0aGUgcmVzdWx0IG9mIGJhc2U2NC1lbmNvZGluZyBpbnB1dF9ieXRlcyBhcyBwZXJcbi8vICAgICBbUkZDNDY0OF0sIFNlY3Rpb24gNCwgdGFraW5nIGFjY291bnQgb2YgdGhlIHJlcXVpcmVtZW50cyBiZWxvdy5cbi8vXG4vLyA1LiAgQXBwZW5kIFwiOlwiIHRvIG91dHB1dC5cbi8vXG4vLyA2LiAgUmV0dXJuIG91dHB1dC5cbi8vXG4vLyBUaGUgZW5jb2RlZCBkYXRhIGlzIHJlcXVpcmVkIHRvIGJlIHBhZGRlZCB3aXRoIFwiPVwiLCBhcyBwZXIgW1JGQzQ2NDhdLFxuLy8gU2VjdGlvbiAzLjIuXG4vL1xuLy8gTGlrZXdpc2UsIGVuY29kZWQgZGF0YSBTSE9VTEQgaGF2ZSBwYWQgYml0cyBzZXQgdG8gemVybywgYXMgcGVyXG4vLyBbUkZDNDY0OF0sIFNlY3Rpb24gMy41LCB1bmxlc3MgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGRvIHNvIGR1ZSB0b1xuLy8gaW1wbGVtZW50YXRpb24gY29uc3RyYWludHMuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQnl0ZVNlcXVlbmNlKHZhbHVlKSB7XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBCWVRFUyk7XG4gICAgfVxuICAgIHJldHVybiBgOiR7YmFzZTY0ZW5jb2RlKHZhbHVlKX06YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUJ5dGVTZXF1ZW5jZS5qcy5tYXAiLCAiaW1wb3J0IHsgSU5URUdFUiB9IGZyb20gJy4uL3V0aWxzL0lOVEVHRVIuanMnO1xuaW1wb3J0IHsgaXNJbnZhbGlkSW50IH0gZnJvbSAnLi4vdXRpbHMvaXNJbnZhbGlkSW50LmpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZUVycm9yIH0gZnJvbSAnLi9zZXJpYWxpemVFcnJvci5qcyc7XG4vLyA0LjEuNC4gIFNlcmlhbGl6aW5nIGFuIEludGVnZXJcbi8vXG4vLyBHaXZlbiBhbiBJbnRlZ2VyIGFzIGlucHV0X2ludGVnZXIsIHJldHVybiBhbiBBU0NJSSBzdHJpbmcgc3VpdGFibGVcbi8vIGZvciB1c2UgaW4gYSBIVFRQIGZpZWxkIHZhbHVlLlxuLy9cbi8vIDEuICBJZiBpbnB1dF9pbnRlZ2VyIGlzIG5vdCBhbiBpbnRlZ2VyIGluIHRoZSByYW5nZSBvZlxuLy8gICAgIC05OTksOTk5LDk5OSw5OTksOTk5IHRvIDk5OSw5OTksOTk5LDk5OSw5OTkgaW5jbHVzaXZlLCBmYWlsXG4vLyAgICAgc2VyaWFsaXphdGlvbi5cbi8vXG4vLyAyLiAgTGV0IG91dHB1dCBiZSBhbiBlbXB0eSBzdHJpbmcuXG4vL1xuLy8gMy4gIElmIGlucHV0X2ludGVnZXIgaXMgbGVzcyB0aGFuIChidXQgbm90IGVxdWFsIHRvKSAwLCBhcHBlbmQgXCItXCIgdG9cbi8vICAgICBvdXRwdXQuXG4vL1xuLy8gNC4gIEFwcGVuZCBpbnB1dF9pbnRlZ2VyJ3MgbnVtZXJpYyB2YWx1ZSByZXByZXNlbnRlZCBpbiBiYXNlIDEwIHVzaW5nXG4vLyAgICAgb25seSBkZWNpbWFsIGRpZ2l0cyB0byBvdXRwdXQuXG4vL1xuLy8gNS4gIFJldHVybiBvdXRwdXQuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplSW50ZWdlcih2YWx1ZSkge1xuICAgIGlmIChpc0ludmFsaWRJbnQodmFsdWUpKSB7XG4gICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBJTlRFR0VSKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVJbnRlZ2VyLmpzLm1hcCIsICJpbXBvcnQgeyBzZXJpYWxpemVJbnRlZ2VyIH0gZnJvbSAnLi9zZXJpYWxpemVJbnRlZ2VyLmpzJztcbi8vIDQuMS4xMC4gIFNlcmlhbGl6aW5nIGEgRGF0ZVxuLy9cbi8vIEdpdmVuIGEgRGF0ZSBhcyBpbnB1dF9pbnRlZ2VyLCByZXR1cm4gYW4gQVNDSUkgc3RyaW5nIHN1aXRhYmxlIGZvclxuLy8gdXNlIGluIGFuIEhUVFAgZmllbGQgdmFsdWUuXG4vLyAxLiAgTGV0IG91dHB1dCBiZSBcIkBcIi5cbi8vIDIuICBBcHBlbmQgdG8gb3V0cHV0IHRoZSByZXN1bHQgb2YgcnVubmluZyBTZXJpYWxpemluZyBhbiBJbnRlZ2VyXG4vLyAgICAgd2l0aCBpbnB1dF9kYXRlIChTZWN0aW9uIDQuMS40KS5cbi8vIDMuICBSZXR1cm4gb3V0cHV0LlxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gYEAke3NlcmlhbGl6ZUludGVnZXIodmFsdWUuZ2V0VGltZSgpIC8gMTAwMCl9YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZURhdGUuanMubWFwIiwgIi8qKlxuICogVGhpcyBpbXBsZW1lbnRzIHRoZSByb3VuZGluZyBwcm9jZWR1cmUgZGVzY3JpYmVkIGluIHN0ZXAgMiBvZiB0aGUgXCJTZXJpYWxpemluZyBhIERlY2ltYWxcIiBzcGVjaWZpY2F0aW9uLlxuICogVGhpcyByb3VuZGluZyBzdHlsZSBpcyBrbm93biBhcyBcImV2ZW4gcm91bmRpbmdcIiwgXCJiYW5rZXIncyByb3VuZGluZ1wiLCBvciBcImNvbW1lcmNpYWwgcm91bmRpbmdcIi5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gcm91bmRcbiAqIEBwYXJhbSBwcmVjaXNpb24gLSBUaGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRvXG4gKiBAcmV0dXJucyBUaGUgcm91bmRlZCB2YWx1ZVxuICpcbiAqIEBncm91cCBVdGlsc1xuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZFRvRXZlbih2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICByZXR1cm4gLXJvdW5kVG9FdmVuKC12YWx1ZSwgcHJlY2lzaW9uKTtcbiAgICB9XG4gICAgY29uc3QgZGVjaW1hbFNoaWZ0ID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgY29uc3QgaXNFcXVpZGlzdGFudCA9IE1hdGguYWJzKCgodmFsdWUgKiBkZWNpbWFsU2hpZnQpICUgMSkgLSAwLjUpIDwgTnVtYmVyLkVQU0lMT047XG4gICAgaWYgKGlzRXF1aWRpc3RhbnQpIHtcbiAgICAgICAgLy8gSWYgdGhlIHRhaWwgb2YgdGhlIGRlY2ltYWwgcGxhY2UgaXMgJ2VxdWlkaXN0YW50JyB3ZSByb3VuZCB0byB0aGUgbmVhcmVzdCBldmVuIHZhbHVlXG4gICAgICAgIGNvbnN0IGZsb29yZWRWYWx1ZSA9IE1hdGguZmxvb3IodmFsdWUgKiBkZWNpbWFsU2hpZnQpO1xuICAgICAgICByZXR1cm4gKGZsb29yZWRWYWx1ZSAlIDIgPT09IDAgPyBmbG9vcmVkVmFsdWUgOiBmbG9vcmVkVmFsdWUgKyAxKSAvIGRlY2ltYWxTaGlmdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgcHJvY2VlZCBhcyBub3JtYWxcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBkZWNpbWFsU2hpZnQpIC8gZGVjaW1hbFNoaWZ0O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdW5kVG9FdmVuLmpzLm1hcCIsICJpbXBvcnQgeyByb3VuZFRvRXZlbiB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdW5kVG9FdmVuLmpzJztcbmltcG9ydCB7IERFQ0lNQUwgfSBmcm9tICcuLi91dGlscy9ERUNJTUFMLmpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZUVycm9yIH0gZnJvbSAnLi9zZXJpYWxpemVFcnJvci5qcyc7XG4vLyA0LjEuNS4gIFNlcmlhbGl6aW5nIGEgRGVjaW1hbFxuLy9cbi8vIEdpdmVuIGEgZGVjaW1hbCBudW1iZXIgYXMgaW5wdXRfZGVjaW1hbCwgcmV0dXJuIGFuIEFTQ0lJIHN0cmluZ1xuLy8gc3VpdGFibGUgZm9yIHVzZSBpbiBhIEhUVFAgZmllbGQgdmFsdWUuXG4vL1xuLy8gMS4gICBJZiBpbnB1dF9kZWNpbWFsIGlzIG5vdCBhIGRlY2ltYWwgbnVtYmVyLCBmYWlsIHNlcmlhbGl6YXRpb24uXG4vL1xuLy8gMi4gICBJZiBpbnB1dF9kZWNpbWFsIGhhcyBtb3JlIHRoYW4gdGhyZWUgc2lnbmlmaWNhbnQgZGlnaXRzIHRvIHRoZVxuLy8gICAgICByaWdodCBvZiB0aGUgZGVjaW1hbCBwb2ludCwgcm91bmQgaXQgdG8gdGhyZWUgZGVjaW1hbCBwbGFjZXMsXG4vLyAgICAgIHJvdW5kaW5nIHRoZSBmaW5hbCBkaWdpdCB0byB0aGUgbmVhcmVzdCB2YWx1ZSwgb3IgdG8gdGhlIGV2ZW5cbi8vICAgICAgdmFsdWUgaWYgaXQgaXMgZXF1aWRpc3RhbnQuXG4vL1xuLy8gMy4gICBJZiBpbnB1dF9kZWNpbWFsIGhhcyBtb3JlIHRoYW4gMTIgc2lnbmlmaWNhbnQgZGlnaXRzIHRvIHRoZSBsZWZ0XG4vLyAgICAgIG9mIHRoZSBkZWNpbWFsIHBvaW50IGFmdGVyIHJvdW5kaW5nLCBmYWlsIHNlcmlhbGl6YXRpb24uXG4vL1xuLy8gNC4gICBMZXQgb3V0cHV0IGJlIGFuIGVtcHR5IHN0cmluZy5cbi8vXG4vLyA1LiAgIElmIGlucHV0X2RlY2ltYWwgaXMgbGVzcyB0aGFuIChidXQgbm90IGVxdWFsIHRvKSAwLCBhcHBlbmQgXCItXCJcbi8vICAgICAgdG8gb3V0cHV0LlxuLy9cbi8vIDYuICAgQXBwZW5kIGlucHV0X2RlY2ltYWwncyBpbnRlZ2VyIGNvbXBvbmVudCByZXByZXNlbnRlZCBpbiBiYXNlIDEwXG4vLyAgICAgICh1c2luZyBvbmx5IGRlY2ltYWwgZGlnaXRzKSB0byBvdXRwdXQ7IGlmIGl0IGlzIHplcm8sIGFwcGVuZFxuLy8gICAgICBcIjBcIi5cbi8vXG4vLyA3LiAgIEFwcGVuZCBcIi5cIiB0byBvdXRwdXQuXG4vL1xuLy8gOC4gICBJZiBpbnB1dF9kZWNpbWFsJ3MgZnJhY3Rpb25hbCBjb21wb25lbnQgaXMgemVybywgYXBwZW5kIFwiMFwiIHRvXG4vLyAgICAgIG91dHB1dC5cbi8vXG4vLyA5LiAgIE90aGVyd2lzZSwgYXBwZW5kIHRoZSBzaWduaWZpY2FudCBkaWdpdHMgb2YgaW5wdXRfZGVjaW1hbCdzXG4vLyAgICAgIGZyYWN0aW9uYWwgY29tcG9uZW50IHJlcHJlc2VudGVkIGluIGJhc2UgMTAgKHVzaW5nIG9ubHkgZGVjaW1hbFxuLy8gICAgICBkaWdpdHMpIHRvIG91dHB1dC5cbi8vXG4vLyAxMC4gIFJldHVybiBvdXRwdXQuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRGVjaW1hbCh2YWx1ZSkge1xuICAgIGNvbnN0IHJvdW5kZWRWYWx1ZSA9IHJvdW5kVG9FdmVuKHZhbHVlLCAzKTsgLy8gcm91bmQgdG8gMyBkZWNpbWFsIHBsYWNlc1xuICAgIGlmIChNYXRoLmZsb29yKE1hdGguYWJzKHJvdW5kZWRWYWx1ZSkpLnRvU3RyaW5nKCkubGVuZ3RoID4gMTIpIHtcbiAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3IodmFsdWUsIERFQ0lNQUwpO1xuICAgIH1cbiAgICBjb25zdCBzdHJpbmdWYWx1ZSA9IHJvdW5kZWRWYWx1ZS50b1N0cmluZygpO1xuICAgIHJldHVybiBzdHJpbmdWYWx1ZS5pbmNsdWRlcygnLicpID8gc3RyaW5nVmFsdWUgOiBgJHtzdHJpbmdWYWx1ZX0uMGA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVEZWNpbWFsLmpzLm1hcCIsICJleHBvcnQgY29uc3QgU1RSSU5HID0gJ1N0cmluZyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TVFJJTkcuanMubWFwIiwgImltcG9ydCB7IFNUUklORyB9IGZyb20gJy4uL3V0aWxzL1NUUklORy5qcyc7XG5pbXBvcnQgeyBTVFJJTkdfUkVHRVggfSBmcm9tICcuLi91dGlscy9TVFJJTkdfUkVHRVguanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tICcuL3NlcmlhbGl6ZUVycm9yLmpzJztcbi8vIDQuMS42LiAgU2VyaWFsaXppbmcgYSBTdHJpbmdcbi8vXG4vLyBHaXZlbiBhIFN0cmluZyBhcyBpbnB1dF9zdHJpbmcsIHJldHVybiBhbiBBU0NJSSBzdHJpbmcgc3VpdGFibGUgZm9yXG4vLyB1c2UgaW4gYSBIVFRQIGZpZWxkIHZhbHVlLlxuLy9cbi8vIDEuICBDb252ZXJ0IGlucHV0X3N0cmluZyBpbnRvIGEgc2VxdWVuY2Ugb2YgQVNDSUkgY2hhcmFjdGVyczsgaWZcbi8vICAgICBjb252ZXJzaW9uIGZhaWxzLCBmYWlsIHNlcmlhbGl6YXRpb24uXG4vL1xuLy8gMi4gIElmIGlucHV0X3N0cmluZyBjb250YWlucyBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZSAleDAwLTFmIG9yICV4N2Zcbi8vICAgICAoaS5lLiwgbm90IGluIFZDSEFSIG9yIFNQKSwgZmFpbCBzZXJpYWxpemF0aW9uLlxuLy9cbi8vIDMuICBMZXQgb3V0cHV0IGJlIHRoZSBzdHJpbmcgRFFVT1RFLlxuLy9cbi8vIDQuICBGb3IgZWFjaCBjaGFyYWN0ZXIgY2hhciBpbiBpbnB1dF9zdHJpbmc6XG4vL1xuLy8gICAgIDEuICBJZiBjaGFyIGlzIFwiXFxcIiBvciBEUVVPVEU6XG4vL1xuLy8gICAgICAgICAxLiAgQXBwZW5kIFwiXFxcIiB0byBvdXRwdXQuXG4vL1xuLy8gICAgIDIuICBBcHBlbmQgY2hhciB0byBvdXRwdXQuXG4vL1xuLy8gNS4gIEFwcGVuZCBEUVVPVEUgdG8gb3V0cHV0LlxuLy9cbi8vIDYuICBSZXR1cm4gb3V0cHV0LlxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVN0cmluZyh2YWx1ZSkge1xuICAgIGlmIChTVFJJTkdfUkVHRVgudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3IodmFsdWUsIFNUUklORyk7XG4gICAgfVxuICAgIHJldHVybiBgXCIke3ZhbHVlLnJlcGxhY2UoL1xcXFwvZywgYFxcXFxcXFxcYCkucmVwbGFjZSgvXCIvZywgYFxcXFxcImApfVwiYDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZVN0cmluZy5qcy5tYXAiLCAiZXhwb3J0IGZ1bmN0aW9uIHN5bWJvbFRvU3RyKHN5bWJvbCkge1xuICAgIHJldHVybiBzeW1ib2wuZGVzY3JpcHRpb24gfHwgc3ltYm9sLnRvU3RyaW5nKCkuc2xpY2UoNywgLTEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ltYm9sVG9TdHIuanMubWFwIiwgImltcG9ydCB7IHN5bWJvbFRvU3RyIH0gZnJvbSAnLi4vLi4vY3RhL3V0aWxzL3N5bWJvbFRvU3RyLmpzJztcbmltcG9ydCB7IFRPS0VOIH0gZnJvbSAnLi4vdXRpbHMvVE9LRU4uanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tICcuL3NlcmlhbGl6ZUVycm9yLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUb2tlbih0b2tlbikge1xuICAgIGNvbnN0IHZhbHVlID0gc3ltYm9sVG9TdHIodG9rZW4pO1xuICAgIGlmICgvXihbYS16QS1aKl0pKFshIyQlJicqK1xcLS5eX2B8flxcdzovXSopJC8udGVzdCh2YWx1ZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBUT0tFTik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZVRva2VuLmpzLm1hcCIsICJpbXBvcnQgeyBTZlRva2VuIH0gZnJvbSAnLi4vU2ZUb2tlbi5qcyc7XG5pbXBvcnQgeyBCQVJFX0lURU0gfSBmcm9tICcuLi91dGlscy9CQVJFX0lURU0uanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplQm9vbGVhbiB9IGZyb20gJy4vc2VyaWFsaXplQm9vbGVhbi5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVCeXRlU2VxdWVuY2UgfSBmcm9tICcuL3NlcmlhbGl6ZUJ5dGVTZXF1ZW5jZS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVEYXRlIH0gZnJvbSAnLi9zZXJpYWxpemVEYXRlLmpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZURlY2ltYWwgfSBmcm9tICcuL3NlcmlhbGl6ZURlY2ltYWwuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tICcuL3NlcmlhbGl6ZUVycm9yLmpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZUludGVnZXIgfSBmcm9tICcuL3NlcmlhbGl6ZUludGVnZXIuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplU3RyaW5nIH0gZnJvbSAnLi9zZXJpYWxpemVTdHJpbmcuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplVG9rZW4gfSBmcm9tICcuL3NlcmlhbGl6ZVRva2VuLmpzJztcbi8vIDQuMS4zLjEuICBTZXJpYWxpemluZyBhIEJhcmUgSXRlbVxuLy9cbi8vIEdpdmVuIGFuIEl0ZW0gYXMgaW5wdXRfaXRlbSwgcmV0dXJuIGFuIEFTQ0lJIHN0cmluZyBzdWl0YWJsZSBmb3IgdXNlXG4vLyBpbiBhIEhUVFAgZmllbGQgdmFsdWUuXG4vL1xuLy8gMS4gIElmIGlucHV0X2l0ZW0gaXMgYW4gSW50ZWdlciwgcmV0dXJuIHRoZSByZXN1bHQgb2YgcnVubmluZ1xuLy8gICAgIFNlcmlhbGl6aW5nIGFuIEludGVnZXIgKFNlY3Rpb24gNC4xLjQpIHdpdGggaW5wdXRfaXRlbS5cbi8vXG4vLyAyLiAgSWYgaW5wdXRfaXRlbSBpcyBhIERlY2ltYWwsIHJldHVybiB0aGUgcmVzdWx0IG9mIHJ1bm5pbmdcbi8vICAgICBTZXJpYWxpemluZyBhIERlY2ltYWwgKFNlY3Rpb24gNC4xLjUpIHdpdGggaW5wdXRfaXRlbS5cbi8vXG4vLyAzLiAgSWYgaW5wdXRfaXRlbSBpcyBhIFN0cmluZywgcmV0dXJuIHRoZSByZXN1bHQgb2YgcnVubmluZ1xuLy8gICAgIFNlcmlhbGl6aW5nIGEgU3RyaW5nIChTZWN0aW9uIDQuMS42KSB3aXRoIGlucHV0X2l0ZW0uXG4vL1xuLy8gNC4gIElmIGlucHV0X2l0ZW0gaXMgYSBUb2tlbiwgcmV0dXJuIHRoZSByZXN1bHQgb2YgcnVubmluZ1xuLy8gICAgIFNlcmlhbGl6aW5nIGEgVG9rZW4gKFNlY3Rpb24gNC4xLjcpIHdpdGggaW5wdXRfaXRlbS5cbi8vXG4vLyA1LiAgSWYgaW5wdXRfaXRlbSBpcyBhIEJvb2xlYW4sIHJldHVybiB0aGUgcmVzdWx0IG9mIHJ1bm5pbmdcbi8vICAgICBTZXJpYWxpemluZyBhIEJvb2xlYW4gKFNlY3Rpb24gNC4xLjkpIHdpdGggaW5wdXRfaXRlbS5cbi8vXG4vLyA2LiAgSWYgaW5wdXRfaXRlbSBpcyBhIEJ5dGUgU2VxdWVuY2UsIHJldHVybiB0aGUgcmVzdWx0IG9mIHJ1bm5pbmdcbi8vICAgICBTZXJpYWxpemluZyBhIEJ5dGUgU2VxdWVuY2UgKFNlY3Rpb24gNC4xLjgpIHdpdGggaW5wdXRfaXRlbS5cbi8vXG4vLyA3LiAgSWYgaW5wdXRfaXRlbSBpcyBhIERhdGUsIHJldHVybiB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgU2VyaWFsaXppbmdcbi8vICAgICBhIERhdGUgKFNlY3Rpb24gNC4xLjEwKSB3aXRoIGlucHV0X2l0ZW0uXG4vL1xuLy8gOC4gIE90aGVyd2lzZSwgZmFpbCBzZXJpYWxpemF0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUJhcmVJdGVtKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBCQVJFX0lURU0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUludGVnZXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURlY2ltYWwodmFsdWUpO1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplVG9rZW4odmFsdWUpO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUJ5dGVTZXF1ZW5jZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTZlRva2VuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVRva2VuKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIGZhaWxcbiAgICAgICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBCQVJFX0lURU0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUJhcmVJdGVtLmpzLm1hcCIsICJpbXBvcnQgeyBLRVkgfSBmcm9tICcuLi91dGlscy9LRVkuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tICcuL3NlcmlhbGl6ZUVycm9yLmpzJztcbi8vIDQuMS4xLjMuICBTZXJpYWxpemluZyBhIEtleVxuLy9cbi8vIEdpdmVuIGEga2V5IGFzIGlucHV0X2tleSwgcmV0dXJuIGFuIEFTQ0lJIHN0cmluZyBzdWl0YWJsZSBmb3IgdXNlIGluXG4vLyBhIEhUVFAgZmllbGQgdmFsdWUuXG4vL1xuLy8gMS4gIENvbnZlcnQgaW5wdXRfa2V5IGludG8gYSBzZXF1ZW5jZSBvZiBBU0NJSSBjaGFyYWN0ZXJzOyBpZlxuLy8gICAgIGNvbnZlcnNpb24gZmFpbHMsIGZhaWwgc2VyaWFsaXphdGlvbi5cbi8vXG4vLyAyLiAgSWYgaW5wdXRfa2V5IGNvbnRhaW5zIGNoYXJhY3RlcnMgbm90IGluIGxjYWxwaGEsIERJR0lULCBcIl9cIiwgXCItXCIsXG4vLyAgICAgXCIuXCIsIG9yIFwiKlwiIGZhaWwgc2VyaWFsaXphdGlvbi5cbi8vXG4vLyAzLiAgSWYgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBpbnB1dF9rZXkgaXMgbm90IGxjYWxwaGEgb3IgXCIqXCIsIGZhaWxcbi8vICAgICBzZXJpYWxpemF0aW9uLlxuLy9cbi8vIDQuICBMZXQgb3V0cHV0IGJlIGFuIGVtcHR5IHN0cmluZy5cbi8vXG4vLyA1LiAgQXBwZW5kIGlucHV0X2tleSB0byBvdXRwdXQuXG4vL1xuLy8gNi4gIFJldHVybiBvdXRwdXQuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplS2V5KHZhbHVlKSB7XG4gICAgaWYgKC9eW2EteipdW2EtejAtOVxcLV8uKl0qJC8udGVzdCh2YWx1ZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yKHZhbHVlLCBLRVkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVLZXkuanMubWFwIiwgImltcG9ydCB7IHNlcmlhbGl6ZUJhcmVJdGVtIH0gZnJvbSAnLi9zZXJpYWxpemVCYXJlSXRlbS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVLZXkgfSBmcm9tICcuL3NlcmlhbGl6ZUtleS5qcyc7XG4vLyA0LjEuMS4yLiAgU2VyaWFsaXppbmcgUGFyYW1ldGVyc1xuLy9cbi8vIEdpdmVuIGFuIG9yZGVyZWQgRGljdGlvbmFyeSBhcyBpbnB1dF9wYXJhbWV0ZXJzIChlYWNoIG1lbWJlciBoYXZpbmcgYVxuLy8gcGFyYW1fbmFtZSBhbmQgYSBwYXJhbV92YWx1ZSksIHJldHVybiBhbiBBU0NJSSBzdHJpbmcgc3VpdGFibGUgZm9yXG4vLyB1c2UgaW4gYSBIVFRQIGZpZWxkIHZhbHVlLlxuLy9cbi8vIDEuICBMZXQgb3V0cHV0IGJlIGFuIGVtcHR5IHN0cmluZy5cbi8vXG4vLyAyLiAgRm9yIGVhY2ggcGFyYW1fbmFtZSB3aXRoIGEgdmFsdWUgb2YgcGFyYW1fdmFsdWUgaW5cbi8vICAgICBpbnB1dF9wYXJhbWV0ZXJzOlxuLy9cbi8vICAgICAxLiAgQXBwZW5kIFwiO1wiIHRvIG91dHB1dC5cbi8vXG4vLyAgICAgMi4gIEFwcGVuZCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgU2VyaWFsaXppbmcgYSBLZXlcbi8vICAgICAgICAgKFNlY3Rpb24gNC4xLjEuMykgd2l0aCBwYXJhbV9uYW1lIHRvIG91dHB1dC5cbi8vXG4vLyAgICAgMy4gIElmIHBhcmFtX3ZhbHVlIGlzIG5vdCBCb29sZWFuIHRydWU6XG4vL1xuLy8gICAgICAgICAxLiAgQXBwZW5kIFwiPVwiIHRvIG91dHB1dC5cbi8vXG4vLyAgICAgICAgIDIuICBBcHBlbmQgdGhlIHJlc3VsdCBvZiBydW5uaW5nIFNlcmlhbGl6aW5nIGEgYmFyZSBJdGVtXG4vLyAgICAgICAgICAgICAoU2VjdGlvbiA0LjEuMy4xKSB3aXRoIHBhcmFtX3ZhbHVlIHRvIG91dHB1dC5cbi8vXG4vLyAzLiAgUmV0dXJuIG91dHB1dC5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHBhcmFtcylcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGA7JHtzZXJpYWxpemVLZXkoa2V5KX1gOyAvLyBvbWl0IHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYDske3NlcmlhbGl6ZUtleShrZXkpfT0ke3NlcmlhbGl6ZUJhcmVJdGVtKHZhbHVlKX1gO1xuICAgIH0pXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZVBhcmFtcy5qcy5tYXAiLCAiaW1wb3J0IHsgU2ZJdGVtIH0gZnJvbSAnLi4vU2ZJdGVtLmpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZUJhcmVJdGVtIH0gZnJvbSAnLi9zZXJpYWxpemVCYXJlSXRlbS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVQYXJhbXMgfSBmcm9tICcuL3NlcmlhbGl6ZVBhcmFtcy5qcyc7XG4vLyA0LjEuMy4gIFNlcmlhbGl6aW5nIGFuIEl0ZW1cbi8vXG4vLyBHaXZlbiBhbiBJdGVtIGFzIGJhcmVfaXRlbSBhbmQgUGFyYW1ldGVycyBhcyBpdGVtX3BhcmFtZXRlcnMsIHJldHVyblxuLy8gYW4gQVNDSUkgc3RyaW5nIHN1aXRhYmxlIGZvciB1c2UgaW4gYSBIVFRQIGZpZWxkIHZhbHVlLlxuLy9cbi8vIDEuICBMZXQgb3V0cHV0IGJlIGFuIGVtcHR5IHN0cmluZy5cbi8vXG4vLyAyLiAgQXBwZW5kIHRoZSByZXN1bHQgb2YgcnVubmluZyBTZXJpYWxpemluZyBhIEJhcmUgSXRlbVxuLy8gICAgIFNlY3Rpb24gNC4xLjMuMSB3aXRoIGJhcmVfaXRlbSB0byBvdXRwdXQuXG4vL1xuLy8gMy4gIEFwcGVuZCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgU2VyaWFsaXppbmcgUGFyYW1ldGVyc1xuLy8gICAgIFNlY3Rpb24gNC4xLjEuMiB3aXRoIGl0ZW1fcGFyYW1ldGVycyB0byBvdXRwdXQuXG4vL1xuLy8gNC4gIFJldHVybiBvdXRwdXQuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplSXRlbSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNmSXRlbSkge1xuICAgICAgICByZXR1cm4gYCR7c2VyaWFsaXplQmFyZUl0ZW0odmFsdWUudmFsdWUpfSR7c2VyaWFsaXplUGFyYW1zKHZhbHVlLnBhcmFtcyl9YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVCYXJlSXRlbSh2YWx1ZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXplSXRlbS5qcy5tYXAiLCAiaW1wb3J0IHsgc2VyaWFsaXplSXRlbSB9IGZyb20gJy4vc2VyaWFsaXplSXRlbS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVQYXJhbXMgfSBmcm9tICcuL3NlcmlhbGl6ZVBhcmFtcy5qcyc7XG4vLyA0LjEuMS4xLiAgU2VyaWFsaXppbmcgYW4gSW5uZXIgTGlzdFxuLy9cbi8vIEdpdmVuIGFuIGFycmF5IG9mIChtZW1iZXJfdmFsdWUsIHBhcmFtZXRlcnMpIHR1cGxlcyBhcyBpbm5lcl9saXN0LFxuLy8gYW5kIHBhcmFtZXRlcnMgYXMgbGlzdF9wYXJhbWV0ZXJzLCByZXR1cm4gYW4gQVNDSUkgc3RyaW5nIHN1aXRhYmxlXG4vLyBmb3IgdXNlIGluIGEgSFRUUCBmaWVsZCB2YWx1ZS5cbi8vXG4vLyAxLiAgTGV0IG91dHB1dCBiZSB0aGUgc3RyaW5nIFwiKFwiLlxuLy9cbi8vIDIuICBGb3IgZWFjaCAobWVtYmVyX3ZhbHVlLCBwYXJhbWV0ZXJzKSBvZiBpbm5lcl9saXN0OlxuLy9cbi8vICAgICAxLiAgQXBwZW5kIHRoZSByZXN1bHQgb2YgcnVubmluZyBTZXJpYWxpemluZyBhbiBJdGVtXG4vLyAgICAgICAgIChTZWN0aW9uIDQuMS4zKSB3aXRoIChtZW1iZXJfdmFsdWUsIHBhcmFtZXRlcnMpIHRvIG91dHB1dC5cbi8vXG4vLyAgICAgMi4gIElmIG1vcmUgdmFsdWVzIHJlbWFpbiBpbiBpbm5lcl9saXN0LCBhcHBlbmQgYSBzaW5nbGUgU1AgdG9cbi8vICAgICAgICAgb3V0cHV0LlxuLy9cbi8vIDMuICBBcHBlbmQgXCIpXCIgdG8gb3V0cHV0LlxuLy9cbi8vIDQuICBBcHBlbmQgdGhlIHJlc3VsdCBvZiBydW5uaW5nIFNlcmlhbGl6aW5nIFBhcmFtZXRlcnNcbi8vICAgICAoU2VjdGlvbiA0LjEuMS4yKSB3aXRoIGxpc3RfcGFyYW1ldGVycyB0byBvdXRwdXQuXG4vL1xuLy8gNS4gIFJldHVybiBvdXRwdXQuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplSW5uZXJMaXN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGAoJHt2YWx1ZS52YWx1ZS5tYXAoc2VyaWFsaXplSXRlbSkuam9pbignICcpfSkke3NlcmlhbGl6ZVBhcmFtcyh2YWx1ZS5wYXJhbXMpfWA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVJbm5lckxpc3QuanMubWFwIiwgImltcG9ydCB7IFNmSXRlbSB9IGZyb20gJy4uL1NmSXRlbS5qcyc7XG5pbXBvcnQgeyBESUNUIH0gZnJvbSAnLi4vdXRpbHMvRElDVC5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVFcnJvciB9IGZyb20gJy4vc2VyaWFsaXplRXJyb3IuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplSW5uZXJMaXN0IH0gZnJvbSAnLi9zZXJpYWxpemVJbm5lckxpc3QuanMnO1xuaW1wb3J0IHsgc2VyaWFsaXplSXRlbSB9IGZyb20gJy4vc2VyaWFsaXplSXRlbS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVLZXkgfSBmcm9tICcuL3NlcmlhbGl6ZUtleS5qcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVQYXJhbXMgfSBmcm9tICcuL3NlcmlhbGl6ZVBhcmFtcy5qcyc7XG4vLyA0LjEuMi4gIFNlcmlhbGl6aW5nIGEgRGljdGlvbmFyeVxuLy9cbi8vIEdpdmVuIGFuIG9yZGVyZWQgRGljdGlvbmFyeSBhcyBpbnB1dF9kaWN0aW9uYXJ5IChlYWNoIG1lbWJlciBoYXZpbmcgYVxuLy8gbWVtYmVyX25hbWUgYW5kIGEgdHVwbGUgdmFsdWUgb2YgKG1lbWJlcl92YWx1ZSwgcGFyYW1ldGVycykpLCByZXR1cm5cbi8vIGFuIEFTQ0lJIHN0cmluZyBzdWl0YWJsZSBmb3IgdXNlIGluIGEgSFRUUCBmaWVsZCB2YWx1ZS5cbi8vXG4vLyAxLiAgTGV0IG91dHB1dCBiZSBhbiBlbXB0eSBzdHJpbmcuXG4vL1xuLy8gMi4gIEZvciBlYWNoIG1lbWJlcl9uYW1lIHdpdGggYSB2YWx1ZSBvZiAobWVtYmVyX3ZhbHVlLCBwYXJhbWV0ZXJzKVxuLy8gICAgIGluIGlucHV0X2RpY3Rpb25hcnk6XG4vL1xuLy8gICAgIDEuICBBcHBlbmQgdGhlIHJlc3VsdCBvZiBydW5uaW5nIFNlcmlhbGl6aW5nIGEgS2V5XG4vLyAgICAgICAgIChTZWN0aW9uIDQuMS4xLjMpIHdpdGggbWVtYmVyJ3MgbWVtYmVyX25hbWUgdG8gb3V0cHV0LlxuLy9cbi8vICAgICAyLiAgSWYgbWVtYmVyX3ZhbHVlIGlzIEJvb2xlYW4gdHJ1ZTpcbi8vXG4vLyAgICAgICAgIDEuICBBcHBlbmQgdGhlIHJlc3VsdCBvZiBydW5uaW5nIFNlcmlhbGl6aW5nIFBhcmFtZXRlcnNcbi8vICAgICAgICAgICAgIChTZWN0aW9uIDQuMS4xLjIpIHdpdGggcGFyYW1ldGVycyB0byBvdXRwdXQuXG4vL1xuLy8gICAgIDMuICBPdGhlcndpc2U6XG4vL1xuLy8gICAgICAgICAxLiAgQXBwZW5kIFwiPVwiIHRvIG91dHB1dC5cbi8vXG4vLyAgICAgICAgIDIuICBJZiBtZW1iZXJfdmFsdWUgaXMgYW4gYXJyYXksIGFwcGVuZCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmdcbi8vICAgICAgICAgICAgIFNlcmlhbGl6aW5nIGFuIElubmVyIExpc3QgKFNlY3Rpb24gNC4xLjEuMSkgd2l0aFxuLy8gICAgICAgICAgICAgKG1lbWJlcl92YWx1ZSwgcGFyYW1ldGVycykgdG8gb3V0cHV0LlxuLy9cbi8vICAgICAgICAgMy4gIE90aGVyd2lzZSwgYXBwZW5kIHRoZSByZXN1bHQgb2YgcnVubmluZyBTZXJpYWxpemluZyBhblxuLy8gICAgICAgICAgICAgSXRlbSAoU2VjdGlvbiA0LjEuMykgd2l0aCAobWVtYmVyX3ZhbHVlLCBwYXJhbWV0ZXJzKSB0b1xuLy8gICAgICAgICAgICAgb3V0cHV0LlxuLy9cbi8vICAgICA0LiAgSWYgbW9yZSBtZW1iZXJzIHJlbWFpbiBpbiBpbnB1dF9kaWN0aW9uYXJ5OlxuLy9cbi8vICAgICAgICAgMS4gIEFwcGVuZCBcIixcIiB0byBvdXRwdXQuXG4vL1xuLy8gICAgICAgICAyLiAgQXBwZW5kIGEgc2luZ2xlIFNQIHRvIG91dHB1dC5cbi8vXG4vLyAzLiAgUmV0dXJuIG91dHB1dC5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEaWN0KGRpY3QsIG9wdGlvbnMgPSB7IHdoaXRlc3BhY2U6IHRydWUgfSkge1xuICAgIGlmICh0eXBlb2YgZGljdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3IoZGljdCwgRElDVCk7XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBkaWN0IGluc3RhbmNlb2YgTWFwID8gZGljdC5lbnRyaWVzKCkgOiBPYmplY3QuZW50cmllcyhkaWN0KTtcbiAgICBjb25zdCBvcHRpb25hbFdoaXRlU3BhY2UgPSBvcHRpb25zPy53aGl0ZXNwYWNlID8gJyAnIDogJyc7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZW50cmllcylcbiAgICAgICAgLm1hcCgoW2tleSwgaXRlbV0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBTZkl0ZW0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpdGVtID0gbmV3IFNmSXRlbShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0cHV0ID0gc2VyaWFsaXplS2V5KGtleSk7XG4gICAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplUGFyYW1zKGl0ZW0ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dCArPSAnPSc7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSBzZXJpYWxpemVJbm5lckxpc3QoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplSXRlbShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0pXG4gICAgICAgIC5qb2luKGAsJHtvcHRpb25hbFdoaXRlU3BhY2V9YCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVEaWN0LmpzLm1hcCIsICJpbXBvcnQgeyBzZXJpYWxpemVEaWN0IH0gZnJvbSAnLi9zZXJpYWxpemUvc2VyaWFsaXplRGljdC5qcyc7XG4vKipcbiAqIEVuY29kZSBhbiBvYmplY3QgaW50byBhIHN0cnVjdHVyZWQgZmllbGQgZGljdGlvbmFyeVxuICpcbiAqIEBwYXJhbSBpbnB1dCAtIFRoZSBzdHJ1Y3R1cmVkIGZpZWxkIGRpY3Rpb25hcnkgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBUaGUgc3RydWN0dXJlZCBmaWVsZCBzdHJpbmdcbiAqXG4gKiBAZ3JvdXAgU3RydWN0dXJlZCBGaWVsZFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVTZkRpY3QodmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplRGljdCh2YWx1ZSwgb3B0aW9ucyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGVTZkRpY3QuanMubWFwIiwgIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBrZXkgaXMgYSB0b2tlbiBmaWVsZC5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGtleSBpcyBhIHRva2VuIGZpZWxkLlxuICpcbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBncm91cCBDTUNEXG4gKi9cbmV4cG9ydCBjb25zdCBpc1Rva2VuRmllbGQgPSAoa2V5KSA9PiBrZXkgPT09ICdvdCcgfHwga2V5ID09PSAnc2YnIHx8IGtleSA9PT0gJ3N0Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzVG9rZW5GaWVsZC5qcy5tYXAiLCAiZXhwb3J0IGNvbnN0IGlzVmFsaWQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09ICcnICYmIHZhbHVlICE9PSBmYWxzZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1ZhbGlkLmpzLm1hcCIsICIvKipcbiAqIENvbnN0cnVjdHMgYSByZWxhdGl2ZSBwYXRoIGZyb20gYSBVUkwuXG4gKlxuICogQHBhcmFtIHVybCAtIFRoZSBkZXN0aW5hdGlvbiBVUkxcbiAqIEBwYXJhbSBiYXNlIC0gVGhlIGJhc2UgVVJMXG4gKiBAcmV0dXJucyBUaGUgcmVsYXRpdmUgcGF0aFxuICpcbiAqIEBncm91cCBVdGlsc1xuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cmxUb1JlbGF0aXZlUGF0aCh1cmwsIGJhc2UpIHtcbiAgICBjb25zdCB0byA9IG5ldyBVUkwodXJsKTtcbiAgICBjb25zdCBmcm9tID0gbmV3IFVSTChiYXNlKTtcbiAgICBpZiAodG8ub3JpZ2luICE9PSBmcm9tLm9yaWdpbikge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBjb25zdCB0b1BhdGggPSB0by5wYXRobmFtZS5zcGxpdCgnLycpLnNsaWNlKDEpO1xuICAgIGNvbnN0IGZyb21QYXRoID0gZnJvbS5wYXRobmFtZS5zcGxpdCgnLycpLnNsaWNlKDEsIC0xKTtcbiAgICAvLyByZW1vdmUgY29tbW9uIHBhcmVudHNcbiAgICB3aGlsZSAodG9QYXRoWzBdID09PSBmcm9tUGF0aFswXSkge1xuICAgICAgICB0b1BhdGguc2hpZnQoKTtcbiAgICAgICAgZnJvbVBhdGguc2hpZnQoKTtcbiAgICB9XG4gICAgLy8gYWRkIGJhY2sgcGF0aHNcbiAgICB3aGlsZSAoZnJvbVBhdGgubGVuZ3RoKSB7XG4gICAgICAgIGZyb21QYXRoLnNoaWZ0KCk7XG4gICAgICAgIHRvUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgICByZXR1cm4gdG9QYXRoLmpvaW4oJy8nKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybFRvUmVsYXRpdmVQYXRoLmpzLm1hcCIsICIvKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIHY0IFVVSURcbiAqXG4gKiBAcmV0dXJucyBBIHJhbmRvbSB2NCBVVUlEXG4gKlxuICogQGdyb3VwIFV0aWxzXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYigpKTtcbiAgICAgICAgICAgIGNvbnN0IHV1aWQgPSB1cmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgIHJldHVybiB1dWlkLnNsaWNlKHV1aWQubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGV0IGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAoZHQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xuICAgICAgICAgICAgICAgIGR0ID0gTWF0aC5mbG9vcihkdCAvIDE2KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdXVpZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV1aWQuanMubWFwIiwgImltcG9ydCB7IHVybFRvUmVsYXRpdmVQYXRoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuY29uc3QgdG9Sb3VuZGVkID0gKHZhbHVlKSA9PiBNYXRoLnJvdW5kKHZhbHVlKTtcbmNvbnN0IHRvVXJsU2FmZSA9ICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChvcHRpb25zPy5iYXNlVXJsKSB7XG4gICAgICAgIHZhbHVlID0gdXJsVG9SZWxhdGl2ZVBhdGgodmFsdWUsIG9wdGlvbnMuYmFzZVVybCk7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xufTtcbmNvbnN0IHRvSHVuZHJlZCA9ICh2YWx1ZSkgPT4gdG9Sb3VuZGVkKHZhbHVlIC8gMTAwKSAqIDEwMDtcbi8qKlxuICogVGhlIGRlZmF1bHQgZm9ybWF0dGVycyBmb3IgQ01DRCB2YWx1ZXMuXG4gKlxuICogQGdyb3VwIENNQ0RcbiAqXG4gKiBAYmV0YVxuICovXG5leHBvcnQgY29uc3QgQ21jZEZvcm1hdHRlcnMgPSB7XG4gICAgLyoqXG4gICAgICogQml0cmF0ZSAoa2Jwcykgcm91bmRlZCBpbnRlZ2VyXG4gICAgICovXG4gICAgYnI6IHRvUm91bmRlZCxcbiAgICAvKipcbiAgICAgKiBEdXJhdGlvbiAobWlsbGlzZWNvbmRzKSByb3VuZGVkIGludGVnZXJcbiAgICAgKi9cbiAgICBkOiB0b1JvdW5kZWQsXG4gICAgLyoqXG4gICAgICogQnVmZmVyIExlbmd0aCAobWlsbGlzZWNvbmRzKSByb3VuZGVkIG5lYXJlc3QgMTAwbXNcbiAgICAgKi9cbiAgICBibDogdG9IdW5kcmVkLFxuICAgIC8qKlxuICAgICAqIERlYWRsaW5lIChtaWxsaXNlY29uZHMpIHJvdW5kZWQgbmVhcmVzdCAxMDBtc1xuICAgICAqL1xuICAgIGRsOiB0b0h1bmRyZWQsXG4gICAgLyoqXG4gICAgICogTWVhc3VyZWQgVGhyb3VnaHB1dCAoa2Jwcykgcm91bmRlZCBuZWFyZXN0IDEwMGticHNcbiAgICAgKi9cbiAgICBtdHA6IHRvSHVuZHJlZCxcbiAgICAvKipcbiAgICAgKiBOZXh0IE9iamVjdCBSZXF1ZXN0IFVSTCBlbmNvZGVkXG4gICAgICovXG4gICAgbm9yOiB0b1VybFNhZmUsXG4gICAgLyoqXG4gICAgICogUmVxdWVzdGVkIG1heGltdW0gdGhyb3VnaHB1dCAoa2Jwcykgcm91bmRlZCBuZWFyZXN0IDEwMGticHNcbiAgICAgKi9cbiAgICBydHA6IHRvSHVuZHJlZCxcbiAgICAvKipcbiAgICAgKiBUb3AgQml0cmF0ZSAoa2Jwcykgcm91bmRlZCBpbnRlZ2VyXG4gICAgICovXG4gICAgdGI6IHRvUm91bmRlZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbWNkRm9ybWF0dGVycy5qcy5tYXAiLCAiaW1wb3J0IHsgaXNUb2tlbkZpZWxkIH0gZnJvbSAnLi4vLi4vY3RhL3V0aWxzL2lzVG9rZW5GaWVsZC5qcyc7XG5pbXBvcnQgeyBpc1ZhbGlkIH0gZnJvbSAnLi4vLi4vY3RhL3V0aWxzL2lzVmFsaWQuanMnO1xuaW1wb3J0IHsgU2ZUb2tlbiB9IGZyb20gJy4uLy4uL3N0cnVjdHVyZWRmaWVsZC9TZlRva2VuLmpzJztcbmltcG9ydCB7IENtY2RGb3JtYXR0ZXJzIH0gZnJvbSAnLi4vQ21jZEZvcm1hdHRlcnMuanMnO1xuLyoqXG4gKiBJbnRlcm5hbCBDTUNEIHByb2Nlc3NpbmcgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIG9iaiAtIFRoZSBDTUNEIG9iamVjdCB0byBwcm9jZXNzLlxuICogQHBhcmFtIG1hcCAtIFRoZSBtYXBwaW5nIGZ1bmN0aW9uIHRvIHVzZS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgZW5jb2RpbmcuXG4gKlxuICogQGludGVybmFsXG4gKlxuICogQGdyb3VwIENNQ0RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NDbWNkKG9iaiwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSB7fTtcbiAgICBpZiAob2JqID09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbiAgICBjb25zdCBmb3JtYXR0ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgQ21jZEZvcm1hdHRlcnMsIG9wdGlvbnM/LmZvcm1hdHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlciA9IG9wdGlvbnM/LmZpbHRlcjtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcj8uKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gZm9ybWF0dGVyc1trZXldO1xuICAgICAgICBpZiAoZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGZvcm1hdHRlcih2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmVyc2lvbiBzaG91bGQgb25seSBiZSByZXBvcnRlZCBpZiBub3QgZXF1YWwgdG8gMS5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3YnICYmIHZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGxheWJhY2sgcmF0ZSBzaG91bGQgb25seSBiZSBzZW50IGlmIG5vdCBlcXVhbCB0byAxLlxuICAgICAgICBpZiAoa2V5ID09ICdwcicgJiYgdmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZ25vcmUgaW52YWxpZCB2YWx1ZXNcbiAgICAgICAgaWYgKCFpc1ZhbGlkKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Rva2VuRmllbGQoa2V5KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBTZlRva2VuKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2Nlc3NDbWNkLmpzLm1hcCIsICJpbXBvcnQgeyBlbmNvZGVTZkRpY3QgfSBmcm9tICcuLi9zdHJ1Y3R1cmVkZmllbGQuanMnO1xuaW1wb3J0IHsgcHJvY2Vzc0NtY2QgfSBmcm9tICcuL3V0aWxzL3Byb2Nlc3NDbWNkLmpzJztcbi8qKlxuICogRW5jb2RlIGEgQ01DRCBvYmplY3QgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGNtY2QgLSBUaGUgQ01DRCBvYmplY3QgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciBlbmNvZGluZy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgZW5jb2RlZCBDTUNEIHN0cmluZy5cbiAqXG4gKiBAZ3JvdXAgQ01DRFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVDbWNkKGNtY2QsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghY21jZCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVTZkRpY3QocHJvY2Vzc0NtY2QoY21jZCwgb3B0aW9ucyksIE9iamVjdC5hc3NpZ24oeyB3aGl0ZXNwYWNlOiBmYWxzZSB9LCBvcHRpb25zKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGVDbWNkLmpzLm1hcCIsICJpbXBvcnQgeyBDbWNkSGVhZGVyRmllbGQgfSBmcm9tICcuL0NtY2RIZWFkZXJGaWVsZC5qcyc7XG5pbXBvcnQgeyBDbWNkSGVhZGVyTWFwIH0gZnJvbSAnLi9DbWNkSGVhZGVyTWFwLmpzJztcbmltcG9ydCB7IGVuY29kZUNtY2QgfSBmcm9tICcuL2VuY29kZUNtY2QuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGEgQ01DRCBkYXRhIG9iamVjdCB0byByZXF1ZXN0IGhlYWRlcnNcbiAqXG4gKiBAcGFyYW0gY21jZCAtIFRoZSBDTUNEIGRhdGEgb2JqZWN0IHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIGVuY29kaW5nIHRoZSBDTUNEIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ01DRCBoZWFkZXIgc2hhcmRzLlxuICpcbiAqIEBncm91cCBDTUNEXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ21jZEhlYWRlcnMoY21jZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFjbWNkKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGNtY2QpO1xuICAgIGNvbnN0IGhlYWRlck1hcCA9IE9iamVjdC5lbnRyaWVzKENtY2RIZWFkZXJNYXApXG4gICAgICAgIC5jb25jYXQoT2JqZWN0LmVudHJpZXMob3B0aW9ucz8uY3VzdG9tSGVhZGVyTWFwIHx8IHt9KSk7XG4gICAgY29uc3Qgc2hhcmRzID0gZW50cmllcy5yZWR1Y2UoKGFjYywgZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cnk7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gaGVhZGVyTWFwLmZpbmQoZW50cnkgPT4gZW50cnlbMV0uaW5jbHVkZXMoa2V5KSk/LlswXSB8fCBDbWNkSGVhZGVyRmllbGQuUkVRVUVTVDtcbiAgICAgICAgYWNjW2ZpZWxkXSA/Pz0ge307XG4gICAgICAgIGFjY1tmaWVsZF1ba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2hhcmRzKVxuICAgICAgICAucmVkdWNlKChhY2MsIFtmaWVsZCwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGFjY1tmaWVsZF0gPSBlbmNvZGVDbWNkKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0NtY2RIZWFkZXJzLmpzLm1hcCIsICJpbXBvcnQgeyB0b0NtY2RIZWFkZXJzIH0gZnJvbSAnLi90b0NtY2RIZWFkZXJzLmpzJztcbi8qKlxuICogQXBwZW5kIENNQ0QgcXVlcnkgYXJncyB0byBhIGhlYWRlciBvYmplY3QuXG4gKlxuICogQHBhcmFtIGhlYWRlcnMgLSBUaGUgaGVhZGVycyB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0gY21jZCAtIFRoZSBDTUNEIG9iamVjdCB0byBhcHBlbmQuXG4gKiBAcGFyYW0gY3VzdG9tSGVhZGVyTWFwIC0gQSBtYXAgb2YgY3VzdG9tIENNQ0Qga2V5cyB0byBoZWFkZXIgZmllbGRzLlxuICpcbiAqIEByZXR1cm5zIFRoZSBoZWFkZXJzIHdpdGggdGhlIENNQ0QgaGVhZGVyIHNoYXJkcyBhcHBlbmRlZC5cbiAqXG4gKiBAZ3JvdXAgQ01DRFxuICpcbiAqIEBiZXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDbWNkSGVhZGVycyhoZWFkZXJzLCBjbWNkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaGVhZGVycywgdG9DbWNkSGVhZGVycyhjbWNkLCBvcHRpb25zKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHBlbmRDbWNkSGVhZGVycy5qcy5tYXAiLCAiLyoqXG4gKiBDTUNEIHBhcmFtZXRlciBuYW1lLlxuICpcbiAqIEBncm91cCBDTUNEXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGNvbnN0IENNQ0RfUEFSQU0gPSAnQ01DRCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DTUNEX1BBUkFNLmpzLm1hcCIsICJpbXBvcnQgeyBDTUNEX1BBUkFNIH0gZnJvbSAnLi9DTUNEX1BBUkFNLmpzJztcbmltcG9ydCB7IGVuY29kZUNtY2QgfSBmcm9tICcuL2VuY29kZUNtY2QuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGEgQ01DRCBkYXRhIG9iamVjdCB0byBhIHF1ZXJ5IGFyZy5cbiAqXG4gKiBAcGFyYW0gY21jZCAtIFRoZSBDTUNEIG9iamVjdCB0byBjb252ZXJ0LlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciBlbmNvZGluZyB0aGUgQ01DRCBvYmplY3QuXG4gKlxuICogQHJldHVybnMgVGhlIENNQ0QgcXVlcnkgYXJnLlxuICpcbiAqIEBncm91cCBDTUNEXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ21jZFF1ZXJ5KGNtY2QsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghY21jZCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IHBhcmFtcyA9IGVuY29kZUNtY2QoY21jZCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGAke0NNQ0RfUEFSQU19PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcyl9YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvQ21jZFF1ZXJ5LmpzLm1hcCIsICJpbXBvcnQgeyB0b0NtY2RRdWVyeSB9IGZyb20gJy4vdG9DbWNkUXVlcnkuanMnO1xuY29uc3QgUkVHRVggPSAvQ01DRD1bXiYjXSsvO1xuLyoqXG4gKiBBcHBlbmQgQ01DRCBxdWVyeSBhcmdzIHRvIGEgVVJMLlxuICpcbiAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIHRvIGFwcGVuZCB0by5cbiAqIEBwYXJhbSBjbWNkIC0gVGhlIENNQ0Qgb2JqZWN0IHRvIGFwcGVuZC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgZW5jb2RpbmcgdGhlIENNQ0Qgb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIFRoZSBVUkwgd2l0aCB0aGUgQ01DRCBxdWVyeSBhcmdzIGFwcGVuZGVkLlxuICpcbiAqIEBncm91cCBDTUNEXG4gKlxuICogQGJldGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZENtY2RRdWVyeSh1cmwsIGNtY2QsIG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggVVJMU2VhcmNoUGFyYW1zIG9uY2Ugd2UgZHJvcCBTYWZhcmkgPCAxMC4xICYgQ2hyb21lIDwgNDkgc3VwcG9ydC5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVVJMU2VhcmNoUGFyYW1zXG4gICAgY29uc3QgcXVlcnkgPSB0b0NtY2RRdWVyeShjbWNkLCBvcHRpb25zKTtcbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIGlmIChSRUdFWC50ZXN0KHVybCkpIHtcbiAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKFJFR0VYLCBxdWVyeSk7XG4gICAgfVxuICAgIGNvbnN0IHNlcGFyYXRvciA9IHVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nO1xuICAgIHJldHVybiBgJHt1cmx9JHtzZXBhcmF0b3J9JHtxdWVyeX1gO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwZW5kQ21jZFF1ZXJ5LmpzLm1hcCIsICJpbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHsgQ21jZCB9IGZyb20gJ0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2NtY2QvQ21jZCc7XG5pbXBvcnQgeyBDbWNkT2JqZWN0VHlwZSB9IGZyb20gJ0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2NtY2QvQ21jZE9iamVjdFR5cGUnO1xuaW1wb3J0IHsgQ21jZFN0cmVhbWluZ0Zvcm1hdCB9IGZyb20gJ0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2NtY2QvQ21jZFN0cmVhbWluZ0Zvcm1hdCc7XG5pbXBvcnQgeyBhcHBlbmRDbWNkSGVhZGVycyB9IGZyb20gJ0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L2NtY2QvYXBwZW5kQ21jZEhlYWRlcnMnO1xuaW1wb3J0IHsgYXBwZW5kQ21jZFF1ZXJ5IH0gZnJvbSAnQHN2dGEvY29tbW9uLW1lZGlhLWxpYnJhcnkvY21jZC9hcHBlbmRDbWNkUXVlcnknO1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gJ0BzdnRhL2NvbW1vbi1tZWRpYS1saWJyYXJ5L3V0aWxzL3V1aWQnO1xuaW1wb3J0IHsgQnVmZmVySGVscGVyIH0gZnJvbSAnLi4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRBUEkgfSBmcm9tICcuLi90eXBlcy9jb21wb25lbnQtYXBpJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IHR5cGUgeyBCdWZmZXJDcmVhdGVkRGF0YSwgTWVkaWFBdHRhY2hlZERhdGEgfSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUge1xuICBGcmFnbWVudExvYWRlckNvbnRleHQsXG4gIExvYWRlcixcbiAgTG9hZGVyQ2FsbGJhY2tzLFxuICBMb2FkZXJDb25maWd1cmF0aW9uLFxuICBMb2FkZXJDb250ZXh0LFxuICBQbGF5bGlzdExvYWRlckNvbnRleHQsXG59IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEZyYWdtZW50TG9hZGVyQ29uc3RydWN0b3IsXG4gIEhsc0NvbmZpZyxcbiAgUGxheWxpc3RMb2FkZXJDb25zdHJ1Y3Rvcixcbn0gZnJvbSAnLi4vY29uZmlnJztcblxuLyoqXG4gKiBDb250cm9sbGVyIHRvIGRlYWwgd2l0aCBDb21tb24gTWVkaWEgQ2xpZW50IERhdGEgKENNQ0QpXG4gKiBAc2VlIGh0dHBzOi8vY2RuLmN0YS50ZWNoL2N0YS9tZWRpYS9tZWRpYS9yZXNvdXJjZXMvc3RhbmRhcmRzL3BkZnMvY3RhLTUwMDQtZmluYWwucGRmXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENNQ0RDb250cm9sbGVyIGltcGxlbWVudHMgQ29tcG9uZW50QVBJIHtcbiAgcHJpdmF0ZSBobHM6IEhscztcbiAgcHJpdmF0ZSBjb25maWc6IEhsc0NvbmZpZztcbiAgcHJpdmF0ZSBtZWRpYT86IEhUTUxNZWRpYUVsZW1lbnQ7XG4gIHByaXZhdGUgc2lkPzogc3RyaW5nO1xuICBwcml2YXRlIGNpZD86IHN0cmluZztcbiAgcHJpdmF0ZSB1c2VIZWFkZXJzOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaW5jbHVkZUtleXM/OiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHN0YXJ2ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBidWZmZXJpbmc6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIGF1ZGlvQnVmZmVyPzogU291cmNlQnVmZmVyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICBwcml2YXRlIHZpZGVvQnVmZmVyPzogU291cmNlQnVmZmVyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuXG4gIGNvbnN0cnVjdG9yKGhsczogSGxzKSB7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgY29uc3QgY29uZmlnID0gKHRoaXMuY29uZmlnID0gaGxzLmNvbmZpZyk7XG4gICAgY29uc3QgeyBjbWNkIH0gPSBjb25maWc7XG5cbiAgICBpZiAoY21jZCAhPSBudWxsKSB7XG4gICAgICBjb25maWcucExvYWRlciA9IHRoaXMuY3JlYXRlUGxheWxpc3RMb2FkZXIoKTtcbiAgICAgIGNvbmZpZy5mTG9hZGVyID0gdGhpcy5jcmVhdGVGcmFnbWVudExvYWRlcigpO1xuXG4gICAgICB0aGlzLnNpZCA9IGNtY2Quc2Vzc2lvbklkIHx8IHV1aWQoKTtcbiAgICAgIHRoaXMuY2lkID0gY21jZC5jb250ZW50SWQ7XG4gICAgICB0aGlzLnVzZUhlYWRlcnMgPSBjbWNkLnVzZUhlYWRlcnMgPT09IHRydWU7XG4gICAgICB0aGlzLmluY2x1ZGVLZXlzID0gY21jZC5pbmNsdWRlS2V5cztcbiAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0RFVEFDSEVELCB0aGlzLm9uTWVkaWFEZXRhY2hlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5CVUZGRVJfQ1JFQVRFRCwgdGhpcy5vbkJ1ZmZlckNyZWF0ZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGhscy5vZmYoRXZlbnRzLk1FRElBX0FUVEFDSEVELCB0aGlzLm9uTWVkaWFBdHRhY2hlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfREVUQUNIRUQsIHRoaXMub25NZWRpYURldGFjaGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5CVUZGRVJfQ1JFQVRFRCwgdGhpcy5vbkJ1ZmZlckNyZWF0ZWQsIHRoaXMpO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLm9uTWVkaWFEZXRhY2hlZCgpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuaGxzID0gdGhpcy5jb25maWcgPSB0aGlzLmF1ZGlvQnVmZmVyID0gdGhpcy52aWRlb0J1ZmZlciA9IG51bGw7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMub25XYWl0aW5nID0gdGhpcy5vblBsYXlpbmcgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1lZGlhQXR0YWNoZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NRURJQV9BVFRBQ0hFRCxcbiAgICBkYXRhOiBNZWRpYUF0dGFjaGVkRGF0YSxcbiAgKSB7XG4gICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgdGhpcy5tZWRpYS5hZGRFdmVudExpc3RlbmVyKCd3YWl0aW5nJywgdGhpcy5vbldhaXRpbmcpO1xuICAgIHRoaXMubWVkaWEuYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsIHRoaXMub25QbGF5aW5nKTtcbiAgfVxuXG4gIHByaXZhdGUgb25NZWRpYURldGFjaGVkKCkge1xuICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2FpdGluZycsIHRoaXMub25XYWl0aW5nKTtcbiAgICB0aGlzLm1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uUGxheWluZyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIG9uQnVmZmVyQ3JlYXRlZChcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9DUkVBVEVELFxuICAgIGRhdGE6IEJ1ZmZlckNyZWF0ZWREYXRhLFxuICApIHtcbiAgICB0aGlzLmF1ZGlvQnVmZmVyID0gZGF0YS50cmFja3MuYXVkaW8/LmJ1ZmZlcjtcbiAgICB0aGlzLnZpZGVvQnVmZmVyID0gZGF0YS50cmFja3MudmlkZW8/LmJ1ZmZlcjtcbiAgfVxuXG4gIHByaXZhdGUgb25XYWl0aW5nID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLnN0YXJ2ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuYnVmZmVyaW5nID0gdHJ1ZTtcbiAgfTtcblxuICBwcml2YXRlIG9uUGxheWluZyA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBiYXNlbGluZSBDTUNEIGRhdGFcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlRGF0YSgpOiBDbWNkIHtcbiAgICByZXR1cm4ge1xuICAgICAgdjogMSxcbiAgICAgIHNmOiBDbWNkU3RyZWFtaW5nRm9ybWF0LkhMUyxcbiAgICAgIHNpZDogdGhpcy5zaWQsXG4gICAgICBjaWQ6IHRoaXMuY2lkLFxuICAgICAgcHI6IHRoaXMubWVkaWE/LnBsYXliYWNrUmF0ZSxcbiAgICAgIG10cDogdGhpcy5obHMuYmFuZHdpZHRoRXN0aW1hdGUgLyAxMDAwLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgQ01DRCBkYXRhIHRvIGEgcmVxdWVzdC5cbiAgICovXG4gIHByaXZhdGUgYXBwbHkoY29udGV4dDogTG9hZGVyQ29udGV4dCwgZGF0YTogQ21jZCA9IHt9KSB7XG4gICAgLy8gYXBwbHkgYmFzZWxpbmUgZGF0YVxuICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgdGhpcy5jcmVhdGVEYXRhKCkpO1xuXG4gICAgY29uc3QgaXNWaWRlbyA9XG4gICAgICBkYXRhLm90ID09PSBDbWNkT2JqZWN0VHlwZS5JTklUIHx8XG4gICAgICBkYXRhLm90ID09PSBDbWNkT2JqZWN0VHlwZS5WSURFTyB8fFxuICAgICAgZGF0YS5vdCA9PT0gQ21jZE9iamVjdFR5cGUuTVVYRUQ7XG5cbiAgICBpZiAodGhpcy5zdGFydmVkICYmIGlzVmlkZW8pIHtcbiAgICAgIGRhdGEuYnMgPSB0cnVlO1xuICAgICAgZGF0YS5zdSA9IHRydWU7XG4gICAgICB0aGlzLnN0YXJ2ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zdSA9PSBudWxsKSB7XG4gICAgICBkYXRhLnN1ID0gdGhpcy5idWZmZXJpbmc7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IHJ0cCwgbnJyLCBub3IsIGRsXG5cbiAgICBjb25zdCB7IGluY2x1ZGVLZXlzIH0gPSB0aGlzO1xuICAgIGlmIChpbmNsdWRlS2V5cykge1xuICAgICAgZGF0YSA9IE9iamVjdC5rZXlzKGRhdGEpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgaW5jbHVkZUtleXMuaW5jbHVkZXMoa2V5KSAmJiAoYWNjW2tleV0gPSBkYXRhW2tleV0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZUhlYWRlcnMpIHtcbiAgICAgIGlmICghY29udGV4dC5oZWFkZXJzKSB7XG4gICAgICAgIGNvbnRleHQuaGVhZGVycyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBhcHBlbmRDbWNkSGVhZGVycyhjb250ZXh0LmhlYWRlcnMsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LnVybCA9IGFwcGVuZENtY2RRdWVyeShjb250ZXh0LnVybCwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IENNQ0QgZGF0YSB0byBhIG1hbmlmZXN0IHJlcXVlc3QuXG4gICAqL1xuICBwcml2YXRlIGFwcGx5UGxheWxpc3REYXRhID0gKGNvbnRleHQ6IFBsYXlsaXN0TG9hZGVyQ29udGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmFwcGx5KGNvbnRleHQsIHtcbiAgICAgICAgb3Q6IENtY2RPYmplY3RUeXBlLk1BTklGRVNULFxuICAgICAgICBzdTogIXRoaXMuaW5pdGlhbGl6ZWQsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLndhcm4oJ0NvdWxkIG5vdCBnZW5lcmF0ZSBtYW5pZmVzdCBDTUNEIGRhdGEuJywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQXBwbHkgQ01DRCBkYXRhIHRvIGEgc2VnbWVudCByZXF1ZXN0XG4gICAqL1xuICBwcml2YXRlIGFwcGx5RnJhZ21lbnREYXRhID0gKGNvbnRleHQ6IEZyYWdtZW50TG9hZGVyQ29udGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGNvbnRleHQuZnJhZztcbiAgICAgIGNvbnN0IGxldmVsID0gdGhpcy5obHMubGV2ZWxzW2ZyYWdtZW50LmxldmVsXTtcbiAgICAgIGNvbnN0IG90ID0gdGhpcy5nZXRPYmplY3RUeXBlKGZyYWdtZW50KTtcbiAgICAgIGNvbnN0IGRhdGE6IENtY2QgPSB7XG4gICAgICAgIGQ6IGZyYWdtZW50LmR1cmF0aW9uICogMTAwMCxcbiAgICAgICAgb3QsXG4gICAgICB9O1xuXG4gICAgICBpZiAoXG4gICAgICAgIG90ID09PSBDbWNkT2JqZWN0VHlwZS5WSURFTyB8fFxuICAgICAgICBvdCA9PT0gQ21jZE9iamVjdFR5cGUuQVVESU8gfHxcbiAgICAgICAgb3QgPT0gQ21jZE9iamVjdFR5cGUuTVVYRURcbiAgICAgICkge1xuICAgICAgICBkYXRhLmJyID0gbGV2ZWwuYml0cmF0ZSAvIDEwMDA7XG4gICAgICAgIGRhdGEudGIgPSB0aGlzLmdldFRvcEJhbmR3aWR0aChvdCkgLyAxMDAwO1xuICAgICAgICBkYXRhLmJsID0gdGhpcy5nZXRCdWZmZXJMZW5ndGgob3QpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFwcGx5KGNvbnRleHQsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIud2FybignQ291bGQgbm90IGdlbmVyYXRlIHNlZ21lbnQgQ01DRCBkYXRhLicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBDTUNEIG9iamVjdCB0eXBlLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRPYmplY3RUeXBlKGZyYWdtZW50OiBGcmFnbWVudCk6IENtY2RPYmplY3RUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7IHR5cGUgfSA9IGZyYWdtZW50O1xuXG4gICAgaWYgKHR5cGUgPT09ICdzdWJ0aXRsZScpIHtcbiAgICAgIHJldHVybiBDbWNkT2JqZWN0VHlwZS5USU1FRF9URVhUO1xuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5zbiA9PT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgcmV0dXJuIENtY2RPYmplY3RUeXBlLklOSVQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybiBDbWNkT2JqZWN0VHlwZS5BVURJTztcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICBpZiAoIXRoaXMuaGxzLmF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gQ21jZE9iamVjdFR5cGUuTVVYRUQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDbWNkT2JqZWN0VHlwZS5WSURFTztcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaGlnaGVzdCBiaXRyYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRUb3BCYW5kd2lkdGgodHlwZTogQ21jZE9iamVjdFR5cGUpIHtcbiAgICBsZXQgYml0cmF0ZTogbnVtYmVyID0gMDtcbiAgICBsZXQgbGV2ZWxzO1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuXG4gICAgaWYgKHR5cGUgPT09IENtY2RPYmplY3RUeXBlLkFVRElPKSB7XG4gICAgICBsZXZlbHMgPSBobHMuYXVkaW9UcmFja3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heCA9IGhscy5tYXhBdXRvTGV2ZWw7XG4gICAgICBjb25zdCBsZW4gPSBtYXggPiAtMSA/IG1heCArIDEgOiBobHMubGV2ZWxzLmxlbmd0aDtcbiAgICAgIGxldmVscyA9IGhscy5sZXZlbHMuc2xpY2UoMCwgbGVuKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGxldmVsIG9mIGxldmVscykge1xuICAgICAgaWYgKGxldmVsLmJpdHJhdGUgPiBiaXRyYXRlKSB7XG4gICAgICAgIGJpdHJhdGUgPSBsZXZlbC5iaXRyYXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiaXRyYXRlID4gMCA/IGJpdHJhdGUgOiBOYU47XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBidWZmZXIgbGVuZ3RoIGZvciBhIG1lZGlhIHR5cGUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICBwcml2YXRlIGdldEJ1ZmZlckxlbmd0aCh0eXBlOiBDbWNkT2JqZWN0VHlwZSkge1xuICAgIGNvbnN0IG1lZGlhID0gdGhpcy5obHMubWVkaWE7XG4gICAgY29uc3QgYnVmZmVyID1cbiAgICAgIHR5cGUgPT09IENtY2RPYmplY3RUeXBlLkFVRElPID8gdGhpcy5hdWRpb0J1ZmZlciA6IHRoaXMudmlkZW9CdWZmZXI7XG5cbiAgICBpZiAoIWJ1ZmZlciB8fCAhbWVkaWEpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgY29uc3QgaW5mbyA9IEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKFxuICAgICAgYnVmZmVyLFxuICAgICAgbWVkaWEuY3VycmVudFRpbWUsXG4gICAgICB0aGlzLmNvbmZpZy5tYXhCdWZmZXJIb2xlLFxuICAgICk7XG5cbiAgICByZXR1cm4gaW5mby5sZW4gKiAxMDAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHBsYXlsaXN0IGxvYWRlclxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVQbGF5bGlzdExvYWRlcigpOiBQbGF5bGlzdExvYWRlckNvbnN0cnVjdG9yIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7IHBMb2FkZXIgfSA9IHRoaXMuY29uZmlnO1xuICAgIGNvbnN0IGFwcGx5ID0gdGhpcy5hcHBseVBsYXlsaXN0RGF0YTtcbiAgICBjb25zdCBDdG9yID0gcExvYWRlciB8fCAodGhpcy5jb25maWcubG9hZGVyIGFzIFBsYXlsaXN0TG9hZGVyQ29uc3RydWN0b3IpO1xuXG4gICAgcmV0dXJuIGNsYXNzIENtY2RQbGF5bGlzdExvYWRlciB7XG4gICAgICBwcml2YXRlIGxvYWRlcjogTG9hZGVyPFBsYXlsaXN0TG9hZGVyQ29udGV4dD47XG5cbiAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogSGxzQ29uZmlnKSB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IEN0b3IoY29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgZ2V0IHN0YXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXIuc3RhdHM7XG4gICAgICB9XG5cbiAgICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXIuY29udGV4dDtcbiAgICAgIH1cblxuICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgbG9hZChcbiAgICAgICAgY29udGV4dDogUGxheWxpc3RMb2FkZXJDb250ZXh0LFxuICAgICAgICBjb25maWc6IExvYWRlckNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGNhbGxiYWNrczogTG9hZGVyQ2FsbGJhY2tzPFBsYXlsaXN0TG9hZGVyQ29udGV4dD4sXG4gICAgICApIHtcbiAgICAgICAgYXBwbHkoY29udGV4dCk7XG4gICAgICAgIHRoaXMubG9hZGVyLmxvYWQoY29udGV4dCwgY29uZmlnLCBjYWxsYmFja3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgcGxheWxpc3QgbG9hZGVyXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUZyYWdtZW50TG9hZGVyKCk6IEZyYWdtZW50TG9hZGVyQ29uc3RydWN0b3IgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHsgZkxvYWRlciB9ID0gdGhpcy5jb25maWc7XG4gICAgY29uc3QgYXBwbHkgPSB0aGlzLmFwcGx5RnJhZ21lbnREYXRhO1xuICAgIGNvbnN0IEN0b3IgPSBmTG9hZGVyIHx8ICh0aGlzLmNvbmZpZy5sb2FkZXIgYXMgRnJhZ21lbnRMb2FkZXJDb25zdHJ1Y3Rvcik7XG5cbiAgICByZXR1cm4gY2xhc3MgQ21jZEZyYWdtZW50TG9hZGVyIHtcbiAgICAgIHByaXZhdGUgbG9hZGVyOiBMb2FkZXI8RnJhZ21lbnRMb2FkZXJDb250ZXh0PjtcblxuICAgICAgY29uc3RydWN0b3IoY29uZmlnOiBIbHNDb25maWcpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBuZXcgQ3Rvcihjb25maWcpO1xuICAgICAgfVxuXG4gICAgICBnZXQgc3RhdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlci5zdGF0cztcbiAgICAgIH1cblxuICAgICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlci5jb250ZXh0O1xuICAgICAgfVxuXG4gICAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLmxvYWRlci5hYm9ydCgpO1xuICAgICAgfVxuXG4gICAgICBsb2FkKFxuICAgICAgICBjb250ZXh0OiBGcmFnbWVudExvYWRlckNvbnRleHQsXG4gICAgICAgIGNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgICAgICAgY2FsbGJhY2tzOiBMb2FkZXJDYWxsYmFja3M8RnJhZ21lbnRMb2FkZXJDb250ZXh0PixcbiAgICAgICkge1xuICAgICAgICBhcHBseShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5sb2FkZXIubG9hZChjb250ZXh0LCBjb25maWcsIGNhbGxiYWNrcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB7IHJlYXNzaWduRnJhZ21lbnRMZXZlbEluZGV4ZXMgfSBmcm9tICcuLi91dGlscy9sZXZlbC1oZWxwZXInO1xuaW1wb3J0IHsgQXR0ckxpc3QgfSBmcm9tICcuLi91dGlscy9hdHRyLWxpc3QnO1xuaW1wb3J0IHsgRXJyb3JBY3Rpb25GbGFncywgTmV0d29ya0Vycm9yQWN0aW9uIH0gZnJvbSAnLi9lcnJvci1jb250cm9sbGVyJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQge1xuICBQbGF5bGlzdENvbnRleHRUeXBlLFxuICB0eXBlIExvYWRlcixcbiAgdHlwZSBMb2FkZXJDYWxsYmFja3MsXG4gIHR5cGUgTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgdHlwZSBMb2FkZXJDb250ZXh0LFxuICB0eXBlIExvYWRlclJlc3BvbnNlLFxuICB0eXBlIExvYWRlclN0YXRzLFxufSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4uL2hscyc7XG5pbXBvcnQgdHlwZSB7IE5ldHdvcmtDb21wb25lbnRBUEkgfSBmcm9tICcuLi90eXBlcy9jb21wb25lbnQtYXBpJztcbmltcG9ydCB0eXBlIHtcbiAgU3RlZXJpbmdNYW5pZmVzdExvYWRlZERhdGEsXG4gIEVycm9yRGF0YSxcbiAgTWFuaWZlc3RMb2FkZWREYXRhLFxuICBNYW5pZmVzdFBhcnNlZERhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IFJldHJ5Q29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcblxuaW1wb3J0IHR5cGUgeyBNZWRpYUF0dHJpYnV0ZXMsIE1lZGlhUGxheWxpc3QgfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5cbmV4cG9ydCB0eXBlIFN0ZWVyaW5nTWFuaWZlc3QgPSB7XG4gIFZFUlNJT046IDE7XG4gIFRUTDogbnVtYmVyO1xuICAnUkVMT0FELVVSSSc/OiBzdHJpbmc7XG4gICdQQVRIV0FZLVBSSU9SSVRZJzogc3RyaW5nW107XG4gICdQQVRIV0FZLUNMT05FUyc/OiBQYXRod2F5Q2xvbmVbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFBhdGh3YXlDbG9uZSA9IHtcbiAgJ0JBU0UtSUQnOiBzdHJpbmc7XG4gIElEOiBzdHJpbmc7XG4gICdVUkktUkVQTEFDRU1FTlQnOiBVcmlSZXBsYWNlbWVudDtcbn07XG5cbmV4cG9ydCB0eXBlIFVyaVJlcGxhY2VtZW50ID0ge1xuICBIT1NUPzogc3RyaW5nO1xuICBQQVJBTVM/OiB7IFtxdWVyeVBhcmFtZXRlcjogc3RyaW5nXTogc3RyaW5nIH07XG4gICdQRVItVkFSSUFOVC1VUklTJz86IHsgW3N0YWJsZVZhcmlhbnRJZDogc3RyaW5nXTogc3RyaW5nIH07XG4gICdQRVItUkVORElUSU9OLVVSSVMnPzogeyBbc3RhYmxlUmVuZGl0aW9uSWQ6IHN0cmluZ106IHN0cmluZyB9O1xufTtcblxuY29uc3QgUEFUSFdBWV9QRU5BTFRZX0RVUkFUSU9OX01TID0gMzAwMDAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIGltcGxlbWVudHMgTmV0d29ya0NvbXBvbmVudEFQSSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGxzOiBIbHM7XG4gIHByaXZhdGUgbG9nOiAobXNnOiBhbnkpID0+IHZvaWQ7XG4gIHByaXZhdGUgbG9hZGVyOiBMb2FkZXI8TG9hZGVyQ29udGV4dD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB1cmk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHBhdGh3YXlJZDogc3RyaW5nID0gJy4nO1xuICBwcml2YXRlIHBhdGh3YXlQcmlvcml0eTogc3RyaW5nW10gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0aW1lVG9Mb2FkOiBudW1iZXIgPSAzMDA7XG4gIHByaXZhdGUgcmVsb2FkVGltZXI6IG51bWJlciA9IC0xO1xuICBwcml2YXRlIHVwZGF0ZWQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgc3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIGxldmVsczogTGV2ZWxbXSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGF1ZGlvVHJhY2tzOiBNZWRpYVBsYXlsaXN0W10gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzdWJ0aXRsZVRyYWNrczogTWVkaWFQbGF5bGlzdFtdIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGVuYWxpemVkUGF0aHdheXM6IHsgW3BhdGh3YXlJZDogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihobHM6IEhscykge1xuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMubG9nID0gbG9nZ2VyLmxvZy5iaW5kKGxvZ2dlciwgYFtjb250ZW50LXN0ZWVyaW5nXTpgKTtcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGhscyA9IHRoaXMuaGxzO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHRoaXMub25NYW5pZmVzdExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsIHRoaXMub25NYW5pZmVzdFBhcnNlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCBobHMgPSB0aGlzLmhscztcbiAgICBpZiAoIWhscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLCB0aGlzLm9uTWFuaWZlc3RMb2FkaW5nLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHRoaXMub25NYW5pZmVzdExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICB9XG5cbiAgc3RhcnRMb2FkKCkge1xuICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgICBpZiAodGhpcy5lbmFibGVkICYmIHRoaXMudXJpKSB7XG4gICAgICBpZiAodGhpcy51cGRhdGVkKSB7XG4gICAgICAgIGNvbnN0IHR0bCA9IHRoaXMudGltZVRvTG9hZCAqIDEwMDAgLSAocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnVwZGF0ZWQpO1xuICAgICAgICBpZiAodHRsID4gMCkge1xuICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZWZyZXNoKHRoaXMudXJpLCB0dGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sb2FkU3RlZXJpbmdNYW5pZmVzdCh0aGlzLnVyaSk7XG4gICAgfVxuICB9XG5cbiAgc3RvcExvYWQoKSB7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMubG9hZGVyKSB7XG4gICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIH1cblxuICBjbGVhclRpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMucmVsb2FkVGltZXIgIT09IC0xKSB7XG4gICAgICBzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJlbG9hZFRpbWVyKTtcbiAgICAgIHRoaXMucmVsb2FkVGltZXIgPSAtMTtcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5obHMgPSBudWxsO1xuICAgIHRoaXMubGV2ZWxzID0gdGhpcy5hdWRpb1RyYWNrcyA9IHRoaXMuc3VidGl0bGVUcmFja3MgPSBudWxsO1xuICB9XG5cbiAgcmVtb3ZlTGV2ZWwobGV2ZWxUb1JlbW92ZTogTGV2ZWwpIHtcbiAgICBjb25zdCBsZXZlbHMgPSB0aGlzLmxldmVscztcbiAgICBpZiAobGV2ZWxzKSB7XG4gICAgICB0aGlzLmxldmVscyA9IGxldmVscy5maWx0ZXIoKGxldmVsKSA9PiBsZXZlbCAhPT0gbGV2ZWxUb1JlbW92ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnRpbWVUb0xvYWQgPSAzMDA7XG4gICAgdGhpcy51cGRhdGVkID0gMDtcbiAgICB0aGlzLnVyaSA9IG51bGw7XG4gICAgdGhpcy5wYXRod2F5SWQgPSAnLic7XG4gICAgdGhpcy5sZXZlbHMgPSB0aGlzLmF1ZGlvVHJhY2tzID0gdGhpcy5zdWJ0aXRsZVRyYWNrcyA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIG9uTWFuaWZlc3RMb2FkZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsXG4gICAgZGF0YTogTWFuaWZlc3RMb2FkZWREYXRhLFxuICApIHtcbiAgICBjb25zdCB7IGNvbnRlbnRTdGVlcmluZyB9ID0gZGF0YTtcbiAgICBpZiAoY29udGVudFN0ZWVyaW5nID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucGF0aHdheUlkID0gY29udGVudFN0ZWVyaW5nLnBhdGh3YXlJZDtcbiAgICB0aGlzLnVyaSA9IGNvbnRlbnRTdGVlcmluZy51cmk7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5zdGFydExvYWQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uTWFuaWZlc3RQYXJzZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsXG4gICAgZGF0YTogTWFuaWZlc3RQYXJzZWREYXRhLFxuICApIHtcbiAgICB0aGlzLmF1ZGlvVHJhY2tzID0gZGF0YS5hdWRpb1RyYWNrcztcbiAgICB0aGlzLnN1YnRpdGxlVHJhY2tzID0gZGF0YS5zdWJ0aXRsZVRyYWNrcztcbiAgfVxuXG4gIHByaXZhdGUgb25FcnJvcihldmVudDogRXZlbnRzLkVSUk9SLCBkYXRhOiBFcnJvckRhdGEpIHtcbiAgICBjb25zdCB7IGVycm9yQWN0aW9uIH0gPSBkYXRhO1xuICAgIGlmIChcbiAgICAgIGVycm9yQWN0aW9uPy5hY3Rpb24gPT09IE5ldHdvcmtFcnJvckFjdGlvbi5TZW5kQWx0ZXJuYXRlVG9QZW5hbHR5Qm94ICYmXG4gICAgICBlcnJvckFjdGlvbi5mbGFncyA9PT0gRXJyb3JBY3Rpb25GbGFncy5Nb3ZlQWxsQWx0ZXJuYXRlc01hdGNoaW5nSG9zdFxuICAgICkge1xuICAgICAgY29uc3QgbGV2ZWxzID0gdGhpcy5sZXZlbHM7XG4gICAgICBsZXQgcGF0aHdheVByaW9yaXR5ID0gdGhpcy5wYXRod2F5UHJpb3JpdHk7XG4gICAgICBsZXQgZXJyb3JQYXRod2F5ID0gdGhpcy5wYXRod2F5SWQ7XG4gICAgICBpZiAoZGF0YS5jb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBJZCwgcGF0aHdheUlkLCB0eXBlIH0gPSBkYXRhLmNvbnRleHQ7XG4gICAgICAgIGlmIChncm91cElkICYmIGxldmVscykge1xuICAgICAgICAgIGVycm9yUGF0aHdheSA9IHRoaXMuZ2V0UGF0aHdheUZvckdyb3VwSWQoZ3JvdXBJZCwgdHlwZSwgZXJyb3JQYXRod2F5KTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRod2F5SWQpIHtcbiAgICAgICAgICBlcnJvclBhdGh3YXkgPSBwYXRod2F5SWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghKGVycm9yUGF0aHdheSBpbiB0aGlzLnBlbmFsaXplZFBhdGh3YXlzKSkge1xuICAgICAgICB0aGlzLnBlbmFsaXplZFBhdGh3YXlzW2Vycm9yUGF0aHdheV0gPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIH1cbiAgICAgIGlmICghcGF0aHdheVByaW9yaXR5ICYmIGxldmVscykge1xuICAgICAgICAvLyBJZiBQQVRIV0FZLVBSSU9SSVRZIHdhcyBub3QgcHJvdmlkZWQsIGxpc3QgcGF0aHdheXMgZm9yIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIHBhdGh3YXlQcmlvcml0eSA9IGxldmVscy5yZWR1Y2UoKHBhdGh3YXlzLCBsZXZlbCkgPT4ge1xuICAgICAgICAgIGlmIChwYXRod2F5cy5pbmRleE9mKGxldmVsLnBhdGh3YXlJZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBwYXRod2F5cy5wdXNoKGxldmVsLnBhdGh3YXlJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXRod2F5cztcbiAgICAgICAgfSwgW10gYXMgc3RyaW5nW10pO1xuICAgICAgfVxuICAgICAgaWYgKHBhdGh3YXlQcmlvcml0eSAmJiBwYXRod2F5UHJpb3JpdHkubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVBhdGh3YXlQcmlvcml0eShwYXRod2F5UHJpb3JpdHkpO1xuICAgICAgICBlcnJvckFjdGlvbi5yZXNvbHZlZCA9IHRoaXMucGF0aHdheUlkICE9PSBlcnJvclBhdGh3YXk7XG4gICAgICB9XG4gICAgICBpZiAoIWVycm9yQWN0aW9uLnJlc29sdmVkKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgIGBDb3VsZCBub3QgcmVzb2x2ZSAke2RhdGEuZGV0YWlsc30gKFwiJHtcbiAgICAgICAgICAgIGRhdGEuZXJyb3IubWVzc2FnZVxuICAgICAgICAgIH1cIikgd2l0aCBjb250ZW50LXN0ZWVyaW5nIGZvciBQYXRod2F5OiAke2Vycm9yUGF0aHdheX0gbGV2ZWxzOiAke1xuICAgICAgICAgICAgbGV2ZWxzID8gbGV2ZWxzLmxlbmd0aCA6IGxldmVsc1xuICAgICAgICAgIH0gcHJpb3JpdGllczogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIHBhdGh3YXlQcmlvcml0eSxcbiAgICAgICAgICApfSBwZW5hbGl6ZWQ6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5wZW5hbGl6ZWRQYXRod2F5cyl9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZmlsdGVyUGFyc2VkTGV2ZWxzKGxldmVsczogTGV2ZWxbXSk6IExldmVsW10ge1xuICAgIC8vIEZpbHRlciBsZXZlbHMgdG8gb25seSBpbmNsdWRlIHRob3NlIHRoYXQgYXJlIGluIHRoZSBpbml0aWFsIHBhdGh3YXlcbiAgICB0aGlzLmxldmVscyA9IGxldmVscztcbiAgICBsZXQgcGF0aHdheUxldmVscyA9IHRoaXMuZ2V0TGV2ZWxzRm9yUGF0aHdheSh0aGlzLnBhdGh3YXlJZCk7XG4gICAgaWYgKHBhdGh3YXlMZXZlbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBwYXRod2F5SWQgPSBsZXZlbHNbMF0ucGF0aHdheUlkO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBObyBsZXZlbHMgZm91bmQgaW4gUGF0aHdheSAke3RoaXMucGF0aHdheUlkfS4gU2V0dGluZyBpbml0aWFsIFBhdGh3YXkgdG8gXCIke3BhdGh3YXlJZH1cImAsXG4gICAgICApO1xuICAgICAgcGF0aHdheUxldmVscyA9IHRoaXMuZ2V0TGV2ZWxzRm9yUGF0aHdheShwYXRod2F5SWQpO1xuICAgICAgdGhpcy5wYXRod2F5SWQgPSBwYXRod2F5SWQ7XG4gICAgfVxuICAgIGlmIChwYXRod2F5TGV2ZWxzLmxlbmd0aCAhPT0gbGV2ZWxzLmxlbmd0aCkge1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBGb3VuZCAke3BhdGh3YXlMZXZlbHMubGVuZ3RofS8ke2xldmVscy5sZW5ndGh9IGxldmVscyBpbiBQYXRod2F5IFwiJHt0aGlzLnBhdGh3YXlJZH1cImAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHBhdGh3YXlMZXZlbHM7XG4gICAgfVxuICAgIHJldHVybiBsZXZlbHM7XG4gIH1cblxuICBwcml2YXRlIGdldExldmVsc0ZvclBhdGh3YXkocGF0aHdheUlkOiBzdHJpbmcpOiBMZXZlbFtdIHtcbiAgICBpZiAodGhpcy5sZXZlbHMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxzLmZpbHRlcigobGV2ZWwpID0+IHBhdGh3YXlJZCA9PT0gbGV2ZWwucGF0aHdheUlkKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUGF0aHdheVByaW9yaXR5KHBhdGh3YXlQcmlvcml0eTogc3RyaW5nW10pIHtcbiAgICB0aGlzLnBhdGh3YXlQcmlvcml0eSA9IHBhdGh3YXlQcmlvcml0eTtcbiAgICBsZXQgbGV2ZWxzOiBMZXZlbFtdIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gRXZhbHVhdGUgaWYgd2Ugc2hvdWxkIHJlbW92ZSB0aGUgcGF0aHdheSBmcm9tIHRoZSBwZW5hbGl6ZWQgbGlzdFxuICAgIGNvbnN0IHBlbmFsaXplZFBhdGh3YXlzID0gdGhpcy5wZW5hbGl6ZWRQYXRod2F5cztcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBPYmplY3Qua2V5cyhwZW5hbGl6ZWRQYXRod2F5cykuZm9yRWFjaCgocGF0aHdheUlkKSA9PiB7XG4gICAgICBpZiAobm93IC0gcGVuYWxpemVkUGF0aHdheXNbcGF0aHdheUlkXSA+IFBBVEhXQVlfUEVOQUxUWV9EVVJBVElPTl9NUykge1xuICAgICAgICBkZWxldGUgcGVuYWxpemVkUGF0aHdheXNbcGF0aHdheUlkXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGh3YXlQcmlvcml0eS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGF0aHdheUlkID0gcGF0aHdheVByaW9yaXR5W2ldO1xuICAgICAgaWYgKHBhdGh3YXlJZCBpbiBwZW5hbGl6ZWRQYXRod2F5cykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXRod2F5SWQgPT09IHRoaXMucGF0aHdheUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSB0aGlzLmhscy5uZXh0TG9hZExldmVsO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRMZXZlbDogTGV2ZWwgPSB0aGlzLmhscy5sZXZlbHNbc2VsZWN0ZWRJbmRleF07XG4gICAgICBsZXZlbHMgPSB0aGlzLmdldExldmVsc0ZvclBhdGh3YXkocGF0aHdheUlkKTtcbiAgICAgIGlmIChsZXZlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmxvZyhgU2V0dGluZyBQYXRod2F5IHRvIFwiJHtwYXRod2F5SWR9XCJgKTtcbiAgICAgICAgdGhpcy5wYXRod2F5SWQgPSBwYXRod2F5SWQ7XG4gICAgICAgIHJlYXNzaWduRnJhZ21lbnRMZXZlbEluZGV4ZXMobGV2ZWxzKTtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuTEVWRUxTX1VQREFURUQsIHsgbGV2ZWxzIH0pO1xuICAgICAgICAvLyBTZXQgTGV2ZWxDb250cm9sbGVyJ3MgbGV2ZWwgdG8gdHJpZ2dlciBMRVZFTF9TV0lUQ0hJTkcgd2hpY2ggbG9hZHMgcGxheWxpc3QgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IGxldmVsQWZ0ZXJDaGFuZ2UgPSB0aGlzLmhscy5sZXZlbHNbc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGlmIChzZWxlY3RlZExldmVsICYmIGxldmVsQWZ0ZXJDaGFuZ2UgJiYgdGhpcy5sZXZlbHMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsZXZlbEFmdGVyQ2hhbmdlLmF0dHJzWydTVEFCTEUtVkFSSUFOVC1JRCddICE9PVxuICAgICAgICAgICAgICBzZWxlY3RlZExldmVsLmF0dHJzWydTVEFCTEUtVkFSSUFOVC1JRCddICYmXG4gICAgICAgICAgICBsZXZlbEFmdGVyQ2hhbmdlLmJpdHJhdGUgIT09IHNlbGVjdGVkTGV2ZWwuYml0cmF0ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIGBVbnN0YWJsZSBQYXRod2F5cyBjaGFuZ2UgZnJvbSBiaXRyYXRlICR7c2VsZWN0ZWRMZXZlbC5iaXRyYXRlfSB0byAke2xldmVsQWZ0ZXJDaGFuZ2UuYml0cmF0ZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5obHMubmV4dExvYWRMZXZlbCA9IHNlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYXRod2F5Rm9yR3JvdXBJZChcbiAgICBncm91cElkOiBzdHJpbmcsXG4gICAgdHlwZTogUGxheWxpc3RDb250ZXh0VHlwZSxcbiAgICBkZWZhdWx0UGF0aHdheTogc3RyaW5nLFxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGxldmVscyA9IHRoaXMuZ2V0TGV2ZWxzRm9yUGF0aHdheShkZWZhdWx0UGF0aHdheSkuY29uY2F0KFxuICAgICAgdGhpcy5sZXZlbHMgfHwgW10sXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAodHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5BVURJT19UUkFDSyAmJlxuICAgICAgICAgIGxldmVsc1tpXS5oYXNBdWRpb0dyb3VwKGdyb3VwSWQpKSB8fFxuICAgICAgICAodHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5TVUJUSVRMRV9UUkFDSyAmJlxuICAgICAgICAgIGxldmVsc1tpXS5oYXNTdWJ0aXRsZUdyb3VwKGdyb3VwSWQpKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBsZXZlbHNbaV0ucGF0aHdheUlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFBhdGh3YXk7XG4gIH1cblxuICBwcml2YXRlIGNsb25lUGF0aHdheXMocGF0aHdheUNsb25lczogUGF0aHdheUNsb25lW10pIHtcbiAgICBjb25zdCBsZXZlbHMgPSB0aGlzLmxldmVscztcbiAgICBpZiAoIWxldmVscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhdWRpb0dyb3VwQ2xvbmVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBjb25zdCBzdWJ0aXRsZUdyb3VwQ2xvbmVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBwYXRod2F5Q2xvbmVzLmZvckVhY2goKHBhdGh3YXlDbG9uZSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBJRDogY2xvbmVJZCxcbiAgICAgICAgJ0JBU0UtSUQnOiBiYXNlSWQsXG4gICAgICAgICdVUkktUkVQTEFDRU1FTlQnOiB1cmlSZXBsYWNlbWVudCxcbiAgICAgIH0gPSBwYXRod2F5Q2xvbmU7XG4gICAgICBpZiAobGV2ZWxzLnNvbWUoKGxldmVsKSA9PiBsZXZlbC5wYXRod2F5SWQgPT09IGNsb25lSWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsb25lZFZhcmlhbnRzID0gdGhpcy5nZXRMZXZlbHNGb3JQYXRod2F5KGJhc2VJZCkubWFwKFxuICAgICAgICAoYmFzZUxldmVsKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG5ldyBBdHRyTGlzdChiYXNlTGV2ZWwuYXR0cnMpO1xuICAgICAgICAgIGF0dHJpYnV0ZXNbJ1BBVEhXQVktSUQnXSA9IGNsb25lSWQ7XG4gICAgICAgICAgY29uc3QgY2xvbmVkQXVkaW9Hcm91cElkOiBzdHJpbmcgfCB1bmRlZmluZWQgPVxuICAgICAgICAgICAgYXR0cmlidXRlcy5BVURJTyAmJiBgJHthdHRyaWJ1dGVzLkFVRElPfV9jbG9uZV8ke2Nsb25lSWR9YDtcbiAgICAgICAgICBjb25zdCBjbG9uZWRTdWJ0aXRsZUdyb3VwSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLlNVQlRJVExFUyAmJiBgJHthdHRyaWJ1dGVzLlNVQlRJVExFU31fY2xvbmVfJHtjbG9uZUlkfWA7XG4gICAgICAgICAgaWYgKGNsb25lZEF1ZGlvR3JvdXBJZCkge1xuICAgICAgICAgICAgYXVkaW9Hcm91cENsb25lTWFwW2F0dHJpYnV0ZXMuQVVESU9dID0gY2xvbmVkQXVkaW9Hcm91cElkO1xuICAgICAgICAgICAgYXR0cmlidXRlcy5BVURJTyA9IGNsb25lZEF1ZGlvR3JvdXBJZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNsb25lZFN1YnRpdGxlR3JvdXBJZCkge1xuICAgICAgICAgICAgc3VidGl0bGVHcm91cENsb25lTWFwW2F0dHJpYnV0ZXMuU1VCVElUTEVTXSA9IGNsb25lZFN1YnRpdGxlR3JvdXBJZDtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuU1VCVElUTEVTID0gY2xvbmVkU3VidGl0bGVHcm91cElkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB1cmwgPSBwZXJmb3JtVXJpUmVwbGFjZW1lbnQoXG4gICAgICAgICAgICBiYXNlTGV2ZWwudXJpLFxuICAgICAgICAgICAgYXR0cmlidXRlc1snU1RBQkxFLVZBUklBTlQtSUQnXSxcbiAgICAgICAgICAgICdQRVItVkFSSUFOVC1VUklTJyxcbiAgICAgICAgICAgIHVyaVJlcGxhY2VtZW50LFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2xvbmVkTGV2ZWwgPSBuZXcgTGV2ZWwoe1xuICAgICAgICAgICAgYXR0cnM6IGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBhdWRpb0NvZGVjOiBiYXNlTGV2ZWwuYXVkaW9Db2RlYyxcbiAgICAgICAgICAgIGJpdHJhdGU6IGJhc2VMZXZlbC5iaXRyYXRlLFxuICAgICAgICAgICAgaGVpZ2h0OiBiYXNlTGV2ZWwuaGVpZ2h0LFxuICAgICAgICAgICAgbmFtZTogYmFzZUxldmVsLm5hbWUsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB2aWRlb0NvZGVjOiBiYXNlTGV2ZWwudmlkZW9Db2RlYyxcbiAgICAgICAgICAgIHdpZHRoOiBiYXNlTGV2ZWwud2lkdGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGJhc2VMZXZlbC5hdWRpb0dyb3Vwcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBiYXNlTGV2ZWwuYXVkaW9Hcm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY2xvbmVkTGV2ZWwuYWRkR3JvdXBJZChcbiAgICAgICAgICAgICAgICAnYXVkaW8nLFxuICAgICAgICAgICAgICAgIGAke2Jhc2VMZXZlbC5hdWRpb0dyb3Vwc1tpXX1fY2xvbmVfJHtjbG9uZUlkfWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChiYXNlTGV2ZWwuc3VidGl0bGVHcm91cHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYmFzZUxldmVsLnN1YnRpdGxlR3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNsb25lZExldmVsLmFkZEdyb3VwSWQoXG4gICAgICAgICAgICAgICAgJ3RleHQnLFxuICAgICAgICAgICAgICAgIGAke2Jhc2VMZXZlbC5zdWJ0aXRsZUdyb3Vwc1tpXX1fY2xvbmVfJHtjbG9uZUlkfWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjbG9uZWRMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBsZXZlbHMucHVzaCguLi5jbG9uZWRWYXJpYW50cyk7XG4gICAgICBjbG9uZVJlbmRpdGlvbkdyb3VwcyhcbiAgICAgICAgdGhpcy5hdWRpb1RyYWNrcyxcbiAgICAgICAgYXVkaW9Hcm91cENsb25lTWFwLFxuICAgICAgICB1cmlSZXBsYWNlbWVudCxcbiAgICAgICAgY2xvbmVJZCxcbiAgICAgICk7XG4gICAgICBjbG9uZVJlbmRpdGlvbkdyb3VwcyhcbiAgICAgICAgdGhpcy5zdWJ0aXRsZVRyYWNrcyxcbiAgICAgICAgc3VidGl0bGVHcm91cENsb25lTWFwLFxuICAgICAgICB1cmlSZXBsYWNlbWVudCxcbiAgICAgICAgY2xvbmVJZCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGxvYWRTdGVlcmluZ01hbmlmZXN0KHVyaTogc3RyaW5nKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIGNvbnN0IExvYWRlciA9IGNvbmZpZy5sb2FkZXI7XG4gICAgaWYgKHRoaXMubG9hZGVyKSB7XG4gICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMubG9hZGVyID0gbmV3IExvYWRlcihjb25maWcpIGFzIExvYWRlcjxMb2FkZXJDb250ZXh0PjtcblxuICAgIGxldCB1cmw6IFVSTDtcbiAgICB0cnkge1xuICAgICAgdXJsID0gbmV3IHNlbGYuVVJMKHVyaSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5sb2coYEZhaWxlZCB0byBwYXJzZSBTdGVlcmluZyBNYW5pZmVzdCBVUkk6ICR7dXJpfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodXJsLnByb3RvY29sICE9PSAnZGF0YTonKSB7XG4gICAgICBjb25zdCB0aHJvdWdocHV0ID1cbiAgICAgICAgKHRoaXMuaGxzLmJhbmR3aWR0aEVzdGltYXRlIHx8IGNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlKSB8IDA7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnX0hMU19wYXRod2F5JywgdGhpcy5wYXRod2F5SWQpO1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ19ITFNfdGhyb3VnaHB1dCcsICcnICsgdGhyb3VnaHB1dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQ6IExvYWRlckNvbnRleHQgPSB7XG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICAgIHVybDogdXJsLmhyZWYsXG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRQb2xpY3kgPSBjb25maWcuc3RlZXJpbmdNYW5pZmVzdExvYWRQb2xpY3kuZGVmYXVsdDtcbiAgICBjb25zdCBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHk6IFJldHJ5Q29uZmlnIHwgUmVjb3JkPHN0cmluZywgdm9pZD4gPVxuICAgICAgbG9hZFBvbGljeS5lcnJvclJldHJ5IHx8IGxvYWRQb2xpY3kudGltZW91dFJldHJ5IHx8IHt9O1xuICAgIGNvbnN0IGxvYWRlckNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgIGxvYWRQb2xpY3ksXG4gICAgICB0aW1lb3V0OiBsb2FkUG9saWN5Lm1heExvYWRUaW1lTXMsXG4gICAgICBtYXhSZXRyeTogbGVnYWN5UmV0cnlDb21wYXRpYmlsaXR5Lm1heE51bVJldHJ5IHx8IDAsXG4gICAgICByZXRyeURlbGF5OiBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHkucmV0cnlEZWxheU1zIHx8IDAsXG4gICAgICBtYXhSZXRyeURlbGF5OiBsZWdhY3lSZXRyeUNvbXBhdGliaWxpdHkubWF4UmV0cnlEZWxheU1zIHx8IDAsXG4gICAgfTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczogTG9hZGVyQ2FsbGJhY2tzPExvYWRlckNvbnRleHQ+ID0ge1xuICAgICAgb25TdWNjZXNzOiAoXG4gICAgICAgIHJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSxcbiAgICAgICAgc3RhdHM6IExvYWRlclN0YXRzLFxuICAgICAgICBjb250ZXh0OiBMb2FkZXJDb250ZXh0LFxuICAgICAgICBuZXR3b3JrRGV0YWlsczogYW55LFxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKGBMb2FkZWQgc3RlZXJpbmcgbWFuaWZlc3Q6IFwiJHt1cmx9XCJgKTtcbiAgICAgICAgY29uc3Qgc3RlZXJpbmdEYXRhID0gcmVzcG9uc2UuZGF0YSBhcyBTdGVlcmluZ01hbmlmZXN0O1xuICAgICAgICBpZiAoc3RlZXJpbmdEYXRhLlZFUlNJT04gIT09IDEpIHtcbiAgICAgICAgICB0aGlzLmxvZyhgU3RlZXJpbmcgVkVSU0lPTiAke3N0ZWVyaW5nRGF0YS5WRVJTSU9OfSBub3Qgc3VwcG9ydGVkIWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy50aW1lVG9Mb2FkID0gc3RlZXJpbmdEYXRhLlRUTDtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICdSRUxPQUQtVVJJJzogcmVsb2FkVXJpLFxuICAgICAgICAgICdQQVRIV0FZLUNMT05FUyc6IHBhdGh3YXlDbG9uZXMsXG4gICAgICAgICAgJ1BBVEhXQVktUFJJT1JJVFknOiBwYXRod2F5UHJpb3JpdHksXG4gICAgICAgIH0gPSBzdGVlcmluZ0RhdGE7XG4gICAgICAgIGlmIChyZWxvYWRVcmkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cmkgPSBuZXcgc2VsZi5VUkwocmVsb2FkVXJpLCB1cmwpLmhyZWY7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIGBGYWlsZWQgdG8gcGFyc2UgU3RlZXJpbmcgTWFuaWZlc3QgUkVMT0FELVVSSTogJHtyZWxvYWRVcml9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWZyZXNoKHRoaXMudXJpIHx8IGNvbnRleHQudXJsKTtcbiAgICAgICAgaWYgKHBhdGh3YXlDbG9uZXMpIHtcbiAgICAgICAgICB0aGlzLmNsb25lUGF0aHdheXMocGF0aHdheUNsb25lcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2FkZWRTdGVlcmluZ0RhdGE6IFN0ZWVyaW5nTWFuaWZlc3RMb2FkZWREYXRhID0ge1xuICAgICAgICAgIHN0ZWVyaW5nTWFuaWZlc3Q6IHN0ZWVyaW5nRGF0YSxcbiAgICAgICAgICB1cmw6IHVybC50b1N0cmluZygpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5TVEVFUklOR19NQU5JRkVTVF9MT0FERUQsIGxvYWRlZFN0ZWVyaW5nRGF0YSk7XG5cbiAgICAgICAgaWYgKHBhdGh3YXlQcmlvcml0eSkge1xuICAgICAgICAgIHRoaXMudXBkYXRlUGF0aHdheVByaW9yaXR5KHBhdGh3YXlQcmlvcml0eSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG9uRXJyb3I6IChcbiAgICAgICAgZXJyb3I6IHsgY29kZTogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfSxcbiAgICAgICAgY29udGV4dDogTG9hZGVyQ29udGV4dCxcbiAgICAgICAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgICAgICAgc3RhdHM6IExvYWRlclN0YXRzLFxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBFcnJvciBsb2FkaW5nIHN0ZWVyaW5nIG1hbmlmZXN0OiAke2Vycm9yLmNvZGV9ICR7ZXJyb3IudGV4dH0gKCR7Y29udGV4dC51cmx9KWAsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDQxMCkge1xuICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMubG9nKGBTdGVlcmluZyBtYW5pZmVzdCAke2NvbnRleHQudXJsfSBubyBsb25nZXIgYXZhaWxhYmxlYCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0dGwgPSB0aGlzLnRpbWVUb0xvYWQgKiAxMDAwO1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gNDI5KSB7XG4gICAgICAgICAgY29uc3QgbG9hZGVyID0gdGhpcy5sb2FkZXI7XG4gICAgICAgICAgaWYgKHR5cGVvZiBsb2FkZXI/LmdldFJlc3BvbnNlSGVhZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCByZXRyeUFmdGVyID0gbG9hZGVyLmdldFJlc3BvbnNlSGVhZGVyKCdSZXRyeS1BZnRlcicpO1xuICAgICAgICAgICAgaWYgKHJldHJ5QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgdHRsID0gcGFyc2VGbG9hdChyZXRyeUFmdGVyKSAqIDEwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubG9nKGBTdGVlcmluZyBtYW5pZmVzdCAke2NvbnRleHQudXJsfSByYXRlIGxpbWl0ZWRgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlZnJlc2godGhpcy51cmkgfHwgY29udGV4dC51cmwsIHR0bCk7XG4gICAgICB9LFxuXG4gICAgICBvblRpbWVvdXQ6IChcbiAgICAgICAgc3RhdHM6IExvYWRlclN0YXRzLFxuICAgICAgICBjb250ZXh0OiBMb2FkZXJDb250ZXh0LFxuICAgICAgICBuZXR3b3JrRGV0YWlsczogYW55LFxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKGBUaW1lb3V0IGxvYWRpbmcgc3RlZXJpbmcgbWFuaWZlc3QgKCR7Y29udGV4dC51cmx9KWApO1xuICAgICAgICB0aGlzLnNjaGVkdWxlUmVmcmVzaCh0aGlzLnVyaSB8fCBjb250ZXh0LnVybCk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLmxvZyhgUmVxdWVzdGluZyBzdGVlcmluZyBtYW5pZmVzdDogJHt1cmx9YCk7XG4gICAgdGhpcy5sb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGNhbGxiYWNrcyk7XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlUmVmcmVzaCh1cmk6IHN0cmluZywgdHRsTXM6IG51bWJlciA9IHRoaXMudGltZVRvTG9hZCAqIDEwMDApIHtcbiAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICAgIHRoaXMucmVsb2FkVGltZXIgPSBzZWxmLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgbWVkaWEgPSB0aGlzLmhscz8ubWVkaWE7XG4gICAgICBpZiAobWVkaWEgJiYgIW1lZGlhLmVuZGVkKSB7XG4gICAgICAgIHRoaXMubG9hZFN0ZWVyaW5nTWFuaWZlc3QodXJpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zY2hlZHVsZVJlZnJlc2godXJpLCB0aGlzLnRpbWVUb0xvYWQgKiAxMDAwKTtcbiAgICB9LCB0dGxNcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVSZW5kaXRpb25Hcm91cHMoXG4gIHRyYWNrczogTWVkaWFQbGF5bGlzdFtdIHwgbnVsbCxcbiAgZ3JvdXBDbG9uZU1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgdXJpUmVwbGFjZW1lbnQ6IFVyaVJlcGxhY2VtZW50LFxuICBjbG9uZUlkOiBzdHJpbmcsXG4pIHtcbiAgaWYgKCF0cmFja3MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmtleXMoZ3JvdXBDbG9uZU1hcCkuZm9yRWFjaCgoYXVkaW9Hcm91cElkKSA9PiB7XG4gICAgY29uc3QgY2xvbmVkVHJhY2tzID0gdHJhY2tzXG4gICAgICAuZmlsdGVyKCh0cmFjaykgPT4gdHJhY2suZ3JvdXBJZCA9PT0gYXVkaW9Hcm91cElkKVxuICAgICAgLm1hcCgodHJhY2spID0+IHtcbiAgICAgICAgY29uc3QgY2xvbmVkVHJhY2sgPSBPYmplY3QuYXNzaWduKHt9LCB0cmFjayk7XG4gICAgICAgIGNsb25lZFRyYWNrLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNsb25lZFRyYWNrLmF0dHJzID0gbmV3IEF0dHJMaXN0KGNsb25lZFRyYWNrLmF0dHJzKSBhcyBNZWRpYUF0dHJpYnV0ZXM7XG4gICAgICAgIGNsb25lZFRyYWNrLnVybCA9IGNsb25lZFRyYWNrLmF0dHJzLlVSSSA9IHBlcmZvcm1VcmlSZXBsYWNlbWVudChcbiAgICAgICAgICB0cmFjay51cmwsXG4gICAgICAgICAgdHJhY2suYXR0cnNbJ1NUQUJMRS1SRU5ESVRJT04tSUQnXSxcbiAgICAgICAgICAnUEVSLVJFTkRJVElPTi1VUklTJyxcbiAgICAgICAgICB1cmlSZXBsYWNlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgY2xvbmVkVHJhY2suZ3JvdXBJZCA9IGNsb25lZFRyYWNrLmF0dHJzWydHUk9VUC1JRCddID1cbiAgICAgICAgICBncm91cENsb25lTWFwW2F1ZGlvR3JvdXBJZF07XG4gICAgICAgIGNsb25lZFRyYWNrLmF0dHJzWydQQVRIV0FZLUlEJ10gPSBjbG9uZUlkO1xuICAgICAgICByZXR1cm4gY2xvbmVkVHJhY2s7XG4gICAgICB9KTtcbiAgICB0cmFja3MucHVzaCguLi5jbG9uZWRUcmFja3MpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGVyZm9ybVVyaVJlcGxhY2VtZW50KFxuICB1cmk6IHN0cmluZyxcbiAgc3RhYmxlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgcGVyT3B0aW9uS2V5OiAnUEVSLVZBUklBTlQtVVJJUycgfCAnUEVSLVJFTkRJVElPTi1VUklTJyxcbiAgdXJpUmVwbGFjZW1lbnQ6IFVyaVJlcGxhY2VtZW50LFxuKTogc3RyaW5nIHtcbiAgY29uc3Qge1xuICAgIEhPU1Q6IGhvc3QsXG4gICAgUEFSQU1TOiBwYXJhbXMsXG4gICAgW3Blck9wdGlvbktleV06IHBlck9wdGlvblVyaXMsXG4gIH0gPSB1cmlSZXBsYWNlbWVudDtcbiAgbGV0IHBlclZhcmlhbnRVcmk7XG4gIGlmIChzdGFibGVJZCkge1xuICAgIHBlclZhcmlhbnRVcmkgPSBwZXJPcHRpb25VcmlzPy5bc3RhYmxlSWRdO1xuICAgIGlmIChwZXJWYXJpYW50VXJpKSB7XG4gICAgICB1cmkgPSBwZXJWYXJpYW50VXJpO1xuICAgIH1cbiAgfVxuICBjb25zdCB1cmwgPSBuZXcgc2VsZi5VUkwodXJpKTtcbiAgaWYgKGhvc3QgJiYgIXBlclZhcmlhbnRVcmkpIHtcbiAgICB1cmwuaG9zdCA9IGhvc3Q7XG4gIH1cbiAgaWYgKHBhcmFtcykge1xuICAgIE9iamVjdC5rZXlzKHBhcmFtcylcbiAgICAgIC5zb3J0KClcbiAgICAgIC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgcGFyYW1zW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gdXJsLmhyZWY7XG59XG4iLCAiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB0eXBlIHtcbiAgTG9hZGVyQ2FsbGJhY2tzLFxuICBMb2FkZXJDb250ZXh0LFxuICBMb2FkZXJTdGF0cyxcbiAgTG9hZGVyLFxuICBMb2FkZXJDb25maWd1cmF0aW9uLFxuICBMb2FkZXJSZXNwb25zZSxcbn0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcbmltcG9ydCB7IExvYWRTdGF0cyB9IGZyb20gJy4uL2xvYWRlci9sb2FkLXN0YXRzJztcbmltcG9ydCB7IHR5cGUgSGxzQ29uZmlnLCBSZXRyeUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBnZXRSZXRyeURlbGF5LCBzaG91bGRSZXRyeSB9IGZyb20gJy4vZXJyb3ItaGVscGVyJztcblxuY29uc3QgQUdFX0hFQURFUl9MSU5FX1JFR0VYID0gL15hZ2U6XFxzKltcXGQuXStcXHMqJC9pbTtcblxuY2xhc3MgWGhyTG9hZGVyIGltcGxlbWVudHMgTG9hZGVyPExvYWRlckNvbnRleHQ+IHtcbiAgcHJpdmF0ZSB4aHJTZXR1cDpcbiAgICB8ICgoeGhyOiBYTUxIdHRwUmVxdWVzdCwgdXJsOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkKVxuICAgIHwgbnVsbDtcbiAgcHJpdmF0ZSByZXF1ZXN0VGltZW91dD86IG51bWJlcjtcbiAgcHJpdmF0ZSByZXRyeVRpbWVvdXQ/OiBudW1iZXI7XG4gIHByaXZhdGUgcmV0cnlEZWxheTogbnVtYmVyO1xuICBwcml2YXRlIGNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNhbGxiYWNrczogTG9hZGVyQ2FsbGJhY2tzPExvYWRlckNvbnRleHQ+IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBjb250ZXh0OiBMb2FkZXJDb250ZXh0IHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSBsb2FkZXI6IFhNTEh0dHBSZXF1ZXN0IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBzdGF0czogTG9hZGVyU3RhdHM7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBIbHNDb25maWcpIHtcbiAgICB0aGlzLnhoclNldHVwID0gY29uZmlnID8gY29uZmlnLnhoclNldHVwIHx8IG51bGwgOiBudWxsO1xuICAgIHRoaXMuc3RhdHMgPSBuZXcgTG9hZFN0YXRzKCk7XG4gICAgdGhpcy5yZXRyeURlbGF5ID0gMDtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBudWxsO1xuICAgIHRoaXMuYWJvcnRJbnRlcm5hbCgpO1xuICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLnhoclNldHVwID0gbnVsbDtcbiAgfVxuXG4gIGFib3J0SW50ZXJuYWwoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gdGhpcy5sb2FkZXI7XG4gICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVvdXQpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgbG9hZGVyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgaWYgKGxvYWRlci5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHRoaXMuc3RhdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFib3J0KCkge1xuICAgIHRoaXMuYWJvcnRJbnRlcm5hbCgpO1xuICAgIGlmICh0aGlzLmNhbGxiYWNrcz8ub25BYm9ydCkge1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25BYm9ydChcbiAgICAgICAgdGhpcy5zdGF0cyxcbiAgICAgICAgdGhpcy5jb250ZXh0IGFzIExvYWRlckNvbnRleHQsXG4gICAgICAgIHRoaXMubG9hZGVyLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBsb2FkKFxuICAgIGNvbnRleHQ6IExvYWRlckNvbnRleHQsXG4gICAgY29uZmlnOiBMb2FkZXJDb25maWd1cmF0aW9uLFxuICAgIGNhbGxiYWNrczogTG9hZGVyQ2FsbGJhY2tzPExvYWRlckNvbnRleHQ+LFxuICApIHtcbiAgICBpZiAodGhpcy5zdGF0cy5sb2FkaW5nLnN0YXJ0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvYWRlciBjYW4gb25seSBiZSB1c2VkIG9uY2UuJyk7XG4gICAgfVxuICAgIHRoaXMuc3RhdHMubG9hZGluZy5zdGFydCA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICB0aGlzLmxvYWRJbnRlcm5hbCgpO1xuICB9XG5cbiAgbG9hZEludGVybmFsKCkge1xuICAgIGNvbnN0IHsgY29uZmlnLCBjb250ZXh0IH0gPSB0aGlzO1xuICAgIGlmICghY29uZmlnIHx8ICFjb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHhociA9ICh0aGlzLmxvYWRlciA9IG5ldyBzZWxmLlhNTEh0dHBSZXF1ZXN0KCkpO1xuXG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgIHN0YXRzLmxvYWRpbmcuZmlyc3QgPSAwO1xuICAgIHN0YXRzLmxvYWRlZCA9IDA7XG4gICAgc3RhdHMuYWJvcnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHhoclNldHVwID0gdGhpcy54aHJTZXR1cDtcblxuICAgIGlmICh4aHJTZXR1cCkge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmxvYWRlciAhPT0geGhyIHx8IHRoaXMuc3RhdHMuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgIHJldHVybiB4aHJTZXR1cCh4aHIsIGNvbnRleHQudXJsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sb2FkZXIgIT09IHhociB8fCB0aGlzLnN0YXRzLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgICB4aHIub3BlbignR0VUJywgY29udGV4dC51cmwsIHRydWUpO1xuICAgICAgICAgIHJldHVybiB4aHJTZXR1cCh4aHIsIGNvbnRleHQudXJsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmxvYWRlciAhPT0geGhyIHx8IHRoaXMuc3RhdHMuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgIHRoaXMub3BlbkFuZFNlbmRYaHIoeGhyLCBjb250ZXh0LCBjb25maWcpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICAgIC8vIElFMTEgdGhyb3dzIGFuIGV4Y2VwdGlvbiBvbiB4aHIub3BlbiBpZiBhdHRlbXB0aW5nIHRvIGFjY2VzcyBhbiBIVFRQIHJlc291cmNlIG92ZXIgSFRUUFNcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrcyEub25FcnJvcihcbiAgICAgICAgICAgIHsgY29kZTogeGhyLnN0YXR1cywgdGV4dDogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIHhocixcbiAgICAgICAgICAgIHN0YXRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuQW5kU2VuZFhocih4aHIsIGNvbnRleHQsIGNvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkFuZFNlbmRYaHIoXG4gICAgeGhyOiBYTUxIdHRwUmVxdWVzdCxcbiAgICBjb250ZXh0OiBMb2FkZXJDb250ZXh0LFxuICAgIGNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgKSB7XG4gICAgaWYgKCF4aHIucmVhZHlTdGF0ZSkge1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIGNvbnRleHQudXJsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkZXJzID0gY29udGV4dC5oZWFkZXJzO1xuICAgIGNvbnN0IHsgbWF4VGltZVRvRmlyc3RCeXRlTXMsIG1heExvYWRUaW1lTXMgfSA9IGNvbmZpZy5sb2FkUG9saWN5O1xuICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBoZWFkZXJzKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5yYW5nZUVuZCkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgICdSYW5nZScsXG4gICAgICAgICdieXRlcz0nICsgY29udGV4dC5yYW5nZVN0YXJ0ICsgJy0nICsgKGNvbnRleHQucmFuZ2VFbmQgLSAxKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucmVhZHlzdGF0ZWNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHhoci5vbnByb2dyZXNzID0gdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gY29udGV4dC5yZXNwb25zZVR5cGUgYXMgWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGU7XG4gICAgLy8gc2V0dXAgdGltZW91dCBiZWZvcmUgd2UgcGVyZm9ybSByZXF1ZXN0XG4gICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgY29uZmlnLnRpbWVvdXQgPVxuICAgICAgbWF4VGltZVRvRmlyc3RCeXRlTXMgJiYgTnVtYmVyLmlzRmluaXRlKG1heFRpbWVUb0ZpcnN0Qnl0ZU1zKVxuICAgICAgICA/IG1heFRpbWVUb0ZpcnN0Qnl0ZU1zXG4gICAgICAgIDogbWF4TG9hZFRpbWVNcztcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gc2VsZi5zZXRUaW1lb3V0KFxuICAgICAgdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLFxuICAgICAgY29uZmlnLnRpbWVvdXQsXG4gICAgKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgcmVhZHlzdGF0ZWNoYW5nZSgpIHtcbiAgICBjb25zdCB7IGNvbnRleHQsIGxvYWRlcjogeGhyLCBzdGF0cyB9ID0gdGhpcztcbiAgICBpZiAoIWNvbnRleHQgfHwgIXhocikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZWFkeVN0YXRlID0geGhyLnJlYWR5U3RhdGU7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWcgYXMgTG9hZGVyQ29uZmlndXJhdGlvbjtcblxuICAgIC8vIGRvbid0IHByb2NlZWQgaWYgeGhyIGhhcyBiZWVuIGFib3J0ZWRcbiAgICBpZiAoc3RhdHMuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vID49IEhFQURFUlNfUkVDRUlWRURcbiAgICBpZiAocmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICBpZiAoc3RhdHMubG9hZGluZy5maXJzdCA9PT0gMCkge1xuICAgICAgICBzdGF0cy5sb2FkaW5nLmZpcnN0ID0gTWF0aC5tYXgoXG4gICAgICAgICAgc2VsZi5wZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgICAgICBzdGF0cy5sb2FkaW5nLnN0YXJ0LFxuICAgICAgICApO1xuICAgICAgICAvLyByZWFkeVN0YXRlID49IDIgQU5EIHJlYWR5U3RhdGUgIT09NCAocmVhZHlTdGF0ZSA9IEhFQURFUlNfUkVDRUlWRUQgfHwgTE9BRElORykgcmVhcm0gdGltZW91dCBhcyB4aHIgbm90IGZpbmlzaGVkIHlldFxuICAgICAgICBpZiAoY29uZmlnLnRpbWVvdXQgIT09IGNvbmZpZy5sb2FkUG9saWN5Lm1heExvYWRUaW1lTXMpIHtcbiAgICAgICAgICBzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KTtcbiAgICAgICAgICBjb25maWcudGltZW91dCA9IGNvbmZpZy5sb2FkUG9saWN5Lm1heExvYWRUaW1lTXM7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHNlbGYuc2V0VGltZW91dChcbiAgICAgICAgICAgIHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGNvbmZpZy5sb2FkUG9saWN5Lm1heExvYWRUaW1lTXMgLVxuICAgICAgICAgICAgICAoc3RhdHMubG9hZGluZy5maXJzdCAtIHN0YXRzLmxvYWRpbmcuc3RhcnQpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICB4aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgICAgIC8vIGh0dHAgc3RhdHVzIGJldHdlZW4gMjAwIHRvIDI5OSBhcmUgYWxsIHN1Y2Nlc3NmdWxcbiAgICAgICAgY29uc3QgdXNlUmVzcG9uc2UgPSB4aHIucmVzcG9uc2VUeXBlICE9PSAndGV4dCc7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzdGF0dXMgPj0gMjAwICYmXG4gICAgICAgICAgc3RhdHVzIDwgMzAwICYmXG4gICAgICAgICAgKCh1c2VSZXNwb25zZSAmJiB4aHIucmVzcG9uc2UpIHx8IHhoci5yZXNwb25zZVRleHQgIT09IG51bGwpXG4gICAgICAgICkge1xuICAgICAgICAgIHN0YXRzLmxvYWRpbmcuZW5kID0gTWF0aC5tYXgoXG4gICAgICAgICAgICBzZWxmLnBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgICAgICAgc3RhdHMubG9hZGluZy5maXJzdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSB1c2VSZXNwb25zZSA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgY29uc3QgbGVuID1cbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPT09ICdhcnJheWJ1ZmZlcicgPyBkYXRhLmJ5dGVMZW5ndGggOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICBzdGF0cy5sb2FkZWQgPSBzdGF0cy50b3RhbCA9IGxlbjtcbiAgICAgICAgICBzdGF0cy5id0VzdGltYXRlID1cbiAgICAgICAgICAgIChzdGF0cy50b3RhbCAqIDgwMDApIC8gKHN0YXRzLmxvYWRpbmcuZW5kIC0gc3RhdHMubG9hZGluZy5maXJzdCk7XG4gICAgICAgICAgaWYgKCF0aGlzLmNhbGxiYWNrcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBvblByb2dyZXNzID0gdGhpcy5jYWxsYmFja3Mub25Qcm9ncmVzcztcbiAgICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgICAgb25Qcm9ncmVzcyhzdGF0cywgY29udGV4dCwgZGF0YSwgeGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLmNhbGxiYWNrcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCByZXNwb25zZTogTG9hZGVyUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICB1cmw6IHhoci5yZXNwb25zZVVSTCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjb2RlOiBzdGF0dXMsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIHhocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmV0cnlDb25maWcgPSBjb25maWcubG9hZFBvbGljeS5lcnJvclJldHJ5O1xuICAgICAgICAgIGNvbnN0IHJldHJ5Q291bnQgPSBzdGF0cy5yZXRyeTtcbiAgICAgICAgICAvLyBpZiBtYXggbmIgb2YgcmV0cmllcyByZWFjaGVkIG9yIGlmIGh0dHAgc3RhdHVzIGJldHdlZW4gNDAwIGFuZCA0OTkgKHN1Y2ggZXJyb3IgY2Fubm90IGJlIHJlY292ZXJlZCwgcmV0cnlpbmcgaXMgdXNlbGVzcyksIHJldHVybiBlcnJvclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSA9IHtcbiAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb2RlOiBzdGF0dXMsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoc2hvdWxkUmV0cnkocmV0cnlDb25maWcsIHJldHJ5Q291bnQsIGZhbHNlLCByZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmV0cnkocmV0cnlDb25maWcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoYCR7c3RhdHVzfSB3aGlsZSBsb2FkaW5nICR7Y29udGV4dC51cmx9YCk7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcyEub25FcnJvcihcbiAgICAgICAgICAgICAgeyBjb2RlOiBzdGF0dXMsIHRleHQ6IHhoci5zdGF0dXNUZXh0IH0sXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgIHhocixcbiAgICAgICAgICAgICAgc3RhdHMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxvYWR0aW1lb3V0KCkge1xuICAgIGlmICghdGhpcy5jb25maWcpIHJldHVybjtcbiAgICBjb25zdCByZXRyeUNvbmZpZyA9IHRoaXMuY29uZmlnLmxvYWRQb2xpY3kudGltZW91dFJldHJ5O1xuICAgIGNvbnN0IHJldHJ5Q291bnQgPSB0aGlzLnN0YXRzLnJldHJ5O1xuICAgIGlmIChzaG91bGRSZXRyeShyZXRyeUNvbmZpZywgcmV0cnlDb3VudCwgdHJ1ZSkpIHtcbiAgICAgIHRoaXMucmV0cnkocmV0cnlDb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIud2FybihgdGltZW91dCB3aGlsZSBsb2FkaW5nICR7dGhpcy5jb250ZXh0Py51cmx9YCk7XG4gICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcztcbiAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgdGhpcy5hYm9ydEludGVybmFsKCk7XG4gICAgICAgIGNhbGxiYWNrcy5vblRpbWVvdXQoXG4gICAgICAgICAgdGhpcy5zdGF0cyxcbiAgICAgICAgICB0aGlzLmNvbnRleHQgYXMgTG9hZGVyQ29udGV4dCxcbiAgICAgICAgICB0aGlzLmxvYWRlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXRyeShyZXRyeUNvbmZpZzogUmV0cnlDb25maWcpIHtcbiAgICBjb25zdCB7IGNvbnRleHQsIHN0YXRzIH0gPSB0aGlzO1xuICAgIHRoaXMucmV0cnlEZWxheSA9IGdldFJldHJ5RGVsYXkocmV0cnlDb25maWcsIHN0YXRzLnJldHJ5KTtcbiAgICBzdGF0cy5yZXRyeSsrO1xuICAgIGxvZ2dlci53YXJuKFxuICAgICAgYCR7XG4gICAgICAgIHN0YXR1cyA/ICdIVFRQIFN0YXR1cyAnICsgc3RhdHVzIDogJ1RpbWVvdXQnXG4gICAgICB9IHdoaWxlIGxvYWRpbmcgJHtjb250ZXh0Py51cmx9LCByZXRyeWluZyAke3N0YXRzLnJldHJ5fS8ke1xuICAgICAgICByZXRyeUNvbmZpZy5tYXhOdW1SZXRyeVxuICAgICAgfSBpbiAke3RoaXMucmV0cnlEZWxheX1tc2AsXG4gICAgKTtcbiAgICAvLyBhYm9ydCBhbmQgcmVzZXQgaW50ZXJuYWwgc3RhdGVcbiAgICB0aGlzLmFib3J0SW50ZXJuYWwoKTtcbiAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgLy8gc2NoZWR1bGUgcmV0cnlcbiAgICBzZWxmLmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZW91dCk7XG4gICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBzZWxmLnNldFRpbWVvdXQoXG4gICAgICB0aGlzLmxvYWRJbnRlcm5hbC5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5yZXRyeURlbGF5LFxuICAgICk7XG4gIH1cblxuICBsb2FkcHJvZ3Jlc3MoZXZlbnQ6IFByb2dyZXNzRXZlbnQpIHtcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMuc3RhdHM7XG5cbiAgICBzdGF0cy5sb2FkZWQgPSBldmVudC5sb2FkZWQ7XG4gICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHN0YXRzLnRvdGFsID0gZXZlbnQudG90YWw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FjaGVBZ2UoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgbGV0IHJlc3VsdDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKFxuICAgICAgdGhpcy5sb2FkZXIgJiZcbiAgICAgIEFHRV9IRUFERVJfTElORV9SRUdFWC50ZXN0KHRoaXMubG9hZGVyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVxuICAgICkge1xuICAgICAgY29uc3QgYWdlSGVhZGVyID0gdGhpcy5sb2FkZXIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2FnZScpO1xuICAgICAgcmVzdWx0ID0gYWdlSGVhZGVyID8gcGFyc2VGbG9hdChhZ2VIZWFkZXIpIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldFJlc3BvbnNlSGVhZGVyKG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmIChcbiAgICAgIHRoaXMubG9hZGVyICYmXG4gICAgICBuZXcgUmVnRXhwKGBeJHtuYW1lfTpcXFxccypbXFxcXGQuXStcXFxccyokYCwgJ2ltJykudGVzdChcbiAgICAgICAgdGhpcy5sb2FkZXIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkZXIuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFhockxvYWRlcjtcbiIsICJpbXBvcnQge1xuICBMb2FkZXJDYWxsYmFja3MsXG4gIExvYWRlckNvbnRleHQsXG4gIExvYWRlcixcbiAgTG9hZGVyU3RhdHMsXG4gIExvYWRlckNvbmZpZ3VyYXRpb24sXG4gIExvYWRlck9uUHJvZ3Jlc3MsXG4gIExvYWRlclJlc3BvbnNlLFxufSBmcm9tICcuLi90eXBlcy9sb2FkZXInO1xuaW1wb3J0IHsgTG9hZFN0YXRzIH0gZnJvbSAnLi4vbG9hZGVyL2xvYWQtc3RhdHMnO1xuaW1wb3J0IENodW5rQ2FjaGUgZnJvbSAnLi4vZGVtdXgvY2h1bmstY2FjaGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hTdXBwb3J0ZWQoKSB7XG4gIGlmIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc2VsZi5mZXRjaCAmJlxuICAgIHNlbGYuQWJvcnRDb250cm9sbGVyICYmXG4gICAgc2VsZi5SZWFkYWJsZVN0cmVhbSAmJlxuICAgIHNlbGYuUmVxdWVzdFxuICApIHtcbiAgICB0cnkge1xuICAgICAgbmV3IHNlbGYuUmVhZGFibGVTdHJlYW0oe30pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLyogbm9vcCAqL1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmNvbnN0IEJZVEVSQU5HRSA9IC8oXFxkKyktKFxcZCspXFwvKFxcZCspLztcblxuY2xhc3MgRmV0Y2hMb2FkZXIgaW1wbGVtZW50cyBMb2FkZXI8TG9hZGVyQ29udGV4dD4ge1xuICBwcml2YXRlIGZldGNoU2V0dXA6IEZ1bmN0aW9uO1xuICBwcml2YXRlIHJlcXVlc3RUaW1lb3V0PzogbnVtYmVyO1xuICBwcml2YXRlIHJlcXVlc3Q6IFJlcXVlc3QgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZXNwb25zZTogUmVzcG9uc2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG4gIHB1YmxpYyBjb250ZXh0OiBMb2FkZXJDb250ZXh0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY29uZmlnOiBMb2FkZXJDb25maWd1cmF0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY2FsbGJhY2tzOiBMb2FkZXJDYWxsYmFja3M8TG9hZGVyQ29udGV4dD4gfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHN0YXRzOiBMb2FkZXJTdGF0cztcbiAgcHJpdmF0ZSBsb2FkZXI6IFJlc3BvbnNlIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnIC8qIEhsc0NvbmZpZyAqLykge1xuICAgIHRoaXMuZmV0Y2hTZXR1cCA9IGNvbmZpZy5mZXRjaFNldHVwIHx8IGdldFJlcXVlc3Q7XG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IHNlbGYuQWJvcnRDb250cm9sbGVyKCk7XG4gICAgdGhpcy5zdGF0cyA9IG5ldyBMb2FkU3RhdHMoKTtcbiAgfVxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5sb2FkZXIgPVxuICAgICAgdGhpcy5jYWxsYmFja3MgPVxuICAgICAgdGhpcy5jb250ZXh0ID1cbiAgICAgIHRoaXMuY29uZmlnID1cbiAgICAgIHRoaXMucmVxdWVzdCA9XG4gICAgICAgIG51bGw7XG4gICAgdGhpcy5hYm9ydEludGVybmFsKCk7XG4gICAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZmV0Y2hTZXR1cCA9IHRoaXMuY29udHJvbGxlciA9IHRoaXMuc3RhdHMgPSBudWxsO1xuICB9XG5cbiAgYWJvcnRJbnRlcm5hbCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb250cm9sbGVyICYmICF0aGlzLnN0YXRzLmxvYWRpbmcuZW5kKSB7XG4gICAgICB0aGlzLnN0YXRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICB9XG5cbiAgYWJvcnQoKTogdm9pZCB7XG4gICAgdGhpcy5hYm9ydEludGVybmFsKCk7XG4gICAgaWYgKHRoaXMuY2FsbGJhY2tzPy5vbkFib3J0KSB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkFib3J0KFxuICAgICAgICB0aGlzLnN0YXRzLFxuICAgICAgICB0aGlzLmNvbnRleHQgYXMgTG9hZGVyQ29udGV4dCxcbiAgICAgICAgdGhpcy5yZXNwb25zZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbG9hZChcbiAgICBjb250ZXh0OiBMb2FkZXJDb250ZXh0LFxuICAgIGNvbmZpZzogTG9hZGVyQ29uZmlndXJhdGlvbixcbiAgICBjYWxsYmFja3M6IExvYWRlckNhbGxiYWNrczxMb2FkZXJDb250ZXh0PixcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgIGlmIChzdGF0cy5sb2FkaW5nLnN0YXJ0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvYWRlciBjYW4gb25seSBiZSB1c2VkIG9uY2UuJyk7XG4gICAgfVxuICAgIHN0YXRzLmxvYWRpbmcuc3RhcnQgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgY29uc3QgaW5pdFBhcmFtcyA9IGdldFJlcXVlc3RQYXJhbWV0ZXJzKGNvbnRleHQsIHRoaXMuY29udHJvbGxlci5zaWduYWwpO1xuICAgIGNvbnN0IG9uUHJvZ3Jlc3M6IExvYWRlck9uUHJvZ3Jlc3M8TG9hZGVyQ29udGV4dD4gfCB1bmRlZmluZWQgPVxuICAgICAgY2FsbGJhY2tzLm9uUHJvZ3Jlc3M7XG4gICAgY29uc3QgaXNBcnJheUJ1ZmZlciA9IGNvbnRleHQucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInO1xuICAgIGNvbnN0IExFTkdUSCA9IGlzQXJyYXlCdWZmZXIgPyAnYnl0ZUxlbmd0aCcgOiAnbGVuZ3RoJztcbiAgICBjb25zdCB7IG1heFRpbWVUb0ZpcnN0Qnl0ZU1zLCBtYXhMb2FkVGltZU1zIH0gPSBjb25maWcubG9hZFBvbGljeTtcblxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgdGhpcy5yZXF1ZXN0ID0gdGhpcy5mZXRjaFNldHVwKGNvbnRleHQsIGluaXRQYXJhbXMpO1xuICAgIHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgIGNvbmZpZy50aW1lb3V0ID1cbiAgICAgIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zICYmIE51bWJlci5pc0Zpbml0ZShtYXhUaW1lVG9GaXJzdEJ5dGVNcylcbiAgICAgICAgPyBtYXhUaW1lVG9GaXJzdEJ5dGVNc1xuICAgICAgICA6IG1heExvYWRUaW1lTXM7XG4gICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHNlbGYuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmFib3J0SW50ZXJuYWwoKTtcbiAgICAgIGNhbGxiYWNrcy5vblRpbWVvdXQoc3RhdHMsIGNvbnRleHQsIHRoaXMucmVzcG9uc2UpO1xuICAgIH0sIGNvbmZpZy50aW1lb3V0KTtcblxuICAgIHNlbGZcbiAgICAgIC5mZXRjaCh0aGlzLnJlcXVlc3QgYXMgUmVxdWVzdClcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPHN0cmluZyB8IEFycmF5QnVmZmVyPiA9PiB7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSB0aGlzLmxvYWRlciA9IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gTWF0aC5tYXgoc2VsZi5wZXJmb3JtYW5jZS5ub3coKSwgc3RhdHMubG9hZGluZy5zdGFydCk7XG5cbiAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIGNvbmZpZy50aW1lb3V0ID0gbWF4TG9hZFRpbWVNcztcbiAgICAgICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHNlbGYuc2V0VGltZW91dChcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFib3J0SW50ZXJuYWwoKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5vblRpbWVvdXQoc3RhdHMsIGNvbnRleHQsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWF4TG9hZFRpbWVNcyAtIChmaXJzdCAtIHN0YXRzLmxvYWRpbmcuc3RhcnQpLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXR1cywgc3RhdHVzVGV4dCB9ID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhyb3cgbmV3IEZldGNoRXJyb3IoXG4gICAgICAgICAgICBzdGF0dXNUZXh0IHx8ICdmZXRjaCwgYmFkIG5ldHdvcmsgcmVzcG9uc2UnLFxuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0cy5sb2FkaW5nLmZpcnN0ID0gZmlyc3Q7XG5cbiAgICAgICAgc3RhdHMudG90YWwgPSBnZXRDb250ZW50TGVuZ3RoKHJlc3BvbnNlLmhlYWRlcnMpIHx8IHN0YXRzLnRvdGFsO1xuXG4gICAgICAgIGlmIChvblByb2dyZXNzICYmIE51bWJlci5pc0Zpbml0ZShjb25maWcuaGlnaFdhdGVyTWFyaykpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUHJvZ3Jlc3NpdmVseShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgc3RhdHMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgY29uZmlnLmhpZ2hXYXRlck1hcmssXG4gICAgICAgICAgICBvblByb2dyZXNzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZURhdGE6IHN0cmluZyB8IEFycmF5QnVmZmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZTtcbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbG9hZGVyIGRlc3Ryb3llZCcpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICBzdGF0cy5sb2FkaW5nLmVuZCA9IE1hdGgubWF4KFxuICAgICAgICAgIHNlbGYucGVyZm9ybWFuY2Uubm93KCksXG4gICAgICAgICAgc3RhdHMubG9hZGluZy5maXJzdCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdG90YWwgPSByZXNwb25zZURhdGFbTEVOR1RIXTtcbiAgICAgICAgaWYgKHRvdGFsKSB7XG4gICAgICAgICAgc3RhdHMubG9hZGVkID0gc3RhdHMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxvYWRlclJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSA9IHtcbiAgICAgICAgICB1cmw6IHJlc3BvbnNlLnVybCxcbiAgICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgY29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvblByb2dyZXNzICYmICFOdW1iZXIuaXNGaW5pdGUoY29uZmlnLmhpZ2hXYXRlck1hcmspKSB7XG4gICAgICAgICAgb25Qcm9ncmVzcyhzdGF0cywgY29udGV4dCwgcmVzcG9uc2VEYXRhLCByZXNwb25zZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFja3Mub25TdWNjZXNzKGxvYWRlclJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgcmVzcG9uc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIGlmIChzdGF0cy5hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENPUlMgZXJyb3JzIHJlc3VsdCBpbiBhbiB1bmRlZmluZWQgY29kZS4gU2V0IGl0IHRvIDAgaGVyZSB0byBhbGlnbiB3aXRoIFhIUidzIGJlaGF2aW9yXG4gICAgICAgIC8vIHdoZW4gZGVzdHJveWluZywgJ2Vycm9yJyBpdHNlbGYgY2FuIGJlIHVuZGVmaW5lZFxuICAgICAgICBjb25zdCBjb2RlOiBudW1iZXIgPSAhZXJyb3IgPyAwIDogZXJyb3IuY29kZSB8fCAwO1xuICAgICAgICBjb25zdCB0ZXh0OiBzdHJpbmcgPSAhZXJyb3IgPyBudWxsIDogZXJyb3IubWVzc2FnZTtcbiAgICAgICAgY2FsbGJhY2tzLm9uRXJyb3IoXG4gICAgICAgICAgeyBjb2RlLCB0ZXh0IH0sXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBlcnJvciA/IGVycm9yLmRldGFpbHMgOiBudWxsLFxuICAgICAgICAgIHN0YXRzLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRDYWNoZUFnZSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBsZXQgcmVzdWx0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgY29uc3QgYWdlSGVhZGVyID0gdGhpcy5yZXNwb25zZS5oZWFkZXJzLmdldCgnYWdlJyk7XG4gICAgICByZXN1bHQgPSBhZ2VIZWFkZXIgPyBwYXJzZUZsb2F0KGFnZUhlYWRlcikgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VIZWFkZXIobmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2UgPyB0aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KG5hbWUpIDogbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgbG9hZFByb2dyZXNzaXZlbHkoXG4gICAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICAgIHN0YXRzOiBMb2FkZXJTdGF0cyxcbiAgICBjb250ZXh0OiBMb2FkZXJDb250ZXh0LFxuICAgIGhpZ2hXYXRlck1hcms6IG51bWJlciA9IDAsXG4gICAgb25Qcm9ncmVzczogTG9hZGVyT25Qcm9ncmVzczxMb2FkZXJDb250ZXh0PixcbiAgKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGNvbnN0IGNodW5rQ2FjaGUgPSBuZXcgQ2h1bmtDYWNoZSgpO1xuICAgIGNvbnN0IHJlYWRlciA9IChyZXNwb25zZS5ib2R5IGFzIFJlYWRhYmxlU3RyZWFtKS5nZXRSZWFkZXIoKTtcblxuICAgIGNvbnN0IHB1bXAgPSAoKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4gPT4ge1xuICAgICAgcmV0dXJuIHJlYWRlclxuICAgICAgICAucmVhZCgpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGNodW5rQ2FjaGUuZGF0YUxlbmd0aCkge1xuICAgICAgICAgICAgICBvblByb2dyZXNzKHN0YXRzLCBjb250ZXh0LCBjaHVua0NhY2hlLmZsdXNoKCksIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQXJyYXlCdWZmZXIoMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjaHVuazogVWludDhBcnJheSA9IGRhdGEudmFsdWU7XG4gICAgICAgICAgY29uc3QgbGVuID0gY2h1bmsubGVuZ3RoO1xuICAgICAgICAgIHN0YXRzLmxvYWRlZCArPSBsZW47XG4gICAgICAgICAgaWYgKGxlbiA8IGhpZ2hXYXRlck1hcmsgfHwgY2h1bmtDYWNoZS5kYXRhTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBUaGUgY3VycmVudCBjaHVuayBpcyB0b28gc21hbGwgdG8gdG8gYmUgZW1pdHRlZCBvciB0aGUgY2FjaGUgYWxyZWFkeSBoYXMgZGF0YVxuICAgICAgICAgICAgLy8gUHVzaCBpdCB0byB0aGUgY2FjaGVcbiAgICAgICAgICAgIGNodW5rQ2FjaGUucHVzaChjaHVuayk7XG4gICAgICAgICAgICBpZiAoY2h1bmtDYWNoZS5kYXRhTGVuZ3RoID49IGhpZ2hXYXRlck1hcmspIHtcbiAgICAgICAgICAgICAgLy8gZmx1c2ggaW4gb3JkZXIgdG8gam9pbiB0aGUgdHlwZWQgYXJyYXlzXG4gICAgICAgICAgICAgIG9uUHJvZ3Jlc3Moc3RhdHMsIGNvbnRleHQsIGNodW5rQ2FjaGUuZmx1c2goKSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vdGhpbmcgY2FjaGVkIGFscmVhZHksIGFuZCB0aGUgY2hhY2hlIGlzIGxhcmdlIGVub3VnaFxuICAgICAgICAgICAgLy8ganVzdCBlbWl0IHRoZSBwcm9ncmVzcyBldmVudFxuICAgICAgICAgICAgb25Qcm9ncmVzcyhzdGF0cywgY29udGV4dCwgY2h1bmssIHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHB1bXAoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAvKiBhYm9ydGVkICovXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHVtcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlcXVlc3RQYXJhbWV0ZXJzKGNvbnRleHQ6IExvYWRlckNvbnRleHQsIHNpZ25hbCk6IGFueSB7XG4gIGNvbnN0IGluaXRQYXJhbXM6IGFueSA9IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIG1vZGU6ICdjb3JzJyxcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICBzaWduYWwsXG4gICAgaGVhZGVyczogbmV3IHNlbGYuSGVhZGVycyhPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LmhlYWRlcnMpKSxcbiAgfTtcblxuICBpZiAoY29udGV4dC5yYW5nZUVuZCkge1xuICAgIGluaXRQYXJhbXMuaGVhZGVycy5zZXQoXG4gICAgICAnUmFuZ2UnLFxuICAgICAgJ2J5dGVzPScgKyBjb250ZXh0LnJhbmdlU3RhcnQgKyAnLScgKyBTdHJpbmcoY29udGV4dC5yYW5nZUVuZCAtIDEpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gaW5pdFBhcmFtcztcbn1cblxuZnVuY3Rpb24gZ2V0Qnl0ZVJhbmdlTGVuZ3RoKGJ5dGVSYW5nZUhlYWRlcjogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgcmVzdWx0ID0gQllURVJBTkdFLmV4ZWMoYnl0ZVJhbmdlSGVhZGVyKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiBwYXJzZUludChyZXN1bHRbMl0pIC0gcGFyc2VJbnQocmVzdWx0WzFdKSArIDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29udGVudExlbmd0aChoZWFkZXJzOiBIZWFkZXJzKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgY29udGVudFJhbmdlID0gaGVhZGVycy5nZXQoJ0NvbnRlbnQtUmFuZ2UnKTtcbiAgaWYgKGNvbnRlbnRSYW5nZSkge1xuICAgIGNvbnN0IGJ5dGVSYW5nZUxlbmd0aCA9IGdldEJ5dGVSYW5nZUxlbmd0aChjb250ZW50UmFuZ2UpO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoYnl0ZVJhbmdlTGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGJ5dGVSYW5nZUxlbmd0aDtcbiAgICB9XG4gIH1cbiAgY29uc3QgY29udGVudExlbmd0aCA9IGhlYWRlcnMuZ2V0KCdDb250ZW50LUxlbmd0aCcpO1xuICBpZiAoY29udGVudExlbmd0aCkge1xuICAgIHJldHVybiBwYXJzZUludChjb250ZW50TGVuZ3RoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZXF1ZXN0KGNvbnRleHQ6IExvYWRlckNvbnRleHQsIGluaXRQYXJhbXM6IGFueSk6IFJlcXVlc3Qge1xuICByZXR1cm4gbmV3IHNlbGYuUmVxdWVzdChjb250ZXh0LnVybCwgaW5pdFBhcmFtcyk7XG59XG5cbmNsYXNzIEZldGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBjb2RlOiBudW1iZXI7XG4gIHB1YmxpYyBkZXRhaWxzOiBhbnk7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29kZTogbnVtYmVyLCBkZXRhaWxzOiBhbnkpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmV0Y2hMb2FkZXI7XG4iLCAiaW1wb3J0IHsgZml4TGluZUJyZWFrcyB9IGZyb20gJy4vdnR0cGFyc2VyJztcbmltcG9ydCB0eXBlIHsgQ2FwdGlvblNjcmVlbiwgUm93IH0gZnJvbSAnLi9jZWEtNjA4LXBhcnNlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZUN1ZUlkIH0gZnJvbSAnLi93ZWJ2dHQtcGFyc2VyJztcbmltcG9ydCB7IGFkZEN1ZVRvVHJhY2sgfSBmcm9tICcuL3RleHR0cmFjay11dGlscyc7XG5cbmNvbnN0IFdISVRFU1BBQ0VfQ0hBUiA9IC9cXHMvO1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1ZXNJbnRlcmZhY2Uge1xuICBuZXdDdWUoXG4gICAgdHJhY2s6IFRleHRUcmFjayB8IG51bGwsXG4gICAgc3RhcnRUaW1lOiBudW1iZXIsXG4gICAgZW5kVGltZTogbnVtYmVyLFxuICAgIGNhcHRpb25TY3JlZW46IENhcHRpb25TY3JlZW4sXG4gICk6IFZUVEN1ZVtdO1xufVxuXG5jb25zdCBDdWVzOiBDdWVzSW50ZXJmYWNlID0ge1xuICBuZXdDdWUoXG4gICAgdHJhY2s6IFRleHRUcmFjayB8IG51bGwsXG4gICAgc3RhcnRUaW1lOiBudW1iZXIsXG4gICAgZW5kVGltZTogbnVtYmVyLFxuICAgIGNhcHRpb25TY3JlZW46IENhcHRpb25TY3JlZW4sXG4gICk6IFZUVEN1ZVtdIHtcbiAgICBjb25zdCByZXN1bHQ6IFZUVEN1ZVtdID0gW107XG4gICAgbGV0IHJvdzogUm93O1xuICAgIC8vIHRoZSB0eXBlIGRhdGEgc3RhdGVzIHRoaXMgaXMgVlRUQ3VlLCBidXQgaXQgY2FuIHBvdGVudGlhbGx5IGJlIGEgVGV4dFRyYWNrQ3VlIG9uIG9sZCBicm93c2Vyc1xuICAgIGxldCBjdWU6IFZUVEN1ZTtcbiAgICBsZXQgaW5kZW50aW5nOiBib29sZWFuO1xuICAgIGxldCBpbmRlbnQ6IG51bWJlcjtcbiAgICBsZXQgdGV4dDogc3RyaW5nO1xuICAgIGNvbnN0IEN1ZSA9IChzZWxmLlZUVEN1ZSB8fCBzZWxmLlRleHRUcmFja0N1ZSkgYXMgYW55O1xuXG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCBjYXB0aW9uU2NyZWVuLnJvd3MubGVuZ3RoOyByKyspIHtcbiAgICAgIHJvdyA9IGNhcHRpb25TY3JlZW4ucm93c1tyXTtcbiAgICAgIGluZGVudGluZyA9IHRydWU7XG4gICAgICBpbmRlbnQgPSAwO1xuICAgICAgdGV4dCA9ICcnO1xuXG4gICAgICBpZiAoIXJvdy5pc0VtcHR5KCkpIHtcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCByb3cuY2hhcnMubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICBpZiAoV0hJVEVTUEFDRV9DSEFSLnRlc3Qocm93LmNoYXJzW2NdLnVjaGFyKSAmJiBpbmRlbnRpbmcpIHtcbiAgICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0ICs9IHJvdy5jaGFyc1tjXS51Y2hhcjtcbiAgICAgICAgICAgIGluZGVudGluZyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUbyBiZSB1c2VkIGZvciBjbGVhbmluZy11cCBvcnBoYW5lZCByb2xsLXVwIGNhcHRpb25zXG4gICAgICAgIHJvdy5jdWVTdGFydFRpbWUgPSBzdGFydFRpbWU7XG5cbiAgICAgICAgLy8gR2l2ZSBhIHNsaWdodCBidW1wIHRvIHRoZSBlbmRUaW1lIGlmIGl0J3MgZXF1YWwgdG8gc3RhcnRUaW1lIHRvIGF2b2lkIGEgU3ludGF4RXJyb3IgaW4gSUVcbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gZW5kVGltZSkge1xuICAgICAgICAgIGVuZFRpbWUgKz0gMC4wMDAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGVudCA+PSAxNikge1xuICAgICAgICAgIGluZGVudC0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VlVGV4dCA9IGZpeExpbmVCcmVha3ModGV4dC50cmltKCkpO1xuICAgICAgICBjb25zdCBpZCA9IGdlbmVyYXRlQ3VlSWQoc3RhcnRUaW1lLCBlbmRUaW1lLCBjdWVUZXh0KTtcblxuICAgICAgICAvLyBJZiB0aGlzIGN1ZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgdHJhY2sgZG8gbm90IHB1c2ggaXRcbiAgICAgICAgaWYgKCF0cmFjaz8uY3Vlcz8uZ2V0Q3VlQnlJZChpZCkpIHtcbiAgICAgICAgICBjdWUgPSBuZXcgQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgY3VlVGV4dCk7XG4gICAgICAgICAgY3VlLmlkID0gaWQ7XG4gICAgICAgICAgY3VlLmxpbmUgPSByICsgMTtcbiAgICAgICAgICBjdWUuYWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgLy8gQ2xhbXAgdGhlIHBvc2l0aW9uIGJldHdlZW4gMTAgYW5kIDgwIHBlcmNlbnQgKENFQS02MDggUEFDIGluZGVudCBjb2RlKVxuICAgICAgICAgIC8vIGh0dHBzOi8vZHZjcy53My5vcmcvaGcvdGV4dC10cmFja3MvcmF3LWZpbGUvZGVmYXVsdC82MDh0b1ZUVC82MDh0b1ZUVC5odG1sI3Bvc2l0aW9uaW5nLWluLWNlYS02MDhcbiAgICAgICAgICAvLyBGaXJlZm94IHRocm93cyBhbiBleGNlcHRpb24gYW5kIGNhcHRpb25zIGJyZWFrIHdpdGggb3V0IG9mIGJvdW5kcyAwLTEwMCB2YWx1ZXNcbiAgICAgICAgICBjdWUucG9zaXRpb24gPSAxMCArIE1hdGgubWluKDgwLCBNYXRoLmZsb29yKChpbmRlbnQgKiA4KSAvIDMyKSAqIDEwKTtcbiAgICAgICAgICByZXN1bHQucHVzaChjdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0cmFjayAmJiByZXN1bHQubGVuZ3RoKSB7XG4gICAgICAvLyBTb3J0IGJvdHRvbSBjdWVzIGluIHJldmVyc2Ugb3JkZXIgc28gdGhhdCB0aGV5IHJlbmRlciBpbiBsaW5lIG9yZGVyIHdoZW4gb3ZlcmxhcHBpbmcgaW4gQ2hyb21lXG4gICAgICByZXN1bHQuc29ydCgoY3VlQSwgY3VlQikgPT4ge1xuICAgICAgICBpZiAoY3VlQS5saW5lID09PSAnYXV0bycgfHwgY3VlQi5saW5lID09PSAnYXV0bycpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VlQS5saW5lID4gOCAmJiBjdWVCLmxpbmUgPiA4KSB7XG4gICAgICAgICAgcmV0dXJuIGN1ZUIubGluZSAtIGN1ZUEubGluZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VlQS5saW5lIC0gY3VlQi5saW5lO1xuICAgICAgfSk7XG4gICAgICByZXN1bHQuZm9yRWFjaCgoY3VlKSA9PiBhZGRDdWVUb1RyYWNrKHRyYWNrLCBjdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1ZXM7XG4iLCAiaW1wb3J0IEFickNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2Fici1jb250cm9sbGVyJztcbmltcG9ydCBBdWRpb1N0cmVhbUNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2F1ZGlvLXN0cmVhbS1jb250cm9sbGVyJztcbmltcG9ydCBBdWRpb1RyYWNrQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvYXVkaW8tdHJhY2stY29udHJvbGxlcic7XG5pbXBvcnQgeyBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IFN1YnRpdGxlVHJhY2tDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9zdWJ0aXRsZS10cmFjay1jb250cm9sbGVyJztcbmltcG9ydCBCdWZmZXJDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9idWZmZXItY29udHJvbGxlcic7XG5pbXBvcnQgeyBUaW1lbGluZUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlcic7XG5pbXBvcnQgQ2FwTGV2ZWxDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9jYXAtbGV2ZWwtY29udHJvbGxlcic7XG5pbXBvcnQgRlBTQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvZnBzLWNvbnRyb2xsZXInO1xuaW1wb3J0IEVNRUNvbnRyb2xsZXIsIHtcbiAgTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbn0gZnJvbSAnLi9jb250cm9sbGVyL2VtZS1jb250cm9sbGVyJztcbmltcG9ydCBDTUNEQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvY21jZC1jb250cm9sbGVyJztcbmltcG9ydCBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9jb250ZW50LXN0ZWVyaW5nLWNvbnRyb2xsZXInO1xuaW1wb3J0IEVycm9yQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvZXJyb3ItY29udHJvbGxlcic7XG5pbXBvcnQgWGhyTG9hZGVyIGZyb20gJy4vdXRpbHMveGhyLWxvYWRlcic7XG5pbXBvcnQgRmV0Y2hMb2FkZXIsIHsgZmV0Y2hTdXBwb3J0ZWQgfSBmcm9tICcuL3V0aWxzL2ZldGNoLWxvYWRlcic7XG5pbXBvcnQgQ3VlcyBmcm9tICcuL3V0aWxzL2N1ZXMnO1xuaW1wb3J0IHsgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIH0gZnJvbSAnLi91dGlscy9tZWRpYWtleXMtaGVscGVyJztcbmltcG9ydCB7IElMb2dnZXIsIGxvZ2dlciB9IGZyb20gJy4vdXRpbHMvbG9nZ2VyJztcblxuaW1wb3J0IHR5cGUgSGxzIGZyb20gJy4vaGxzJztcbmltcG9ydCB0eXBlIHsgQ3Vlc0ludGVyZmFjZSB9IGZyb20gJy4vdXRpbHMvY3Vlcyc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhS2V5RnVuYywgS2V5U3lzdGVtcyB9IGZyb20gJy4vdXRpbHMvbWVkaWFrZXlzLWhlbHBlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEZyYWdtZW50TG9hZGVyQ29udGV4dCxcbiAgTG9hZGVyLFxuICBMb2FkZXJDb250ZXh0LFxuICBMb2FkZXJSZXNwb25zZSxcbiAgUGxheWxpc3RMb2FkZXJDb250ZXh0LFxufSBmcm9tICcuL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEF1ZGlvU2VsZWN0aW9uT3B0aW9uLFxuICBTdWJ0aXRsZVNlbGVjdGlvbk9wdGlvbixcbiAgVmlkZW9TZWxlY3Rpb25PcHRpb24sXG59IGZyb20gJy4vdHlwZXMvbWVkaWEtcGxheWxpc3QnO1xuXG5leHBvcnQgdHlwZSBBQlJDb250cm9sbGVyQ29uZmlnID0ge1xuICBhYnJFd21hRmFzdExpdmU6IG51bWJlcjtcbiAgYWJyRXdtYVNsb3dMaXZlOiBudW1iZXI7XG4gIGFickV3bWFGYXN0Vm9EOiBudW1iZXI7XG4gIGFickV3bWFTbG93Vm9EOiBudW1iZXI7XG4gIC8qKlxuICAgKiBEZWZhdWx0IGJhbmR3aWR0aCBlc3RpbWF0ZSBpbiBiaXRzL3MgcHJpb3IgdG8gY29sbGVjdGluZyBmcmFnbWVudCBiYW5kd2lkdGggc2FtcGxlc1xuICAgKi9cbiAgYWJyRXdtYURlZmF1bHRFc3RpbWF0ZTogbnVtYmVyO1xuICBhYnJFd21hRGVmYXVsdEVzdGltYXRlTWF4OiBudW1iZXI7XG4gIGFickJhbmRXaWR0aEZhY3RvcjogbnVtYmVyO1xuICBhYnJCYW5kV2lkdGhVcEZhY3RvcjogbnVtYmVyO1xuICBhYnJNYXhXaXRoUmVhbEJpdHJhdGU6IGJvb2xlYW47XG4gIG1heFN0YXJ2YXRpb25EZWxheTogbnVtYmVyO1xuICBtYXhMb2FkaW5nRGVsYXk6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEJ1ZmZlckNvbnRyb2xsZXJDb25maWcgPSB7XG4gIGFwcGVuZEVycm9yTWF4UmV0cnk6IG51bWJlcjtcbiAgYmFja0J1ZmZlckxlbmd0aDogbnVtYmVyO1xuICBmcm9udEJ1ZmZlckZsdXNoVGhyZXNob2xkOiBudW1iZXI7XG4gIGxpdmVEdXJhdGlvbkluZmluaXR5OiBib29sZWFuO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGJhY2tCdWZmZXJMZW5ndGhcbiAgICovXG4gIGxpdmVCYWNrQnVmZmVyTGVuZ3RoOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FwTGV2ZWxDb250cm9sbGVyQ29uZmlnID0ge1xuICBjYXBMZXZlbFRvUGxheWVyU2l6ZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIENNQ0RDb250cm9sbGVyQ29uZmlnID0ge1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG4gIGNvbnRlbnRJZD86IHN0cmluZztcbiAgdXNlSGVhZGVycz86IGJvb2xlYW47XG4gIGluY2x1ZGVLZXlzPzogc3RyaW5nW107XG59O1xuXG5leHBvcnQgdHlwZSBEUk1TeXN0ZW1PcHRpb25zID0ge1xuICBhdWRpb1JvYnVzdG5lc3M/OiBzdHJpbmc7XG4gIHZpZGVvUm9idXN0bmVzcz86IHN0cmluZztcbiAgYXVkaW9FbmNyeXB0aW9uU2NoZW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgdmlkZW9FbmNyeXB0aW9uU2NoZW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgcGVyc2lzdGVudFN0YXRlPzogTWVkaWFLZXlzUmVxdWlyZW1lbnQ7XG4gIGRpc3RpbmN0aXZlSWRlbnRpZmllcj86IE1lZGlhS2V5c1JlcXVpcmVtZW50O1xuICBzZXNzaW9uVHlwZXM/OiBzdHJpbmdbXTtcbiAgc2Vzc2lvblR5cGU/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBEUk1TeXN0ZW1Db25maWd1cmF0aW9uID0ge1xuICBsaWNlbnNlVXJsOiBzdHJpbmc7XG4gIHNlcnZlckNlcnRpZmljYXRlVXJsPzogc3RyaW5nO1xuICBnZW5lcmF0ZVJlcXVlc3Q/OiAoXG4gICAgdGhpczogSGxzLFxuICAgIGluaXREYXRhVHlwZTogc3RyaW5nLFxuICAgIGluaXREYXRhOiBBcnJheUJ1ZmZlciB8IG51bGwsXG4gICAga2V5Q29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgKSA9PlxuICAgIHwgeyBpbml0RGF0YVR5cGU6IHN0cmluZzsgaW5pdERhdGE6IEFycmF5QnVmZmVyIHwgbnVsbCB9XG4gICAgfCB1bmRlZmluZWRcbiAgICB8IG5ldmVyO1xufTtcblxuZXhwb3J0IHR5cGUgRFJNU3lzdGVtc0NvbmZpZ3VyYXRpb24gPSBQYXJ0aWFsPFxuICBSZWNvcmQ8S2V5U3lzdGVtcywgRFJNU3lzdGVtQ29uZmlndXJhdGlvbj5cbj47XG5cbmV4cG9ydCB0eXBlIEVNRUNvbnRyb2xsZXJDb25maWcgPSB7XG4gIGxpY2Vuc2VYaHJTZXR1cD86IChcbiAgICB0aGlzOiBIbHMsXG4gICAgeGhyOiBYTUxIdHRwUmVxdWVzdCxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBrZXlDb250ZXh0OiBNZWRpYUtleVNlc3Npb25Db250ZXh0LFxuICAgIGxpY2Vuc2VDaGFsbGVuZ2U6IFVpbnQ4QXJyYXksXG4gICkgPT4gdm9pZCB8IFVpbnQ4QXJyYXkgfCBQcm9taXNlPFVpbnQ4QXJyYXkgfCB2b2lkPjtcbiAgbGljZW5zZVJlc3BvbnNlQ2FsbGJhY2s/OiAoXG4gICAgdGhpczogSGxzLFxuICAgIHhocjogWE1MSHR0cFJlcXVlc3QsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAga2V5Q29udGV4dDogTWVkaWFLZXlTZXNzaW9uQ29udGV4dCxcbiAgKSA9PiBBcnJheUJ1ZmZlcjtcbiAgZW1lRW5hYmxlZDogYm9vbGVhbjtcbiAgd2lkZXZpbmVMaWNlbnNlVXJsPzogc3RyaW5nO1xuICBkcm1TeXN0ZW1zOiBEUk1TeXN0ZW1zQ29uZmlndXJhdGlvbjtcbiAgZHJtU3lzdGVtT3B0aW9uczogRFJNU3lzdGVtT3B0aW9ucztcbiAgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzRnVuYzogTWVkaWFLZXlGdW5jIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnJhZ21lbnRMb2FkZXJDb25zdHJ1Y3RvciB7XG4gIG5ldyAoY29uZmc6IEhsc0NvbmZpZyk6IExvYWRlcjxGcmFnbWVudExvYWRlckNvbnRleHQ+O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBmcmFnTG9hZFBvbGljeS5kZWZhdWx0XG4gKi9cbmV4cG9ydCB0eXBlIEZyYWdtZW50TG9hZGVyQ29uZmlnID0ge1xuICBmcmFnTG9hZGluZ1RpbWVPdXQ6IG51bWJlcjtcbiAgZnJhZ0xvYWRpbmdNYXhSZXRyeTogbnVtYmVyO1xuICBmcmFnTG9hZGluZ1JldHJ5RGVsYXk6IG51bWJlcjtcbiAgZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEZQU0NvbnRyb2xsZXJDb25maWcgPSB7XG4gIGNhcExldmVsT25GUFNEcm9wOiBib29sZWFuO1xuICBmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZDogbnVtYmVyO1xuICBmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTGV2ZWxDb250cm9sbGVyQ29uZmlnID0ge1xuICBzdGFydExldmVsPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTVA0UmVtdXhlckNvbmZpZyA9IHtcbiAgc3RyZXRjaFNob3J0VmlkZW9UcmFjazogYm9vbGVhbjtcbiAgbWF4QXVkaW9GcmFtZXNEcmlmdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBQbGF5bGlzdExvYWRlckNvbnN0cnVjdG9yIHtcbiAgbmV3IChjb25mZzogSGxzQ29uZmlnKTogTG9hZGVyPFBsYXlsaXN0TG9hZGVyQ29udGV4dD47XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIG1hbmlmZXN0TG9hZFBvbGljeS5kZWZhdWx0IGFuZCBwbGF5bGlzdExvYWRQb2xpY3kuZGVmYXVsdFxuICovXG5leHBvcnQgdHlwZSBQbGF5bGlzdExvYWRlckNvbmZpZyA9IHtcbiAgbWFuaWZlc3RMb2FkaW5nVGltZU91dDogbnVtYmVyO1xuICBtYW5pZmVzdExvYWRpbmdNYXhSZXRyeTogbnVtYmVyO1xuICBtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5OiBudW1iZXI7XG4gIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5VGltZW91dDogbnVtYmVyO1xuXG4gIGxldmVsTG9hZGluZ1RpbWVPdXQ6IG51bWJlcjtcbiAgbGV2ZWxMb2FkaW5nTWF4UmV0cnk6IG51bWJlcjtcbiAgbGV2ZWxMb2FkaW5nUmV0cnlEZWxheTogbnVtYmVyO1xuICBsZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEhsc0xvYWRQb2xpY2llcyA9IHtcbiAgZnJhZ0xvYWRQb2xpY3k6IExvYWRQb2xpY3k7XG4gIGtleUxvYWRQb2xpY3k6IExvYWRQb2xpY3k7XG4gIGNlcnRMb2FkUG9saWN5OiBMb2FkUG9saWN5O1xuICBwbGF5bGlzdExvYWRQb2xpY3k6IExvYWRQb2xpY3k7XG4gIG1hbmlmZXN0TG9hZFBvbGljeTogTG9hZFBvbGljeTtcbiAgc3RlZXJpbmdNYW5pZmVzdExvYWRQb2xpY3k6IExvYWRQb2xpY3k7XG59O1xuXG5leHBvcnQgdHlwZSBMb2FkUG9saWN5ID0ge1xuICBkZWZhdWx0OiBMb2FkZXJDb25maWc7XG59O1xuXG5leHBvcnQgdHlwZSBMb2FkZXJDb25maWcgPSB7XG4gIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zOiBudW1iZXI7IC8vIE1heCB0aW1lIHRvIGZpcnN0IGJ5dGVcbiAgbWF4TG9hZFRpbWVNczogbnVtYmVyOyAvLyBNYXggdGltZSBmb3IgbG9hZCBjb21wbGV0aW9uXG4gIHRpbWVvdXRSZXRyeTogUmV0cnlDb25maWcgfCBudWxsO1xuICBlcnJvclJldHJ5OiBSZXRyeUNvbmZpZyB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBSZXRyeUNvbmZpZyA9IHtcbiAgbWF4TnVtUmV0cnk6IG51bWJlcjsgLy8gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllc1xuICByZXRyeURlbGF5TXM6IG51bWJlcjsgLy8gUmV0cnkgZGVsYXkgPSAyXnJldHJ5Q291bnQgKiByZXRyeURlbGF5TXMgKGV4cG9uZW50aWFsKSBvciByZXRyeUNvdW50ICogcmV0cnlEZWxheU1zIChsaW5lYXIpXG4gIG1heFJldHJ5RGVsYXlNczogbnVtYmVyOyAvLyBNYXhpbXVtIGRlbGF5IGJldHdlZW4gcmV0cmllc1xuICBiYWNrb2ZmPzogJ2V4cG9uZW50aWFsJyB8ICdsaW5lYXInOyAvLyB1c2VkIHRvIGRldGVybWluZSByZXRyeSBiYWNrb2ZmIGR1cmF0aW9uIChzZWUgcmV0cnlEZWxheU1zKVxuICBzaG91bGRSZXRyeT86IChcbiAgICByZXRyeUNvbmZpZzogUmV0cnlDb25maWcgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHJldHJ5Q291bnQ6IG51bWJlcixcbiAgICBpc1RpbWVvdXQ6IGJvb2xlYW4sXG4gICAgbG9hZGVyUmVzcG9uc2U6IExvYWRlclJlc3BvbnNlIHwgdW5kZWZpbmVkLFxuICAgIHJldHJ5OiBib29sZWFuLFxuICApID0+IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTdHJlYW1Db250cm9sbGVyQ29uZmlnID0ge1xuICBhdXRvU3RhcnRMb2FkOiBib29sZWFuO1xuICBzdGFydFBvc2l0aW9uOiBudW1iZXI7XG4gIGRlZmF1bHRBdWRpb0NvZGVjPzogc3RyaW5nO1xuICBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZTogbnVtYmVyO1xuICBtYXhCdWZmZXJMZW5ndGg6IG51bWJlcjtcbiAgbWF4QnVmZmVyU2l6ZTogbnVtYmVyO1xuICBtYXhCdWZmZXJIb2xlOiBudW1iZXI7XG4gIGhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZDogbnVtYmVyO1xuICBudWRnZU9mZnNldDogbnVtYmVyO1xuICBudWRnZU1heFJldHJ5OiBudW1iZXI7XG4gIG1heEZyYWdMb29rVXBUb2xlcmFuY2U6IG51bWJlcjtcbiAgbWF4TWF4QnVmZmVyTGVuZ3RoOiBudW1iZXI7XG4gIHN0YXJ0RnJhZ1ByZWZldGNoOiBib29sZWFuO1xuICB0ZXN0QmFuZHdpZHRoOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgU2VsZWN0aW9uUHJlZmVyZW5jZXMgPSB7XG4gIHZpZGVvUHJlZmVyZW5jZT86IFZpZGVvU2VsZWN0aW9uT3B0aW9uO1xuICBhdWRpb1ByZWZlcmVuY2U/OiBBdWRpb1NlbGVjdGlvbk9wdGlvbjtcbiAgc3VidGl0bGVQcmVmZXJlbmNlPzogU3VidGl0bGVTZWxlY3Rpb25PcHRpb247XG59O1xuXG5leHBvcnQgdHlwZSBMYXRlbmN5Q29udHJvbGxlckNvbmZpZyA9IHtcbiAgbGl2ZVN5bmNEdXJhdGlvbkNvdW50OiBudW1iZXI7XG4gIGxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudDogbnVtYmVyO1xuICBsaXZlU3luY0R1cmF0aW9uPzogbnVtYmVyO1xuICBsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uPzogbnVtYmVyO1xuICBtYXhMaXZlU3luY1BsYXliYWNrUmF0ZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTWV0YWRhdGFDb250cm9sbGVyQ29uZmlnID0ge1xuICBlbmFibGVEYXRlUmFuZ2VNZXRhZGF0YUN1ZXM6IGJvb2xlYW47XG4gIGVuYWJsZUVtc2dNZXRhZGF0YUN1ZXM6IGJvb2xlYW47XG4gIGVuYWJsZUlEM01ldGFkYXRhQ3VlczogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRpbWVsaW5lQ29udHJvbGxlckNvbmZpZyA9IHtcbiAgY3VlSGFuZGxlcjogQ3Vlc0ludGVyZmFjZTtcbiAgZW5hYmxlV2ViVlRUOiBib29sZWFuO1xuICBlbmFibGVJTVNDMTogYm9vbGVhbjtcbiAgZW5hYmxlQ0VBNzA4Q2FwdGlvbnM6IGJvb2xlYW47XG4gIGNhcHRpb25zVGV4dFRyYWNrMUxhYmVsOiBzdHJpbmc7XG4gIGNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZTogc3RyaW5nO1xuICBjYXB0aW9uc1RleHRUcmFjazJMYWJlbDogc3RyaW5nO1xuICBjYXB0aW9uc1RleHRUcmFjazJMYW5ndWFnZUNvZGU6IHN0cmluZztcbiAgY2FwdGlvbnNUZXh0VHJhY2szTGFiZWw6IHN0cmluZztcbiAgY2FwdGlvbnNUZXh0VHJhY2szTGFuZ3VhZ2VDb2RlOiBzdHJpbmc7XG4gIGNhcHRpb25zVGV4dFRyYWNrNExhYmVsOiBzdHJpbmc7XG4gIGNhcHRpb25zVGV4dFRyYWNrNExhbmd1YWdlQ29kZTogc3RyaW5nO1xuICByZW5kZXJUZXh0VHJhY2tzTmF0aXZlbHk6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBUU0RlbXV4ZXJDb25maWcgPSB7XG4gIGZvcmNlS2V5RnJhbWVPbkRpc2NvbnRpbnVpdHk6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBIbHNDb25maWcgPSB7XG4gIGRlYnVnOiBib29sZWFuIHwgSUxvZ2dlcjtcbiAgZW5hYmxlV29ya2VyOiBib29sZWFuO1xuICB3b3JrZXJQYXRoOiBudWxsIHwgc3RyaW5nO1xuICBlbmFibGVTb2Z0d2FyZUFFUzogYm9vbGVhbjtcbiAgbWluQXV0b0JpdHJhdGU6IG51bWJlcjtcbiAgaWdub3JlRGV2aWNlUGl4ZWxSYXRpbzogYm9vbGVhbjtcbiAgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlOiBib29sZWFuO1xuICBsb2FkZXI6IHsgbmV3IChjb25mZzogSGxzQ29uZmlnKTogTG9hZGVyPExvYWRlckNvbnRleHQ+IH07XG4gIGZMb2FkZXI/OiBGcmFnbWVudExvYWRlckNvbnN0cnVjdG9yO1xuICBwTG9hZGVyPzogUGxheWxpc3RMb2FkZXJDb25zdHJ1Y3RvcjtcbiAgZmV0Y2hTZXR1cD86IChjb250ZXh0OiBMb2FkZXJDb250ZXh0LCBpbml0UGFyYW1zOiBhbnkpID0+IFJlcXVlc3Q7XG4gIHhoclNldHVwPzogKHhocjogWE1MSHR0cFJlcXVlc3QsIHVybDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuICAvLyBBbHQgQXVkaW9cbiAgYXVkaW9TdHJlYW1Db250cm9sbGVyPzogdHlwZW9mIEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbiAgYXVkaW9UcmFja0NvbnRyb2xsZXI/OiB0eXBlb2YgQXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gIC8vIFN1YnRpdGxlXG4gIHN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcj86IHR5cGVvZiBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXI7XG4gIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyPzogdHlwZW9mIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICB0aW1lbGluZUNvbnRyb2xsZXI/OiB0eXBlb2YgVGltZWxpbmVDb250cm9sbGVyO1xuICAvLyBFTUVcbiAgZW1lQ29udHJvbGxlcj86IHR5cGVvZiBFTUVDb250cm9sbGVyO1xuICAvLyBDTUNEXG4gIGNtY2Q/OiBDTUNEQ29udHJvbGxlckNvbmZpZztcbiAgY21jZENvbnRyb2xsZXI/OiB0eXBlb2YgQ01DRENvbnRyb2xsZXI7XG4gIC8vIENvbnRlbnQgU3RlZXJpbmdcbiAgY29udGVudFN0ZWVyaW5nQ29udHJvbGxlcj86IHR5cGVvZiBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyO1xuXG4gIC8vIE1lZGlhQ2FwYWJpbGllcyBBUEkgZm9yIGxldmVsLCB0cmFjaywgYW5kIHN3aXRjaCBmaWx0ZXJpbmdcbiAgdXNlTWVkaWFDYXBhYmlsaXRpZXM6IGJvb2xlYW47XG5cbiAgYWJyQ29udHJvbGxlcjogdHlwZW9mIEFickNvbnRyb2xsZXI7XG4gIGJ1ZmZlckNvbnRyb2xsZXI6IHR5cGVvZiBCdWZmZXJDb250cm9sbGVyO1xuICBjYXBMZXZlbENvbnRyb2xsZXI6IHR5cGVvZiBDYXBMZXZlbENvbnRyb2xsZXI7XG4gIGVycm9yQ29udHJvbGxlcjogdHlwZW9mIEVycm9yQ29udHJvbGxlcjtcbiAgZnBzQ29udHJvbGxlcjogdHlwZW9mIEZQU0NvbnRyb2xsZXI7XG4gIHByb2dyZXNzaXZlOiBib29sZWFuO1xuICBsb3dMYXRlbmN5TW9kZTogYm9vbGVhbjtcbn0gJiBBQlJDb250cm9sbGVyQ29uZmlnICZcbiAgQnVmZmVyQ29udHJvbGxlckNvbmZpZyAmXG4gIENhcExldmVsQ29udHJvbGxlckNvbmZpZyAmXG4gIEVNRUNvbnRyb2xsZXJDb25maWcgJlxuICBGUFNDb250cm9sbGVyQ29uZmlnICZcbiAgTGV2ZWxDb250cm9sbGVyQ29uZmlnICZcbiAgTVA0UmVtdXhlckNvbmZpZyAmXG4gIFN0cmVhbUNvbnRyb2xsZXJDb25maWcgJlxuICBTZWxlY3Rpb25QcmVmZXJlbmNlcyAmXG4gIExhdGVuY3lDb250cm9sbGVyQ29uZmlnICZcbiAgTWV0YWRhdGFDb250cm9sbGVyQ29uZmlnICZcbiAgVGltZWxpbmVDb250cm9sbGVyQ29uZmlnICZcbiAgVFNEZW11eGVyQ29uZmlnICZcbiAgSGxzTG9hZFBvbGljaWVzICZcbiAgRnJhZ21lbnRMb2FkZXJDb25maWcgJlxuICBQbGF5bGlzdExvYWRlckNvbmZpZztcblxuY29uc3QgZGVmYXVsdExvYWRQb2xpY3k6IExvYWRlckNvbmZpZyA9IHtcbiAgbWF4VGltZVRvRmlyc3RCeXRlTXM6IDgwMDAsXG4gIG1heExvYWRUaW1lTXM6IDIwMDAwLFxuICB0aW1lb3V0UmV0cnk6IG51bGwsXG4gIGVycm9yUmV0cnk6IG51bGwsXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqIElmIHBvc3NpYmxlLCBrZWVwIGhsc0RlZmF1bHRDb25maWcgc2hhbGxvd1xuICogSXQgaXMgY2xvbmVkIHdoZW5ldmVyIGEgbmV3IEhscyBpbnN0YW5jZSBpcyBjcmVhdGVkLCBieSBrZWVwaW5nIHRoZSBjb25maWdcbiAqIHNoYWxsb3cgdGhlIHByb3BlcnRpZXMgYXJlIGNsb25lZCwgYW5kIHdlIGRvbid0IGVuZCB1cCBtYW5pcHVsYXRpbmcgdGhlIGRlZmF1bHRcbiAqL1xuZXhwb3J0IGNvbnN0IGhsc0RlZmF1bHRDb25maWc6IEhsc0NvbmZpZyA9IHtcbiAgYXV0b1N0YXJ0TG9hZDogdHJ1ZSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBzdGFydFBvc2l0aW9uOiAtMSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBkZWZhdWx0QXVkaW9Db2RlYzogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGRlYnVnOiBmYWxzZSwgLy8gdXNlZCBieSBsb2dnZXJcbiAgY2FwTGV2ZWxPbkZQU0Ryb3A6IGZhbHNlLCAvLyB1c2VkIGJ5IGZwcy1jb250cm9sbGVyXG4gIGNhcExldmVsVG9QbGF5ZXJTaXplOiBmYWxzZSwgLy8gdXNlZCBieSBjYXAtbGV2ZWwtY29udHJvbGxlclxuICBpZ25vcmVEZXZpY2VQaXhlbFJhdGlvOiBmYWxzZSwgLy8gdXNlZCBieSBjYXAtbGV2ZWwtY29udHJvbGxlclxuICBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2U6IHRydWUsXG4gIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplOiAxLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heEJ1ZmZlckxlbmd0aDogMzAsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgYmFja0J1ZmZlckxlbmd0aDogSW5maW5pdHksIC8vIHVzZWQgYnkgYnVmZmVyLWNvbnRyb2xsZXJcbiAgZnJvbnRCdWZmZXJGbHVzaFRocmVzaG9sZDogSW5maW5pdHksXG4gIG1heEJ1ZmZlclNpemU6IDYwICogMTAwMCAqIDEwMDAsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4QnVmZmVySG9sZTogMC4xLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZDogMiwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBudWRnZU9mZnNldDogMC4xLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG51ZGdlTWF4UmV0cnk6IDMsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTogMC4yNSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBsaXZlU3luY0R1cmF0aW9uQ291bnQ6IDMsIC8vIHVzZWQgYnkgbGF0ZW5jeS1jb250cm9sbGVyXG4gIGxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudDogSW5maW5pdHksIC8vIHVzZWQgYnkgbGF0ZW5jeS1jb250cm9sbGVyXG4gIGxpdmVTeW5jRHVyYXRpb246IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBsYXRlbmN5LWNvbnRyb2xsZXJcbiAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbjogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IGxhdGVuY3ktY29udHJvbGxlclxuICBtYXhMaXZlU3luY1BsYXliYWNrUmF0ZTogMSwgLy8gdXNlZCBieSBsYXRlbmN5LWNvbnRyb2xsZXJcbiAgbGl2ZUR1cmF0aW9uSW5maW5pdHk6IGZhbHNlLCAvLyB1c2VkIGJ5IGJ1ZmZlci1jb250cm9sbGVyXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYmFja0J1ZmZlckxlbmd0aFxuICAgKi9cbiAgbGl2ZUJhY2tCdWZmZXJMZW5ndGg6IG51bGwsIC8vIHVzZWQgYnkgYnVmZmVyLWNvbnRyb2xsZXJcbiAgbWF4TWF4QnVmZmVyTGVuZ3RoOiA2MDAsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgZW5hYmxlV29ya2VyOiB0cnVlLCAvLyB1c2VkIGJ5IHRyYW5zbXV4ZXJcbiAgd29ya2VyUGF0aDogbnVsbCwgLy8gdXNlZCBieSB0cmFuc211eGVyXG4gIGVuYWJsZVNvZnR3YXJlQUVTOiB0cnVlLCAvLyB1c2VkIGJ5IGRlY3J5cHRlclxuICBzdGFydExldmVsOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgbGV2ZWwtY29udHJvbGxlclxuICBzdGFydEZyYWdQcmVmZXRjaDogZmFsc2UsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2Q6IDUwMDAsIC8vIHVzZWQgYnkgZnBzLWNvbnRyb2xsZXJcbiAgZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQ6IDAuMiwgLy8gdXNlZCBieSBmcHMtY29udHJvbGxlclxuICBhcHBlbmRFcnJvck1heFJldHJ5OiAzLCAvLyB1c2VkIGJ5IGJ1ZmZlci1jb250cm9sbGVyXG4gIGxvYWRlcjogWGhyTG9hZGVyLFxuICAvLyBsb2FkZXI6IEZldGNoTG9hZGVyLFxuICBmTG9hZGVyOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIHBMb2FkZXI6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgeGhyU2V0dXA6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSB4aHItbG9hZGVyXG4gIGxpY2Vuc2VYaHJTZXR1cDogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IGVtZS1jb250cm9sbGVyXG4gIGxpY2Vuc2VSZXNwb25zZUNhbGxiYWNrOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbiAgYWJyQ29udHJvbGxlcjogQWJyQ29udHJvbGxlcixcbiAgYnVmZmVyQ29udHJvbGxlcjogQnVmZmVyQ29udHJvbGxlcixcbiAgY2FwTGV2ZWxDb250cm9sbGVyOiBDYXBMZXZlbENvbnRyb2xsZXIsXG4gIGVycm9yQ29udHJvbGxlcjogRXJyb3JDb250cm9sbGVyLFxuICBmcHNDb250cm9sbGVyOiBGUFNDb250cm9sbGVyLFxuICBzdHJldGNoU2hvcnRWaWRlb1RyYWNrOiBmYWxzZSwgLy8gdXNlZCBieSBtcDQtcmVtdXhlclxuICBtYXhBdWRpb0ZyYW1lc0RyaWZ0OiAxLCAvLyB1c2VkIGJ5IG1wNC1yZW11eGVyXG4gIGZvcmNlS2V5RnJhbWVPbkRpc2NvbnRpbnVpdHk6IHRydWUsIC8vIHVzZWQgYnkgdHMtZGVtdXhlclxuICBhYnJFd21hRmFzdExpdmU6IDMsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyRXdtYVNsb3dMaXZlOiA5LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFGYXN0Vm9EOiAzLCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFTbG93Vm9EOiA5LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFEZWZhdWx0RXN0aW1hdGU6IDVlNSwgLy8gNTAwIGticHMgIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyRXdtYURlZmF1bHRFc3RpbWF0ZU1heDogNWU2LCAvLyA1IG1icHNcbiAgYWJyQmFuZFdpZHRoRmFjdG9yOiAwLjk1LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickJhbmRXaWR0aFVwRmFjdG9yOiAwLjcsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyTWF4V2l0aFJlYWxCaXRyYXRlOiBmYWxzZSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBtYXhTdGFydmF0aW9uRGVsYXk6IDQsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgbWF4TG9hZGluZ0RlbGF5OiA0LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIG1pbkF1dG9CaXRyYXRlOiAwLCAvLyB1c2VkIGJ5IGhsc1xuICBlbWVFbmFibGVkOiBmYWxzZSwgLy8gdXNlZCBieSBlbWUtY29udHJvbGxlclxuICB3aWRldmluZUxpY2Vuc2VVcmw6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBlbWUtY29udHJvbGxlclxuICBkcm1TeXN0ZW1zOiB7fSwgLy8gdXNlZCBieSBlbWUtY29udHJvbGxlclxuICBkcm1TeXN0ZW1PcHRpb25zOiB7fSwgLy8gdXNlZCBieSBlbWUtY29udHJvbGxlclxuICByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jOiBfX1VTRV9FTUVfRFJNX19cbiAgICA/IHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc1xuICAgIDogbnVsbCwgLy8gdXNlZCBieSBlbWUtY29udHJvbGxlclxuICB0ZXN0QmFuZHdpZHRoOiB0cnVlLFxuICBwcm9ncmVzc2l2ZTogZmFsc2UsXG4gIGxvd0xhdGVuY3lNb2RlOiB0cnVlLFxuICBjbWNkOiB1bmRlZmluZWQsXG4gIGVuYWJsZURhdGVSYW5nZU1ldGFkYXRhQ3VlczogdHJ1ZSxcbiAgZW5hYmxlRW1zZ01ldGFkYXRhQ3VlczogdHJ1ZSxcbiAgZW5hYmxlSUQzTWV0YWRhdGFDdWVzOiB0cnVlLFxuICB1c2VNZWRpYUNhcGFiaWxpdGllczogX19VU0VfTUVESUFfQ0FQQUJJTElUSUVTX18sXG5cbiAgY2VydExvYWRQb2xpY3k6IHtcbiAgICBkZWZhdWx0OiBkZWZhdWx0TG9hZFBvbGljeSxcbiAgfSxcbiAga2V5TG9hZFBvbGljeToge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zOiA4MDAwLFxuICAgICAgbWF4TG9hZFRpbWVNczogMjAwMDAsXG4gICAgICB0aW1lb3V0UmV0cnk6IHtcbiAgICAgICAgbWF4TnVtUmV0cnk6IDEsXG4gICAgICAgIHJldHJ5RGVsYXlNczogMTAwMCxcbiAgICAgICAgbWF4UmV0cnlEZWxheU1zOiAyMDAwMCxcbiAgICAgICAgYmFja29mZjogJ2xpbmVhcicsXG4gICAgICB9LFxuICAgICAgZXJyb3JSZXRyeToge1xuICAgICAgICBtYXhOdW1SZXRyeTogOCxcbiAgICAgICAgcmV0cnlEZWxheU1zOiAxMDAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5TXM6IDIwMDAwLFxuICAgICAgICBiYWNrb2ZmOiAnbGluZWFyJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgbWFuaWZlc3RMb2FkUG9saWN5OiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgbWF4VGltZVRvRmlyc3RCeXRlTXM6IEluZmluaXR5LFxuICAgICAgbWF4TG9hZFRpbWVNczogMjAwMDAsXG4gICAgICB0aW1lb3V0UmV0cnk6IHtcbiAgICAgICAgbWF4TnVtUmV0cnk6IDIsXG4gICAgICAgIHJldHJ5RGVsYXlNczogMCxcbiAgICAgICAgbWF4UmV0cnlEZWxheU1zOiAwLFxuICAgICAgfSxcbiAgICAgIGVycm9yUmV0cnk6IHtcbiAgICAgICAgbWF4TnVtUmV0cnk6IDEsXG4gICAgICAgIHJldHJ5RGVsYXlNczogMTAwMCxcbiAgICAgICAgbWF4UmV0cnlEZWxheU1zOiA4MDAwLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBwbGF5bGlzdExvYWRQb2xpY3k6IHtcbiAgICBkZWZhdWx0OiB7XG4gICAgICBtYXhUaW1lVG9GaXJzdEJ5dGVNczogMTAwMDAsXG4gICAgICBtYXhMb2FkVGltZU1zOiAyMDAwMCxcbiAgICAgIHRpbWVvdXRSZXRyeToge1xuICAgICAgICBtYXhOdW1SZXRyeTogMixcbiAgICAgICAgcmV0cnlEZWxheU1zOiAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5TXM6IDAsXG4gICAgICB9LFxuICAgICAgZXJyb3JSZXRyeToge1xuICAgICAgICBtYXhOdW1SZXRyeTogMixcbiAgICAgICAgcmV0cnlEZWxheU1zOiAxMDAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5TXM6IDgwMDAsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGZyYWdMb2FkUG9saWN5OiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgbWF4VGltZVRvRmlyc3RCeXRlTXM6IDEwMDAwLFxuICAgICAgbWF4TG9hZFRpbWVNczogMTIwMDAwLFxuICAgICAgdGltZW91dFJldHJ5OiB7XG4gICAgICAgIG1heE51bVJldHJ5OiA0LFxuICAgICAgICByZXRyeURlbGF5TXM6IDAsXG4gICAgICAgIG1heFJldHJ5RGVsYXlNczogMCxcbiAgICAgIH0sXG4gICAgICBlcnJvclJldHJ5OiB7XG4gICAgICAgIG1heE51bVJldHJ5OiA2LFxuICAgICAgICByZXRyeURlbGF5TXM6IDEwMDAsXG4gICAgICAgIG1heFJldHJ5RGVsYXlNczogODAwMCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgc3RlZXJpbmdNYW5pZmVzdExvYWRQb2xpY3k6IHtcbiAgICBkZWZhdWx0OiBfX1VTRV9DT05URU5UX1NURUVSSU5HX19cbiAgICAgID8ge1xuICAgICAgICAgIG1heFRpbWVUb0ZpcnN0Qnl0ZU1zOiAxMDAwMCxcbiAgICAgICAgICBtYXhMb2FkVGltZU1zOiAyMDAwMCxcbiAgICAgICAgICB0aW1lb3V0UmV0cnk6IHtcbiAgICAgICAgICAgIG1heE51bVJldHJ5OiAyLFxuICAgICAgICAgICAgcmV0cnlEZWxheU1zOiAwLFxuICAgICAgICAgICAgbWF4UmV0cnlEZWxheU1zOiAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3JSZXRyeToge1xuICAgICAgICAgICAgbWF4TnVtUmV0cnk6IDEsXG4gICAgICAgICAgICByZXRyeURlbGF5TXM6IDEwMDAsXG4gICAgICAgICAgICBtYXhSZXRyeURlbGF5TXM6IDgwMDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgOiBkZWZhdWx0TG9hZFBvbGljeSxcbiAgfSxcblxuICAvLyBUaGVzZSBkZWZhdWx0IHNldHRpbmdzIGFyZSBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBhYm92ZSBwb2xpY2llc1xuICAvLyBhbmQgYXJlIG1haW50YWluZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIG1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ6IDEwMDAwLFxuICBtYW5pZmVzdExvYWRpbmdNYXhSZXRyeTogMSxcbiAgbWFuaWZlc3RMb2FkaW5nUmV0cnlEZWxheTogMTAwMCxcbiAgbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCxcbiAgbGV2ZWxMb2FkaW5nVGltZU91dDogMTAwMDAsXG4gIGxldmVsTG9hZGluZ01heFJldHJ5OiA0LFxuICBsZXZlbExvYWRpbmdSZXRyeURlbGF5OiAxMDAwLFxuICBsZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLFxuICBmcmFnTG9hZGluZ1RpbWVPdXQ6IDIwMDAwLFxuICBmcmFnTG9hZGluZ01heFJldHJ5OiA2LFxuICBmcmFnTG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsXG4gIGZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCxcblxuICAvLyBEeW5hbWljIE1vZHVsZXNcbiAgLi4udGltZWxpbmVDb25maWcoKSxcbiAgc3VidGl0bGVTdHJlYW1Db250cm9sbGVyOiBfX1VTRV9TVUJUSVRMRVNfX1xuICAgID8gU3VidGl0bGVTdHJlYW1Db250cm9sbGVyXG4gICAgOiB1bmRlZmluZWQsXG4gIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyOiBfX1VTRV9TVUJUSVRMRVNfX1xuICAgID8gU3VidGl0bGVUcmFja0NvbnRyb2xsZXJcbiAgICA6IHVuZGVmaW5lZCxcbiAgdGltZWxpbmVDb250cm9sbGVyOiBfX1VTRV9TVUJUSVRMRVNfXyA/IFRpbWVsaW5lQ29udHJvbGxlciA6IHVuZGVmaW5lZCxcbiAgYXVkaW9TdHJlYW1Db250cm9sbGVyOiBfX1VTRV9BTFRfQVVESU9fXyA/IEF1ZGlvU3RyZWFtQ29udHJvbGxlciA6IHVuZGVmaW5lZCxcbiAgYXVkaW9UcmFja0NvbnRyb2xsZXI6IF9fVVNFX0FMVF9BVURJT19fID8gQXVkaW9UcmFja0NvbnRyb2xsZXIgOiB1bmRlZmluZWQsXG4gIGVtZUNvbnRyb2xsZXI6IF9fVVNFX0VNRV9EUk1fXyA/IEVNRUNvbnRyb2xsZXIgOiB1bmRlZmluZWQsXG4gIGNtY2RDb250cm9sbGVyOiBfX1VTRV9DTUNEX18gPyBDTUNEQ29udHJvbGxlciA6IHVuZGVmaW5lZCxcbiAgY29udGVudFN0ZWVyaW5nQ29udHJvbGxlcjogX19VU0VfQ09OVEVOVF9TVEVFUklOR19fXG4gICAgPyBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyXG4gICAgOiB1bmRlZmluZWQsXG59O1xuXG5mdW5jdGlvbiB0aW1lbGluZUNvbmZpZygpOiBUaW1lbGluZUNvbnRyb2xsZXJDb25maWcge1xuICByZXR1cm4ge1xuICAgIGN1ZUhhbmRsZXI6IEN1ZXMsIC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICAgIGVuYWJsZVdlYlZUVDogX19VU0VfU1VCVElUTEVTX18sIC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICAgIGVuYWJsZUlNU0MxOiBfX1VTRV9TVUJUSVRMRVNfXywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgZW5hYmxlQ0VBNzA4Q2FwdGlvbnM6IF9fVVNFX1NVQlRJVExFU19fLCAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBjYXB0aW9uc1RleHRUcmFjazFMYWJlbDogJ0VuZ2xpc2gnLCAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBjYXB0aW9uc1RleHRUcmFjazFMYW5ndWFnZUNvZGU6ICdlbicsIC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICAgIGNhcHRpb25zVGV4dFRyYWNrMkxhYmVsOiAnU3BhbmlzaCcsIC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICAgIGNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZTogJ2VzJywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgY2FwdGlvbnNUZXh0VHJhY2szTGFiZWw6ICdVbmtub3duIENDJywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgY2FwdGlvbnNUZXh0VHJhY2szTGFuZ3VhZ2VDb2RlOiAnJywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgY2FwdGlvbnNUZXh0VHJhY2s0TGFiZWw6ICdVbmtub3duIENDJywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgY2FwdGlvbnNUZXh0VHJhY2s0TGFuZ3VhZ2VDb2RlOiAnJywgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgcmVuZGVyVGV4dFRyYWNrc05hdGl2ZWx5OiB0cnVlLFxuICB9O1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKFxuICBkZWZhdWx0Q29uZmlnOiBIbHNDb25maWcsXG4gIHVzZXJDb25maWc6IFBhcnRpYWw8SGxzQ29uZmlnPixcbik6IEhsc0NvbmZpZyB7XG4gIGlmIChcbiAgICAodXNlckNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQgfHxcbiAgICAgIHVzZXJDb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50KSAmJlxuICAgICh1c2VyQ29uZmlnLmxpdmVTeW5jRHVyYXRpb24gfHwgdXNlckNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIklsbGVnYWwgaGxzLmpzIGNvbmZpZzogZG9uJ3QgbWl4IHVwIGxpdmVTeW5jRHVyYXRpb25Db3VudC9saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgYW5kIGxpdmVTeW5jRHVyYXRpb24vbGl2ZU1heExhdGVuY3lEdXJhdGlvblwiLFxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgdXNlckNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICh1c2VyQ29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1c2VyQ29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCA8PVxuICAgICAgICB1c2VyQ29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogXCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnRcIiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBcImxpdmVTeW5jRHVyYXRpb25Db3VudFwiJyxcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIHVzZXJDb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgKHVzZXJDb25maWcubGl2ZVN5bmNEdXJhdGlvbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1c2VyQ29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gPD0gdXNlckNvbmZpZy5saXZlU3luY0R1cmF0aW9uKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnSWxsZWdhbCBobHMuanMgY29uZmlnOiBcImxpdmVNYXhMYXRlbmN5RHVyYXRpb25cIiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBcImxpdmVTeW5jRHVyYXRpb25cIicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRzQ29weSA9IGRlZXBDcHkoZGVmYXVsdENvbmZpZyk7XG5cbiAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBkZXByZWNhdGVkIGNvbmZpZyB2YWx1ZXNcbiAgY29uc3QgZGVwcmVjYXRlZFNldHRpbmdUeXBlcyA9IFsnbWFuaWZlc3QnLCAnbGV2ZWwnLCAnZnJhZyddO1xuICBjb25zdCBkZXByZWNhdGVkU2V0dGluZ3MgPSBbXG4gICAgJ1RpbWVPdXQnLFxuICAgICdNYXhSZXRyeScsXG4gICAgJ1JldHJ5RGVsYXknLFxuICAgICdNYXhSZXRyeVRpbWVvdXQnLFxuICBdO1xuICBkZXByZWNhdGVkU2V0dGluZ1R5cGVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICBjb25zdCBwb2xpY3lOYW1lID0gYCR7dHlwZSA9PT0gJ2xldmVsJyA/ICdwbGF5bGlzdCcgOiB0eXBlfUxvYWRQb2xpY3lgO1xuICAgIGNvbnN0IHBvbGljeU5vdFNldCA9IHVzZXJDb25maWdbcG9saWN5TmFtZV0gPT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXBvcnQ6IHN0cmluZ1tdID0gW107XG4gICAgZGVwcmVjYXRlZFNldHRpbmdzLmZvckVhY2goKHNldHRpbmcpID0+IHtcbiAgICAgIGNvbnN0IGRlcHJlY2F0ZWRTZXR0aW5nID0gYCR7dHlwZX1Mb2FkaW5nJHtzZXR0aW5nfWA7XG4gICAgICBjb25zdCB2YWx1ZSA9IHVzZXJDb25maWdbZGVwcmVjYXRlZFNldHRpbmddO1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgcG9saWN5Tm90U2V0KSB7XG4gICAgICAgIHJlcG9ydC5wdXNoKGRlcHJlY2F0ZWRTZXR0aW5nKTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3M6IExvYWRlckNvbmZpZyA9IGRlZmF1bHRzQ29weVtwb2xpY3lOYW1lXS5kZWZhdWx0O1xuICAgICAgICB1c2VyQ29uZmlnW3BvbGljeU5hbWVdID0geyBkZWZhdWx0OiBzZXR0aW5ncyB9O1xuICAgICAgICBzd2l0Y2ggKHNldHRpbmcpIHtcbiAgICAgICAgICBjYXNlICdUaW1lT3V0JzpcbiAgICAgICAgICAgIHNldHRpbmdzLm1heExvYWRUaW1lTXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLm1heFRpbWVUb0ZpcnN0Qnl0ZU1zID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNYXhSZXRyeSc6XG4gICAgICAgICAgICBzZXR0aW5ncy5lcnJvclJldHJ5IS5tYXhOdW1SZXRyeSA9IHZhbHVlO1xuICAgICAgICAgICAgc2V0dGluZ3MudGltZW91dFJldHJ5IS5tYXhOdW1SZXRyeSA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnUmV0cnlEZWxheSc6XG4gICAgICAgICAgICBzZXR0aW5ncy5lcnJvclJldHJ5IS5yZXRyeURlbGF5TXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLnRpbWVvdXRSZXRyeSEucmV0cnlEZWxheU1zID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNYXhSZXRyeVRpbWVvdXQnOlxuICAgICAgICAgICAgc2V0dGluZ3MuZXJyb3JSZXRyeSEubWF4UmV0cnlEZWxheU1zID0gdmFsdWU7XG4gICAgICAgICAgICBzZXR0aW5ncy50aW1lb3V0UmV0cnkhLm1heFJldHJ5RGVsYXlNcyA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocmVwb3J0Lmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgIGBobHMuanMgY29uZmlnOiBcIiR7cmVwb3J0LmpvaW4oXG4gICAgICAgICAgJ1wiLCBcIicsXG4gICAgICAgICl9XCIgc2V0dGluZyhzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIFwiJHtwb2xpY3lOYW1lfVwiOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHVzZXJDb25maWdbcG9saWN5TmFtZV0sXG4gICAgICAgICl9YCxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIC4uLmRlZmF1bHRzQ29weSxcbiAgICAuLi51c2VyQ29uZmlnLFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWVwQ3B5KG9iajogYW55KTogYW55IHtcbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmoubWFwKGRlZXBDcHkpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBDcHkob2JqW2tleV0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVTdHJlYW1pbmdNb2RlKGNvbmZpZykge1xuICBjb25zdCBjdXJyZW50TG9hZGVyID0gY29uZmlnLmxvYWRlcjtcbiAgaWYgKGN1cnJlbnRMb2FkZXIgIT09IEZldGNoTG9hZGVyICYmIGN1cnJlbnRMb2FkZXIgIT09IFhockxvYWRlcikge1xuICAgIC8vIElmIGEgZGV2ZWxvcGVyIGhhcyBjb25maWd1cmVkIHRoZWlyIG93biBsb2FkZXIsIHJlc3BlY3QgdGhhdCBjaG9pY2VcbiAgICBsb2dnZXIubG9nKFxuICAgICAgJ1tjb25maWddOiBDdXN0b20gbG9hZGVyIGRldGVjdGVkLCBjYW5ub3QgZW5hYmxlIHByb2dyZXNzaXZlIHN0cmVhbWluZycsXG4gICAgKTtcbiAgICBjb25maWcucHJvZ3Jlc3NpdmUgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjYW5TdHJlYW1Qcm9ncmVzc2l2ZWx5ID0gZmV0Y2hTdXBwb3J0ZWQoKTtcbiAgICBpZiAoY2FuU3RyZWFtUHJvZ3Jlc3NpdmVseSkge1xuICAgICAgY29uZmlnLmxvYWRlciA9IEZldGNoTG9hZGVyO1xuICAgICAgY29uZmlnLnByb2dyZXNzaXZlID0gdHJ1ZTtcbiAgICAgIGNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUyA9IHRydWU7XG4gICAgICBsb2dnZXIubG9nKCdbY29uZmlnXTogUHJvZ3Jlc3NpdmUgc3RyZWFtaW5nIGVuYWJsZWQsIHVzaW5nIEZldGNoTG9hZGVyJyk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgTWFuaWZlc3RMb2FkZWREYXRhLFxuICBNYW5pZmVzdFBhcnNlZERhdGEsXG4gIExldmVsTG9hZGVkRGF0YSxcbiAgRXJyb3JEYXRhLFxuICBMZXZlbFN3aXRjaGluZ0RhdGEsXG4gIExldmVsc1VwZGF0ZWREYXRhLFxuICBNYW5pZmVzdExvYWRpbmdEYXRhLFxuICBGcmFnQnVmZmVyZWREYXRhLFxufSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHsgTGV2ZWwsIFZpZGVvUmFuZ2VWYWx1ZXMsIGlzVmlkZW9SYW5nZSB9IGZyb20gJy4uL3R5cGVzL2xldmVsJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBFcnJvclR5cGVzLCBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgYXJlQ29kZWNzTWVkaWFTb3VyY2VTdXBwb3J0ZWQsXG4gIGNvZGVjc1NldFNlbGVjdGlvblByZWZlcmVuY2VWYWx1ZSxcbiAgY29udmVydEFWQzFUb0FWQ09USSxcbiAgZ2V0Q29kZWNDb21wYXRpYmxlTmFtZSxcbiAgdmlkZW9Db2RlY1ByZWZlcmVuY2VWYWx1ZSxcbn0gZnJvbSAnLi4vdXRpbHMvY29kZWNzJztcbmltcG9ydCBCYXNlUGxheWxpc3RDb250cm9sbGVyIGZyb20gJy4vYmFzZS1wbGF5bGlzdC1jb250cm9sbGVyJztcbmltcG9ydCB7IFBsYXlsaXN0Q29udGV4dFR5cGUsIFBsYXlsaXN0TGV2ZWxUeXBlIH0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcbmltcG9ydCBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIGZyb20gJy4vY29udGVudC1zdGVlcmluZy1jb250cm9sbGVyJztcbmltcG9ydCB7IHJlYXNzaWduRnJhZ21lbnRMZXZlbEluZGV4ZXMgfSBmcm9tICcuLi91dGlscy9sZXZlbC1oZWxwZXInO1xuaW1wb3J0IHsgaGxzRGVmYXVsdENvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgSGxzVXJsUGFyYW1ldGVycywgTGV2ZWxQYXJzZWQgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgdHlwZSB7IE1lZGlhUGxheWxpc3QgfSBmcm9tICcuLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5cbmxldCBjaHJvbWVPckZpcmVmb3g6IGJvb2xlYW47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsQ29udHJvbGxlciBleHRlbmRzIEJhc2VQbGF5bGlzdENvbnRyb2xsZXIge1xuICBwcml2YXRlIF9sZXZlbHM6IExldmVsW10gPSBbXTtcbiAgcHJpdmF0ZSBfZmlyc3RMZXZlbDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX21heEF1dG9MZXZlbDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX3N0YXJ0TGV2ZWw/OiBudW1iZXI7XG4gIHByaXZhdGUgY3VycmVudExldmVsOiBMZXZlbCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGN1cnJlbnRMZXZlbEluZGV4OiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBtYW51YWxMZXZlbEluZGV4OiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBzdGVlcmluZzogQ29udGVudFN0ZWVyaW5nQ29udHJvbGxlciB8IG51bGw7XG5cbiAgcHVibGljIG9uUGFyc2VkQ29tcGxldGUhOiBGdW5jdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBobHM6IEhscyxcbiAgICBjb250ZW50U3RlZXJpbmdDb250cm9sbGVyOiBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoaGxzLCAnW2xldmVsLWNvbnRyb2xsZXJdJyk7XG4gICAgdGhpcy5zdGVlcmluZyA9IGNvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXI7XG4gICAgdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5NQU5JRkVTVF9MT0FERUQsIHRoaXMub25NYW5pZmVzdExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRlJBR19CVUZGRVJFRCwgdGhpcy5vbkZyYWdCdWZmZXJlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BREVELCB0aGlzLm9uTWFuaWZlc3RMb2FkZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkxFVkVMX0xPQURFRCwgdGhpcy5vbkxldmVsTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfQlVGRkVSRUQsIHRoaXMub25GcmFnQnVmZmVyZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkVSUk9SLCB0aGlzLm9uRXJyb3IsIHRoaXMpO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIHRoaXMuc3RlZXJpbmcgPSBudWxsO1xuICAgIHRoaXMucmVzZXRMZXZlbHMoKTtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cblxuICBwdWJsaWMgc3RvcExvYWQoKTogdm9pZCB7XG4gICAgY29uc3QgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuXG4gICAgLy8gY2xlYW4gdXAgbGl2ZSBsZXZlbCBkZXRhaWxzIHRvIGZvcmNlIHJlbG9hZCB0aGVtLCBhbmQgcmVzZXQgbG9hZCBlcnJvcnNcbiAgICBsZXZlbHMuZm9yRWFjaCgobGV2ZWwpID0+IHtcbiAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICBsZXZlbC5mcmFnbWVudEVycm9yID0gMDtcbiAgICB9KTtcblxuICAgIHN1cGVyLnN0b3BMb2FkKCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2V0TGV2ZWxzKCkge1xuICAgIHRoaXMuX3N0YXJ0TGV2ZWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tYW51YWxMZXZlbEluZGV4ID0gLTE7XG4gICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IC0xO1xuICAgIHRoaXMuY3VycmVudExldmVsID0gbnVsbDtcbiAgICB0aGlzLl9sZXZlbHMgPSBbXTtcbiAgICB0aGlzLl9tYXhBdXRvTGV2ZWwgPSAtMTtcbiAgfVxuXG4gIHByaXZhdGUgb25NYW5pZmVzdExvYWRpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9MT0FESU5HLFxuICAgIGRhdGE6IE1hbmlmZXN0TG9hZGluZ0RhdGEsXG4gICkge1xuICAgIHRoaXMucmVzZXRMZXZlbHMoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbk1hbmlmZXN0TG9hZGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTUFOSUZFU1RfTE9BREVELFxuICAgIGRhdGE6IE1hbmlmZXN0TG9hZGVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlID0gdGhpcy5obHMuY29uZmlnLnByZWZlck1hbmFnZWRNZWRpYVNvdXJjZTtcbiAgICBjb25zdCBsZXZlbHM6IExldmVsW10gPSBbXTtcbiAgICBjb25zdCByZWR1bmRhbnRTZXQ6IHsgW2tleTogc3RyaW5nXTogTGV2ZWwgfSA9IHt9O1xuICAgIGNvbnN0IGdlbmVyYXRlUGF0aHdheVNldDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgIGxldCByZXNvbHV0aW9uRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgdmlkZW9Db2RlY0ZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGF1ZGlvQ29kZWNGb3VuZCA9IGZhbHNlO1xuXG4gICAgZGF0YS5sZXZlbHMuZm9yRWFjaCgobGV2ZWxQYXJzZWQ6IExldmVsUGFyc2VkKSA9PiB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbGV2ZWxQYXJzZWQuYXR0cnM7XG5cbiAgICAgIC8vIGVyYXNlIGF1ZGlvIGNvZGVjIGluZm8gaWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IG1wNGEuNDAuMzQuXG4gICAgICAvLyBkZW11eGVyIHdpbGwgYXV0b2RldGVjdCBjb2RlYyBhbmQgZmFsbGJhY2sgdG8gbXBlZy9hdWRpb1xuICAgICAgbGV0IHsgYXVkaW9Db2RlYywgdmlkZW9Db2RlYyB9ID0gbGV2ZWxQYXJzZWQ7XG4gICAgICBpZiAoYXVkaW9Db2RlYz8uaW5kZXhPZignbXA0YS40MC4zNCcpICE9PSAtMSkge1xuICAgICAgICBjaHJvbWVPckZpcmVmb3ggfHw9IC9jaHJvbWV8ZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIGlmIChjaHJvbWVPckZpcmVmb3gpIHtcbiAgICAgICAgICBsZXZlbFBhcnNlZC5hdWRpb0NvZGVjID0gYXVkaW9Db2RlYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICBsZXZlbFBhcnNlZC5hdWRpb0NvZGVjID0gYXVkaW9Db2RlYyA9IGdldENvZGVjQ29tcGF0aWJsZU5hbWUoXG4gICAgICAgICAgYXVkaW9Db2RlYyxcbiAgICAgICAgICBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWRlb0NvZGVjPy5pbmRleE9mKCdhdmMxJykgPT09IDApIHtcbiAgICAgICAgdmlkZW9Db2RlYyA9IGxldmVsUGFyc2VkLnZpZGVvQ29kZWMgPSBjb252ZXJ0QVZDMVRvQVZDT1RJKHZpZGVvQ29kZWMpO1xuICAgICAgfVxuXG4gICAgICAvLyBvbmx5IGtlZXAgbGV2ZWxzIHdpdGggc3VwcG9ydGVkIGF1ZGlvL3ZpZGVvIGNvZGVjc1xuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCB1bmtub3duQ29kZWNzIH0gPSBsZXZlbFBhcnNlZDtcbiAgICAgIHJlc29sdXRpb25Gb3VuZCB8fD0gISEod2lkdGggJiYgaGVpZ2h0KTtcbiAgICAgIHZpZGVvQ29kZWNGb3VuZCB8fD0gISF2aWRlb0NvZGVjO1xuICAgICAgYXVkaW9Db2RlY0ZvdW5kIHx8PSAhIWF1ZGlvQ29kZWM7XG4gICAgICBpZiAoXG4gICAgICAgIHVua25vd25Db2RlY3M/Lmxlbmd0aCB8fFxuICAgICAgICAoYXVkaW9Db2RlYyAmJlxuICAgICAgICAgICFhcmVDb2RlY3NNZWRpYVNvdXJjZVN1cHBvcnRlZChcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMsXG4gICAgICAgICAgICAnYXVkaW8nLFxuICAgICAgICAgICAgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlLFxuICAgICAgICAgICkpIHx8XG4gICAgICAgICh2aWRlb0NvZGVjICYmXG4gICAgICAgICAgIWFyZUNvZGVjc01lZGlhU291cmNlU3VwcG9ydGVkKFxuICAgICAgICAgICAgdmlkZW9Db2RlYyxcbiAgICAgICAgICAgICd2aWRlbycsXG4gICAgICAgICAgICBwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UsXG4gICAgICAgICAgKSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgQ09ERUNTLFxuICAgICAgICAnRlJBTUUtUkFURSc6IEZSQU1FUkFURSxcbiAgICAgICAgJ0hEQ1AtTEVWRUwnOiBIRENQLFxuICAgICAgICAnUEFUSFdBWS1JRCc6IFBBVEhXQVksXG4gICAgICAgIFJFU09MVVRJT04sXG4gICAgICAgICdWSURFTy1SQU5HRSc6IFZJREVPX1JBTkdFLFxuICAgICAgfSA9IGF0dHJpYnV0ZXM7XG4gICAgICBjb25zdCBjb250ZW50U3RlZXJpbmdQcmVmaXggPSBgJHtQQVRIV0FZIHx8ICcuJ30tYDtcbiAgICAgIGNvbnN0IGxldmVsS2V5ID0gYCR7Y29udGVudFN0ZWVyaW5nUHJlZml4fSR7bGV2ZWxQYXJzZWQuYml0cmF0ZX0tJHtSRVNPTFVUSU9OfS0ke0ZSQU1FUkFURX0tJHtDT0RFQ1N9LSR7VklERU9fUkFOR0V9LSR7SERDUH1gO1xuXG4gICAgICBpZiAoIXJlZHVuZGFudFNldFtsZXZlbEtleV0pIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBuZXcgTGV2ZWwobGV2ZWxQYXJzZWQpO1xuICAgICAgICByZWR1bmRhbnRTZXRbbGV2ZWxLZXldID0gbGV2ZWw7XG4gICAgICAgIGdlbmVyYXRlUGF0aHdheVNldFtsZXZlbEtleV0gPSAxO1xuICAgICAgICBsZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZWR1bmRhbnRTZXRbbGV2ZWxLZXldLnVyaSAhPT0gbGV2ZWxQYXJzZWQudXJsICYmXG4gICAgICAgICFsZXZlbFBhcnNlZC5hdHRyc1snUEFUSFdBWS1JRCddXG4gICAgICApIHtcbiAgICAgICAgLy8gQXNzaWduIFBhdGh3YXkgSURzIHRvIFJlZHVuZGFudCBTdHJlYW1zIChkZWZhdWx0IFBhdGh3YXlzIGlzIFwiLlwiLiBSZWR1bmRhbnQgU3RyZWFtcyBcIi4uXCIsIFwiLi4uXCIsIGFuZCBzbyBvbi4pXG4gICAgICAgIC8vIENvbnRlbnQgU3RlZXJpbmcgY29udHJvbGxlciB0byBoYW5kbGVzIFBhdGh3YXkgZmFsbGJhY2sgb24gZXJyb3JcbiAgICAgICAgY29uc3QgcGF0aHdheUNvdW50ID0gKGdlbmVyYXRlUGF0aHdheVNldFtsZXZlbEtleV0gKz0gMSk7XG4gICAgICAgIGxldmVsUGFyc2VkLmF0dHJzWydQQVRIV0FZLUlEJ10gPSBuZXcgQXJyYXkocGF0aHdheUNvdW50ICsgMSkuam9pbignLicpO1xuICAgICAgICBjb25zdCBsZXZlbCA9IG5ldyBMZXZlbChsZXZlbFBhcnNlZCk7XG4gICAgICAgIHJlZHVuZGFudFNldFtsZXZlbEtleV0gPSBsZXZlbDtcbiAgICAgICAgbGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdW5kYW50U2V0W2xldmVsS2V5XS5hZGRHcm91cElkKCdhdWRpbycsIGF0dHJpYnV0ZXMuQVVESU8pO1xuICAgICAgICByZWR1bmRhbnRTZXRbbGV2ZWxLZXldLmFkZEdyb3VwSWQoJ3RleHQnLCBhdHRyaWJ1dGVzLlNVQlRJVExFUyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmZpbHRlckFuZFNvcnRNZWRpYU9wdGlvbnMoXG4gICAgICBsZXZlbHMsXG4gICAgICBkYXRhLFxuICAgICAgcmVzb2x1dGlvbkZvdW5kLFxuICAgICAgdmlkZW9Db2RlY0ZvdW5kLFxuICAgICAgYXVkaW9Db2RlY0ZvdW5kLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZpbHRlckFuZFNvcnRNZWRpYU9wdGlvbnMoXG4gICAgZmlsdGVyZWRMZXZlbHM6IExldmVsW10sXG4gICAgZGF0YTogTWFuaWZlc3RMb2FkZWREYXRhLFxuICAgIHJlc29sdXRpb25Gb3VuZDogYm9vbGVhbixcbiAgICB2aWRlb0NvZGVjRm91bmQ6IGJvb2xlYW4sXG4gICAgYXVkaW9Db2RlY0ZvdW5kOiBib29sZWFuLFxuICApIHtcbiAgICBsZXQgYXVkaW9UcmFja3M6IE1lZGlhUGxheWxpc3RbXSA9IFtdO1xuICAgIGxldCBzdWJ0aXRsZVRyYWNrczogTWVkaWFQbGF5bGlzdFtdID0gW107XG4gICAgbGV0IGxldmVscyA9IGZpbHRlcmVkTGV2ZWxzO1xuXG4gICAgLy8gcmVtb3ZlIGF1ZGlvLW9ubHkgYW5kIGludmFsaWQgdmlkZW8tcmFuZ2UgbGV2ZWxzIGlmIHdlIGFsc28gaGF2ZSBsZXZlbHMgd2l0aCB2aWRlbyBjb2RlY3Mgb3IgUkVTT0xVVElPTiBzaWduYWxsZWRcbiAgICBpZiAoKHJlc29sdXRpb25Gb3VuZCB8fCB2aWRlb0NvZGVjRm91bmQpICYmIGF1ZGlvQ29kZWNGb3VuZCkge1xuICAgICAgbGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihcbiAgICAgICAgKHsgdmlkZW9Db2RlYywgdmlkZW9SYW5nZSwgd2lkdGgsIGhlaWdodCB9KSA9PlxuICAgICAgICAgICghIXZpZGVvQ29kZWMgfHwgISEod2lkdGggJiYgaGVpZ2h0KSkgJiYgaXNWaWRlb1JhbmdlKHZpZGVvUmFuZ2UpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGV2ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gRGlzcGF0Y2ggZXJyb3IgYWZ0ZXIgTUFOSUZFU1RfTE9BREVEIGlzIGRvbmUgcHJvcGFnYXRpbmdcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5obHMpIHtcbiAgICAgICAgICBpZiAoZGF0YS5sZXZlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgICAgIGBPbmUgb3IgbW9yZSBDT0RFQ1MgaW4gdmFyaWFudCBub3Qgc3VwcG9ydGVkOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIGRhdGEubGV2ZWxzWzBdLmF0dHJzLFxuICAgICAgICAgICAgICApfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0JyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkVSUk9SLCB7XG4gICAgICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLk1BTklGRVNUX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1IsXG4gICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgIHVybDogZGF0YS51cmwsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuYXVkaW9UcmFja3MpIHtcbiAgICAgIGNvbnN0IHsgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlIH0gPSB0aGlzLmhscy5jb25maWc7XG4gICAgICBhdWRpb1RyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3MuZmlsdGVyKFxuICAgICAgICAodHJhY2spID0+XG4gICAgICAgICAgIXRyYWNrLmF1ZGlvQ29kZWMgfHxcbiAgICAgICAgICBhcmVDb2RlY3NNZWRpYVNvdXJjZVN1cHBvcnRlZChcbiAgICAgICAgICAgIHRyYWNrLmF1ZGlvQ29kZWMsXG4gICAgICAgICAgICAnYXVkaW8nLFxuICAgICAgICAgICAgcHJlZmVyTWFuYWdlZE1lZGlhU291cmNlLFxuICAgICAgICAgICksXG4gICAgICApO1xuICAgICAgLy8gQXNzaWduIGlkcyBhZnRlciBmaWx0ZXJpbmcgYXMgYXJyYXkgaW5kaWNlcyBieSBncm91cC1pZFxuICAgICAgYXNzaWduVHJhY2tJZHNCeUdyb3VwKGF1ZGlvVHJhY2tzKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zdWJ0aXRsZXMpIHtcbiAgICAgIHN1YnRpdGxlVHJhY2tzID0gZGF0YS5zdWJ0aXRsZXM7XG4gICAgICBhc3NpZ25UcmFja0lkc0J5R3JvdXAoc3VidGl0bGVUcmFja3MpO1xuICAgIH1cbiAgICAvLyBzdGFydCBiaXRyYXRlIGlzIHRoZSBmaXJzdCBiaXRyYXRlIG9mIHRoZSBtYW5pZmVzdFxuICAgIGNvbnN0IHVuc29ydGVkTGV2ZWxzID0gbGV2ZWxzLnNsaWNlKDApO1xuICAgIC8vIHNvcnQgbGV2ZWxzIGZyb20gbG93ZXN0IHRvIGhpZ2hlc3RcbiAgICBsZXZlbHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGEuYXR0cnNbJ0hEQ1AtTEVWRUwnXSAhPT0gYi5hdHRyc1snSERDUC1MRVZFTCddKSB7XG4gICAgICAgIHJldHVybiAoYS5hdHRyc1snSERDUC1MRVZFTCddIHx8ICcnKSA+IChiLmF0dHJzWydIRENQLUxFVkVMJ10gfHwgJycpXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAtMTtcbiAgICAgIH1cbiAgICAgIC8vIHNvcnQgb24gaGVpZ2h0IGJlZm9yZSBiaXRyYXRlIGZvciBjYXAtbGV2ZWwtY29udHJvbGxlclxuICAgICAgaWYgKHJlc29sdXRpb25Gb3VuZCAmJiBhLmhlaWdodCAhPT0gYi5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGEuaGVpZ2h0IC0gYi5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAoYS5mcmFtZVJhdGUgIT09IGIuZnJhbWVSYXRlKSB7XG4gICAgICAgIHJldHVybiBhLmZyYW1lUmF0ZSAtIGIuZnJhbWVSYXRlO1xuICAgICAgfVxuICAgICAgaWYgKGEudmlkZW9SYW5nZSAhPT0gYi52aWRlb1JhbmdlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgVmlkZW9SYW5nZVZhbHVlcy5pbmRleE9mKGEudmlkZW9SYW5nZSkgLVxuICAgICAgICAgIFZpZGVvUmFuZ2VWYWx1ZXMuaW5kZXhPZihiLnZpZGVvUmFuZ2UpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoYS52aWRlb0NvZGVjICE9PSBiLnZpZGVvQ29kZWMpIHtcbiAgICAgICAgY29uc3QgdmFsdWVBID0gdmlkZW9Db2RlY1ByZWZlcmVuY2VWYWx1ZShhLnZpZGVvQ29kZWMpO1xuICAgICAgICBjb25zdCB2YWx1ZUIgPSB2aWRlb0NvZGVjUHJlZmVyZW5jZVZhbHVlKGIudmlkZW9Db2RlYyk7XG4gICAgICAgIGlmICh2YWx1ZUEgIT09IHZhbHVlQikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZUIgLSB2YWx1ZUE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhLnVyaSA9PT0gYi51cmkgJiYgYS5jb2RlY1NldCAhPT0gYi5jb2RlY1NldCkge1xuICAgICAgICBjb25zdCB2YWx1ZUEgPSBjb2RlY3NTZXRTZWxlY3Rpb25QcmVmZXJlbmNlVmFsdWUoYS5jb2RlY1NldCk7XG4gICAgICAgIGNvbnN0IHZhbHVlQiA9IGNvZGVjc1NldFNlbGVjdGlvblByZWZlcmVuY2VWYWx1ZShiLmNvZGVjU2V0KTtcbiAgICAgICAgaWYgKHZhbHVlQSAhPT0gdmFsdWVCKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlQiAtIHZhbHVlQTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGEuYXZlcmFnZUJpdHJhdGUgIT09IGIuYXZlcmFnZUJpdHJhdGUpIHtcbiAgICAgICAgcmV0dXJuIGEuYXZlcmFnZUJpdHJhdGUgLSBiLmF2ZXJhZ2VCaXRyYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICBsZXQgZmlyc3RMZXZlbEluUGxheWxpc3QgPSB1bnNvcnRlZExldmVsc1swXTtcbiAgICBpZiAodGhpcy5zdGVlcmluZykge1xuICAgICAgbGV2ZWxzID0gdGhpcy5zdGVlcmluZy5maWx0ZXJQYXJzZWRMZXZlbHMobGV2ZWxzKTtcbiAgICAgIGlmIChsZXZlbHMubGVuZ3RoICE9PSB1bnNvcnRlZExldmVscy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bnNvcnRlZExldmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh1bnNvcnRlZExldmVsc1tpXS5wYXRod2F5SWQgPT09IGxldmVsc1swXS5wYXRod2F5SWQpIHtcbiAgICAgICAgICAgIGZpcnN0TGV2ZWxJblBsYXlsaXN0ID0gdW5zb3J0ZWRMZXZlbHNbaV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG5cbiAgICAvLyBmaW5kIGluZGV4IG9mIGZpcnN0IGxldmVsIGluIHNvcnRlZCBsZXZlbHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxldmVsc1tpXSA9PT0gZmlyc3RMZXZlbEluUGxheWxpc3QpIHtcbiAgICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IGk7XG4gICAgICAgIGNvbnN0IGZpcnN0TGV2ZWxCaXRyYXRlID0gZmlyc3RMZXZlbEluUGxheWxpc3QuYml0cmF0ZTtcbiAgICAgICAgY29uc3QgYmFuZHdpZHRoRXN0aW1hdGUgPSB0aGlzLmhscy5iYW5kd2lkdGhFc3RpbWF0ZTtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYG1hbmlmZXN0IGxvYWRlZCwgJHtsZXZlbHMubGVuZ3RofSBsZXZlbChzKSBmb3VuZCwgZmlyc3QgYml0cmF0ZTogJHtmaXJzdExldmVsQml0cmF0ZX1gLFxuICAgICAgICApO1xuICAgICAgICAvLyBVcGRhdGUgZGVmYXVsdCBid2UgdG8gZmlyc3QgdmFyaWFudCBiaXRyYXRlIGFzIGxvbmcgaXQgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWQgb3Igc2V0XG4gICAgICAgIGlmICh0aGlzLmhscy51c2VyQ29uZmlnPy5hYnJFd21hRGVmYXVsdEVzdGltYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBzdGFydGluZ0J3RXN0aW1hdGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGZpcnN0TGV2ZWxCaXRyYXRlLFxuICAgICAgICAgICAgdGhpcy5obHMuY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGVNYXgsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGFydGluZ0J3RXN0aW1hdGUgPiBiYW5kd2lkdGhFc3RpbWF0ZSAmJlxuICAgICAgICAgICAgYmFuZHdpZHRoRXN0aW1hdGUgPT09IGhsc0RlZmF1bHRDb25maWcuYWJyRXdtYURlZmF1bHRFc3RpbWF0ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5obHMuYmFuZHdpZHRoRXN0aW1hdGUgPSBzdGFydGluZ0J3RXN0aW1hdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEF1ZGlvIGlzIG9ubHkgYWx0ZXJuYXRlIGlmIG1hbmlmZXN0IGluY2x1ZGUgYSBVUkkgYWxvbmcgd2l0aCB0aGUgYXVkaW8gZ3JvdXAgdGFnLFxuICAgIC8vIGFuZCB0aGlzIGlzIG5vdCBhbiBhdWRpby1vbmx5IHN0cmVhbSB3aGVyZSBsZXZlbHMgY29udGFpbiBhdWRpby1vbmx5XG4gICAgY29uc3QgYXVkaW9Pbmx5ID0gYXVkaW9Db2RlY0ZvdW5kICYmICF2aWRlb0NvZGVjRm91bmQ7XG4gICAgY29uc3QgZWRhdGE6IE1hbmlmZXN0UGFyc2VkRGF0YSA9IHtcbiAgICAgIGxldmVscyxcbiAgICAgIGF1ZGlvVHJhY2tzLFxuICAgICAgc3VidGl0bGVUcmFja3MsXG4gICAgICBzZXNzaW9uRGF0YTogZGF0YS5zZXNzaW9uRGF0YSxcbiAgICAgIHNlc3Npb25LZXlzOiBkYXRhLnNlc3Npb25LZXlzLFxuICAgICAgZmlyc3RMZXZlbDogdGhpcy5fZmlyc3RMZXZlbCxcbiAgICAgIHN0YXRzOiBkYXRhLnN0YXRzLFxuICAgICAgYXVkaW86IGF1ZGlvQ29kZWNGb3VuZCxcbiAgICAgIHZpZGVvOiB2aWRlb0NvZGVjRm91bmQsXG4gICAgICBhbHRBdWRpbzogIWF1ZGlvT25seSAmJiBhdWRpb1RyYWNrcy5zb21lKCh0KSA9PiAhIXQudXJsKSxcbiAgICB9O1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgZWRhdGEpO1xuXG4gICAgLy8gSW5pdGlhdGUgbG9hZGluZyBhZnRlciBhbGwgY29udHJvbGxlcnMgaGF2ZSByZWNlaXZlZCBNQU5JRkVTVF9QQVJTRURcbiAgICBpZiAodGhpcy5obHMuY29uZmlnLmF1dG9TdGFydExvYWQgfHwgdGhpcy5obHMuZm9yY2VTdGFydExvYWQpIHtcbiAgICAgIHRoaXMuaGxzLnN0YXJ0TG9hZCh0aGlzLmhscy5jb25maWcuc3RhcnRQb3NpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGxldmVscygpOiBMZXZlbFtdIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuX2xldmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbGV2ZWxzO1xuICB9XG5cbiAgZ2V0IGxldmVsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExldmVsSW5kZXg7XG4gIH1cblxuICBzZXQgbGV2ZWwobmV3TGV2ZWw6IG51bWJlcikge1xuICAgIGNvbnN0IGxldmVscyA9IHRoaXMuX2xldmVscztcbiAgICBpZiAobGV2ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3TGV2ZWwgPCAwIHx8IG5ld0xldmVsID49IGxldmVscy5sZW5ndGgpIHtcbiAgICAgIC8vIGludmFsaWQgbGV2ZWwgaWQgZ2l2ZW4sIHRyaWdnZXIgZXJyb3JcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdpbnZhbGlkIGxldmVsIGlkeCcpO1xuICAgICAgY29uc3QgZmF0YWwgPSBuZXdMZXZlbCA8IDA7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk9USEVSX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuTEVWRUxfU1dJVENIX0VSUk9SLFxuICAgICAgICBsZXZlbDogbmV3TGV2ZWwsXG4gICAgICAgIGZhdGFsLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVhc29uOiBlcnJvci5tZXNzYWdlLFxuICAgICAgfSk7XG4gICAgICBpZiAoZmF0YWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1pbihuZXdMZXZlbCwgbGV2ZWxzLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIGNvbnN0IGxhc3RMZXZlbEluZGV4ID0gdGhpcy5jdXJyZW50TGV2ZWxJbmRleDtcbiAgICBjb25zdCBsYXN0TGV2ZWwgPSB0aGlzLmN1cnJlbnRMZXZlbDtcbiAgICBjb25zdCBsYXN0UGF0aHdheUlkID0gbGFzdExldmVsID8gbGFzdExldmVsLmF0dHJzWydQQVRIV0FZLUlEJ10gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGV2ZWwgPSBsZXZlbHNbbmV3TGV2ZWxdO1xuICAgIGNvbnN0IHBhdGh3YXlJZCA9IGxldmVsLmF0dHJzWydQQVRIV0FZLUlEJ107XG4gICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG5ld0xldmVsO1xuICAgIHRoaXMuY3VycmVudExldmVsID0gbGV2ZWw7XG5cbiAgICBpZiAoXG4gICAgICBsYXN0TGV2ZWxJbmRleCA9PT0gbmV3TGV2ZWwgJiZcbiAgICAgIGxldmVsLmRldGFpbHMgJiZcbiAgICAgIGxhc3RMZXZlbCAmJlxuICAgICAgbGFzdFBhdGh3YXlJZCA9PT0gcGF0aHdheUlkXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2coXG4gICAgICBgU3dpdGNoaW5nIHRvIGxldmVsICR7bmV3TGV2ZWx9ICgke1xuICAgICAgICBsZXZlbC5oZWlnaHQgPyBsZXZlbC5oZWlnaHQgKyAncCAnIDogJydcbiAgICAgIH0ke2xldmVsLnZpZGVvUmFuZ2UgPyBsZXZlbC52aWRlb1JhbmdlICsgJyAnIDogJyd9JHtcbiAgICAgICAgbGV2ZWwuY29kZWNTZXQgPyBsZXZlbC5jb2RlY1NldCArICcgJyA6ICcnXG4gICAgICB9QCR7bGV2ZWwuYml0cmF0ZX0pJHtcbiAgICAgICAgcGF0aHdheUlkID8gJyB3aXRoIFBhdGh3YXkgJyArIHBhdGh3YXlJZCA6ICcnXG4gICAgICB9IGZyb20gbGV2ZWwgJHtsYXN0TGV2ZWxJbmRleH0ke1xuICAgICAgICBsYXN0UGF0aHdheUlkID8gJyB3aXRoIFBhdGh3YXkgJyArIGxhc3RQYXRod2F5SWQgOiAnJ1xuICAgICAgfWAsXG4gICAgKTtcblxuICAgIGNvbnN0IGxldmVsU3dpdGNoaW5nRGF0YTogTGV2ZWxTd2l0Y2hpbmdEYXRhID0ge1xuICAgICAgbGV2ZWw6IG5ld0xldmVsLFxuICAgICAgYXR0cnM6IGxldmVsLmF0dHJzLFxuICAgICAgZGV0YWlsczogbGV2ZWwuZGV0YWlscyxcbiAgICAgIGJpdHJhdGU6IGxldmVsLmJpdHJhdGUsXG4gICAgICBhdmVyYWdlQml0cmF0ZTogbGV2ZWwuYXZlcmFnZUJpdHJhdGUsXG4gICAgICBtYXhCaXRyYXRlOiBsZXZlbC5tYXhCaXRyYXRlLFxuICAgICAgcmVhbEJpdHJhdGU6IGxldmVsLnJlYWxCaXRyYXRlLFxuICAgICAgd2lkdGg6IGxldmVsLndpZHRoLFxuICAgICAgaGVpZ2h0OiBsZXZlbC5oZWlnaHQsXG4gICAgICBjb2RlY1NldDogbGV2ZWwuY29kZWNTZXQsXG4gICAgICBhdWRpb0NvZGVjOiBsZXZlbC5hdWRpb0NvZGVjLFxuICAgICAgdmlkZW9Db2RlYzogbGV2ZWwudmlkZW9Db2RlYyxcbiAgICAgIGF1ZGlvR3JvdXBzOiBsZXZlbC5hdWRpb0dyb3VwcyxcbiAgICAgIHN1YnRpdGxlR3JvdXBzOiBsZXZlbC5zdWJ0aXRsZUdyb3VwcyxcbiAgICAgIGxvYWRlZDogbGV2ZWwubG9hZGVkLFxuICAgICAgbG9hZEVycm9yOiBsZXZlbC5sb2FkRXJyb3IsXG4gICAgICBmcmFnbWVudEVycm9yOiBsZXZlbC5mcmFnbWVudEVycm9yLFxuICAgICAgbmFtZTogbGV2ZWwubmFtZSxcbiAgICAgIGlkOiBsZXZlbC5pZCxcbiAgICAgIHVyaTogbGV2ZWwudXJpLFxuICAgICAgdXJsOiBsZXZlbC51cmwsXG4gICAgICB1cmxJZDogMCxcbiAgICAgIGF1ZGlvR3JvdXBJZHM6IGxldmVsLmF1ZGlvR3JvdXBJZHMsXG4gICAgICB0ZXh0R3JvdXBJZHM6IGxldmVsLnRleHRHcm91cElkcyxcbiAgICB9O1xuXG4gICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuTEVWRUxfU1dJVENISU5HLCBsZXZlbFN3aXRjaGluZ0RhdGEpO1xuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBsZXZlbFxuICAgIGNvbnN0IGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG4gICAgaWYgKCFsZXZlbERldGFpbHMgfHwgbGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgIC8vIGxldmVsIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgIGNvbnN0IGhsc1VybFBhcmFtZXRlcnMgPSB0aGlzLnN3aXRjaFBhcmFtcyhcbiAgICAgICAgbGV2ZWwudXJpLFxuICAgICAgICBsYXN0TGV2ZWw/LmRldGFpbHMsXG4gICAgICAgIGxldmVsRGV0YWlscyxcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRQbGF5bGlzdChobHNVcmxQYXJhbWV0ZXJzKTtcbiAgICB9XG4gIH1cblxuICBnZXQgbWFudWFsTGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4O1xuICB9XG5cbiAgc2V0IG1hbnVhbExldmVsKG5ld0xldmVsKSB7XG4gICAgdGhpcy5tYW51YWxMZXZlbEluZGV4ID0gbmV3TGV2ZWw7XG4gICAgaWYgKHRoaXMuX3N0YXJ0TGV2ZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fc3RhcnRMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIGlmIChuZXdMZXZlbCAhPT0gLTEpIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB9XG4gIH1cblxuICBnZXQgZmlyc3RMZXZlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9maXJzdExldmVsO1xuICB9XG5cbiAgc2V0IGZpcnN0TGV2ZWwobmV3TGV2ZWwpIHtcbiAgICB0aGlzLl9maXJzdExldmVsID0gbmV3TGV2ZWw7XG4gIH1cblxuICBnZXQgc3RhcnRMZXZlbCgpOiBudW1iZXIge1xuICAgIC8vIFNldHRpbmcgaGxzLnN0YXJ0TGV2ZWwgKHRoaXMuX3N0YXJ0TGV2ZWwpIG92ZXJyaWRlcyBjb25maWcuc3RhcnRMZXZlbFxuICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGNvbmZpZ1N0YXJ0TGV2ZWwgPSB0aGlzLmhscy5jb25maWcuc3RhcnRMZXZlbDtcbiAgICAgIGlmIChjb25maWdTdGFydExldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1N0YXJ0TGV2ZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5obHMuZmlyc3RBdXRvTGV2ZWw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdGFydExldmVsO1xuICB9XG5cbiAgc2V0IHN0YXJ0TGV2ZWwobmV3TGV2ZWw6IG51bWJlcikge1xuICAgIHRoaXMuX3N0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkVycm9yKGV2ZW50OiBFdmVudHMuRVJST1IsIGRhdGE6IEVycm9yRGF0YSkge1xuICAgIGlmIChkYXRhLmZhdGFsIHx8ICFkYXRhLmNvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBkYXRhLmNvbnRleHQudHlwZSA9PT0gUGxheWxpc3RDb250ZXh0VHlwZS5MRVZFTCAmJlxuICAgICAgZGF0YS5jb250ZXh0LmxldmVsID09PSB0aGlzLmxldmVsXG4gICAgKSB7XG4gICAgICB0aGlzLmNoZWNrUmV0cnkoZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgLy8gcmVzZXQgZXJyb3JzIG9uIHRoZSBzdWNjZXNzZnVsIGxvYWQgb2YgYSBmcmFnbWVudFxuICBwcm90ZWN0ZWQgb25GcmFnQnVmZmVyZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5GUkFHX0JVRkZFUkVELFxuICAgIHsgZnJhZyB9OiBGcmFnQnVmZmVyZWREYXRhLFxuICApIHtcbiAgICBpZiAoZnJhZyAhPT0gdW5kZWZpbmVkICYmIGZyYWcudHlwZSA9PT0gUGxheWxpc3RMZXZlbFR5cGUuTUFJTikge1xuICAgICAgY29uc3QgZWwgPSBmcmFnLmVsZW1lbnRhcnlTdHJlYW1zO1xuICAgICAgaWYgKCFPYmplY3Qua2V5cyhlbCkuc29tZSgodHlwZSkgPT4gISFlbFt0eXBlXSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICBpZiAobGV2ZWw/LmxvYWRFcnJvcikge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICBgUmVzZXR0aW5nIGxldmVsIGVycm9yIGNvdW50IG9mICR7bGV2ZWwubG9hZEVycm9yfSBvbiBmcmFnIGJ1ZmZlcmVkYCxcbiAgICAgICAgKTtcbiAgICAgICAgbGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgb25MZXZlbExvYWRlZChldmVudDogRXZlbnRzLkxFVkVMX0xPQURFRCwgZGF0YTogTGV2ZWxMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgeyBsZXZlbCwgZGV0YWlscyB9ID0gZGF0YTtcbiAgICBjb25zdCBjdXJMZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbF07XG5cbiAgICBpZiAoIWN1ckxldmVsKSB7XG4gICAgICB0aGlzLndhcm4oYEludmFsaWQgbGV2ZWwgaW5kZXggJHtsZXZlbH1gKTtcbiAgICAgIGlmIChkYXRhLmRlbGl2ZXJ5RGlyZWN0aXZlcz8uc2tpcCkge1xuICAgICAgICBkZXRhaWxzLmRlbHRhVXBkYXRlRmFpbGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBvbmx5IHByb2Nlc3MgbGV2ZWwgbG9hZGVkIGV2ZW50cyBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIGxldmVsXG4gICAgaWYgKGxldmVsID09PSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4KSB7XG4gICAgICAvLyByZXNldCBsZXZlbCBsb2FkIGVycm9yIGNvdW50ZXIgb24gc3VjY2Vzc2Z1bCBsZXZlbCBsb2FkZWQgb25seSBpZiB0aGVyZSBpcyBubyBpc3N1ZXMgd2l0aCBmcmFnbWVudHNcbiAgICAgIGlmIChjdXJMZXZlbC5mcmFnbWVudEVycm9yID09PSAwKSB7XG4gICAgICAgIGN1ckxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLnBsYXlsaXN0TG9hZGVkKGxldmVsLCBkYXRhLCBjdXJMZXZlbC5kZXRhaWxzKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEuZGVsaXZlcnlEaXJlY3RpdmVzPy5za2lwKSB7XG4gICAgICAvLyByZWNlaXZlZCBhIGRlbHRhIHBsYXlsaXN0IHVwZGF0ZSB0aGF0IGNhbm5vdCBiZSBtZXJnZWRcbiAgICAgIGRldGFpbHMuZGVsdGFVcGRhdGVGYWlsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBsb2FkUGxheWxpc3QoaGxzVXJsUGFyYW1ldGVycz86IEhsc1VybFBhcmFtZXRlcnMpIHtcbiAgICBzdXBlci5sb2FkUGxheWxpc3QoKTtcbiAgICBjb25zdCBjdXJyZW50TGV2ZWxJbmRleCA9IHRoaXMuY3VycmVudExldmVsSW5kZXg7XG4gICAgY29uc3QgY3VycmVudExldmVsID0gdGhpcy5jdXJyZW50TGV2ZWw7XG5cbiAgICBpZiAoY3VycmVudExldmVsICYmIHRoaXMuc2hvdWxkTG9hZFBsYXlsaXN0KGN1cnJlbnRMZXZlbCkpIHtcbiAgICAgIGxldCB1cmwgPSBjdXJyZW50TGV2ZWwudXJpO1xuICAgICAgaWYgKGhsc1VybFBhcmFtZXRlcnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB1cmwgPSBobHNVcmxQYXJhbWV0ZXJzLmFkZERpcmVjdGl2ZXModXJsKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLndhcm4oXG4gICAgICAgICAgICBgQ291bGQgbm90IGNvbnN0cnVjdCBuZXcgVVJMIHdpdGggSExTIERlbGl2ZXJ5IERpcmVjdGl2ZXM6ICR7ZXJyb3J9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhdGh3YXlJZCA9IGN1cnJlbnRMZXZlbC5hdHRyc1snUEFUSFdBWS1JRCddO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBMb2FkaW5nIGxldmVsIGluZGV4ICR7Y3VycmVudExldmVsSW5kZXh9JHtcbiAgICAgICAgICBobHNVcmxQYXJhbWV0ZXJzPy5tc24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyAnIGF0IHNuICcgK1xuICAgICAgICAgICAgICBobHNVcmxQYXJhbWV0ZXJzLm1zbiArXG4gICAgICAgICAgICAgICcgcGFydCAnICtcbiAgICAgICAgICAgICAgaGxzVXJsUGFyYW1ldGVycy5wYXJ0XG4gICAgICAgICAgICA6ICcnXG4gICAgICAgIH0gd2l0aCR7cGF0aHdheUlkID8gJyBQYXRod2F5ICcgKyBwYXRod2F5SWQgOiAnJ30gJHt1cmx9YCxcbiAgICAgICk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCdDdXJyZW50IGF1ZGlvIHRyYWNrIGdyb3VwIElEOicsIHRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RoaXMuaGxzLmF1ZGlvVHJhY2tdLmdyb3VwSWQpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ05ldyB2aWRlbyBxdWFsaXR5IGxldmVsIGF1ZGlvIGdyb3VwIGlkOicsIGxldmVsT2JqZWN0LmF0dHJzLkFVRElPLCBsZXZlbCk7XG4gICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkxFVkVMX0xPQURJTkcsIHtcbiAgICAgICAgdXJsLFxuICAgICAgICBsZXZlbDogY3VycmVudExldmVsSW5kZXgsXG4gICAgICAgIHBhdGh3YXlJZDogY3VycmVudExldmVsLmF0dHJzWydQQVRIV0FZLUlEJ10sXG4gICAgICAgIGlkOiAwLCAvLyBEZXByZWNhdGVkIExldmVsIHVybElkXG4gICAgICAgIGRlbGl2ZXJ5RGlyZWN0aXZlczogaGxzVXJsUGFyYW1ldGVycyB8fCBudWxsLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG5leHRMb2FkTGV2ZWwoKSB7XG4gICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hbnVhbExldmVsSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmhscy5uZXh0QXV0b0xldmVsO1xuICAgIH1cbiAgfVxuXG4gIHNldCBuZXh0TG9hZExldmVsKG5leHRMZXZlbCkge1xuICAgIHRoaXMubGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlTGV2ZWwobGV2ZWxJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzLmZpbHRlcigobGV2ZWwsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggIT09IGxldmVsSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGVlcmluZykge1xuICAgICAgICB0aGlzLnN0ZWVyaW5nLnJlbW92ZUxldmVsKGxldmVsKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZXZlbCA9PT0gdGhpcy5jdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gLTE7XG4gICAgICAgIGlmIChsZXZlbC5kZXRhaWxzKSB7XG4gICAgICAgICAgbGV2ZWwuZGV0YWlscy5mcmFnbWVudHMuZm9yRWFjaCgoZikgPT4gKGYubGV2ZWwgPSAtMSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgcmVhc3NpZ25GcmFnbWVudExldmVsSW5kZXhlcyhsZXZlbHMpO1xuICAgIHRoaXMuX2xldmVscyA9IGxldmVscztcbiAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCA+IC0xICYmIHRoaXMuY3VycmVudExldmVsPy5kZXRhaWxzKSB7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gdGhpcy5jdXJyZW50TGV2ZWwuZGV0YWlscy5mcmFnbWVudHNbMF0ubGV2ZWw7XG4gICAgfVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkxFVkVMU19VUERBVEVELCB7IGxldmVscyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbHNVcGRhdGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTEVWRUxTX1VQREFURUQsXG4gICAgeyBsZXZlbHMgfTogTGV2ZWxzVXBkYXRlZERhdGEsXG4gICkge1xuICAgIHRoaXMuX2xldmVscyA9IGxldmVscztcbiAgfVxuXG4gIHB1YmxpYyBjaGVja01heEF1dG9VcGRhdGVkKCkge1xuICAgIGNvbnN0IHsgYXV0b0xldmVsQ2FwcGluZywgbWF4QXV0b0xldmVsLCBtYXhIZGNwTGV2ZWwgfSA9IHRoaXMuaGxzO1xuICAgIGlmICh0aGlzLl9tYXhBdXRvTGV2ZWwgIT09IG1heEF1dG9MZXZlbCkge1xuICAgICAgdGhpcy5fbWF4QXV0b0xldmVsID0gbWF4QXV0b0xldmVsO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuTUFYX0FVVE9fTEVWRUxfVVBEQVRFRCwge1xuICAgICAgICBhdXRvTGV2ZWxDYXBwaW5nLFxuICAgICAgICBsZXZlbHM6IHRoaXMubGV2ZWxzLFxuICAgICAgICBtYXhBdXRvTGV2ZWwsXG4gICAgICAgIG1pbkF1dG9MZXZlbDogdGhpcy5obHMubWluQXV0b0xldmVsLFxuICAgICAgICBtYXhIZGNwTGV2ZWwsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduVHJhY2tJZHNCeUdyb3VwKHRyYWNrczogTWVkaWFQbGF5bGlzdFtdKTogdm9pZCB7XG4gIGNvbnN0IGdyb3VwcyA9IHt9O1xuICB0cmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICBjb25zdCBncm91cElkID0gdHJhY2suZ3JvdXBJZCB8fCAnJztcbiAgICB0cmFjay5pZCA9IGdyb3Vwc1tncm91cElkXSA9IGdyb3Vwc1tncm91cElkXSB8fCAwO1xuICAgIGdyb3Vwc1tncm91cElkXSsrO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBFcnJvclR5cGVzLCBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgTG9hZGVyU3RhdHMsXG4gIExvYWRlclJlc3BvbnNlLFxuICBMb2FkZXJDb25maWd1cmF0aW9uLFxuICBMb2FkZXJDYWxsYmFja3MsXG4gIExvYWRlcixcbiAgS2V5TG9hZGVyQ29udGV4dCxcbiAgUGxheWxpc3RMZXZlbFR5cGUsXG59IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgeyBMb2FkRXJyb3IgfSBmcm9tICcuL2ZyYWdtZW50LWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50IH0gZnJvbSAnLi4vbG9hZGVyL2ZyYWdtZW50JztcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSB7IEtleUxvYWRlZERhdGEgfSBmcm9tICcuLi90eXBlcy9ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBMZXZlbEtleSB9IGZyb20gJy4vbGV2ZWwta2V5JztcbmltcG9ydCB0eXBlIEVNRUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlci9lbWUtY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSB7IE1lZGlhS2V5U2Vzc2lvbkNvbnRleHQgfSBmcm9tICcuLi9jb250cm9sbGVyL2VtZS1jb250cm9sbGVyJztcbmltcG9ydCB0eXBlIHsgS2V5U3lzdGVtRm9ybWF0cyB9IGZyb20gJy4uL3V0aWxzL21lZGlha2V5cy1oZWxwZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEtleUxvYWRlckluZm8ge1xuICBkZWNyeXB0ZGF0YTogTGV2ZWxLZXk7XG4gIGtleUxvYWRQcm9taXNlOiBQcm9taXNlPEtleUxvYWRlZERhdGE+IHwgbnVsbDtcbiAgbG9hZGVyOiBMb2FkZXI8S2V5TG9hZGVyQ29udGV4dD4gfCBudWxsO1xuICBtZWRpYUtleVNlc3Npb25Db250ZXh0OiBNZWRpYUtleVNlc3Npb25Db250ZXh0IHwgbnVsbDtcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleUxvYWRlciBpbXBsZW1lbnRzIENvbXBvbmVudEFQSSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBIbHNDb25maWc7XG4gIHB1YmxpYyBrZXlVcmlUb0tleUluZm86IHsgW2tleXVyaTogc3RyaW5nXTogS2V5TG9hZGVySW5mbyB9ID0ge307XG4gIHB1YmxpYyBlbWVDb250cm9sbGVyOiBFTUVDb250cm9sbGVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBIbHNDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIGFib3J0KHR5cGU/OiBQbGF5bGlzdExldmVsVHlwZSkge1xuICAgIGZvciAoY29uc3QgdXJpIGluIHRoaXMua2V5VXJpVG9LZXlJbmZvKSB7XG4gICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldLmxvYWRlcjtcbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgaWYgKHR5cGUgJiYgdHlwZSAhPT0gbG9hZGVyLmNvbnRleHQ/LmZyYWcudHlwZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkZXRhY2goKSB7XG4gICAgZm9yIChjb25zdCB1cmkgaW4gdGhpcy5rZXlVcmlUb0tleUluZm8pIHtcbiAgICAgIGNvbnN0IGtleUluZm8gPSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldO1xuICAgICAgLy8gUmVtb3ZlIGNhY2hlZCBFTUUga2V5cyBvbiBkZXRhY2hcbiAgICAgIGlmIChcbiAgICAgICAga2V5SW5mby5tZWRpYUtleVNlc3Npb25Db250ZXh0IHx8XG4gICAgICAgIGtleUluZm8uZGVjcnlwdGRhdGEuaXNDb21tb25FbmNyeXB0aW9uXG4gICAgICApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMua2V5VXJpVG9LZXlJbmZvW3VyaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRldGFjaCgpO1xuICAgIGZvciAoY29uc3QgdXJpIGluIHRoaXMua2V5VXJpVG9LZXlJbmZvKSB7XG4gICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldLmxvYWRlcjtcbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5rZXlVcmlUb0tleUluZm8gPSB7fTtcbiAgfVxuXG4gIGNyZWF0ZUtleUxvYWRFcnJvcihcbiAgICBmcmFnOiBGcmFnbWVudCxcbiAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMgPSBFcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1IsXG4gICAgZXJyb3I6IEVycm9yLFxuICAgIG5ldHdvcmtEZXRhaWxzPzogYW55LFxuICAgIHJlc3BvbnNlPzogeyB1cmw6IHN0cmluZzsgZGF0YTogdW5kZWZpbmVkOyBjb2RlOiBudW1iZXI7IHRleHQ6IHN0cmluZyB9LFxuICApOiBMb2FkRXJyb3Ige1xuICAgIHJldHVybiBuZXcgTG9hZEVycm9yKHtcbiAgICAgIHR5cGU6IEVycm9yVHlwZXMuTkVUV09SS19FUlJPUixcbiAgICAgIGRldGFpbHMsXG4gICAgICBmYXRhbDogZmFsc2UsXG4gICAgICBmcmFnLFxuICAgICAgcmVzcG9uc2UsXG4gICAgICBlcnJvcixcbiAgICAgIG5ldHdvcmtEZXRhaWxzLFxuICAgIH0pO1xuICB9XG5cbiAgbG9hZENsZWFyKFxuICAgIGxvYWRpbmdGcmFnOiBGcmFnbWVudCxcbiAgICBlbmNyeXB0ZWRGcmFnbWVudHM6IEZyYWdtZW50W10sXG4gICk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5lbWVDb250cm9sbGVyICYmIHRoaXMuY29uZmlnLmVtZUVuYWJsZWQpIHtcbiAgICAgIC8vIGFjY2VzcyBrZXktc3lzdGVtIHdpdGggbmVhcmVzdCBrZXkgb24gc3RhcnQgKGxvYWlkbmcgZnJhZyBpcyB1bmVuY3J5cHRlZClcbiAgICAgIGNvbnN0IHsgc24sIGNjIH0gPSBsb2FkaW5nRnJhZztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jcnlwdGVkRnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZyYWcgPSBlbmNyeXB0ZWRGcmFnbWVudHNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYyA8PSBmcmFnLmNjICYmXG4gICAgICAgICAgKHNuID09PSAnaW5pdFNlZ21lbnQnIHx8IGZyYWcuc24gPT09ICdpbml0U2VnbWVudCcgfHwgc24gPCBmcmFnLnNuKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmVtZUNvbnRyb2xsZXJcbiAgICAgICAgICAgIC5zZWxlY3RLZXlTeXN0ZW1Gb3JtYXQoZnJhZylcbiAgICAgICAgICAgIC50aGVuKChrZXlTeXN0ZW1Gb3JtYXQpID0+IHtcbiAgICAgICAgICAgICAgZnJhZy5zZXRLZXlGb3JtYXQoa2V5U3lzdGVtRm9ybWF0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbG9hZChmcmFnOiBGcmFnbWVudCk6IFByb21pc2U8S2V5TG9hZGVkRGF0YT4ge1xuICAgIGlmICghZnJhZy5kZWNyeXB0ZGF0YSAmJiBmcmFnLmVuY3J5cHRlZCAmJiB0aGlzLmVtZUNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIE11bHRpcGxlIGtleXMsIGJ1dCBub25lIHNlbGVjdGVkLCByZXNvbHZlIGluIGVtZS1jb250cm9sbGVyXG4gICAgICByZXR1cm4gdGhpcy5lbWVDb250cm9sbGVyXG4gICAgICAgIC5zZWxlY3RLZXlTeXN0ZW1Gb3JtYXQoZnJhZylcbiAgICAgICAgLnRoZW4oKGtleVN5c3RlbUZvcm1hdCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRJbnRlcm5hbChmcmFnLCBrZXlTeXN0ZW1Gb3JtYXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkSW50ZXJuYWwoZnJhZyk7XG4gIH1cblxuICBsb2FkSW50ZXJuYWwoXG4gICAgZnJhZzogRnJhZ21lbnQsXG4gICAga2V5U3lzdGVtRm9ybWF0PzogS2V5U3lzdGVtRm9ybWF0cyxcbiAgKTogUHJvbWlzZTxLZXlMb2FkZWREYXRhPiB7XG4gICAgaWYgKGtleVN5c3RlbUZvcm1hdCkge1xuICAgICAgZnJhZy5zZXRLZXlGb3JtYXQoa2V5U3lzdGVtRm9ybWF0KTtcbiAgICB9XG4gICAgY29uc3QgZGVjcnlwdGRhdGEgPSBmcmFnLmRlY3J5cHRkYXRhO1xuICAgIGlmICghZGVjcnlwdGRhdGEpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBrZXlTeXN0ZW1Gb3JtYXRcbiAgICAgICAgICA/IGBFeHBlY3RlZCBmcmFnLmRlY3J5cHRkYXRhIHRvIGJlIGRlZmluZWQgYWZ0ZXIgc2V0dGluZyBmb3JtYXQgJHtrZXlTeXN0ZW1Gb3JtYXR9YFxuICAgICAgICAgIDogJ01pc3NpbmcgZGVjcnlwdGlvbiBkYXRhIG9uIGZyYWdtZW50IGluIG9uS2V5TG9hZGluZycsXG4gICAgICApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICB0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihmcmFnLCBFcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1IsIGVycm9yKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHVyaSA9IGRlY3J5cHRkYXRhLnVyaTtcbiAgICBpZiAoIXVyaSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICB0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihcbiAgICAgICAgICBmcmFnLFxuICAgICAgICAgIEVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUixcbiAgICAgICAgICBuZXcgRXJyb3IoYEludmFsaWQga2V5IFVSSTogXCIke3VyaX1cImApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGtleUluZm8gPSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldO1xuXG4gICAgaWYgKGtleUluZm8/LmRlY3J5cHRkYXRhLmtleSkge1xuICAgICAgZGVjcnlwdGRhdGEua2V5ID0ga2V5SW5mby5kZWNyeXB0ZGF0YS5rZXk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZnJhZywga2V5SW5mbyB9KTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIGtleSBsb2FkIHByb21pc2UgYXMgbG9uZyBhcyBpdCBkb2VzIG5vdCBoYXZlIGEgbWVkaWFrZXkgc2Vzc2lvbiB3aXRoIGFuIHVudXNhYmxlIGtleSBzdGF0dXNcbiAgICBpZiAoa2V5SW5mbz8ua2V5TG9hZFByb21pc2UpIHtcbiAgICAgIHN3aXRjaCAoa2V5SW5mby5tZWRpYUtleVNlc3Npb25Db250ZXh0Py5rZXlTdGF0dXMpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgJ3N0YXR1cy1wZW5kaW5nJzpcbiAgICAgICAgY2FzZSAndXNhYmxlJzpcbiAgICAgICAgY2FzZSAndXNhYmxlLWluLWZ1dHVyZSc6XG4gICAgICAgICAgcmV0dXJuIGtleUluZm8ua2V5TG9hZFByb21pc2UudGhlbigoa2V5TG9hZGVkRGF0YSkgPT4ge1xuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBjb3JyZWN0IGZyYWdtZW50IHdpdGggdXBkYXRlZCBkZWNyeXB0ZGF0YSBrZXkgYW5kIGxvYWRlZCBrZXlJbmZvXG4gICAgICAgICAgICBkZWNyeXB0ZGF0YS5rZXkgPSBrZXlMb2FkZWREYXRhLmtleUluZm8uZGVjcnlwdGRhdGEua2V5O1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJhZywga2V5SW5mbyB9O1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIGtleSBzZXNzaW9uIGFuZCBzdGF0dXMgYW5kIGl0IGlzIG5vdCBwZW5kaW5nIG9yIHVzYWJsZSwgY29udGludWVcbiAgICAgIC8vIFRoaXMgd2lsbCBnbyBiYWNrIHRvIHRoZSBlbWUtY29udHJvbGxlciBmb3IgZXhwaXJlZCBrZXlzIHRvIGdldCBhIG5ldyBrZXlMb2FkUHJvbWlzZVxuICAgIH1cblxuICAgIC8vIExvYWQgdGhlIGtleSBvciByZXR1cm4gdGhlIGxvYWRpbmcgcHJvbWlzZVxuICAgIGtleUluZm8gPSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldID0ge1xuICAgICAgZGVjcnlwdGRhdGEsXG4gICAgICBrZXlMb2FkUHJvbWlzZTogbnVsbCxcbiAgICAgIGxvYWRlcjogbnVsbCxcbiAgICAgIG1lZGlhS2V5U2Vzc2lvbkNvbnRleHQ6IG51bGwsXG4gICAgfTtcblxuICAgIHN3aXRjaCAoZGVjcnlwdGRhdGEubWV0aG9kKSB7XG4gICAgICBjYXNlICdJU08tMjMwMDEtNyc6XG4gICAgICBjYXNlICdTQU1QTEUtQUVTJzpcbiAgICAgIGNhc2UgJ1NBTVBMRS1BRVMtQ0VOQyc6XG4gICAgICBjYXNlICdTQU1QTEUtQUVTLUNUUic6XG4gICAgICAgIGlmIChkZWNyeXB0ZGF0YS5rZXlGb3JtYXQgPT09ICdpZGVudGl0eScpIHtcbiAgICAgICAgICAvLyBsb2FkS2V5SFRUUCBoYW5kbGVzIGh0dHAocykgYW5kIGRhdGEgVVJMc1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRLZXlIVFRQKGtleUluZm8sIGZyYWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRLZXlFTUUoa2V5SW5mbywgZnJhZyk7XG4gICAgICBjYXNlICdBRVMtMTI4JzpcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEtleUhUVFAoa2V5SW5mbywgZnJhZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgdGhpcy5jcmVhdGVLZXlMb2FkRXJyb3IoXG4gICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgRXJyb3JEZXRhaWxzLktFWV9MT0FEX0VSUk9SLFxuICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgS2V5IHN1cHBsaWVkIHdpdGggdW5zdXBwb3J0ZWQgTUVUSE9EOiBcIiR7ZGVjcnlwdGRhdGEubWV0aG9kfVwiYCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBsb2FkS2V5RU1FKGtleUluZm86IEtleUxvYWRlckluZm8sIGZyYWc6IEZyYWdtZW50KTogUHJvbWlzZTxLZXlMb2FkZWREYXRhPiB7XG4gICAgY29uc3Qga2V5TG9hZGVkRGF0YTogS2V5TG9hZGVkRGF0YSA9IHsgZnJhZywga2V5SW5mbyB9O1xuICAgIGlmICh0aGlzLmVtZUNvbnRyb2xsZXIgJiYgdGhpcy5jb25maWcuZW1lRW5hYmxlZCkge1xuICAgICAgY29uc3Qga2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlID1cbiAgICAgICAgdGhpcy5lbWVDb250cm9sbGVyLmxvYWRLZXkoa2V5TG9hZGVkRGF0YSk7XG4gICAgICBpZiAoa2V5U2Vzc2lvbkNvbnRleHRQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiAoa2V5SW5mby5rZXlMb2FkUHJvbWlzZSA9IGtleVNlc3Npb25Db250ZXh0UHJvbWlzZS50aGVuKFxuICAgICAgICAgIChrZXlTZXNzaW9uQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAga2V5SW5mby5tZWRpYUtleVNlc3Npb25Db250ZXh0ID0ga2V5U2Vzc2lvbkNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4ga2V5TG9hZGVkRGF0YTtcbiAgICAgICAgICB9LFxuICAgICAgICApKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAvLyBSZW1vdmUgcHJvbWlzZSBmb3IgbGljZW5zZSByZW5ld2FsIG9yIHJldHJ5XG4gICAgICAgICAga2V5SW5mby5rZXlMb2FkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGtleUxvYWRlZERhdGEpO1xuICB9XG5cbiAgbG9hZEtleUhUVFAoa2V5SW5mbzogS2V5TG9hZGVySW5mbywgZnJhZzogRnJhZ21lbnQpOiBQcm9taXNlPEtleUxvYWRlZERhdGE+IHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgIGNvbnN0IGtleUxvYWRlciA9IG5ldyBMb2FkZXIoY29uZmlnKSBhcyBMb2FkZXI8S2V5TG9hZGVyQ29udGV4dD47XG4gICAgZnJhZy5rZXlMb2FkZXIgPSBrZXlJbmZvLmxvYWRlciA9IGtleUxvYWRlcjtcblxuICAgIHJldHVybiAoa2V5SW5mby5rZXlMb2FkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGxvYWRlckNvbnRleHQ6IEtleUxvYWRlckNvbnRleHQgPSB7XG4gICAgICAgIGtleUluZm8sXG4gICAgICAgIGZyYWcsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgdXJsOiBrZXlJbmZvLmRlY3J5cHRkYXRhLnVyaSxcbiAgICAgIH07XG5cbiAgICAgIC8vIG1heFJldHJ5IGlzIDAgc28gdGhhdCBpbnN0ZWFkIG9mIHJldHJ5aW5nIHRoZSBzYW1lIGtleSBvbiB0aGUgc2FtZSB2YXJpYW50IG11bHRpcGxlIHRpbWVzLFxuICAgICAgLy8ga2V5LWxvYWRlciB3aWxsIHRyaWdnZXIgYW4gZXJyb3IgYW5kIHJlbHkgb24gc3RyZWFtLWNvbnRyb2xsZXIgdG8gaGFuZGxlIHJldHJ5IGxvZ2ljLlxuICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYWxpZ24gcmV0cnkgbG9naWMgd2l0aCBmcmFnbWVudC1sb2FkZXJcbiAgICAgIGNvbnN0IGxvYWRQb2xpY3kgPSBjb25maWcua2V5TG9hZFBvbGljeS5kZWZhdWx0O1xuICAgICAgY29uc3QgbG9hZGVyQ29uZmlnOiBMb2FkZXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICBsb2FkUG9saWN5LFxuICAgICAgICB0aW1lb3V0OiBsb2FkUG9saWN5Lm1heExvYWRUaW1lTXMsXG4gICAgICAgIG1heFJldHJ5OiAwLFxuICAgICAgICByZXRyeURlbGF5OiAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5OiAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZGVyQ2FsbGJhY2tzOiBMb2FkZXJDYWxsYmFja3M8S2V5TG9hZGVyQ29udGV4dD4gPSB7XG4gICAgICAgIG9uU3VjY2VzczogKFxuICAgICAgICAgIHJlc3BvbnNlOiBMb2FkZXJSZXNwb25zZSxcbiAgICAgICAgICBzdGF0czogTG9hZGVyU3RhdHMsXG4gICAgICAgICAgY29udGV4dDogS2V5TG9hZGVyQ29udGV4dCxcbiAgICAgICAgICBuZXR3b3JrRGV0YWlsczogYW55LFxuICAgICAgICApID0+IHtcbiAgICAgICAgICBjb25zdCB7IGZyYWcsIGtleUluZm8sIHVybDogdXJpIH0gPSBjb250ZXh0O1xuICAgICAgICAgIGlmICghZnJhZy5kZWNyeXB0ZGF0YSB8fCBrZXlJbmZvICE9PSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihcbiAgICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICAgIEVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUixcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoJ2FmdGVyIGtleSBsb2FkLCBkZWNyeXB0ZGF0YSB1bnNldCBvciBjaGFuZ2VkJyksXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGtleUluZm8uZGVjcnlwdGRhdGEua2V5ID0gZnJhZy5kZWNyeXB0ZGF0YS5rZXkgPSBuZXcgVWludDhBcnJheShcbiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgYXMgQXJyYXlCdWZmZXIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIGRldGFjaCBmcmFnbWVudCBrZXkgbG9hZGVyIG9uIGxvYWQgc3VjY2Vzc1xuICAgICAgICAgIGZyYWcua2V5TG9hZGVyID0gbnVsbDtcbiAgICAgICAgICBrZXlJbmZvLmxvYWRlciA9IG51bGw7XG4gICAgICAgICAgcmVzb2x2ZSh7IGZyYWcsIGtleUluZm8gfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25FcnJvcjogKFxuICAgICAgICAgIHJlc3BvbnNlOiB7IGNvZGU6IG51bWJlcjsgdGV4dDogc3RyaW5nIH0sXG4gICAgICAgICAgY29udGV4dDogS2V5TG9hZGVyQ29udGV4dCxcbiAgICAgICAgICBuZXR3b3JrRGV0YWlsczogYW55LFxuICAgICAgICAgIHN0YXRzOiBMb2FkZXJTdGF0cyxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldExvYWRlcihjb250ZXh0KTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihcbiAgICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgICAgRXJyb3JEZXRhaWxzLktFWV9MT0FEX0VSUk9SLFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYEhUVFAgRXJyb3IgJHtyZXNwb25zZS5jb2RlfSBsb2FkaW5nIGtleSAke3Jlc3BvbnNlLnRleHR9YCxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHMsXG4gICAgICAgICAgICAgIHsgdXJsOiBsb2FkZXJDb250ZXh0LnVybCwgZGF0YTogdW5kZWZpbmVkLCAuLi5yZXNwb25zZSB9LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uVGltZW91dDogKFxuICAgICAgICAgIHN0YXRzOiBMb2FkZXJTdGF0cyxcbiAgICAgICAgICBjb250ZXh0OiBLZXlMb2FkZXJDb250ZXh0LFxuICAgICAgICAgIG5ldHdvcmtEZXRhaWxzOiBhbnksXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRMb2FkZXIoY29udGV4dCk7XG4gICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVLZXlMb2FkRXJyb3IoXG4gICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgIEVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VULFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoJ2tleSBsb2FkaW5nIHRpbWVkIG91dCcpLFxuICAgICAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkFib3J0OiAoXG4gICAgICAgICAgc3RhdHM6IExvYWRlclN0YXRzLFxuICAgICAgICAgIGNvbnRleHQ6IEtleUxvYWRlckNvbnRleHQsXG4gICAgICAgICAgbmV0d29ya0RldGFpbHM6IGFueSxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldExvYWRlcihjb250ZXh0KTtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUtleUxvYWRFcnJvcihcbiAgICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgICAgRXJyb3JEZXRhaWxzLklOVEVSTkFMX0FCT1JURUQsXG4gICAgICAgICAgICAgIG5ldyBFcnJvcigna2V5IGxvYWRpbmcgYWJvcnRlZCcpLFxuICAgICAgICAgICAgICBuZXR3b3JrRGV0YWlscyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGtleUxvYWRlci5sb2FkKGxvYWRlckNvbnRleHQsIGxvYWRlckNvbmZpZywgbG9hZGVyQ2FsbGJhY2tzKTtcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIHJlc2V0TG9hZGVyKGNvbnRleHQ6IEtleUxvYWRlckNvbnRleHQpIHtcbiAgICBjb25zdCB7IGZyYWcsIGtleUluZm8sIHVybDogdXJpIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGxvYWRlciA9IGtleUluZm8ubG9hZGVyO1xuICAgIGlmIChmcmFnLmtleUxvYWRlciA9PT0gbG9hZGVyKSB7XG4gICAgICBmcmFnLmtleUxvYWRlciA9IG51bGw7XG4gICAgICBrZXlJbmZvLmxvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLmtleVVyaVRvS2V5SW5mb1t1cmldO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgZ2V0TWVkaWFTb3VyY2UgfSBmcm9tICcuL3V0aWxzL21lZGlhc291cmNlLWhlbHBlcic7XG5pbXBvcnQgeyBtaW1lVHlwZUZvckNvZGVjIH0gZnJvbSAnLi91dGlscy9jb2RlY3MnO1xuaW1wb3J0IHR5cGUgeyBFeHRlbmRlZFNvdXJjZUJ1ZmZlciB9IGZyb20gJy4vdHlwZXMvYnVmZmVyJztcblxuZnVuY3Rpb24gZ2V0U291cmNlQnVmZmVyKCk6IHR5cGVvZiBzZWxmLlNvdXJjZUJ1ZmZlciB7XG4gIHJldHVybiBzZWxmLlNvdXJjZUJ1ZmZlciB8fCAoc2VsZiBhcyBhbnkpLldlYktpdFNvdXJjZUJ1ZmZlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTVNFU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICBjb25zdCBtZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlKCk7XG4gIGlmICghbWVkaWFTb3VyY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBpZiBTb3VyY2VCdWZmZXIgaXMgZXhwb3NlZCBlbnN1cmUgaXRzIEFQSSBpcyB2YWxpZFxuICAvLyBPbGRlciBicm93c2VycyBkbyBub3QgZXhwb3NlIFNvdXJjZUJ1ZmZlciBnbG9iYWxseSBzbyBjaGVja2luZyBTb3VyY2VCdWZmZXIucHJvdG90eXBlIGlzIGltcG9zc2libGVcbiAgY29uc3Qgc291cmNlQnVmZmVyID0gZ2V0U291cmNlQnVmZmVyKCk7XG4gIHJldHVybiAoXG4gICAgIXNvdXJjZUJ1ZmZlciB8fFxuICAgIChzb3VyY2VCdWZmZXIucHJvdG90eXBlICYmXG4gICAgICB0eXBlb2Ygc291cmNlQnVmZmVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBzb3VyY2VCdWZmZXIucHJvdG90eXBlLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICBpZiAoIWlzTVNFU3VwcG9ydGVkKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBtZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlKCk7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG1lZGlhU291cmNlPy5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAoWydhdmMxLjQyRTAxRSxtcDRhLjQwLjInLCAnYXYwMS4wLjAxTS4wOCcsICd2cDA5LjAwLjUwLjA4J10uc29tZShcbiAgICAgIChjb2RlY3NGb3JWaWRlb0NvbnRhaW5lcikgPT5cbiAgICAgICAgbWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKFxuICAgICAgICAgIG1pbWVUeXBlRm9yQ29kZWMoY29kZWNzRm9yVmlkZW9Db250YWluZXIsICd2aWRlbycpLFxuICAgICAgICApLFxuICAgICkgfHxcbiAgICAgIFsnbXA0YS40MC4yJywgJ2ZMYUMnXS5zb21lKChjb2RlY0ZvckF1ZGlvQ29udGFpbmVyKSA9PlxuICAgICAgICBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoXG4gICAgICAgICAgbWltZVR5cGVGb3JDb2RlYyhjb2RlY0ZvckF1ZGlvQ29udGFpbmVyLCAnYXVkaW8nKSxcbiAgICAgICAgKSxcbiAgICAgICkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VUeXBlU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICBjb25zdCBzb3VyY2VCdWZmZXIgPSBnZXRTb3VyY2VCdWZmZXIoKTtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgKHNvdXJjZUJ1ZmZlcj8ucHJvdG90eXBlIGFzIEV4dGVuZGVkU291cmNlQnVmZmVyKT8uY2hhbmdlVHlwZSA9PT1cbiAgICAnZnVuY3Rpb24nXG4gICk7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBCdWZmZXJJbmZvIH0gZnJvbSAnLi4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQgeyBCdWZmZXJIZWxwZXIgfSBmcm9tICcuLi91dGlscy9idWZmZXItaGVscGVyJztcbmltcG9ydCB7IEVycm9yVHlwZXMsIEVycm9yRGV0YWlscyB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQbGF5bGlzdExldmVsVHlwZSB9IGZyb20gJy4uL3R5cGVzL2xvYWRlcic7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB0eXBlIEhscyBmcm9tICcuLi9obHMnO1xuaW1wb3J0IHR5cGUgeyBIbHNDb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBGcmFnbWVudCB9IGZyb20gJy4uL2xvYWRlci9mcmFnbWVudCc7XG5pbXBvcnQgdHlwZSB7IEZyYWdtZW50VHJhY2tlciB9IGZyb20gJy4vZnJhZ21lbnQtdHJhY2tlcic7XG5cbmV4cG9ydCBjb25zdCBTVEFMTF9NSU5JTVVNX0RVUkFUSU9OX01TID0gMjUwO1xuZXhwb3J0IGNvbnN0IE1BWF9TVEFSVF9HQVBfSlVNUCA9IDIuMDtcbmV4cG9ydCBjb25zdCBTS0lQX0JVRkZFUl9IT0xFX1NURVBfU0VDT05EUyA9IDAuMTtcbmV4cG9ydCBjb25zdCBTS0lQX0JVRkZFUl9SQU5HRV9TVEFSVCA9IDAuMDU7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhcENvbnRyb2xsZXIge1xuICBwcml2YXRlIGNvbmZpZzogSGxzQ29uZmlnO1xuICBwcml2YXRlIG1lZGlhOiBIVE1MTWVkaWFFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZnJhZ21lbnRUcmFja2VyOiBGcmFnbWVudFRyYWNrZXI7XG4gIHByaXZhdGUgaGxzOiBIbHM7XG4gIHByaXZhdGUgbnVkZ2VSZXRyeTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBzdGFsbFJlcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgc3RhbGxlZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbW92ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBzZWVraW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnLCBtZWRpYSwgZnJhZ21lbnRUcmFja2VyLCBobHMpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLm1lZGlhID0gbWVkaWE7XG4gICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBmcmFnbWVudFRyYWNrZXI7XG4gICAgdGhpcy5obHMgPSBobHM7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5obHMgPSB0aGlzLmZyYWdtZW50VHJhY2tlciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBwbGF5aGVhZCBpcyBzdHVjayB3aXRoaW4gYSBnYXAsIGFuZCBpZiBzbywgYXR0ZW1wdHMgdG8gZnJlZSBpdC5cbiAgICogQSBnYXAgaXMgYW4gdW5idWZmZXJlZCByYW5nZSBiZXR3ZWVuIHR3byBidWZmZXJlZCByYW5nZXMgKG9yIHRoZSBzdGFydCBhbmQgdGhlIGZpcnN0IGJ1ZmZlcmVkIHJhbmdlKS5cbiAgICpcbiAgICogQHBhcmFtIGxhc3RDdXJyZW50VGltZSAtIFByZXZpb3VzbHkgcmVhZCBwbGF5aGVhZCBwb3NpdGlvblxuICAgKi9cbiAgcHVibGljIHBvbGwobGFzdEN1cnJlbnRUaW1lOiBudW1iZXIsIGFjdGl2ZUZyYWc6IEZyYWdtZW50IHwgbnVsbCkge1xuICAgIGNvbnN0IHsgY29uZmlnLCBtZWRpYSwgc3RhbGxlZCB9ID0gdGhpcztcbiAgICBpZiAobWVkaWEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBjdXJyZW50VGltZSwgc2Vla2luZyB9ID0gbWVkaWE7XG4gICAgY29uc3Qgc2Vla2VkID0gdGhpcy5zZWVraW5nICYmICFzZWVraW5nO1xuICAgIGNvbnN0IGJlZ2luU2VlayA9ICF0aGlzLnNlZWtpbmcgJiYgc2Vla2luZztcblxuICAgIHRoaXMuc2Vla2luZyA9IHNlZWtpbmc7XG5cbiAgICAvLyBUaGUgcGxheWhlYWQgaXMgbW92aW5nLCBuby1vcFxuICAgIGlmIChjdXJyZW50VGltZSAhPT0gbGFzdEN1cnJlbnRUaW1lKSB7XG4gICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcbiAgICAgIGlmICghc2Vla2luZykge1xuICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHN0YWxsZWQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIHBsYXloZWFkIGlzIG5vdyBtb3ZpbmcsIGJ1dCB3YXMgcHJldmlvdXNseSBzdGFsbGVkXG4gICAgICAgIGlmICh0aGlzLnN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICBjb25zdCBzdGFsbGVkRHVyYXRpb24gPSBzZWxmLnBlcmZvcm1hbmNlLm5vdygpIC0gc3RhbGxlZDtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGBwbGF5YmFjayBub3Qgc3R1Y2sgYW55bW9yZSBAJHtjdXJyZW50VGltZX0sIGFmdGVyICR7TWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgc3RhbGxlZER1cmF0aW9uLFxuICAgICAgICAgICAgKX1tc2AsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWxsZWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHN0YWxsZWQgc3RhdGUgd2hlbiBiZWdpbm5pbmcgb3IgZmluaXNoaW5nIHNlZWtpbmcgc28gdGhhdCB3ZSBkb24ndCByZXBvcnQgc3RhbGxzIGNvbWluZyBvdXQgb2YgYSBzZWVrXG4gICAgaWYgKGJlZ2luU2VlayB8fCBzZWVrZWQpIHtcbiAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGhlIHBsYXloZWFkIHNob3VsZCBub3QgYmUgbW92aW5nXG4gICAgaWYgKFxuICAgICAgKG1lZGlhLnBhdXNlZCAmJiAhc2Vla2luZykgfHxcbiAgICAgIG1lZGlhLmVuZGVkIHx8XG4gICAgICBtZWRpYS5wbGF5YmFja1JhdGUgPT09IDAgfHxcbiAgICAgICFCdWZmZXJIZWxwZXIuZ2V0QnVmZmVyZWQobWVkaWEpLmxlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5udWRnZVJldHJ5ID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXJJbmZvID0gQnVmZmVySGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIGN1cnJlbnRUaW1lLCAwKTtcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBidWZmZXJJbmZvLm5leHRTdGFydCB8fCAwO1xuXG4gICAgaWYgKHNlZWtpbmcpIHtcbiAgICAgIC8vIFdhaXRpbmcgZm9yIHNlZWtpbmcgaW4gYSBidWZmZXJlZCByYW5nZSB0byBjb21wbGV0ZVxuICAgICAgY29uc3QgaGFzRW5vdWdoQnVmZmVyID0gYnVmZmVySW5mby5sZW4gPiBNQVhfU1RBUlRfR0FQX0pVTVA7XG4gICAgICAvLyBOZXh0IGJ1ZmZlcmVkIHJhbmdlIGlzIHRvbyBmYXIgYWhlYWQgdG8ganVtcCB0byB3aGlsZSBzdGlsbCBzZWVraW5nXG4gICAgICBjb25zdCBub0J1ZmZlckdhcCA9XG4gICAgICAgICFuZXh0U3RhcnQgfHxcbiAgICAgICAgKGFjdGl2ZUZyYWcgJiYgYWN0aXZlRnJhZy5zdGFydCA8PSBjdXJyZW50VGltZSkgfHxcbiAgICAgICAgKG5leHRTdGFydCAtIGN1cnJlbnRUaW1lID4gTUFYX1NUQVJUX0dBUF9KVU1QICYmXG4gICAgICAgICAgIXRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFBhcnRpYWxGcmFnbWVudChjdXJyZW50VGltZSkpO1xuICAgICAgaWYgKGhhc0Vub3VnaEJ1ZmZlciB8fCBub0J1ZmZlckdhcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBSZXNldCBtb3ZlZCBzdGF0ZSB3aGVuIHNlZWtpbmcgdG8gYSBwb2ludCBpbiBvciBiZWZvcmUgYSBnYXBcbiAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIHN0YXJ0IGdhcHMgaWYgd2UgaGF2ZW4ndCBwbGF5ZWQsIGJ1dCB0aGUgbGFzdCBwb2xsIGRldGVjdGVkIHRoZSBzdGFydCBvZiBhIHN0YWxsXG4gICAgLy8gVGhlIGFkZGl0aW9uIHBvbGwgZ2l2ZXMgdGhlIGJyb3dzZXIgYSBjaGFuY2UgdG8ganVtcCB0aGUgZ2FwIGZvciB1c1xuICAgIGlmICghdGhpcy5tb3ZlZCAmJiB0aGlzLnN0YWxsZWQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIHBsYXlhYmxlIGJ1ZmZlciAoc2Vla2VkLCB3YWl0aW5nIGZvciBidWZmZXIpXG4gICAgICBjb25zdCBpc0J1ZmZlcmVkID0gYnVmZmVySW5mby5sZW4gPiAwO1xuICAgICAgaWYgKCFpc0J1ZmZlcmVkICYmICFuZXh0U3RhcnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gSnVtcCBzdGFydCBnYXBzIHdpdGhpbiBqdW1wIHRocmVzaG9sZFxuICAgICAgY29uc3Qgc3RhcnRKdW1wID1cbiAgICAgICAgTWF0aC5tYXgobmV4dFN0YXJ0LCBidWZmZXJJbmZvLnN0YXJ0IHx8IDApIC0gY3VycmVudFRpbWU7XG5cbiAgICAgIC8vIFdoZW4gam9pbmluZyBhIGxpdmUgc3RyZWFtIHdpdGggYXVkaW8gdHJhY2tzLCBhY2NvdW50IGZvciBsaXZlIHBsYXlsaXN0IHdpbmRvdyBzbGlkaW5nIGJ5IGFsbG93aW5nXG4gICAgICAvLyBhIGxhcmdlciBqdW1wIG92ZXIgc3RhcnQgZ2FwcyBjYXVzZWQgYnkgdGhlIGF1ZGlvLXN0cmVhbS1jb250cm9sbGVyIGJ1ZmZlcmluZyBhIHN0YXJ0IGZyYWdtZW50XG4gICAgICAvLyB0aGF0IGJlZ2lucyBvdmVyIDEgdGFyZ2V0IGR1cmF0aW9uIGFmdGVyIHRoZSB2aWRlbyBzdGFydCBwb3NpdGlvbi5cbiAgICAgIGNvbnN0IGxldmVsID0gdGhpcy5obHMubGV2ZWxzXG4gICAgICAgID8gdGhpcy5obHMubGV2ZWxzW3RoaXMuaGxzLmN1cnJlbnRMZXZlbF1cbiAgICAgICAgOiBudWxsO1xuICAgICAgY29uc3QgaXNMaXZlID0gbGV2ZWw/LmRldGFpbHM/LmxpdmU7XG4gICAgICBjb25zdCBtYXhTdGFydEdhcEp1bXAgPSBpc0xpdmVcbiAgICAgICAgPyBsZXZlbCEuZGV0YWlscyEudGFyZ2V0ZHVyYXRpb24gKiAyXG4gICAgICAgIDogTUFYX1NUQVJUX0dBUF9KVU1QO1xuICAgICAgY29uc3QgcGFydGlhbE9yR2FwID0gdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0UGFydGlhbEZyYWdtZW50KGN1cnJlbnRUaW1lKTtcbiAgICAgIGlmIChzdGFydEp1bXAgPiAwICYmIChzdGFydEp1bXAgPD0gbWF4U3RhcnRHYXBKdW1wIHx8IHBhcnRpYWxPckdhcCkpIHtcbiAgICAgICAgaWYgKCFtZWRpYS5wYXVzZWQpIHtcbiAgICAgICAgICB0aGlzLl90cnlTa2lwQnVmZmVySG9sZShwYXJ0aWFsT3JHYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGFydCB0cmFja2luZyBzdGFsbCB0aW1lXG4gICAgY29uc3QgdG5vdyA9IHNlbGYucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgaWYgKHN0YWxsZWQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhbGxlZCA9IHRub3c7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhbGxlZER1cmF0aW9uID0gdG5vdyAtIHN0YWxsZWQ7XG4gICAgaWYgKCFzZWVraW5nICYmIHN0YWxsZWREdXJhdGlvbiA+PSBTVEFMTF9NSU5JTVVNX0RVUkFUSU9OX01TKSB7XG4gICAgICAvLyBSZXBvcnQgc3RhbGxpbmcgYWZ0ZXIgdHJ5aW5nIHRvIGZpeFxuICAgICAgdGhpcy5fcmVwb3J0U3RhbGwoYnVmZmVySW5mbyk7XG4gICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlcmVkV2l0aEhvbGVzID0gQnVmZmVySGVscGVyLmJ1ZmZlckluZm8oXG4gICAgICBtZWRpYSxcbiAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgY29uZmlnLm1heEJ1ZmZlckhvbGUsXG4gICAgKTtcbiAgICB0aGlzLl90cnlGaXhCdWZmZXJTdGFsbChidWZmZXJlZFdpdGhIb2xlcywgc3RhbGxlZER1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3RzIGFuZCBhdHRlbXB0cyB0byBmaXgga25vd24gYnVmZmVyIHN0YWxsaW5nIGlzc3Vlcy5cbiAgICogQHBhcmFtIGJ1ZmZlckluZm8gLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCBidWZmZXIuXG4gICAqIEBwYXJhbSBzdGFsbGVkRHVyYXRpb25NcyAtIFRoZSBhbW91bnQgb2YgdGltZSBIbHMuanMgaGFzIGJlZW4gc3RhbGxpbmcgZm9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBfdHJ5Rml4QnVmZmVyU3RhbGwoXG4gICAgYnVmZmVySW5mbzogQnVmZmVySW5mbyxcbiAgICBzdGFsbGVkRHVyYXRpb25NczogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCB7IGNvbmZpZywgZnJhZ21lbnRUcmFja2VyLCBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAobWVkaWEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcblxuICAgIGNvbnN0IHBhcnRpYWwgPSBmcmFnbWVudFRyYWNrZXIuZ2V0UGFydGlhbEZyYWdtZW50KGN1cnJlbnRUaW1lKTtcbiAgICBpZiAocGFydGlhbCkge1xuICAgICAgLy8gVHJ5IHRvIHNraXAgb3ZlciB0aGUgYnVmZmVyIGhvbGUgY2F1c2VkIGJ5IGEgcGFydGlhbCBmcmFnbWVudFxuICAgICAgLy8gVGhpcyBtZXRob2QgaXNuJ3QgbGltaXRlZCBieSB0aGUgc2l6ZSBvZiB0aGUgZ2FwIGJldHdlZW4gYnVmZmVyZWQgcmFuZ2VzXG4gICAgICBjb25zdCB0YXJnZXRUaW1lID0gdGhpcy5fdHJ5U2tpcEJ1ZmZlckhvbGUocGFydGlhbCk7XG4gICAgICAvLyB3ZSByZXR1cm4gaGVyZSBpbiB0aGlzIGNhc2UsIG1lYW5pbmdcbiAgICAgIC8vIHRoZSBicmFuY2ggYmVsb3cgb25seSBleGVjdXRlcyB3aGVuIHdlIGhhdmVuJ3Qgc2Vla2VkIHRvIGEgbmV3IHBvc2l0aW9uXG4gICAgICBpZiAodGFyZ2V0VGltZSB8fCAhdGhpcy5tZWRpYSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZW4ndCBoYWQgdG8gc2tpcCBvdmVyIGEgYnVmZmVyIGhvbGUgb2YgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAgLy8gd2UgbWF5IGp1c3QgaGF2ZSB0byBcIm51ZGdlXCIgdGhlIHBsYXlsaXN0IGFzIHRoZSBicm93c2VyIGRlY29kaW5nL3JlbmRlcmluZyBlbmdpbmVcbiAgICAvLyBuZWVkcyB0byBjcm9zcyBzb21lIHNvcnQgb2YgdGhyZXNob2xkIGNvdmVyaW5nIGFsbCBzb3VyY2UtYnVmZmVycyBjb250ZW50XG4gICAgLy8gdG8gc3RhcnQgcGxheWluZyBwcm9wZXJseS5cbiAgICBpZiAoXG4gICAgICAoYnVmZmVySW5mby5sZW4gPiBjb25maWcubWF4QnVmZmVySG9sZSB8fFxuICAgICAgICAoYnVmZmVySW5mby5uZXh0U3RhcnQgJiZcbiAgICAgICAgICBidWZmZXJJbmZvLm5leHRTdGFydCAtIGN1cnJlbnRUaW1lIDwgY29uZmlnLm1heEJ1ZmZlckhvbGUpKSAmJlxuICAgICAgc3RhbGxlZER1cmF0aW9uTXMgPiBjb25maWcuaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kICogMTAwMFxuICAgICkge1xuICAgICAgbG9nZ2VyLndhcm4oJ1RyeWluZyB0byBudWRnZSBwbGF5aGVhZCBvdmVyIGJ1ZmZlci1ob2xlJyk7XG4gICAgICAvLyBUcnkgdG8gbnVkZ2UgY3VycmVudFRpbWUgb3ZlciBhIGJ1ZmZlciBob2xlIGlmIHdlJ3ZlIGJlZW4gc3RhbGxpbmcgZm9yIHRoZSBjb25maWd1cmVkIGFtb3VudCBvZiBzZWNvbmRzXG4gICAgICAvLyBXZSBvbmx5IHRyeSB0byBqdW1wIHRoZSBob2xlIGlmIGl0J3MgdW5kZXIgdGhlIGNvbmZpZ3VyZWQgc2l6ZVxuICAgICAgLy8gUmVzZXQgc3RhbGxlZCBzbyB0byByZWFybSB3YXRjaGRvZyB0aW1lclxuICAgICAgdGhpcy5zdGFsbGVkID0gbnVsbDtcbiAgICAgIHRoaXMuX3RyeU51ZGdlQnVmZmVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgQlVGRkVSX1NUQUxMRURfRVJST1IgZXZlbnQsIGJ1dCBvbmx5IG9uY2UgcGVyIHN0YWxsIHBlcmlvZC5cbiAgICogQHBhcmFtIGJ1ZmZlckxlbiAtIFRoZSBwbGF5aGVhZCBkaXN0YW5jZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyIHNlZ21lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIF9yZXBvcnRTdGFsbChidWZmZXJJbmZvOiBCdWZmZXJJbmZvKSB7XG4gICAgY29uc3QgeyBobHMsIG1lZGlhLCBzdGFsbFJlcG9ydGVkIH0gPSB0aGlzO1xuICAgIGlmICghc3RhbGxSZXBvcnRlZCAmJiBtZWRpYSkge1xuICAgICAgLy8gUmVwb3J0IHN0YWxsZWQgZXJyb3Igb25jZVxuICAgICAgdGhpcy5zdGFsbFJlcG9ydGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgUGxheWJhY2sgc3RhbGxpbmcgYXQgQCR7XG4gICAgICAgICAgbWVkaWEuY3VycmVudFRpbWVcbiAgICAgICAgfSBkdWUgdG8gbG93IGJ1ZmZlciAoJHtKU09OLnN0cmluZ2lmeShidWZmZXJJbmZvKX0pYCxcbiAgICAgICk7XG4gICAgICBsb2dnZXIud2FybihlcnJvci5tZXNzYWdlKTtcbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuQlVGRkVSX1NUQUxMRURfRVJST1IsXG4gICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGJ1ZmZlcjogYnVmZmVySW5mby5sZW4sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZml4IGJ1ZmZlciBzdGFsbHMgYnkganVtcGluZyBvdmVyIGtub3duIGdhcHMgY2F1c2VkIGJ5IHBhcnRpYWwgZnJhZ21lbnRzXG4gICAqIEBwYXJhbSBwYXJ0aWFsIC0gVGhlIHBhcnRpYWwgZnJhZ21lbnQgZm91bmQgYXQgdGhlIGN1cnJlbnQgdGltZSAod2hlcmUgcGxheWJhY2sgaXMgc3RhbGxpbmcpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBfdHJ5U2tpcEJ1ZmZlckhvbGUocGFydGlhbDogRnJhZ21lbnQgfCBudWxsKTogbnVtYmVyIHtcbiAgICBjb25zdCB7IGNvbmZpZywgaGxzLCBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAobWVkaWEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnRUaW1lIGlzIGJldHdlZW4gdW5idWZmZXJlZCByZWdpb25zIG9mIHBhcnRpYWwgZnJhZ21lbnRzXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcbiAgICBjb25zdCBidWZmZXJJbmZvID0gQnVmZmVySGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIGN1cnJlbnRUaW1lLCAwKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPVxuICAgICAgY3VycmVudFRpbWUgPCBidWZmZXJJbmZvLnN0YXJ0ID8gYnVmZmVySW5mby5zdGFydCA6IGJ1ZmZlckluZm8ubmV4dFN0YXJ0O1xuICAgIGlmIChzdGFydFRpbWUpIHtcbiAgICAgIGNvbnN0IGJ1ZmZlclN0YXJ2ZWQgPSBidWZmZXJJbmZvLmxlbiA8PSBjb25maWcubWF4QnVmZmVySG9sZTtcbiAgICAgIGNvbnN0IHdhaXRpbmcgPVxuICAgICAgICBidWZmZXJJbmZvLmxlbiA+IDAgJiYgYnVmZmVySW5mby5sZW4gPCAxICYmIG1lZGlhLnJlYWR5U3RhdGUgPCAzO1xuICAgICAgY29uc3QgZ2FwTGVuZ3RoID0gc3RhcnRUaW1lIC0gY3VycmVudFRpbWU7XG4gICAgICBpZiAoZ2FwTGVuZ3RoID4gMCAmJiAoYnVmZmVyU3RhcnZlZCB8fCB3YWl0aW5nKSkge1xuICAgICAgICAvLyBPbmx5IGFsbG93IGxhcmdlIGdhcHMgdG8gYmUgc2tpcHBlZCBpZiBpdCBpcyBhIHN0YXJ0IGdhcCwgb3IgYWxsIGZyYWdtZW50cyBpbiBza2lwIHJhbmdlIGFyZSBwYXJ0aWFsXG4gICAgICAgIGlmIChnYXBMZW5ndGggPiBjb25maWcubWF4QnVmZmVySG9sZSkge1xuICAgICAgICAgIGNvbnN0IHsgZnJhZ21lbnRUcmFja2VyIH0gPSB0aGlzO1xuICAgICAgICAgIGxldCBzdGFydEdhcCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRGcmFnID0gZnJhZ21lbnRUcmFja2VyLmdldEFwcGVuZGVkRnJhZyhcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgUGxheWxpc3RMZXZlbFR5cGUuTUFJTixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc3RhcnRGcmFnICYmIHN0YXJ0VGltZSA8IHN0YXJ0RnJhZy5lbmQpIHtcbiAgICAgICAgICAgICAgc3RhcnRHYXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXN0YXJ0R2FwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFByb3Zpc2lvbmVkID1cbiAgICAgICAgICAgICAgcGFydGlhbCB8fFxuICAgICAgICAgICAgICBmcmFnbWVudFRyYWNrZXIuZ2V0QXBwZW5kZWRGcmFnKFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc3RhcnRQcm92aXNpb25lZCkge1xuICAgICAgICAgICAgICBsZXQgbW9yZVRvTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsZXQgcG9zID0gc3RhcnRQcm92aXNpb25lZC5lbmQ7XG4gICAgICAgICAgICAgIHdoaWxlIChwb3MgPCBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm92aXNpb25lZCA9IGZyYWdtZW50VHJhY2tlci5nZXRQYXJ0aWFsRnJhZ21lbnQocG9zKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvdmlzaW9uZWQpIHtcbiAgICAgICAgICAgICAgICAgIHBvcyArPSBwcm92aXNpb25lZC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbW9yZVRvTG9hZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG1vcmVUb0xvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRUaW1lID0gTWF0aC5tYXgoXG4gICAgICAgICAgc3RhcnRUaW1lICsgU0tJUF9CVUZGRVJfUkFOR0VfU1RBUlQsXG4gICAgICAgICAgY3VycmVudFRpbWUgKyBTS0lQX0JVRkZFUl9IT0xFX1NURVBfU0VDT05EUyxcbiAgICAgICAgKTtcbiAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgYHNraXBwaW5nIGhvbGUsIGFkanVzdGluZyBjdXJyZW50VGltZSBmcm9tICR7Y3VycmVudFRpbWV9IHRvICR7dGFyZ2V0VGltZX1gLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFsbGVkID0gbnVsbDtcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSB0YXJnZXRUaW1lO1xuICAgICAgICBpZiAocGFydGlhbCAmJiAhcGFydGlhbC5nYXApIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBmcmFnbWVudCBsb2FkZWQgd2l0aCBidWZmZXIgaG9sZXMsIHNlZWtpbmcgZnJvbSAke2N1cnJlbnRUaW1lfSB0byAke3RhcmdldFRpbWV9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5CVUZGRVJfU0VFS19PVkVSX0hPTEUsXG4gICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHJlYXNvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIGZyYWc6IHBhcnRpYWwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGZpeCBidWZmZXIgc3RhbGxzIGJ5IGFkdmFuY2luZyB0aGUgbWVkaWFFbGVtZW50J3MgY3VycmVudCB0aW1lIGJ5IGEgc21hbGwgYW1vdW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBfdHJ5TnVkZ2VCdWZmZXIoKSB7XG4gICAgY29uc3QgeyBjb25maWcsIGhscywgbWVkaWEsIG51ZGdlUmV0cnkgfSA9IHRoaXM7XG4gICAgaWYgKG1lZGlhID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgdGhpcy5udWRnZVJldHJ5Kys7XG5cbiAgICBpZiAobnVkZ2VSZXRyeSA8IGNvbmZpZy5udWRnZU1heFJldHJ5KSB7XG4gICAgICBjb25zdCB0YXJnZXRUaW1lID0gY3VycmVudFRpbWUgKyAobnVkZ2VSZXRyeSArIDEpICogY29uZmlnLm51ZGdlT2Zmc2V0O1xuICAgICAgLy8gcGxheWJhY2sgc3RhbGxlZCBpbiBidWZmZXJlZCBhcmVhIC4uLiBsZXQncyBudWRnZSBjdXJyZW50VGltZSB0byB0cnkgdG8gb3ZlcmNvbWUgdGhpc1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBOdWRnaW5nICdjdXJyZW50VGltZScgZnJvbSAke2N1cnJlbnRUaW1lfSB0byAke3RhcmdldFRpbWV9YCxcbiAgICAgICk7XG4gICAgICBsb2dnZXIud2FybihlcnJvci5tZXNzYWdlKTtcbiAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZTtcbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICB0eXBlOiBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBFcnJvckRldGFpbHMuQlVGRkVSX05VREdFX09OX1NUQUxMLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgUGxheWhlYWQgc3RpbGwgbm90IG1vdmluZyB3aGlsZSBlbm91Z2ggZGF0YSBidWZmZXJlZCBAJHtjdXJyZW50VGltZX0gYWZ0ZXIgJHtjb25maWcubnVkZ2VNYXhSZXRyeX0gbnVkZ2VzYCxcbiAgICAgICk7XG4gICAgICBsb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICBobHMudHJpZ2dlcihFdmVudHMuRVJST1IsIHtcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogRXJyb3JEZXRhaWxzLkJVRkZFUl9TVEFMTEVEX0VSUk9SLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgQmFzZVN0cmVhbUNvbnRyb2xsZXIsIHsgU3RhdGUgfSBmcm9tICcuL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgY2hhbmdlVHlwZVN1cHBvcnRlZCB9IGZyb20gJy4uL2lzLXN1cHBvcnRlZCc7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgQnVmZmVySGVscGVyLCBCdWZmZXJJbmZvIH0gZnJvbSAnLi4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQgeyBGcmFnbWVudFN0YXRlIH0gZnJvbSAnLi9mcmFnbWVudC10cmFja2VyJztcbmltcG9ydCB7IFBsYXlsaXN0Q29udGV4dFR5cGUsIFBsYXlsaXN0TGV2ZWxUeXBlIH0gZnJvbSAnLi4vdHlwZXMvbG9hZGVyJztcbmltcG9ydCB7IEVsZW1lbnRhcnlTdHJlYW1UeXBlcywgRnJhZ21lbnQgfSBmcm9tICcuLi9sb2FkZXIvZnJhZ21lbnQnO1xuaW1wb3J0IFRyYW5zbXV4ZXJJbnRlcmZhY2UgZnJvbSAnLi4vZGVtdXgvdHJhbnNtdXhlci1pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQ2h1bmtNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3RyYW5zbXV4ZXInO1xuaW1wb3J0IEdhcENvbnRyb2xsZXIsIHsgTUFYX1NUQVJUX0dBUF9KVU1QIH0gZnJvbSAnLi9nYXAtY29udHJvbGxlcic7XG5pbXBvcnQgeyBFcnJvckRldGFpbHMgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrQ29tcG9uZW50QVBJIH0gZnJvbSAnLi4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5pbXBvcnQgdHlwZSBIbHMgZnJvbSAnLi4vaGxzJztcbmltcG9ydCB0eXBlIHsgTGV2ZWwgfSBmcm9tICcuLi90eXBlcy9sZXZlbCc7XG5pbXBvcnQgdHlwZSB7IExldmVsRGV0YWlscyB9IGZyb20gJy4uL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmltcG9ydCB0eXBlIHsgRnJhZ21lbnRUcmFja2VyIH0gZnJvbSAnLi9mcmFnbWVudC10cmFja2VyJztcbmltcG9ydCB0eXBlIEtleUxvYWRlciBmcm9tICcuLi9sb2FkZXIva2V5LWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IFRyYW5zbXV4ZXJSZXN1bHQgfSBmcm9tICcuLi90eXBlcy90cmFuc211eGVyJztcbmltcG9ydCB0eXBlIHsgVHJhY2tTZXQgfSBmcm9tICcuLi90eXBlcy90cmFjayc7XG5pbXBvcnQgdHlwZSB7IFNvdXJjZUJ1ZmZlck5hbWUgfSBmcm9tICcuLi90eXBlcy9idWZmZXInO1xuaW1wb3J0IHR5cGUge1xuICBBdWRpb1RyYWNrU3dpdGNoZWREYXRhLFxuICBBdWRpb1RyYWNrU3dpdGNoaW5nRGF0YSxcbiAgQnVmZmVyQ3JlYXRlZERhdGEsXG4gIEJ1ZmZlckVPU0RhdGEsXG4gIEJ1ZmZlckZsdXNoZWREYXRhLFxuICBFcnJvckRhdGEsXG4gIEZyYWdCdWZmZXJlZERhdGEsXG4gIEZyYWdMb2FkZWREYXRhLFxuICBGcmFnUGFyc2luZ01ldGFkYXRhRGF0YSxcbiAgRnJhZ1BhcnNpbmdVc2VyZGF0YURhdGEsXG4gIExldmVsTG9hZGVkRGF0YSxcbiAgTGV2ZWxMb2FkaW5nRGF0YSxcbiAgTGV2ZWxzVXBkYXRlZERhdGEsXG4gIE1hbmlmZXN0UGFyc2VkRGF0YSxcbiAgTWVkaWFBdHRhY2hlZERhdGEsXG59IGZyb20gJy4uL3R5cGVzL2V2ZW50cyc7XG5cbmNvbnN0IFRJQ0tfSU5URVJWQUwgPSAxMDA7IC8vIGhvdyBvZnRlbiB0byB0aWNrIGluIG1zXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmVhbUNvbnRyb2xsZXJcbiAgZXh0ZW5kcyBCYXNlU3RyZWFtQ29udHJvbGxlclxuICBpbXBsZW1lbnRzIE5ldHdvcmtDb21wb25lbnRBUElcbntcbiAgcHJpdmF0ZSBhdWRpb0NvZGVjU3dhcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGdhcENvbnRyb2xsZXI6IEdhcENvbnRyb2xsZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX2ZvcmNlU3RhcnRMb2FkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgYWx0QXVkaW86IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBhdWRpb09ubHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmcmFnUGxheWluZzogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBvbnZwbGF5aW5nOiBFdmVudExpc3RlbmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb252c2Vla2VkOiBFdmVudExpc3RlbmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZnJhZ0xhc3RLYnBzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNvdWxkQmFja3RyYWNrOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgYmFja3RyYWNrRnJhZ21lbnQ6IEZyYWdtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYXVkaW9Db2RlY1N3aXRjaDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHZpZGVvQnVmZmVyOiBhbnkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBobHM6IEhscyxcbiAgICBmcmFnbWVudFRyYWNrZXI6IEZyYWdtZW50VHJhY2tlcixcbiAgICBrZXlMb2FkZXI6IEtleUxvYWRlcixcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBobHMsXG4gICAgICBmcmFnbWVudFRyYWNrZXIsXG4gICAgICBrZXlMb2FkZXIsXG4gICAgICAnW3N0cmVhbS1jb250cm9sbGVyXScsXG4gICAgICBQbGF5bGlzdExldmVsVHlwZS5NQUlOLFxuICAgICk7XG4gICAgdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgIGhscy5vbihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1FRElBX0RFVEFDSElORywgdGhpcy5vbk1lZGlhRGV0YWNoaW5nLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLk1BTklGRVNUX0xPQURJTkcsIHRoaXMub25NYW5pZmVzdExvYWRpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuTEVWRUxfTE9BRElORywgdGhpcy5vbkxldmVsTG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTF9MT0FERUQsIHRoaXMub25MZXZlbExvYWRlZCwgdGhpcyk7XG4gICAgaGxzLm9uKFxuICAgICAgRXZlbnRzLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCxcbiAgICAgIHRoaXMub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gICAgaGxzLm9uKEV2ZW50cy5FUlJPUiwgdGhpcy5vbkVycm9yLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSElORywgdGhpcy5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHRoaXMub25BdWRpb1RyYWNrU3dpdGNoZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuQlVGRkVSX0NSRUFURUQsIHRoaXMub25CdWZmZXJDcmVhdGVkLCB0aGlzKTtcbiAgICBobHMub24oRXZlbnRzLkJVRkZFUl9GTFVTSEVELCB0aGlzLm9uQnVmZmVyRmx1c2hlZCwgdGhpcyk7XG4gICAgaGxzLm9uKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vbihFdmVudHMuRlJBR19CVUZGRVJFRCwgdGhpcy5vbkZyYWdCdWZmZXJlZCwgdGhpcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX3VucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgaGxzLm9mZihFdmVudHMuTUVESUFfQVRUQUNIRUQsIHRoaXMub25NZWRpYUF0dGFjaGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5NRURJQV9ERVRBQ0hJTkcsIHRoaXMub25NZWRpYURldGFjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgdGhpcy5vbk1hbmlmZXN0TG9hZGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuTUFOSUZFU1RfUEFSU0VELCB0aGlzLm9uTWFuaWZlc3RQYXJzZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkxFVkVMX0xPQURFRCwgdGhpcy5vbkxldmVsTG9hZGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKFxuICAgICAgRXZlbnRzLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCxcbiAgICAgIHRoaXMub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gICAgaGxzLm9mZihFdmVudHMuRVJST1IsIHRoaXMub25FcnJvciwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQVVESU9fVFJBQ0tfU1dJVENISU5HLCB0aGlzLm9uQXVkaW9UcmFja1N3aXRjaGluZywgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHRoaXMub25BdWRpb1RyYWNrU3dpdGNoZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkJVRkZFUl9DUkVBVEVELCB0aGlzLm9uQnVmZmVyQ3JlYXRlZCwgdGhpcyk7XG4gICAgaGxzLm9mZihFdmVudHMuQlVGRkVSX0ZMVVNIRUQsIHRoaXMub25CdWZmZXJGbHVzaGVkLCB0aGlzKTtcbiAgICBobHMub2ZmKEV2ZW50cy5MRVZFTFNfVVBEQVRFRCwgdGhpcy5vbkxldmVsc1VwZGF0ZWQsIHRoaXMpO1xuICAgIGhscy5vZmYoRXZlbnRzLkZSQUdfQlVGRkVSRUQsIHRoaXMub25GcmFnQnVmZmVyZWQsIHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uSGFuZGxlckRlc3Ryb3lpbmcoKSB7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIHN1cGVyLm9uSGFuZGxlckRlc3Ryb3lpbmcoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydExvYWQoc3RhcnRQb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGV2ZWxzKSB7XG4gICAgICBjb25zdCB7IGxhc3RDdXJyZW50VGltZSwgaGxzIH0gPSB0aGlzO1xuICAgICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgICAgdGhpcy5zZXRJbnRlcnZhbChUSUNLX0lOVEVSVkFMKTtcbiAgICAgIHRoaXMubGV2ZWwgPSAtMTtcbiAgICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQpIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGxvYWQgbGV2ZWxcbiAgICAgICAgbGV0IHN0YXJ0TGV2ZWwgPSBobHMuc3RhcnRMZXZlbDtcbiAgICAgICAgaWYgKHN0YXJ0TGV2ZWwgPT09IC0xKSB7XG4gICAgICAgICAgaWYgKGhscy5jb25maWcudGVzdEJhbmR3aWR0aCAmJiB0aGlzLmxldmVscy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyAtMSA6IGd1ZXNzIHN0YXJ0IExldmVsIGJ5IGRvaW5nIGEgYml0cmF0ZSB0ZXN0IGJ5IGxvYWRpbmcgZmlyc3QgZnJhZ21lbnQgb2YgbG93ZXN0IHF1YWxpdHkgbGV2ZWxcbiAgICAgICAgICAgIHN0YXJ0TGV2ZWwgPSAwO1xuICAgICAgICAgICAgdGhpcy5iaXRyYXRlVGVzdCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0TGV2ZWwgPSBobHMuZmlyc3RBdXRvTGV2ZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBuZXcgbGV2ZWwgdG8gcGxheWxpc3QgbG9hZGVyIDogdGhpcyB3aWxsIHRyaWdnZXIgc3RhcnQgbGV2ZWwgbG9hZFxuICAgICAgICAvLyBobHMubmV4dExvYWRMZXZlbCByZW1haW5zIHVudGlsIGl0IGlzIHNldCB0byBhIG5ldyB2YWx1ZSBvciB1bnRpbCBhIG5ldyBmcmFnIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWRcbiAgICAgICAgaGxzLm5leHRMb2FkTGV2ZWwgPSBzdGFydExldmVsO1xuICAgICAgICB0aGlzLmxldmVsID0gaGxzLmxvYWRMZXZlbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiB1bmRlZmluZWQgYnV0IGxhc3RDdXJyZW50VGltZSBzZXQsIHNldCBzdGFydFBvc2l0aW9uIHRvIGxhc3QgY3VycmVudFRpbWVcbiAgICAgIGlmIChsYXN0Q3VycmVudFRpbWUgPiAwICYmIHN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBPdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAke2xhc3RDdXJyZW50VGltZS50b0ZpeGVkKFxuICAgICAgICAgICAgMyxcbiAgICAgICAgICApfWAsXG4gICAgICAgICk7XG4gICAgICAgIHN0YXJ0UG9zaXRpb24gPSBsYXN0Q3VycmVudFRpbWU7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9XG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9XG4gICAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID1cbiAgICAgICAgICBzdGFydFBvc2l0aW9uO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZvcmNlU3RhcnRMb2FkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdG9wTG9hZCgpIHtcbiAgICB0aGlzLl9mb3JjZVN0YXJ0TG9hZCA9IGZhbHNlO1xuICAgIHN1cGVyLnN0b3BMb2FkKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZG9UaWNrKCkge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBTdGF0ZS5XQUlUSU5HX0xFVkVMOiB7XG4gICAgICAgIGNvbnN0IHsgbGV2ZWxzLCBsZXZlbCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY3VycmVudExldmVsID0gbGV2ZWxzPy5bbGV2ZWxdO1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gY3VycmVudExldmVsPy5kZXRhaWxzO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZGV0YWlscyAmJlxuICAgICAgICAgICghZGV0YWlscy5saXZlIHx8IHRoaXMubGV2ZWxMYXN0TG9hZGVkID09PSBjdXJyZW50TGV2ZWwpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0aGlzLndhaXRGb3JDZG5UdW5lSW4oZGV0YWlscykpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhscy5uZXh0TG9hZExldmVsICE9PSB0aGlzLmxldmVsKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICBjb25zdCByZXRyeURhdGUgPSB0aGlzLnJldHJ5RGF0ZTtcbiAgICAgICAgICAvLyBpZiBjdXJyZW50IHRpbWUgaXMgZ3QgdGhhbiByZXRyeURhdGUsIG9yIGlmIG1lZGlhIHNlZWtpbmcgbGV0J3Mgc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICAgIGlmICghcmV0cnlEYXRlIHx8IG5vdyA+PSByZXRyeURhdGUgfHwgdGhpcy5tZWRpYT8uc2Vla2luZykge1xuICAgICAgICAgICAgY29uc3QgeyBsZXZlbHMsIGxldmVsIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudExldmVsID0gbGV2ZWxzPy5bbGV2ZWxdO1xuICAgICAgICAgICAgdGhpcy5yZXNldFN0YXJ0V2hlbk5vdExvYWRlZChjdXJyZW50TGV2ZWwgfHwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuZG9UaWNrSWRsZSgpO1xuICAgIH1cbiAgICB0aGlzLm9uVGlja0VuZCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uVGlja0VuZCgpIHtcbiAgICBzdXBlci5vblRpY2tFbmQoKTtcbiAgICB0aGlzLmNoZWNrQnVmZmVyKCk7XG4gICAgdGhpcy5jaGVja0ZyYWdtZW50Q2hhbmdlZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkb1RpY2tJZGxlKCkge1xuICAgIGNvbnN0IHsgaGxzLCBsZXZlbExhc3RMb2FkZWQsIGxldmVscywgbWVkaWEgfSA9IHRoaXM7XG5cbiAgICAvLyBpZiBzdGFydCBsZXZlbCBub3QgcGFyc2VkIHlldCBPUlxuICAgIC8vIGlmIHZpZGVvIG5vdCBhdHRhY2hlZCBBTkQgc3RhcnQgZnJhZ21lbnQgYWxyZWFkeSByZXF1ZXN0ZWQgT1Igc3RhcnQgZnJhZyBwcmVmZXRjaCBub3QgZW5hYmxlZFxuICAgIC8vIGV4aXQgbG9vcCwgYXMgd2UgZWl0aGVyIG5lZWQgbW9yZSBpbmZvIChsZXZlbCBub3QgcGFyc2VkKSBvciB3ZSBuZWVkIG1lZGlhIHRvIGJlIGF0dGFjaGVkIHRvIGxvYWQgbmV3IGZyYWdtZW50XG4gICAgaWYgKFxuICAgICAgbGV2ZWxMYXN0TG9hZGVkID09PSBudWxsIHx8XG4gICAgICAoIW1lZGlhICYmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCB8fCAhaGxzLmNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIFwibWFpblwiIGxldmVsIGlzIGF1ZGlvLW9ubHkgYnV0IHdlIGFyZSBsb2FkaW5nIGFuIGFsdGVybmF0ZSB0cmFjayBpbiB0aGUgc2FtZSBncm91cCwgZG8gbm90IGxvYWQgYW55dGhpbmdcbiAgICBpZiAodGhpcy5hbHRBdWRpbyAmJiB0aGlzLmF1ZGlvT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxldmVsID0gaGxzLm5leHRMb2FkTGV2ZWw7XG4gICAgaWYgKCFsZXZlbHM/LltsZXZlbF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsZXZlbEluZm8gPSBsZXZlbHNbbGV2ZWxdO1xuXG4gICAgLy8gaWYgYnVmZmVyIGxlbmd0aCBpcyBsZXNzIHRoYW4gbWF4QnVmTGVuIHRyeSB0byBsb2FkIGEgbmV3IGZyYWdtZW50XG5cbiAgICBjb25zdCBidWZmZXJJbmZvID0gdGhpcy5nZXRNYWluRndkQnVmZmVySW5mbygpO1xuICAgIGlmIChidWZmZXJJbmZvID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdERldGFpbHMgPSB0aGlzLmdldExldmVsRGV0YWlscygpO1xuICAgIGlmIChsYXN0RGV0YWlscyAmJiB0aGlzLl9zdHJlYW1FbmRlZChidWZmZXJJbmZvLCBsYXN0RGV0YWlscykpIHtcbiAgICAgIGNvbnN0IGRhdGE6IEJ1ZmZlckVPU0RhdGEgPSB7fTtcbiAgICAgIGlmICh0aGlzLmFsdEF1ZGlvKSB7XG4gICAgICAgIGRhdGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9FT1MsIGRhdGEpO1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVOREVEO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHNldCBuZXh0IGxvYWQgbGV2ZWwgOiB0aGlzIHdpbGwgdHJpZ2dlciBhIHBsYXlsaXN0IGxvYWQgaWYgbmVlZGVkXG4gICAgaWYgKGhscy5sb2FkTGV2ZWwgIT09IGxldmVsICYmIGhscy5tYW51YWxMZXZlbCA9PT0gLTEpIHtcbiAgICAgIHRoaXMubG9nKGBBZGFwdGluZyB0byBsZXZlbCAke2xldmVsfSBmcm9tIGxldmVsICR7dGhpcy5sZXZlbH1gKTtcbiAgICB9XG4gICAgdGhpcy5sZXZlbCA9IGhscy5uZXh0TG9hZExldmVsID0gbGV2ZWw7XG5cbiAgICBjb25zdCBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscztcbiAgICAvLyBpZiBsZXZlbCBpbmZvIG5vdCByZXRyaWV2ZWQgeWV0LCBzd2l0Y2ggc3RhdGUgYW5kIHdhaXQgZm9yIGxldmVsIHJldHJpZXZhbFxuICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIGVuc3VyZSB0aGF0IG5ldyBwbGF5bGlzdCBoYXMgYmVlbiByZWZyZXNoZWQgdG8gYXZvaWQgbG9hZGluZy90cnkgdG8gbG9hZFxuICAgIC8vIGEgdXNlbGVzcyBhbmQgb3V0ZGF0ZWQgZnJhZ21lbnQgKHRoYXQgbWlnaHQgZXZlbiBpbnRyb2R1Y2UgbG9hZCBlcnJvciBpZiBpdCBpcyBhbHJlYWR5IG91dCBvZiB0aGUgbGl2ZSBwbGF5bGlzdClcbiAgICBpZiAoXG4gICAgICAhbGV2ZWxEZXRhaWxzIHx8XG4gICAgICB0aGlzLnN0YXRlID09PSBTdGF0ZS5XQUlUSU5HX0xFVkVMIHx8XG4gICAgICAobGV2ZWxEZXRhaWxzLmxpdmUgJiYgdGhpcy5sZXZlbExhc3RMb2FkZWQgIT09IGxldmVsSW5mbylcbiAgICApIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0xFVkVMO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuO1xuXG4gICAgLy8gY29tcHV0ZSBtYXggQnVmZmVyIExlbmd0aCB0aGF0IHdlIGNvdWxkIGdldCBmcm9tIHRoaXMgbG9hZCBsZXZlbCwgYmFzZWQgb24gbGV2ZWwgYml0cmF0ZS4gZG9uJ3QgYnVmZmVyIG1vcmUgdGhhbiA2MCBNQiBhbmQgbW9yZSB0aGFuIDMwc1xuICAgIGNvbnN0IG1heEJ1ZkxlbiA9IHRoaXMuZ2V0TWF4QnVmZmVyTGVuZ3RoKGxldmVsSW5mby5tYXhCaXRyYXRlKTtcblxuICAgIC8vIFN0YXkgaWRsZSBpZiB3ZSBhcmUgc3RpbGwgd2l0aCBidWZmZXIgbWFyZ2luc1xuICAgIGlmIChidWZmZXJMZW4gPj0gbWF4QnVmTGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCAmJlxuICAgICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudC5zdGFydCA+IGJ1ZmZlckluZm8uZW5kXG4gICAgKSB7XG4gICAgICB0aGlzLmJhY2t0cmFja0ZyYWdtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0QnVmZmVyVGltZSA9IHRoaXMuYmFja3RyYWNrRnJhZ21lbnRcbiAgICAgID8gdGhpcy5iYWNrdHJhY2tGcmFnbWVudC5zdGFydFxuICAgICAgOiBidWZmZXJJbmZvLmVuZDtcbiAgICBsZXQgZnJhZyA9IHRoaXMuZ2V0TmV4dEZyYWdtZW50KHRhcmdldEJ1ZmZlclRpbWUsIGxldmVsRGV0YWlscyk7XG4gICAgLy8gQXZvaWQgYmFja3RyYWNraW5nIGJ5IGxvYWRpbmcgYW4gZWFybGllciBzZWdtZW50IGluIHN0cmVhbXMgd2l0aCBzZWdtZW50cyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGEga2V5IGZyYW1lIChmbGFnZ2VkIGJ5IGBjb3VsZEJhY2t0cmFja2ApXG4gICAgaWYgKFxuICAgICAgdGhpcy5jb3VsZEJhY2t0cmFjayAmJlxuICAgICAgIXRoaXMuZnJhZ1ByZXZpb3VzICYmXG4gICAgICBmcmFnICYmXG4gICAgICBmcmFnLnNuICE9PSAnaW5pdFNlZ21lbnQnICYmXG4gICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKSAhPT0gRnJhZ21lbnRTdGF0ZS5PS1xuICAgICkge1xuICAgICAgY29uc3QgYmFja3RyYWNrU24gPSAodGhpcy5iYWNrdHJhY2tGcmFnbWVudCA/PyBmcmFnKS5zbiBhcyBudW1iZXI7XG4gICAgICBjb25zdCBmcmFnSWR4ID0gYmFja3RyYWNrU24gLSBsZXZlbERldGFpbHMuc3RhcnRTTjtcbiAgICAgIGNvbnN0IGJhY2t0cmFja0ZyYWcgPSBsZXZlbERldGFpbHMuZnJhZ21lbnRzW2ZyYWdJZHggLSAxXTtcbiAgICAgIGlmIChiYWNrdHJhY2tGcmFnICYmIGZyYWcuY2MgPT09IGJhY2t0cmFja0ZyYWcuY2MpIHtcbiAgICAgICAgZnJhZyA9IGJhY2t0cmFja0ZyYWc7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGJhY2t0cmFja0ZyYWcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5iYWNrdHJhY2tGcmFnbWVudCAmJiBidWZmZXJJbmZvLmxlbikge1xuICAgICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCA9IG51bGw7XG4gICAgfVxuICAgIC8vIEF2b2lkIGxvb3AgbG9hZGluZyBieSB1c2luZyBuZXh0TG9hZFBvc2l0aW9uIHNldCBmb3IgYmFja3RyYWNraW5nIGFuZCBza2lwcGluZyBjb25zZWN1dGl2ZSBHQVAgdGFnc1xuICAgIGlmIChmcmFnICYmIHRoaXMuaXNMb29wTG9hZGluZyhmcmFnLCB0YXJnZXRCdWZmZXJUaW1lKSkge1xuICAgICAgY29uc3QgZ2FwU3RhcnQgPSBmcmFnLmdhcDtcbiAgICAgIGlmICghZ2FwU3RhcnQpIHtcbiAgICAgICAgLy8gQ2xlYW51cCB0aGUgZnJhZ21lbnQgdHJhY2tlciBiZWZvcmUgdHJ5aW5nIHRvIGZpbmQgdGhlIG5leHQgdW5idWZmZXJlZCBmcmFnbWVudFxuICAgICAgICBjb25zdCB0eXBlID1cbiAgICAgICAgICB0aGlzLmF1ZGlvT25seSAmJiAhdGhpcy5hbHRBdWRpb1xuICAgICAgICAgICAgPyBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU9cbiAgICAgICAgICAgIDogRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPO1xuICAgICAgICBjb25zdCBtZWRpYUJ1ZmZlciA9XG4gICAgICAgICAgKHR5cGUgPT09IEVsZW1lbnRhcnlTdHJlYW1UeXBlcy5WSURFT1xuICAgICAgICAgICAgPyB0aGlzLnZpZGVvQnVmZmVyXG4gICAgICAgICAgICA6IHRoaXMubWVkaWFCdWZmZXIpIHx8IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYUJ1ZmZlcikge1xuICAgICAgICAgIHRoaXMuYWZ0ZXJCdWZmZXJGbHVzaGVkKG1lZGlhQnVmZmVyLCB0eXBlLCBQbGF5bGlzdExldmVsVHlwZS5NQUlOKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnJhZyA9IHRoaXMuZ2V0TmV4dEZyYWdtZW50TG9vcExvYWRpbmcoXG4gICAgICAgIGZyYWcsXG4gICAgICAgIGxldmVsRGV0YWlscyxcbiAgICAgICAgYnVmZmVySW5mbyxcbiAgICAgICAgUGxheWxpc3RMZXZlbFR5cGUuTUFJTixcbiAgICAgICAgbWF4QnVmTGVuLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmcmFnLmluaXRTZWdtZW50ICYmICFmcmFnLmluaXRTZWdtZW50LmRhdGEgJiYgIXRoaXMuYml0cmF0ZVRlc3QpIHtcbiAgICAgIGZyYWcgPSBmcmFnLmluaXRTZWdtZW50O1xuICAgIH1cblxuICAgIHRoaXMubG9hZEZyYWdtZW50KGZyYWcsIGxldmVsSW5mbywgdGFyZ2V0QnVmZmVyVGltZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgbG9hZEZyYWdtZW50KFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIGxldmVsOiBMZXZlbCxcbiAgICB0YXJnZXRCdWZmZXJUaW1lOiBudW1iZXIsXG4gICkge1xuICAgIC8vIENoZWNrIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWRcbiAgICBjb25zdCBmcmFnU3RhdGUgPSB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKTtcbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gZnJhZztcbiAgICBpZiAoXG4gICAgICBmcmFnU3RhdGUgPT09IEZyYWdtZW50U3RhdGUuTk9UX0xPQURFRCB8fFxuICAgICAgZnJhZ1N0YXRlID09PSBGcmFnbWVudFN0YXRlLlBBUlRJQUxcbiAgICApIHtcbiAgICAgIGlmIChmcmFnLnNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgIHRoaXMuX2xvYWRJbml0U2VnbWVudChmcmFnLCBsZXZlbCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYml0cmF0ZVRlc3QpIHtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgYEZyYWdtZW50ICR7ZnJhZy5zbn0gb2YgbGV2ZWwgJHtmcmFnLmxldmVsfSBpcyBiZWluZyBkb3dubG9hZGVkIHRvIHRlc3QgYml0cmF0ZSBhbmQgd2lsbCBub3QgYmUgYnVmZmVyZWRgLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9sb2FkQml0cmF0ZVRlc3RGcmFnKGZyYWcsIGxldmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIubG9hZEZyYWdtZW50KGZyYWcsIGxldmVsLCB0YXJnZXRCdWZmZXJUaW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhclRyYWNrZXJJZk5lZWRlZChmcmFnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEJ1ZmZlcmVkRnJhZyhwb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRCdWZmZXJlZEZyYWcoXG4gICAgICBwb3NpdGlvbixcbiAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZm9sbG93aW5nQnVmZmVyZWRGcmFnKGZyYWc6IEZyYWdtZW50IHwgbnVsbCkge1xuICAgIGlmIChmcmFnKSB7XG4gICAgICAvLyB0cnkgdG8gZ2V0IHJhbmdlIG9mIG5leHQgZnJhZ21lbnQgKDUwMG1zIGFmdGVyIHRoaXMgcmFuZ2UpXG4gICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXJlZEZyYWcoZnJhZy5lbmQgKyAwLjUpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qXG4gICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCA6XG4gICAgIC0gcGF1c2UgcGxheWJhY2sgaWYgcGxheWluZ1xuICAgICAtIGNhbmNlbCBhbnkgcGVuZGluZyBsb2FkIHJlcXVlc3RcbiAgICAgLSBhbmQgdHJpZ2dlciBhIGJ1ZmZlciBmbHVzaFxuICAqL1xuICBwdWJsaWMgaW1tZWRpYXRlTGV2ZWxTd2l0Y2goKSB7XG4gICAgdGhpcy5hYm9ydEN1cnJlbnRGcmFnKCk7XG4gICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0cnkgdG8gc3dpdGNoIEFTQVAgd2l0aG91dCBicmVha2luZyB2aWRlbyBwbGF5YmFjazpcbiAgICogaW4gb3JkZXIgdG8gZW5zdXJlIHNtb290aCBidXQgcXVpY2sgbGV2ZWwgc3dpdGNoaW5nLFxuICAgKiB3ZSBuZWVkIHRvIGZpbmQgdGhlIG5leHQgZmx1c2hhYmxlIGJ1ZmZlciByYW5nZVxuICAgKiB3ZSBzaG91bGQgdGFrZSBpbnRvIGFjY291bnQgbmV3IHNlZ21lbnQgZmV0Y2ggdGltZVxuICAgKi9cbiAgcHVibGljIG5leHRMZXZlbFN3aXRjaCgpIHtcbiAgICBjb25zdCB7IGxldmVscywgbWVkaWEgfSA9IHRoaXM7XG4gICAgLy8gZW5zdXJlIHRoYXQgbWVkaWEgaXMgZGVmaW5lZCBhbmQgdGhhdCBtZXRhZGF0YSBhcmUgYXZhaWxhYmxlICh0byByZXRyaWV2ZSBjdXJyZW50VGltZSlcbiAgICBpZiAobWVkaWE/LnJlYWR5U3RhdGUpIHtcbiAgICAgIGxldCBmZXRjaGRlbGF5O1xuICAgICAgY29uc3QgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRBcHBlbmRlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCAmJiBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnQgPiAxKSB7XG4gICAgICAgIC8vIGZsdXNoIGJ1ZmZlciBwcmVjZWRpbmcgY3VycmVudCBmcmFnbWVudCAoZmx1c2ggdW50aWwgY3VycmVudCBmcmFnbWVudCBzdGFydCBvZmZzZXQpXG4gICAgICAgIC8vIG1pbnVzIDFzIHRvIGF2b2lkIHZpZGVvIGZyZWV6aW5nLCB0aGF0IGNvdWxkIGhhcHBlbiBpZiB3ZSBmbHVzaCBrZXlmcmFtZSBvZiBjdXJyZW50IHZpZGVvIC4uLlxuICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnQgLSAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxldmVsRGV0YWlscyA9IHRoaXMuZ2V0TGV2ZWxEZXRhaWxzKCk7XG4gICAgICBpZiAobGV2ZWxEZXRhaWxzPy5saXZlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckluZm8gPSB0aGlzLmdldE1haW5Gd2RCdWZmZXJJbmZvKCk7XG4gICAgICAgIC8vIERvIG5vdCBmbHVzaCBpbiBsaXZlIHN0cmVhbSB3aXRoIGxvdyBidWZmZXJcbiAgICAgICAgaWYgKCFidWZmZXJJbmZvIHx8IGJ1ZmZlckluZm8ubGVuIDwgbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uICogMikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtZWRpYS5wYXVzZWQgJiYgbGV2ZWxzKSB7XG4gICAgICAgIC8vIGFkZCBhIHNhZmV0eSBkZWxheSBvZiAxc1xuICAgICAgICBjb25zdCBuZXh0TGV2ZWxJZCA9IHRoaXMuaGxzLm5leHRMb2FkTGV2ZWw7XG4gICAgICAgIGNvbnN0IG5leHRMZXZlbCA9IGxldmVsc1tuZXh0TGV2ZWxJZF07XG4gICAgICAgIGNvbnN0IGZyYWdMYXN0S2JwcyA9IHRoaXMuZnJhZ0xhc3RLYnBzO1xuICAgICAgICBpZiAoZnJhZ0xhc3RLYnBzICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICBmZXRjaGRlbGF5ID1cbiAgICAgICAgICAgICh0aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uICogbmV4dExldmVsLm1heEJpdHJhdGUpIC9cbiAgICAgICAgICAgICAgKDEwMDAgKiBmcmFnTGFzdEticHMpICtcbiAgICAgICAgICAgIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmV0Y2hkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoZGVsYXkgPSAwO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5sb2coJ2ZldGNoZGVsYXk6JytmZXRjaGRlbGF5KTtcbiAgICAgIC8vIGZpbmQgYnVmZmVyIHJhbmdlIHRoYXQgd2lsbCBiZSByZWFjaGVkIG9uY2UgbmV3IGZyYWdtZW50IHdpbGwgYmUgZmV0Y2hlZFxuICAgICAgY29uc3QgYnVmZmVyZWRGcmFnID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUgKyBmZXRjaGRlbGF5KTtcbiAgICAgIGlmIChidWZmZXJlZEZyYWcpIHtcbiAgICAgICAgLy8gd2UgY2FuIGZsdXNoIGJ1ZmZlciByYW5nZSBmb2xsb3dpbmcgdGhpcyBvbmUgd2l0aG91dCBzdGFsbGluZyBwbGF5YmFja1xuICAgICAgICBjb25zdCBuZXh0QnVmZmVyZWRGcmFnID0gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcoYnVmZmVyZWRGcmFnKTtcbiAgICAgICAgaWYgKG5leHRCdWZmZXJlZEZyYWcpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGVyZSwgd2UgY2FuIGFsc28gY2FuY2VsIGFueSBsb2FkaW5nL2RlbXV4aW5nIGluIHByb2dyZXNzLCBhcyB0aGV5IGFyZSB1c2VsZXNzXG4gICAgICAgICAgdGhpcy5hYm9ydEN1cnJlbnRGcmFnKCk7XG4gICAgICAgICAgLy8gc3RhcnQgZmx1c2ggcG9zaXRpb24gaXMgaW4gbmV4dCBidWZmZXJlZCBmcmFnLiBMZWF2ZSBzb21lIHBhZGRpbmcgZm9yIG5vbi1pbmRlcGVuZGVudCBzZWdtZW50cyBhbmQgc21vb3RoZXIgcGxheWJhY2suXG4gICAgICAgICAgY29uc3QgbWF4U3RhcnQgPSBuZXh0QnVmZmVyZWRGcmFnLm1heFN0YXJ0UFRTXG4gICAgICAgICAgICA/IG5leHRCdWZmZXJlZEZyYWcubWF4U3RhcnRQVFNcbiAgICAgICAgICAgIDogbmV4dEJ1ZmZlcmVkRnJhZy5zdGFydDtcbiAgICAgICAgICBjb25zdCBmcmFnRHVyYXRpb24gPSBuZXh0QnVmZmVyZWRGcmFnLmR1cmF0aW9uO1xuICAgICAgICAgIGNvbnN0IHN0YXJ0UHRzID0gTWF0aC5tYXgoXG4gICAgICAgICAgICBidWZmZXJlZEZyYWcuZW5kLFxuICAgICAgICAgICAgbWF4U3RhcnQgK1xuICAgICAgICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgIGZyYWdEdXJhdGlvbiAtIHRoaXMuY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsXG4gICAgICAgICAgICAgICAgICBmcmFnRHVyYXRpb24gKiAodGhpcy5jb3VsZEJhY2t0cmFjayA/IDAuNSA6IDAuMTI1KSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZyYWdEdXJhdGlvbiAqICh0aGlzLmNvdWxkQmFja3RyYWNrID8gMC43NSA6IDAuMjUpLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoc3RhcnRQdHMsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFib3J0Q3VycmVudEZyYWcoKSB7XG4gICAgY29uc3QgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgIHRoaXMuYmFja3RyYWNrRnJhZ21lbnQgPSBudWxsO1xuICAgIGlmIChmcmFnQ3VycmVudCkge1xuICAgICAgZnJhZ0N1cnJlbnQuYWJvcnRSZXF1ZXN0cygpO1xuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZ0N1cnJlbnQpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgU3RhdGUuS0VZX0xPQURJTkc6XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgIGNhc2UgU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk6XG4gICAgICBjYXNlIFN0YXRlLlBBUlNJTkc6XG4gICAgICBjYXNlIFN0YXRlLlBBUlNFRDpcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLmdldExvYWRQb3NpdGlvbigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGZsdXNoTWFpbkJ1ZmZlcihzdGFydE9mZnNldDogbnVtYmVyLCBlbmRPZmZzZXQ6IG51bWJlcikge1xuICAgIHN1cGVyLmZsdXNoTWFpbkJ1ZmZlcihcbiAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgZW5kT2Zmc2V0LFxuICAgICAgdGhpcy5hbHRBdWRpbyA/ICd2aWRlbycgOiBudWxsLFxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25NZWRpYUF0dGFjaGVkKFxuICAgIGV2ZW50OiBFdmVudHMuTUVESUFfQVRUQUNIRUQsXG4gICAgZGF0YTogTWVkaWFBdHRhY2hlZERhdGEsXG4gICkge1xuICAgIHN1cGVyLm9uTWVkaWFBdHRhY2hlZChldmVudCwgZGF0YSk7XG4gICAgY29uc3QgbWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIHRoaXMub252cGxheWluZyA9IHRoaXMub25NZWRpYVBsYXlpbmcuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9udnNlZWtlZCA9IHRoaXMub25NZWRpYVNlZWtlZC5iaW5kKHRoaXMpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9udnBsYXlpbmcgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgdGhpcy5nYXBDb250cm9sbGVyID0gbmV3IEdhcENvbnRyb2xsZXIoXG4gICAgICB0aGlzLmNvbmZpZyxcbiAgICAgIG1lZGlhLFxuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIsXG4gICAgICB0aGlzLmhscyxcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAobWVkaWEgJiYgdGhpcy5vbnZwbGF5aW5nICYmIHRoaXMub252c2Vla2VkKSB7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgdGhpcy5vbnZwbGF5aW5nKTtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIHRoaXMub252c2Vla2VkKTtcbiAgICAgIHRoaXMub252cGxheWluZyA9IHRoaXMub252c2Vla2VkID0gbnVsbDtcbiAgICAgIHRoaXMudmlkZW9CdWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmZyYWdQbGF5aW5nID0gbnVsbDtcbiAgICBpZiAodGhpcy5nYXBDb250cm9sbGVyKSB7XG4gICAgICB0aGlzLmdhcENvbnRyb2xsZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5nYXBDb250cm9sbGVyID0gbnVsbDtcbiAgICB9XG4gICAgc3VwZXIub25NZWRpYURldGFjaGluZygpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1lZGlhUGxheWluZygpIHtcbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIEZSQUdfQ0hBTkdFRCB0cmlnZ2VyaW5nXG4gICAgdGhpcy50aWNrKCk7XG4gIH1cblxuICBwcml2YXRlIG9uTWVkaWFTZWVrZWQoKSB7XG4gICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IG51bGw7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShjdXJyZW50VGltZSkpIHtcbiAgICAgIHRoaXMubG9nKGBNZWRpYSBzZWVrZWQgdG8gJHsoY3VycmVudFRpbWUgYXMgbnVtYmVyKS50b0ZpeGVkKDMpfWApO1xuICAgIH1cblxuICAgIC8vIElmIHNlZWtlZCB3YXMgaXNzdWVkIGJlZm9yZSBidWZmZXIgd2FzIGFwcGVuZGVkIGRvIG5vdCB0aWNrIGltbWVkaWF0ZWx5XG4gICAgY29uc3QgYnVmZmVySW5mbyA9IHRoaXMuZ2V0TWFpbkZ3ZEJ1ZmZlckluZm8oKTtcbiAgICBpZiAoYnVmZmVySW5mbyA9PT0gbnVsbCB8fCBidWZmZXJJbmZvLmxlbiA9PT0gMCkge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgTWFpbiBmb3J3YXJkIGJ1ZmZlciBsZW5ndGggb24gXCJzZWVrZWRcIiBldmVudCAke1xuICAgICAgICAgIGJ1ZmZlckluZm8gPyBidWZmZXJJbmZvLmxlbiA6ICdlbXB0eSdcbiAgICAgICAgfSlgLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIEZSQUdfQ0hBTkdFRCB0cmlnZ2VyaW5nXG4gICAgdGhpcy50aWNrKCk7XG4gIH1cblxuICBwcml2YXRlIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIC8vIHJlc2V0IGJ1ZmZlciBvbiBtYW5pZmVzdCBsb2FkaW5nXG4gICAgdGhpcy5sb2coJ1RyaWdnZXIgQlVGRkVSX1JFU0VUJyk7XG4gICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX1JFU0VULCB1bmRlZmluZWQpO1xuICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUFsbEZyYWdtZW50cygpO1xuICAgIHRoaXMuY291bGRCYWNrdHJhY2sgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMuZnJhZ0xhc3RLYnBzID0gMDtcbiAgICB0aGlzLmxldmVscyA9XG4gICAgICB0aGlzLmZyYWdQbGF5aW5nID1cbiAgICAgIHRoaXMuYmFja3RyYWNrRnJhZ21lbnQgPVxuICAgICAgdGhpcy5sZXZlbExhc3RMb2FkZWQgPVxuICAgICAgICBudWxsO1xuICAgIHRoaXMuYWx0QXVkaW8gPSB0aGlzLmF1ZGlvT25seSA9IHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIG9uTWFuaWZlc3RQYXJzZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsXG4gICAgZGF0YTogTWFuaWZlc3RQYXJzZWREYXRhLFxuICApIHtcbiAgICAvLyBkZXRlY3QgaWYgd2UgaGF2ZSBkaWZmZXJlbnQga2luZCBvZiBhdWRpbyBjb2RlY3MgdXNlZCBhbW9uZ3N0IHBsYXlsaXN0c1xuICAgIGxldCBhYWMgPSBmYWxzZTtcbiAgICBsZXQgaGVhYWMgPSBmYWxzZTtcbiAgICBkYXRhLmxldmVscy5mb3JFYWNoKChsZXZlbCkgPT4ge1xuICAgICAgY29uc3QgY29kZWMgPSBsZXZlbC5hdWRpb0NvZGVjO1xuICAgICAgaWYgKGNvZGVjKSB7XG4gICAgICAgIGFhYyA9IGFhYyB8fCBjb2RlYy5pbmRleE9mKCdtcDRhLjQwLjInKSAhPT0gLTE7XG4gICAgICAgIGhlYWFjID0gaGVhYWMgfHwgY29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuYXVkaW9Db2RlY1N3aXRjaCA9IGFhYyAmJiBoZWFhYyAmJiAhY2hhbmdlVHlwZVN1cHBvcnRlZCgpO1xuICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2l0Y2gpIHtcbiAgICAgIHRoaXMubG9nKFxuICAgICAgICAnQm90aCBBQUMvSEUtQUFDIGF1ZGlvIGZvdW5kIGluIGxldmVsczsgZGVjbGFyaW5nIGxldmVsIGNvZGVjIGFzIEhFLUFBQycsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbExvYWRpbmcoZXZlbnQ6IEV2ZW50cy5MRVZFTF9MT0FESU5HLCBkYXRhOiBMZXZlbExvYWRpbmdEYXRhKSB7XG4gICAgY29uc3QgeyBsZXZlbHMgfSA9IHRoaXM7XG4gICAgaWYgKCFsZXZlbHMgfHwgdGhpcy5zdGF0ZSAhPT0gU3RhdGUuSURMRSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsZXZlbCA9IGxldmVsc1tkYXRhLmxldmVsXTtcbiAgICBpZiAoXG4gICAgICAhbGV2ZWwuZGV0YWlscyB8fFxuICAgICAgKGxldmVsLmRldGFpbHMubGl2ZSAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbGV2ZWwpIHx8XG4gICAgICB0aGlzLndhaXRGb3JDZG5UdW5lSW4obGV2ZWwuZGV0YWlscylcbiAgICApIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0xFVkVMO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25MZXZlbExvYWRlZChldmVudDogRXZlbnRzLkxFVkVMX0xPQURFRCwgZGF0YTogTGV2ZWxMb2FkZWREYXRhKSB7XG4gICAgY29uc3QgeyBsZXZlbHMgfSA9IHRoaXM7XG4gICAgY29uc3QgbmV3TGV2ZWxJZCA9IGRhdGEubGV2ZWw7XG4gICAgY29uc3QgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICBjb25zdCBkdXJhdGlvbiA9IG5ld0RldGFpbHMudG90YWxkdXJhdGlvbjtcblxuICAgIGlmICghbGV2ZWxzKSB7XG4gICAgICB0aGlzLndhcm4oYExldmVscyB3ZXJlIHJlc2V0IHdoaWxlIGxvYWRpbmcgbGV2ZWwgJHtuZXdMZXZlbElkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxvZyhcbiAgICAgIGBMZXZlbCAke25ld0xldmVsSWR9IGxvYWRlZCBbJHtuZXdEZXRhaWxzLnN0YXJ0U059LCR7bmV3RGV0YWlscy5lbmRTTn1dJHtcbiAgICAgICAgbmV3RGV0YWlscy5sYXN0UGFydFNuXG4gICAgICAgICAgPyBgW3BhcnQtJHtuZXdEZXRhaWxzLmxhc3RQYXJ0U259LSR7bmV3RGV0YWlscy5sYXN0UGFydEluZGV4fV1gXG4gICAgICAgICAgOiAnJ1xuICAgICAgfSwgY2MgWyR7bmV3RGV0YWlscy5zdGFydENDfSwgJHtuZXdEZXRhaWxzLmVuZENDfV0gZHVyYXRpb246JHtkdXJhdGlvbn1gLFxuICAgICk7XG5cbiAgICBjb25zdCBjdXJMZXZlbCA9IGxldmVsc1tuZXdMZXZlbElkXTtcbiAgICBjb25zdCBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgaWYgKFxuICAgICAgZnJhZ0N1cnJlbnQgJiZcbiAgICAgICh0aGlzLnN0YXRlID09PSBTdGF0ZS5GUkFHX0xPQURJTkcgfHxcbiAgICAgICAgdGhpcy5zdGF0ZSA9PT0gU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlkpXG4gICAgKSB7XG4gICAgICBpZiAoZnJhZ0N1cnJlbnQubGV2ZWwgIT09IGRhdGEubGV2ZWwgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgIHRoaXMuYWJvcnRDdXJyZW50RnJhZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBzbGlkaW5nID0gMDtcbiAgICBpZiAobmV3RGV0YWlscy5saXZlIHx8IGN1ckxldmVsLmRldGFpbHM/LmxpdmUpIHtcbiAgICAgIHRoaXMuY2hlY2tMaXZlVXBkYXRlKG5ld0RldGFpbHMpO1xuICAgICAgaWYgKG5ld0RldGFpbHMuZGVsdGFVcGRhdGVGYWlsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2xpZGluZyA9IHRoaXMuYWxpZ25QbGF5bGlzdHMoXG4gICAgICAgIG5ld0RldGFpbHMsXG4gICAgICAgIGN1ckxldmVsLmRldGFpbHMsXG4gICAgICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkPy5kZXRhaWxzLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gb3ZlcnJpZGUgbGV2ZWwgaW5mb1xuICAgIGN1ckxldmVsLmRldGFpbHMgPSBuZXdEZXRhaWxzO1xuICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkID0gY3VyTGV2ZWw7XG5cbiAgICB0aGlzLmhscy50cmlnZ2VyKEV2ZW50cy5MRVZFTF9VUERBVEVELCB7XG4gICAgICBkZXRhaWxzOiBuZXdEZXRhaWxzLFxuICAgICAgbGV2ZWw6IG5ld0xldmVsSWQsXG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciBsZXZlbCB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICBpZiAodGhpcy53YWl0Rm9yQ2RuVHVuZUluKG5ld0RldGFpbHMpKSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIExvdy1MYXRlbmN5IENETiBUdW5lLWluXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhcnRQb3NpdGlvbihuZXdEZXRhaWxzLCBzbGlkaW5nKTtcbiAgICB9IGVsc2UgaWYgKG5ld0RldGFpbHMubGl2ZSkge1xuICAgICAgdGhpcy5zeW5jaHJvbml6ZVRvTGl2ZUVkZ2UobmV3RGV0YWlscyk7XG4gICAgfVxuXG4gICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgIHRoaXMudGljaygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9oYW5kbGVGcmFnbWVudExvYWRQcm9ncmVzcyhkYXRhOiBGcmFnTG9hZGVkRGF0YSkge1xuICAgIGNvbnN0IHsgZnJhZywgcGFydCwgcGF5bG9hZCB9ID0gZGF0YTtcbiAgICBjb25zdCB7IGxldmVscyB9ID0gdGhpcztcbiAgICBpZiAoIWxldmVscykge1xuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgTGV2ZWxzIHdlcmUgcmVzZXQgd2hpbGUgZnJhZ21lbnQgbG9hZCB3YXMgaW4gcHJvZ3Jlc3MuIEZyYWdtZW50ICR7ZnJhZy5zbn0gb2YgbGV2ZWwgJHtmcmFnLmxldmVsfSB3aWxsIG5vdCBiZSBidWZmZXJlZGAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50TGV2ZWwgPSBsZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgY29uc3QgZGV0YWlscyA9IGN1cnJlbnRMZXZlbC5kZXRhaWxzIGFzIExldmVsRGV0YWlscztcbiAgICBpZiAoIWRldGFpbHMpIHtcbiAgICAgIHRoaXMud2FybihcbiAgICAgICAgYERyb3BwaW5nIGZyYWdtZW50ICR7ZnJhZy5zbn0gb2YgbGV2ZWwgJHtmcmFnLmxldmVsfSBhZnRlciBsZXZlbCBkZXRhaWxzIHdlcmUgcmVzZXRgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2aWRlb0NvZGVjID0gY3VycmVudExldmVsLnZpZGVvQ29kZWM7XG5cbiAgICAvLyB0aW1lIE9mZnNldCBpcyBhY2N1cmF0ZSBpZiBsZXZlbCBQVFMgaXMga25vd24sIG9yIGlmIHBsYXlsaXN0IGlzIG5vdCBzbGlkaW5nIChub3QgbGl2ZSlcbiAgICBjb25zdCBhY2N1cmF0ZVRpbWVPZmZzZXQgPSBkZXRhaWxzLlBUU0tub3duIHx8ICFkZXRhaWxzLmxpdmU7XG4gICAgY29uc3QgaW5pdFNlZ21lbnREYXRhID0gZnJhZy5pbml0U2VnbWVudD8uZGF0YTtcbiAgICBjb25zdCBhdWRpb0NvZGVjID0gdGhpcy5fZ2V0QXVkaW9Db2RlYyhjdXJyZW50TGV2ZWwpO1xuXG4gICAgLy8gdHJhbnNtdXggdGhlIE1QRUctVFMgZGF0YSB0byBJU08tQk1GRiBzZWdtZW50c1xuICAgIC8vIHRoaXMubG9nKGBUcmFuc211eGluZyAke2ZyYWcuc259IG9mIFske2RldGFpbHMuc3RhcnRTTn0gLCR7ZGV0YWlscy5lbmRTTn1dLGxldmVsICR7ZnJhZy5sZXZlbH0sIGNjICR7ZnJhZy5jY31gKTtcbiAgICBjb25zdCB0cmFuc211eGVyID0gKHRoaXMudHJhbnNtdXhlciA9XG4gICAgICB0aGlzLnRyYW5zbXV4ZXIgfHxcbiAgICAgIG5ldyBUcmFuc211eGVySW50ZXJmYWNlKFxuICAgICAgICB0aGlzLmhscyxcbiAgICAgICAgUGxheWxpc3RMZXZlbFR5cGUuTUFJTixcbiAgICAgICAgdGhpcy5faGFuZGxlVHJhbnNtdXhDb21wbGV0ZS5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9oYW5kbGVUcmFuc211eGVyRmx1c2guYmluZCh0aGlzKSxcbiAgICAgICkpO1xuICAgIGNvbnN0IHBhcnRJbmRleCA9IHBhcnQgPyBwYXJ0LmluZGV4IDogLTE7XG4gICAgY29uc3QgcGFydGlhbCA9IHBhcnRJbmRleCAhPT0gLTE7XG4gICAgY29uc3QgY2h1bmtNZXRhID0gbmV3IENodW5rTWV0YWRhdGEoXG4gICAgICBmcmFnLmxldmVsLFxuICAgICAgZnJhZy5zbiBhcyBudW1iZXIsXG4gICAgICBmcmFnLnN0YXRzLmNodW5rQ291bnQsXG4gICAgICBwYXlsb2FkLmJ5dGVMZW5ndGgsXG4gICAgICBwYXJ0SW5kZXgsXG4gICAgICBwYXJ0aWFsLFxuICAgICk7XG4gICAgY29uc3QgaW5pdFBUUyA9IHRoaXMuaW5pdFBUU1tmcmFnLmNjXTtcblxuICAgIHRyYW5zbXV4ZXIucHVzaChcbiAgICAgIHBheWxvYWQsXG4gICAgICBpbml0U2VnbWVudERhdGEsXG4gICAgICBhdWRpb0NvZGVjLFxuICAgICAgdmlkZW9Db2RlYyxcbiAgICAgIGZyYWcsXG4gICAgICBwYXJ0LFxuICAgICAgZGV0YWlscy50b3RhbGR1cmF0aW9uLFxuICAgICAgYWNjdXJhdGVUaW1lT2Zmc2V0LFxuICAgICAgY2h1bmtNZXRhLFxuICAgICAgaW5pdFBUUyxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkF1ZGlvVHJhY2tTd2l0Y2hpbmcoXG4gICAgZXZlbnQ6IEV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hJTkcsXG4gICAgZGF0YTogQXVkaW9UcmFja1N3aXRjaGluZ0RhdGEsXG4gICkge1xuICAgIC8vIGlmIGFueSBVUkwgZm91bmQgb24gbmV3IGF1ZGlvIHRyYWNrLCBpdCBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2tcbiAgICBjb25zdCBmcm9tQWx0QXVkaW8gPSB0aGlzLmFsdEF1ZGlvO1xuICAgIGNvbnN0IGFsdEF1ZGlvID0gISFkYXRhLnVybDtcbiAgICAvLyBpZiB3ZSBzd2l0Y2ggb24gbWFpbiBhdWRpbywgZW5zdXJlIHRoYXQgbWFpbiBmcmFnbWVudCBzY2hlZHVsaW5nIGlzIHN5bmNlZCB3aXRoIG1lZGlhLmJ1ZmZlcmVkXG4gICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgd2Ugc3dpdGNoIHRvIGFsdCBhdWRpbzogYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXIgaXMgaGFuZGxpbmcgaXQuXG4gICAgLy8gd2Ugd2lsbCBqdXN0IGhhdmUgdG8gY2hhbmdlIGJ1ZmZlciBzY2hlZHVsaW5nIG9uIGF1ZGlvVHJhY2tTd2l0Y2hlZFxuICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhQnVmZmVyICE9PSB0aGlzLm1lZGlhKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICdTd2l0Y2hpbmcgb24gbWFpbiBhdWRpbywgdXNlIG1lZGlhLmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZycsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhO1xuICAgICAgICBjb25zdCBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVmaWxsIGF1ZGlvIGJ1ZmZlciBmcm9tIG1haW46IGNhbmNlbCBhbnkgZnJhZyBsb2FkaW5nIHRvIHNwZWVkIHVwIGF1ZGlvIHN3aXRjaFxuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICB0aGlzLmxvZygnU3dpdGNoaW5nIHRvIG1haW4gYXVkaW8gdHJhY2ssIGNhbmNlbCBtYWluIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICBmcmFnQ3VycmVudC5hYm9ydFJlcXVlc3RzKCk7XG4gICAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZ0N1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlc3Ryb3kgdHJhbnNtdXhlciB0byBmb3JjZSBpbml0IHNlZ21lbnQgZ2VuZXJhdGlvbiAoZm9sbG93aW5nIGF1ZGlvIHN3aXRjaClcbiAgICAgICAgdGhpcy5yZXNldFRyYW5zbXV4ZXIoKTtcbiAgICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gbG9hZCBuZXcgZnJhZ21lbnRcbiAgICAgICAgdGhpcy5yZXNldExvYWRpbmdTdGF0ZSgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmF1ZGlvT25seSkge1xuICAgICAgICAvLyBSZXNldCBhdWRpbyB0cmFuc211eGVyIHNvIHdoZW4gc3dpdGNoaW5nIGJhY2sgdG8gbWFpbiBhdWRpbyB3ZSdyZSBub3Qgc3RpbGwgYXBwZW5kaW5nIHdoZXJlIHdlIGxlZnQgb2ZmXG4gICAgICAgIHRoaXMucmVzZXRUcmFuc211eGVyKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBobHMgPSB0aGlzLmhscztcbiAgICAgIC8vIElmIHN3aXRjaGluZyBmcm9tIGFsdCB0byBtYWluIGF1ZGlvLCBmbHVzaCBhbGwgYXVkaW8gYW5kIHRyaWdnZXIgdHJhY2sgc3dpdGNoZWRcbiAgICAgIGlmIChmcm9tQWx0QXVkaW8pIHtcbiAgICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkJVRkZFUl9GTFVTSElORywge1xuICAgICAgICAgIHN0YXJ0T2Zmc2V0OiAwLFxuICAgICAgICAgIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVBbGxGcmFnbWVudHMoKTtcbiAgICAgIH1cbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hFRCwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkF1ZGlvVHJhY2tTd2l0Y2hlZChcbiAgICBldmVudDogRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSEVELFxuICAgIGRhdGE6IEF1ZGlvVHJhY2tTd2l0Y2hlZERhdGEsXG4gICkge1xuICAgIGNvbnN0IHRyYWNrSWQgPSBkYXRhLmlkO1xuICAgIGNvbnN0IGFsdEF1ZGlvID0gISF0aGlzLmhscy5hdWRpb1RyYWNrc1t0cmFja0lkXS51cmw7XG4gICAgaWYgKGFsdEF1ZGlvKSB7XG4gICAgICBjb25zdCB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXI7XG4gICAgICAvLyBpZiB3ZSBzd2l0Y2hlZCBvbiBhbHRlcm5hdGUgYXVkaW8sIGVuc3VyZSB0aGF0IG1haW4gZnJhZ21lbnQgc2NoZWR1bGluZyBpcyBzeW5jZWQgd2l0aCB2aWRlbyBzb3VyY2VidWZmZXIgYnVmZmVyZWRcbiAgICAgIGlmICh2aWRlb0J1ZmZlciAmJiB0aGlzLm1lZGlhQnVmZmVyICE9PSB2aWRlb0J1ZmZlcikge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAnU3dpdGNoaW5nIG9uIGFsdGVybmF0ZSBhdWRpbywgdXNlIHZpZGVvLmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZycsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB2aWRlb0J1ZmZlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hbHRBdWRpbyA9IGFsdEF1ZGlvO1xuICAgIHRoaXMudGljaygpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1ZmZlckNyZWF0ZWQoXG4gICAgZXZlbnQ6IEV2ZW50cy5CVUZGRVJfQ1JFQVRFRCxcbiAgICBkYXRhOiBCdWZmZXJDcmVhdGVkRGF0YSxcbiAgKSB7XG4gICAgY29uc3QgdHJhY2tzID0gZGF0YS50cmFja3M7XG4gICAgbGV0IG1lZGlhVHJhY2s7XG4gICAgbGV0IG5hbWU7XG4gICAgbGV0IGFsdGVybmF0ZSA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiB0cmFja3MpIHtcbiAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzW3R5cGVdO1xuICAgICAgaWYgKHRyYWNrLmlkID09PSAnbWFpbicpIHtcbiAgICAgICAgbmFtZSA9IHR5cGU7XG4gICAgICAgIG1lZGlhVHJhY2sgPSB0cmFjaztcbiAgICAgICAgLy8ga2VlcCB2aWRlbyBzb3VyY2UgYnVmZmVyIHJlZmVyZW5jZVxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0cmFja3NbdHlwZV07XG4gICAgICAgICAgaWYgKHZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW9CdWZmZXIgPSB2aWRlb1RyYWNrLmJ1ZmZlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsdGVybmF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhbHRlcm5hdGUgJiYgbWVkaWFUcmFjaykge1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBBbHRlcm5hdGUgdHJhY2sgZm91bmQsIHVzZSAke25hbWV9LmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZ2AsXG4gICAgICApO1xuICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IG1lZGlhVHJhY2suYnVmZmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0J1ZmZlcmVkKGV2ZW50OiBFdmVudHMuRlJBR19CVUZGRVJFRCwgZGF0YTogRnJhZ0J1ZmZlcmVkRGF0YSkge1xuICAgIGNvbnN0IHsgZnJhZywgcGFydCB9ID0gZGF0YTtcbiAgICBpZiAoZnJhZyAmJiBmcmFnLnR5cGUgIT09IFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZnJhZ0NvbnRleHRDaGFuZ2VkKGZyYWcpKSB7XG4gICAgICAvLyBJZiBhIGxldmVsIHN3aXRjaCB3YXMgcmVxdWVzdGVkIHdoaWxlIGEgZnJhZ21lbnQgd2FzIGJ1ZmZlcmluZywgaXQgd2lsbCBlbWl0IHRoZSBGUkFHX0JVRkZFUkVEIGV2ZW50IHVwb24gY29tcGxldGlvblxuICAgICAgLy8gQXZvaWQgc2V0dGluZyBzdGF0ZSBiYWNrIHRvIElETEUsIHNpbmNlIHRoYXQgd2lsbCBpbnRlcmZlcmUgd2l0aCBhIGxldmVsIHN3aXRjaFxuICAgICAgdGhpcy53YXJuKFxuICAgICAgICBgRnJhZ21lbnQgJHtmcmFnLnNufSR7cGFydCA/ICcgcDogJyArIHBhcnQuaW5kZXggOiAnJ30gb2YgbGV2ZWwgJHtcbiAgICAgICAgICBmcmFnLmxldmVsXG4gICAgICAgIH0gZmluaXNoZWQgYnVmZmVyaW5nLCBidXQgd2FzIGFib3J0ZWQuIHN0YXRlOiAke3RoaXMuc3RhdGV9YCxcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0VEKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdGF0cyA9IHBhcnQgPyBwYXJ0LnN0YXRzIDogZnJhZy5zdGF0cztcbiAgICB0aGlzLmZyYWdMYXN0S2JwcyA9IE1hdGgucm91bmQoXG4gICAgICAoOCAqIHN0YXRzLnRvdGFsKSAvIChzdGF0cy5idWZmZXJpbmcuZW5kIC0gc3RhdHMubG9hZGluZy5maXJzdCksXG4gICAgKTtcbiAgICBpZiAoZnJhZy5zbiAhPT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgIH1cbiAgICB0aGlzLmZyYWdCdWZmZXJlZENvbXBsZXRlKGZyYWcsIHBhcnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkVycm9yKGV2ZW50OiBFdmVudHMuRVJST1IsIGRhdGE6IEVycm9yRGF0YSkge1xuICAgIGlmIChkYXRhLmZhdGFsKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRVJST1I7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5GUkFHX0dBUDpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfUEFSU0lOR19FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfREVDUllQVF9FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1I6XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICB0aGlzLm9uRnJhZ21lbnRPcktleUxvYWRFcnJvcihQbGF5bGlzdExldmVsVHlwZS5NQUlOLCBkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuTEVWRUxfUEFSU0lOR19FUlJPUjpcbiAgICAgICAgLy8gaW4gY2FzZSBvZiBub24gZmF0YWwgZXJyb3Igd2hpbGUgbG9hZGluZyBsZXZlbCwgaWYgbGV2ZWwgY29udHJvbGxlciBpcyBub3QgcmV0cnlpbmcgdG8gbG9hZCBsZXZlbCwgc3dpdGNoIGJhY2sgdG8gSURMRVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIWRhdGEubGV2ZWxSZXRyeSAmJlxuICAgICAgICAgIHRoaXMuc3RhdGUgPT09IFN0YXRlLldBSVRJTkdfTEVWRUwgJiZcbiAgICAgICAgICBkYXRhLmNvbnRleHQ/LnR5cGUgPT09IFBsYXlsaXN0Q29udGV4dFR5cGUuTEVWRUxcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5EX0VSUk9SOlxuICAgICAgY2FzZSBFcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgIGlmICghZGF0YS5wYXJlbnQgfHwgZGF0YS5wYXJlbnQgIT09ICdtYWluJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kZXRhaWxzID09PSBFcnJvckRldGFpbHMuQlVGRkVSX0FQUEVORF9FUlJPUikge1xuICAgICAgICAgIHRoaXMucmVzZXRMb2FkaW5nU3RhdGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVkdWNlTGVuZ3RoQW5kRmx1c2hCdWZmZXIoZGF0YSkpIHtcbiAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OOlxuICAgICAgICB0aGlzLnJlY292ZXJXb3JrZXJFcnJvcihkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBDaGVja3MgdGhlIGhlYWx0aCBvZiB0aGUgYnVmZmVyIGFuZCBhdHRlbXB0cyB0byByZXNvbHZlIHBsYXliYWNrIHN0YWxscy5cbiAgcHJpdmF0ZSBjaGVja0J1ZmZlcigpIHtcbiAgICBjb25zdCB7IG1lZGlhLCBnYXBDb250cm9sbGVyIH0gPSB0aGlzO1xuICAgIGlmICghbWVkaWEgfHwgIWdhcENvbnRyb2xsZXIgfHwgIW1lZGlhLnJlYWR5U3RhdGUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBtZWRpYSBvciBpZiB0aGUgbWVkaWEgaGFzbid0IGJ1ZmZlcmVkIGFueXRoaW5nIHlldCAocmVhZHlTdGF0ZSAwKVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxvYWRlZG1ldGFkYXRhIHx8ICFCdWZmZXJIZWxwZXIuZ2V0QnVmZmVyZWQobWVkaWEpLmxlbmd0aCkge1xuICAgICAgLy8gUmVzb2x2ZSBnYXBzIHVzaW5nIHRoZSBtYWluIGJ1ZmZlciwgd2hvc2UgcmFuZ2VzIGFyZSB0aGUgaW50ZXJzZWN0aW9ucyBvZiB0aGUgQS9WIHNvdXJjZWJ1ZmZlcnNcbiAgICAgIGNvbnN0IGFjdGl2ZUZyYWcgPSB0aGlzLnN0YXRlICE9PSBTdGF0ZS5JRExFID8gdGhpcy5mcmFnQ3VycmVudCA6IG51bGw7XG4gICAgICBnYXBDb250cm9sbGVyLnBvbGwodGhpcy5sYXN0Q3VycmVudFRpbWUsIGFjdGl2ZUZyYWcpO1xuICAgIH1cblxuICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gIH1cblxuICBwcml2YXRlIG9uRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkKCkge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIC8vIGlmIGxvYWRlZG1ldGFkYXRhIGlzIG5vdCBzZXQsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGVtZXJnZW5jeSBzd2l0Y2ggZG93biBvbiBmaXJzdCBmcmFnXG4gICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICB9XG4gICAgdGhpcy50aWNrSW1tZWRpYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIG9uQnVmZmVyRmx1c2hlZChcbiAgICBldmVudDogRXZlbnRzLkJVRkZFUl9GTFVTSEVELFxuICAgIHsgdHlwZSB9OiBCdWZmZXJGbHVzaGVkRGF0YSxcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZSAhPT0gRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPIHx8XG4gICAgICAodGhpcy5hdWRpb09ubHkgJiYgIXRoaXMuYWx0QXVkaW8pXG4gICAgKSB7XG4gICAgICBjb25zdCBtZWRpYUJ1ZmZlciA9XG4gICAgICAgICh0eXBlID09PSBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU9cbiAgICAgICAgICA/IHRoaXMudmlkZW9CdWZmZXJcbiAgICAgICAgICA6IHRoaXMubWVkaWFCdWZmZXIpIHx8IHRoaXMubWVkaWE7XG4gICAgICB0aGlzLmFmdGVyQnVmZmVyRmx1c2hlZChtZWRpYUJ1ZmZlciwgdHlwZSwgUGxheWxpc3RMZXZlbFR5cGUuTUFJTik7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uTGV2ZWxzVXBkYXRlZChcbiAgICBldmVudDogRXZlbnRzLkxFVkVMU19VUERBVEVELFxuICAgIGRhdGE6IExldmVsc1VwZGF0ZWREYXRhLFxuICApIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IC0xICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgIHRoaXMubGV2ZWwgPSB0aGlzLmZyYWdDdXJyZW50LmxldmVsO1xuICAgIH1cbiAgICB0aGlzLmxldmVscyA9IGRhdGEubGV2ZWxzO1xuICB9XG5cbiAgcHVibGljIHN3YXBBdWRpb0NvZGVjKCkge1xuICAgIHRoaXMuYXVkaW9Db2RlY1N3YXAgPSAhdGhpcy5hdWRpb0NvZGVjU3dhcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWVrcyB0byB0aGUgc2V0IHN0YXJ0UG9zaXRpb24gaWYgbm90IGVxdWFsIHRvIHRoZSBtZWRpYUVsZW1lbnQncyBjdXJyZW50IHRpbWUuXG4gICAqL1xuICBwcm90ZWN0ZWQgc2Vla1RvU3RhcnRQb3MoKSB7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gdGhpcztcbiAgICBpZiAoIW1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgbGV0IHN0YXJ0UG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgLy8gb25seSBhZGp1c3QgY3VycmVudFRpbWUgaWYgZGlmZmVyZW50IGZyb20gc3RhcnRQb3NpdGlvbiBvciBpZiBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZFxuICAgIC8vIGF0IHRoYXQgc3RhZ2UsIHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBidWZmZXJlZCByYW5nZSwgYXMgd2UgcmVhY2ggdGhhdCBjb2RlIGFmdGVyIGZpcnN0IGZyYWdtZW50IGhhcyBiZWVuIGJ1ZmZlcmVkXG4gICAgaWYgKHN0YXJ0UG9zaXRpb24gPj0gMCAmJiBjdXJyZW50VGltZSA8IHN0YXJ0UG9zaXRpb24pIHtcbiAgICAgIGlmIChtZWRpYS5zZWVraW5nKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBjb3VsZCBub3Qgc2VlayB0byAke3N0YXJ0UG9zaXRpb259LCBhbHJlYWR5IHNlZWtpbmcgYXQgJHtjdXJyZW50VGltZX1gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBidWZmZXJlZCA9IEJ1ZmZlckhlbHBlci5nZXRCdWZmZXJlZChtZWRpYSk7XG4gICAgICBjb25zdCBidWZmZXJTdGFydCA9IGJ1ZmZlcmVkLmxlbmd0aCA/IGJ1ZmZlcmVkLnN0YXJ0KDApIDogMDtcbiAgICAgIGNvbnN0IGRlbHRhID0gYnVmZmVyU3RhcnQgLSBzdGFydFBvc2l0aW9uO1xuICAgICAgaWYgKFxuICAgICAgICBkZWx0YSA+IDAgJiZcbiAgICAgICAgKGRlbHRhIDwgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSB8fFxuICAgICAgICAgIGRlbHRhIDwgdGhpcy5jb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmxvZyhgYWRqdXN0aW5nIHN0YXJ0IHBvc2l0aW9uIGJ5ICR7ZGVsdGF9IHRvIG1hdGNoIGJ1ZmZlciBzdGFydGApO1xuICAgICAgICBzdGFydFBvc2l0aW9uICs9IGRlbHRhO1xuICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBzZWVrIHRvIHRhcmdldCBzdGFydCBwb3NpdGlvbiAke3N0YXJ0UG9zaXRpb259IGZyb20gY3VycmVudCB0aW1lICR7Y3VycmVudFRpbWV9YCxcbiAgICAgICk7XG4gICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0QXVkaW9Db2RlYyhjdXJyZW50TGV2ZWwpIHtcbiAgICBsZXQgYXVkaW9Db2RlYyA9IHRoaXMuY29uZmlnLmRlZmF1bHRBdWRpb0NvZGVjIHx8IGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjO1xuICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2FwICYmIGF1ZGlvQ29kZWMpIHtcbiAgICAgIHRoaXMubG9nKCdTd2FwcGluZyBhdWRpbyBjb2RlYycpO1xuICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXVkaW9Db2RlYztcbiAgfVxuXG4gIHByaXZhdGUgX2xvYWRCaXRyYXRlVGVzdEZyYWcoZnJhZzogRnJhZ21lbnQsIGxldmVsOiBMZXZlbCkge1xuICAgIGZyYWcuYml0cmF0ZVRlc3QgPSB0cnVlO1xuICAgIHRoaXMuX2RvRnJhZ0xvYWQoZnJhZywgbGV2ZWwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgaGxzIH0gPSB0aGlzO1xuICAgICAgaWYgKCFkYXRhIHx8IHRoaXMuZnJhZ0NvbnRleHRDaGFuZ2VkKGZyYWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSAwO1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5iaXRyYXRlVGVzdCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc3RhdHMgPSBmcmFnLnN0YXRzO1xuICAgICAgLy8gQml0cmF0ZSB0ZXN0cyBmcmFnbWVudHMgYXJlIG5laXRoZXIgcGFyc2VkIG5vciBidWZmZXJlZFxuICAgICAgc3RhdHMucGFyc2luZy5zdGFydCA9XG4gICAgICAgIHN0YXRzLnBhcnNpbmcuZW5kID1cbiAgICAgICAgc3RhdHMuYnVmZmVyaW5nLnN0YXJ0ID1cbiAgICAgICAgc3RhdHMuYnVmZmVyaW5nLmVuZCA9XG4gICAgICAgICAgc2VsZi5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5GUkFHX0xPQURFRCwgZGF0YSBhcyBGcmFnTG9hZGVkRGF0YSk7XG4gICAgICBmcmFnLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVUcmFuc211eENvbXBsZXRlKHRyYW5zbXV4UmVzdWx0OiBUcmFuc211eGVyUmVzdWx0KSB7XG4gICAgY29uc3QgaWQgPSAnbWFpbic7XG4gICAgY29uc3QgeyBobHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyByZW11eFJlc3VsdCwgY2h1bmtNZXRhIH0gPSB0cmFuc211eFJlc3VsdDtcblxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmdldEN1cnJlbnRDb250ZXh0KGNodW5rTWV0YSk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICB0aGlzLnJlc2V0V2hlbk1pc3NpbmdDb250ZXh0KGNodW5rTWV0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgZnJhZywgcGFydCwgbGV2ZWwgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgeyB2aWRlbywgdGV4dCwgaWQzLCBpbml0U2VnbWVudCB9ID0gcmVtdXhSZXN1bHQ7XG4gICAgY29uc3QgeyBkZXRhaWxzIH0gPSBsZXZlbDtcbiAgICAvLyBUaGUgYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIgaGFuZGxlcyBhdWRpbyBidWZmZXJpbmcgaWYgSGxzLmpzIGlzIHBsYXlpbmcgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgY29uc3QgYXVkaW8gPSB0aGlzLmFsdEF1ZGlvID8gdW5kZWZpbmVkIDogcmVtdXhSZXN1bHQuYXVkaW87XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBmcmFnbWVudCBoYXMgYmVlbiBhYm9ydGVkLiBXZSBjaGVjayB0aGlzIGJ5IGZpcnN0IHNlZWluZyBpZiB3ZSdyZSBzdGlsbCBwbGF5aW5nIHRoZSBjdXJyZW50IGxldmVsLlxuICAgIC8vIElmIHdlIGFyZSwgc3Vic2VxdWVudGx5IGNoZWNrIGlmIHRoZSBjdXJyZW50bHkgbG9hZGluZyBmcmFnbWVudCAoZnJhZ0N1cnJlbnQpIGhhcyBjaGFuZ2VkLlxuICAgIGlmICh0aGlzLmZyYWdDb250ZXh0Q2hhbmdlZChmcmFnKSkge1xuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlBBUlNJTkc7XG5cbiAgICBpZiAoaW5pdFNlZ21lbnQpIHtcbiAgICAgIGlmIChpbml0U2VnbWVudD8udHJhY2tzKSB7XG4gICAgICAgIGNvbnN0IG1hcEZyYWdtZW50ID0gZnJhZy5pbml0U2VnbWVudCB8fCBmcmFnO1xuICAgICAgICB0aGlzLl9idWZmZXJJbml0U2VnbWVudChcbiAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICBpbml0U2VnbWVudC50cmFja3MsXG4gICAgICAgICAgbWFwRnJhZ21lbnQsXG4gICAgICAgICAgY2h1bmtNZXRhLFxuICAgICAgICApO1xuICAgICAgICBobHMudHJpZ2dlcihFdmVudHMuRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwge1xuICAgICAgICAgIGZyYWc6IG1hcEZyYWdtZW50LFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRyYWNrczogaW5pdFNlZ21lbnQudHJhY2tzLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyB3b3VsZCBiZSBuaWNlIGlmIE51bWJlci5pc0Zpbml0ZSBhY3RlZCBhcyBhIHR5cGVndWFyZCwgYnV0IGl0IGRvZXNuJ3QuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMDAzOFxuICAgICAgY29uc3QgaW5pdFBUUyA9IGluaXRTZWdtZW50LmluaXRQVFMgYXMgbnVtYmVyO1xuICAgICAgY29uc3QgdGltZXNjYWxlID0gaW5pdFNlZ21lbnQudGltZXNjYWxlIGFzIG51bWJlcjtcbiAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaW5pdFBUUykpIHtcbiAgICAgICAgdGhpcy5pbml0UFRTW2ZyYWcuY2NdID0geyBiYXNlVGltZTogaW5pdFBUUywgdGltZXNjYWxlIH07XG4gICAgICAgIGhscy50cmlnZ2VyKEV2ZW50cy5JTklUX1BUU19GT1VORCwgeyBmcmFnLCBpZCwgaW5pdFBUUywgdGltZXNjYWxlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEF2b2lkIGJ1ZmZlcmluZyBpZiBiYWNrdHJhY2tpbmcgdGhpcyBmcmFnbWVudFxuICAgIGlmICh2aWRlbyAmJiBkZXRhaWxzICYmIGZyYWcuc24gIT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgIGNvbnN0IHByZXZGcmFnID0gZGV0YWlscy5mcmFnbWVudHNbZnJhZy5zbiAtIDEgLSBkZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgY29uc3QgaXNGaXJzdEZyYWdtZW50ID0gZnJhZy5zbiA9PT0gZGV0YWlscy5zdGFydFNOO1xuICAgICAgY29uc3QgaXNGaXJzdEluRGlzY29udGludWl0eSA9ICFwcmV2RnJhZyB8fCBmcmFnLmNjID4gcHJldkZyYWcuY2M7XG4gICAgICBpZiAocmVtdXhSZXN1bHQuaW5kZXBlbmRlbnQgIT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRQVFMsIGVuZFBUUywgc3RhcnREVFMsIGVuZERUUyB9ID0gdmlkZW87XG4gICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgcGFydC5lbGVtZW50YXJ5U3RyZWFtc1t2aWRlby50eXBlXSA9IHtcbiAgICAgICAgICAgIHN0YXJ0UFRTLFxuICAgICAgICAgICAgZW5kUFRTLFxuICAgICAgICAgICAgc3RhcnREVFMsXG4gICAgICAgICAgICBlbmREVFMsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB2aWRlby5maXJzdEtleUZyYW1lICYmXG4gICAgICAgICAgICB2aWRlby5pbmRlcGVuZGVudCAmJlxuICAgICAgICAgICAgY2h1bmtNZXRhLmlkID09PSAxICYmXG4gICAgICAgICAgICAhaXNGaXJzdEluRGlzY29udGludWl0eVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5jb3VsZEJhY2t0cmFjayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2aWRlby5kcm9wcGVkICYmIHZpZGVvLmluZGVwZW5kZW50KSB7XG4gICAgICAgICAgICAvLyBCYWNrdHJhY2sgaWYgZHJvcHBlZCBmcmFtZXMgY3JlYXRlIGEgZ2FwIGFmdGVyIGN1cnJlbnRUaW1lXG5cbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckluZm8gPSB0aGlzLmdldE1haW5Gd2RCdWZmZXJJbmZvKCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCdWZmZXJUaW1lID1cbiAgICAgICAgICAgICAgKGJ1ZmZlckluZm8gPyBidWZmZXJJbmZvLmVuZCA6IHRoaXMuZ2V0TG9hZFBvc2l0aW9uKCkpICtcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHZpZGVvLmZpcnN0S2V5RnJhbWVQVFNcbiAgICAgICAgICAgICAgPyB2aWRlby5maXJzdEtleUZyYW1lUFRTXG4gICAgICAgICAgICAgIDogc3RhcnRQVFM7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFpc0ZpcnN0RnJhZ21lbnQgJiZcbiAgICAgICAgICAgICAgdGFyZ2V0QnVmZmVyVGltZSA8IHN0YXJ0VGltZSAtIHRoaXMuY29uZmlnLm1heEJ1ZmZlckhvbGUgJiZcbiAgICAgICAgICAgICAgIWlzRmlyc3RJbkRpc2NvbnRpbnVpdHlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0aGlzLmJhY2t0cmFjayhmcmFnKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0ZpcnN0SW5EaXNjb250aW51aXR5KSB7XG4gICAgICAgICAgICAgIC8vIE1hcmsgc2VnbWVudCB3aXRoIGEgZ2FwIHRvIGF2b2lkIGxvb3AgbG9hZGluZ1xuICAgICAgICAgICAgICBmcmFnLmdhcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdmlkZW8gc3RyZWFtIHN0YXJ0IHRvIGZyYWdtZW50IHN0YXJ0IHNvIHRoYXQgdHJ1bmNhdGVkIHNhbXBsZXMgZG8gbm90IGRpc3RvcnQgdGhlIHRpbWVsaW5lLCBhbmQgbWFyayBpdCBwYXJ0aWFsXG4gICAgICAgICAgICBmcmFnLnNldEVsZW1lbnRhcnlTdHJlYW1JbmZvKFxuICAgICAgICAgICAgICB2aWRlby50eXBlIGFzIEVsZW1lbnRhcnlTdHJlYW1UeXBlcyxcbiAgICAgICAgICAgICAgZnJhZy5zdGFydCxcbiAgICAgICAgICAgICAgZW5kUFRTLFxuICAgICAgICAgICAgICBmcmFnLnN0YXJ0LFxuICAgICAgICAgICAgICBlbmREVFMsXG4gICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNGaXJzdEZyYWdtZW50ICYmIHN0YXJ0UFRTID4gTUFYX1NUQVJUX0dBUF9KVU1QKSB7XG4gICAgICAgICAgICAvLyBNYXJrIHNlZ21lbnQgd2l0aCBhIGdhcCB0byBza2lwIGxhcmdlIHN0YXJ0IGdhcFxuICAgICAgICAgICAgZnJhZy5nYXAgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFnLnNldEVsZW1lbnRhcnlTdHJlYW1JbmZvKFxuICAgICAgICAgIHZpZGVvLnR5cGUgYXMgRWxlbWVudGFyeVN0cmVhbVR5cGVzLFxuICAgICAgICAgIHN0YXJ0UFRTLFxuICAgICAgICAgIGVuZFBUUyxcbiAgICAgICAgICBzdGFydERUUyxcbiAgICAgICAgICBlbmREVFMsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLmJhY2t0cmFja0ZyYWdtZW50KSB7XG4gICAgICAgICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCA9IGZyYWc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJGcmFnbWVudERhdGEoXG4gICAgICAgICAgdmlkZW8sXG4gICAgICAgICAgZnJhZyxcbiAgICAgICAgICBwYXJ0LFxuICAgICAgICAgIGNodW5rTWV0YSxcbiAgICAgICAgICBpc0ZpcnN0RnJhZ21lbnQgfHwgaXNGaXJzdEluRGlzY29udGludWl0eSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGaXJzdEZyYWdtZW50IHx8IGlzRmlyc3RJbkRpc2NvbnRpbnVpdHkpIHtcbiAgICAgICAgLy8gTWFyayBzZWdtZW50IHdpdGggYSBnYXAgdG8gYXZvaWQgbG9vcCBsb2FkaW5nXG4gICAgICAgIGZyYWcuZ2FwID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmFja3RyYWNrKGZyYWcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvKSB7XG4gICAgICBjb25zdCB7IHN0YXJ0UFRTLCBlbmRQVFMsIHN0YXJ0RFRTLCBlbmREVFMgfSA9IGF1ZGlvO1xuICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgcGFydC5lbGVtZW50YXJ5U3RyZWFtc1tFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU9dID0ge1xuICAgICAgICAgIHN0YXJ0UFRTLFxuICAgICAgICAgIGVuZFBUUyxcbiAgICAgICAgICBzdGFydERUUyxcbiAgICAgICAgICBlbmREVFMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmcmFnLnNldEVsZW1lbnRhcnlTdHJlYW1JbmZvKFxuICAgICAgICBFbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8sXG4gICAgICAgIHN0YXJ0UFRTLFxuICAgICAgICBlbmRQVFMsXG4gICAgICAgIHN0YXJ0RFRTLFxuICAgICAgICBlbmREVFMsXG4gICAgICApO1xuICAgICAgdGhpcy5idWZmZXJGcmFnbWVudERhdGEoYXVkaW8sIGZyYWcsIHBhcnQsIGNodW5rTWV0YSk7XG4gICAgfVxuXG4gICAgaWYgKGRldGFpbHMgJiYgaWQzPy5zYW1wbGVzPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVtaXR0ZWRJRDM6IEZyYWdQYXJzaW5nTWV0YWRhdGFEYXRhID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgZnJhZyxcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgc2FtcGxlczogaWQzLnNhbXBsZXMsXG4gICAgICB9O1xuICAgICAgaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfUEFSU0lOR19NRVRBREFUQSwgZW1pdHRlZElEMyk7XG4gICAgfVxuICAgIGlmIChkZXRhaWxzICYmIHRleHQpIHtcbiAgICAgIGNvbnN0IGVtaXR0ZWRUZXh0OiBGcmFnUGFyc2luZ1VzZXJkYXRhRGF0YSA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGZyYWcsXG4gICAgICAgIGRldGFpbHMsXG4gICAgICAgIHNhbXBsZXM6IHRleHQuc2FtcGxlcyxcbiAgICAgIH07XG4gICAgICBobHMudHJpZ2dlcihFdmVudHMuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBlbWl0dGVkVGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYnVmZmVySW5pdFNlZ21lbnQoXG4gICAgY3VycmVudExldmVsOiBMZXZlbCxcbiAgICB0cmFja3M6IFRyYWNrU2V0LFxuICAgIGZyYWc6IEZyYWdtZW50LFxuICAgIGNodW5rTWV0YTogQ2h1bmtNZXRhZGF0YSxcbiAgKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmF1ZGlvT25seSA9ICEhdHJhY2tzLmF1ZGlvICYmICF0cmFja3MudmlkZW87XG5cbiAgICAvLyBpZiBhdWRpbyB0cmFjayBpcyBleHBlY3RlZCB0byBjb21lIGZyb20gYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXIsIGRpc2NhcmQgYW55IGNvbWluZyBmcm9tIG1haW5cbiAgICBpZiAodGhpcy5hbHRBdWRpbyAmJiAhdGhpcy5hdWRpb09ubHkpIHtcbiAgICAgIGRlbGV0ZSB0cmFja3MuYXVkaW87XG4gICAgfVxuICAgIC8vIGluY2x1ZGUgbGV2ZWxDb2RlYyBpbiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzXG4gICAgY29uc3QgeyBhdWRpbywgdmlkZW8sIGF1ZGlvdmlkZW8gfSA9IHRyYWNrcztcbiAgICBpZiAoYXVkaW8pIHtcbiAgICAgIGxldCBhdWRpb0NvZGVjID0gY3VycmVudExldmVsLmF1ZGlvQ29kZWM7XG4gICAgICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2l0Y2gpIHtcbiAgICAgICAgaWYgKGF1ZGlvQ29kZWMpIHtcbiAgICAgICAgICBpZiAoYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbiB0aGUgY2FzZSB0aGF0IEFBQyBhbmQgSEUtQUFDIGF1ZGlvIGNvZGVjcyBhcmUgc2lnbmFsbGVkIGluIG1hbmlmZXN0LFxuICAgICAgICAvLyBmb3JjZSBIRS1BQUMsIGFzIGl0IHNlZW1zIHRoYXQgbW9zdCBicm93c2VycyBwcmVmZXJzIGl0LlxuICAgICAgICAvLyBkb24ndCBmb3JjZSBIRS1BQUMgaWYgbW9ubyBzdHJlYW0sIG9yIGluIEZpcmVmb3hcbiAgICAgICAgY29uc3QgYXVkaW9NZXRhZGF0YSA9IGF1ZGlvLm1ldGFkYXRhO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYXVkaW9NZXRhZGF0YSAmJlxuICAgICAgICAgICdjaGFubmVsQ291bnQnIGluIGF1ZGlvTWV0YWRhdGEgJiZcbiAgICAgICAgICAoYXVkaW9NZXRhZGF0YS5jaGFubmVsQ291bnQgfHwgMSkgIT09IDEgJiZcbiAgICAgICAgICB1YS5pbmRleE9mKCdmaXJlZm94JykgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gSEUtQUFDIGlzIGJyb2tlbiBvbiBBbmRyb2lkLCBhbHdheXMgc2lnbmFsIGF1ZGlvIGNvZGVjIGFzIEFBQyBldmVuIGlmIHZhcmlhbnQgbWFuaWZlc3Qgc3RhdGVzIG90aGVyd2lzZVxuICAgICAgaWYgKFxuICAgICAgICBhdWRpb0NvZGVjICYmXG4gICAgICAgIGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xICYmXG4gICAgICAgIHVhLmluZGV4T2YoJ2FuZHJvaWQnKSAhPT0gLTEgJiZcbiAgICAgICAgYXVkaW8uY29udGFpbmVyICE9PSAnYXVkaW8vbXBlZydcbiAgICAgICkge1xuICAgICAgICAvLyBFeGNsdWRlIG1wZWcgYXVkaW9cbiAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICB0aGlzLmxvZyhgQW5kcm9pZDogZm9yY2UgYXVkaW8gY29kZWMgdG8gJHthdWRpb0NvZGVjfWApO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjICYmIGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjICE9PSBhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIGBTd2FwcGluZyBtYW5pZmVzdCBhdWRpbyBjb2RlYyBcIiR7Y3VycmVudExldmVsLmF1ZGlvQ29kZWN9XCIgZm9yIFwiJHthdWRpb0NvZGVjfVwiYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGF1ZGlvLmxldmVsQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgYXVkaW8uaWQgPSAnbWFpbic7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYEluaXQgYXVkaW8gYnVmZmVyLCBjb250YWluZXI6JHtcbiAgICAgICAgICBhdWRpby5jb250YWluZXJcbiAgICAgICAgfSwgY29kZWNzW3NlbGVjdGVkL2xldmVsL3BhcnNlZF09WyR7YXVkaW9Db2RlYyB8fCAnJ30vJHtcbiAgICAgICAgICBjdXJyZW50TGV2ZWwuYXVkaW9Db2RlYyB8fCAnJ1xuICAgICAgICB9LyR7YXVkaW8uY29kZWN9XWAsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodmlkZW8pIHtcbiAgICAgIHZpZGVvLmxldmVsQ29kZWMgPSBjdXJyZW50TGV2ZWwudmlkZW9Db2RlYztcbiAgICAgIHZpZGVvLmlkID0gJ21haW4nO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgIGBJbml0IHZpZGVvIGJ1ZmZlciwgY29udGFpbmVyOiR7XG4gICAgICAgICAgdmlkZW8uY29udGFpbmVyXG4gICAgICAgIH0sIGNvZGVjc1tsZXZlbC9wYXJzZWRdPVske2N1cnJlbnRMZXZlbC52aWRlb0NvZGVjIHx8ICcnfS8ke1xuICAgICAgICAgIHZpZGVvLmNvZGVjXG4gICAgICAgIH1dYCxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChhdWRpb3ZpZGVvKSB7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgYEluaXQgYXVkaW92aWRlbyBidWZmZXIsIGNvbnRhaW5lcjoke2F1ZGlvdmlkZW8uY29udGFpbmVyfSwgY29kZWNzW2xldmVsL3BhcnNlZF09WyR7Y3VycmVudExldmVsLmNvZGVjc30vJHthdWRpb3ZpZGVvLmNvZGVjfV1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAvLyBsb29wIHRocm91Z2ggdHJhY2tzIHRoYXQgYXJlIGdvaW5nIHRvIGJlIHByb3ZpZGVkIHRvIGJ1ZmZlckNvbnRyb2xsZXJcbiAgICBPYmplY3Qua2V5cyh0cmFja3MpLmZvckVhY2goKHRyYWNrTmFtZSkgPT4ge1xuICAgICAgY29uc3QgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgIGNvbnN0IGluaXRTZWdtZW50ID0gdHJhY2suaW5pdFNlZ21lbnQ7XG4gICAgICBpZiAoaW5pdFNlZ21lbnQ/LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuQlVGRkVSX0FQUEVORElORywge1xuICAgICAgICAgIHR5cGU6IHRyYWNrTmFtZSBhcyBTb3VyY2VCdWZmZXJOYW1lLFxuICAgICAgICAgIGRhdGE6IGluaXRTZWdtZW50LFxuICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgcGFydDogbnVsbCxcbiAgICAgICAgICBjaHVua01ldGEsXG4gICAgICAgICAgcGFyZW50OiBmcmFnLnR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICB0aGlzLnRpY2tJbW1lZGlhdGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNYWluRndkQnVmZmVySW5mbygpOiBCdWZmZXJJbmZvIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RndkQnVmZmVySW5mbyhcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYSxcbiAgICAgIFBsYXlsaXN0TGV2ZWxUeXBlLk1BSU4sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYmFja3RyYWNrKGZyYWc6IEZyYWdtZW50KSB7XG4gICAgdGhpcy5jb3VsZEJhY2t0cmFjayA9IHRydWU7XG4gICAgLy8gQ2F1c2VzIGZpbmRGcmFnbWVudHMgdG8gYmFja3RyYWNrIHRocm91Z2ggZnJhZ21lbnRzIHRvIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCA9IGZyYWc7XG4gICAgdGhpcy5yZXNldFRyYW5zbXV4ZXIoKTtcbiAgICB0aGlzLmZsdXNoQnVmZmVyR2FwKGZyYWcpO1xuICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0O1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0ZyYWdtZW50Q2hhbmdlZCgpIHtcbiAgICBjb25zdCB2aWRlbyA9IHRoaXMubWVkaWE7XG4gICAgbGV0IGZyYWdQbGF5aW5nQ3VycmVudDogRnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodmlkZW8gJiYgdmlkZW8ucmVhZHlTdGF0ZSA+IDEgJiYgdmlkZW8uc2Vla2luZyA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG4gICAgICAvKiBpZiB2aWRlbyBlbGVtZW50IGlzIGluIHNlZWtlZCBzdGF0ZSwgY3VycmVudFRpbWUgY2FuIG9ubHkgaW5jcmVhc2UuXG4gICAgICAgIChhc3N1bWluZyB0aGF0IHBsYXliYWNrIHJhdGUgaXMgcG9zaXRpdmUgLi4uKVxuICAgICAgICBBcyBzb21ldGltZXMgY3VycmVudFRpbWUganVtcHMgYmFjayB0byB6ZXJvIGFmdGVyIGFcbiAgICAgICAgbWVkaWEgZGVjb2RlIGVycm9yLCBjaGVjayB0aGlzLCB0byBhdm9pZCBzZWVraW5nIGJhY2sgdG9cbiAgICAgICAgd3JvbmcgcG9zaXRpb24gYWZ0ZXIgYSBtZWRpYSBkZWNvZGUgZXJyb3JcbiAgICAgICovXG5cbiAgICAgIGlmIChCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUpKSB7XG4gICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QXBwZW5kZWRGcmFnKGN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodmlkZW8sIGN1cnJlbnRUaW1lICsgMC4xKSkge1xuICAgICAgICAvKiBlbnN1cmUgdGhhdCBGUkFHX0NIQU5HRUQgZXZlbnQgaXMgdHJpZ2dlcmVkIGF0IHN0YXJ0dXAsXG4gICAgICAgICAgd2hlbiBmaXJzdCB2aWRlbyBmcmFtZSBpcyBkaXNwbGF5ZWQgYW5kIHBsYXliYWNrIGlzIHBhdXNlZC5cbiAgICAgICAgICBhZGQgYSB0b2xlcmFuY2Ugb2YgMTAwbXMsIGluIGNhc2UgY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsXG4gICAgICAgICAgY2hlY2sgaWYgY3VycmVudCBwb3MrMTAwbXMgaXMgYnVmZmVyZWQgYW5kIHVzZSB0aGF0IGJ1ZmZlciByYW5nZVxuICAgICAgICAgIGZvciBGUkFHX0NIQU5HRUQgZXZlbnQgcmVwb3J0aW5nICovXG4gICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QXBwZW5kZWRGcmFnKGN1cnJlbnRUaW1lICsgMC4xKTtcbiAgICAgIH1cbiAgICAgIGlmIChmcmFnUGxheWluZ0N1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5iYWNrdHJhY2tGcmFnbWVudCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGZyYWdQbGF5aW5nID0gdGhpcy5mcmFnUGxheWluZztcbiAgICAgICAgY29uc3QgZnJhZ0N1cnJlbnRMZXZlbCA9IGZyYWdQbGF5aW5nQ3VycmVudC5sZXZlbDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFmcmFnUGxheWluZyB8fFxuICAgICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudC5zbiAhPT0gZnJhZ1BsYXlpbmcuc24gfHxcbiAgICAgICAgICBmcmFnUGxheWluZy5sZXZlbCAhPT0gZnJhZ0N1cnJlbnRMZXZlbFxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmZyYWdQbGF5aW5nID0gZnJhZ1BsYXlpbmdDdXJyZW50O1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoRXZlbnRzLkZSQUdfQ0hBTkdFRCwgeyBmcmFnOiBmcmFnUGxheWluZ0N1cnJlbnQgfSk7XG4gICAgICAgICAgaWYgKCFmcmFnUGxheWluZyB8fCBmcmFnUGxheWluZy5sZXZlbCAhPT0gZnJhZ0N1cnJlbnRMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihFdmVudHMuTEVWRUxfU1dJVENIRUQsIHtcbiAgICAgICAgICAgICAgbGV2ZWw6IGZyYWdDdXJyZW50TGV2ZWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgbmV4dExldmVsKCk6IG51bWJlciB7XG4gICAgY29uc3QgZnJhZyA9IHRoaXMubmV4dEJ1ZmZlcmVkRnJhZztcbiAgICBpZiAoZnJhZykge1xuICAgICAgcmV0dXJuIGZyYWcubGV2ZWw7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGdldCBjdXJyZW50RnJhZygpOiBGcmFnbWVudCB8IG51bGwge1xuICAgIGNvbnN0IG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHJldHVybiB0aGlzLmZyYWdQbGF5aW5nIHx8IHRoaXMuZ2V0QXBwZW5kZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXQgY3VycmVudFByb2dyYW1EYXRlVGltZSgpOiBEYXRlIHwgbnVsbCB7XG4gICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcbiAgICAgIGNvbnN0IGZyYWcgPSB0aGlzLmN1cnJlbnRGcmFnO1xuICAgICAgaWYgKFxuICAgICAgICBmcmFnICYmXG4gICAgICAgIE51bWJlci5pc0Zpbml0ZShjdXJyZW50VGltZSkgJiZcbiAgICAgICAgTnVtYmVyLmlzRmluaXRlKGZyYWcucHJvZ3JhbURhdGVUaW1lKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGVwb2NNcyA9XG4gICAgICAgICAgKGZyYWcucHJvZ3JhbURhdGVUaW1lIGFzIG51bWJlcikgKyAoY3VycmVudFRpbWUgLSBmcmFnLnN0YXJ0KSAqIDEwMDA7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShlcG9jTXMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldCBjdXJyZW50TGV2ZWwoKTogbnVtYmVyIHtcbiAgICBjb25zdCBmcmFnID0gdGhpcy5jdXJyZW50RnJhZztcbiAgICBpZiAoZnJhZykge1xuICAgICAgcmV0dXJuIGZyYWcubGV2ZWw7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGdldCBuZXh0QnVmZmVyZWRGcmFnKCkge1xuICAgIGNvbnN0IGZyYWcgPSB0aGlzLmN1cnJlbnRGcmFnO1xuICAgIGlmIChmcmFnKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcoZnJhZyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0IGZvcmNlU3RhcnRMb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9mb3JjZVN0YXJ0TG9hZDtcbiAgfVxufVxuIiwgImltcG9ydCB7IGJ1aWxkQWJzb2x1dGVVUkwgfSBmcm9tICd1cmwtdG9vbGtpdCc7XG5pbXBvcnQgUGxheWxpc3RMb2FkZXIgZnJvbSAnLi9sb2FkZXIvcGxheWxpc3QtbG9hZGVyJztcbmltcG9ydCBJRDNUcmFja0NvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2lkMy10cmFjay1jb250cm9sbGVyJztcbmltcG9ydCBMYXRlbmN5Q29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvbGF0ZW5jeS1jb250cm9sbGVyJztcbmltcG9ydCBMZXZlbENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2xldmVsLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgRnJhZ21lbnRUcmFja2VyIH0gZnJvbSAnLi9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXInO1xuaW1wb3J0IEtleUxvYWRlciBmcm9tICcuL2xvYWRlci9rZXktbG9hZGVyJztcbmltcG9ydCBTdHJlYW1Db250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9zdHJlYW0tY29udHJvbGxlcic7XG5pbXBvcnQgeyBpc01TRVN1cHBvcnRlZCwgaXNTdXBwb3J0ZWQgfSBmcm9tICcuL2lzLXN1cHBvcnRlZCc7XG5pbXBvcnQgeyBnZXRNZWRpYVNvdXJjZSB9IGZyb20gJy4vdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyJztcbmltcG9ydCB7IGxvZ2dlciwgZW5hYmxlTG9ncyB9IGZyb20gJy4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IGVuYWJsZVN0cmVhbWluZ01vZGUsIGhsc0RlZmF1bHRDb25maWcsIG1lcmdlQ29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgeyBFcnJvclR5cGVzLCBFcnJvckRldGFpbHMgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBpc0hkY3BMZXZlbCwgdHlwZSBIZGNwTGV2ZWwsIHR5cGUgTGV2ZWwgfSBmcm9tICcuL3R5cGVzL2xldmVsJztcbmltcG9ydCB0eXBlIHsgSGxzRXZlbnRFbWl0dGVyLCBIbHNMaXN0ZW5lcnMgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgdHlwZSBBdWRpb1RyYWNrQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvYXVkaW8tdHJhY2stY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSBBYnJDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9hYnItY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSBCdWZmZXJDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9idWZmZXItY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSBDYXBMZXZlbENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2NhcC1sZXZlbC1jb250cm9sbGVyJztcbmltcG9ydCB0eXBlIENNQ0RDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9jbWNkLWNvbnRyb2xsZXInO1xuaW1wb3J0IHR5cGUgRU1FQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvZW1lLWNvbnRyb2xsZXInO1xuaW1wb3J0IHR5cGUgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXInO1xuaW1wb3J0IHR5cGUge1xuICBBYnJDb21wb25lbnRBUEksXG4gIENvbXBvbmVudEFQSSxcbiAgTmV0d29ya0NvbXBvbmVudEFQSSxcbn0gZnJvbSAnLi90eXBlcy9jb21wb25lbnQtYXBpJztcbmltcG9ydCB0eXBlIHtcbiAgQXVkaW9TZWxlY3Rpb25PcHRpb24sXG4gIE1lZGlhUGxheWxpc3QsXG4gIFN1YnRpdGxlU2VsZWN0aW9uT3B0aW9uLFxuICBWaWRlb1NlbGVjdGlvbk9wdGlvbixcbn0gZnJvbSAnLi90eXBlcy9tZWRpYS1wbGF5bGlzdCc7XG5pbXBvcnQgdHlwZSB7IEhsc0NvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB0eXBlIHsgQnVmZmVySW5mbyB9IGZyb20gJy4vdXRpbHMvYnVmZmVyLWhlbHBlcic7XG5pbXBvcnQgdHlwZSBBdWRpb1N0cmVhbUNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2F1ZGlvLXN0cmVhbS1jb250cm9sbGVyJztcbmltcG9ydCB0eXBlIEJhc2VQbGF5bGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2Jhc2UtcGxheWxpc3QtY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSBCYXNlU3RyZWFtQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvYmFzZS1zdHJlYW0tY29udHJvbGxlcic7XG5pbXBvcnQgdHlwZSBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9jb250ZW50LXN0ZWVyaW5nLWNvbnRyb2xsZXInO1xuaW1wb3J0IHR5cGUgRXJyb3JDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9lcnJvci1jb250cm9sbGVyJztcbmltcG9ydCB0eXBlIEZQU0NvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyJztcblxuLyoqXG4gKiBUaGUgYEhsc2AgY2xhc3MgaXMgdGhlIGNvcmUgb2YgdGhlIEhMUy5qcyBsaWJyYXJ5IHVzZWQgdG8gaW5zdGFudGlhdGUgcGxheWVyIGluc3RhbmNlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGxzIGltcGxlbWVudHMgSGxzRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgZGVmYXVsdENvbmZpZzogSGxzQ29uZmlnIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgcnVudGltZSBjb25maWd1cmF0aW9uIHVzZWQgYnkgdGhlIHBsYXllci4gQXQgaW5zdGFudGlhdGlvbiB0aGlzIGlzIGNvbWJpbmF0aW9uIG9mIGBobHMudXNlckNvbmZpZ2AgbWVyZ2VkIG92ZXIgYEhscy5EZWZhdWx0Q29uZmlnYC5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBjb25maWc6IEhsc0NvbmZpZztcblxuICAvKipcbiAgICogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHByb3ZpZGVkIG9uIHBsYXllciBpbnN0YW50aWF0aW9uLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHVzZXJDb25maWc6IFBhcnRpYWw8SGxzQ29uZmlnPjtcblxuICBwcml2YXRlIGNvcmVDb21wb25lbnRzOiBDb21wb25lbnRBUElbXTtcbiAgcHJpdmF0ZSBuZXR3b3JrQ29udHJvbGxlcnM6IE5ldHdvcmtDb21wb25lbnRBUElbXTtcbiAgcHJpdmF0ZSBzdGFydGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2VtaXR0ZXI6IEhsc0V2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgcHJpdmF0ZSBfYXV0b0xldmVsQ2FwcGluZzogbnVtYmVyID0gLTE7XG4gIHByaXZhdGUgX21heEhkY3BMZXZlbDogSGRjcExldmVsID0gbnVsbDtcbiAgcHJpdmF0ZSBhYnJDb250cm9sbGVyOiBBYnJDb21wb25lbnRBUEk7XG4gIHByaXZhdGUgYnVmZmVyQ29udHJvbGxlcjogQnVmZmVyQ29udHJvbGxlcjtcbiAgcHJpdmF0ZSBjYXBMZXZlbENvbnRyb2xsZXI6IENhcExldmVsQ29udHJvbGxlcjtcbiAgcHJpdmF0ZSBsYXRlbmN5Q29udHJvbGxlcjogTGF0ZW5jeUNvbnRyb2xsZXI7XG4gIHByaXZhdGUgbGV2ZWxDb250cm9sbGVyOiBMZXZlbENvbnRyb2xsZXI7XG4gIHByaXZhdGUgc3RyZWFtQ29udHJvbGxlcjogU3RyZWFtQ29udHJvbGxlcjtcbiAgcHJpdmF0ZSBhdWRpb1RyYWNrQ29udHJvbGxlcjogQXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gIHByaXZhdGUgc3VidGl0bGVUcmFja0NvbnRyb2xsZXI6IFN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICBwcml2YXRlIGVtZUNvbnRyb2xsZXI6IEVNRUNvbnRyb2xsZXI7XG4gIHByaXZhdGUgY21jZENvbnRyb2xsZXI6IENNQ0RDb250cm9sbGVyO1xuICBwcml2YXRlIF9tZWRpYTogSFRNTE1lZGlhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHVybDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdHJpZ2dlcmluZ0V4Y2VwdGlvbj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlkZW8tZGV2L2hscy5qcyBwYWNrYWdlIHZlcnNpb24uXG4gICAqL1xuICBzdGF0aWMgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gX19WRVJTSU9OX187XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHJlcXVpcmVkIE1lZGlhU291cmNlIEV4dGVuc2lvbnMgYXJlIGF2YWlsYWJsZS5cbiAgICovXG4gIHN0YXRpYyBpc01TRVN1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaXNNU0VTdXBwb3J0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBNZWRpYVNvdXJjZSBFeHRlbnNpb25zIGFyZSBhdmFpbGFibGUgYW5kIGlzVHlwZVN1cHBvcnRlZCBjaGVja3MgcGFzcyBmb3IgYW55IGJhc2VsaW5lIGNvZGVjcy5cbiAgICovXG4gIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaXNTdXBwb3J0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIE1lZGlhU291cmNlIGdsb2JhbCB1c2VkIGZvciBNU0UgcGxheWJhY2sgKE1hbmFnZWRNZWRpYVNvdXJjZSwgTWVkaWFTb3VyY2UsIG9yIFdlYktpdE1lZGlhU291cmNlKS5cbiAgICovXG4gIHN0YXRpYyBnZXRNZWRpYVNvdXJjZSgpOiB0eXBlb2YgTWVkaWFTb3VyY2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBnZXRNZWRpYVNvdXJjZSgpO1xuICB9XG5cbiAgc3RhdGljIGdldCBFdmVudHMoKTogdHlwZW9mIEV2ZW50cyB7XG4gICAgcmV0dXJuIEV2ZW50cztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRXJyb3JUeXBlcygpOiB0eXBlb2YgRXJyb3JUeXBlcyB7XG4gICAgcmV0dXJuIEVycm9yVHlwZXM7XG4gIH1cblxuICBzdGF0aWMgZ2V0IEVycm9yRGV0YWlscygpOiB0eXBlb2YgRXJyb3JEZXRhaWxzIHtcbiAgICByZXR1cm4gRXJyb3JEZXRhaWxzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIGFwcGxpZWQgdG8gbmV3IGluc3RhbmNlcy5cbiAgICovXG4gIHN0YXRpYyBnZXQgRGVmYXVsdENvbmZpZygpOiBIbHNDb25maWcge1xuICAgIGlmICghSGxzLmRlZmF1bHRDb25maWcpIHtcbiAgICAgIHJldHVybiBobHNEZWZhdWx0Q29uZmlnO1xuICAgIH1cblxuICAgIHJldHVybiBIbHMuZGVmYXVsdENvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gYXBwbGllZCB0byBuZXcgaW5zdGFuY2VzLlxuICAgKi9cbiAgc3RhdGljIHNldCBEZWZhdWx0Q29uZmlnKGRlZmF1bHRDb25maWc6IEhsc0NvbmZpZykge1xuICAgIEhscy5kZWZhdWx0Q29uZmlnID0gZGVmYXVsdENvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIEhMUyBjbGllbnQgdGhhdCBjYW4gYXR0YWNoIHRvIGV4YWN0bHkgb25lIGBIVE1MTWVkaWFFbGVtZW50YC5cbiAgICogQHBhcmFtIHVzZXJDb25maWcgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgYXBwbGllZCBvdmVyIGBIbHMuRGVmYXVsdENvbmZpZ2BcbiAgICovXG4gIGNvbnN0cnVjdG9yKHVzZXJDb25maWc6IFBhcnRpYWw8SGxzQ29uZmlnPiA9IHt9KSB7XG4gICAgZW5hYmxlTG9ncyh1c2VyQ29uZmlnLmRlYnVnIHx8IGZhbHNlLCAnSGxzIGluc3RhbmNlJyk7XG4gICAgY29uc3QgY29uZmlnID0gKHRoaXMuY29uZmlnID0gbWVyZ2VDb25maWcoSGxzLkRlZmF1bHRDb25maWcsIHVzZXJDb25maWcpKTtcbiAgICB0aGlzLnVzZXJDb25maWcgPSB1c2VyQ29uZmlnO1xuXG4gICAgaWYgKGNvbmZpZy5wcm9ncmVzc2l2ZSkge1xuICAgICAgZW5hYmxlU3RyZWFtaW5nTW9kZShjb25maWcpO1xuICAgIH1cblxuICAgIC8vIGNvcmUgY29udHJvbGxlcnMgYW5kIG5ldHdvcmsgbG9hZGVyc1xuICAgIGNvbnN0IHtcbiAgICAgIGFickNvbnRyb2xsZXI6IENvbmZpZ0FickNvbnRyb2xsZXIsXG4gICAgICBidWZmZXJDb250cm9sbGVyOiBDb25maWdCdWZmZXJDb250cm9sbGVyLFxuICAgICAgY2FwTGV2ZWxDb250cm9sbGVyOiBDb25maWdDYXBMZXZlbENvbnRyb2xsZXIsXG4gICAgICBlcnJvckNvbnRyb2xsZXI6IENvbmZpZ0Vycm9yQ29udHJvbGxlcixcbiAgICAgIGZwc0NvbnRyb2xsZXI6IENvbmZpZ0Zwc0NvbnRyb2xsZXIsXG4gICAgfSA9IGNvbmZpZztcbiAgICBjb25zdCBlcnJvckNvbnRyb2xsZXIgPSBuZXcgQ29uZmlnRXJyb3JDb250cm9sbGVyKHRoaXMpO1xuICAgIGNvbnN0IGFickNvbnRyb2xsZXIgPSAodGhpcy5hYnJDb250cm9sbGVyID0gbmV3IENvbmZpZ0FickNvbnRyb2xsZXIodGhpcykpO1xuICAgIGNvbnN0IGJ1ZmZlckNvbnRyb2xsZXIgPSAodGhpcy5idWZmZXJDb250cm9sbGVyID1cbiAgICAgIG5ldyBDb25maWdCdWZmZXJDb250cm9sbGVyKHRoaXMpKTtcbiAgICBjb25zdCBjYXBMZXZlbENvbnRyb2xsZXIgPSAodGhpcy5jYXBMZXZlbENvbnRyb2xsZXIgPVxuICAgICAgbmV3IENvbmZpZ0NhcExldmVsQ29udHJvbGxlcih0aGlzKSk7XG5cbiAgICBjb25zdCBmcHNDb250cm9sbGVyID0gbmV3IENvbmZpZ0Zwc0NvbnRyb2xsZXIodGhpcyk7XG4gICAgY29uc3QgcGxheUxpc3RMb2FkZXIgPSBuZXcgUGxheWxpc3RMb2FkZXIodGhpcyk7XG4gICAgY29uc3QgaWQzVHJhY2tDb250cm9sbGVyID0gbmV3IElEM1RyYWNrQ29udHJvbGxlcih0aGlzKTtcblxuICAgIGNvbnN0IENvbmZpZ0NvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXIgPSBjb25maWcuY29udGVudFN0ZWVyaW5nQ29udHJvbGxlcjtcbiAgICAvLyBDb25lbnRTdGVlcmluZ0NvbnRyb2xsZXIgaXMgZGVmaW5lZCBiZWZvcmUgTGV2ZWxDb250cm9sbGVyIHRvIHJlY2VpdmUgTXVsdGl2YXJpYW50IFBsYXlsaXN0IGV2ZW50cyBmaXJzdFxuICAgIGNvbnN0IGNvbnRlbnRTdGVlcmluZyA9IENvbmZpZ0NvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXJcbiAgICAgID8gbmV3IENvbmZpZ0NvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXIodGhpcylcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBsZXZlbENvbnRyb2xsZXIgPSAodGhpcy5sZXZlbENvbnRyb2xsZXIgPSBuZXcgTGV2ZWxDb250cm9sbGVyKFxuICAgICAgdGhpcyxcbiAgICAgIGNvbnRlbnRTdGVlcmluZyxcbiAgICApKTtcbiAgICAvLyBGcmFnbWVudFRyYWNrZXIgbXVzdCBiZSBkZWZpbmVkIGJlZm9yZSBTdHJlYW1Db250cm9sbGVyIGJlY2F1c2UgdGhlIG9yZGVyIG9mIGV2ZW50IGhhbmRsaW5nIGlzIGltcG9ydGFudFxuICAgIGNvbnN0IGZyYWdtZW50VHJhY2tlciA9IG5ldyBGcmFnbWVudFRyYWNrZXIodGhpcyk7XG4gICAgY29uc3Qga2V5TG9hZGVyID0gbmV3IEtleUxvYWRlcih0aGlzLmNvbmZpZyk7XG4gICAgY29uc3Qgc3RyZWFtQ29udHJvbGxlciA9ICh0aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBuZXcgU3RyZWFtQ29udHJvbGxlcihcbiAgICAgIHRoaXMsXG4gICAgICBmcmFnbWVudFRyYWNrZXIsXG4gICAgICBrZXlMb2FkZXIsXG4gICAgKSk7XG5cbiAgICAvLyBDYXAgbGV2ZWwgY29udHJvbGxlciB1c2VzIHN0cmVhbUNvbnRyb2xsZXIgdG8gZmx1c2ggdGhlIGJ1ZmZlclxuICAgIGNhcExldmVsQ29udHJvbGxlci5zZXRTdHJlYW1Db250cm9sbGVyKHN0cmVhbUNvbnRyb2xsZXIpO1xuICAgIC8vIGZwc0NvbnRyb2xsZXIgdXNlcyBzdHJlYW1Db250cm9sbGVyIHRvIHN3aXRjaCB3aGVuIGZyYW1lcyBhcmUgYmVpbmcgZHJvcHBlZFxuICAgIGZwc0NvbnRyb2xsZXIuc2V0U3RyZWFtQ29udHJvbGxlcihzdHJlYW1Db250cm9sbGVyKTtcblxuICAgIGNvbnN0IG5ldHdvcmtDb250cm9sbGVyczogTmV0d29ya0NvbXBvbmVudEFQSVtdID0gW1xuICAgICAgcGxheUxpc3RMb2FkZXIsXG4gICAgICBsZXZlbENvbnRyb2xsZXIsXG4gICAgICBzdHJlYW1Db250cm9sbGVyLFxuICAgIF07XG4gICAgaWYgKGNvbnRlbnRTdGVlcmluZykge1xuICAgICAgbmV0d29ya0NvbnRyb2xsZXJzLnNwbGljZSgxLCAwLCBjb250ZW50U3RlZXJpbmcpO1xuICAgIH1cblxuICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzID0gbmV0d29ya0NvbnRyb2xsZXJzO1xuICAgIGNvbnN0IGNvcmVDb21wb25lbnRzOiBDb21wb25lbnRBUElbXSA9IFtcbiAgICAgIGFickNvbnRyb2xsZXIsXG4gICAgICBidWZmZXJDb250cm9sbGVyLFxuICAgICAgY2FwTGV2ZWxDb250cm9sbGVyLFxuICAgICAgZnBzQ29udHJvbGxlcixcbiAgICAgIGlkM1RyYWNrQ29udHJvbGxlcixcbiAgICAgIGZyYWdtZW50VHJhY2tlcixcbiAgICBdO1xuXG4gICAgdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuY3JlYXRlQ29udHJvbGxlcihcbiAgICAgIGNvbmZpZy5hdWRpb1RyYWNrQ29udHJvbGxlcixcbiAgICAgIG5ldHdvcmtDb250cm9sbGVycyxcbiAgICApO1xuICAgIGNvbnN0IEF1ZGlvU3RyZWFtQ29udHJvbGxlckNsYXNzID0gY29uZmlnLmF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbiAgICBpZiAoQXVkaW9TdHJlYW1Db250cm9sbGVyQ2xhc3MpIHtcbiAgICAgIG5ldHdvcmtDb250cm9sbGVycy5wdXNoKFxuICAgICAgICBuZXcgQXVkaW9TdHJlYW1Db250cm9sbGVyQ2xhc3ModGhpcywgZnJhZ21lbnRUcmFja2VyLCBrZXlMb2FkZXIpLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgbXVzdCBiZSBkZWZpbmVkIGJlZm9yZSBzdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgYmVjYXVzZSB0aGUgb3JkZXIgb2YgZXZlbnQgaGFuZGxpbmcgaXMgaW1wb3J0YW50XG4gICAgdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuY3JlYXRlQ29udHJvbGxlcihcbiAgICAgIGNvbmZpZy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcixcbiAgICAgIG5ldHdvcmtDb250cm9sbGVycyxcbiAgICApO1xuICAgIGNvbnN0IFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlckNsYXNzID0gY29uZmlnLnN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbiAgICBpZiAoU3VidGl0bGVTdHJlYW1Db250cm9sbGVyQ2xhc3MpIHtcbiAgICAgIG5ldHdvcmtDb250cm9sbGVycy5wdXNoKFxuICAgICAgICBuZXcgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyQ2xhc3ModGhpcywgZnJhZ21lbnRUcmFja2VyLCBrZXlMb2FkZXIpLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jcmVhdGVDb250cm9sbGVyKGNvbmZpZy50aW1lbGluZUNvbnRyb2xsZXIsIGNvcmVDb21wb25lbnRzKTtcbiAgICBrZXlMb2FkZXIuZW1lQ29udHJvbGxlciA9IHRoaXMuZW1lQ29udHJvbGxlciA9IHRoaXMuY3JlYXRlQ29udHJvbGxlcihcbiAgICAgIGNvbmZpZy5lbWVDb250cm9sbGVyLFxuICAgICAgY29yZUNvbXBvbmVudHMsXG4gICAgKTtcbiAgICB0aGlzLmNtY2RDb250cm9sbGVyID0gdGhpcy5jcmVhdGVDb250cm9sbGVyKFxuICAgICAgY29uZmlnLmNtY2RDb250cm9sbGVyLFxuICAgICAgY29yZUNvbXBvbmVudHMsXG4gICAgKTtcbiAgICB0aGlzLmxhdGVuY3lDb250cm9sbGVyID0gdGhpcy5jcmVhdGVDb250cm9sbGVyKFxuICAgICAgTGF0ZW5jeUNvbnRyb2xsZXIsXG4gICAgICBjb3JlQ29tcG9uZW50cyxcbiAgICApO1xuXG4gICAgdGhpcy5jb3JlQ29tcG9uZW50cyA9IGNvcmVDb21wb25lbnRzO1xuXG4gICAgLy8gRXJyb3IgY29udHJvbGxlciBoYW5kbGVzIGVycm9ycyBiZWZvcmUgYW5kIGFmdGVyIGFsbCBvdGhlciBjb250cm9sbGVyc1xuICAgIC8vIFRoaXMgbGlzdGVuZXIgd2lsbCBiZSBpbnZva2VkIGFmdGVyIGFsbCBvdGhlciBjb250cm9sbGVycyBlcnJvciBsaXN0ZW5lcnNcbiAgICBuZXR3b3JrQ29udHJvbGxlcnMucHVzaChlcnJvckNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IG9uRXJyb3JPdXQgPSBlcnJvckNvbnRyb2xsZXIub25FcnJvck91dDtcbiAgICBpZiAodHlwZW9mIG9uRXJyb3JPdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub24oRXZlbnRzLkVSUk9SLCBvbkVycm9yT3V0LCBlcnJvckNvbnRyb2xsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUNvbnRyb2xsZXIoQ29udHJvbGxlckNsYXNzLCBjb21wb25lbnRzKSB7XG4gICAgaWYgKENvbnRyb2xsZXJDbGFzcykge1xuICAgICAgY29uc3QgY29udHJvbGxlckluc3RhbmNlID0gbmV3IENvbnRyb2xsZXJDbGFzcyh0aGlzKTtcbiAgICAgIGlmIChjb21wb25lbnRzKSB7XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChjb250cm9sbGVySW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBEZWxlZ2F0ZSB0aGUgRXZlbnRFbWl0dGVyIHRocm91Z2ggdGhlIHB1YmxpYyBBUEkgb2YgSGxzLmpzXG4gIG9uPEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnMsIENvbnRleHQgPSB1bmRlZmluZWQ+KFxuICAgIGV2ZW50OiBFLFxuICAgIGxpc3RlbmVyOiBIbHNMaXN0ZW5lcnNbRV0sXG4gICAgY29udGV4dDogQ29udGV4dCA9IHRoaXMgYXMgYW55LFxuICApIHtcbiAgICB0aGlzLl9lbWl0dGVyLm9uKGV2ZW50LCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH1cblxuICBvbmNlPEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnMsIENvbnRleHQgPSB1bmRlZmluZWQ+KFxuICAgIGV2ZW50OiBFLFxuICAgIGxpc3RlbmVyOiBIbHNMaXN0ZW5lcnNbRV0sXG4gICAgY29udGV4dDogQ29udGV4dCA9IHRoaXMgYXMgYW55LFxuICApIHtcbiAgICB0aGlzLl9lbWl0dGVyLm9uY2UoZXZlbnQsIGxpc3RlbmVyLCBjb250ZXh0KTtcbiAgfVxuXG4gIHJlbW92ZUFsbExpc3RlbmVyczxFIGV4dGVuZHMga2V5b2YgSGxzTGlzdGVuZXJzPihldmVudD86IEUgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gIH1cblxuICBvZmY8RSBleHRlbmRzIGtleW9mIEhsc0xpc3RlbmVycywgQ29udGV4dCA9IHVuZGVmaW5lZD4oXG4gICAgZXZlbnQ6IEUsXG4gICAgbGlzdGVuZXI/OiBIbHNMaXN0ZW5lcnNbRV0gfCB1bmRlZmluZWQsXG4gICAgY29udGV4dDogQ29udGV4dCA9IHRoaXMgYXMgYW55LFxuICAgIG9uY2U/OiBib29sZWFuIHwgdW5kZWZpbmVkLFxuICApIHtcbiAgICB0aGlzLl9lbWl0dGVyLm9mZihldmVudCwgbGlzdGVuZXIsIGNvbnRleHQsIG9uY2UpO1xuICB9XG5cbiAgbGlzdGVuZXJzPEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnM+KGV2ZW50OiBFKTogSGxzTGlzdGVuZXJzW0VdW10ge1xuICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmxpc3RlbmVycyhldmVudCk7XG4gIH1cblxuICBlbWl0PEUgZXh0ZW5kcyBrZXlvZiBIbHNMaXN0ZW5lcnM+KFxuICAgIGV2ZW50OiBFLFxuICAgIG5hbWU6IEUsXG4gICAgZXZlbnRPYmplY3Q6IFBhcmFtZXRlcnM8SGxzTGlzdGVuZXJzW0VdPlsxXSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuZW1pdChldmVudCwgbmFtZSwgZXZlbnRPYmplY3QpO1xuICB9XG5cbiAgdHJpZ2dlcjxFIGV4dGVuZHMga2V5b2YgSGxzTGlzdGVuZXJzPihcbiAgICBldmVudDogRSxcbiAgICBldmVudE9iamVjdDogUGFyYW1ldGVyczxIbHNMaXN0ZW5lcnNbRV0+WzFdLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVtaXQoZXZlbnQsIGV2ZW50LCBldmVudE9iamVjdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoZXZlbnQsIGV2ZW50LCBldmVudE9iamVjdCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgJ0FuIGludGVybmFsIGVycm9yIGhhcHBlbmVkIHdoaWxlIGhhbmRsaW5nIGV2ZW50ICcgK1xuICAgICAgICAgICAgZXZlbnQgK1xuICAgICAgICAgICAgJy4gRXJyb3IgbWVzc2FnZTogXCInICtcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgK1xuICAgICAgICAgICAgJ1wiLiBIZXJlIGlzIGEgc3RhY2t0cmFjZTonLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICApO1xuICAgICAgICAvLyBQcmV2ZW50IHJlY3Vyc2lvbiBpbiBlcnJvciBldmVudCBoYW5kbGVycyB0aGF0IHRocm93ICM1NDk3XG4gICAgICAgIGlmICghdGhpcy50cmlnZ2VyaW5nRXhjZXB0aW9uKSB7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyaW5nRXhjZXB0aW9uID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBmYXRhbCA9IGV2ZW50ID09PSBFdmVudHMuRVJST1I7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKEV2ZW50cy5FUlJPUiwge1xuICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlcy5PVEhFUl9FUlJPUixcbiAgICAgICAgICAgIGRldGFpbHM6IEVycm9yRGV0YWlscy5JTlRFUk5BTF9FWENFUFRJT04sXG4gICAgICAgICAgICBmYXRhbCxcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyaW5nRXhjZXB0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGlzdGVuZXJDb3VudDxFIGV4dGVuZHMga2V5b2YgSGxzTGlzdGVuZXJzPihldmVudDogRSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIubGlzdGVuZXJDb3VudChldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZSBvZiB0aGUgaW5zdGFuY2VcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgbG9nZ2VyLmxvZygnZGVzdHJveScpO1xuICAgIHRoaXMudHJpZ2dlcihFdmVudHMuREVTVFJPWUlORywgdW5kZWZpbmVkKTtcbiAgICB0aGlzLmRldGFjaE1lZGlhKCk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gLTE7XG4gICAgdGhpcy51cmwgPSBudWxsO1xuXG4gICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiBjb21wb25lbnQuZGVzdHJveSgpKTtcbiAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5sZW5ndGggPSAwO1xuXG4gICAgdGhpcy5jb3JlQ29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IGNvbXBvbmVudC5kZXN0cm95KCkpO1xuICAgIHRoaXMuY29yZUNvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAvLyBSZW1vdmUgYW55IHJlZmVyZW5jZXMgdGhhdCBjb3VsZCBiZSBoZWxkIGluIGNvbmZpZyBvcHRpb25zIG9yIGNhbGxiYWNrc1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGNvbmZpZy54aHJTZXR1cCA9IGNvbmZpZy5mZXRjaFNldHVwID0gdW5kZWZpbmVkO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLnVzZXJDb25maWcgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIEhscy5qcyB0byBhIG1lZGlhIGVsZW1lbnRcbiAgICovXG4gIGF0dGFjaE1lZGlhKG1lZGlhOiBIVE1MTWVkaWFFbGVtZW50KSB7XG4gICAgbG9nZ2VyLmxvZygnYXR0YWNoTWVkaWEnKTtcbiAgICB0aGlzLl9tZWRpYSA9IG1lZGlhO1xuICAgIHRoaXMudHJpZ2dlcihFdmVudHMuTUVESUFfQVRUQUNISU5HLCB7IG1lZGlhOiBtZWRpYSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRhY2ggSGxzLmpzIGZyb20gdGhlIG1lZGlhXG4gICAqL1xuICBkZXRhY2hNZWRpYSgpIHtcbiAgICBsb2dnZXIubG9nKCdkZXRhY2hNZWRpYScpO1xuICAgIHRoaXMudHJpZ2dlcihFdmVudHMuTUVESUFfREVUQUNISU5HLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuX21lZGlhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBVUkwuIENhbiBiZSByZWxhdGl2ZSBvciBhYnNvbHV0ZS5cbiAgICovXG4gIGxvYWRTb3VyY2UodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGNvbnN0IGxvYWRlZFNvdXJjZSA9IHRoaXMudXJsO1xuICAgIGNvbnN0IGxvYWRpbmdTb3VyY2UgPSAodGhpcy51cmwgPSBidWlsZEFic29sdXRlVVJMKFxuICAgICAgc2VsZi5sb2NhdGlvbi5ocmVmLFxuICAgICAgdXJsLFxuICAgICAge1xuICAgICAgICBhbHdheXNOb3JtYWxpemU6IHRydWUsXG4gICAgICB9LFxuICAgICkpO1xuICAgIHRoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSAtMTtcbiAgICB0aGlzLl9tYXhIZGNwTGV2ZWwgPSBudWxsO1xuICAgIGxvZ2dlci5sb2coYGxvYWRTb3VyY2U6JHtsb2FkaW5nU291cmNlfWApO1xuICAgIGlmIChcbiAgICAgIG1lZGlhICYmXG4gICAgICBsb2FkZWRTb3VyY2UgJiZcbiAgICAgIChsb2FkZWRTb3VyY2UgIT09IGxvYWRpbmdTb3VyY2UgfHwgdGhpcy5idWZmZXJDb250cm9sbGVyLmhhc1NvdXJjZVR5cGVzKCkpXG4gICAgKSB7XG4gICAgICB0aGlzLmRldGFjaE1lZGlhKCk7XG4gICAgICB0aGlzLmF0dGFjaE1lZGlhKG1lZGlhKTtcbiAgICB9XG4gICAgLy8gd2hlbiBhdHRhY2hpbmcgdG8gYSBzb3VyY2UgVVJMLCB0cmlnZ2VyIGEgcGxheWxpc3QgbG9hZFxuICAgIHRoaXMudHJpZ2dlcihFdmVudHMuTUFOSUZFU1RfTE9BRElORywgeyB1cmw6IHVybCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBsb2FkaW5nIGRhdGEgZnJvbSB0aGUgc3RyZWFtIHNvdXJjZS5cbiAgICogRGVwZW5kaW5nIG9uIGRlZmF1bHQgY29uZmlnLCBjbGllbnQgc3RhcnRzIGxvYWRpbmcgYXV0b21hdGljYWxseSB3aGVuIGEgc291cmNlIGlzIHNldC5cbiAgICpcbiAgICogQHBhcmFtIHN0YXJ0UG9zaXRpb24gLSBTZXQgdGhlIHN0YXJ0IHBvc2l0aW9uIHRvIHN0cmVhbSBmcm9tLlxuICAgKiBEZWZhdWx0cyB0byAtMSAoTm9uZTogc3RhcnRzIGZyb20gZWFybGllc3QgcG9pbnQpXG4gICAqL1xuICBzdGFydExvYWQoc3RhcnRQb3NpdGlvbjogbnVtYmVyID0gLTEpIHtcbiAgICBsb2dnZXIubG9nKGBzdGFydExvYWQoJHtzdGFydFBvc2l0aW9ufSlgKTtcbiAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuc3RhcnRMb2FkKHN0YXJ0UG9zaXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbG9hZGluZyBvZiBhbnkgc3RyZWFtIGRhdGEuXG4gICAqL1xuICBzdG9wTG9hZCgpIHtcbiAgICBsb2dnZXIubG9nKCdzdG9wTG9hZCcpO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuc3RvcExvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN1bWVzIHN0cmVhbSBjb250cm9sbGVyIHNlZ21lbnQgbG9hZGluZyBpZiBwcmV2aW91c2x5IHN0YXJ0ZWQuXG4gICAqL1xuICByZXN1bWVCdWZmZXJpbmcoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICAgICAgICBpZiAoJ2ZyYWdtZW50TG9hZGVyJyBpbiBjb250cm9sbGVyKSB7XG4gICAgICAgICAgY29udHJvbGxlci5zdGFydExvYWQoLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgc3RyZWFtIGNvbnRyb2xsZXIgc2VnbWVudCBsb2FkaW5nIHdpdGhvdXQgY2hhbmdpbmcgJ3N0YXJ0ZWQnIHN0YXRlIGxpa2Ugc3RvcExvYWQoKS5cbiAgICogVGhpcyBhbGxvd3MgZm9yIG1lZGlhIGJ1ZmZlcmluZyB0byBiZSBwYXVzZWQgd2l0aG91dCBpbnRlcnVwdGluZyBwbGF5bGlzdCBsb2FkaW5nLlxuICAgKi9cbiAgcGF1c2VCdWZmZXJpbmcoKSB7XG4gICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICAgICAgaWYgKCdmcmFnbWVudExvYWRlcicgaW4gY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLnN0b3BMb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3dhcCB0aHJvdWdoIHBvc3NpYmxlIGF1ZGlvIGNvZGVjcyBpbiB0aGUgc3RyZWFtIChmb3IgZXhhbXBsZSB0byBzd2l0Y2ggZnJvbSBzdGVyZW8gdG8gNS4xKVxuICAgKi9cbiAgc3dhcEF1ZGlvQ29kZWMoKSB7XG4gICAgbG9nZ2VyLmxvZygnc3dhcEF1ZGlvQ29kZWMnKTtcbiAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuc3dhcEF1ZGlvQ29kZWMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBtZWRpYS1lbGVtZW50IGZhaWxzLCB0aGlzIGFsbG93cyB0byBkZXRhY2ggYW5kIHRoZW4gcmUtYXR0YWNoIGl0XG4gICAqIGFzIG9uZSBjYWxsIChjb252ZW5pZW5jZSBtZXRob2QpLlxuICAgKlxuICAgKiBBdXRvbWF0aWMgcmVjb3Zlcnkgb2YgbWVkaWEtZXJyb3JzIGJ5IHRoaXMgcHJvY2VzcyBpcyBjb25maWd1cmFibGUuXG4gICAqL1xuICByZWNvdmVyTWVkaWFFcnJvcigpIHtcbiAgICBsb2dnZXIubG9nKCdyZWNvdmVyTWVkaWFFcnJvcicpO1xuICAgIGNvbnN0IG1lZGlhID0gdGhpcy5fbWVkaWE7XG4gICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgdGhpcy5hdHRhY2hNZWRpYShtZWRpYSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlTGV2ZWwobGV2ZWxJbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy5sZXZlbENvbnRyb2xsZXIucmVtb3ZlTGV2ZWwobGV2ZWxJbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgYW4gYXJyYXkgb2YgbGV2ZWxzICh2YXJpYW50cykgc29ydGVkIGJ5IEhEQ1AtTEVWRUwsIFJFU09MVVRJT04gKGhlaWdodCksIEZSQU1FLVJBVEUsIENPREVDUywgVklERU8tUkFOR0UsIGFuZCBCQU5EV0lEVEhcbiAgICovXG4gIGdldCBsZXZlbHMoKTogTGV2ZWxbXSB7XG4gICAgY29uc3QgbGV2ZWxzID0gdGhpcy5sZXZlbENvbnRyb2xsZXIubGV2ZWxzO1xuICAgIHJldHVybiBsZXZlbHMgPyBsZXZlbHMgOiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRleCBvZiBxdWFsaXR5IGxldmVsICh2YXJpYW50KSBjdXJyZW50bHkgcGxheWVkXG4gICAqL1xuICBnZXQgY3VycmVudExldmVsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5jdXJyZW50TGV2ZWw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHF1YWxpdHkgbGV2ZWwgaW5kZXggaW1tZWRpYXRlbHkuIFRoaXMgd2lsbCBmbHVzaCB0aGUgY3VycmVudCBidWZmZXIgdG8gcmVwbGFjZSB0aGUgcXVhbGl0eSBhc2FwLiBUaGF0IG1lYW5zIHBsYXliYWNrIHdpbGwgaW50ZXJydXB0IGF0IGxlYXN0IHNob3J0bHkgdG8gcmUtYnVmZmVyIGFuZCByZS1zeW5jIGV2ZW50dWFsbHkuIFNldCB0byAtMSBmb3IgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbi5cbiAgICovXG4gIHNldCBjdXJyZW50TGV2ZWwobmV3TGV2ZWw6IG51bWJlcikge1xuICAgIGxvZ2dlci5sb2coYHNldCBjdXJyZW50TGV2ZWw6JHtuZXdMZXZlbH1gKTtcbiAgICB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5pbW1lZGlhdGVMZXZlbFN3aXRjaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGV4IG9mIG5leHQgcXVhbGl0eSBsZXZlbCBsb2FkZWQgYXMgc2NoZWR1bGVkIGJ5IHN0cmVhbSBjb250cm9sbGVyLlxuICAgKi9cbiAgZ2V0IG5leHRMZXZlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBxdWFsaXR5IGxldmVsIGluZGV4IGZvciBuZXh0IGxvYWRlZCBkYXRhLlxuICAgKiBUaGlzIHdpbGwgc3dpdGNoIHRoZSB2aWRlbyBxdWFsaXR5IGFzYXAsIHdpdGhvdXQgaW50ZXJydXB0aW5nIHBsYXliYWNrLlxuICAgKiBNYXkgYWJvcnQgY3VycmVudCBsb2FkaW5nIG9mIGRhdGEsIGFuZCBmbHVzaCBwYXJ0cyBvZiBidWZmZXIgKG91dHNpZGUgY3VycmVudGx5IHBsYXllZCBmcmFnbWVudCByZWdpb24pLlxuICAgKiBAcGFyYW0gbmV3TGV2ZWwgLSBQYXNzIC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAqL1xuICBzZXQgbmV4dExldmVsKG5ld0xldmVsOiBudW1iZXIpIHtcbiAgICBsb2dnZXIubG9nKGBzZXQgbmV4dExldmVsOiR7bmV3TGV2ZWx9YCk7XG4gICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBxdWFsaXR5IGxldmVsIG9mIHRoZSBjdXJyZW50bHkgb3IgbGFzdCAob2Ygbm9uZSBpcyBsb2FkZWQgY3VycmVudGx5KSBzZWdtZW50XG4gICAqL1xuICBnZXQgbG9hZExldmVsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLmxldmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBxdWFsaXR5IGxldmVsIGluZGV4IGZvciBuZXh0IGxvYWRlZCBkYXRhIGluIGEgY29uc2VydmF0aXZlIHdheS5cbiAgICogVGhpcyB3aWxsIHN3aXRjaCB0aGUgcXVhbGl0eSB3aXRob3V0IGZsdXNoaW5nLCBidXQgaW50ZXJydXB0IGN1cnJlbnQgbG9hZGluZy5cbiAgICogVGh1cyB0aGUgbW9tZW50IHdoZW4gdGhlIHF1YWxpdHkgc3dpdGNoIHdpbGwgYXBwZWFyIGluIGVmZmVjdCB3aWxsIG9ubHkgYmUgYWZ0ZXIgdGhlIGFscmVhZHkgZXhpc3RpbmcgYnVmZmVyLlxuICAgKiBAcGFyYW0gbmV3TGV2ZWwgLSBQYXNzIC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAqL1xuICBzZXQgbG9hZExldmVsKG5ld0xldmVsOiBudW1iZXIpIHtcbiAgICBsb2dnZXIubG9nKGBzZXQgbG9hZExldmVsOiR7bmV3TGV2ZWx9YCk7XG4gICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPSBuZXdMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgbmV4dCBxdWFsaXR5IGxldmVsIGxvYWRlZFxuICAgKi9cbiAgZ2V0IG5leHRMb2FkTGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBvZiBuZXh0IGxvYWRlZCBzZWdtZW50IGluIGEgZnVsbHkgXCJub24tZGVzdHJ1Y3RpdmVcIiB3YXkuXG4gICAqIFNhbWUgYXMgYGxvYWRMZXZlbGAgYnV0IHdpbGwgd2FpdCBmb3IgbmV4dCBzd2l0Y2ggKHVudGlsIGN1cnJlbnQgbG9hZGluZyBpcyBkb25lKS5cbiAgICovXG4gIHNldCBuZXh0TG9hZExldmVsKGxldmVsOiBudW1iZXIpIHtcbiAgICB0aGlzLmxldmVsQ29udHJvbGxlci5uZXh0TG9hZExldmVsID0gbGV2ZWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIFwiZmlyc3QgbGV2ZWxcIjogbGlrZSBhIGRlZmF1bHQgbGV2ZWwsIGlmIG5vdCBzZXQsXG4gICAqIGZhbGxzIGJhY2sgdG8gaW5kZXggb2YgZmlyc3QgbGV2ZWwgcmVmZXJlbmNlZCBpbiBtYW5pZmVzdFxuICAgKi9cbiAgZ2V0IGZpcnN0TGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5sZXZlbENvbnRyb2xsZXIuZmlyc3RMZXZlbCwgdGhpcy5taW5BdXRvTGV2ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgXCJmaXJzdC1sZXZlbFwiLCBzZWUgZ2V0dGVyLlxuICAgKi9cbiAgc2V0IGZpcnN0TGV2ZWwobmV3TGV2ZWw6IG51bWJlcikge1xuICAgIGxvZ2dlci5sb2coYHNldCBmaXJzdExldmVsOiR7bmV3TGV2ZWx9YCk7XG4gICAgdGhpcy5sZXZlbENvbnRyb2xsZXIuZmlyc3RMZXZlbCA9IG5ld0xldmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGVzaXJlZCBzdGFydCBsZXZlbCBmb3IgdGhlIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBsb2FkZWQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIG9mIC0xIGluZGljYXRlcyBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgc2VsZWN0aW9uLlxuICAgKiBTZXR0aW5nIGhscy5uZXh0QXV0b0xldmVsIHdpdGhvdXQgc2V0dGluZyBhIHN0YXJ0TGV2ZWwgd2lsbCByZXN1bHQgaW5cbiAgICogdGhlIG5leHRBdXRvTGV2ZWwgdmFsdWUgYmVpbmcgdXNlZCBmb3Igb25lIGZyYWdtZW50IGxvYWQuXG4gICAqL1xuICBnZXQgc3RhcnRMZXZlbCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHN0YXJ0TGV2ZWwgPSB0aGlzLmxldmVsQ29udHJvbGxlci5zdGFydExldmVsO1xuICAgIGlmIChzdGFydExldmVsID09PSAtMSAmJiB0aGlzLmFickNvbnRyb2xsZXIuZm9yY2VkQXV0b0xldmVsID4gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzLmFickNvbnRyb2xsZXIuZm9yY2VkQXV0b0xldmVsO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgIHN0YXJ0IGxldmVsIChsZXZlbCBvZiBmaXJzdCBmcmFnbWVudCB0aGF0IHdpbGwgYmUgcGxheWVkIGJhY2spXG4gICAqIGlmIG5vdCBvdmVycmlkZWQgYnkgdXNlciwgZmlyc3QgbGV2ZWwgYXBwZWFyaW5nIGluIG1hbmlmZXN0IHdpbGwgYmUgdXNlZCBhcyBzdGFydCBsZXZlbFxuICAgKiBpZiAtMSA6IGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24sIHBsYXliYWNrIHdpbGwgc3RhcnQgZnJvbSBsZXZlbCBtYXRjaGluZyBkb3dubG9hZCBiYW5kd2lkdGhcbiAgICogKGRldGVybWluZWQgZnJvbSBkb3dubG9hZCBvZiBmaXJzdCBzZWdtZW50KVxuICAgKi9cbiAgc2V0IHN0YXJ0TGV2ZWwobmV3TGV2ZWw6IG51bWJlcikge1xuICAgIGxvZ2dlci5sb2coYHNldCBzdGFydExldmVsOiR7bmV3TGV2ZWx9YCk7XG4gICAgLy8gaWYgbm90IGluIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBkZXRlY3Rpb24sIGVuc3VyZSBzdGFydExldmVsIGlzIGdyZWF0ZXIgdGhhbiBtaW5BdXRvTGV2ZWxcbiAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICBuZXdMZXZlbCA9IE1hdGgubWF4KG5ld0xldmVsLCB0aGlzLm1pbkF1dG9MZXZlbCk7XG4gICAgfVxuXG4gICAgdGhpcy5sZXZlbENvbnRyb2xsZXIuc3RhcnRMZXZlbCA9IG5ld0xldmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgbGV2ZWwgY2FwcGluZyBpcyBlbmFibGVkLlxuICAgKiBEZWZhdWx0IHZhbHVlIGlzIHNldCB2aWEgYGNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZWAuXG4gICAqL1xuICBnZXQgY2FwTGV2ZWxUb1BsYXllclNpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgbGV2ZWwgY2FwcGluZy4gSWYgZGlzYWJsZWQgYWZ0ZXIgcHJldmlvdXNseSBlbmFibGVkLCBgbmV4dExldmVsU3dpdGNoYCB3aWxsIGJlIGltbWVkaWF0ZWx5IGNhbGxlZC5cbiAgICovXG4gIHNldCBjYXBMZXZlbFRvUGxheWVyU2l6ZShzaG91bGRTdGFydENhcHBpbmc6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBuZXdDYXBMZXZlbFRvUGxheWVyU2l6ZSA9ICEhc2hvdWxkU3RhcnRDYXBwaW5nO1xuXG4gICAgaWYgKG5ld0NhcExldmVsVG9QbGF5ZXJTaXplICE9PSB0aGlzLmNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZSkge1xuICAgICAgaWYgKG5ld0NhcExldmVsVG9QbGF5ZXJTaXplKSB7XG4gICAgICAgIHRoaXMuY2FwTGV2ZWxDb250cm9sbGVyLnN0YXJ0Q2FwcGluZygpOyAvLyBJZiBjYXBwaW5nIG9jY3VycywgbmV4dExldmVsU3dpdGNoIHdpbGwgaGFwcGVuIGJhc2VkIG9uIHNpemUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhcExldmVsQ29udHJvbGxlci5zdG9wQ2FwcGluZygpO1xuICAgICAgICB0aGlzLmF1dG9MZXZlbENhcHBpbmcgPSAtMTtcbiAgICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpOyAvLyBOb3cgd2UncmUgdW5jYXBwZWQsIGdldCB0aGUgbmV4dCBsZXZlbCBhc2FwLlxuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZSA9IG5ld0NhcExldmVsVG9QbGF5ZXJTaXplO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYXBwaW5nL21heCBsZXZlbCB2YWx1ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24gYWxnb3JpdGhtIChgQUJSQ29udHJvbGxlcmApXG4gICAqL1xuICBnZXQgYXV0b0xldmVsQ2FwcGluZygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYmFuZHdpZHRoIGVzdGltYXRlIGluIGJpdHMgcGVyIHNlY29uZCwgd2hlbiBhdmFpbGFibGUuIE90aGVyd2lzZSwgYE5hTmAgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXQgYmFuZHdpZHRoRXN0aW1hdGUoKTogbnVtYmVyIHtcbiAgICBjb25zdCB7IGJ3RXN0aW1hdG9yIH0gPSB0aGlzLmFickNvbnRyb2xsZXI7XG4gICAgaWYgKCFid0VzdGltYXRvcikge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgcmV0dXJuIGJ3RXN0aW1hdG9yLmdldEVzdGltYXRlKCk7XG4gIH1cblxuICBzZXQgYmFuZHdpZHRoRXN0aW1hdGUoYWJyRXdtYURlZmF1bHRFc3RpbWF0ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5hYnJDb250cm9sbGVyLnJlc2V0RXN0aW1hdG9yKGFickV3bWFEZWZhdWx0RXN0aW1hdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCB0aW1lIHRvIGZpcnN0IGJ5dGUgZXN0aW1hdGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGdldCB0dGZiRXN0aW1hdGUoKTogbnVtYmVyIHtcbiAgICBjb25zdCB7IGJ3RXN0aW1hdG9yIH0gPSB0aGlzLmFickNvbnRyb2xsZXI7XG4gICAgaWYgKCFid0VzdGltYXRvcikge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgcmV0dXJuIGJ3RXN0aW1hdG9yLmdldEVzdGltYXRlVFRGQigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhcHBpbmcvbWF4IGxldmVsIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHVzZWQgYnkgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBhbGdvcml0aG0gKGBBQlJDb250cm9sbGVyYClcbiAgICovXG4gIHNldCBhdXRvTGV2ZWxDYXBwaW5nKG5ld0xldmVsOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b0xldmVsQ2FwcGluZyAhPT0gbmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlci5sb2coYHNldCBhdXRvTGV2ZWxDYXBwaW5nOiR7bmV3TGV2ZWx9YCk7XG4gICAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gbmV3TGV2ZWw7XG4gICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5jaGVja01heEF1dG9VcGRhdGVkKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1heEhkY3BMZXZlbCgpOiBIZGNwTGV2ZWwge1xuICAgIHJldHVybiB0aGlzLl9tYXhIZGNwTGV2ZWw7XG4gIH1cblxuICBzZXQgbWF4SGRjcExldmVsKHZhbHVlOiBIZGNwTGV2ZWwpIHtcbiAgICBpZiAoaXNIZGNwTGV2ZWwodmFsdWUpICYmIHRoaXMuX21heEhkY3BMZXZlbCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX21heEhkY3BMZXZlbCA9IHZhbHVlO1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIuY2hlY2tNYXhBdXRvVXBkYXRlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcnVlIHdoZW4gYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBlbmFibGVkXG4gICAqL1xuICBnZXQgYXV0b0xldmVsRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPT09IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIExldmVsIHNldCBtYW51YWxseSAoaWYgYW55KVxuICAgKi9cbiAgZ2V0IG1hbnVhbExldmVsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIG1pbiBsZXZlbCBzZWxlY3RhYmxlIGluIGF1dG8gbW9kZSBhY2NvcmRpbmcgdG8gY29uZmlnLm1pbkF1dG9CaXRyYXRlXG4gICAqL1xuICBnZXQgbWluQXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgY29uc3Qge1xuICAgICAgbGV2ZWxzLFxuICAgICAgY29uZmlnOiB7IG1pbkF1dG9CaXRyYXRlIH0sXG4gICAgfSA9IHRoaXM7XG4gICAgaWYgKCFsZXZlbHMpIHJldHVybiAwO1xuXG4gICAgY29uc3QgbGVuID0gbGV2ZWxzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAobGV2ZWxzW2ldLm1heEJpdHJhdGUgPj0gbWluQXV0b0JpdHJhdGUpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogbWF4IGxldmVsIHNlbGVjdGFibGUgaW4gYXV0byBtb2RlIGFjY29yZGluZyB0byBhdXRvTGV2ZWxDYXBwaW5nXG4gICAqL1xuICBnZXQgbWF4QXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgY29uc3QgeyBsZXZlbHMsIGF1dG9MZXZlbENhcHBpbmcsIG1heEhkY3BMZXZlbCB9ID0gdGhpcztcblxuICAgIGxldCBtYXhBdXRvTGV2ZWw7XG4gICAgaWYgKGF1dG9MZXZlbENhcHBpbmcgPT09IC0xICYmIGxldmVscz8ubGVuZ3RoKSB7XG4gICAgICBtYXhBdXRvTGV2ZWwgPSBsZXZlbHMubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF4QXV0b0xldmVsID0gYXV0b0xldmVsQ2FwcGluZztcbiAgICB9XG5cbiAgICBpZiAobWF4SGRjcExldmVsKSB7XG4gICAgICBmb3IgKGxldCBpID0gbWF4QXV0b0xldmVsOyBpLS07ICkge1xuICAgICAgICBjb25zdCBoZGNwTGV2ZWwgPSBsZXZlbHNbaV0uYXR0cnNbJ0hEQ1AtTEVWRUwnXTtcbiAgICAgICAgaWYgKGhkY3BMZXZlbCAmJiBoZGNwTGV2ZWwgPD0gbWF4SGRjcExldmVsKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4QXV0b0xldmVsO1xuICB9XG5cbiAgZ2V0IGZpcnN0QXV0b0xldmVsKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWJyQ29udHJvbGxlci5maXJzdEF1dG9MZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBuZXh0IGF1dG9tYXRpY2FsbHkgc2VsZWN0ZWQgcXVhbGl0eSBsZXZlbFxuICAgKi9cbiAgZ2V0IG5leHRBdXRvTGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hYnJDb250cm9sbGVyLm5leHRBdXRvTGV2ZWw7XG4gIH1cblxuICAvKipcbiAgICogdGhpcyBzZXR0ZXIgaXMgdXNlZCB0byBmb3JjZSBuZXh0IGF1dG8gbGV2ZWwuXG4gICAqIHRoaXMgaXMgdXNlZnVsIHRvIGZvcmNlIGEgc3dpdGNoIGRvd24gaW4gYXV0byBtb2RlOlxuICAgKiBpbiBjYXNlIG9mIGxvYWQgZXJyb3Igb24gbGV2ZWwgTiwgaGxzLmpzIGNhbiBzZXQgbmV4dEF1dG9MZXZlbCB0byBOLTEgZm9yIGV4YW1wbGUpXG4gICAqIGZvcmNlZCB2YWx1ZSBpcyB2YWxpZCBmb3Igb25lIGZyYWdtZW50LiB1cG9uIHN1Y2Nlc3NmdWwgZnJhZyBsb2FkaW5nIGF0IGZvcmNlZCBsZXZlbCxcbiAgICogdGhpcyB2YWx1ZSB3aWxsIGJlIHJlc2V0dGVkIHRvIC0xIGJ5IEFCUiBjb250cm9sbGVyLlxuICAgKi9cbiAgc2V0IG5leHRBdXRvTGV2ZWwobmV4dExldmVsOiBudW1iZXIpIHtcbiAgICB0aGlzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIGRhdGV0aW1lIHZhbHVlIHJlbGF0aXZlIHRvIG1lZGlhLmN1cnJlbnRUaW1lIGZvciB0aGUgYWN0aXZlIGxldmVsIFByb2dyYW0gRGF0ZSBUaW1lIGlmIHByZXNlbnRcbiAgICovXG4gIHB1YmxpYyBnZXQgcGxheWluZ0RhdGUoKTogRGF0ZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuY3VycmVudFByb2dyYW1EYXRlVGltZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgbWFpbkZvcndhcmRCdWZmZXJJbmZvKCk6IEJ1ZmZlckluZm8gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmdldE1haW5Gd2RCdWZmZXJJbmZvKCk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBhbmQgc2VsZWN0IHRoZSBiZXN0IG1hdGNoaW5nIGF1ZGlvIHRyYWNrLCBtYWtpbmcgYSBsZXZlbCBzd2l0Y2ggd2hlbiBhIEdyb3VwIGNoYW5nZSBpcyBuZWNlc3NhcnkuXG4gICAqIFVwZGF0ZXMgYGhscy5jb25maWcuYXVkaW9QcmVmZXJlbmNlYC4gUmV0dXJucyB0aGUgc2VsZWN0ZWQgdHJhY2ssIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyB0cmFjayBpcyBmb3VuZC5cbiAgICovXG4gIHB1YmxpYyBzZXRBdWRpb09wdGlvbihcbiAgICBhdWRpb09wdGlvbjogTWVkaWFQbGF5bGlzdCB8IEF1ZGlvU2VsZWN0aW9uT3B0aW9uIHwgdW5kZWZpbmVkLFxuICApOiBNZWRpYVBsYXlsaXN0IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI/LnNldEF1ZGlvT3B0aW9uKGF1ZGlvT3B0aW9uKTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbmQgc2VsZWN0IHRoZSBiZXN0IG1hdGNoaW5nIHN1YnRpdGxlIHRyYWNrLCBtYWtpbmcgYSBsZXZlbCBzd2l0Y2ggd2hlbiBhIEdyb3VwIGNoYW5nZSBpcyBuZWNlc3NhcnkuXG4gICAqIFVwZGF0ZXMgYGhscy5jb25maWcuc3VidGl0bGVQcmVmZXJlbmNlYC4gUmV0dXJucyB0aGUgc2VsZWN0ZWQgdHJhY2ssIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyB0cmFjayBpcyBmb3VuZC5cbiAgICovXG4gIHB1YmxpYyBzZXRTdWJ0aXRsZU9wdGlvbihcbiAgICBzdWJ0aXRsZU9wdGlvbjogTWVkaWFQbGF5bGlzdCB8IFN1YnRpdGxlU2VsZWN0aW9uT3B0aW9uIHwgdW5kZWZpbmVkLFxuICApOiBNZWRpYVBsYXlsaXN0IHwgbnVsbCB7XG4gICAgdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcj8uc2V0U3VidGl0bGVPcHRpb24oc3VidGl0bGVPcHRpb24pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcGxldGUgbGlzdCBvZiBhdWRpbyB0cmFja3MgYWNyb3NzIGFsbCBtZWRpYSBncm91cHNcbiAgICovXG4gIGdldCBhbGxBdWRpb1RyYWNrcygpOiBBcnJheTxNZWRpYVBsYXlsaXN0PiB7XG4gICAgY29uc3QgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSB0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgIHJldHVybiBhdWRpb1RyYWNrQ29udHJvbGxlciA/IGF1ZGlvVHJhY2tDb250cm9sbGVyLmFsbEF1ZGlvVHJhY2tzIDogW107XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0IG9mIHNlbGVjdGFibGUgYXVkaW8gdHJhY2tzXG4gICAqL1xuICBnZXQgYXVkaW9UcmFja3MoKTogQXJyYXk8TWVkaWFQbGF5bGlzdD4ge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrcyA6IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBhdWRpbyB0cmFjayAoaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHMpXG4gICAqL1xuICBnZXQgYXVkaW9UcmFjaygpOiBudW1iZXIge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrIDogLTE7XG4gIH1cblxuICAvKipcbiAgICogc2VsZWN0cyBhbiBhdWRpbyB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzXG4gICAqL1xuICBzZXQgYXVkaW9UcmFjayhhdWRpb1RyYWNrSWQ6IG51bWJlcikge1xuICAgIGNvbnN0IGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICBpZiAoYXVkaW9UcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgIGF1ZGlvVHJhY2tDb250cm9sbGVyLmF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrSWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGdldCB0aGUgY29tcGxldGUgbGlzdCBvZiBzdWJ0aXRsZSB0cmFja3MgYWNyb3NzIGFsbCBtZWRpYSBncm91cHNcbiAgICovXG4gIGdldCBhbGxTdWJ0aXRsZVRyYWNrcygpOiBBcnJheTxNZWRpYVBsYXlsaXN0PiB7XG4gICAgY29uc3Qgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlclxuICAgICAgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5hbGxTdWJ0aXRsZVRyYWNrc1xuICAgICAgOiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgYWx0ZXJuYXRlIHN1YnRpdGxlIHRyYWNrcyBsaXN0IGZyb20gcGxheWxpc3RcbiAgICovXG4gIGdldCBzdWJ0aXRsZVRyYWNrcygpOiBBcnJheTxNZWRpYVBsYXlsaXN0PiB7XG4gICAgY29uc3Qgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlclxuICAgICAgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrc1xuICAgICAgOiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBpbmRleCBvZiB0aGUgc2VsZWN0ZWQgc3VidGl0bGUgdHJhY2sgKGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKVxuICAgKi9cbiAgZ2V0IHN1YnRpdGxlVHJhY2soKTogbnVtYmVyIHtcbiAgICBjb25zdCBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgcmV0dXJuIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID8gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIuc3VidGl0bGVUcmFjayA6IC0xO1xuICB9XG5cbiAgZ2V0IG1lZGlhKCkge1xuICAgIHJldHVybiB0aGlzLl9tZWRpYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZWxlY3QgYW4gc3VidGl0bGUgdHJhY2ssIGJhc2VkIG9uIGl0cyBpbmRleCBpbiBzdWJ0aXRsZSB0cmFjayBsaXN0c1xuICAgKi9cbiAgc2V0IHN1YnRpdGxlVHJhY2soc3VidGl0bGVUcmFja0lkOiBudW1iZXIpIHtcbiAgICBjb25zdCBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgaWYgKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKSB7XG4gICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrID0gc3VidGl0bGVUcmFja0lkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHN1YnRpdGxlIGRpc3BsYXkgaXMgZW5hYmxlZCBvciBub3RcbiAgICovXG4gIGdldCBzdWJ0aXRsZURpc3BsYXkoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlclxuICAgICAgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXlcbiAgICAgIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlL2Rpc2FibGUgc3VidGl0bGUgZGlzcGxheSByZW5kZXJpbmdcbiAgICovXG4gIHNldCBzdWJ0aXRsZURpc3BsYXkodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgaWYgKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKSB7XG4gICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXkgPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZ2V0IG1vZGUgZm9yIExvdy1MYXRlbmN5IEhMUyBsb2FkaW5nXG4gICAqL1xuICBnZXQgbG93TGF0ZW5jeU1vZGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmxvd0xhdGVuY3lNb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZS9kaXNhYmxlIExvdy1MYXRlbmN5IEhMUyBwYXJ0IHBsYXlsaXN0IGFuZCBzZWdtZW50IGxvYWRpbmcsIGFuZCBzdGFydCBsaXZlIHN0cmVhbXMgYXQgcGxheWxpc3QgUEFSVC1IT0xELUJBQ0sgcmF0aGVyIHRoYW4gSE9MRC1CQUNLLlxuICAgKi9cbiAgc2V0IGxvd0xhdGVuY3lNb2RlKG1vZGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmNvbmZpZy5sb3dMYXRlbmN5TW9kZSA9IG1vZGU7XG4gIH1cblxuICAvKipcbiAgICogUG9zaXRpb24gKGluIHNlY29uZHMpIG9mIGxpdmUgc3luYyBwb2ludCAoaWUgZWRnZSBvZiBsaXZlIHBvc2l0aW9uIG1pbnVzIHNhZmV0eSBkZWxheSBkZWZpbmVkIGJ5IGBgYGhscy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbmBgYClcbiAgICogQHJldHVybnMgbnVsbCBwcmlvciB0byBsb2FkaW5nIGxpdmUgUGxheWxpc3RcbiAgICovXG4gIGdldCBsaXZlU3luY1Bvc2l0aW9uKCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmxhdGVuY3lDb250cm9sbGVyLmxpdmVTeW5jUG9zaXRpb247XG4gIH1cblxuICAvKipcbiAgICogRXN0aW1hdGVkIHBvc2l0aW9uIChpbiBzZWNvbmRzKSBvZiBsaXZlIGVkZ2UgKGllIGVkZ2Ugb2YgbGl2ZSBwbGF5bGlzdCBwbHVzIHRpbWUgc3luYyBwbGF5bGlzdCBhZHZhbmNlZClcbiAgICogQHJldHVybnMgMCBiZWZvcmUgZmlyc3QgcGxheWxpc3QgaXMgbG9hZGVkXG4gICAqL1xuICBnZXQgbGF0ZW5jeSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxhdGVuY3lDb250cm9sbGVyLmxhdGVuY3k7XG4gIH1cblxuICAvKipcbiAgICogbWF4aW11bSBkaXN0YW5jZSBmcm9tIHRoZSBlZGdlIGJlZm9yZSB0aGUgcGxheWVyIHNlZWtzIGZvcndhcmQgdG8gYGBgaGxzLmxpdmVTeW5jUG9zaXRpb25gYGBcbiAgICogY29uZmlndXJlZCB1c2luZyBgYGBsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnRgYGAgKG11bHRpcGxlIG9mIHRhcmdldCBkdXJhdGlvbikgb3IgYGBgbGl2ZU1heExhdGVuY3lEdXJhdGlvbmBgYFxuICAgKiBAcmV0dXJucyAwIGJlZm9yZSBmaXJzdCBwbGF5bGlzdCBpcyBsb2FkZWRcbiAgICovXG4gIGdldCBtYXhMYXRlbmN5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIubWF4TGF0ZW5jeTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0YXJnZXQgZGlzdGFuY2UgZnJvbSB0aGUgZWRnZSBhcyBjYWxjdWxhdGVkIGJ5IHRoZSBsYXRlbmN5IGNvbnRyb2xsZXJcbiAgICovXG4gIGdldCB0YXJnZXRMYXRlbmN5KCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmxhdGVuY3lDb250cm9sbGVyLnRhcmdldExhdGVuY3k7XG4gIH1cblxuICAvKipcbiAgICogdGhlIHJhdGUgYXQgd2hpY2ggdGhlIGVkZ2Ugb2YgdGhlIGN1cnJlbnQgbGl2ZSBwbGF5bGlzdCBpcyBhZHZhbmNpbmcgb3IgMSBpZiB0aGVyZSBpcyBub25lXG4gICAqL1xuICBnZXQgZHJpZnQoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIuZHJpZnQ7XG4gIH1cblxuICAvKipcbiAgICogc2V0IHRvIHRydWUgd2hlbiBzdGFydExvYWQgaXMgY2FsbGVkIGJlZm9yZSBNQU5JRkVTVF9QQVJTRUQgZXZlbnRcbiAgICovXG4gIGdldCBmb3JjZVN0YXJ0TG9hZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmZvcmNlU3RhcnRMb2FkO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtcbiAgQXVkaW9TZWxlY3Rpb25PcHRpb24sXG4gIFN1YnRpdGxlU2VsZWN0aW9uT3B0aW9uLFxuICBWaWRlb1NlbGVjdGlvbk9wdGlvbixcbiAgTWVkaWFQbGF5bGlzdCxcbiAgRXJyb3JEZXRhaWxzLFxuICBFcnJvclR5cGVzLFxuICBFdmVudHMsXG4gIExldmVsLFxuICBIbHNMaXN0ZW5lcnMsXG4gIEhsc0V2ZW50RW1pdHRlcixcbiAgSGxzQ29uZmlnLFxuICBCdWZmZXJJbmZvLFxuICBIZGNwTGV2ZWwsXG4gIEFickNvbnRyb2xsZXIsXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlcixcbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIsXG4gIEJhc2VQbGF5bGlzdENvbnRyb2xsZXIsXG4gIEJhc2VTdHJlYW1Db250cm9sbGVyLFxuICBCdWZmZXJDb250cm9sbGVyLFxuICBDYXBMZXZlbENvbnRyb2xsZXIsXG4gIENNQ0RDb250cm9sbGVyLFxuICBDb250ZW50U3RlZXJpbmdDb250cm9sbGVyLFxuICBFTUVDb250cm9sbGVyLFxuICBFcnJvckNvbnRyb2xsZXIsXG4gIEZQU0NvbnRyb2xsZXIsXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLFxufTtcbmV4cG9ydCB0eXBlIHtcbiAgQ29tcG9uZW50QVBJLFxuICBBYnJDb21wb25lbnRBUEksXG4gIE5ldHdvcmtDb21wb25lbnRBUEksXG59IGZyb20gJy4vdHlwZXMvY29tcG9uZW50LWFwaSc7XG5leHBvcnQgdHlwZSB7XG4gIEFCUkNvbnRyb2xsZXJDb25maWcsXG4gIEJ1ZmZlckNvbnRyb2xsZXJDb25maWcsXG4gIENhcExldmVsQ29udHJvbGxlckNvbmZpZyxcbiAgQ01DRENvbnRyb2xsZXJDb25maWcsXG4gIEVNRUNvbnRyb2xsZXJDb25maWcsXG4gIERSTVN5c3RlbXNDb25maWd1cmF0aW9uLFxuICBEUk1TeXN0ZW1PcHRpb25zLFxuICBGUFNDb250cm9sbGVyQ29uZmlnLFxuICBGcmFnbWVudExvYWRlckNvbmZpZyxcbiAgRnJhZ21lbnRMb2FkZXJDb25zdHJ1Y3RvcixcbiAgSGxzTG9hZFBvbGljaWVzLFxuICBMZXZlbENvbnRyb2xsZXJDb25maWcsXG4gIExvYWRlckNvbmZpZyxcbiAgTG9hZFBvbGljeSxcbiAgTVA0UmVtdXhlckNvbmZpZyxcbiAgUGxheWxpc3RMb2FkZXJDb25maWcsXG4gIFBsYXlsaXN0TG9hZGVyQ29uc3RydWN0b3IsXG4gIFJldHJ5Q29uZmlnLFxuICBTZWxlY3Rpb25QcmVmZXJlbmNlcyxcbiAgU3RyZWFtQ29udHJvbGxlckNvbmZpZyxcbiAgTGF0ZW5jeUNvbnRyb2xsZXJDb25maWcsXG4gIE1ldGFkYXRhQ29udHJvbGxlckNvbmZpZyxcbiAgVGltZWxpbmVDb250cm9sbGVyQ29uZmlnLFxuICBUU0RlbXV4ZXJDb25maWcsXG59IGZyb20gJy4vY29uZmlnJztcbmV4cG9ydCB0eXBlIHsgTWVkaWFLZXlTZXNzaW9uQ29udGV4dCB9IGZyb20gJy4vY29udHJvbGxlci9lbWUtY29udHJvbGxlcic7XG5leHBvcnQgdHlwZSB7IElMb2dnZXIgfSBmcm9tICcuL3V0aWxzL2xvZ2dlcic7XG5leHBvcnQgdHlwZSB7XG4gIFBhdGh3YXlDbG9uZSxcbiAgU3RlZXJpbmdNYW5pZmVzdCxcbiAgVXJpUmVwbGFjZW1lbnQsXG59IGZyb20gJy4vY29udHJvbGxlci9jb250ZW50LXN0ZWVyaW5nLWNvbnRyb2xsZXInO1xuZXhwb3J0IHR5cGUgeyBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXInO1xuZXhwb3J0IHR5cGUgeyBUaW1lbGluZUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlcic7XG5leHBvcnQgdHlwZSB7IEN1ZXNJbnRlcmZhY2UgfSBmcm9tICcuL3V0aWxzL2N1ZXMnO1xuZXhwb3J0IHR5cGUge1xuICBNZWRpYUtleUZ1bmMsXG4gIEtleVN5c3RlbXMsXG4gIEtleVN5c3RlbUZvcm1hdHMsXG59IGZyb20gJy4vdXRpbHMvbWVkaWFrZXlzLWhlbHBlcic7XG5leHBvcnQgdHlwZSB7IERhdGVSYW5nZSB9IGZyb20gJy4vbG9hZGVyL2RhdGUtcmFuZ2UnO1xuZXhwb3J0IHR5cGUgeyBMb2FkU3RhdHMgfSBmcm9tICcuL2xvYWRlci9sb2FkLXN0YXRzJztcbmV4cG9ydCB0eXBlIHsgTGV2ZWxLZXkgfSBmcm9tICcuL2xvYWRlci9sZXZlbC1rZXknO1xuZXhwb3J0IHR5cGUgeyBMZXZlbERldGFpbHMgfSBmcm9tICcuL2xvYWRlci9sZXZlbC1kZXRhaWxzJztcbmV4cG9ydCB0eXBlIHsgU291cmNlQnVmZmVyTmFtZSB9IGZyb20gJy4vdHlwZXMvYnVmZmVyJztcbmV4cG9ydCB0eXBlIHtcbiAgTWV0YWRhdGFTYW1wbGUsXG4gIE1ldGFkYXRhU2NoZW1hLFxuICBVc2VyZGF0YVNhbXBsZSxcbn0gZnJvbSAnLi90eXBlcy9kZW11eGVyJztcbmV4cG9ydCB0eXBlIHtcbiAgSGxzU2tpcCxcbiAgSGxzVXJsUGFyYW1ldGVycyxcbiAgTGV2ZWxBdHRyaWJ1dGVzLFxuICBMZXZlbFBhcnNlZCxcbiAgVmFyaWFibGVNYXAsXG59IGZyb20gJy4vdHlwZXMvbGV2ZWwnO1xuZXhwb3J0IHR5cGUgeyBNZWRpYURlY29kaW5nSW5mbyB9IGZyb20gJy4vdXRpbHMvbWVkaWFjYXBhYmlsaXRpZXMtaGVscGVyJztcbmV4cG9ydCB0eXBlIHtcbiAgUGxheWxpc3RMZXZlbFR5cGUsXG4gIEhsc0NodW5rUGVyZm9ybWFuY2VUaW1pbmcsXG4gIEhsc1BlcmZvcm1hbmNlVGltaW5nLFxuICBIbHNQcm9ncmVzc2l2ZVBlcmZvcm1hbmNlVGltaW5nLFxuICBQbGF5bGlzdENvbnRleHRUeXBlLFxuICBQbGF5bGlzdExvYWRlckNvbnRleHQsXG4gIEZyYWdtZW50TG9hZGVyQ29udGV4dCxcbiAgTG9hZGVyLFxuICBMb2FkZXJTdGF0cyxcbiAgTG9hZGVyQ29udGV4dCxcbiAgTG9hZGVyUmVzcG9uc2UsXG4gIExvYWRlckNvbmZpZ3VyYXRpb24sXG4gIExvYWRlckNhbGxiYWNrcyxcbiAgTG9hZGVyT25Qcm9ncmVzcyxcbiAgTG9hZGVyT25BYm9ydCxcbiAgTG9hZGVyT25FcnJvcixcbiAgTG9hZGVyT25TdWNjZXNzLFxuICBMb2FkZXJPblRpbWVvdXQsXG59IGZyb20gJy4vdHlwZXMvbG9hZGVyJztcbmV4cG9ydCB0eXBlIHtcbiAgTWVkaWFBdHRyaWJ1dGVzLFxuICBNZWRpYVBsYXlsaXN0VHlwZSxcbiAgTWFpblBsYXlsaXN0VHlwZSxcbiAgQXVkaW9QbGF5bGlzdFR5cGUsXG4gIFN1YnRpdGxlUGxheWxpc3RUeXBlLFxufSBmcm9tICcuL3R5cGVzL21lZGlhLXBsYXlsaXN0JztcbmV4cG9ydCB0eXBlIHsgVHJhY2ssIFRyYWNrU2V0IH0gZnJvbSAnLi90eXBlcy90cmFjayc7XG5leHBvcnQgdHlwZSB7IENodW5rTWV0YWRhdGEgfSBmcm9tICcuL3R5cGVzL3RyYW5zbXV4ZXInO1xuZXhwb3J0IHR5cGUge1xuICBCYXNlU2VnbWVudCxcbiAgRnJhZ21lbnQsXG4gIFBhcnQsXG4gIEVsZW1lbnRhcnlTdHJlYW1zLFxuICBFbGVtZW50YXJ5U3RyZWFtVHlwZXMsXG4gIEVsZW1lbnRhcnlTdHJlYW1JbmZvLFxufSBmcm9tICcuL2xvYWRlci9mcmFnbWVudCc7XG5leHBvcnQgdHlwZSB7XG4gIFRyYWNrTG9hZGluZ0RhdGEsXG4gIFRyYWNrTG9hZGVkRGF0YSxcbiAgQXVkaW9UcmFja0xvYWRlZERhdGEsXG4gIEF1ZGlvVHJhY2tzVXBkYXRlZERhdGEsXG4gIEF1ZGlvVHJhY2tTd2l0Y2hlZERhdGEsXG4gIEF1ZGlvVHJhY2tTd2l0Y2hpbmdEYXRhLFxuICBCYWNrQnVmZmVyRGF0YSxcbiAgQnVmZmVyQXBwZW5kZWREYXRhLFxuICBCdWZmZXJBcHBlbmRpbmdEYXRhLFxuICBCdWZmZXJDb2RlY3NEYXRhLFxuICBCdWZmZXJDcmVhdGVkRGF0YSxcbiAgQnVmZmVyRU9TRGF0YSxcbiAgQnVmZmVyRmx1c2hlZERhdGEsXG4gIEJ1ZmZlckZsdXNoaW5nRGF0YSxcbiAgQ3Vlc1BhcnNlZERhdGEsXG4gIEVycm9yRGF0YSxcbiAgRlBTRHJvcERhdGEsXG4gIEZQU0Ryb3BMZXZlbENhcHBpbmdEYXRhLFxuICBGcmFnQnVmZmVyZWREYXRhLFxuICBGcmFnQ2hhbmdlZERhdGEsXG4gIEZyYWdEZWNyeXB0ZWREYXRhLFxuICBGcmFnTG9hZGVkRGF0YSxcbiAgRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkRGF0YSxcbiAgRnJhZ0xvYWRpbmdEYXRhLFxuICBGcmFnUGFyc2VkRGF0YSxcbiAgRnJhZ1BhcnNpbmdJbml0U2VnbWVudERhdGEsXG4gIEZyYWdQYXJzaW5nTWV0YWRhdGFEYXRhLFxuICBGcmFnUGFyc2luZ1VzZXJkYXRhRGF0YSxcbiAgSW5pdFBUU0ZvdW5kRGF0YSxcbiAgS2V5TG9hZGVkRGF0YSxcbiAgS2V5TG9hZGluZ0RhdGEsXG4gIExldmVsTG9hZGVkRGF0YSxcbiAgTGV2ZWxMb2FkaW5nRGF0YSxcbiAgTGV2ZWxQVFNVcGRhdGVkRGF0YSxcbiAgTGV2ZWxzVXBkYXRlZERhdGEsXG4gIExldmVsU3dpdGNoZWREYXRhLFxuICBMZXZlbFN3aXRjaGluZ0RhdGEsXG4gIExldmVsVXBkYXRlZERhdGEsXG4gIExpdmVCYWNrQnVmZmVyRGF0YSxcbiAgQ29udGVudFN0ZWVyaW5nT3B0aW9ucyxcbiAgTWFuaWZlc3RMb2FkZWREYXRhLFxuICBNYW5pZmVzdExvYWRpbmdEYXRhLFxuICBNYW5pZmVzdFBhcnNlZERhdGEsXG4gIE1lZGlhQXR0YWNoZWREYXRhLFxuICBNZWRpYUF0dGFjaGluZ0RhdGEsXG4gIE5vbk5hdGl2ZVRleHRUcmFjayxcbiAgTm9uTmF0aXZlVGV4dFRyYWNrc0RhdGEsXG4gIFN0ZWVyaW5nTWFuaWZlc3RMb2FkZWREYXRhLFxuICBTdWJ0aXRsZUZyYWdQcm9jZXNzZWREYXRhLFxuICBTdWJ0aXRsZVRyYWNrTG9hZGVkRGF0YSxcbiAgU3VidGl0bGVUcmFja3NVcGRhdGVkRGF0YSxcbiAgU3VidGl0bGVUcmFja1N3aXRjaERhdGEsXG59IGZyb20gJy4vdHlwZXMvZXZlbnRzJztcbmV4cG9ydCB0eXBlIHtcbiAgTmV0d29ya0Vycm9yQWN0aW9uLFxuICBFcnJvckFjdGlvbkZsYWdzLFxuICBJRXJyb3JBY3Rpb24sXG59IGZyb20gJy4vY29udHJvbGxlci9lcnJvci1jb250cm9sbGVyJztcbmV4cG9ydCB0eXBlIHsgQXR0ckxpc3QgfSBmcm9tICcuL3V0aWxzL2F0dHItbGlzdCc7XG4iLCAiaW1wb3J0IEhscyBmcm9tICdobHMuanMnXHJcblxyXG5jb25zdCBsaW5rUmVnZXggPSAvXiguKlxcLm0zdTgpLyAvLyBcdTk0RkVcdTYzQTVcclxuY29uc3QgdGltZXN0YW1wUmVnZXggPSAvI3Q9KFxcZCspKD86LChcXGQrKSk/LyAvLyBcdTY1RjZcdTk1RjRcdTYyMzNcdUZGMENcdTY1MkZcdTYzMDFcdTUzNTVcdTRFMkFcdTYyMTZcdTU5MUFcdTRFMkFcdTY1RjZcdTk1RjRcdTUwM0NcclxuXHJcbmZ1bmN0aW9uIGdldFNvdXJjZURldGFpbHModmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50KSB7XHJcblx0Y29uc3Qgc291cmNlRWxlbWVudCA9IHZpZGVvRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzb3VyY2UnKVxyXG5cdGlmICghc291cmNlRWxlbWVudCkgcmV0dXJuIG51bGxcclxuXHJcblx0Y29uc3Qgc3JjID0gc291cmNlRWxlbWVudC5zcmNcclxuXHRyZXR1cm4ge1xyXG5cdFx0c291cmNlRWxlbWVudCxcclxuXHRcdHNyYyxcclxuXHRcdGxpbmtNYXRjaDogc3JjLm1hdGNoKGxpbmtSZWdleCksXHJcblx0XHR0aW1lc3RhbXBNYXRjaDogc3JjLm1hdGNoKHRpbWVzdGFtcFJlZ2V4KSxcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU0zdThWaWRlbyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykuZm9yRWFjaCgodmlkZW9FbGVtZW50KSA9PiB7XHJcblx0XHRjb25zdCBkZXRhaWxzID0gZ2V0U291cmNlRGV0YWlscyh2aWRlb0VsZW1lbnQpXHJcblx0XHRpZiAoIWRldGFpbHMgfHwgIWRldGFpbHMubGlua01hdGNoKSByZXR1cm5cclxuXHJcblx0XHRpbml0aWFsaXplSExTKHZpZGVvRWxlbWVudCwgZGV0YWlscy50aW1lc3RhbXBNYXRjaClcclxuXHJcblx0XHR2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdGBbY3l1LXRvb2wta2l0XSBFcnJvciBvY2N1cnJlZCBpbiB2aWRlbzogJHt2aWRlb0VsZW1lbnQuc3JjfS4gUmV0cnlpbmcuLi5gXHJcblx0XHRcdClcclxuXHRcdFx0aW5pdGlhbGl6ZUhMUyh2aWRlb0VsZW1lbnQsIGRldGFpbHMudGltZXN0YW1wTWF0Y2gpXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVITFMoXHJcblx0dmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50LFxyXG5cdHRpbWVzdGFtcE1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbFxyXG4pIHtcclxuXHRjb25zdCBkZXRhaWxzID0gZ2V0U291cmNlRGV0YWlscyh2aWRlb0VsZW1lbnQpXHJcblx0aWYgKCFkZXRhaWxzKSByZXR1cm5cclxuXHJcblx0bGV0IHN0YXJ0VGltZTogbnVtYmVyID0gMFxyXG5cdGxldCBlbmRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbFxyXG5cclxuXHRpZiAodGltZXN0YW1wTWF0Y2gpIHtcclxuXHRcdHN0YXJ0VGltZSA9IE51bWJlcih0aW1lc3RhbXBNYXRjaFsxXSlcclxuXHRcdGlmICh0aW1lc3RhbXBNYXRjaFsyXSkge1xyXG5cdFx0XHRlbmRUaW1lID0gTnVtYmVyKHRpbWVzdGFtcE1hdGNoWzJdKVxyXG5cdFx0fVxyXG5cclxuXHRcdHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmlkZW9FbGVtZW50LmN1cnJlbnRUaW1lID0gc3RhcnRUaW1lXHJcblx0XHR9KVxyXG5cclxuXHRcdHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoZW5kVGltZSAhPT0gbnVsbCAmJiB2aWRlb0VsZW1lbnQuY3VycmVudFRpbWUgPj0gZW5kVGltZSkge1xyXG5cdFx0XHRcdHZpZGVvRWxlbWVudC5wYXVzZSgpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRpZiAoSGxzLmlzU3VwcG9ydGVkKCkpIHtcclxuXHRcdGNvbnN0IGhscyA9IG5ldyBIbHMoKVxyXG5cdFx0aGxzLmxvYWRTb3VyY2UoZGV0YWlscy5zcmMpXHJcblx0XHRobHMuYXR0YWNoTWVkaWEodmlkZW9FbGVtZW50KVxyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7OzswYUFBQSxJQUFBQSxHQUFBLEdBQUFDLEdBQUFELEdBQUEsYUFBQUUsS0FBQSxlQUFBQyxHQUFBSCxJQUNB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LElBQU1BLEVBQWlCLE1BQU9DLEdBQXFCLENBQ2xELElBQU1DLEVBQWUsS0FBSyxJQUFJLE1BQU0sc0JBQXNCRCxDQUFRLEVBQ2xFLEdBQUksRUFBRUMsYUFBd0IsVUFBUSxDQUNyQyxRQUFRLEtBQUssOERBQXVCRCxDQUFRLEVBQzVDLE1BQ0QsQ0FFQSxJQUFNbEMsRUFBT21DLEVBR1BDLEVBQVUsS0FBSyxJQUFJLFVBQVUsUUFBUSxLQUFLLEVBZWhELE1BQU1BLEVBQVEsU0FBU3BDLEVBQU0sQ0FBRSxPQUFRLEVBQUssQ0FBQyxFQUU3QyxPQUFPLFdBQVcsSUFBTSxDQUN2QixLQUFLLElBQUksVUFBVSxjQUFjb0MsRUFBUyxDQUFFLE1BQU8sRUFBSyxDQUFDLENBQzFELEVBQUcsQ0FBQyxFQUVDQSxFQUFRLGFBQWEsRUFBRSxRQUMzQkEsRUFBUSxVQUFVLEVBQUksQ0FFeEIsQ0FDRCxDQUVBLE1BQU0sY0FBZSxDQUNwQixLQUFLLFNBQVcsT0FBTyxPQUFPLENBQUMsRUFBRzFFLEdBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FDMUUsQ0FFQSxNQUFNLGNBQWUsQ0FDcEIsS0FBSyxTQUFTLEtBQUssUUFBUSxDQUM1QixDQUNEIiwKICAibmFtZXMiOiBbIm1haW5fZXhwb3J0cyIsICJfX2V4cG9ydCIsICJDeXVUb29sa2l0UGx1Z2luIiwgIl9fdG9Db21tb25KUyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAidG9wIiwgImJvdHRvbSIsICJyaWdodCIsICJsZWZ0IiwgImF1dG8iLCAiYmFzZVBsYWNlbWVudHMiLCAic3RhcnQiLCAiZW5kIiwgImNsaXBwaW5nUGFyZW50cyIsICJ2aWV3cG9ydCIsICJwb3BwZXIiLCAicmVmZXJlbmNlIiwgInZhcmlhdGlvblBsYWNlbWVudHMiLCAiYWNjIiwgInBsYWNlbWVudCIsICJwbGFjZW1lbnRzIiwgImJlZm9yZVJlYWQiLCAicmVhZCIsICJhZnRlclJlYWQiLCAiYmVmb3JlTWFpbiIsICJtYWluIiwgImFmdGVyTWFpbiIsICJiZWZvcmVXcml0ZSIsICJ3cml0ZSIsICJhZnRlcldyaXRlIiwgIm1vZGlmaWVyUGhhc2VzIiwgImdldE5vZGVOYW1lIiwgImVsZW1lbnQiLCAiZ2V0V2luZG93IiwgIm5vZGUiLCAib3duZXJEb2N1bWVudCIsICJpc0VsZW1lbnQiLCAibm9kZSIsICJPd25FbGVtZW50IiwgImdldFdpbmRvdyIsICJpc0hUTUxFbGVtZW50IiwgImlzU2hhZG93Um9vdCIsICJhcHBseVN0eWxlcyIsICJfcmVmIiwgInN0YXRlIiwgIm5hbWUiLCAic3R5bGUiLCAiYXR0cmlidXRlcyIsICJlbGVtZW50IiwgImlzSFRNTEVsZW1lbnQiLCAiZ2V0Tm9kZU5hbWUiLCAidmFsdWUiLCAiZWZmZWN0IiwgIl9yZWYyIiwgImluaXRpYWxTdHlsZXMiLCAic3R5bGVQcm9wZXJ0aWVzIiwgInByb3BlcnR5IiwgImF0dHJpYnV0ZSIsICJhcHBseVN0eWxlc19kZWZhdWx0IiwgImdldEJhc2VQbGFjZW1lbnQiLCAicGxhY2VtZW50IiwgIm1heCIsICJtaW4iLCAicm91bmQiLCAiZ2V0VUFTdHJpbmciLCAidWFEYXRhIiwgIml0ZW0iLCAiaXNMYXlvdXRWaWV3cG9ydCIsICJnZXRVQVN0cmluZyIsICJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCAiZWxlbWVudCIsICJpbmNsdWRlU2NhbGUiLCAiaXNGaXhlZFN0cmF0ZWd5IiwgImNsaWVudFJlY3QiLCAic2NhbGVYIiwgInNjYWxlWSIsICJpc0hUTUxFbGVtZW50IiwgInJvdW5kIiwgIl9yZWYiLCAiaXNFbGVtZW50IiwgImdldFdpbmRvdyIsICJ2aXN1YWxWaWV3cG9ydCIsICJhZGRWaXN1YWxPZmZzZXRzIiwgImlzTGF5b3V0Vmlld3BvcnQiLCAieCIsICJ5IiwgIndpZHRoIiwgImhlaWdodCIsICJnZXRMYXlvdXRSZWN0IiwgImVsZW1lbnQiLCAiY2xpZW50UmVjdCIsICJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCAid2lkdGgiLCAiaGVpZ2h0IiwgImNvbnRhaW5zIiwgInBhcmVudCIsICJjaGlsZCIsICJyb290Tm9kZSIsICJpc1NoYWRvd1Jvb3QiLCAibmV4dCIsICJnZXRDb21wdXRlZFN0eWxlIiwgImVsZW1lbnQiLCAiZ2V0V2luZG93IiwgImlzVGFibGVFbGVtZW50IiwgImVsZW1lbnQiLCAiZ2V0Tm9kZU5hbWUiLCAiZ2V0RG9jdW1lbnRFbGVtZW50IiwgImVsZW1lbnQiLCAiaXNFbGVtZW50IiwgImdldFBhcmVudE5vZGUiLCAiZWxlbWVudCIsICJnZXROb2RlTmFtZSIsICJpc1NoYWRvd1Jvb3QiLCAiZ2V0RG9jdW1lbnRFbGVtZW50IiwgImdldFRydWVPZmZzZXRQYXJlbnQiLCAiZWxlbWVudCIsICJpc0hUTUxFbGVtZW50IiwgImdldENvbXB1dGVkU3R5bGUiLCAiZ2V0Q29udGFpbmluZ0Jsb2NrIiwgImlzRmlyZWZveCIsICJnZXRVQVN0cmluZyIsICJpc0lFIiwgImVsZW1lbnRDc3MiLCAiY3VycmVudE5vZGUiLCAiZ2V0UGFyZW50Tm9kZSIsICJpc1NoYWRvd1Jvb3QiLCAiZ2V0Tm9kZU5hbWUiLCAiY3NzIiwgImdldE9mZnNldFBhcmVudCIsICJ3aW5kb3ciLCAiZ2V0V2luZG93IiwgIm9mZnNldFBhcmVudCIsICJpc1RhYmxlRWxlbWVudCIsICJnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQiLCAicGxhY2VtZW50IiwgIndpdGhpbiIsICJtaW4iLCAidmFsdWUiLCAibWF4IiwgIndpdGhpbk1heENsYW1wIiwgInYiLCAiZ2V0RnJlc2hTaWRlT2JqZWN0IiwgIm1lcmdlUGFkZGluZ09iamVjdCIsICJwYWRkaW5nT2JqZWN0IiwgImdldEZyZXNoU2lkZU9iamVjdCIsICJleHBhbmRUb0hhc2hNYXAiLCAidmFsdWUiLCAia2V5cyIsICJoYXNoTWFwIiwgImtleSIsICJ0b1BhZGRpbmdPYmplY3QiLCAicGFkZGluZyIsICJzdGF0ZSIsICJtZXJnZVBhZGRpbmdPYmplY3QiLCAiZXhwYW5kVG9IYXNoTWFwIiwgImJhc2VQbGFjZW1lbnRzIiwgImFycm93IiwgIl9yZWYiLCAiX3N0YXRlJG1vZGlmaWVyc0RhdGEkIiwgIm5hbWUiLCAib3B0aW9ucyIsICJhcnJvd0VsZW1lbnQiLCAicG9wcGVyT2Zmc2V0cyIsICJiYXNlUGxhY2VtZW50IiwgImdldEJhc2VQbGFjZW1lbnQiLCAiYXhpcyIsICJnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQiLCAiaXNWZXJ0aWNhbCIsICJsZWZ0IiwgInJpZ2h0IiwgImxlbiIsICJwYWRkaW5nT2JqZWN0IiwgImFycm93UmVjdCIsICJnZXRMYXlvdXRSZWN0IiwgIm1pblByb3AiLCAidG9wIiwgIm1heFByb3AiLCAiYm90dG9tIiwgImVuZERpZmYiLCAic3RhcnREaWZmIiwgImFycm93T2Zmc2V0UGFyZW50IiwgImdldE9mZnNldFBhcmVudCIsICJjbGllbnRTaXplIiwgImNlbnRlclRvUmVmZXJlbmNlIiwgIm1pbiIsICJtYXgiLCAiY2VudGVyIiwgIm9mZnNldCIsICJ3aXRoaW4iLCAiYXhpc1Byb3AiLCAiZWZmZWN0IiwgIl9yZWYyIiwgIl9vcHRpb25zJGVsZW1lbnQiLCAiY29udGFpbnMiLCAiYXJyb3dfZGVmYXVsdCIsICJnZXRWYXJpYXRpb24iLCAicGxhY2VtZW50IiwgInVuc2V0U2lkZXMiLCAicm91bmRPZmZzZXRzQnlEUFIiLCAiX3JlZiIsICJ3aW4iLCAieCIsICJ5IiwgImRwciIsICJyb3VuZCIsICJtYXBUb1N0eWxlcyIsICJfcmVmMiIsICJfT2JqZWN0JGFzc2lnbjIiLCAicG9wcGVyIiwgInBvcHBlclJlY3QiLCAicGxhY2VtZW50IiwgInZhcmlhdGlvbiIsICJvZmZzZXRzIiwgInBvc2l0aW9uIiwgImdwdUFjY2VsZXJhdGlvbiIsICJhZGFwdGl2ZSIsICJyb3VuZE9mZnNldHMiLCAiaXNGaXhlZCIsICJfb2Zmc2V0cyR4IiwgIl9vZmZzZXRzJHkiLCAiX3JlZjMiLCAiaGFzWCIsICJoYXNZIiwgInNpZGVYIiwgImxlZnQiLCAic2lkZVkiLCAidG9wIiwgIm9mZnNldFBhcmVudCIsICJnZXRPZmZzZXRQYXJlbnQiLCAiaGVpZ2h0UHJvcCIsICJ3aWR0aFByb3AiLCAiZ2V0V2luZG93IiwgImdldERvY3VtZW50RWxlbWVudCIsICJnZXRDb21wdXRlZFN0eWxlIiwgInJpZ2h0IiwgImVuZCIsICJib3R0b20iLCAib2Zmc2V0WSIsICJvZmZzZXRYIiwgImNvbW1vblN0eWxlcyIsICJfcmVmNCIsICJfT2JqZWN0JGFzc2lnbiIsICJjb21wdXRlU3R5bGVzIiwgIl9yZWY1IiwgInN0YXRlIiwgIm9wdGlvbnMiLCAiX29wdGlvbnMkZ3B1QWNjZWxlcmF0IiwgIl9vcHRpb25zJGFkYXB0aXZlIiwgIl9vcHRpb25zJHJvdW5kT2Zmc2V0cyIsICJnZXRCYXNlUGxhY2VtZW50IiwgImdldFZhcmlhdGlvbiIsICJjb21wdXRlU3R5bGVzX2RlZmF1bHQiLCAicGFzc2l2ZSIsICJlZmZlY3QiLCAiX3JlZiIsICJzdGF0ZSIsICJpbnN0YW5jZSIsICJvcHRpb25zIiwgIl9vcHRpb25zJHNjcm9sbCIsICJzY3JvbGwiLCAiX29wdGlvbnMkcmVzaXplIiwgInJlc2l6ZSIsICJ3aW5kb3ciLCAiZ2V0V2luZG93IiwgInNjcm9sbFBhcmVudHMiLCAic2Nyb2xsUGFyZW50IiwgImV2ZW50TGlzdGVuZXJzX2RlZmF1bHQiLCAiaGFzaCIsICJnZXRPcHBvc2l0ZVBsYWNlbWVudCIsICJwbGFjZW1lbnQiLCAibWF0Y2hlZCIsICJoYXNoIiwgImdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50IiwgInBsYWNlbWVudCIsICJtYXRjaGVkIiwgImdldFdpbmRvd1Njcm9sbCIsICJub2RlIiwgIndpbiIsICJnZXRXaW5kb3ciLCAic2Nyb2xsTGVmdCIsICJzY3JvbGxUb3AiLCAiZ2V0V2luZG93U2Nyb2xsQmFyWCIsICJlbGVtZW50IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJnZXREb2N1bWVudEVsZW1lbnQiLCAiZ2V0V2luZG93U2Nyb2xsIiwgImdldFZpZXdwb3J0UmVjdCIsICJlbGVtZW50IiwgInN0cmF0ZWd5IiwgIndpbiIsICJnZXRXaW5kb3ciLCAiaHRtbCIsICJnZXREb2N1bWVudEVsZW1lbnQiLCAidmlzdWFsVmlld3BvcnQiLCAid2lkdGgiLCAiaGVpZ2h0IiwgIngiLCAieSIsICJsYXlvdXRWaWV3cG9ydCIsICJpc0xheW91dFZpZXdwb3J0IiwgImdldFdpbmRvd1Njcm9sbEJhclgiLCAiZ2V0RG9jdW1lbnRSZWN0IiwgImVsZW1lbnQiLCAiX2VsZW1lbnQkb3duZXJEb2N1bWVuIiwgImh0bWwiLCAiZ2V0RG9jdW1lbnRFbGVtZW50IiwgIndpblNjcm9sbCIsICJnZXRXaW5kb3dTY3JvbGwiLCAiYm9keSIsICJ3aWR0aCIsICJtYXgiLCAiaGVpZ2h0IiwgIngiLCAiZ2V0V2luZG93U2Nyb2xsQmFyWCIsICJ5IiwgImdldENvbXB1dGVkU3R5bGUiLCAiaXNTY3JvbGxQYXJlbnQiLCAiZWxlbWVudCIsICJfZ2V0Q29tcHV0ZWRTdHlsZSIsICJnZXRDb21wdXRlZFN0eWxlIiwgIm92ZXJmbG93IiwgIm92ZXJmbG93WCIsICJvdmVyZmxvd1kiLCAiZ2V0U2Nyb2xsUGFyZW50IiwgIm5vZGUiLCAiZ2V0Tm9kZU5hbWUiLCAiaXNIVE1MRWxlbWVudCIsICJpc1Njcm9sbFBhcmVudCIsICJnZXRQYXJlbnROb2RlIiwgImxpc3RTY3JvbGxQYXJlbnRzIiwgImVsZW1lbnQiLCAibGlzdCIsICJfZWxlbWVudCRvd25lckRvY3VtZW4iLCAic2Nyb2xsUGFyZW50IiwgImdldFNjcm9sbFBhcmVudCIsICJpc0JvZHkiLCAid2luIiwgImdldFdpbmRvdyIsICJ0YXJnZXQiLCAiaXNTY3JvbGxQYXJlbnQiLCAidXBkYXRlZExpc3QiLCAiZ2V0UGFyZW50Tm9kZSIsICJyZWN0VG9DbGllbnRSZWN0IiwgInJlY3QiLCAiZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QiLCAiZWxlbWVudCIsICJzdHJhdGVneSIsICJyZWN0IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZSIsICJjbGlwcGluZ1BhcmVudCIsICJ2aWV3cG9ydCIsICJyZWN0VG9DbGllbnRSZWN0IiwgImdldFZpZXdwb3J0UmVjdCIsICJpc0VsZW1lbnQiLCAiZ2V0RG9jdW1lbnRSZWN0IiwgImdldERvY3VtZW50RWxlbWVudCIsICJnZXRDbGlwcGluZ1BhcmVudHMiLCAiY2xpcHBpbmdQYXJlbnRzIiwgImxpc3RTY3JvbGxQYXJlbnRzIiwgImdldFBhcmVudE5vZGUiLCAiY2FuRXNjYXBlQ2xpcHBpbmciLCAiZ2V0Q29tcHV0ZWRTdHlsZSIsICJjbGlwcGVyRWxlbWVudCIsICJpc0hUTUxFbGVtZW50IiwgImdldE9mZnNldFBhcmVudCIsICJjb250YWlucyIsICJnZXROb2RlTmFtZSIsICJnZXRDbGlwcGluZ1JlY3QiLCAiYm91bmRhcnkiLCAicm9vdEJvdW5kYXJ5IiwgIm1haW5DbGlwcGluZ1BhcmVudHMiLCAiZmlyc3RDbGlwcGluZ1BhcmVudCIsICJjbGlwcGluZ1JlY3QiLCAiYWNjUmVjdCIsICJtYXgiLCAibWluIiwgImNvbXB1dGVPZmZzZXRzIiwgIl9yZWYiLCAicmVmZXJlbmNlIiwgImVsZW1lbnQiLCAicGxhY2VtZW50IiwgImJhc2VQbGFjZW1lbnQiLCAiZ2V0QmFzZVBsYWNlbWVudCIsICJ2YXJpYXRpb24iLCAiZ2V0VmFyaWF0aW9uIiwgImNvbW1vblgiLCAiY29tbW9uWSIsICJvZmZzZXRzIiwgInRvcCIsICJib3R0b20iLCAicmlnaHQiLCAibGVmdCIsICJtYWluQXhpcyIsICJnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQiLCAibGVuIiwgInN0YXJ0IiwgImVuZCIsICJkZXRlY3RPdmVyZmxvdyIsICJzdGF0ZSIsICJvcHRpb25zIiwgIl9vcHRpb25zIiwgIl9vcHRpb25zJHBsYWNlbWVudCIsICJwbGFjZW1lbnQiLCAiX29wdGlvbnMkc3RyYXRlZ3kiLCAic3RyYXRlZ3kiLCAiX29wdGlvbnMkYm91bmRhcnkiLCAiYm91bmRhcnkiLCAiY2xpcHBpbmdQYXJlbnRzIiwgIl9vcHRpb25zJHJvb3RCb3VuZGFyeSIsICJyb290Qm91bmRhcnkiLCAidmlld3BvcnQiLCAiX29wdGlvbnMkZWxlbWVudENvbnRlIiwgImVsZW1lbnRDb250ZXh0IiwgInBvcHBlciIsICJfb3B0aW9ucyRhbHRCb3VuZGFyeSIsICJhbHRCb3VuZGFyeSIsICJfb3B0aW9ucyRwYWRkaW5nIiwgInBhZGRpbmciLCAicGFkZGluZ09iamVjdCIsICJtZXJnZVBhZGRpbmdPYmplY3QiLCAiZXhwYW5kVG9IYXNoTWFwIiwgImJhc2VQbGFjZW1lbnRzIiwgImFsdENvbnRleHQiLCAicmVmZXJlbmNlIiwgInBvcHBlclJlY3QiLCAiZWxlbWVudCIsICJjbGlwcGluZ0NsaWVudFJlY3QiLCAiZ2V0Q2xpcHBpbmdSZWN0IiwgImlzRWxlbWVudCIsICJnZXREb2N1bWVudEVsZW1lbnQiLCAicmVmZXJlbmNlQ2xpZW50UmVjdCIsICJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCAicG9wcGVyT2Zmc2V0cyIsICJjb21wdXRlT2Zmc2V0cyIsICJwb3BwZXJDbGllbnRSZWN0IiwgInJlY3RUb0NsaWVudFJlY3QiLCAiZWxlbWVudENsaWVudFJlY3QiLCAib3ZlcmZsb3dPZmZzZXRzIiwgIm9mZnNldERhdGEiLCAib2Zmc2V0IiwgImtleSIsICJtdWx0aXBseSIsICJyaWdodCIsICJib3R0b20iLCAiYXhpcyIsICJ0b3AiLCAiY29tcHV0ZUF1dG9QbGFjZW1lbnQiLCAic3RhdGUiLCAib3B0aW9ucyIsICJfb3B0aW9ucyIsICJwbGFjZW1lbnQiLCAiYm91bmRhcnkiLCAicm9vdEJvdW5kYXJ5IiwgInBhZGRpbmciLCAiZmxpcFZhcmlhdGlvbnMiLCAiX29wdGlvbnMkYWxsb3dlZEF1dG9QIiwgImFsbG93ZWRBdXRvUGxhY2VtZW50cyIsICJwbGFjZW1lbnRzIiwgInZhcmlhdGlvbiIsICJnZXRWYXJpYXRpb24iLCAidmFyaWF0aW9uUGxhY2VtZW50cyIsICJiYXNlUGxhY2VtZW50cyIsICJhbGxvd2VkUGxhY2VtZW50cyIsICJvdmVyZmxvd3MiLCAiYWNjIiwgImRldGVjdE92ZXJmbG93IiwgImdldEJhc2VQbGFjZW1lbnQiLCAiYSIsICJiIiwgImdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzIiwgInBsYWNlbWVudCIsICJnZXRCYXNlUGxhY2VtZW50IiwgImF1dG8iLCAib3Bwb3NpdGVQbGFjZW1lbnQiLCAiZ2V0T3Bwb3NpdGVQbGFjZW1lbnQiLCAiZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQiLCAiZmxpcCIsICJfcmVmIiwgInN0YXRlIiwgIm9wdGlvbnMiLCAibmFtZSIsICJfb3B0aW9ucyRtYWluQXhpcyIsICJjaGVja01haW5BeGlzIiwgIl9vcHRpb25zJGFsdEF4aXMiLCAiY2hlY2tBbHRBeGlzIiwgInNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyIsICJwYWRkaW5nIiwgImJvdW5kYXJ5IiwgInJvb3RCb3VuZGFyeSIsICJhbHRCb3VuZGFyeSIsICJfb3B0aW9ucyRmbGlwVmFyaWF0aW8iLCAiZmxpcFZhcmlhdGlvbnMiLCAiYWxsb3dlZEF1dG9QbGFjZW1lbnRzIiwgInByZWZlcnJlZFBsYWNlbWVudCIsICJiYXNlUGxhY2VtZW50IiwgImlzQmFzZVBsYWNlbWVudCIsICJmYWxsYmFja1BsYWNlbWVudHMiLCAicGxhY2VtZW50cyIsICJhY2MiLCAiY29tcHV0ZUF1dG9QbGFjZW1lbnQiLCAicmVmZXJlbmNlUmVjdCIsICJwb3BwZXJSZWN0IiwgImNoZWNrc01hcCIsICJtYWtlRmFsbGJhY2tDaGVja3MiLCAiZmlyc3RGaXR0aW5nUGxhY2VtZW50IiwgImkiLCAiX2Jhc2VQbGFjZW1lbnQiLCAiaXNTdGFydFZhcmlhdGlvbiIsICJnZXRWYXJpYXRpb24iLCAic3RhcnQiLCAiaXNWZXJ0aWNhbCIsICJ0b3AiLCAiYm90dG9tIiwgImxlbiIsICJvdmVyZmxvdyIsICJkZXRlY3RPdmVyZmxvdyIsICJtYWluVmFyaWF0aW9uU2lkZSIsICJyaWdodCIsICJsZWZ0IiwgImFsdFZhcmlhdGlvblNpZGUiLCAiY2hlY2tzIiwgImNoZWNrIiwgIm51bWJlck9mQ2hlY2tzIiwgIl9sb29wIiwgIl9pIiwgImZpdHRpbmdQbGFjZW1lbnQiLCAiX3JldCIsICJmbGlwX2RlZmF1bHQiLCAiZ2V0U2lkZU9mZnNldHMiLCAib3ZlcmZsb3ciLCAicmVjdCIsICJwcmV2ZW50ZWRPZmZzZXRzIiwgImlzQW55U2lkZUZ1bGx5Q2xpcHBlZCIsICJ0b3AiLCAicmlnaHQiLCAiYm90dG9tIiwgImxlZnQiLCAic2lkZSIsICJoaWRlIiwgIl9yZWYiLCAic3RhdGUiLCAibmFtZSIsICJyZWZlcmVuY2VSZWN0IiwgInBvcHBlclJlY3QiLCAicmVmZXJlbmNlT3ZlcmZsb3ciLCAiZGV0ZWN0T3ZlcmZsb3ciLCAicG9wcGVyQWx0T3ZlcmZsb3ciLCAicmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzIiwgInBvcHBlckVzY2FwZU9mZnNldHMiLCAiaXNSZWZlcmVuY2VIaWRkZW4iLCAiaGFzUG9wcGVyRXNjYXBlZCIsICJoaWRlX2RlZmF1bHQiLCAiZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkiLCAicGxhY2VtZW50IiwgInJlY3RzIiwgIm9mZnNldCIsICJiYXNlUGxhY2VtZW50IiwgImdldEJhc2VQbGFjZW1lbnQiLCAiaW52ZXJ0RGlzdGFuY2UiLCAibGVmdCIsICJ0b3AiLCAiX3JlZiIsICJza2lkZGluZyIsICJkaXN0YW5jZSIsICJyaWdodCIsICJfcmVmMiIsICJzdGF0ZSIsICJvcHRpb25zIiwgIm5hbWUiLCAiX29wdGlvbnMkb2Zmc2V0IiwgImRhdGEiLCAicGxhY2VtZW50cyIsICJhY2MiLCAiX2RhdGEkc3RhdGUkcGxhY2VtZW50IiwgIngiLCAieSIsICJvZmZzZXRfZGVmYXVsdCIsICJwb3BwZXJPZmZzZXRzIiwgIl9yZWYiLCAic3RhdGUiLCAibmFtZSIsICJjb21wdXRlT2Zmc2V0cyIsICJwb3BwZXJPZmZzZXRzX2RlZmF1bHQiLCAiZ2V0QWx0QXhpcyIsICJheGlzIiwgInByZXZlbnRPdmVyZmxvdyIsICJfcmVmIiwgInN0YXRlIiwgIm9wdGlvbnMiLCAibmFtZSIsICJfb3B0aW9ucyRtYWluQXhpcyIsICJjaGVja01haW5BeGlzIiwgIl9vcHRpb25zJGFsdEF4aXMiLCAiY2hlY2tBbHRBeGlzIiwgImJvdW5kYXJ5IiwgInJvb3RCb3VuZGFyeSIsICJhbHRCb3VuZGFyeSIsICJwYWRkaW5nIiwgIl9vcHRpb25zJHRldGhlciIsICJ0ZXRoZXIiLCAiX29wdGlvbnMkdGV0aGVyT2Zmc2V0IiwgInRldGhlck9mZnNldCIsICJvdmVyZmxvdyIsICJkZXRlY3RPdmVyZmxvdyIsICJiYXNlUGxhY2VtZW50IiwgImdldEJhc2VQbGFjZW1lbnQiLCAidmFyaWF0aW9uIiwgImdldFZhcmlhdGlvbiIsICJpc0Jhc2VQbGFjZW1lbnQiLCAibWFpbkF4aXMiLCAiZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IiwgImFsdEF4aXMiLCAiZ2V0QWx0QXhpcyIsICJwb3BwZXJPZmZzZXRzIiwgInJlZmVyZW5jZVJlY3QiLCAicG9wcGVyUmVjdCIsICJ0ZXRoZXJPZmZzZXRWYWx1ZSIsICJub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUiLCAib2Zmc2V0TW9kaWZpZXJTdGF0ZSIsICJkYXRhIiwgIl9vZmZzZXRNb2RpZmllclN0YXRlJCIsICJtYWluU2lkZSIsICJ0b3AiLCAibGVmdCIsICJhbHRTaWRlIiwgImJvdHRvbSIsICJyaWdodCIsICJsZW4iLCAib2Zmc2V0IiwgIm1pbiIsICJtYXgiLCAiYWRkaXRpdmUiLCAibWluTGVuIiwgInN0YXJ0IiwgIm1heExlbiIsICJhcnJvd0VsZW1lbnQiLCAiYXJyb3dSZWN0IiwgImdldExheW91dFJlY3QiLCAiYXJyb3dQYWRkaW5nT2JqZWN0IiwgImdldEZyZXNoU2lkZU9iamVjdCIsICJhcnJvd1BhZGRpbmdNaW4iLCAiYXJyb3dQYWRkaW5nTWF4IiwgImFycm93TGVuIiwgIndpdGhpbiIsICJtaW5PZmZzZXQiLCAibWF4T2Zmc2V0IiwgImFycm93T2Zmc2V0UGFyZW50IiwgImdldE9mZnNldFBhcmVudCIsICJjbGllbnRPZmZzZXQiLCAib2Zmc2V0TW9kaWZpZXJWYWx1ZSIsICJ0ZXRoZXJNaW4iLCAidGV0aGVyTWF4IiwgInByZXZlbnRlZE9mZnNldCIsICJfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyIiwgIl9tYWluU2lkZSIsICJfYWx0U2lkZSIsICJfb2Zmc2V0IiwgIl9sZW4iLCAiX21pbiIsICJfbWF4IiwgImlzT3JpZ2luU2lkZSIsICJfb2Zmc2V0TW9kaWZpZXJWYWx1ZSIsICJfdGV0aGVyTWluIiwgIl90ZXRoZXJNYXgiLCAiX3ByZXZlbnRlZE9mZnNldCIsICJ3aXRoaW5NYXhDbGFtcCIsICJwcmV2ZW50T3ZlcmZsb3dfZGVmYXVsdCIsICJnZXRIVE1MRWxlbWVudFNjcm9sbCIsICJlbGVtZW50IiwgImdldE5vZGVTY3JvbGwiLCAibm9kZSIsICJnZXRXaW5kb3ciLCAiaXNIVE1MRWxlbWVudCIsICJnZXRXaW5kb3dTY3JvbGwiLCAiZ2V0SFRNTEVsZW1lbnRTY3JvbGwiLCAiaXNFbGVtZW50U2NhbGVkIiwgImVsZW1lbnQiLCAicmVjdCIsICJzY2FsZVgiLCAicm91bmQiLCAic2NhbGVZIiwgImdldENvbXBvc2l0ZVJlY3QiLCAiZWxlbWVudE9yVmlydHVhbEVsZW1lbnQiLCAib2Zmc2V0UGFyZW50IiwgImlzRml4ZWQiLCAiaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQiLCAiaXNIVE1MRWxlbWVudCIsICJvZmZzZXRQYXJlbnRJc1NjYWxlZCIsICJkb2N1bWVudEVsZW1lbnQiLCAiZ2V0RG9jdW1lbnRFbGVtZW50IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJzY3JvbGwiLCAib2Zmc2V0cyIsICJnZXROb2RlTmFtZSIsICJpc1Njcm9sbFBhcmVudCIsICJnZXROb2RlU2Nyb2xsIiwgImdldFdpbmRvd1Njcm9sbEJhclgiLCAib3JkZXIiLCAibW9kaWZpZXJzIiwgIm1hcCIsICJ2aXNpdGVkIiwgInJlc3VsdCIsICJtb2RpZmllciIsICJzb3J0IiwgInJlcXVpcmVzIiwgImRlcCIsICJkZXBNb2RpZmllciIsICJvcmRlck1vZGlmaWVycyIsICJvcmRlcmVkTW9kaWZpZXJzIiwgIm1vZGlmaWVyUGhhc2VzIiwgImFjYyIsICJwaGFzZSIsICJkZWJvdW5jZSIsICJmbiIsICJwZW5kaW5nIiwgInJlc29sdmUiLCAibWVyZ2VCeU5hbWUiLCAibW9kaWZpZXJzIiwgIm1lcmdlZCIsICJjdXJyZW50IiwgImV4aXN0aW5nIiwgImtleSIsICJERUZBVUxUX09QVElPTlMiLCAiYXJlVmFsaWRFbGVtZW50cyIsICJfbGVuIiwgImFyZ3MiLCAiX2tleSIsICJlbGVtZW50IiwgInBvcHBlckdlbmVyYXRvciIsICJnZW5lcmF0b3JPcHRpb25zIiwgIl9nZW5lcmF0b3JPcHRpb25zIiwgIl9nZW5lcmF0b3JPcHRpb25zJGRlZiIsICJkZWZhdWx0TW9kaWZpZXJzIiwgIl9nZW5lcmF0b3JPcHRpb25zJGRlZjIiLCAiZGVmYXVsdE9wdGlvbnMiLCAicmVmZXJlbmNlIiwgInBvcHBlciIsICJvcHRpb25zIiwgInN0YXRlIiwgImVmZmVjdENsZWFudXBGbnMiLCAiaXNEZXN0cm95ZWQiLCAiaW5zdGFuY2UiLCAic2V0T3B0aW9uc0FjdGlvbiIsICJjbGVhbnVwTW9kaWZpZXJFZmZlY3RzIiwgImlzRWxlbWVudCIsICJsaXN0U2Nyb2xsUGFyZW50cyIsICJvcmRlcmVkTW9kaWZpZXJzIiwgIm9yZGVyTW9kaWZpZXJzIiwgIm1lcmdlQnlOYW1lIiwgIm0iLCAicnVuTW9kaWZpZXJFZmZlY3RzIiwgIl9zdGF0ZSRlbGVtZW50cyIsICJnZXRDb21wb3NpdGVSZWN0IiwgImdldE9mZnNldFBhcmVudCIsICJnZXRMYXlvdXRSZWN0IiwgIm1vZGlmaWVyIiwgImluZGV4IiwgIl9zdGF0ZSRvcmRlcmVkTW9kaWZpZSIsICJmbiIsICJfc3RhdGUkb3JkZXJlZE1vZGlmaWUyIiwgIl9vcHRpb25zIiwgIm5hbWUiLCAiZGVib3VuY2UiLCAicmVzb2x2ZSIsICJfcmVmIiwgIl9yZWYkb3B0aW9ucyIsICJlZmZlY3QiLCAiY2xlYW51cEZuIiwgIm5vb3BGbiIsICJkZWZhdWx0TW9kaWZpZXJzIiwgImV2ZW50TGlzdGVuZXJzX2RlZmF1bHQiLCAicG9wcGVyT2Zmc2V0c19kZWZhdWx0IiwgImNvbXB1dGVTdHlsZXNfZGVmYXVsdCIsICJhcHBseVN0eWxlc19kZWZhdWx0IiwgIm9mZnNldF9kZWZhdWx0IiwgImZsaXBfZGVmYXVsdCIsICJwcmV2ZW50T3ZlcmZsb3dfZGVmYXVsdCIsICJhcnJvd19kZWZhdWx0IiwgImhpZGVfZGVmYXVsdCIsICJjcmVhdGVQb3BwZXIiLCAicG9wcGVyR2VuZXJhdG9yIiwgIndyYXBBcm91bmQiLCAidmFsdWUiLCAic2l6ZSIsICJTdWdnZXN0IiwgIm93bmVyIiwgImNvbnRhaW5lckVsIiwgInNjb3BlIiwgImV2ZW50IiwgImVsIiwgIml0ZW0iLCAiX2V2ZW50IiwgInZhbHVlcyIsICJzdWdnZXN0aW9uRWxzIiwgInN1Z2dlc3Rpb25FbCIsICJjdXJyZW50VmFsdWUiLCAic2VsZWN0ZWRJbmRleCIsICJzY3JvbGxJbnRvVmlldyIsICJub3JtYWxpemVkSW5kZXgiLCAicHJldlNlbGVjdGVkU3VnZ2VzdGlvbiIsICJzZWxlY3RlZFN1Z2dlc3Rpb24iLCAiVGV4dElucHV0U3VnZ2VzdCIsICJpbnB1dEVsIiwgInN1Z2dlc3Rpb24iLCAiaW5wdXRTdHIiLCAic3VnZ2VzdGlvbnMiLCAiY29udGFpbmVyIiwgImNyZWF0ZVBvcHBlciIsICJzdGF0ZSIsICJpbnN0YW5jZSIsICJ0YXJnZXRXaWR0aCIsICJGb2xkZXJTdWdnZXN0IiwgIlRleHRJbnB1dFN1Z2dlc3QiLCAiaW5wdXRTdHIiLCAiYWJzdHJhY3RGaWxlcyIsICJmb2xkZXJzIiwgImxvd2VyQ2FzZUlucHV0U3RyIiwgImZvbGRlciIsICJmaWxlIiwgImVsIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAibG9nX2Vycm9yIiwgImUiLCAibm90aWNlIiwgIlRlbXBsYXRlckVycm9yIiwgIlRlbXBsYXRlckVycm9yIiwgIm1zZyIsICJjb25zb2xlX21zZyIsICJlcnJvcldyYXBwZXJTeW5jIiwgImZuIiwgIm1zZyIsICJlIiwgImxvZ19lcnJvciIsICJUZW1wbGF0ZXJFcnJvciIsICJpbXBvcnRfb2JzaWRpYW4iLCAicmVzb2x2ZV90Zm9sZGVyIiwgImZvbGRlcl9zdHIiLCAiZm9sZGVyIiwgIlRlbXBsYXRlckVycm9yIiwgImdldF90ZmlsZXNfZnJvbV9mb2xkZXIiLCAiZm9sZGVyX3N0ciIsICJmb2xkZXIiLCAicmVzb2x2ZV90Zm9sZGVyIiwgImZpbGVzIiwgImZpbGUiLCAiYSIsICJiIiwgIkZpbGVTdWdnZXN0IiwgIlRleHRJbnB1dFN1Z2dlc3QiLCAiaW5wdXRFbCIsICJwbHVnaW4iLCAibW9kZSIsICJpbnB1dF9zdHIiLCAiYWxsX2ZpbGVzIiwgImVycm9yV3JhcHBlclN5bmMiLCAiZ2V0X3RmaWxlc19mcm9tX2ZvbGRlciIsICJmaWxlcyIsICJsb3dlcl9pbnB1dF9zdHIiLCAiZmlsZSIsICJlbCIsICJDeXVUb29sa2l0U2V0dGluZ1RhYiIsICJhcHAiLCAicGx1Z2luIiwgImNvbnRhaW5lckVsIiwgIm5hbWUiLCAiZGVzYyIsICJkcm9wZG93biIsICJzZXR0aW5nIiwgInBsYWNlaG9sZGVyIiwgImZzIiwgIkZpbGVTdWdnZXN0IiwgIm5ld19mb2xkZXIiLCAiRm9sZGVyU3VnZ2VzdCIsICJhZGR0ZXh0IiwgImNhbGxiYWNrIiwgInRvZ2dsZSIsICJ2YWx1ZSIsICJ0ZXh0IiwgIkRFRkFVTFRfU0VUVElOR1MiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJoYW5kbGVDb3B5VGV4dCIsICJ0ZXh0IiwgImVyciIsICJoYW5kbGVDb3B5SW1nIiwgImltZ0VsZSIsICJpbWFnZSIsICJjYW52YXMiLCAiY3R4IiwgImJsb2IiLCAiZXJyb3IiLCAiQ2xpY2tDb3B5QmxvY2siLCAic2V0dGluZ3MiLCAicmVuZGVyZWREaXYiLCAiY29udGFpbmVyIiwgImNwYnMiLCAiZW5hYmxlX2NsaWNrQ29weV9ibG9jayIsICJjcGIiLCAiZXZlbnQiLCAiX2EiLCAiX2IiLCAiY2xpY2tlZFNwYW4iLCAiY2xpY2tlZEltZyIsICJoYW5kbGVDb3B5VGV4dCIsICJoYW5kbGVDb3B5SW1nIiwgImltcG9ydF9vYnNpZGlhbiIsICJDb2xvckdhbGxlcnkiLCAic2V0dGluZ3MiLCAicmVuZGVyZWREaXYiLCAiX2EiLCAibGlzdEl0ZW1zIiwgImxpc3RJdGVtIiwgImNvbG9yVmFsdWUiLCAiY29sb3JCdXR0b24iLCAicGFyZW50RWxlbWVudCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiSWNvbkdhbGxlcnkiLCAic2V0dGluZ3MiLCAicmVuZGVyZWREaXYiLCAiX2EiLCAibGlzdEl0ZW1zIiwgImxpc3RJdGVtIiwgInVuZXNjYXBlSHRtbCIsICJzdHIiLCAibWF0Y2giLCAiaWNvbkNvbnRhaW5lciIsICJpY29uVGV4dCIsICJjb21tZW50SXRlbSIsICJjb21tZW50VGV4dCIsICJyb290IiwgIlVSTF9SRUdFWCIsICJGSVJTVF9TRUdNRU5UX1JFR0VYIiwgIlNMQVNIX0RPVF9SRUdFWCIsICJTTEFTSF9ET1RfRE9UX1JFR0VYIiwgIlVSTFRvb2xraXQiLCAiYmFzZVVSTCIsICJyZWxhdGl2ZVVSTCIsICJvcHRzIiwgImJhc2VQYXJ0c0Zvck5vcm1hbGlzZSIsICJyZWxhdGl2ZVBhcnRzIiwgImJhc2VQYXJ0cyIsICJwYXRoUGFydHMiLCAiYnVpbHRQYXJ0cyIsICJiYXNlVVJMUGF0aCIsICJuZXdQYXRoIiwgInVybCIsICJwYXJ0cyIsICJwYXRoIiwgIm1vZHVsZSIsICJpc0Zpbml0ZU51bWJlciIsICJOdW1iZXIiLCAiaXNGaW5pdGUiLCAidmFsdWUiLCAiaXNTYWZlSW50ZWdlciIsICJNYXRoIiwgImFicyIsICJNQVhfU0FGRV9JTlRFR0VSIiwgIkV2ZW50cyIsICJFcnJvclR5cGVzIiwgIkVycm9yRGV0YWlscyIsICJub29wIiwgImZha2VMb2dnZXIiLCAidHJhY2UiLCAiZGVidWciLCAibG9nIiwgIndhcm4iLCAiaW5mbyIsICJlcnJvciIsICJleHBvcnRlZExvZ2dlciIsICJjb25zb2xlUHJpbnRGbiIsICJ0eXBlIiwgImZ1bmMiLCAic2VsZiIsICJjb25zb2xlIiwgImJpbmQiLCAiZXhwb3J0TG9nZ2VyRnVuY3Rpb25zIiwgImRlYnVnQ29uZmlnIiwgImZ1bmN0aW9ucyIsICJmb3JFYWNoIiwgImVuYWJsZUxvZ3MiLCAiaWQiLCAiZSIsICJsb2dnZXIiLCAiREVDSU1BTF9SRVNPTFVUSU9OX1JFR0VYIiwgIkFUVFJfTElTVF9SRUdFWCIsICJBdHRyTGlzdCIsICJjb25zdHJ1Y3RvciIsICJhdHRycyIsICJwYXJzZUF0dHJMaXN0IiwgIl9leHRlbmRzIiwgImNsaWVudEF0dHJzIiwgIk9iamVjdCIsICJrZXlzIiwgImZpbHRlciIsICJhdHRyIiwgInN1YnN0cmluZyIsICJkZWNpbWFsSW50ZWdlciIsICJhdHRyTmFtZSIsICJpbnRWYWx1ZSIsICJwYXJzZUludCIsICJJbmZpbml0eSIsICJoZXhhZGVjaW1hbEludGVnZXIiLCAic3RyaW5nVmFsdWUiLCAic2xpY2UiLCAibGVuZ3RoIiwgIlVpbnQ4QXJyYXkiLCAiaSIsICJoZXhhZGVjaW1hbEludGVnZXJBc051bWJlciIsICJkZWNpbWFsRmxvYXRpbmdQb2ludCIsICJwYXJzZUZsb2F0IiwgIm9wdGlvbmFsRmxvYXQiLCAiZGVmYXVsdFZhbHVlIiwgImVudW1lcmF0ZWRTdHJpbmciLCAiYm9vbCIsICJkZWNpbWFsUmVzb2x1dGlvbiIsICJyZXMiLCAiZXhlYyIsICJ3aWR0aCIsICJoZWlnaHQiLCAiaW5wdXQiLCAibWF0Y2giLCAicXVvdGUiLCAibGFzdEluZGV4IiwgImluZGV4T2YiLCAibGFzdEluZGV4T2YiLCAibmFtZSIsICJ0cmltIiwgImlzRGF0ZVJhbmdlQ3VlQXR0cmlidXRlIiwgImlzU0NURTM1QXR0cmlidXRlIiwgIkRhdGVSYW5nZSIsICJkYXRlUmFuZ2VBdHRyIiwgImRhdGVSYW5nZVdpdGhTYW1lSWQiLCAiX3N0YXJ0RGF0ZSIsICJfZW5kRGF0ZSIsICJfYmFkVmFsdWVGb3JTYW1lSWQiLCAicHJldmlvdXNBdHRyIiwgImtleSIsICJwcm90b3R5cGUiLCAiaGFzT3duUHJvcGVydHkiLCAiY2FsbCIsICJJRCIsICJEYXRlIiwgImVuZERhdGUiLCAiX2lzRmluaXRlTnVtYmVyIiwgImdldFRpbWUiLCAiY2xhc3MiLCAiQ0xBU1MiLCAic3RhcnREYXRlIiwgImR1cmF0aW9uIiwgIl9pc0Zpbml0ZU51bWJlcjIiLCAicGxhbm5lZER1cmF0aW9uIiwgImVuZE9uTmV4dCIsICJpc1ZhbGlkIiwgIl9pc0Zpbml0ZU51bWJlcjMiLCAiTG9hZFN0YXRzIiwgImFib3J0ZWQiLCAibG9hZGVkIiwgInJldHJ5IiwgInRvdGFsIiwgImNodW5rQ291bnQiLCAiYndFc3RpbWF0ZSIsICJsb2FkaW5nIiwgInN0YXJ0IiwgImZpcnN0IiwgImVuZCIsICJwYXJzaW5nIiwgImJ1ZmZlcmluZyIsICJFbGVtZW50YXJ5U3RyZWFtVHlwZXMiLCAiQVVESU8iLCAiVklERU8iLCAiQVVESU9WSURFTyIsICJCYXNlU2VnbWVudCIsICJiYXNldXJsIiwgIl9ieXRlUmFuZ2UiLCAiX3VybCIsICJyZWx1cmwiLCAiZWxlbWVudGFyeVN0cmVhbXMiLCAic2V0Qnl0ZVJhbmdlIiwgInByZXZpb3VzIiwgInBhcmFtcyIsICJzcGxpdCIsICJieXRlUmFuZ2VFbmRPZmZzZXQiLCAiYnl0ZVJhbmdlIiwgImJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IiwgImJ1aWxkQWJzb2x1dGVVUkwiLCAiYWx3YXlzTm9ybWFsaXplIiwgIkZyYWdtZW50IiwgIl9kZWNyeXB0ZGF0YSIsICJyYXdQcm9ncmFtRGF0ZVRpbWUiLCAicHJvZ3JhbURhdGVUaW1lIiwgInRhZ0xpc3QiLCAic24iLCAibGV2ZWxrZXlzIiwgImxvYWRlciIsICJrZXlMb2FkZXIiLCAibGV2ZWwiLCAiY2MiLCAic3RhcnRQVFMiLCAiZW5kUFRTIiwgInN0YXJ0RFRTIiwgImVuZERUUyIsICJkZWx0YVBUUyIsICJtYXhTdGFydFBUUyIsICJtaW5FbmRQVFMiLCAic3RhdHMiLCAiZGF0YSIsICJiaXRyYXRlVGVzdCIsICJ0aXRsZSIsICJpbml0U2VnbWVudCIsICJlbmRMaXN0IiwgImdhcCIsICJ1cmxJZCIsICJkZWNyeXB0ZGF0YSIsICJOT05FIiwgImlkZW50aXR5IiwgImdldERlY3J5cHREYXRhIiwgImtleUZvcm1hdHMiLCAiZW5kUHJvZ3JhbURhdGVUaW1lIiwgImVuY3J5cHRlZCIsICJfdGhpcyRfZGVjcnlwdGRhdGEiLCAibGVuIiwgInNldEtleUZvcm1hdCIsICJrZXlGb3JtYXQiLCAiYWJvcnRSZXF1ZXN0cyIsICJfdGhpcyRsb2FkZXIiLCAiX3RoaXMka2V5TG9hZGVyIiwgImFib3J0IiwgInNldEVsZW1lbnRhcnlTdHJlYW1JbmZvIiwgInBhcnRpYWwiLCAibWluIiwgIm1heCIsICJjbGVhckVsZW1lbnRhcnlTdHJlYW1JbmZvIiwgIlBhcnQiLCAicGFydEF0dHJzIiwgImZyYWciLCAiaW5kZXgiLCAiZnJhZ09mZnNldCIsICJpbmRlcGVuZGVudCIsICJmcmFnbWVudCIsICJhdWRpbyIsICJ2aWRlbyIsICJhdWRpb3ZpZGVvIiwgIkRFRkFVTFRfVEFSR0VUX0RVUkFUSU9OIiwgIkxldmVsRGV0YWlscyIsICJiYXNlVXJsIiwgIlBUU0tub3duIiwgImFsaWduZWRTbGlkaW5nIiwgImF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiIsICJlbmRDQyIsICJlbmRTTiIsICJmcmFnbWVudHMiLCAiZnJhZ21lbnRIaW50IiwgInBhcnRMaXN0IiwgImRhdGVSYW5nZXMiLCAibGl2ZSIsICJhZ2VIZWFkZXIiLCAiYWR2YW5jZWREYXRlVGltZSIsICJ1cGRhdGVkIiwgImFkdmFuY2VkIiwgImF2YWlsYWJpbGl0eURlbGF5IiwgIm1pc3NlcyIsICJzdGFydENDIiwgInN0YXJ0U04iLCAic3RhcnRUaW1lT2Zmc2V0IiwgInRhcmdldGR1cmF0aW9uIiwgInRvdGFsZHVyYXRpb24iLCAibTN1OCIsICJ2ZXJzaW9uIiwgImNhbkJsb2NrUmVsb2FkIiwgImNhblNraXBVbnRpbCIsICJjYW5Ta2lwRGF0ZVJhbmdlcyIsICJza2lwcGVkU2VnbWVudHMiLCAicmVjZW50bHlSZW1vdmVkRGF0ZXJhbmdlcyIsICJwYXJ0SG9sZEJhY2siLCAiaG9sZEJhY2siLCAicGFydFRhcmdldCIsICJwcmVsb2FkSGludCIsICJyZW5kaXRpb25SZXBvcnRzIiwgInR1bmVJbkdvYWwiLCAiZGVsdGFVcGRhdGVGYWlsZWQiLCAiZHJpZnRTdGFydFRpbWUiLCAiZHJpZnRFbmRUaW1lIiwgImRyaWZ0U3RhcnQiLCAiZHJpZnRFbmQiLCAiZW5jcnlwdGVkRnJhZ21lbnRzIiwgInBsYXlsaXN0UGFyc2luZ0Vycm9yIiwgInZhcmlhYmxlTGlzdCIsICJoYXNWYXJpYWJsZVJlZnMiLCAicmVsb2FkZWQiLCAicGFydFNuRGlmZiIsICJsYXN0UGFydFNuIiwgInBhcnRJbmRleERpZmYiLCAibGFzdFBhcnRJbmRleCIsICJmbG9vciIsICJoYXNQcm9ncmFtRGF0ZVRpbWUiLCAibGV2ZWxUYXJnZXREdXJhdGlvbiIsICJkcmlmdCIsICJydW5UaW1lIiwgImVkZ2UiLCAicGFydEVuZCIsICJmcmFnbWVudEVuZCIsICJfdGhpcyRwYXJ0TGlzdCIsICJfdGhpcyRmcmFnbWVudHMiLCAiYWdlIiwgIm5vdyIsICJfdGhpcyRwYXJ0TGlzdDIiLCAiX3RoaXMkcGFydExpc3QzIiwgImJhc2U2NERlY29kZSIsICJiYXNlNjRlbmNvZGVkU3RyIiwgImZyb20iLCAiYXRvYiIsICJjIiwgImNoYXJDb2RlQXQiLCAiZ2V0S2V5SWRCeXRlcyIsICJzdHIiLCAia2V5SWRieXRlcyIsICJzdHJUb1V0ZjhhcnJheSIsICJzdWJhcnJheSIsICJwYWRkZWRrZXlJZGJ5dGVzIiwgInNldCIsICJjaGFuZ2VFbmRpYW5uZXNzIiwgImtleUlkIiwgInN3YXAiLCAiYXJyYXkiLCAidG8iLCAiY3VyIiwgImNvbnZlcnREYXRhVXJpVG9BcnJheUJ5dGVzIiwgInVyaSIsICJjb2xvbnNwbGl0IiwgImtleWRhdGEiLCAic2VtaWNvbG9uc3BsaXQiLCAiY29tbWFzcGxpdCIsICJpc2Jhc2U2NCIsICJzcGxpY2UiLCAidW5lc2NhcGUiLCAiZW5jb2RlVVJJQ29tcG9uZW50IiwgIm9wdGlvbmFsU2VsZiIsICJ1bmRlZmluZWQiLCAiS2V5U3lzdGVtcyIsICJDTEVBUktFWSIsICJGQUlSUExBWSIsICJQTEFZUkVBRFkiLCAiV0lERVZJTkUiLCAiS2V5U3lzdGVtRm9ybWF0cyIsICJrZXlTeXN0ZW1Gb3JtYXRUb0tleVN5c3RlbURvbWFpbiIsICJmb3JtYXQiLCAiS2V5U3lzdGVtSWRzIiwgImtleVN5c3RlbUlkVG9LZXlTeXN0ZW1Eb21haW4iLCAic3lzdGVtSWQiLCAia2V5U3lzdGVtRG9tYWluVG9LZXlTeXN0ZW1Gb3JtYXQiLCAia2V5U3lzdGVtIiwgImdldEtleVN5c3RlbXNGb3JDb25maWciLCAiY29uZmlnIiwgImRybVN5c3RlbXMiLCAid2lkZXZpbmVMaWNlbnNlVXJsIiwgImtleVN5c3RlbXNUb0F0dGVtcHQiLCAicHVzaCIsICJyZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MiLCAiX29wdGlvbmFsU2VsZiRuYXZpZ2F0IiwgIm5hdmlnYXRvciIsICJnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zIiwgImF1ZGlvQ29kZWNzIiwgInZpZGVvQ29kZWNzIiwgImRybVN5c3RlbU9wdGlvbnMiLCAiaW5pdERhdGFUeXBlcyIsICJFcnJvciIsICJjcmVhdGVNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zIiwgInBlcnNpc3RlbnRTdGF0ZSIsICJkaXN0aW5jdGl2ZUlkZW50aWZpZXIiLCAic2Vzc2lvblR5cGVzIiwgInNlc3Npb25UeXBlIiwgImF1ZGlvQ2FwYWJpbGl0aWVzIiwgIm1hcCIsICJjb2RlYyIsICJjb250ZW50VHlwZSIsICJyb2J1c3RuZXNzIiwgImF1ZGlvUm9idXN0bmVzcyIsICJlbmNyeXB0aW9uU2NoZW1lIiwgImF1ZGlvRW5jcnlwdGlvblNjaGVtZSIsICJ2aWRlb0NhcGFiaWxpdGllcyIsICJ2aWRlb1JvYnVzdG5lc3MiLCAidmlkZW9FbmNyeXB0aW9uU2NoZW1lIiwgInNsaWNlVWludDgiLCAiQXJyYXkiLCAiaXNIZWFkZXIiLCAib2Zmc2V0IiwgImlzRm9vdGVyIiwgImdldElEM0RhdGEiLCAiZnJvbnQiLCAic2l6ZSIsICJyZWFkU2l6ZSIsICJjYW5QYXJzZSIsICJnZXRUaW1lU3RhbXAiLCAiZnJhbWVzIiwgImdldElEM0ZyYW1lcyIsICJmcmFtZSIsICJpc1RpbWVTdGFtcEZyYW1lIiwgInJlYWRUaW1lU3RhbXAiLCAiZ2V0RnJhbWVEYXRhIiwgIlN0cmluZyIsICJmcm9tQ2hhckNvZGUiLCAiaWQzRGF0YSIsICJmcmFtZURhdGEiLCAiZGVjb2RlRnJhbWUiLCAiZGVjb2RlUHJpdkZyYW1lIiwgImRlY29kZVVSTEZyYW1lIiwgImRlY29kZVRleHRGcmFtZSIsICJvd25lciIsICJ1dGY4QXJyYXlUb1N0ciIsICJwcml2YXRlRGF0YSIsICJidWZmZXIiLCAiZGVzY3JpcHRpb24iLCAidGV4dCIsICJ0aW1lU3RhbXBGcmFtZSIsICJieXRlTGVuZ3RoIiwgInB0czMzQml0IiwgInRpbWVzdGFtcCIsICJyb3VuZCIsICJleGl0T25OdWxsIiwgImRlY29kZXIiLCAiZ2V0VGV4dERlY29kZXIiLCAiZGVjb2RlZCIsICJkZWNvZGUiLCAiaWR4IiwgInJlcGxhY2UiLCAiY2hhcjIiLCAiY2hhcjMiLCAib3V0IiwgInVzZXJBZ2VudCIsICJpbmNsdWRlcyIsICJUZXh0RGVjb2RlciIsICJIZXgiLCAiaGV4RHVtcCIsICJoIiwgInRvU3RyaW5nIiwgIlVJTlQzMl9NQVgiLCAicG93IiwgIlJlbXV4ZXJUcmFja0lkQ29uZmlnIiwgImlkMyIsICJiaW4yc3RyIiwgImFwcGx5IiwgInJlYWRVaW50MTYiLCAidmFsIiwgInJlYWRVaW50MzIiLCAicmVhZFNpbnQzMiIsICJyZWFkVWludDY0IiwgInJlc3VsdCIsICJ3cml0ZVVpbnQzMiIsICJoYXNNb29mRGF0YSIsICJmaW5kQm94IiwgInJlc3VsdHMiLCAiZW5kYm94IiwgInN1YnJlc3VsdHMiLCAicGFyc2VTZWdtZW50SW5kZXgiLCAic2lkeCIsICJyZWZlcmVuY2VzIiwgInRpbWVzY2FsZSIsICJlYXJsaWVzdFByZXNlbnRhdGlvblRpbWUiLCAiZmlyc3RPZmZzZXQiLCAic3RhcnRCeXRlIiwgInJlZmVyZW5jZXNDb3VudCIsICJyZWZlcmVuY2VJbmRleCIsICJyZWZlcmVuY2VJbmZvIiwgInJlZmVyZW5jZVNpemUiLCAic3Vic2VnbWVudER1cmF0aW9uIiwgInBhcnNlSW5pdFNlZ21lbnQiLCAidHJha3MiLCAidHJhayIsICJ0a2hkIiwgInRyYWNrSWQiLCAibWRoZCIsICJoZGxyIiwgImhkbHJUeXBlIiwgInNvdW4iLCAidmlkZSIsICJzdHNkIiwgInN0c2REYXRhIiwgInBhcnNlU3RzZCIsICJfb2JqZWN0U3ByZWFkIiwgInRyZXgiLCAidHJhY2siLCAiZGVmYXVsdCIsICJmbGFncyIsICJzYW1wbGVFbnRyaWVzIiwgInNhbXBsZUVudHJpZXNFbmQiLCAiZm91ckNDIiwgImVuY0JveENoaWxkcmVuIiwgInNpbmYiLCAic2NobSIsICJzY2hlbWUiLCAiZnJtYSIsICJhdmNDQm94IiwgInRvSGV4IiwgImNvZGVjQm94IiwgImVzZHNCb3giLCAic2tpcEJFUkludGVnZXIiLCAib2JqZWN0VHlwZSIsICJmaXJzdEJ5dGUiLCAiYXVkaW9PYmplY3RUeXBlIiwgImh2Y0NCb3giLCAicHJvZmlsZUJ5dGUiLCAicHJvZmlsZVNwYWNlIiwgImdlbmVyYWxQcm9maWxlSWRjIiwgInByb2ZpbGVDb21wYXQiLCAidGllckZsYWciLCAibGV2ZWxJREMiLCAiY29uc3RyYWludEluZGljYXRvciIsICJ0b1VwcGVyQ2FzZSIsICJjb25zdHJhaW50U3RyaW5nIiwgImJ5dGUiLCAiZHZjQ0JveCIsICJwcm9maWxlIiwgImFkZExlYWRpbmdaZXJvIiwgInZwY0NCb3giLCAiYml0RGVwdGgiLCAiYXYxQ0JveCIsICJoaWdoQml0RGVwdGgiLCAidHdlbHZlQml0IiwgIm1vbm9jaHJvbWUiLCAiY2hyb21hU3Vic2FtcGxpbmdYIiwgImNocm9tYVN1YnNhbXBsaW5nWSIsICJjaHJvbWFTYW1wbGVQb3NpdGlvbiIsICJjb2xvclByaW1hcmllcyIsICJ0cmFuc2ZlckNoYXJhY3RlcmlzdGljcyIsICJtYXRyaXhDb2VmZmljaWVudHMiLCAidmlkZW9GdWxsUmFuZ2VGbGFnIiwgImJ5dGVzIiwgImxpbWl0IiwgIngiLCAibnVtIiwgInBhdGNoRW5jeXB0aW9uRGF0YSIsICJpc0NvbW1vbkVuY3J5cHRpb24iLCAiZW5jQm94ZXMiLCAiaXNBdWRpbyIsICJlbmMiLCAidGVuYyIsICJwYXJzZVNpbmYiLCAidGVuY0tleUlkIiwgInNvbWUiLCAiYiIsICJnZXRTdGFydERUUyIsICJpbml0RGF0YSIsICJmbXA0IiwgInJlZHVjZSIsICJ0cmFmIiwgInRmZHQiLCAidGZoZCIsICJiYXNlVGltZSIsICJzY2FsZSIsICJzdGFydFRpbWUiLCAiZ2V0RHVyYXRpb24iLCAicmF3RHVyYXRpb24iLCAidmlkZW9EdXJhdGlvbiIsICJhdWRpb0R1cmF0aW9uIiwgInRyYWZzIiwgInRyYWNrRGVmYXVsdCIsICJ0ZmhkRmxhZ3MiLCAic2FtcGxlRHVyYXRpb24iLCAidHJ1bnMiLCAiaiIsICJjb21wdXRlUmF3RHVyYXRpb25Gcm9tU2FtcGxlcyIsICJzYW1wbGVDb3VudCIsICJzaWR4TWluU3RhcnQiLCAic2lkeE1heEVuZCIsICJzaWR4RHVyYXRpb24iLCAic2lkeHMiLCAic3ViU2VnbWVudER1cmF0aW9uIiwgImR1ciIsICJyZWYiLCAidHJ1biIsICJvZmZzZXRTdGFydERUUyIsICJ0aW1lT2Zmc2V0IiwgImJhc2VNZWRpYURlY29kZVRpbWUiLCAidXBwZXIiLCAibG93ZXIiLCAic2VnbWVudFZhbGlkUmFuZ2UiLCAic2VnbWVudGVkUmFuZ2UiLCAidmFsaWQiLCAicmVtYWluZGVyIiwgIm1vb2ZzIiwgImxhc3QiLCAiYnl0ZU9mZnNldCIsICJhcHBlbmRVaW50OEFycmF5IiwgImRhdGExIiwgImRhdGEyIiwgInRlbXAiLCAicGFyc2VTYW1wbGVzIiwgInNlaVNhbXBsZXMiLCAidmlkZW9EYXRhIiwgInNhbXBsZXMiLCAiaXNIRVZDRmxhdm9yIiwgIm1vb2YiLCAibW9vZk9mZnNldCIsICJiYXNlRGF0YU9mZnNldFByZXNlbnQiLCAic2FtcGxlRGVzY3JpcHRpb25JbmRleFByZXNlbnQiLCAiZGVmYXVsdFNhbXBsZUR1cmF0aW9uUHJlc2VudCIsICJkZWZhdWx0U2FtcGxlRHVyYXRpb24iLCAiZGVmYXVsdFNhbXBsZVNpemVQcmVzZW50IiwgImRlZmF1bHRTYW1wbGVTaXplIiwgImRlZmF1bHRTYW1wbGVGbGFnc1ByZXNlbnQiLCAidGZoZE9mZnNldCIsICJpc0hFVkMiLCAiZGF0YU9mZnNldFByZXNlbnQiLCAiZGF0YU9mZnNldCIsICJmaXJzdFNhbXBsZUZsYWdzUHJlc2VudCIsICJzYW1wbGVEdXJhdGlvblByZXNlbnQiLCAic2FtcGxlU2l6ZVByZXNlbnQiLCAic2FtcGxlU2l6ZSIsICJzYW1wbGVGbGFnc1ByZXNlbnQiLCAic2FtcGxlQ29tcG9zaXRpb25PZmZzZXRzUHJlc2VudCIsICJjb21wb3NpdGlvbk9mZnNldCIsICJ0cnVuT2Zmc2V0IiwgInNhbXBsZU9mZnNldCIsICJpeCIsICJuYWx1VG90YWxTaXplIiwgIm5hbHVTaXplIiwgImlzU0VJTWVzc2FnZSIsICJwYXJzZVNFSU1lc3NhZ2VGcm9tTkFMdSIsICJkZWxpbWl0IiwgImJhc2VDb2RlYyIsICJuYWx1SGVhZGVyIiwgIm5hbHVUeXBlIiwgInVuZXNjYXBlZERhdGEiLCAiaGVhZGVyU2l6ZSIsICJwdHMiLCAiZGlzY2FyZEVQQiIsICJzZWlQdHIiLCAicGF5bG9hZFR5cGUiLCAicGF5bG9hZFNpemUiLCAibGVmdE92ZXIiLCAicGF5UHRyIiwgInByb3ZpZGVyQ29kZSIsICJ1c2VyU3RydWN0dXJlIiwgInVzZXJEYXRhVHlwZSIsICJ0b3RhbENDcyIsICJlbmFibGVkIiwgInRvdGFsQnl0ZXMiLCAiYnl0ZUFycmF5IiwgInV1aWRTdHJBcnJheSIsICJ1c2VyRGF0YUJ5dGVzIiwgInV1aWQiLCAiam9pbiIsICJ1c2VyRGF0YSIsICJFUEJQb3NpdGlvbnMiLCAibmV3TGVuZ3RoIiwgIm5ld0RhdGEiLCAic291cmNlSW5kZXgiLCAic2hpZnQiLCAicGFyc2VFbXNnIiwgInNjaGVtZUlkVXJpIiwgInRpbWVTY2FsZSIsICJwcmVzZW50YXRpb25UaW1lRGVsdGEiLCAicHJlc2VudGF0aW9uVGltZSIsICJldmVudER1cmF0aW9uIiwgImxlZnRQcmVzZW50YXRpb25UaW1lIiwgInJpZ2h0UHJlc2VudGF0aW9uVGltZSIsICJfaXNTYWZlSW50ZWdlciIsICJwYXlsb2FkIiwgIm1wNEJveCIsICJtcDRwc3NoIiwgImtleWlkcyIsICJSYW5nZUVycm9yIiwgImtpZHMiLCAiayIsICJraWRDb3VudCIsICJEYXRhVmlldyIsICJzZXRVaW50MzIiLCAiZGF0YVNpemUiLCAicGFyc2VQc3NoIiwgIkFycmF5QnVmZmVyIiwgInZpZXciLCAiYm94U2l6ZSIsICJnZXRVaW50MzIiLCAiZGF0YVNpemVPcktpZENvdW50IiwgImtleVVyaVRvS2V5SWRNYXAiLCAiTGV2ZWxLZXkiLCAiY2xlYXJLZXlVcmlUb0tleUlkTWFwIiwgIm1ldGhvZCIsICJmb3JtYXR2ZXJzaW9ucyIsICJpdiIsICJrZXlGb3JtYXRWZXJzaW9ucyIsICJwc3NoIiwgImlzU3VwcG9ydGVkIiwgImNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yIiwgImtleUJ5dGVzIiwgIlBsYXlSZWFkeUtleVN5c3RlbVVVSUQiLCAia2V5Qnl0ZXNVdGYxNiIsICJVaW50MTZBcnJheSIsICJrZXlCeXRlU3RyIiwgInhtbEtleUJ5dGVzIiwgImtleURhdGEiLCAiRE9NUGFyc2VyIiwgInBhcnNlRnJvbVN0cmluZyIsICJnZXRFbGVtZW50c0J5VGFnTmFtZSIsICJjaGlsZE5vZGVzIiwgIm5vZGVWYWx1ZSIsICJnZXRBdHRyaWJ1dGUiLCAia2V5SWRBcnJheSIsICJwYWRkZWQiLCAic2VnbWVudE51bWJlciIsICJ1aW50OFZpZXciLCAiVkFSSUFCTEVfUkVQTEFDRU1FTlRfUkVHRVgiLCAiaGFzVmFyaWFibGVSZWZlcmVuY2VzIiwgInRlc3QiLCAic3Vic3RpdHV0ZVZhcmlhYmxlc0luQXR0cmlidXRlcyIsICJwYXJzZWQiLCAiYXR0cmlidXRlTmFtZXMiLCAic3Vic3RpdHV0ZVZhcmlhYmxlcyIsICJ2YXJpYWJsZVJlZmVyZW5jZSIsICJ2YXJpYWJsZU5hbWUiLCAidmFyaWFibGVWYWx1ZSIsICJhZGRWYXJpYWJsZURlZmluaXRpb24iLCAicGFyZW50VXJsIiwgIk5BTUUiLCAiVkFMVUUiLCAiUVVFUllQQVJBTSIsICJzZWFyY2hQYXJhbXMiLCAiVVJMIiwgImhhcyIsICJnZXQiLCAibWVzc2FnZSIsICJpbXBvcnRWYXJpYWJsZURlZmluaXRpb24iLCAic291cmNlVmFyaWFibGVMaXN0IiwgIklNUE9SVCIsICJnZXRNZWRpYVNvdXJjZSIsICJwcmVmZXJNYW5hZ2VkTWVkaWFTb3VyY2UiLCAiTWVkaWFTb3VyY2UiLCAiTWFuYWdlZE1lZGlhU291cmNlIiwgIldlYktpdE1lZGlhU291cmNlIiwgImlzTWFuYWdlZE1lZGlhU291cmNlIiwgInNvdXJjZSIsICJzYW1wbGVFbnRyeUNvZGVzSVNPIiwgImEzZHMiLCAiYWxhYyIsICJhbGF3IiwgImRyYTEiLCAiZHRzYyIsICJkdHNlIiwgImR0c2giLCAiZW5jYSIsICJmTGFDIiwgImZsYWMiLCAiRkxBQyIsICJnNzE5IiwgImc3MjYiLCAibTRhZSIsICJtaGExIiwgIm1oYTIiLCAibWhtMSIsICJtaG0yIiwgIm1scGEiLCAibXA0YSIsICJPcHVzIiwgIm9wdXMiLCAic2FtciIsICJzYXdiIiwgInNhd3AiLCAic2V2YyIsICJzcWNwIiwgInNzbXYiLCAidHdvcyIsICJ1bGF3IiwgImF2YzEiLCAiYXZjMiIsICJhdmMzIiwgImF2YzQiLCAiYXZjcCIsICJhdjAxIiwgImRyYWMiLCAiZHZhMSIsICJkdmF2IiwgImR2aDEiLCAiZHZoZSIsICJlbmN2IiwgImhldjEiLCAiaHZjMSIsICJtanAyIiwgIm1wNHYiLCAibXZjMSIsICJtdmMyIiwgIm12YzMiLCAibXZjNCIsICJyZXN2IiwgInJ2NjAiLCAiczI2MyIsICJzdmMxIiwgInN2YzIiLCAidnAwOCIsICJ2cDA5IiwgInN0cHAiLCAid3Z0dCIsICJpc0NvZGVjVHlwZSIsICJ0eXBlQ29kZXMiLCAiYXJlQ29kZWNzTWVkaWFTb3VyY2VTdXBwb3J0ZWQiLCAiY29kZWNzIiwgImlzQ29kZWNNZWRpYVNvdXJjZVN1cHBvcnRlZCIsICJfTWVkaWFTb3VyY2UkaXNUeXBlU3UiLCAiaXNUeXBlU3VwcG9ydGVkIiwgIm1pbWVUeXBlRm9yQ29kZWMiLCAidmlkZW9Db2RlY1ByZWZlcmVuY2VWYWx1ZSIsICJ2aWRlb0NvZGVjIiwgImNvZGVjc1NldFNlbGVjdGlvblByZWZlcmVuY2VWYWx1ZSIsICJjb2RlY1NldCIsICJwcmVmZXJlbmNlVmFsdWUiLCAiQ09ERUNfQ09NUEFUSUJMRV9OQU1FUyIsICJnZXRDb2RlY0NvbXBhdGlibGVOYW1lTG93ZXIiLCAibG93ZXJDYXNlQ29kZWMiLCAiY29kZWNzVG9DaGVjayIsICJBVURJT19DT0RFQ19SRUdFWFAiLCAiZ2V0Q29kZWNDb21wYXRpYmxlTmFtZSIsICJtIiwgInRvTG93ZXJDYXNlIiwgInBpY2tNb3N0Q29tcGxldGVDb2RlY05hbWUiLCAicGFyc2VkQ29kZWMiLCAibGV2ZWxDb2RlYyIsICJjb252ZXJ0QVZDMVRvQVZDT1RJIiwgImF2Y2RhdGEiLCAiTUFTVEVSX1BMQVlMSVNUX1JFR0VYIiwgIk1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWCIsICJJU19NRURJQV9QTEFZTElTVCIsICJMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUIiwgIlJlZ0V4cCIsICJMRVZFTF9QTEFZTElTVF9SRUdFWF9TTE9XIiwgIk0zVThQYXJzZXIiLCAiZmluZEdyb3VwIiwgImdyb3VwcyIsICJtZWRpYUdyb3VwSWQiLCAiZ3JvdXAiLCAicmVzb2x2ZSIsICJpc01lZGlhUGxheWxpc3QiLCAicGFyc2VNYXN0ZXJQbGF5bGlzdCIsICJzdHJpbmciLCAiY29udGVudFN0ZWVyaW5nIiwgImxldmVscyIsICJzZXNzaW9uRGF0YSIsICJzZXNzaW9uS2V5cyIsICJsZXZlbHNXaXRoS25vd25Db2RlY3MiLCAiX2xldmVsJHVua25vd25Db2RlY3MiLCAiYml0cmF0ZSIsICJyZXNvbHV0aW9uIiwgInNldENvZGVjcyIsICJDT0RFQ1MiLCAidW5rbm93bkNvZGVjcyIsICJ0YWciLCAiYXR0cmlidXRlcyIsICJzZXNzaW9uQXR0cnMiLCAiZGF0YUlkIiwgInNlc3Npb25LZXkiLCAicGFyc2VLZXkiLCAidmFyaWFibGVBdHRyaWJ1dGVzIiwgImNvbnRlbnRTdGVlcmluZ0F0dHJpYnV0ZXMiLCAicGF0aHdheUlkIiwgInBhcnNlU3RhcnRUaW1lT2Zmc2V0IiwgInN0cmlwVW5rbm93bkNvZGVjTGV2ZWxzIiwgInBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYSIsICJncm91cHNCeVR5cGUiLCAiYXVkaW9Db2RlYyIsICJTVUJUSVRMRVMiLCAidGV4dENvZGVjIiwgIlRZUEUiLCAibWVkaWFzIiwgImxhbmciLCAiTEFOR1VBR0UiLCAiYXNzb2NMYW5nIiwgImNoYW5uZWxzIiwgIkNIQU5ORUxTIiwgImNoYXJhY3RlcmlzdGljcyIsICJDSEFSQUNURVJJU1RJQ1MiLCAiaW5zdHJlYW1JZCIsICJtZWRpYSIsICJncm91cElkIiwgImF1dG9zZWxlY3QiLCAiZm9yY2VkIiwgIlVSSSIsICJncm91cENvZGVjIiwgImFzc2lnbkNvZGVjIiwgInBhcnNlTGV2ZWxQbGF5bGlzdCIsICJsZXZlbFVybElkIiwgIm11bHRpdmFyaWFudFZhcmlhYmxlTGlzdCIsICJjdXJyZW50SW5pdFNlZ21lbnQiLCAiY3VycmVudFNOIiwgImN1cnJlbnRQYXJ0IiwgImRpc2NvbnRpbnVpdHlDb3VudGVyIiwgInByZXZGcmFnIiwgImZpcnN0UGR0SW5kZXgiLCAiY3JlYXRlTmV4dEZyYWciLCAibmV4dEJ5dGVSYW5nZSIsICJzZXRGcmFnTGV2ZWxLZXlzIiwgImFzc2lnblByb2dyYW1EYXRlVGltZSIsICJ2YWx1ZTEiLCAidmFsdWUyIiwgInNraXBBdHRycyIsICJ1bnNoaWZ0IiwgImRhdGVSYW5nZSIsICJsZXZlbEtleSIsICJtYXBBdHRycyIsICJpbml0IiwgInNldEluaXRTZWdtZW50IiwgInNlcnZlckNvbnRyb2xBdHRycyIsICJwYXJ0SW5mQXR0cnMiLCAicHJldmlvdXNGcmFnbWVudFBhcnQiLCAicGFydCIsICJwcmVsb2FkSGludEF0dHJzIiwgInJlbmRpdGlvblJlcG9ydEF0dHJzIiwgInBvcCIsICJmcmFnbWVudExlbmd0aCIsICJmaXJzdEZyYWdtZW50IiwgImxhc3RGcmFnbWVudCIsICJsYXN0U24iLCAiYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzIiwgImtleVRhZ0F0dHJpYnV0ZXMiLCAiX2tleUF0dHJzJE1FVEhPRCIsICJfa2V5QXR0cnMkS0VZRk9STUFUIiwgImtleUF0dHJzIiwgImRlY3J5cHRtZXRob2QiLCAiTUVUSE9EIiwgImRlY3J5cHR1cmkiLCAiZGVjcnlwdGl2IiwgImRlY3J5cHRrZXlmb3JtYXR2ZXJzaW9ucyIsICJLRVlGT1JNQVRWRVJTSU9OUyIsICJkZWNyeXB0a2V5Zm9ybWF0IiwgIktFWUZPUk1BVCIsICJJViIsICJyZXNvbHZlZFVyaSIsICJzdGFydEF0dHJpYnV0ZXMiLCAiY29kZWNzQXR0cmlidXRlVmFsdWUiLCAiZmlsdGVyZWQiLCAiZ3JvdXBJdGVtIiwgImNvZGVjUHJvcGVydHkiLCAiY29kZWNWYWx1ZSIsICJmcmFnUHJldiIsICJwYXJzZSIsICJfaXNGaW5pdGVOdW1iZXI0IiwgIkJZVEVSQU5HRSIsICJQbGF5bGlzdENvbnRleHRUeXBlIiwgIk1BTklGRVNUIiwgIkxFVkVMIiwgIkFVRElPX1RSQUNLIiwgIlNVQlRJVExFX1RSQUNLIiwgIlBsYXlsaXN0TGV2ZWxUeXBlIiwgIk1BSU4iLCAiU1VCVElUTEUiLCAibWFwQ29udGV4dFRvTGV2ZWxUeXBlIiwgImNvbnRleHQiLCAiZ2V0UmVzcG9uc2VVcmwiLCAicmVzcG9uc2UiLCAiUGxheWxpc3RMb2FkZXIiLCAiaGxzIiwgImxvYWRlcnMiLCAiY3JlYXRlIiwgInJlZ2lzdGVyTGlzdGVuZXJzIiwgInN0YXJ0TG9hZCIsICJzdGFydFBvc2l0aW9uIiwgInN0b3BMb2FkIiwgImRlc3Ryb3lJbnRlcm5hbExvYWRlcnMiLCAib24iLCAiTUFOSUZFU1RfTE9BRElORyIsICJvbk1hbmlmZXN0TG9hZGluZyIsICJMRVZFTF9MT0FESU5HIiwgIm9uTGV2ZWxMb2FkaW5nIiwgIkFVRElPX1RSQUNLX0xPQURJTkciLCAib25BdWRpb1RyYWNrTG9hZGluZyIsICJTVUJUSVRMRV9UUkFDS19MT0FESU5HIiwgIm9uU3VidGl0bGVUcmFja0xvYWRpbmciLCAidW5yZWdpc3Rlckxpc3RlbmVycyIsICJvZmYiLCAiY3JlYXRlSW50ZXJuYWxMb2FkZXIiLCAiUExvYWRlciIsICJwTG9hZGVyIiwgIkxvYWRlciIsICJJbnRlcm5hbExvYWRlciIsICJnZXRJbnRlcm5hbExvYWRlciIsICJyZXNldEludGVybmFsTG9hZGVyIiwgImNvbnRleHRUeXBlIiwgImRlc3Ryb3kiLCAiZXZlbnQiLCAibG9hZCIsICJyZXNwb25zZVR5cGUiLCAiZGVsaXZlcnlEaXJlY3RpdmVzIiwgIl9jb250ZXh0JGRlbGl2ZXJ5RGlyZSIsICJsb2FkZXJDb250ZXh0IiwgImxvYWRQb2xpY3kiLCAibWFuaWZlc3RMb2FkUG9saWN5IiwgInBsYXlsaXN0TG9hZFBvbGljeSIsICJ0aW1lb3V0UmV0cnkiLCAiZXJyb3JSZXRyeSIsICJsZXZlbERldGFpbHMiLCAiZGV0YWlscyIsICJhdWRpb1RyYWNrcyIsICJzdWJ0aXRsZVRyYWNrcyIsICJ0YXJnZXREdXJhdGlvbiIsICJtYXhMb3dMYXRlbmN5UGxheWxpc3RSZWZyZXNoIiwgIm1heFRpbWVUb0ZpcnN0Qnl0ZU1zIiwgIm1heExvYWRUaW1lTXMiLCAibGVnYWN5UmV0cnlDb21wYXRpYmlsaXR5IiwgImxvYWRlckNvbmZpZyIsICJ0aW1lb3V0IiwgIm1heFJldHJ5IiwgIm1heE51bVJldHJ5IiwgInJldHJ5RGVsYXkiLCAicmV0cnlEZWxheU1zIiwgIm1heFJldHJ5RGVsYXkiLCAibWF4UmV0cnlEZWxheU1zIiwgImxvYWRlckNhbGxiYWNrcyIsICJvblN1Y2Nlc3MiLCAibmV0d29ya0RldGFpbHMiLCAiaGFuZGxlTWFuaWZlc3RQYXJzaW5nRXJyb3IiLCAicGVyZm9ybWFuY2UiLCAiaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QiLCAiaGFuZGxlTWFzdGVyUGxheWxpc3QiLCAib25FcnJvciIsICJoYW5kbGVOZXR3b3JrRXJyb3IiLCAib25UaW1lb3V0IiwgInBhcnNlZFJlc3VsdCIsICJzdWJ0aXRsZXMiLCAiY2FwdGlvbnMiLCAiYXVkaW9UcmFjayIsICJ0cmlnZ2VyIiwgIk1BTklGRVNUX0xPQURFRCIsICJsZXZlbElkIiwgImxldmVsVHlwZSIsICJzaW5nbGVMZXZlbCIsICJoYW5kbGVQbGF5bGlzdExvYWRlZCIsICJFUlJPUiIsICJORVRXT1JLX0VSUk9SIiwgIk1BTklGRVNUX1BBUlNJTkdfRVJST1IiLCAiZmF0YWwiLCAiZXJyIiwgInJlYXNvbiIsICJjb2RlIiwgIlVOS05PV04iLCAiTUFOSUZFU1RfTE9BRF9USU1FT1VUIiwgIk1BTklGRVNUX0xPQURfRVJST1IiLCAiTEVWRUxfTE9BRF9USU1FT1VUIiwgIkxFVkVMX0xPQURfRVJST1IiLCAiQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUIiwgIkFVRElPX1RSQUNLX0xPQURfRVJST1IiLCAiU1VCVElUTEVfVFJBQ0tfTE9BRF9USU1FT1VUIiwgIlNVQlRJVExFX0xPQURfRVJST1IiLCAiZXJyb3JEYXRhIiwgInBhcmVudCIsICJsZXZlbEluZGV4IiwgIkxFVkVMX0VNUFRZX0VSUk9SIiwgIkxFVkVMX1BBUlNJTkdfRVJST1IiLCAiZ2V0Q2FjaGVBZ2UiLCAiaXNOYU4iLCAiTEVWRUxfTE9BREVEIiwgIkFVRElPX1RSQUNLX0xPQURFRCIsICJTVUJUSVRMRV9UUkFDS19MT0FERUQiLCAic2VuZEFkZFRyYWNrRXZlbnQiLCAidmlkZW9FbCIsICJFdmVudCIsICJkb2N1bWVudCIsICJjcmVhdGVFdmVudCIsICJpbml0RXZlbnQiLCAiZGlzcGF0Y2hFdmVudCIsICJhZGRDdWVUb1RyYWNrIiwgImN1ZSIsICJtb2RlIiwgImN1ZXMiLCAiZ2V0Q3VlQnlJZCIsICJhZGRDdWUiLCAidGV4dFRyYWNrQ3VlIiwgIlRleHRUcmFja0N1ZSIsICJlbmRUaW1lIiwgImVycjIiLCAiY2xlYXJDdXJyZW50Q3VlcyIsICJyZW1vdmVDdWUiLCAicmVtb3ZlQ3Vlc0luUmFuZ2UiLCAicHJlZGljYXRlIiwgImdldEN1ZXNJblJhbmdlIiwgImdldEZpcnN0Q3VlSW5kZXhBZnRlclRpbWUiLCAidGltZSIsICJsZWZ0IiwgInJpZ2h0IiwgIm1pZCIsICJjdWVzRm91bmQiLCAiZmlyc3RDdWVJblJhbmdlIiwgImZpbHRlclN1YnRpdGxlVHJhY2tzIiwgInRleHRUcmFja0xpc3QiLCAidHJhY2tzIiwgImtpbmQiLCAibGFiZWwiLCAiTWV0YWRhdGFTY2hlbWEiLCAiYXVkaW9JZDMiLCAiZW1zZyIsICJNSU5fQ1VFX0RVUkFUSU9OIiwgImdldEN1ZUNsYXNzIiwgIlZUVEN1ZSIsICJjcmVhdGVDdWVXaXRoRGF0YUZpZWxkcyIsICJDdWUiLCAiSlNPTiIsICJzdHJpbmdpZnkiLCAiTUFYX0NVRV9FTkRUSU1FIiwgIlBPU0lUSVZFX0lORklOSVRZIiwgIk1BWF9WQUxVRSIsICJkYXRlUmFuZ2VEYXRlVG9UaW1lbGluZVNlY29uZHMiLCAiZGF0ZSIsICJoZXhUb0FycmF5QnVmZmVyIiwgIklEM1RyYWNrQ29udHJvbGxlciIsICJpZDNUcmFjayIsICJkYXRlUmFuZ2VDdWVzQXBwZW5kZWQiLCAiX3JlZ2lzdGVyTGlzdGVuZXJzIiwgIl91bnJlZ2lzdGVyTGlzdGVuZXJzIiwgIk1FRElBX0FUVEFDSEVEIiwgIm9uTWVkaWFBdHRhY2hlZCIsICJNRURJQV9ERVRBQ0hJTkciLCAib25NZWRpYURldGFjaGluZyIsICJGUkFHX1BBUlNJTkdfTUVUQURBVEEiLCAib25GcmFnUGFyc2luZ01ldGFkYXRhIiwgIkJVRkZFUl9GTFVTSElORyIsICJvbkJ1ZmZlckZsdXNoaW5nIiwgIkxFVkVMX1VQREFURUQiLCAib25MZXZlbFVwZGF0ZWQiLCAiY3JlYXRlVHJhY2siLCAiZ2V0SUQzVHJhY2siLCAidGV4dFRyYWNrcyIsICJ0ZXh0VHJhY2siLCAiYWRkVGV4dFRyYWNrIiwgImVuYWJsZUVtc2dNZXRhZGF0YUN1ZXMiLCAiZW5hYmxlSUQzTWV0YWRhdGFDdWVzIiwgIklEMyIsICJ1cGRhdGVJZDNDdWVFbmRzIiwgIl90aGlzJGlkM1RyYWNrIiwgInN0YXJ0T2Zmc2V0IiwgImVuZE9mZnNldCIsICJlbmFibGVEYXRlUmFuZ2VNZXRhZGF0YUN1ZXMiLCAiaWRzIiwgImlkc1RvUmVtb3ZlIiwgImRhdGVUaW1lT2Zmc2V0IiwgImFwcGVuZGVkRGF0ZVJhbmdlQ3VlcyIsICJkdXJhdGlvbktub3duIiwgIm5leHREYXRlUmFuZ2VXaXRoU2FtZUNsYXNzIiwgImNhbmRpZGF0ZURhdGVSYW5nZSIsICJvdGhlckRhdGVSYW5nZSIsICJMYXRlbmN5Q29udHJvbGxlciIsICJjdXJyZW50VGltZSIsICJzdGFsbENvdW50IiwgIl9sYXRlbmN5IiwgInRpbWV1cGRhdGVIYW5kbGVyIiwgInRpbWV1cGRhdGUiLCAibGF0ZW5jeSIsICJtYXhMYXRlbmN5IiwgImxpdmVNYXhMYXRlbmN5RHVyYXRpb24iLCAibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IiwgInRhcmdldExhdGVuY3kiLCAibGl2ZVN5bmNEdXJhdGlvbiIsICJsaXZlU3luY0R1cmF0aW9uQ291bnQiLCAibG93TGF0ZW5jeU1vZGUiLCAidXNlckNvbmZpZyIsICJtYXhMaXZlU3luY09uU3RhbGxJbmNyZWFzZSIsICJsaXZlU3luY09uU3RhbGxJbmNyZWFzZSIsICJsaXZlU3luY1Bvc2l0aW9uIiwgImxpdmVFZGdlIiwgImVzdGltYXRlTGl2ZUVkZ2UiLCAic3luY1Bvc2l0aW9uIiwgImVkZ2VTdGFsbGVkIiwgIm1heExldmVsVXBkYXRlQWdlIiwgImZvcndhcmRCdWZmZXJMZW5ndGgiLCAiYnVmZmVyZWRSYW5nZXMiLCAiYnVmZmVyZWQiLCAiYWRkRXZlbnRMaXN0ZW5lciIsICJyZW1vdmVFdmVudExpc3RlbmVyIiwgIl90aGlzJGxldmVsRGV0YWlscyIsICJCVUZGRVJfU1RBTExFRF9FUlJPUiIsICJjb21wdXRlTGF0ZW5jeSIsICJtYXhMaXZlU3luY1BsYXliYWNrUmF0ZSIsICJkaXN0YW5jZUZyb21UYXJnZXQiLCAibGl2ZU1pbkxhdGVuY3lEdXJhdGlvbiIsICJyYXRlIiwgImV4cCIsICJwbGF5YmFja1JhdGUiLCAiSGRjcExldmVscyIsICJpc0hkY3BMZXZlbCIsICJWaWRlb1JhbmdlVmFsdWVzIiwgImlzVmlkZW9SYW5nZSIsICJIbHNTa2lwIiwgIk5vIiwgIlllcyIsICJ2MiIsICJnZXRTa2lwVmFsdWUiLCAicGxheWxpc3RSZWNlbnRFbm91Z2giLCAiSGxzVXJsUGFyYW1ldGVycyIsICJtc24iLCAic2tpcCIsICJhZGREaXJlY3RpdmVzIiwgImhyZWYiLCAiTGV2ZWwiLCAiX2F0dHJzIiwgImZyYW1lUmF0ZSIsICJmcmFnbWVudEVycm9yIiwgImxvYWRFcnJvciIsICJyZWFsQml0cmF0ZSIsICJzdXBwb3J0ZWRQcm9taXNlIiwgInN1cHBvcnRlZFJlc3VsdCIsICJfYXZnQml0cmF0ZSIsICJfYXVkaW9Hcm91cHMiLCAiX3N1YnRpdGxlR3JvdXBzIiwgIl91cmxJZCIsICJzIiwgImFkZEdyb3VwSWQiLCAibWF4Qml0cmF0ZSIsICJhdmVyYWdlQml0cmF0ZSIsICJ2aWRlb1JhbmdlIiwgInNjb3JlIiwgImhhc0F1ZGlvR3JvdXAiLCAiaGFzR3JvdXAiLCAiaGFzU3VidGl0bGVHcm91cCIsICJhdWRpb0dyb3VwcyIsICJzdWJ0aXRsZUdyb3VwcyIsICJhdWRpb0dyb3VwSWRzIiwgImF1ZGlvR3JvdXBJZCIsICJ0ZXh0R3JvdXBJZHMiLCAidGV4dEdyb3VwSWQiLCAiX3RoaXMkYXVkaW9Hcm91cHMiLCAiX3RoaXMkc3VidGl0bGVHcm91cHMiLCAiYWRkRmFsbGJhY2siLCAidXBkYXRlRnJvbVRvUFRTIiwgImZyYWdGcm9tIiwgImZyYWdUbyIsICJmcmFnVG9QVFMiLCAidXBkYXRlRnJhZ1BUU0RUUyIsICJmcmFnU3RhcnRQdHMiLCAiZnJhZ0VuZFB0cyIsICJmcmFnSWR4IiwgIm1lcmdlRGV0YWlscyIsICJvbGREZXRhaWxzIiwgIm5ld0RldGFpbHMiLCAib2xkRnJhZ21lbnRzIiwgIm9sZEluaXQiLCAiY2NPZmZzZXQiLCAiUFRTRnJhZyIsICJtYXBGcmFnbWVudEludGVyc2VjdGlvbiIsICJvbGRGcmFnIiwgIm5ld0ZyYWciLCAiX2lzRmluaXRlTnVtYmVyNSIsICJjb25jYXQiLCAiX2N1cnJlbnRJbml0U2VnbWVudCIsICJtZXJnZURhdGVSYW5nZXMiLCAibmV3RnJhZ21lbnRzIiwgIm1hcFBhcnRJbnRlcnNlY3Rpb24iLCAib2xkUGFydCIsICJuZXdQYXJ0IiwgImFkanVzdFNsaWRpbmciLCAib2xkRGF0ZVJhbmdlcyIsICJkZWx0YURhdGVSYW5nZXMiLCAib2xkUGFydHMiLCAibmV3UGFydHMiLCAiaW50ZXJzZWN0aW9uRm4iLCAiZGVsdGEiLCAibmV3RnJhZ3MiLCAib2xkRnJhZ3MiLCAiYWRkU2xpZGluZyIsICJjb21wdXRlUmVsb2FkSW50ZXJ2YWwiLCAiZGlzdGFuY2VUb0xpdmVFZGdlTXMiLCAicmVsb2FkSW50ZXJ2YWwiLCAibGl2ZUVkZ2VNYXhUYXJnZXREdXJhdGlvbnMiLCAibGFzdFNlZ21lbnREdXJhdGlvbiIsICJnZXRGcmFnbWVudFdpdGhTTiIsICJmcmFnQ3VycmVudCIsICJnZXRQYXJ0V2l0aCIsICJwYXJ0SW5kZXgiLCAiX2xldmVsJGRldGFpbHMiLCAiZmluZFBhcnQiLCAicmVhc3NpZ25GcmFnbWVudExldmVsSW5kZXhlcyIsICJpc1RpbWVvdXRFcnJvciIsICJGUkFHX0xPQURfVElNRU9VVCIsICJLRVlfTE9BRF9USU1FT1VUIiwgImdldFJldHJ5Q29uZmlnIiwgImlzVGltZW91dCIsICJnZXRSZXRyeURlbGF5IiwgInJldHJ5Q29uZmlnIiwgInJldHJ5Q291bnQiLCAiYmFja29mZkZhY3RvciIsICJiYWNrb2ZmIiwgImdldExvYWRlckNvbmZpZ1dpdGhvdXRSZXRpZXMiLCAibG9kZXJDb25maWciLCAic2hvdWxkUmV0cnkiLCAibG9hZGVyUmVzcG9uc2UiLCAiaHR0cFN0YXR1cyIsICJyZXRyeUZvckh0dHBTdGF0dXMiLCAib25MaW5lIiwgIkJpbmFyeVNlYXJjaCIsICJzZWFyY2giLCAibGlzdCIsICJjb21wYXJpc29uRm4iLCAibWluSW5kZXgiLCAibWF4SW5kZXgiLCAiY3VycmVudEluZGV4IiwgImN1cnJlbnRFbGVtZW50IiwgImNvbXBhcmlzb25SZXN1bHQiLCAiZmluZEZyYWdtZW50QnlQRFQiLCAiUERUVmFsdWUiLCAibWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSIsICJpc0FycmF5IiwgInN0YXJ0UERUIiwgImVuZFBEVCIsICJzZWciLCAicGR0V2l0aGluVG9sZXJhbmNlVGVzdCIsICJmaW5kRnJhZ21lbnRCeVBUUyIsICJmcmFnUHJldmlvdXMiLCAiYnVmZmVyRW5kIiwgIm5leHRGcmFnTG9va3VwVG9sZXJhbmNlIiwgImZyYWdOZXh0IiwgImJ1ZmZlckVkZ2VFcnJvciIsICJmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QiLCAiZnJhZ21lbnRXaXRoaW5GYXN0U3RhcnRTd2l0Y2giLCAiZm91bmRGcmFnbWVudCIsICJmaXJzdER1cmF0aW9uIiwgImNhbmRpZGF0ZSIsICJjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UiLCAicGR0QnVmZmVyRW5kIiwgImZpbmRGcmFnV2l0aENDIiwgIk5ldHdvcmtFcnJvckFjdGlvbiIsICJEb05vdGhpbmciLCAiU2VuZEVuZENhbGxiYWNrIiwgIlNlbmRBbHRlcm5hdGVUb1BlbmFsdHlCb3giLCAiUmVtb3ZlQWx0ZXJuYXRlUGVybWFuZW50bHkiLCAiSW5zZXJ0RGlzY29udGludWl0eSIsICJSZXRyeVJlcXVlc3QiLCAiRXJyb3JBY3Rpb25GbGFncyIsICJOb25lIiwgIk1vdmVBbGxBbHRlcm5hdGVzTWF0Y2hpbmdIb3N0IiwgIk1vdmVBbGxBbHRlcm5hdGVzTWF0Y2hpbmdIRENQIiwgIlN3aXRjaFRvU0RSIiwgIkVycm9yQ29udHJvbGxlciIsICJwbGF5bGlzdEVycm9yIiwgInBlbmFsaXplZFJlbmRpdGlvbnMiLCAib25FcnJvck91dCIsICJnZXRWYXJpYW50TGV2ZWxJbmRleCIsICJsb2FkTGV2ZWwiLCAiX2RhdGEkZnJhZyIsICJfZGF0YSRsZXZlbCIsICJGUkFHX0xPQURfRVJST1IiLCAiS0VZX0xPQURfRVJST1IiLCAiZXJyb3JBY3Rpb24iLCAiZ2V0RnJhZ1JldHJ5T3JTd2l0Y2hBY3Rpb24iLCAiRlJBR19QQVJTSU5HX0VSUk9SIiwgImFjdGlvbiIsICJGUkFHX0dBUCIsICJGUkFHX0RFQ1JZUFRfRVJST1IiLCAiX2RhdGEkY29udGV4dCIsICJfZGF0YSRjb250ZXh0JGxldmVsRGUiLCAiZ2V0UGxheWxpc3RSZXRyeU9yU3dpdGNoQWN0aW9uIiwgImxldmVsUmV0cnkiLCAiZ2V0TGV2ZWxTd2l0Y2hBY3Rpb24iLCAiS0VZX1NZU1RFTV9TVEFUVVNfT1VUUFVUX1JFU1RSSUNURUQiLCAicmVzdHJpY3RlZEhkY3BMZXZlbCIsICJoZGNwTGV2ZWwiLCAia2V5U3lzdGVtRXJyb3IiLCAiQlVGRkVSX0FERF9DT0RFQ19FUlJPUiIsICJSRU1VWF9BTExPQ19FUlJPUiIsICJCVUZGRVJfQVBQRU5EX0VSUk9SIiwgIklOVEVSTkFMX0VYQ0VQVElPTiIsICJCVUZGRVJfQVBQRU5ESU5HX0VSUk9SIiwgIkJVRkZFUl9GVUxMX0VSUk9SIiwgIkxFVkVMX1NXSVRDSF9FUlJPUiIsICJCVUZGRVJfU0VFS19PVkVSX0hPTEUiLCAiQlVGRkVSX05VREdFX09OX1NUQUxMIiwgIktFWV9TWVNURU1fRVJST1IiLCAidmFyaWFudExldmVsSW5kZXgiLCAiZnJhZ0xvYWRQb2xpY3kiLCAia2V5TG9hZFBvbGljeSIsICJzdGFydHNXaXRoIiwgImZyYWdtZW50RXJyb3JzIiwgImFjYyIsICJfZGF0YSRmcmFnMiIsICJfZGF0YSRjb250ZXh0MiIsICJlcnJvckRldGFpbHMiLCAibmV4dExldmVsIiwgIm1pbkF1dG9MZXZlbCIsICJtYXhBdXRvTGV2ZWwiLCAiYXV0b0xldmVsRW5hYmxlZCIsICJmcmFnRXJyb3JUeXBlIiwgImZpbmRBdWRpb0NvZGVjQWx0ZXJuYXRlIiwgInNvdXJjZUJ1ZmZlck5hbWUiLCAiZmluZFZpZGVvQ29kZWNBbHRlcm5hdGUiLCAicGxheWxpc3RFcnJvclR5cGUiLCAicGxheWxpc3RFcnJvckdyb3VwSWQiLCAiX2xldmVsJGF1ZGlvR3JvdXBzIiwgIl9sZXZlbCRzdWJ0aXRsZUdyb3VwcyIsICJsZXZlbENhbmRpZGF0ZSIsICJmcmFnQ2FuZGlkYXRlIiwgIm5leHRBdXRvTGV2ZWwiLCAiX2RhdGEkZXJyb3JBY3Rpb24iLCAic2VuZEFsdGVybmF0ZVRvUGVuYWx0eUJveCIsICJyZXNvbHZlZCIsICJyZWNvdmVyTWVkaWFFcnJvciIsICJzd2l0Y2hMZXZlbCIsICJtYXhIZGNwTGV2ZWwiLCAibmV4dExvYWRMZXZlbCIsICJCYXNlUGxheWxpc3RDb250cm9sbGVyIiwgImxvZ1ByZWZpeCIsICJ0aW1lciIsICJyZXF1ZXN0U2NoZWR1bGVkIiwgImNhbkxvYWQiLCAiY2xlYXJUaW1lciIsICJjbGVhclRpbWVvdXQiLCAibG9hZFBsYXlsaXN0IiwgInN3aXRjaFBhcmFtcyIsICJwbGF5bGlzdFVyaSIsICJjdXJyZW50IiwgImZvdW5kSW5kZXgiLCAiY3VycmVudEdvYWwiLCAiaGxzVXJsUGFyYW1ldGVycyIsICJzaG91bGRMb2FkUGxheWxpc3QiLCAicGxheWxpc3QiLCAic2hvdWxkUmVsb2FkUGxheWxpc3QiLCAicGxheWxpc3RMb2FkZWQiLCAicHJldmlvdXNEZXRhaWxzIiwgImVsYXBzZWQiLCAiZW5kU24iLCAiaGFzUGFydHMiLCAibGFzdFBhcnQiLCAibmV4dFNuU3RhcnRJbmRleCIsICJsYXN0QWR2YW5jZWQiLCAiY2RuQWdlIiwgInNlZ21lbnRzIiwgInRvRml4ZWQiLCAiZ2V0RGVsaXZlcnlEaXJlY3RpdmVzIiwgImJ1ZmZlckluZm8iLCAibWFpbkZvcndhcmRCdWZmZXJJbmZvIiwgInBvc2l0aW9uIiwgImVzdGltYXRlZFRpbWVVbnRpbFVwZGF0ZSIsICJzZXRUaW1lb3V0IiwgInByZXZpb3VzRGVsaXZlcnlEaXJlY3RpdmVzIiwgImNoZWNrUmV0cnkiLCAiZXJyb3JFdmVudCIsICJfZXJyb3JFdmVudCRjb250ZXh0IiwgImRlbGF5IiwgIkVXTUEiLCAiaGFsZkxpZmUiLCAiZXN0aW1hdGUiLCAid2VpZ2h0IiwgImFscGhhXyIsICJlc3RpbWF0ZV8iLCAidG90YWxXZWlnaHRfIiwgInNhbXBsZSIsICJhZGpBbHBoYSIsICJnZXRUb3RhbFdlaWdodCIsICJnZXRFc3RpbWF0ZSIsICJ6ZXJvRmFjdG9yIiwgIkV3bWFCYW5kV2lkdGhFc3RpbWF0b3IiLCAic2xvdyIsICJmYXN0IiwgImRlZmF1bHRFc3RpbWF0ZSIsICJkZWZhdWx0VFRGQiIsICJkZWZhdWx0RXN0aW1hdGVfIiwgIm1pbldlaWdodF8iLCAibWluRGVsYXlNc18iLCAic2xvd18iLCAiZmFzdF8iLCAiZGVmYXVsdFRURkJfIiwgInR0ZmJfIiwgInVwZGF0ZSIsICJkdXJhdGlvbk1zIiwgIm51bUJ5dGVzIiwgIm51bUJpdHMiLCAiZHVyYXRpb25TIiwgImJhbmR3aWR0aEluQnBzIiwgInNhbXBsZVRURkIiLCAidHRmYiIsICJzZWNvbmRzIiwgInNxcnQiLCAiY2FuRXN0aW1hdGUiLCAiZ2V0RXN0aW1hdGVUVEZCIiwgIlNVUFBPUlRFRF9JTkZPX0RFRkFVTFQiLCAic3VwcG9ydGVkIiwgImNvbmZpZ3VyYXRpb25zIiwgImRlY29kaW5nSW5mb1Jlc3VsdHMiLCAicG93ZXJFZmZpY2llbnQiLCAic21vb3RoIiwgIlNVUFBPUlRFRF9JTkZPX0NBQ0hFIiwgInJlcXVpcmVzTWVkaWFDYXBhYmlsaXRpZXNEZWNvZGluZ0luZm8iLCAiYXVkaW9UcmFja3NCeUdyb3VwIiwgImN1cnJlbnRWaWRlb1JhbmdlIiwgImN1cnJlbnRGcmFtZVJhdGUiLCAiY3VycmVudEJ3IiwgImF1ZGlvUHJlZmVyZW5jZSIsICJhdWRpb0NvZGVjUHJlZmVyZW5jZSIsICJjaGFubmVsc1ByZWZlcmVuY2UiLCAibWF4Q2hhbm5lbHMiLCAiYXVkaW9DaGFubmVscyIsICJhdWRpb1RyYWNrR3JvdXAiLCAiZ2V0TWVkaWFEZWNvZGluZ0luZm9Qcm9taXNlIiwgIm1lZGlhQ2FwYWJpbGl0aWVzIiwgIlByb21pc2UiLCAiYmFzZVZpZGVvQ29uZmlndXJhdGlvbiIsICJjZWlsIiwgImZyYW1lcmF0ZSIsICJ0cmFuc2ZlckZ1bmN0aW9uIiwgIl9hdWRpb1RyYWNrc0J5R3JvdXAkZyIsICJjaGFubmVsc051bWJlciIsICJhbGwiLCAiY29uZmlndXJhdGlvbiIsICJkZWNvZGluZ0luZm9LZXkiLCAiZ2V0TWVkaWFEZWNvZGluZ0luZm9LZXkiLCAiZGVjb2RpbmdJbmZvIiwgInRoZW4iLCAiY2F0Y2giLCAibWVkaWFDb25maWciLCAic3BhdGlhbFJlbmRlcmluZyIsICJpc0hkclN1cHBvcnRlZCIsICJtYXRjaE1lZGlhIiwgIm1lZGlhUXVlcnlMaXN0IiwgImJhZFF1ZXJ5IiwgIm1hdGNoZXMiLCAiZ2V0VmlkZW9TZWxlY3Rpb25PcHRpb25zIiwgInZpZGVvUHJlZmVyZW5jZSIsICJwcmVmZXJIRFIiLCAiYWxsb3dlZFZpZGVvUmFuZ2VzIiwgInJhbmdlIiwgImdldFN0YXJ0Q29kZWNUaWVyIiwgImNvZGVjVGllcnMiLCAiY29kZWNTZXRzIiwgInByZWZlclN0ZXJlbyIsICJoYXNTdGVyZW8iLCAiaGFzQ3VycmVudFZpZGVvUmFuZ2UiLCAibWluSGVpZ2h0IiwgIm1pbkZyYW1lcmF0ZSIsICJtaW5CaXRyYXRlIiwgInNlbGVjdGVkU2NvcmUiLCAidmlkZW9SYW5nZXMiLCAidGllciIsICJtYXRjaGluZ1ZpZGVvUmFuZ2VzIiwgIm1heEhlaWdodCIsICJtYXhGcmFtZXJhdGUiLCAic2VsZWN0ZWQiLCAiY2FuZGlkYXRlVGllciIsICJsb2dTdGFydENvZGVjQ2FuZGlkYXRlSWdub3JlZCIsICJoYXNEZWZhdWx0QXVkaW8iLCAibWF4U2NvcmUiLCAiY29kZVNldCIsICJnZXRBdWRpb1RyYWNrc0J5R3JvdXAiLCAiYWxsQXVkaW9UcmFja3MiLCAidHJhY2tHcm91cCIsICJoYXNEZWZhdWx0IiwgImhhc0F1dG9TZWxlY3QiLCAiY2hhbm5lbHNLZXkiLCAiaGFzQXV0b1NlbGVjdEF1ZGlvIiwgImdldENvZGVjVGllcnMiLCAidGllcnMiLCAiU0RSIiwgImxlc3NlcldpZHRoT3JIZWlnaHQiLCAiYXVkaW9Hcm91cCIsICJmaW5kTWF0Y2hpbmdPcHRpb24iLCAib3B0aW9uIiwgIm1hdGNoUHJlZGljYXRlIiwgIm1hdGNoZXNPcHRpb24iLCAiaXNEZWZhdWx0IiwgImNoYXJhY3RlcmlzdGljc01hdGNoIiwgImNoYXJhY3RlcmlzdGljc0EiLCAiY2hhcmFjdGVyaXN0aWNzQiIsICJhcnJBIiwgImFyckIiLCAiZWwiLCAiYXVkaW9NYXRjaFByZWRpY2F0ZSIsICJmaW5kQ2xvc2VzdExldmVsV2l0aEF1ZGlvR3JvdXAiLCAic2VhcmNoSW5kZXgiLCAiY3VycmVudExldmVsIiwgInJlbmRpdGlvbnMiLCAidmFyaWFudE1hcCIsICJjdXJyZW50VmlkZW9Db2RlYyIsICJtYXRjaGluZ1ZpZGVvIiwgInNlYXJjaERvd25BbmRVcExpc3QiLCAiYXJyIiwgIkFickNvbnRyb2xsZXIiLCAibGFzdExldmVsTG9hZFNlYyIsICJsYXN0TG9hZGVkRnJhZ0xldmVsIiwgImZpcnN0U2VsZWN0aW9uIiwgIl9uZXh0QXV0b0xldmVsIiwgIm5leHRBdXRvTGV2ZWxLZXkiLCAicGFydEN1cnJlbnQiLCAiYml0cmF0ZVRlc3REZWxheSIsICJid0VzdGltYXRvciIsICJfYWJhbmRvblJ1bGVzQ2hlY2siLCAidGltZUxvYWRpbmciLCAicGF1c2VkIiwgInJlYWR5U3RhdGUiLCAidHRmYkVzdGltYXRlIiwgImJ1ZmZlclN0YXJ2YXRpb25EZWxheSIsICJsb2FkZWRGaXJzdEJ5dGUiLCAiZ2V0QndFc3RpbWF0ZSIsICJleHBlY3RlZExlbiIsICJ0aW1lU3RyZWFtaW5nIiwgImxvYWRSYXRlIiwgImZyYWdMb2FkZWREZWxheSIsICJid2UiLCAiZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5IiwgImxldmVsTmV4dEJpdHJhdGUiLCAiZ2V0VGltZVRvTG9hZEZyYWciLCAibmV4dExvYWRMZXZlbEJpdHJhdGUiLCAiYWJyQmFuZFdpZHRoVXBGYWN0b3IiLCAicmVzZXRFc3RpbWF0b3IiLCAiRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVEIiwgImluaXRFc3RpbWF0b3IiLCAiYWJyRXdtYURlZmF1bHRFc3RpbWF0ZSIsICJhYnJFd21hU2xvd1ZvRCIsICJhYnJFd21hRmFzdFZvRCIsICJGUkFHX0xPQURJTkciLCAib25GcmFnTG9hZGluZyIsICJGUkFHX0xPQURFRCIsICJvbkZyYWdMb2FkZWQiLCAiRlJBR19CVUZGRVJFRCIsICJvbkZyYWdCdWZmZXJlZCIsICJMRVZFTF9TV0lUQ0hJTkciLCAib25MZXZlbFN3aXRjaGluZyIsICJvbkxldmVsTG9hZGVkIiwgIkxFVkVMU19VUERBVEVEIiwgIm9uTGV2ZWxzVXBkYXRlZCIsICJNQVhfQVVUT19MRVZFTF9VUERBVEVEIiwgIm9uTWF4QXV0b0xldmVsVXBkYXRlZCIsICJpZ25vcmVGcmFnbWVudCIsICJfZGF0YSRwYXJ0IiwgInNldEludGVydmFsIiwgInRpbWVUb0ZpcnN0Qnl0ZVNlYyIsICJiYW5kd2lkdGgiLCAiZnJhZ1NpemVCaXRzIiwgImlzU3dpdGNoIiwgImZyYWdMb2FkU2VjIiwgInBsYXlsaXN0TG9hZFNlYyIsICJ0aW1lTG9hZGluZ01zIiwgImFickV3bWFTbG93TGl2ZSIsICJhYnJFd21hRmFzdExpdmUiLCAiYWJyTWF4V2l0aFJlYWxCaXRyYXRlIiwgImxvYWRlZEJ5dGVzIiwgImxvYWRlZER1cmF0aW9uIiwgImZyYWdCdWZmZXJlZERhdGEiLCAicHJvY2Vzc2luZ01zIiwgImNsZWFySW50ZXJ2YWwiLCAiZmlyc3RBdXRvTGV2ZWwiLCAibWF4U3RhcnREZWxheSIsICJtYXhTdGFydmF0aW9uRGVsYXkiLCAiYWJyQXV0b0xldmVsIiwgImZpbmRCZXN0TGV2ZWwiLCAiZmlyc3RMZXZlbCIsICJjbGFtcGVkIiwgImZvcmNlZEF1dG9MZXZlbCIsICJ1c2VFc3RpbWF0ZSIsICJsb2FkZWRGaXJzdEZyYWciLCAiZ2V0QXV0b0xldmVsS2V5IiwgIm5leHRBQlJBdXRvTGV2ZWwiLCAiZ2V0TmV4dEFCUkF1dG9MZXZlbCIsICJnZXRTdGFydmF0aW9uRGVsYXkiLCAiY3VycmVudEZyYWdEdXJhdGlvbiIsICJhdmdidyIsICJid0ZhY3RvciIsICJhYnJCYW5kV2lkdGhGYWN0b3IiLCAiYndVcEZhY3RvciIsICJiZXN0TGV2ZWwiLCAibWF4TG9hZGluZ0RlbGF5IiwgIm1pbkxldmVsIiwgImF1dG9MZXZlbCIsICJtYXhGZXRjaER1cmF0aW9uIiwgInNlbGVjdGlvbkJhc2VMZXZlbCIsICJjdXJyZW50Q29kZWNTZXQiLCAic3RhcnRUaWVyIiwgInR0ZmJFc3RpbWF0ZVNlYyIsICJsZXZlbHNTa2lwcGVkIiwgIl9sZXZlbEluZm8kc3VwcG9ydGVkUiIsICJsZXZlbEluZm8iLCAidXBTd2l0Y2giLCAidXNlTWVkaWFDYXBhYmlsaXRpZXMiLCAicmVtb3ZlTGV2ZWwiLCAiYXZnRHVyYXRpb24iLCAiYWRqdXN0ZWRidyIsICJmZXRjaER1cmF0aW9uIiwgIlRhc2tMb29wIiwgIl9ib3VuZFRpY2siLCAiX3RpY2tUaW1lciIsICJfdGlja0ludGVydmFsIiwgIl90aWNrQ2FsbENvdW50IiwgInRpY2siLCAib25IYW5kbGVyRGVzdHJveWluZyIsICJvbkhhbmRsZXJEZXN0cm95ZWQiLCAiY2xlYXJOZXh0VGljayIsICJoYXNJbnRlcnZhbCIsICJoYXNOZXh0VGljayIsICJtaWxsaXMiLCAiZG9UaWNrIiwgInRpY2tJbW1lZGlhdGUiLCAiRnJhZ21lbnRTdGF0ZSIsICJOT1RfTE9BREVEIiwgIkFQUEVORElORyIsICJQQVJUSUFMIiwgIk9LIiwgIkZyYWdtZW50VHJhY2tlciIsICJhY3RpdmVQYXJ0TGlzdHMiLCAiZW5kTGlzdEZyYWdtZW50cyIsICJ0aW1lUmFuZ2VzIiwgImJ1ZmZlclBhZGRpbmciLCAiaGFzR2FwcyIsICJCVUZGRVJfQVBQRU5ERUQiLCAib25CdWZmZXJBcHBlbmRlZCIsICJnZXRBcHBlbmRlZEZyYWciLCAiYWN0aXZlUGFydHMiLCAiYWN0aXZlUGFydCIsICJhcHBlbmRlZFBUUyIsICJnZXRCdWZmZXJlZEZyYWciLCAiZnJhZ21lbnRFbnRpdHkiLCAiYm9keSIsICJkZXRlY3RFdmljdGVkRnJhZ21lbnRzIiwgImVsZW1lbnRhcnlTdHJlYW0iLCAidGltZVJhbmdlIiwgInBsYXlsaXN0VHlwZSIsICJhcHBlbmRlZFBhcnQiLCAiYXBwZW5kZWRQYXJ0U24iLCAicmVtb3ZlRnJhZ21lbnQiLCAiZXNEYXRhIiwgImlzTm90QnVmZmVyZWQiLCAiaXNUaW1lQnVmZmVyZWQiLCAiZGV0ZWN0UGFydGlhbEZyYWdtZW50cyIsICJmcmFnS2V5IiwgImdldEZyYWdtZW50S2V5IiwgImlzRnJhZ0hpbnQiLCAic3RyZWFtSW5mbyIsICJnZXRCdWZmZXJlZFRpbWVzIiwgImlzUGFydGlhbCIsICJyZW1vdmVQYXJ0cyIsICJzblRvS2VlcCIsICJmcmFnQnVmZmVyZWQiLCAiZm9yY2UiLCAiZ2V0UGFydGlhbEZyYWdtZW50IiwgImJlc3RGcmFnbWVudCIsICJ0aW1lUGFkZGluZyIsICJiZXN0T3ZlcmxhcCIsICJpc0VuZExpc3RBcHBlbmRlZCIsICJsYXN0RnJhZ21lbnRFbnRpdHkiLCAiZ2V0U3RhdGUiLCAiaGFzRnJhZ21lbnQiLCAiX3RoaXMkYWN0aXZlUGFydExpc3RzIiwgInJlbW92ZUZyYWdtZW50c0luUmFuZ2UiLCAid2l0aEdhcE9ubHkiLCAidW5idWZmZXJlZE9ubHkiLCAic25Ub1JlbW92ZSIsICJyZW1vdmVBbGxGcmFnbWVudHMiLCAiX2ZyYWdtZW50RW50aXR5JHJhbmdlIiwgIl9mcmFnbWVudEVudGl0eSRyYW5nZTIiLCAiX2ZyYWdtZW50RW50aXR5JHJhbmdlMyIsICJub29wQnVmZmVyZWQiLCAiQnVmZmVySGVscGVyIiwgImlzQnVmZmVyZWQiLCAiZ2V0QnVmZmVyZWQiLCAicG9zIiwgIm1heEhvbGVEdXJhdGlvbiIsICJ2YnVmZmVyZWQiLCAiYnVmZmVyZWRJbmZvIiwgIm5leHRTdGFydCIsICJzb3J0IiwgImEiLCAiZGlmZiIsICJidWZmZXJlZDIiLCAiYnVmMmxlbiIsICJidWYyZW5kIiwgImJ1ZmZlckxlbiIsICJidWZmZXJTdGFydE5leHQiLCAiYnVmZmVyU3RhcnQiLCAiQ2h1bmtNZXRhZGF0YSIsICJ0cmFuc211eGluZyIsICJnZXROZXdQZXJmb3JtYW5jZVRpbWluZyIsICJleGVjdXRlU3RhcnQiLCAiZXhlY3V0ZUVuZCIsICJmaW5kRmlyc3RGcmFnV2l0aENDIiwgIl9mcmFnbWVudHMkaSIsICJzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzIiwgImxhc3RGcmFnIiwgInN3aXRjaERldGFpbHMiLCAiZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnIiwgInByZXZEZXRhaWxzIiwgImN1ckRldGFpbHMiLCAicHJldkZyYWdzIiwgImN1ckZyYWdzIiwgInByZXZTdGFydEZyYWciLCAiYWRqdXN0RnJhZ21lbnRTdGFydCIsICJzbGlkaW5nIiwgImFkanVzdFNsaWRpbmdTdGFydCIsICJhbGlnblN0cmVhbSIsICJhbGlnbkRpc2NvbnRpbnVpdGllcyIsICJhbGlnbk1lZGlhUGxheWxpc3RCeVBEVCIsICJyZWZlcmVuY2VGcmFnIiwgInJlZkRldGFpbHMiLCAicmVmRnJhZ21lbnRzIiwgInJlZkZyYWciLCAidGFyZ2V0Q0MiLCAicmVmUERUIiwgInRhcmdldFBEVCIsICJNSU5fQ0hVTktfU0laRSIsICJGcmFnbWVudExvYWRlciIsICJwYXJ0TG9hZFRpbWVvdXQiLCAib25Qcm9ncmVzcyIsICJyZWplY3QiLCAiTG9hZEVycm9yIiwgIkZyYWdtZW50SUxvYWRlciIsICJmTG9hZGVyIiwgIkRlZmF1bHRJTG9hZGVyIiwgInRhZ3MiLCAiY3JlYXRlR2FwTG9hZEVycm9yIiwgImNyZWF0ZUxvYWRlckNvbnRleHQiLCAiaGlnaFdhdGVyTWFyayIsICJyZXNldExvYWRlciIsICJyZXNldElWIiwgIm9uQWJvcnQiLCAiSU5URVJOQUxfQUJPUlRFRCIsICJsb2FkUGFydCIsICJ1cGRhdGVTdGF0c0Zyb21QYXJ0IiwgInBhcnRMb2FkZWREYXRhIiwgImZyYWdTdGF0cyIsICJwYXJ0U3RhdHMiLCAicGFydFRvdGFsIiwgImVzdFRvdGFsUGFydHMiLCAiZXN0TG9hZGVkUGFydHMiLCAiZXN0UmVtYWluaW5nQnl0ZXMiLCAiZnJhZ0xvYWRpbmciLCAicGFydExvYWRpbmciLCAic2VnbWVudCIsICJoZWFkZXJzIiwgInJhbmdlU3RhcnQiLCAicmFuZ2VFbmQiLCAiX2ZyYWckZGVjcnlwdGRhdGEiLCAiYnl0ZVJhbmdlU3RhcnQiLCAiYnl0ZVJhbmdlRW5kIiwgImZyYWdtZW50TGVuIiwgIk1FRElBX0VSUk9SIiwgIkFFU0NyeXB0byIsICJzdWJ0bGUiLCAiYWVzSVYiLCAiZGVjcnlwdCIsICJGYXN0QUVTS2V5IiwgImV4cGFuZEtleSIsICJpbXBvcnRLZXkiLCAicmVtb3ZlUGFkZGluZyIsICJvdXRwdXRCeXRlcyIsICJwYWRkaW5nQnl0ZXMiLCAiZ2V0VWludDgiLCAiQUVTRGVjcnlwdG9yIiwgInJjb24iLCAic3ViTWl4IiwgIlVpbnQzMkFycmF5IiwgImludlN1Yk1peCIsICJzQm94IiwgImludlNCb3giLCAia3NSb3dzIiwgImtleVNpemUiLCAia2V5U2NoZWR1bGUiLCAiaW52S2V5U2NoZWR1bGUiLCAiaW5pdFRhYmxlIiwgInVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyIsICJhcnJheUJ1ZmZlciIsICJuZXdBcnJheSIsICJzdWJNaXgwIiwgInN1Yk1peDEiLCAic3ViTWl4MiIsICJzdWJNaXgzIiwgImludlN1Yk1peDAiLCAiaW52U3ViTWl4MSIsICJpbnZTdWJNaXgyIiwgImludlN1Yk1peDMiLCAiZCIsICJ4aSIsICJzeCIsICJ4MiIsICJ4NCIsICJ4OCIsICJ0IiwgImtleUJ1ZmZlciIsICJzYW1lS2V5IiwgImtzUm93IiwgImludktzUm93IiwgInNib3giLCAicHJldiIsICJuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwIiwgIndvcmQiLCAiaW5wdXRBcnJheUJ1ZmZlciIsICJuUm91bmRzIiwgImludlNCT1giLCAiaW5pdFZlY3RvciIsICJpbml0VmVjdG9yMCIsICJpbml0VmVjdG9yMSIsICJpbml0VmVjdG9yMiIsICJpbml0VmVjdG9yMyIsICJpbnB1dEludDMyIiwgIkludDMyQXJyYXkiLCAib3V0cHV0SW50MzIiLCAidDAiLCAidDEiLCAidDIiLCAidDMiLCAiczAiLCAiczEiLCAiczIiLCAiczMiLCAiaW5wdXRXb3JkczAiLCAiaW5wdXRXb3JkczEiLCAiaW5wdXRXb3JkczIiLCAiaW5wdXRXb3JkczMiLCAic3dhcFdvcmQiLCAiQ0hVTktfU0laRSIsICJEZWNyeXB0ZXIiLCAicmVtb3ZlUEtDUzdQYWRkaW5nIiwgImxvZ0VuYWJsZWQiLCAic29mdHdhcmVEZWNyeXB0ZXIiLCAiZmFzdEFlc0tleSIsICJyZW1haW5kZXJEYXRhIiwgImN1cnJlbnRJViIsICJjdXJyZW50UmVzdWx0IiwgInVzZVNvZnR3YXJlIiwgImVuYWJsZVNvZnR3YXJlQUVTIiwgImJyb3dzZXJDcnlwdG8iLCAiY3J5cHRvIiwgIndlYmtpdFN1YnRsZSIsICJpc1N5bmMiLCAiZmx1c2giLCAicmVzZXQiLCAic29mdHdhcmVEZWNyeXB0IiwgImRlY3J5cHRSZXN1bHQiLCAid2ViQ3J5cHRvRGVjcnlwdCIsICJsb2dPbmNlIiwgImN1cnJlbnRDaHVuayIsICJnZXRWYWxpZENodW5rIiwgIm9uV2ViQ3J5cHRvRXJyb3IiLCAiYWVzS2V5IiwgInNwbGl0UG9pbnQiLCAibXNnIiwgIlRpbWVSYW5nZXMiLCAiciIsICJTdGF0ZSIsICJTVE9QUEVEIiwgIklETEUiLCAiS0VZX0xPQURJTkciLCAiRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlkiLCAiV0FJVElOR19UUkFDSyIsICJQQVJTSU5HIiwgIlBBUlNFRCIsICJFTkRFRCIsICJXQUlUSU5HX0lOSVRfUFRTIiwgIldBSVRJTkdfTEVWRUwiLCAiQmFzZVN0cmVhbUNvbnRyb2xsZXIiLCAiZnJhZ21lbnRUcmFja2VyIiwgInRyYW5zbXV4ZXIiLCAiX3N0YXRlIiwgIm1lZGlhQnVmZmVyIiwgImxhc3RDdXJyZW50VGltZSIsICJuZXh0TG9hZFBvc2l0aW9uIiwgImxvYWRlZG1ldGFkYXRhIiwgInJldHJ5RGF0ZSIsICJmcmFnbWVudExvYWRlciIsICJsZXZlbExhc3RMb2FkZWQiLCAic3RhcnRGcmFnUmVxdWVzdGVkIiwgImRlY3J5cHRlciIsICJpbml0UFRTIiwgIm9udnNlZWtpbmciLCAib252ZW5kZWQiLCAib25NYW5pZmVzdExvYWRlZCIsICJvblRpY2tFbmQiLCAicmVzZXRUcmFuc211eGVyIiwgInN0YXRlIiwgIl9zdHJlYW1FbmRlZCIsICJnZXRMZXZlbERldGFpbHMiLCAiX3RoaXMkbGV2ZWxMYXN0TG9hZGVkIiwgIm9uTWVkaWFTZWVraW5nIiwgIm9uTWVkaWFFbmRlZCIsICJhdXRvU3RhcnRMb2FkIiwgImVuZGVkIiwgImRldGFjaCIsICJtYXhCdWZmZXJIb2xlIiwgInJlc2V0TG9hZGluZ1N0YXRlIiwgInRvbGVyYW5jZSIsICJmcmFnU3RhcnRPZmZzZXQiLCAiZnJhZ0VuZE9mZnNldCIsICJwYXN0RnJhZ21lbnQiLCAibG9hZEZyYWdtZW50IiwgInRhcmdldEJ1ZmZlclRpbWUiLCAiX2xvYWRGcmFnRm9yUGxheWJhY2siLCAicHJvZ3Jlc3NDYWxsYmFjayIsICJmcmFnQ29udGV4dENoYW5nZWQiLCAiX2hhbmRsZUZyYWdtZW50TG9hZFByb2dyZXNzIiwgIl9kb0ZyYWdMb2FkIiwgIl9oYW5kbGVGcmFnbWVudExvYWRDb21wbGV0ZSIsICJyZXNldEZyYWdtZW50TG9hZGluZyIsICJjbGVhclRyYWNrZXJJZk5lZWRlZCIsICJfdGhpcyRtZWRpYUJ1ZmZlciIsICJnZXRGd2RCdWZmZXJJbmZvIiwgIm1pbkZvcndhcmRCdWZmZXJMZW5ndGgiLCAibWF4QnVmZmVyTGVuZ3RoIiwgImJhY2t0cmFja0ZyYWdtZW50IiwgInJlZHVjZU1heEJ1ZmZlckxlbmd0aCIsICJjaGVja0xpdmVVcGRhdGUiLCAiZmx1c2hNYWluQnVmZmVyIiwgImZsdXNoU2NvcGUiLCAiX2xvYWRJbml0U2VnbWVudCIsICJkZWNyeXB0RGF0YSIsICJkZWNyeXB0ZWREYXRhIiwgIkZSQUdfREVDUllQVEVEIiwgInRzdGFydCIsICJ0ZGVjcnlwdCIsICJjb21wbGV0ZUluaXRTZWdtZW50TG9hZCIsICJmcmFnQnVmZmVyZWRDb21wbGV0ZSIsICJfZnJhZyRzdGFydFBUUyIsICJfZnJhZyRlbmRQVFMiLCAiX3RoaXMkZnJhZ0N1cnJlbnQiLCAiX3RoaXMkZnJhZ1ByZXZpb3VzIiwgIk5hTiIsICJfdGhpcyRsZXZlbHMiLCAic2Vla1RvU3RhcnRQb3MiLCAiZnJhZ0xvYWRlZEVuZERhdGEiLCAicGFydHNMb2FkZWQiLCAiY29tcGxldGUiLCAiZnJhZ0xvYWRlZCIsICJjaHVua01ldGEiLCAia2V5TG9hZGluZ1Byb21pc2UiLCAia2V5TG9hZGVkRGF0YSIsICJLRVlfTE9BREVEIiwgImxvYWRDbGVhciIsICJnZXROZXh0UGFydCIsICJkb0ZyYWdQYXJ0c0xvYWQiLCAiaGFuZGxlRnJhZ0xvYWRFcnJvciIsICJsb2FkZWRFbmRPZlBhcnRzIiwgImRhdGFPblByb2dyZXNzIiwgInByb2dyZXNzaXZlIiwgImZyYWdMb2FkZWREYXRhIiwgImZyb21QYXJ0IiwgImluaXRpYWxQYXJ0TGlzdCIsICJsb2FkZWRQYXJ0IiwgIm5leHRQYXJ0IiwgImhhbmRsZUZyYWdMb2FkQWJvcnRlZCIsICJPVEhFUl9FUlJPUiIsICJfaGFuZGxlVHJhbnNtdXhlckZsdXNoIiwgImdldEN1cnJlbnRDb250ZXh0IiwgInVwZGF0ZUxldmVsVGltaW5nIiwgImJ1ZmZlckZyYWdtZW50RGF0YSIsICJub0JhY2t0cmFja2luZyIsICJfYnVmZmVyIiwgIkJVRkZFUl9BUFBFTkRJTkciLCAiZHJvcHBlZCIsICJmbHVzaEJ1ZmZlckdhcCIsICJmcmFnRHVyYXRpb24iLCAic2VnbWVudEZyYWN0aW9uIiwgImJ1ZmZlcmFibGUiLCAiZ2V0TG9hZFBvc2l0aW9uIiwgImdldEZ3ZEJ1ZmZlckluZm9BdFBvcyIsICJidWZmZXJlZEZyYWdBdFBvcyIsICJnZXRNYXhCdWZmZXJMZW5ndGgiLCAibGV2ZWxCaXRyYXRlIiwgIm1heEJ1ZkxlbiIsICJtYXhCdWZmZXJTaXplIiwgIm1heE1heEJ1ZmZlckxlbmd0aCIsICJ0aHJlc2hvbGQiLCAibWluTGVuZ3RoIiwgInJlZHVjZWRMZW5ndGgiLCAiZnJhZ09yUGFydCIsICJnZXROZXh0RnJhZ21lbnQiLCAiZnJhZ0xlbiIsICJpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSIsICJnZXRJbml0aWFsTGl2ZUZyYWdtZW50IiwgImdldEZyYWdtZW50QXRQb3NpdGlvbiIsICJtYXBUb0luaXRGcmFnV2hlblJlcXVpcmVkIiwgImlzTG9vcExvYWRpbmciLCAidHJhY2tlclN0YXRlIiwgImdldE5leHRGcmFnbWVudExvb3BMb2FkaW5nIiwgImdhcFN0YXJ0IiwgIm5leHRGcmFnbWVudCIsICJuZXh0YnVmZmVySW5mbyIsICJjb250aWd1b3VzIiwgImluZGVwZW5kZW50QXR0ck9taXR0ZWQiLCAidGFyZ2V0U04iLCAibGl2ZVN0YXJ0IiwgImxvYWRpbmdQYXJ0cyIsICJsb29rdXBUb2xlcmFuY2UiLCAiY3VyU05JZHgiLCAiZnJhZ1N0YXRlIiwgIm5leHRGcmFnIiwgInN5bmNocm9uaXplVG9MaXZlRWRnZSIsICJ3aXRoaW5TbGlkaW5nV2luZG93IiwgImFsaWduUGxheWxpc3RzIiwgInNsaWRpbmdTdGFydCIsICJmaXJzdExldmVsTG9hZCIsICJhbGlnbmVkIiwgImFsaWduZWRTbGlkaW5nU3RhcnQiLCAid2FpdEZvckNkblR1bmVJbiIsICJhZHZhbmNlUGFydExpbWl0IiwgInNldFN0YXJ0UG9zaXRpb24iLCAib2Zmc2V0SW5NdWx0aXZhcmlhbnRQbGF5bGlzdCIsICJvbkZyYWdtZW50T3JLZXlMb2FkRXJyb3IiLCAiZmlsdGVyVHlwZSIsICJfdGhpcyRmcmFnQ3VycmVudDIiLCAiZ2FwVGFnRW5jb3VudGVyZWQiLCAicmVzZXRTdGFydFdoZW5Ob3RMb2FkZWQiLCAicmVzZXRGcmFnbWVudEVycm9ycyIsICJyZWR1Y2VMZW5ndGhBbmRGbHVzaEJ1ZmZlciIsICJmbHVzaEJ1ZmZlciIsICJhZnRlckJ1ZmZlckZsdXNoZWQiLCAiYnVmZmVyVHlwZSIsICJidWZmZXJlZFRpbWVSYW5nZXMiLCAicmVzZXRXaGVuTWlzc2luZ0NvbnRleHQiLCAicmVtb3ZlVW5idWZmZXJlZEZyYWdzIiwgIl90aGlzJHRyYW5zbXV4ZXIiLCAicGFyc2VkRHVyYXRpb24iLCAiTEVWRUxfUFRTX1VQREFURUQiLCAiRlJBR19QQVJTRUQiLCAicmVjb3ZlcldvcmtlckVycm9yIiwgIm5leHRTdGF0ZSIsICJwcmV2aW91c1N0YXRlIiwgIkNodW5rQ2FjaGUiLCAiY2h1bmtzIiwgImRhdGFMZW5ndGgiLCAiY2h1bmsiLCAiY29uY2F0VWludDhBcnJheXMiLCAiaGFzVU1EV29ya2VyIiwgIl9fSExTX1dPUktFUl9CVU5ETEVfXyIsICJpbmplY3RXb3JrZXIiLCAiYmxvYiIsICJCbG9iIiwgIm9iamVjdFVSTCIsICJjcmVhdGVPYmplY3RVUkwiLCAid29ya2VyIiwgIldvcmtlciIsICJsb2FkV29ya2VyIiwgInNjcmlwdFVSTCIsICJsb2NhdGlvbiIsICJkdW1teVRyYWNrIiwgImlucHV0VGltZVNjYWxlIiwgInBpZCIsICJzZXF1ZW5jZU51bWJlciIsICJCYXNlQXVkaW9EZW11eGVyIiwgIl9hdWRpb1RyYWNrIiwgIl9pZDNUcmFjayIsICJmcmFtZUluZGV4IiwgImNhY2hlZERhdGEiLCAiYmFzZVBUUyIsICJsYXN0UFRTIiwgInJlc2V0SW5pdFNlZ21lbnQiLCAidHJhY2tEdXJhdGlvbiIsICJyZXNldFRpbWVTdGFtcCIsICJkZWF1bHRUaW1lc3RhbXAiLCAicmVzZXRDb250aWd1aXR5IiwgImFwcGVuZEZyYW1lIiwgImRlbXV4IiwgImxhc3REYXRhSW5kZXgiLCAiaW5pdFBUU0ZuIiwgImR0cyIsICJwYXJ0aWFsRGF0YSIsICJ2aWRlb1RyYWNrIiwgImRlbXV4U2FtcGxlQWVzIiwgImluaXQ5MGtIeiIsICJnZXRBdWRpb0NvbmZpZyIsICJvYnNlcnZlciIsICJhZHRzT2JqZWN0VHlwZSIsICJhZHRzRXh0ZW5zaW9uU2FtcGxpbmdJbmRleCIsICJhZHRzQ2hhbm5lbENvbmZpZyIsICJtYW5pZmVzdENvZGVjIiwgImFkdHNTYW1wbGluZ1JhdGVzIiwgImFkdHNTYW1wbGluZ0luZGV4IiwgImVtaXQiLCAic2FtcGxlcmF0ZSIsICJjaGFubmVsQ291bnQiLCAiaXNIZWFkZXJQYXR0ZXJuIiwgImdldEhlYWRlckxlbmd0aCIsICJnZXRGdWxsRnJhbWVMZW5ndGgiLCAiY2FuR2V0RnJhbWVMZW5ndGgiLCAicHJvYmUiLCAiaGVhZGVyTGVuZ3RoIiwgImZyYW1lTGVuZ3RoIiwgIm5ld09mZnNldCIsICJpbml0VHJhY2tDb25maWciLCAiZ2V0RnJhbWVEdXJhdGlvbiIsICJwYXJzZUZyYW1lSGVhZGVyIiwgImZyYW1lRHVyYXRpb24iLCAic3RhbXAiLCAiaGVhZGVyIiwgInVuaXQiLCAibWlzc2luZyIsICJjaHJvbWVWZXJzaW9uIiwgIkJpdHJhdGVzTWFwIiwgIlNhbXBsaW5nUmF0ZU1hcCIsICJTYW1wbGVzQ29lZmZpY2llbnRzIiwgIkJ5dGVzSW5TbG90IiwgInBhcnNlSGVhZGVyIiwgInNhbXBsZXNQZXJGcmFtZSIsICJzYW1wbGVSYXRlIiwgIm1wZWdWZXJzaW9uIiwgIm1wZWdMYXllciIsICJiaXRSYXRlSW5kZXgiLCAic2FtcGxlUmF0ZUluZGV4IiwgInBhZGRpbmdCaXQiLCAiY2hhbm5lbE1vZGUiLCAiY29sdW1uSW5CaXRyYXRlcyIsICJiaXRSYXRlIiwgInNhbXBsZUNvZWZmaWNpZW50IiwgImJ5dGVzSW5TbG90IiwgIkFBQ0RlbXV4ZXIiLCAiY29udGFpbmVyIiwgInNlZ21lbnRDb2RlYyIsICJNcGVnQXVkaW8iLCAiQURUUyIsICJlbXNnU2NoZW1lUGF0dGVybiIsICJNUDREZW11eGVyIiwgInR4dFRyYWNrIiwgImNhcHRpb25UcmFjayIsICJ2aWRlb1NhbXBsZXMiLCAic2VnbWVudGVkRGF0YSIsICJleHRyYWN0SUQzVHJhY2siLCAiZW1zZ3MiLCAiZW1zZ0luZm8iLCAiZ2V0QXVkaW9CU0lEIiwgImJzaWQiLCAibWFzayIsICJiaXRzIiwgIkFDM0RlbXV4ZXIiLCAic2FtcGxpbmdSYXRlQ29kZSIsICJmcmFtZVNpemVDb2RlIiwgInNraXBDb3VudCIsICJsZmVvbiIsICJic21vZCIsICJCYXNlVmlkZW9QYXJzZXIiLCAiVmlkZW9TYW1wbGUiLCAiY3JlYXRlVmlkZW9TYW1wbGUiLCAidW5pdHMiLCAiZ2V0TGFzdE5hbFVuaXQiLCAiX1ZpZGVvU2FtcGxlIiwgImxhc3RVbml0IiwgInB1c2hBY2Nlc3NVbml0IiwgIm5iU2FtcGxlcyIsICJsYXN0U2FtcGxlIiwgIkV4cEdvbG9tYiIsICJieXRlc0F2YWlsYWJsZSIsICJiaXRzQXZhaWxhYmxlIiwgImxvYWRXb3JkIiwgIndvcmtpbmdCeXRlcyIsICJhdmFpbGFibGVCeXRlcyIsICJza2lwQml0cyIsICJjb3VudCIsICJza2lwQnl0ZXMiLCAicmVhZEJpdHMiLCAidmFsdSIsICJza2lwTFoiLCAibGVhZGluZ1plcm9Db3VudCIsICJza2lwVUVHIiwgInNraXBFRyIsICJyZWFkVUVHIiwgImNseiIsICJyZWFkRUciLCAicmVhZEJvb2xlYW4iLCAicmVhZFVCeXRlIiwgInJlYWRVU2hvcnQiLCAicmVhZFVJbnQiLCAic2tpcFNjYWxpbmdMaXN0IiwgImxhc3RTY2FsZSIsICJuZXh0U2NhbGUiLCAiZGVsdGFTY2FsZSIsICJyZWFkU1BTIiwgImZyYW1lQ3JvcExlZnRPZmZzZXQiLCAiZnJhbWVDcm9wUmlnaHRPZmZzZXQiLCAiZnJhbWVDcm9wVG9wT2Zmc2V0IiwgImZyYW1lQ3JvcEJvdHRvbU9mZnNldCIsICJudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGUiLCAic2NhbGluZ0xpc3RDb3VudCIsICJwcm9maWxlSWRjIiwgImNocm9tYUZvcm1hdElkYyIsICJwaWNPcmRlckNudFR5cGUiLCAicGljV2lkdGhJbk1ic01pbnVzMSIsICJwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxIiwgImZyYW1lTWJzT25seUZsYWciLCAicGl4ZWxSYXRpbyIsICJyZWFkU2xpY2VUeXBlIiwgIkF2Y1ZpZGVvUGFyc2VyIiwgInBhcnNlQVZDUEVTIiwgInBlcyIsICJwYXJzZUFWQ05BTHUiLCAic3BzZm91bmQiLCAiYXVkRm91bmQiLCAiX1ZpZGVvU2FtcGxlMiIsICJpc2tleSIsICJzbGljZVR5cGUiLCAiX3RyYWNrJHBpeGVsUmF0aW8iLCAiX3RyYWNrJHBpeGVsUmF0aW8yIiwgInNwcyIsICJjb2RlY2FycmF5IiwgImNvZGVjc3RyaW5nIiwgInBwcyIsICJuYWx1U3RhdGUiLCAibGFzdFN0YXRlIiwgIm92ZXJmbG93IiwgInVuaXRUeXBlIiwgImxhc3RVbml0U3RhcnQiLCAibGFzdFVuaXRUeXBlIiwgIlNhbXBsZUFlc0RlY3J5cHRlciIsICJkZWNyeXB0QnVmZmVyIiwgImVuY3J5cHRlZERhdGEiLCAiZGVjcnlwdEFhY1NhbXBsZSIsICJzYW1wbGVJbmRleCIsICJjYWxsYmFjayIsICJjdXJVbml0IiwgImVuY3J5cHRlZEJ1ZmZlciIsICJkZWNyeXB0ZWRCdWZmZXIiLCAiZGVjcnlwdEFhY1NhbXBsZXMiLCAiZ2V0QXZjRW5jcnlwdGVkRGF0YSIsICJkZWNvZGVkRGF0YSIsICJlbmNyeXB0ZWREYXRhTGVuIiwgIkludDhBcnJheSIsICJvdXRwdXRQb3MiLCAiaW5wdXRQb3MiLCAiZ2V0QXZjRGVjcnlwdGVkVW5pdCIsICJ1aW50OERlY3J5cHRlZERhdGEiLCAiZGVjcnlwdEF2Y1NhbXBsZSIsICJ1bml0SW5kZXgiLCAiZGVjcnlwdEF2Y1NhbXBsZXMiLCAiY3VyVW5pdHMiLCAiUEFDS0VUX0xFTkdUSCIsICJUU0RlbXV4ZXIiLCAidHlwZVN1cHBvcnRlZCIsICJzYW1wbGVBZXMiLCAicG10UGFyc2VkIiwgIl9kdXJhdGlvbiIsICJfcG10SWQiLCAiX3ZpZGVvVHJhY2siLCAiX3R4dFRyYWNrIiwgImFhY092ZXJGbG93IiwgInZpZGVvUGFyc2VyIiwgInN5bmNPZmZzZXQiLCAic2NhbndpbmRvdyIsICJmb3VuZFBhdCIsICJwYWNrZXRTdGFydCIsICJ0c1BhY2tldHMiLCAicGFyc2VQSUQiLCAicGVzRGF0YSIsICJpc1NhbXBsZUFlcyIsICJ2aWRlb1BpZCIsICJhdWRpb1BpZCIsICJpZDNQaWQiLCAiYXVkaW9EYXRhIiwgInVua25vd25QSUQiLCAicG10SWQiLCAidHNQYWNrZXRFcnJvcnMiLCAic3R0IiwgImF0ZiIsICJwYXJzZVBFUyIsICJwYXJzZUFBQ1BFUyIsICJwYXJzZU1QRUdQRVMiLCAicGFyc2VBQzNQRVMiLCAicGFyc2VJRDNQRVMiLCAicGFyc2VQQVQiLCAicGFyc2VkUElEcyIsICJwYXJzZVBNVCIsICJzZWdtZW50VmlkZW9Db2RlYyIsICJzZWdtZW50QXVkaW9Db2RlYyIsICJlbWl0UGFyc2luZ0Vycm9yIiwgImRlbXV4UmVzdWx0IiwgImV4dHJhY3RSZW1haW5pbmdTYW1wbGVzIiwgImZyYW1lTWlzc2luZ0J5dGVzIiwgInNhbXBsZUxlbmd0aCIsICJmcmFtZU92ZXJmbG93Qnl0ZXMiLCAicmVjb3ZlcmFibGUiLCAiQUMzIiwgImlkM1NhbXBsZSIsICJzZWN0aW9uTGVuZ3RoIiwgInRhYmxlRW5kIiwgInByb2dyYW1JbmZvTGVuZ3RoIiwgImVzSW5mb0xlbmd0aCIsICJsb2dFbmNyeXB0ZWRTYW1wbGVzRm91bmRJblVuZW5jcnlwdGVkU3RyZWFtIiwgIm1wZWciLCAibXAzIiwgImFjMyIsICJwYXJzZVBvcyIsICJyZW1haW5pbmciLCAiZGVzY3JpcHRvckxlbiIsICJzdHJlYW0iLCAicGVzTGVuIiwgInBlc0hkckxlbiIsICJwZXNQdHMiLCAicGVzRHRzIiwgInBlc0ZsYWdzIiwgInBheWxvYWRTdGFydE9mZnNldCIsICJkYXRhTGVuIiwgIk1QM0RlbXV4ZXIiLCAiQUFDIiwgImdldFNpbGVudEZyYW1lIiwgIk1QNCIsICJ0eXBlcyIsICJhdmNDIiwgImJ0cnQiLCAiZGluZiIsICJkcmVmIiwgImVzZHMiLCAiZnR5cCIsICJtZGF0IiwgIm1kaWEiLCAibWZoZCIsICJtaW5mIiwgIm1vb3YiLCAiZGFjMyIsICJtdmV4IiwgIm12aGQiLCAicGFzcCIsICJzZHRwIiwgInN0YmwiLCAic3RjbyIsICJzdHNjIiwgInN0c3oiLCAic3R0cyIsICJ2bWhkIiwgInNtaGQiLCAidmlkZW9IZGxyIiwgImF1ZGlvSGRsciIsICJIRExSX1RZUEVTIiwgIlNUVFMiLCAiU1RTQyIsICJTVENPIiwgIlNUU1oiLCAiVk1IRCIsICJTTUhEIiwgIlNUU0QiLCAibWFqb3JCcmFuZCIsICJhdmMxQnJhbmQiLCAibWlub3JWZXJzaW9uIiwgIkZUWVAiLCAiYm94IiwgIkRJTkYiLCAidXBwZXJXb3JkRHVyYXRpb24iLCAibG93ZXJXb3JkRHVyYXRpb24iLCAiYm94ZXMiLCAiZGVwZW5kc09uIiwgImlzRGVwZW5kZWRPbiIsICJoYXNSZWR1bmRhbmN5IiwgImF2Y2MiLCAiaFNwYWNpbmciLCAidlNwYWNpbmciLCAiY29uZmlnbGVuIiwgImF1ZGlvU3RzZCIsICJzYW1wbGVEZXBlbmRlbmN5VGFibGUiLCAidXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSIsICJsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lIiwgImFycmF5bGVuIiwgImN0cyIsICJpc0xlYWRpbmciLCAicGFkZGluZ1ZhbHVlIiwgImlzTm9uU3luYyIsICJkZWdyYWRQcmlvIiwgIm1vdmllIiwgIk1QRUdfVFNfQ0xPQ0tfRlJFUV9IWiIsICJ0b1RpbWVzY2FsZUZyb21CYXNlIiwgImRlc3RTY2FsZSIsICJzcmNCYXNlIiwgInRvVGltZXNjYWxlRnJvbVNjYWxlIiwgInNyY1NjYWxlIiwgInRvTXNGcm9tTXBlZ1RzQ2xvY2siLCAidG9NcGVnVHNDbG9ja0Zyb21UaW1lc2NhbGUiLCAiTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiIsICJBQUNfU0FNUExFU19QRVJfRlJBTUUiLCAiTVBFR19BVURJT19TQU1QTEVfUEVSX0ZSQU1FIiwgIkFDM19TQU1QTEVTX1BFUl9GUkFNRSIsICJzYWZhcmlXZWJraXRWZXJzaW9uIiwgIk1QNFJlbXV4ZXIiLCAidmVuZG9yIiwgIklTR2VuZXJhdGVkIiwgIl9pbml0UFRTIiwgIl9pbml0RFRTIiwgIm5leHRBdmNEdHMiLCAibmV4dEF1ZGlvUHRzIiwgInZpZGVvU2FtcGxlRHVyYXRpb24iLCAiaXNBdWRpb0NvbnRpZ3VvdXMiLCAiaXNWaWRlb0NvbnRpZ3VvdXMiLCAidmlkZW9UcmFja0NvbmZpZyIsICJkZWZhdWx0VGltZVN0YW1wIiwgInJlc2V0TmV4dFRpbWVzdGFtcCIsICJnZXRWaWRlb1N0YXJ0UHRzIiwgInJvbGxvdmVyRGV0ZWN0ZWQiLCAibWluUFRTIiwgIm5vcm1hbGl6ZVB0cyIsICJyZW11eCIsICJhY2N1cmF0ZVRpbWVPZmZzZXQiLCAiYXVkaW9UaW1lT2Zmc2V0IiwgInZpZGVvVGltZU9mZnNldCIsICJoYXNBdWRpbyIsICJoYXNWaWRlbyIsICJlbm91Z2hBdWRpb1NhbXBsZXMiLCAiZW5vdWdoVmlkZW9TYW1wbGVzIiwgIl92aWRlb1RyYWNrJHBpeGVsUmF0aSIsICJfY29uZmlnJHBpeGVsUmF0aW8iLCAiX3ZpZGVvVHJhY2skcGl4ZWxSYXRpMiIsICJfY29uZmlnJHBpeGVsUmF0aW8yIiwgImdlbmVyYXRlSVMiLCAiZmlyc3RLZXlGcmFtZUluZGV4IiwgImZpcnN0S2V5RnJhbWVQVFMiLCAiZmluZEtleWZyYW1lSW5kZXgiLCAiZm9yY2VLZXlGcmFtZU9uRGlzY29udGludWl0eSIsICJhdWRpb3ZpZGVvVGltZXN0YW1wRGVsdGEiLCAicmVtdXhBdWRpbyIsICJhdWRpb1RyYWNrTGVuZ3RoIiwgInJlbXV4VmlkZW8iLCAiZmlyc3RLZXlGcmFtZSIsICJmbHVzaFRleHRUcmFja01ldGFkYXRhQ3VlU2FtcGxlcyIsICJmbHVzaFRleHRUcmFja1VzZXJkYXRhQ3VlU2FtcGxlcyIsICJhdWRpb1NhbXBsZXMiLCAiY29tcHV0ZVBUU0RUUyIsICJpbml0RFRTIiwgIm1ldGFkYXRhIiwgImlucHV0U2FtcGxlcyIsICJvdXRwdXRTYW1wbGVzIiwgIm1wNFNhbXBsZUR1cmF0aW9uIiwgImZpcnN0RFRTIiwgImxhc3REVFMiLCAibWF4UFRTIiwgIk5FR0FUSVZFX0lORklOSVRZIiwgInNvcnRTYW1wbGVzIiwgImluaXRUaW1lIiwgImRlbHRhZHRzIiwgImRlbHRhcHRzIiwgImlucHV0RHVyYXRpb24iLCAiYXZlcmFnZVNhbXBsZUR1cmF0aW9uIiwgImZvdW5kSG9sZSIsICJmb3VuZE92ZXJsYXAiLCAiZmlyc3RQVFMiLCAibmJOYWx1IiwgIm5hbHVMZW4iLCAiZHRzU3RlcCIsICJuYlVuaXRzIiwgInNhbXBsZUxlbiIsICJtZGF0U2l6ZSIsICJNVVhfRVJST1IiLCAic3RyZXRjaGVkTGFzdEZyYW1lIiwgIm1pbkR0c0RlbHRhIiwgIm1pblB0c0RlbHRhIiwgIm1heER0c0RlbHRhIiwgIm1heFB0c0RlbHRhIiwgIlZpZGVvU2FtcGxlVW5pdHMiLCAibXA0U2FtcGxlTGVuZ3RoIiwgInVuaXREYXRhIiwgInVuaXREYXRhTGVuIiwgInB0c0RlbHRhIiwgImxhc3RGcmFtZUR1cmF0aW9uIiwgInN0cmV0Y2hTaG9ydFZpZGVvVHJhY2siLCAiZ2FwVG9sZXJhbmNlIiwgImRlbHRhVG9GcmFtZUVuZCIsICJjb21wb3NpdGlvblRpbWVPZmZzZXQiLCAiTXA0U2FtcGxlIiwgIm5leHREdHMiLCAibmV4dFB0cyIsICJuYiIsICJnZXRTYW1wbGVzUGVyRnJhbWUiLCAibXA0dGltZVNjYWxlIiwgInNjYWxlRmFjdG9yIiwgImlucHV0U2FtcGxlRHVyYXRpb24iLCAicmF3TVBFRyIsICJhbGlnbmVkV2l0aFZpZGVvIiwgInRpbWVPZmZzZXRNcGVnVFMiLCAibWF4QXVkaW9GcmFtZXNEcmlmdCIsICJuZXdTdGFtcCIsICJmaWxsRnJhbWUiLCAiYXVkaW9TYW1wbGUiLCAicHJldlNhbXBsZSIsICJ1bml0TGVuIiwgInJlbXV4RW1wdHlBdWRpbyIsICJzaWxlbnRGcmFtZSIsICJyZWZlcmVuY2UiLCAiaXNLZXlmcmFtZSIsICJQYXNzVGhyb3VnaFJlbXV4ZXIiLCAiZW1pdEluaXRTZWdtZW50IiwgImluaXRUcmFja3MiLCAibGFzdEVuZFRpbWUiLCAiZGVmYXVsdEluaXRQVFMiLCAiZ2VuZXJhdGVJbml0U2VnbWVudCIsICJnZXRQYXJzZWRUcmFja0NvZGVjIiwgIl9pbml0RGF0YSIsICJfaW5pdERhdGEyIiwgImRlY29kZVRpbWUiLCAiaXNJbnZhbGlkSW5pdFB0cyIsICJtaW5EdXJhdGlvbiIsICJtdXhDb25maWciLCAiVHJhbnNtdXhlciIsICJhc3luYyIsICJkZW11eGVyIiwgInJlbXV4ZXIiLCAiZGVjcnlwdGlvblByb21pc2UiLCAidHJhbnNtdXhDb25maWciLCAiY3VycmVudFRyYW5zbXV4U3RhdGUiLCAiY29uZmlndXJlIiwgInVpbnREYXRhIiwgImRpc2NvbnRpbnVpdHkiLCAidHJhY2tTd2l0Y2giLCAiaW5pdFNlZ21lbnRDaGFuZ2UiLCAiZGVmYXVsdEluaXRQdHMiLCAiaW5pdFNlZ21lbnREYXRhIiwgImdldEVuY3J5cHRpb25UeXBlIiwgImdldERlY3J5cHRlciIsICJlbXB0eVJlc3VsdCIsICJyZXNldE11eGVycyIsICJuZWVkc1Byb2JpbmciLCAiY29uZmlndXJlVHJhbnNtdXhlciIsICJyZXNldEluaXRpYWxUaW1lc3RhbXAiLCAidHJhbnNtdXgiLCAiY3VycmVudFN0YXRlIiwgInRyYW5zbXV4UmVzdWx0cyIsICJkZW11eFJlc3VsdE9yUHJvbWlzZSIsICJpc1Byb21pc2UiLCAiZmx1c2hSZW11eCIsICJyZW11eFJlc3VsdCIsICJ0cmFuc211eFNhbXBsZUFlcyIsICJ0cmFuc211eFVuZW5jcnlwdGVkIiwgIm11eCIsICJfbXV4Q29uZmlnJGkkZGVtdXgiLCAiUmVtdXhlciIsICJEZW11eGVyIiwgImVuY3J5cHRpb25UeXBlIiwgInAiLCAiRnVuY3Rpb24iLCAiVHJhbnNtdXhDb25maWciLCAiVHJhbnNtdXhTdGF0ZSIsICJwcmVmaXgiLCAiRUUiLCAiZm4iLCAib25jZSIsICJhZGRMaXN0ZW5lciIsICJlbWl0dGVyIiwgImxpc3RlbmVyIiwgImV2dCIsICJjbGVhckV2ZW50IiwgIkV2ZW50RW1pdHRlciIsICJuYW1lcyIsICJldmVudHMiLCAiaGFuZGxlcnMiLCAibCIsICJlZSIsICJsaXN0ZW5lcnMiLCAiYTEiLCAiYTIiLCAiYTMiLCAiYTQiLCAiYTUiLCAiYXJncyIsICJUcmFuc211eGVySW50ZXJmYWNlIiwgIm9uVHJhbnNtdXhDb21wbGV0ZSIsICJvbkZsdXNoIiwgInVzZVdvcmtlciIsICJ3b3JrZXJDb250ZXh0IiwgIm9ud21zZyIsICJlbmFibGVXb3JrZXIiLCAiZm9yd2FyZE1lc3NhZ2UiLCAiZXYiLCAibTJ0c1R5cGVTdXBwb3J0ZWQiLCAid29ya2VyUGF0aCIsICJvbldvcmtlck1lc3NhZ2UiLCAib25lcnJvciIsICJmaWxlbmFtZSIsICJsaW5lbm8iLCAicG9zdE1lc3NhZ2UiLCAiY21kIiwgInJlc2V0V29ya2VyIiwgInJldm9rZU9iamVjdFVSTCIsICJ0ZXJtaW5hdGUiLCAicmVtb3ZlQWxsTGlzdGVuZXJzIiwgIl9mcmFnJGluaXRTZWdtZW50IiwgIl9sYXN0RnJhZyRpbml0U2VnbWVudCIsICJzbkRpZmYiLCAicGFydERpZmYiLCAidHJhbnNtdXhSZXN1bHQiLCAiaGFuZGxlVHJhbnNtdXhDb21wbGV0ZSIsICJ0cmFuc211eGVyRXJyb3IiLCAiaGFuZGxlRmx1c2hSZXN1bHQiLCAiX3RoaXMkd29ya2VyQ29udGV4dCIsICJsb2dUeXBlIiwgInN1YnRpdGxlT3B0aW9uc0lkZW50aWNhbCIsICJ0cmFja0xpc3QxIiwgInRyYWNrTGlzdDIiLCAibWVkaWFBdHRyaWJ1dGVzSWRlbnRpY2FsIiwgImF0dHJzMSIsICJhdHRyczIiLCAiY3VzdG9tQXR0cmlidXRlcyIsICJzdGFibGVSZW5kaXRpb25JZCIsICJzdWJ0aXRsZUF0dHJpYnV0ZSIsICJzdWJ0aXRsZVRyYWNrTWF0Y2hlc1RleHRUcmFjayIsICJzdWJ0aXRsZVRyYWNrIiwgImxhbmd1YWdlIiwgIlRJQ0tfSU5URVJWQUwiLCAiQXVkaW9TdHJlYW1Db250cm9sbGVyIiwgInZpZGVvQnVmZmVyIiwgInZpZGVvVHJhY2tDQyIsICJ3YWl0aW5nVmlkZW9DQyIsICJidWZmZXJlZFRyYWNrIiwgInN3aXRjaGluZ1RyYWNrIiwgIndhaXRpbmdEYXRhIiwgIm1haW5EZXRhaWxzIiwgImZsdXNoaW5nIiwgImJ1ZmZlckZsdXNoZWQiLCAiY2FjaGVkVHJhY2tMb2FkZWREYXRhIiwgIkFVRElPX1RSQUNLU19VUERBVEVEIiwgIm9uQXVkaW9UcmFja3NVcGRhdGVkIiwgIkFVRElPX1RSQUNLX1NXSVRDSElORyIsICJvbkF1ZGlvVHJhY2tTd2l0Y2hpbmciLCAib25BdWRpb1RyYWNrTG9hZGVkIiwgIkJVRkZFUl9SRVNFVCIsICJvbkJ1ZmZlclJlc2V0IiwgIkJVRkZFUl9DUkVBVEVEIiwgIm9uQnVmZmVyQ3JlYXRlZCIsICJCVUZGRVJfRkxVU0hFRCIsICJvbkJ1ZmZlckZsdXNoZWQiLCAiSU5JVF9QVFNfRk9VTkQiLCAib25Jbml0UHRzRm91bmQiLCAiZG9UaWNrSWRsZSIsICJfbGV2ZWxzJHRyYWNrSWQiLCAiX3RoaXMkbWVkaWEiLCAic2Vla2luZyIsICJjYWNoZSIsICJjbGVhcldhaXRpbmdGcmFnbWVudCIsICJzdGFydEZyYWdQcmVmZXRjaCIsICJ0cmFja0RldGFpbHMiLCAiQlVGRkVSX0VPUyIsICJtYWluQnVmZmVySW5mbyIsICJhdEdhcCIsICJhdEJ1ZmZlclN5bmNMaW1pdCIsICJtYWluRnJhZyIsICJtYWluQnVmZmVyTGVuZ3RoIiwgIm1heENvbmZpZ0J1ZmZlciIsICJtZWRpYVBsYXlsaXN0IiwgImFsdEF1ZGlvIiwgImZsdXNoQXVkaW9JZk5lZWRlZCIsICJfdHJhY2skZGV0YWlscyIsICJkZWZhdWx0QXVkaW9Db2RlYyIsICJfaGFuZGxlVHJhbnNtdXhDb21wbGV0ZSIsICJBVURJT19UUkFDS19TV0lUQ0hFRCIsICJfaWQzJHNhbXBsZXMiLCAiY29tcGxldGVBdWRpb1N3aXRjaCIsICJtYXBGcmFnbWVudCIsICJfYnVmZmVySW5pdFNlZ21lbnQiLCAiRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCIsICJlbWl0dGVkSUQzIiwgImVtaXR0ZWRUZXh0IiwgIkZSQUdfUEFSU0lOR19VU0VSREFUQSIsICJ2YXJpYW50QXVkaW9Db2RlY3MiLCAiQlVGRkVSX0NPREVDUyIsICJfdHJhY2skZGV0YWlsczIiLCAiYnVmZmVyZWRBdHRyaWJ1dGVzIiwgInN3aXRjaEF0dHJpYnV0ZXMiLCAiQXVkaW9UcmFja0NvbnRyb2xsZXIiLCAiZ3JvdXBJZHMiLCAidHJhY2tzSW5Hcm91cCIsICJjdXJyZW50VHJhY2siLCAic2VsZWN0RGVmYXVsdFRyYWNrIiwgIk1BTklGRVNUX1BBUlNFRCIsICJvbk1hbmlmZXN0UGFyc2VkIiwgInRyYWNrSW5BY3RpdmVHcm91cCIsICJjdXJyZW50R3JvdXBzIiwgImdyb3VwSW5kZXgiLCAiYWxsSW5kZXgiLCAiZmluZFRyYWNrSWQiLCAiYXVkaW9UcmFja3NVcGRhdGVkIiwgInNlbGVjdGVkVHJhY2tJZCIsICJzZXRBdWRpb1RyYWNrIiwgIl90aGlzJGdyb3VwSWRzIiwgIm5ld0lkIiwgInNldEF1ZGlvT3B0aW9uIiwgImF1ZGlvT3B0aW9uIiwgInN3aXRjaEluZGV4IiwgIndpdGhvdXRDb2RlY0FuZENoYW5uZWxzTWF0Y2giLCAibGFzdFRyYWNrIiwgInRyYWNrTG9hZGVkIiwgIlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciIsICJjdXJyZW50VHJhY2tJZCIsICJ0cmFja3NCdWZmZXJlZCIsICJTVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCIsICJvblN1YnRpdGxlVHJhY2tzVXBkYXRlZCIsICJTVUJUSVRMRV9UUkFDS19TV0lUQ0giLCAib25TdWJ0aXRsZVRyYWNrU3dpdGNoIiwgIm9uU3VidGl0bGVUcmFja0xvYWRlZCIsICJTVUJUSVRMRV9GUkFHX1BST0NFU1NFRCIsICJvblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCIsICJzdWNjZXNzIiwgImZyYWdTdGFydCIsICJmcmFnRW5kIiwgImVuZE9mZnNldFN1YnRpdGxlcyIsICJtZWRpYUJ1ZmZlclRpbWVSYW5nZXMiLCAibWFpblNsaWRpbmdTdGFydEZyYWdtZW50IiwgImZvdW5kRnJhZyIsICJCdWZmZXJhYmxlSW5zdGFuY2UiLCAidGltZXJhbmdlcyIsICJnZXRSYW5nZSIsICJET01FeGNlcHRpb24iLCAiU3VidGl0bGVUcmFja0NvbnRyb2xsZXIiLCAicXVldWVkRGVmYXVsdFRyYWNrIiwgImFzeW5jUG9sbFRyYWNrQ2hhbmdlIiwgInBvbGxUcmFja0NoYW5nZSIsICJ1c2VUZXh0VHJhY2tQb2xsaW5nIiwgInN1YnRpdGxlUG9sbGluZ0ludGVydmFsIiwgIl9zdWJ0aXRsZURpc3BsYXkiLCAib25UZXh0VHJhY2tzQ2hhbmdlZCIsICJyZW5kZXJUZXh0VHJhY2tzTmF0aXZlbHkiLCAiZmluZFRyYWNrRm9yVGV4dFRyYWNrIiwgInNldFN1YnRpdGxlVHJhY2siLCAic3VidGl0bGVEaXNwbGF5IiwgInRvZ2dsZVRyYWNrTW9kZXMiLCAic3VidGl0bGVQcmVmZXJlbmNlIiwgInN1YnRpdGxlVHJhY2tzVXBkYXRlZCIsICJzZWxlY3REZWZhdWx0IiwgImFsbFN1YnRpdGxlVHJhY2tzIiwgInNldFN1YnRpdGxlT3B0aW9uIiwgInN1YnRpdGxlT3B0aW9uIiwgIm5leHRUcmFjayIsICJCdWZmZXJPcGVyYXRpb25RdWV1ZSIsICJzb3VyY2VCdWZmZXJSZWZlcmVuY2UiLCAiYnVmZmVycyIsICJxdWV1ZXMiLCAiYXBwZW5kIiwgIm9wZXJhdGlvbiIsICJwZW5kaW5nIiwgInF1ZXVlIiwgImV4ZWN1dGVOZXh0IiwgImluc2VydEFib3J0IiwgImFwcGVuZEJsb2NrZXIiLCAiZXhlY3V0ZSIsICJwcm9taXNlIiwgIm9uU3RhcnQiLCAib25Db21wbGV0ZSIsICJzYiIsICJ1cGRhdGluZyIsICJzaGlmdEFuZEV4ZWN1dGVOZXh0IiwgIlZJREVPX0NPREVDX1BST0ZJTEVfUkVQTEFDRSIsICJCdWZmZXJDb250cm9sbGVyIiwgIl9vYmplY3RVcmwiLCAib3BlcmF0aW9uUXVldWUiLCAiYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCIsICJfYnVmZmVyQ29kZWNFdmVudHNUb3RhbCIsICJtZWRpYVNvdXJjZSIsICJsYXN0TXBlZ0F1ZGlvQ2h1bmsiLCAiYXBwZW5kU291cmNlIiwgImFwcGVuZEVycm9ycyIsICJwZW5kaW5nVHJhY2tzIiwgInNvdXJjZUJ1ZmZlciIsICJfb25FbmRTdHJlYW1pbmciLCAicGF1c2VCdWZmZXJpbmciLCAiX29uU3RhcnRTdHJlYW1pbmciLCAicmVzdW1lQnVmZmVyaW5nIiwgIl9vbk1lZGlhU291cmNlT3BlbiIsICJfb25NZWRpYUVtcHRpZWQiLCAidXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24iLCAiY2hlY2tQZW5kaW5nVHJhY2tzIiwgIl9vbk1lZGlhU291cmNlQ2xvc2UiLCAiX29uTWVkaWFTb3VyY2VFbmRlZCIsICJtZWRpYVNyYyIsICJfaW5pdFNvdXJjZUJ1ZmZlciIsICJoYXNTb3VyY2VUeXBlcyIsICJnZXRTb3VyY2VCdWZmZXJUeXBlcyIsICJNRURJQV9BVFRBQ0hJTkciLCAib25NZWRpYUF0dGFjaGluZyIsICJvbkJ1ZmZlckFwcGVuZGluZyIsICJvbkJ1ZmZlckNvZGVjcyIsICJvbkJ1ZmZlckVvcyIsICJvbkZyYWdQYXJzZWQiLCAiRlJBR19DSEFOR0VEIiwgIm9uRnJhZ0NoYW5nZWQiLCAiY29kZWNFdmVudHMiLCAiX21zJGNvbnN0cnVjdG9yIiwgIm1zIiwgIm9iamVjdFVybCIsICJyZW1vdmVBdHRyaWJ1dGUiLCAiTU1TIiwgImRpc2FibGVSZW1vdGVQbGF5YmFjayIsICJyZW1vdmVTb3VyY2VDaGlsZHJlbiIsICJhZGRTb3VyY2UiLCAic3JjIiwgImVuZE9mU3RyZWFtIiwgIk1FRElBX0RFVEFDSEVEIiwgInJlc2V0QnVmZmVyIiwgIl90aGlzJG1lZGlhU291cmNlIiwgInJlbW92ZUJ1ZmZlckxpc3RlbmVycyIsICJzb3VyY2VCdWZmZXJzIiwgInJlbW92ZVNvdXJjZUJ1ZmZlciIsICJzb3VyY2VCdWZmZXJDb3VudCIsICJ0cmFja05hbWVzIiwgInRyYWNrTmFtZSIsICJjaGFuZ2VUeXBlIiwgIl90cmFja0NvZGVjIiwgImN1cnJlbnRDb2RlY0Z1bGwiLCAiY3VycmVudENvZGVjIiwgInRyYWNrQ29kZWMiLCAibmV4dENvZGVjIiwgIm1pbWVUeXBlIiwgImFwcGVuZENoYW5nZVR5cGUiLCAiZXZlbnREYXRhIiwgImNodW5rU3RhdHMiLCAiYnVmZmVyQXBwZW5kaW5nU3RhcnQiLCAiZnJhZ0J1ZmZlcmluZyIsICJwYXJ0QnVmZmVyaW5nIiwgImNoZWNrVGltZXN0YW1wT2Zmc2V0IiwgInRpbWVzdGFtcE9mZnNldCIsICJhcHBlbmRFeGVjdXRvciIsICJRVU9UQV9FWENFRURFRF9FUlIiLCAiYXBwZW5kRXJyb3JDb3VudCIsICJhcHBlbmRFcnJvck1heFJldHJ5IiwgImZsdXNoT3BlcmF0aW9uIiwgInJlbW92ZUV4ZWN1dG9yIiwgImJ1ZmZlcnNBcHBlbmRlZFRvIiwgIm9uVW5ibG9ja2VkIiwgImJsb2NrQnVmZmVycyIsICJ0cmltQnVmZmVycyIsICJlbmRpbmciLCAiYmFja0J1ZmZlckxlbmd0aCIsICJsaXZlQmFja0J1ZmZlckxlbmd0aCIsICJtYXhCYWNrQnVmZmVyTGVuZ3RoIiwgInRhcmdldEJhY2tCdWZmZXJQb3NpdGlvbiIsICJmbHVzaEJhY2tCdWZmZXIiLCAiZnJvbnRCdWZmZXJGbHVzaFRocmVzaG9sZCIsICJmcm9udEJ1ZmZlckxlbmd0aCIsICJtYXhGcm9udEJ1ZmZlckxlbmd0aCIsICJ0YXJnZXRGcm9udEJ1ZmZlclBvc2l0aW9uIiwgImZsdXNoRnJvbnRCdWZmZXIiLCAiQkFDS19CVUZGRVJfUkVBQ0hFRCIsICJMSVZFX0JBQ0tfQlVGRkVSX1JFQUNIRUQiLCAibnVtQnVmZmVyZWRSYW5nZXMiLCAibGV2ZWxEdXJhdGlvbiIsICJtZWRpYUR1cmF0aW9uIiwgIm1zRHVyYXRpb24iLCAibGl2ZUR1cmF0aW9uSW5maW5pdHkiLCAidXBkYXRlU2Vla2FibGVSYW5nZSIsICJzZXRMaXZlU2Vla2FibGVSYW5nZSIsICJwZW5kaW5nVHJhY2tzQ291bnQiLCAiY3JlYXRlU291cmNlQnVmZmVycyIsICJCVUZGRVJfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUiIsICJfdHJhY2skbGV2ZWxDb2RlYyIsICJhZGRTb3VyY2VCdWZmZXIiLCAic2JOYW1lIiwgImFkZEJ1ZmZlckxpc3RlbmVyIiwgIl9vblNCVXBkYXRlU3RhcnQiLCAiX29uU0JVcGRhdGVFbmQiLCAiX29uU0JVcGRhdGVFcnJvciIsICJyZW1vdmVkUmFuZ2VzIiwgImZpcnN0Q2hpbGQiLCAiX3RoaXMkbWVkaWFTb3VyY2UyIiwgIl90aGlzJG1lZGlhU291cmNlMyIsICJfaXNGaW5pdGVOdW1iZXI2IiwgInJlbW92ZVN0YXJ0IiwgInJlbW92ZUVuZCIsICJyZW1vdmUiLCAiYXBwZW5kQnVmZmVyIiwgImJsb2NraW5nT3BlcmF0aW9ucyIsICJub2RlIiwgInNvdXJjZUNoaWxkcmVuIiwgInF1ZXJ5U2VsZWN0b3JBbGwiLCAicmVtb3ZlQ2hpbGQiLCAiY3JlYXRlRWxlbWVudCIsICJhcHBlbmRDaGlsZCIsICJzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyIsICJnZXRDaGFyRm9yQnl0ZSIsICJOUl9ST1dTIiwgIk5SX0NPTFMiLCAicm93c0xvd0NoMSIsICJyb3dzSGlnaENoMSIsICJyb3dzTG93Q2gyIiwgInJvd3NIaWdoQ2gyIiwgImJhY2tncm91bmRDb2xvcnMiLCAiQ2FwdGlvbnNMb2dnZXIiLCAidmVyYm9zZUxldmVsIiwgInNldmVyaXR5IiwgIm51bUFycmF5VG9IZXhBcnJheSIsICJudW1BcnJheSIsICJoZXhBcnJheSIsICJQZW5TdGF0ZSIsICJmb3JlZ3JvdW5kIiwgInVuZGVybGluZSIsICJpdGFsaWNzIiwgImJhY2tncm91bmQiLCAiZmxhc2giLCAic2V0U3R5bGVzIiwgInN0eWxlcyIsICJhdHRyaWJzIiwgInN0eWxlIiwgImVxdWFscyIsICJvdGhlciIsICJjb3B5IiwgIm5ld1BlblN0YXRlIiwgIlN0eWxlZFVuaWNvZGVDaGFyIiwgInVjaGFyIiwgInBlblN0YXRlIiwgInNldENoYXIiLCAic2V0UGVuU3RhdGUiLCAibmV3Q2hhciIsICJpc0VtcHR5IiwgIlJvdyIsICJjaGFycyIsICJjdXJyUGVuU3RhdGUiLCAiY3VlU3RhcnRUaW1lIiwgImVtcHR5IiwgInNldEN1cnNvciIsICJhYnNQb3MiLCAibW92ZUN1cnNvciIsICJyZWxQb3MiLCAibmV3UG9zIiwgImJhY2tTcGFjZSIsICJpbnNlcnRDaGFyIiwgImNoYXIiLCAiY2xlYXJGcm9tUG9zIiwgInN0YXJ0UG9zIiwgImNsZWFyIiwgImNsZWFyVG9FbmRPZlJvdyIsICJnZXRUZXh0U3RyaW5nIiwgInNldFBlblN0eWxlcyIsICJDYXB0aW9uU2NyZWVuIiwgInJvd3MiLCAiY3VyclJvdyIsICJuclJvbGxVcFJvd3MiLCAibGFzdE91dHB1dFNjcmVlbiIsICJlcXVhbCIsICJzZXRQZW4iLCAic2V0UEFDIiwgInBhY0RhdGEiLCAibmV3Um93IiwgInJvdyIsICJ0b3BSb3dJbmRleCIsICJwcmV2TGluZVRpbWUiLCAiaW5kZW50IiwgInByZXZQb3MiLCAiY29sb3IiLCAic2V0QmtnRGF0YSIsICJia2dEYXRhIiwgInNldFJvbGxVcFJvd3MiLCAibnJSb3dzIiwgInJvbGxVcCIsICJnZXREaXNwbGF5VGV4dCIsICJ0b3BSb3ciLCAiYXNPbmVSb3ciLCAiZGlzcGxheVRleHQiLCAicm93TnIiLCAicm93VGV4dCIsICJnZXRUZXh0QW5kRm9ybWF0IiwgIkNlYTYwOENoYW5uZWwiLCAiY2hhbm5lbE51bWJlciIsICJvdXRwdXRGaWx0ZXIiLCAiY2hOciIsICJ2ZXJib3NlIiwgImRpc3BsYXllZE1lbW9yeSIsICJub25EaXNwbGF5ZWRNZW1vcnkiLCAiY3VyclJvbGxVcFJvdyIsICJ3cml0ZVNjcmVlbiIsICJnZXRIYW5kbGVyIiwgInNldEhhbmRsZXIiLCAibmV3SGFuZGxlciIsICJzZXRNb2RlIiwgIm5ld01vZGUiLCAiaW5zZXJ0Q2hhcnMiLCAic2NyZWVuIiwgIm91dHB1dERhdGFVcGRhdGUiLCAiY2NSQ0wiLCAiY2NCUyIsICJjY0FPRiIsICJjY0FPTiIsICJjY0RFUiIsICJjY1JVIiwgImNjRk9OIiwgImNjUkRDIiwgImNjVFIiLCAiY2NSVEQiLCAiY2NFRE0iLCAiY2NDUiIsICJjY0VOTSIsICJjY0VPQyIsICJ0bXAiLCAiY2NUTyIsICJuckNvbHMiLCAiY2NNSURST1ciLCAic2Vjb25kQnl0ZSIsICJjb2xvckluZGV4IiwgImNvbG9ycyIsICJkaXNwYXRjaCIsICJuZXdDdWUiLCAiZGlzcGF0Y2hDdWUiLCAiY3VlU3BsaXRBdFRpbWUiLCAiQ2VhNjA4UGFyc2VyIiwgImZpZWxkIiwgIm91dDEiLCAib3V0MiIsICJjdXJyZW50Q2hhbm5lbCIsICJjbWRIaXN0b3J5IiwgImNyZWF0ZUNtZEhpc3RvcnkiLCAiY2hhbm5lbCIsICJhZGREYXRhIiwgImJ5dGVMaXN0IiwgImNtZEZvdW5kIiwgImNoYXJzRm91bmQiLCAiaGFzQ21kUmVwZWF0ZWQiLCAic2V0TGFzdENtZCIsICJwYXJzZUNtZCIsICJwYXJzZU1pZHJvdyIsICJwYXJzZVBBQyIsICJwYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzIiwgInBhcnNlQ2hhcnMiLCAiY3VyckNoTnIiLCAiY29uZDEiLCAiY29uZDIiLCAiY2FzZTEiLCAiY2FzZTIiLCAiaW50ZXJwcmV0UEFDIiwgInBhY0luZGV4IiwgImNoYW5uZWxOciIsICJjaGFyQ29kZXMiLCAiY2hhckNvZGUxIiwgIm9uZUNvZGUiLCAiT3V0cHV0RmlsdGVyIiwgInRpbWVsaW5lQ29udHJvbGxlciIsICJjdWVSYW5nZXMiLCAiYWRkQ3VlcyIsICJjcmVhdGVDYXB0aW9uc1RyYWNrIiwgIkFsbG93ZWREaXJlY3Rpb25zIiwgIkFsbG93ZWRBbGlnbm1lbnRzIiwgImlzQWxsb3dlZFZhbHVlIiwgImFsbG93ZWQiLCAibGNWYWx1ZSIsICJmaW5kRGlyZWN0aW9uU2V0dGluZyIsICJmaW5kQWxpZ25TZXR0aW5nIiwgImV4dGVuZCIsICJvYmoiLCAicmVzdCIsICJhcmd1bWVudHMiLCAiY29iaiIsICJiYXNlT2JqIiwgImVudW1lcmFibGUiLCAiaGFzQmVlblJlc2V0IiwgIl9pZCIsICJfcGF1c2VPbkV4aXQiLCAiX3N0YXJ0VGltZSIsICJfZW5kVGltZSIsICJfdGV4dCIsICJfcmVnaW9uIiwgIl92ZXJ0aWNhbCIsICJfc25hcFRvTGluZXMiLCAiX2xpbmUiLCAiX2xpbmVBbGlnbiIsICJfcG9zaXRpb24iLCAiX3Bvc2l0aW9uQWxpZ24iLCAiX3NpemUiLCAiX2FsaWduIiwgImRlZmluZVByb3BlcnR5IiwgIlR5cGVFcnJvciIsICJzZXR0aW5nIiwgIlN5bnRheEVycm9yIiwgImRpc3BsYXlTdGF0ZSIsICJnZXRDdWVBc0hUTUwiLCAiV2ViVlRUIiwgImNvbnZlcnRDdWVUb0RPTVRyZWUiLCAiU3RyaW5nRGVjb2RlciIsICJvcHRpb25zIiwgImRlY29kZVVSSUNvbXBvbmVudCIsICJwYXJzZVRpbWVTdGFtcCIsICJjb21wdXRlU2Vjb25kcyIsICJmIiwgIlNldHRpbmdzIiwgInZhbHVlcyIsICJ2IiwgImRmbHQiLCAiZGVmYXVsdEtleSIsICJhbHQiLCAibiIsICJpbnRlZ2VyIiwgInBlcmNlbnQiLCAicGFyc2VPcHRpb25zIiwgImtleVZhbHVlRGVsaW0iLCAiZ3JvdXBEZWxpbSIsICJrdiIsICJkZWZhdWx0cyIsICJjZW50ZXIiLCAiYWxpZ24iLCAicGFyc2VDdWUiLCAicmVnaW9uTGlzdCIsICJvSW5wdXQiLCAiY29uc3VtZVRpbWVTdGFtcCIsICJ0cyIsICJjb25zdW1lQ3VlU2V0dGluZ3MiLCAic2V0dGluZ3MiLCAidmFscyIsICJyZWdpb24iLCAidmVydGljYWwiLCAibGluZSIsICJsaW5lQWxpZ24iLCAic25hcFRvTGluZXMiLCAic2tpcFdoaXRlc3BhY2UiLCAiZml4TGluZUJyZWFrcyIsICJWVFRQYXJzZXIiLCAib25jdWUiLCAib25wYXJzaW5nZXJyb3IiLCAib25mbHVzaCIsICJfdGhpcyIsICJjb2xsZWN0TmV4dExpbmUiLCAiYWxyZWFkeUNvbGxlY3RlZExpbmUiLCAiaGFzU3Vic3RyaW5nIiwgIkxJTkVCUkVBS1MiLCAiaW5wdXRTdHJpbmciLCAic2VhcmNoU3RyaW5nIiwgImN1ZVN0cmluZzJtaWxsaXMiLCAidGltZVN0cmluZyIsICJzZWNzIiwgIm1pbnMiLCAiaG91cnMiLCAiaGFzaCIsICJnZW5lcmF0ZUN1ZUlkIiwgImNhbGN1bGF0ZU9mZnNldCIsICJ2dHRDQ3MiLCAiY3VyckNDIiwgInByZXZDQyIsICJuZXciLCAicHJlc2VudGF0aW9uT2Zmc2V0IiwgIl9wcmV2Q0MiLCAicGFyc2VXZWJWVFQiLCAidnR0Qnl0ZUFycmF5IiwgImNhbGxCYWNrIiwgImVycm9yQ2FsbEJhY2siLCAicGFyc2VyIiwgInZ0dExpbmVzIiwgImN1ZVRpbWUiLCAidGltZXN0YW1wTWFwTVBFR1RTIiwgInRpbWVzdGFtcE1hcExPQ0FMIiwgInBhcnNpbmdFcnJvciIsICJpbkhlYWRlciIsICJjdWVPZmZzZXQiLCAid2ViVnR0TXBlZ1RzTWFwT2Zmc2V0IiwgIklNU0MxX0NPREVDIiwgIkhNU0ZfUkVHRVgiLCAiVElNRV9VTklUX1JFR0VYIiwgInRleHRBbGlnblRvTGluZUFsaWduIiwgInBhcnNlSU1TQzEiLCAidHRtbExpc3QiLCAic3luY1RpbWUiLCAidHRtbCIsICJwYXJzZVRUTUwiLCAidHQiLCAiZGVmYXVsdFJhdGVJbmZvIiwgInN1YkZyYW1lUmF0ZSIsICJmcmFtZVJhdGVNdWx0aXBsaWVyIiwgInRpY2tSYXRlIiwgInJhdGVJbmZvIiwgInN0eWxlRWxlbWVudHMiLCAiY29sbGVjdGlvblRvRGljdGlvbmFyeSIsICJnZXRFbGVtZW50Q29sbGVjdGlvbiIsICJyZWdpb25FbGVtZW50cyIsICJjdWVFbGVtZW50cyIsICJjdWVFbGVtZW50IiwgImN1ZVRleHQiLCAiZ2V0VGV4dENvbnRlbnQiLCAiaGFzQXR0cmlidXRlIiwgInBhcnNlVHRtbFRpbWUiLCAidGltZXN0YW1wUGFyc2luZ0Vycm9yIiwgImdldFR0bWxTdHlsZXMiLCAidGV4dEFsaWduIiwgImZyb21FbGVtZW50IiwgInBhcmVudE5hbWUiLCAiY2hpbGROYW1lIiwgImVsZW1lbnRzV2l0aElkIiwgImRpY3QiLCAiZWxlbWVudCIsICJfbm9kZSRjaGlsZE5vZGVzIiwgIm5vZGVOYW1lIiwgInRleHRDb250ZW50IiwgInR0c05zIiwgInJlZ2lvblN0eWxlIiwgInN0eWxlQXR0cmlidXRlcyIsICJyZWdpb25TdHlsZU5hbWUiLCAiZ2V0QXR0cmlidXRlTlMiLCAibnMiLCAiaGFzQXR0cmlidXRlTlMiLCAidGltZUF0dHJpYnV0ZVZhbHVlIiwgInBhcnNlSG91cnNNaW51dGVzU2Vjb25kc0ZyYW1lcyIsICJwYXJzZVRpbWVVbml0cyIsICJUaW1lbGluZUNvbnRyb2xsZXIiLCAiQ3VlcyIsICJ1bnBhcnNlZFZ0dEZyYWdzIiwgImNhcHRpb25zVHJhY2tzIiwgIm5vbk5hdGl2ZUNhcHRpb25zVHJhY2tzIiwgImNlYTYwOFBhcnNlcjEiLCAiY2VhNjA4UGFyc2VyMiIsICJsYXN0Q2MiLCAibmV3VlRUQ0NzIiwgImNhcHRpb25zUHJvcGVydGllcyIsICJjdWVIYW5kbGVyIiwgInRleHRUcmFjazEiLCAiY2FwdGlvbnNUZXh0VHJhY2sxTGFiZWwiLCAibGFuZ3VhZ2VDb2RlIiwgImNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZSIsICJ0ZXh0VHJhY2syIiwgImNhcHRpb25zVGV4dFRyYWNrMkxhYmVsIiwgImNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZSIsICJ0ZXh0VHJhY2szIiwgImNhcHRpb25zVGV4dFRyYWNrM0xhYmVsIiwgImNhcHRpb25zVGV4dFRyYWNrM0xhbmd1YWdlQ29kZSIsICJ0ZXh0VHJhY2s0IiwgImNhcHRpb25zVGV4dFRyYWNrNExhYmVsIiwgImNhcHRpb25zVGV4dFRyYWNrNExhbmd1YWdlQ29kZSIsICJvbkZyYWdQYXJzaW5nVXNlcmRhdGEiLCAib25GcmFnRGVjcnlwdGVkIiwgIlNVQlRJVExFX1RSQUNLU19DTEVBUkVEIiwgIm9uU3VidGl0bGVUcmFja3NDbGVhcmVkIiwgImluaXRDZWE2MDhQYXJzZXJzIiwgImVuYWJsZUNFQTcwOENhcHRpb25zIiwgImNoYW5uZWwxIiwgImNoYW5uZWwyIiwgImNoYW5uZWwzIiwgImNoYW5uZWw0IiwgIm1lcmdlZCIsICJjdWVSYW5nZSIsICJvdmVybGFwIiwgImludGVyc2VjdGlvbiIsICJDVUVTX1BBUlNFRCIsICJnZXRFeGlzdGluZ1RyYWNrIiwgImNhblJldXNlVnR0VGV4dFRyYWNrIiwgImNyZWF0ZU5hdGl2ZVRyYWNrIiwgImNyZWF0ZU5vbk5hdGl2ZVRyYWNrIiwgImV4aXN0aW5nVHJhY2siLCAiY3JlYXRlVGV4dFRyYWNrIiwgInRyYWNrUHJvcGVydGllcyIsICJjbG9zZWRDYXB0aW9ucyIsICJOT05fTkFUSVZFX1RFWFRfVFJBQ0tTX0ZPVU5EIiwgIl9jbGVhblRyYWNrcyIsICJoYXNJTVNDMSIsICJlbmFibGVXZWJWVFQiLCAiZW5hYmxlSU1TQzEiLCAiaW5Vc2VUcmFja3MiLCAiaW5Vc2VUcmFjayIsICJ0ZXh0VHJhY2tLaW5kIiwgImNhcHRpb25zT3JTdWJ0aXRsZXNGcm9tQ2hhcmFjdGVyaXN0aWNzIiwgInVudXNlZFRleHRUcmFja3MiLCAidHJhY2tzTGlzdCIsICJjYXB0aW9uc1RyYWNrIiwgImluc3RyZWFtSWRNYXRjaCIsICJjbG9zZWRDYXB0aW9uc0ZvckxldmVsIiwgIl9kYXRhJHBhcnQkaW5kZXgiLCAiZGVjcnlwdGVkIiwgInRyYWNrUGxheWxpc3RNZWRpYSIsICJfcGFyc2VJTVNDMSIsICJfcGFyc2VWVFRzIiwgIl9hcHBlbmRDdWVzIiwgIm1heEF2Q0MiLCAicGF5bG9hZFdlYlZUVCIsICJtaXNzaW5nSW5pdFBUUyIsICJfZmFsbGJhY2tUb0lNU0MxIiwgImZyYWdMZXZlbCIsICJjY0J5dGVzIiwgImNjZGF0YXMiLCAiZXh0cmFjdENlYTYwOERhdGEiLCAiYWN0dWFsQ0NCeXRlcyIsICJ0bXBCeXRlIiwgImNjYnl0ZTEiLCAiY2NieXRlMiIsICJjY1R5cGUiLCAibWFuaWZlc3RUcmFjayIsICJ4MSIsICJ5MSIsICJ5MiIsICJDYXBMZXZlbENvbnRyb2xsZXIiLCAiYXV0b0xldmVsQ2FwcGluZyIsICJyZXN0cmljdGVkTGV2ZWxzIiwgImNsaWVudFJlY3QiLCAic3RyZWFtQ29udHJvbGxlciIsICJzZXRTdHJlYW1Db250cm9sbGVyIiwgInVucmVnaXN0ZXJMaXN0ZW5lciIsICJzdG9wQ2FwcGluZyIsICJGUFNfRFJPUF9MRVZFTF9DQVBQSU5HIiwgIm9uRnBzRHJvcExldmVsQ2FwcGluZyIsICJkcm9wcGVkTGV2ZWwiLCAiaXNMZXZlbEFsbG93ZWQiLCAiSFRNTFZpZGVvRWxlbWVudCIsICJkZXRlY3RQbGF5ZXJTaXplIiwgImNhcExldmVsVG9QbGF5ZXJTaXplIiwgInN0YXJ0Q2FwcGluZyIsICJtZWRpYUhlaWdodCIsICJtZWRpYVdpZHRoIiwgIm1heExldmVsIiwgImdldE1heExldmVsIiwgIm5leHRMZXZlbFN3aXRjaCIsICJjYXBMZXZlbEluZGV4IiwgInZhbGlkTGV2ZWxzIiwgImdldE1heExldmVsQnlNZWRpYVNpemUiLCAiZ2V0RGltZW5zaW9ucyIsICJib3VuZHNSZWN0IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJib3R0b20iLCAidG9wIiwgImNvbnRlbnRTY2FsZUZhY3RvciIsICJpZ25vcmVEZXZpY2VQaXhlbFJhdGlvIiwgImRldmljZVBpeGVsUmF0aW8iLCAicmVzdHJpY3RlZExldmVsIiwgImF0R3JlYXRlc3RCYW5kd2lkdGgiLCAiY3VyTGV2ZWwiLCAibWF4TGV2ZWxJbmRleCIsICJzcXVhcmVTaXplIiwgIkZQU0NvbnRyb2xsZXIiLCAiaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSIsICJsYXN0VGltZSIsICJsYXN0RHJvcHBlZEZyYW1lcyIsICJsYXN0RGVjb2RlZEZyYW1lcyIsICJjYXBMZXZlbE9uRlBTRHJvcCIsICJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIsICJjaGVja0ZQU0ludGVydmFsIiwgImZwc0Ryb3BwZWRNb25pdG9yaW5nUGVyaW9kIiwgImNoZWNrRlBTIiwgImRlY29kZWRGcmFtZXMiLCAiZHJvcHBlZEZyYW1lcyIsICJjdXJyZW50UGVyaW9kIiwgImN1cnJlbnREcm9wcGVkIiwgImN1cnJlbnREZWNvZGVkIiwgImRyb3BwZWRGUFMiLCAiRlBTX0RST1AiLCAidG90YWxEcm9wcGVkRnJhbWVzIiwgImZwc0Ryb3BwZWRNb25pdG9yaW5nVGhyZXNob2xkIiwgInZpZGVvUGxheWJhY2tRdWFsaXR5IiwgInRvdGFsVmlkZW9GcmFtZXMiLCAiZHJvcHBlZFZpZGVvRnJhbWVzIiwgIndlYmtpdERlY29kZWRGcmFtZUNvdW50IiwgIndlYmtpdERyb3BwZWRGcmFtZUNvdW50IiwgIkxPR0dFUl9QUkVGSVgiLCAiRU1FQ29udHJvbGxlciIsICJrZXlGb3JtYXRQcm9taXNlIiwgImtleVN5c3RlbUFjY2Vzc1Byb21pc2VzIiwgIl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCIsICJtZWRpYUtleVNlc3Npb25zIiwgImtleUlkVG9LZXlTZXNzaW9uUHJvbWlzZSIsICJzZXRNZWRpYUtleXNRdWV1ZSIsICJDRE1DbGVhbnVwUHJvbWlzZSIsICJvbk1lZGlhRW5jcnlwdGVkIiwgIl9vbk1lZGlhRW5jcnlwdGVkIiwgIm9uV2FpdGluZ0ZvcktleSIsICJfb25XYWl0aW5nRm9yS2V5IiwgIm9uTWVkaWFEZXRhY2hlZCIsICJyZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jIiwgImxpY2Vuc2VYaHJTZXR1cCIsICJsaWNlbnNlUmVzcG9uc2VDYWxsYmFjayIsICJnZXRMaWNlbnNlU2VydmVyVXJsIiwgImtleVN5c3RlbUNvbmZpZ3VyYXRpb24iLCAibGljZW5zZVVybCIsICJnZXRTZXJ2ZXJDZXJ0aWZpY2F0ZVVybCIsICJzZXJ2ZXJDZXJ0aWZpY2F0ZVVybCIsICJhdHRlbXB0S2V5U3lzdGVtQWNjZXNzIiwgInVuaXF1ZUNvZGVjIiwgImF0dGVtcHQiLCAia2V5U3lzdGVtcyIsICJnZXRNZWRpYUtleXNQcm9taXNlIiwgIm1lZGlhS2V5cyIsICJFTUVLZXlFcnJvciIsICJLRVlfU1lTVEVNX05PX0FDQ0VTUyIsICJzdXBwb3J0ZWRDb25maWd1cmF0aW9ucyIsICJlcnJNZXNzYWdlIiwgInByb3RvY29sIiwgIm1lZGlhS2V5U3lzdGVtQ29uZmlncyIsICJrZXlTeXN0ZW1BY2Nlc3MiLCAibWVkaWFLZXlTeXN0ZW1BY2Nlc3MiLCAiY2VydGlmaWNhdGVSZXF1ZXN0IiwgImZldGNoU2VydmVyQ2VydGlmaWNhdGUiLCAiY3JlYXRlTWVkaWFLZXlzIiwgImNlcnRpZmljYXRlIiwgInNldE1lZGlhS2V5c1NlcnZlckNlcnRpZmljYXRlIiwgImNyZWF0ZU1lZGlhS2V5U2Vzc2lvbkNvbnRleHQiLCAibWVkaWFLZXlzU2Vzc2lvbiIsICJjcmVhdGVTZXNzaW9uIiwgIm1lZGlhS2V5U2Vzc2lvbkNvbnRleHQiLCAia2V5U3RhdHVzIiwgInJlbmV3S2V5U2Vzc2lvbiIsICJrZXlTZXNzaW9uQ29udGV4dCIsICJnZXRLZXlJZFN0cmluZyIsICJnZW5lcmF0ZVJlcXVlc3RXaXRoUHJlZmVycmVkS2V5U2Vzc2lvbiIsICJyZW1vdmVTZXNzaW9uIiwgInVwZGF0ZUtleVNlc3Npb24iLCAiX21lZGlhS2V5U2Vzc2lvbkNvbnRlIiwgImtleVNlc3Npb24iLCAic2Vzc2lvbklkIiwgInNlbGVjdEtleVN5c3RlbUZvcm1hdCIsICJnZXRLZXlGb3JtYXRQcm9taXNlIiwgImtleVN5c3RlbXNJbkNvbmZpZyIsICJnZXRLZXlTeXN0ZW1TZWxlY3Rpb25Qcm9taXNlIiwgImtleVN5c3RlbUZvcm1hdCIsICJrZXlTeXN0ZW1Ub0tleVN5c3RlbUZvcm1hdCIsICJsb2FkS2V5IiwgImtleUluZm8iLCAia2V5RGV0YWlscyIsICJrZXlTZXNzaW9uQ29udGV4dFByb21pc2UiLCAiZ2V0S2V5U3lzdGVtRm9yS2V5UHJvbWlzZSIsICJ0aHJvd0lmRGVzdHJveWVkIiwgImF0dGVtcHRTZXRNZWRpYUtleXMiLCAiaGFuZGxlRXJyb3IiLCAiS0VZX1NZU1RFTV9OT19LRVlTIiwgIktFWV9TWVNURU1fTk9fQ09ORklHVVJFRF9MSUNFTlNFIiwgImluaXREYXRhVHlwZSIsICJrZXlTeXN0ZW1Eb21haW4iLCAianNvbiIsICJwc3NoSW5mbyIsICJrZXlJZEhleCIsICJrZXlDb250ZXh0IiwgIm9sZEtleUlkSGV4IiwgIl9rZXlTeXN0ZW1Ub0tleVN5c3RlbSIsICJzZXRNZWRpYUtleXNQcm9taXNlIiwgInNldE1lZGlhS2V5cyIsICJfdGhpcyRjb25maWckZHJtU3lzdGUiLCAiX3RoaXMkY29uZmlnJGRybVN5c3RlMiIsICJnZW5lcmF0ZVJlcXVlc3RGaWx0ZXIiLCAiZ2VuZXJhdGVSZXF1ZXN0IiwgIm1hcHBlZEluaXREYXRhIiwgIl90aGlzJGhscyIsICJsaWNlbnNlU3RhdHVzIiwgIm9ubWVzc2FnZSIsICJfb25tZXNzYWdlIiwgIm1lc3NhZ2VUeXBlIiwgInJlbmV3TGljZW5zZSIsICJvbmtleXN0YXR1c2VzY2hhbmdlIiwgIl9vbmtleXN0YXR1c2VzY2hhbmdlIiwgIm9uS2V5U3RhdHVzQ2hhbmdlIiwgImtleVVzYWJsZVByb21pc2UiLCAiS0VZX1NZU1RFTV9TVEFUVVNfSU5URVJOQUxfRVJST1IiLCAiX2NvbnRleHQkbWVkaWFLZXlzU2VzIiwgIktFWV9TWVNURU1fTk9fU0VTU0lPTiIsICJrZXlTdGF0dXNlcyIsICJzdGF0dXMiLCAiY2VydExvYWRlciIsICJjZXJ0TG9hZFBvbGljeSIsICJjb250ZXgiLCAiS0VZX1NZU1RFTV9TRVJWRVJfQ0VSVElGSUNBVEVfUkVRVUVTVF9GQUlMRUQiLCAiY2VydCIsICJzZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSIsICJLRVlfU1lTVEVNX1NFUlZFUl9DRVJUSUZJQ0FURV9VUERBVEVfRkFJTEVEIiwgImtleU1lc3NhZ2UiLCAicmVxdWVzdExpY2Vuc2UiLCAiS0VZX1NZU1RFTV9TRVNTSU9OX1VQREFURV9GQUlMRUQiLCAidW5wYWNrUGxheVJlYWR5S2V5TWVzc2FnZSIsICJ4aHIiLCAibGljZW5zZUNoYWxsZW5nZSIsICJ4bWxTdHJpbmciLCAic2V0UmVxdWVzdEhlYWRlciIsICJrZXlNZXNzYWdlWG1sIiwgIl9oZWFkZXIkcXVlcnlTZWxlY3RvciIsICJfaGVhZGVyJHF1ZXJ5U2VsZWN0b3IyIiwgInF1ZXJ5U2VsZWN0b3IiLCAiY2hhbGxlbmdlRWxlbWVudCIsICJjaGFsbGVuZ2VUZXh0IiwgInNldHVwTGljZW5zZVhIUiIsICJrZXlzTGlzdEl0ZW0iLCAib3BlbiIsICJsaWNlbnNlWGhyU2V0dXBSZXN1bHQiLCAiWE1MSHR0cFJlcXVlc3QiLCAib25yZWFkeXN0YXRlY2hhbmdlIiwgIktFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRCIsICJzdGF0dXNUZXh0IiwgImF0dGVtcHRzTGVmdCIsICJsaWNlbnNlWGhyIiwgIkRPTkUiLCAic2VuZCIsICJlbWVFbmFibGVkIiwgIm1lZGlhS2V5c0xpc3QiLCAia2V5U2Vzc2lvbkNvdW50IiwgImZvcm1hdHMiLCAiY2xvc2UiLCAiQ21PYmplY3RUeXBlIiwgIkNtU3RyZWFtaW5nRm9ybWF0IiwgIkNtY2RIZWFkZXJGaWVsZCIsICJDbWNkSGVhZGVyTWFwIiwgIk9CSkVDVCIsICJSRVFVRVNUIiwgIlNFU1NJT04iLCAiU1RBVFVTIiwgIlNmSXRlbSIsICJTZlRva2VuIiwgIkRJQ1QiLCAiTWFwIiwgIlNldCIsICJ0aHJvd0Vycm9yIiwgImNhdXNlIiwgIkJBUkVfSVRFTSIsICJCT09MRUFOIiwgIkJZVEVTIiwgIkRFQ0lNQUwiLCAiSU5URUdFUiIsICJpc0ludmFsaWRJbnQiLCAiU1RSSU5HX1JFR0VYIiwgIlRPS0VOIiwgIktFWSIsICJzZXJpYWxpemVFcnJvciIsICJzZXJpYWxpemVCb29sZWFuIiwgImJhc2U2NGVuY29kZSIsICJiaW5hcnkiLCAiYnRvYSIsICJzZXJpYWxpemVCeXRlU2VxdWVuY2UiLCAiaXNWaWV3IiwgInNlcmlhbGl6ZUludGVnZXIiLCAic2VyaWFsaXplRGF0ZSIsICJyb3VuZFRvRXZlbiIsICJwcmVjaXNpb24iLCAiZGVjaW1hbFNoaWZ0IiwgIkVQU0lMT04iLCAiZmxvb3JlZFZhbHVlIiwgInNlcmlhbGl6ZURlY2ltYWwiLCAicm91bmRlZFZhbHVlIiwgIlNUUklORyIsICJzZXJpYWxpemVTdHJpbmciLCAic3ltYm9sVG9TdHIiLCAic3ltYm9sIiwgInNlcmlhbGl6ZVRva2VuIiwgInRva2VuIiwgInNlcmlhbGl6ZUJhcmVJdGVtIiwgImlzSW50ZWdlciIsICJzZXJpYWxpemVLZXkiLCAic2VyaWFsaXplUGFyYW1zIiwgImVudHJpZXMiLCAic2VyaWFsaXplSXRlbSIsICJzZXJpYWxpemVJbm5lckxpc3QiLCAic2VyaWFsaXplRGljdCIsICJ3aGl0ZXNwYWNlIiwgIm9wdGlvbmFsV2hpdGVTcGFjZSIsICJpdGVtIiwgIm91dHB1dCIsICJlbmNvZGVTZkRpY3QiLCAiaXNUb2tlbkZpZWxkIiwgInVybFRvUmVsYXRpdmVQYXRoIiwgImJhc2UiLCAib3JpZ2luIiwgInRvUGF0aCIsICJwYXRobmFtZSIsICJmcm9tUGF0aCIsICJyYW5kb21VVUlEIiwgImR0IiwgInJhbmRvbSIsICJ0b1JvdW5kZWQiLCAidG9VcmxTYWZlIiwgInRvSHVuZHJlZCIsICJDbWNkRm9ybWF0dGVycyIsICJiciIsICJibCIsICJkbCIsICJtdHAiLCAibm9yIiwgInJ0cCIsICJ0YiIsICJwcm9jZXNzQ21jZCIsICJmb3JtYXR0ZXJzIiwgImZvcm1hdHRlciIsICJlbmNvZGVDbWNkIiwgImNtY2QiLCAidG9DbWNkSGVhZGVycyIsICJoZWFkZXJNYXAiLCAiY3VzdG9tSGVhZGVyTWFwIiwgInNoYXJkcyIsICJlbnRyeSIsICJfaGVhZGVyTWFwJGZpbmQiLCAiX2FjYyRmaWVsZCIsICJmaW5kIiwgImFwcGVuZENtY2RIZWFkZXJzIiwgIkNNQ0RfUEFSQU0iLCAidG9DbWNkUXVlcnkiLCAiUkVHRVgiLCAiYXBwZW5kQ21jZFF1ZXJ5IiwgInF1ZXJ5IiwgInNlcGFyYXRvciIsICJDTUNEQ29udHJvbGxlciIsICJzaWQiLCAiY2lkIiwgInVzZUhlYWRlcnMiLCAiaW5jbHVkZUtleXMiLCAiaW5pdGlhbGl6ZWQiLCAic3RhcnZlZCIsICJhdWRpb0J1ZmZlciIsICJvbldhaXRpbmciLCAib25QbGF5aW5nIiwgImFwcGx5UGxheWxpc3REYXRhIiwgIm90IiwgIkNtY2RPYmplY3RUeXBlIiwgInN1IiwgImFwcGx5RnJhZ21lbnREYXRhIiwgImdldE9iamVjdFR5cGUiLCAiTVVYRUQiLCAiZ2V0VG9wQmFuZHdpZHRoIiwgImdldEJ1ZmZlckxlbmd0aCIsICJjcmVhdGVQbGF5bGlzdExvYWRlciIsICJjcmVhdGVGcmFnbWVudExvYWRlciIsICJjb250ZW50SWQiLCAiX2RhdGEkdHJhY2tzJGF1ZGlvIiwgIl9kYXRhJHRyYWNrcyR2aWRlbyIsICJjcmVhdGVEYXRhIiwgInNmIiwgIkNtY2RTdHJlYW1pbmdGb3JtYXQiLCAiSExTIiwgInByIiwgImJhbmR3aWR0aEVzdGltYXRlIiwgImlzVmlkZW8iLCAiSU5JVCIsICJicyIsICJUSU1FRF9URVhUIiwgIkN0b3IiLCAiY2FsbGJhY2tzIiwgIlBBVEhXQVlfUEVOQUxUWV9EVVJBVElPTl9NUyIsICJDb250ZW50U3RlZXJpbmdDb250cm9sbGVyIiwgInBhdGh3YXlQcmlvcml0eSIsICJ0aW1lVG9Mb2FkIiwgInJlbG9hZFRpbWVyIiwgInN0YXJ0ZWQiLCAicGVuYWxpemVkUGF0aHdheXMiLCAidHRsIiwgInNjaGVkdWxlUmVmcmVzaCIsICJsb2FkU3RlZXJpbmdNYW5pZmVzdCIsICJsZXZlbFRvUmVtb3ZlIiwgImVycm9yUGF0aHdheSIsICJnZXRQYXRod2F5Rm9yR3JvdXBJZCIsICJwYXRod2F5cyIsICJ1cGRhdGVQYXRod2F5UHJpb3JpdHkiLCAiZmlsdGVyUGFyc2VkTGV2ZWxzIiwgInBhdGh3YXlMZXZlbHMiLCAiZ2V0TGV2ZWxzRm9yUGF0aHdheSIsICJzZWxlY3RlZEluZGV4IiwgInNlbGVjdGVkTGV2ZWwiLCAibGV2ZWxBZnRlckNoYW5nZSIsICJkZWZhdWx0UGF0aHdheSIsICJjbG9uZVBhdGh3YXlzIiwgInBhdGh3YXlDbG9uZXMiLCAiYXVkaW9Hcm91cENsb25lTWFwIiwgInN1YnRpdGxlR3JvdXBDbG9uZU1hcCIsICJwYXRod2F5Q2xvbmUiLCAiY2xvbmVJZCIsICJiYXNlSWQiLCAidXJpUmVwbGFjZW1lbnQiLCAiY2xvbmVkVmFyaWFudHMiLCAiYmFzZUxldmVsIiwgImNsb25lZEF1ZGlvR3JvdXBJZCIsICJjbG9uZWRTdWJ0aXRsZUdyb3VwSWQiLCAicGVyZm9ybVVyaVJlcGxhY2VtZW50IiwgImNsb25lZExldmVsIiwgImNsb25lUmVuZGl0aW9uR3JvdXBzIiwgInRocm91Z2hwdXQiLCAic3RlZXJpbmdNYW5pZmVzdExvYWRQb2xpY3kiLCAic3RlZXJpbmdEYXRhIiwgIlZFUlNJT04iLCAiVFRMIiwgInJlbG9hZFVyaSIsICJsb2FkZWRTdGVlcmluZ0RhdGEiLCAic3RlZXJpbmdNYW5pZmVzdCIsICJTVEVFUklOR19NQU5JRkVTVF9MT0FERUQiLCAiZ2V0UmVzcG9uc2VIZWFkZXIiLCAicmV0cnlBZnRlciIsICJ0dGxNcyIsICJncm91cENsb25lTWFwIiwgImNsb25lZFRyYWNrcyIsICJjbG9uZWRUcmFjayIsICJzdGFibGVJZCIsICJwZXJPcHRpb25LZXkiLCAiSE9TVCIsICJob3N0IiwgIlBBUkFNUyIsICJwZXJPcHRpb25VcmlzIiwgInBlclZhcmlhbnRVcmkiLCAiQUdFX0hFQURFUl9MSU5FX1JFR0VYIiwgIlhockxvYWRlciIsICJ4aHJTZXR1cCIsICJyZXF1ZXN0VGltZW91dCIsICJyZXRyeVRpbWVvdXQiLCAiYWJvcnRJbnRlcm5hbCIsICJvbnByb2dyZXNzIiwgIl90aGlzJGNhbGxiYWNrcyIsICJsb2FkSW50ZXJuYWwiLCAib3BlbkFuZFNlbmRYaHIiLCAicmVhZHlzdGF0ZWNoYW5nZSIsICJsb2FkcHJvZ3Jlc3MiLCAibG9hZHRpbWVvdXQiLCAidXNlUmVzcG9uc2UiLCAicmVzcG9uc2VUZXh0IiwgInJlc3BvbnNlVVJMIiwgIl90aGlzJGNvbnRleHQiLCAibGVuZ3RoQ29tcHV0YWJsZSIsICJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCAiZmV0Y2hTdXBwb3J0ZWQiLCAiZmV0Y2giLCAiQWJvcnRDb250cm9sbGVyIiwgIlJlYWRhYmxlU3RyZWFtIiwgIlJlcXVlc3QiLCAiRmV0Y2hMb2FkZXIiLCAiZmV0Y2hTZXR1cCIsICJyZXF1ZXN0IiwgImNvbnRyb2xsZXIiLCAiZ2V0UmVxdWVzdCIsICJpbml0UGFyYW1zIiwgImdldFJlcXVlc3RQYXJhbWV0ZXJzIiwgInNpZ25hbCIsICJpc0FycmF5QnVmZmVyIiwgIkxFTkdUSCIsICJvayIsICJGZXRjaEVycm9yIiwgImdldENvbnRlbnRMZW5ndGgiLCAibG9hZFByb2dyZXNzaXZlbHkiLCAicmVzcG9uc2VEYXRhIiwgImNodW5rQ2FjaGUiLCAicmVhZGVyIiwgImdldFJlYWRlciIsICJwdW1wIiwgInJlYWQiLCAiZG9uZSIsICJjcmVkZW50aWFscyIsICJIZWFkZXJzIiwgImdldEJ5dGVSYW5nZUxlbmd0aCIsICJieXRlUmFuZ2VIZWFkZXIiLCAiY29udGVudFJhbmdlIiwgImJ5dGVSYW5nZUxlbmd0aCIsICJjb250ZW50TGVuZ3RoIiwgIldISVRFU1BBQ0VfQ0hBUiIsICJjYXB0aW9uU2NyZWVuIiwgImluZGVudGluZyIsICJfdHJhY2skY3VlcyIsICJjdWVBIiwgImN1ZUIiLCAiZGVmYXVsdExvYWRQb2xpY3kiLCAiaGxzRGVmYXVsdENvbmZpZyIsICJoaWdoQnVmZmVyV2F0Y2hkb2dQZXJpb2QiLCAibnVkZ2VPZmZzZXQiLCAibnVkZ2VNYXhSZXRyeSIsICJzdGFydExldmVsIiwgImFickNvbnRyb2xsZXIiLCAiYnVmZmVyQ29udHJvbGxlciIsICJjYXBMZXZlbENvbnRyb2xsZXIiLCAiZXJyb3JDb250cm9sbGVyIiwgImZwc0NvbnRyb2xsZXIiLCAiYWJyRXdtYURlZmF1bHRFc3RpbWF0ZU1heCIsICJtaW5BdXRvQml0cmF0ZSIsICJ0ZXN0QmFuZHdpZHRoIiwgIm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQiLCAibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnkiLCAibWFuaWZlc3RMb2FkaW5nUmV0cnlEZWxheSIsICJtYW5pZmVzdExvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCAibGV2ZWxMb2FkaW5nVGltZU91dCIsICJsZXZlbExvYWRpbmdNYXhSZXRyeSIsICJsZXZlbExvYWRpbmdSZXRyeURlbGF5IiwgImxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCIsICJmcmFnTG9hZGluZ1RpbWVPdXQiLCAiZnJhZ0xvYWRpbmdNYXhSZXRyeSIsICJmcmFnTG9hZGluZ1JldHJ5RGVsYXkiLCAiZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCAidGltZWxpbmVDb25maWciLCAic3VidGl0bGVTdHJlYW1Db250cm9sbGVyIiwgInN1YnRpdGxlVHJhY2tDb250cm9sbGVyIiwgImF1ZGlvU3RyZWFtQ29udHJvbGxlciIsICJhdWRpb1RyYWNrQ29udHJvbGxlciIsICJlbWVDb250cm9sbGVyIiwgImNtY2RDb250cm9sbGVyIiwgImNvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXIiLCAibWVyZ2VDb25maWciLCAiZGVmYXVsdENvbmZpZyIsICJkZWZhdWx0c0NvcHkiLCAiZGVlcENweSIsICJkZXByZWNhdGVkU2V0dGluZ1R5cGVzIiwgImRlcHJlY2F0ZWRTZXR0aW5ncyIsICJwb2xpY3lOYW1lIiwgInBvbGljeU5vdFNldCIsICJyZXBvcnQiLCAiZGVwcmVjYXRlZFNldHRpbmciLCAiZW5hYmxlU3RyZWFtaW5nTW9kZSIsICJjdXJyZW50TG9hZGVyIiwgImNocm9tZU9yRmlyZWZveCIsICJMZXZlbENvbnRyb2xsZXIiLCAiX2xldmVscyIsICJfZmlyc3RMZXZlbCIsICJfbWF4QXV0b0xldmVsIiwgIl9zdGFydExldmVsIiwgImN1cnJlbnRMZXZlbEluZGV4IiwgIm1hbnVhbExldmVsSW5kZXgiLCAic3RlZXJpbmciLCAib25QYXJzZWRDb21wbGV0ZSIsICJyZXNldExldmVscyIsICJyZWR1bmRhbnRTZXQiLCAiZ2VuZXJhdGVQYXRod2F5U2V0IiwgInJlc29sdXRpb25Gb3VuZCIsICJ2aWRlb0NvZGVjRm91bmQiLCAiYXVkaW9Db2RlY0ZvdW5kIiwgImxldmVsUGFyc2VkIiwgIl9hdWRpb0NvZGVjIiwgIl92aWRlb0NvZGVjIiwgIkZSQU1FUkFURSIsICJIRENQIiwgIlBBVEhXQVkiLCAiUkVTT0xVVElPTiIsICJWSURFT19SQU5HRSIsICJwYXRod2F5Q291bnQiLCAiZmlsdGVyQW5kU29ydE1lZGlhT3B0aW9ucyIsICJmaWx0ZXJlZExldmVscyIsICJNQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SIiwgImFzc2lnblRyYWNrSWRzQnlHcm91cCIsICJ1bnNvcnRlZExldmVscyIsICJ2YWx1ZUEiLCAidmFsdWVCIiwgImZpcnN0TGV2ZWxJblBsYXlsaXN0IiwgIl90aGlzJGhscyR1c2VyQ29uZmlnIiwgImZpcnN0TGV2ZWxCaXRyYXRlIiwgInN0YXJ0aW5nQndFc3RpbWF0ZSIsICJhdWRpb09ubHkiLCAiZWRhdGEiLCAiZm9yY2VTdGFydExvYWQiLCAibmV3TGV2ZWwiLCAibGFzdExldmVsSW5kZXgiLCAibGFzdExldmVsIiwgImxhc3RQYXRod2F5SWQiLCAibGV2ZWxTd2l0Y2hpbmdEYXRhIiwgIm1hbnVhbExldmVsIiwgImNvbmZpZ1N0YXJ0TGV2ZWwiLCAiX2RhdGEkZGVsaXZlcnlEaXJlY3RpMiIsICJfZGF0YSRkZWxpdmVyeURpcmVjdGkiLCAiX3RoaXMkY3VycmVudExldmVsIiwgImNoZWNrTWF4QXV0b1VwZGF0ZWQiLCAiS2V5TG9hZGVyIiwgImtleVVyaVRvS2V5SW5mbyIsICJfbG9hZGVyJGNvbnRleHQiLCAiY3JlYXRlS2V5TG9hZEVycm9yIiwgImxvYWRpbmdGcmFnIiwgIl9rZXlJbmZvIiwgIl9rZXlJbmZvMiIsICJrZXlMb2FkUHJvbWlzZSIsICJfa2V5SW5mbyRtZWRpYUtleVNlc3MiLCAibG9hZEtleUhUVFAiLCAibG9hZEtleUVNRSIsICJnZXRTb3VyY2VCdWZmZXIiLCAiU291cmNlQnVmZmVyIiwgIldlYktpdFNvdXJjZUJ1ZmZlciIsICJpc01TRVN1cHBvcnRlZCIsICJjb2RlY3NGb3JWaWRlb0NvbnRhaW5lciIsICJjb2RlY0ZvckF1ZGlvQ29udGFpbmVyIiwgImNoYW5nZVR5cGVTdXBwb3J0ZWQiLCAiX3NvdXJjZUJ1ZmZlciRwcm90b3R5IiwgIlNUQUxMX01JTklNVU1fRFVSQVRJT05fTVMiLCAiTUFYX1NUQVJUX0dBUF9KVU1QIiwgIlNLSVBfQlVGRkVSX0hPTEVfU1RFUF9TRUNPTkRTIiwgIlNLSVBfQlVGRkVSX1JBTkdFX1NUQVJUIiwgIkdhcENvbnRyb2xsZXIiLCAibnVkZ2VSZXRyeSIsICJzdGFsbFJlcG9ydGVkIiwgInN0YWxsZWQiLCAibW92ZWQiLCAicG9sbCIsICJhY3RpdmVGcmFnIiwgInNlZWtlZCIsICJiZWdpblNlZWsiLCAic3RhbGxlZER1cmF0aW9uIiwgImhhc0Vub3VnaEJ1ZmZlciIsICJub0J1ZmZlckdhcCIsICJzdGFydEp1bXAiLCAibWF4U3RhcnRHYXBKdW1wIiwgInBhcnRpYWxPckdhcCIsICJfdHJ5U2tpcEJ1ZmZlckhvbGUiLCAidG5vdyIsICJfcmVwb3J0U3RhbGwiLCAiYnVmZmVyZWRXaXRoSG9sZXMiLCAiX3RyeUZpeEJ1ZmZlclN0YWxsIiwgInN0YWxsZWREdXJhdGlvbk1zIiwgIl90cnlOdWRnZUJ1ZmZlciIsICJidWZmZXJTdGFydmVkIiwgIndhaXRpbmciLCAiZ2FwTGVuZ3RoIiwgInN0YXJ0R2FwIiwgInN0YXJ0RnJhZyIsICJzdGFydFByb3Zpc2lvbmVkIiwgIm1vcmVUb0xvYWQiLCAicHJvdmlzaW9uZWQiLCAidGFyZ2V0VGltZSIsICJTdHJlYW1Db250cm9sbGVyIiwgImF1ZGlvQ29kZWNTd2FwIiwgImdhcENvbnRyb2xsZXIiLCAiX2ZvcmNlU3RhcnRMb2FkIiwgImZyYWdQbGF5aW5nIiwgIm9udnBsYXlpbmciLCAib252c2Vla2VkIiwgImZyYWdMYXN0S2JwcyIsICJjb3VsZEJhY2t0cmFjayIsICJhdWRpb0NvZGVjU3dpdGNoIiwgIm9uRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkIiwgIm9uQXVkaW9UcmFja1N3aXRjaGVkIiwgImNoZWNrQnVmZmVyIiwgImNoZWNrRnJhZ21lbnRDaGFuZ2VkIiwgImdldE1haW5Gd2RCdWZmZXJJbmZvIiwgImxhc3REZXRhaWxzIiwgIl90aGlzJGJhY2t0cmFja0ZyYWdtZSIsICJiYWNrdHJhY2tGcmFnIiwgIl9sb2FkQml0cmF0ZVRlc3RGcmFnIiwgImZvbGxvd2luZ0J1ZmZlcmVkRnJhZyIsICJpbW1lZGlhdGVMZXZlbFN3aXRjaCIsICJhYm9ydEN1cnJlbnRGcmFnIiwgImZldGNoZGVsYXkiLCAiZnJhZ1BsYXlpbmdDdXJyZW50IiwgIm5leHRMZXZlbElkIiwgImJ1ZmZlcmVkRnJhZyIsICJuZXh0QnVmZmVyZWRGcmFnIiwgIm1heFN0YXJ0IiwgInN0YXJ0UHRzIiwgIm9uTWVkaWFQbGF5aW5nIiwgIm9uTWVkaWFTZWVrZWQiLCAiYWFjIiwgImhlYWFjIiwgIl9jdXJMZXZlbCRkZXRhaWxzIiwgIm5ld0xldmVsSWQiLCAiX2dldEF1ZGlvQ29kZWMiLCAiZnJvbUFsdEF1ZGlvIiwgIm1lZGlhVHJhY2siLCAiYWx0ZXJuYXRlIiwgInN3YXBBdWRpb0NvZGVjIiwgImlzRmlyc3RGcmFnbWVudCIsICJpc0ZpcnN0SW5EaXNjb250aW51aXR5IiwgImJhY2t0cmFjayIsICJ1YSIsICJhdWRpb01ldGFkYXRhIiwgImZyYWdDdXJyZW50TGV2ZWwiLCAiTEVWRUxfU1dJVENIRUQiLCAiY3VycmVudEZyYWciLCAiY3VycmVudFByb2dyYW1EYXRlVGltZSIsICJlcG9jTXMiLCAiSGxzIiwgIkRlZmF1bHRDb25maWciLCAiY29yZUNvbXBvbmVudHMiLCAibmV0d29ya0NvbnRyb2xsZXJzIiwgIl9lbWl0dGVyIiwgIl9hdXRvTGV2ZWxDYXBwaW5nIiwgIl9tYXhIZGNwTGV2ZWwiLCAibGF0ZW5jeUNvbnRyb2xsZXIiLCAibGV2ZWxDb250cm9sbGVyIiwgIl9tZWRpYSIsICJ0cmlnZ2VyaW5nRXhjZXB0aW9uIiwgIkNvbmZpZ0FickNvbnRyb2xsZXIiLCAiQ29uZmlnQnVmZmVyQ29udHJvbGxlciIsICJDb25maWdDYXBMZXZlbENvbnRyb2xsZXIiLCAiQ29uZmlnRXJyb3JDb250cm9sbGVyIiwgIkNvbmZpZ0Zwc0NvbnRyb2xsZXIiLCAicGxheUxpc3RMb2FkZXIiLCAiaWQzVHJhY2tDb250cm9sbGVyIiwgIkNvbmZpZ0NvbnRlbnRTdGVlcmluZ0NvbnRyb2xsZXIiLCAiY3JlYXRlQ29udHJvbGxlciIsICJBdWRpb1N0cmVhbUNvbnRyb2xsZXJDbGFzcyIsICJTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXJDbGFzcyIsICJDb250cm9sbGVyQ2xhc3MiLCAiY29tcG9uZW50cyIsICJjb250cm9sbGVySW5zdGFuY2UiLCAiZXZlbnRPYmplY3QiLCAibGlzdGVuZXJDb3VudCIsICJERVNUUk9ZSU5HIiwgImRldGFjaE1lZGlhIiwgImNvbXBvbmVudCIsICJhdHRhY2hNZWRpYSIsICJsb2FkU291cmNlIiwgImxvYWRlZFNvdXJjZSIsICJsb2FkaW5nU291cmNlIiwgInNob3VsZFN0YXJ0Q2FwcGluZyIsICJuZXdDYXBMZXZlbFRvUGxheWVyU2l6ZSIsICJwbGF5aW5nRGF0ZSIsICJfdGhpcyRhdWRpb1RyYWNrQ29udHIiLCAiX3RoaXMkc3VidGl0bGVUcmFja0NvIiwgImF1ZGlvVHJhY2tJZCIsICJzdWJ0aXRsZVRyYWNrSWQiLCAibGlua1JlZ2V4IiwgInRpbWVzdGFtcFJlZ2V4IiwgImdldFNvdXJjZURldGFpbHMiLCAidmlkZW9FbGVtZW50IiwgInNvdXJjZUVsZW1lbnQiLCAic3JjIiwgInBhcnNlTTN1OFZpZGVvIiwgImNvbnRhaW5lciIsICJkZXRhaWxzIiwgImluaXRpYWxpemVITFMiLCAidGltZXN0YW1wTWF0Y2giLCAic3RhcnRUaW1lIiwgImVuZFRpbWUiLCAiSGxzIiwgImhscyIsICJDeXVUb29sa2l0UGx1Z2luIiwgIkRFRkFVTFRfU0VUVElOR1MiLCAiZWwiLCAiY3R4IiwgInBhcnNlTTN1OFZpZGVvIiwgIkNsaWNrQ29weUJsb2NrIiwgIkN5dVRvb2xraXRTZXR0aW5nVGFiIiwgInN0eWxlIiwgInN2Z0hUTUwiLCAic3ZnRWxlbWVudCIsICJhY3RpdmVMZWFmVmlldyIsICJpc0NvbG9yR2FsbGVyeSIsICJpc0ljb25HYWxsZXJ5IiwgIkNvbG9yR2FsbGVyeSIsICJJY29uR2FsbGVyeSIsICJsZWFmIiwgImNvbnRhaW5lciIsICJzcGVha2VyRWxlbWVudHMiLCAicHJveHlQcmVmaXgiLCAiaXNQbGF5aW5nIiwgImVsZW1lbnQiLCAid29yZCIsICJwbGF5TGluayIsICJ0dHNVcmwiLCAicHJveGllZFVybCIsICJyZXNwb25zZSIsICJibG9iIiwgImJsb2JVcmwiLCAiYXVkaW8iLCAiY2FjaGVkQXVkaW8iLCAiZXJyIiwgIl9hIiwgImltZ3MiLCAiaW1nIiwgInNwYW4iLCAiaW1nU3JjIiwgImltZ0FsdCIsICJpZnJhbWUiLCAidmF1bHQiLCAiZmlsZSIsICJkYXRhIiwgImgxQ291bnQiLCAiaDJDb3VudCIsICJoMU51bWJlcnMiLCAiaDJOdW1iZXJzIiwgIl8iLCAiaSIsICJoM051bWJlcnMiLCAiaDNOdW1iZXJzMiIsICJoM0NvdW50ZXJzIiwgImgyQ291bnRlcnMiLCAiY3VySDJJbmRleCIsICJjdXJIMUluZGV4IiwgImluc2lkZUNvZGVCbG9jayIsICJjbGVhbkhlYWRpbmciLCAibGluZSIsICJoMVJlZ2V4IiwgImgzUmVnZXgiLCAiaDNSZWdleDIiLCAidGVzdEFuZFJlcGxhY2VIMSIsICJwYXR0ZXJuIiwgInRleHQiLCAicHJlZml4IiwgInRpdGxlIiwgInRlc3RBbmRSZXBsYWNlSDIiLCAidGVzdEFuZFJlcGxhY2VIMyIsICJoMlByZWZpeCIsICJpc1NraXAiLCAibGluZXMiLCAiX2IiLCAiX2VkaXRvciIsICJfbWFya2Rvd25WaWV3IiwgIm9wZW5Ob3RlQnlQYXRoIiwgIm5vdGVQYXRoIiwgImFic3RyYWN0RmlsZSIsICJuZXdMZWFmIl0KfQo=
